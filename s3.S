/*  */
/*  +-------------------------------------------------------------------------+ */
/*  |     This file is generated by The Interactive Disassembler (IDA)        | */
/*  |     Copyright (c) 2003 by DataRescue sa/nv, <ida@datarescue.com>        | */
/*  |  Licensed to: Michael Wolski - Personal Use (1-user Standard 07/2003)   | */
/*  +-------------------------------------------------------------------------+ */
/*  */

/*  Processor:        68000 */
/*  Target Assembler: 680x0 Assembler in MRI compatible mode */
/*  This file should be compiled with "as -M" */

/*  --------------------------------------------------------------------------- */
		cpu 68000
		.include "sonic3k.macrosetup.S"	/*  .include a few basic macros */
		.include "sonic3k.macros.S"		/*  .include some simplifying macros and functions */
		.include "sonic3k.constants.S"		/*  .include some constants */
		.include "s3.constants.S"		/*  RAM addresses moved around between S3 and S&K */
/*  --------------------------------------------------------------------------- */

Vectors:	.long	Vectors,	EntryPoint,	ErrorTrap,	ErrorTrap	/*  0 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  4 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  8 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  12 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  16 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  20 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  24 */
		.long	JmpTo_HInt,	ErrorTrap,	VInt,		ErrorTrap	/*  28 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  32 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  36 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  40 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  44 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  48 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  52 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  56 */
		.long	ErrorTrap,	ErrorTrap,	ErrorTrap,	ErrorTrap	/*  60 */
Header:		.byte "SEGA GENESIS    "
Copyright:	.byte "(C)SEGA 1993.NOV"
Domestic_Name:	.byte "SONIC THE             HEDGEHOG 3                "
Overseas_Name:	.byte "SONIC THE             HEDGEHOG 3                "
Serial_Number:	.byte "GM MK-1079 -00"
Checksum:	.word 0xA8F2
Input:		.byte "J               "
ROMStartLoc:	.long Vectors
ROMEndLoc:	.long EndOfROM-1
RAMStartLoc:	.long (RAM_start&0xFFFFFF)
RAMEndLoc:	.long (RAM_start&0xFFFFFF)+0xFFFF
CartRAM_Info:	.byte "RA"
CartRAM_Type:	.word %1111100000100000
CartRAMStartLoc:.long 0x00200001
CartRAMEndLoc:	.long 0x002003FF
Modem_Info:	.byte "  "
		.byte "          "
Unknown_Header:	.word 1
		.byte "      "
		.word 0x20, 0
		.long 0x3FFFFF
		.long 0x200001
		.long 0x2003FF
		.byte "                "
Country_Code:	.byte "U               "
/*  --------------------------------------------------------------------------- */

ErrorTrap:
		nop
		nop
		bras	ErrorTrap
/*  --------------------------------------------------------------------------- */

EntryPoint:
		lea	(System_stack):w,%sp
		tstl	(HW_Port_1_Control-1):l
		bnes	loc_218
		tstw	(HW_Expansion_Control-1):l

loc_218:
		bnes	Init_SkipPowerOn
		lea	SetupValues(%pc),%a5
		movemw	(%a5)+,%d5-%d7
		moveml	(%a5)+,%a0-%a4
		moveb	HW_Version-Z80_bus_request(%a1),%d0
		andib	#0xF,%d0
		beqs	SkipSecurity
		movel	#'SEGA',Security_addr-Z80_bus_request(%a1)

SkipSecurity:
		movew	(%a4),%d0
		moveq	#0,%d0
		moveal	%d0,%a6
		move	%a6,usp
		moveq	#0x17,%d1

Init_VDPRegs:
		moveb	(%a5)+,%d5
		movew	%d5,(%a4)
		addw	%d7,%d5
		dbf	%d1,Init_VDPRegs
		movel	(%a5)+,(%a4)
		movew	%d0,(%a3)
		movew	%d7,(%a1)
		movew	%d7,(%a2)

WaitForZ80:
		btst	%d0,(%a1)
		bnes	WaitForZ80
		moveq	#0x25,%d2

Init_SoundRAM:
		moveb	(%a5)+,(%a0)+
		dbf	%d2,Init_SoundRAM
		movew	%d0,(%a2)
		movew	%d0,(%a1)
		movew	%d7,(%a2)

Init_ClearRAM:
		movel	%d0,-(%a6)
		dbf	%d6,Init_ClearRAM
		movel	(%a5)+,(%a4)
		movel	(%a5)+,(%a4)
		moveq	#0x1F,%d3

Init_ClearCRAM:
		movel	%d0,(%a3)
		dbf	%d3,Init_ClearCRAM
		movel	(%a5)+,(%a4)
		moveq	#0x13,%d4

Init_ClearVSRAM:
		movel	%d0,(%a3)
		dbf	%d4,Init_ClearVSRAM
		moveq	#3,%d5

Init_InputPSG:
		moveb	(%a5)+,PSG_input-VDP_data_port(%a3)
		dbf	%d5,Init_InputPSG
		movew	%d0,(%a2)
		moveml	(%a6),%d0-%a6
		move	#0x2700,sr

Init_SkipPowerOn:
		bras	Test_CountryCode
/*  --------------------------------------------------------------------------- */
SetupValues:	.word 0x8000, 0x3FFF, 0x100
		.long Z80_RAM
		.long Z80_bus_request
		.long Z80_reset
		.long VDP_data_port, VDP_control_port
VDPInitValues:	.byte 4			/*  Command 0x8004 - HInt off, Enable HV counter read */
		.byte 0x14		/*  Command 0x8114 - Display off, VInt off, DMA on, PAL off */
		.byte 0x30		/*  Command 0x8230 - Scroll A Address 0xC000 */
		.byte 0x3C		/*  Command 0x833C - Window Address 0xF000 */
		.byte 7			/*  Command 0x8407 - Scroll B Address 0xE000 */
		.byte 0x6C		/*  Command 0x856C - Sprite Table Addres 0xD800 */
		.byte 0			/*  Command 0x8600 - Null */
		.byte 0			/*  Command 0x8700 - Background color Pal 0 Color 0 */
		.byte 0			/*  Command 0x8800 - Null */
		.byte 0			/*  Command 0x8900 - Null */
		.byte 0xFF		/*  Command 0x8AFF - Hint timing 0xFF scanlines */
		.byte 0			/*  Command 0x8B00 - Ext Int off, VScroll full, HScroll full */
		.byte 0x81		/*  Command 0x8C81 - 40 cell mode, shadow/highlight off, no interlace */
		.byte 0x37		/*  Command 0x8D37 - HScroll Table Address 0xDC00 */
		.byte 0			/*  Command 0x8E00 - Null */
		.byte 1			/*  Command 0x8F01 - VDP auto increment 1 byte */
		.byte 1			/*  Command 0x9001 - 64x32 cell scroll size */
		.byte 0			/*  Command 0x9100 - Window H left side, Base Point 0 */
		.byte 0			/*  Command 0x9200 - Window V upside, Base Point 0 */
		.byte 0xFF		/*  Command 0x93FF - DMA Length Counter 0xFFFF */
		.byte 0xFF		/*  Command 0x94FF - See above */
		.byte 0			/*  Command 0x9500 - DMA Source Address 0x0 */
		.byte 0			/*  Command 0x9600 - See above */
		.byte 0x80		/*  Command 0x9700	- See above + VRAM fill mode */
VDPInitValues_End:
		.long 0x40000080		/*  value for VRAM write mode */

Z80StartupCodeBegin:
		cpu Z80			/*  start assembling Z80 code */
		phase 0			/*  pretend we're at address 0 */

		xor	a		/*  clear a to 0 */
		ld	bc,((Z80_RAM_end-Z80_RAM)-Z80StartupCodeEnd)-1	/*  prepare to loop this many times */
		ld	de,Z80StartupCodeEnd+1	/*  initial destination address */
		ld	hl,Z80StartupCodeEnd	/*  initial source address */
		ld	%sp,hl		/*  set the address the stack starts at */
		ld	(hl),a		/*  set first byte of the stack to 0 */
		ldir			/*  loop to fill the stack (entire remaining available Z80 RAM) with 0 */
		pop	ix		/*  clear ix */
		pop	iy		/*  clear iy */
		ld	i,a		/*  clear i */
		ld	r,a		/*  clear r */
		pop	de		/*  clear de */
		pop	hl		/*  clear hl */
		pop	af		/*  clear af */
		ex	af,af'		/*  swap af with af' */
		exx			/*  swap bc/de/hl with their shadow registers too */
		pop	bc		/*  clear bc */
		pop	de		/*  clear de */
		pop	hl		/*  clear hl */
		pop	af		/*  clear af */
		ld	%sp,hl		/*  clear %sp */
		di			/*  clear iff1 (for interrupt handler) */
		im	1		/*  interrupt handling mode = 1 */
		ld	(hl),0E9h	/*  replace the first instruction with a jump to itself */
		jp	(hl)		/*  jump to the first instruction (to stay there forever) */

Z80StartupCodeEnd:
		dephase			/*  stop pretending */
		cpu 68000
		padding off

		.word 0x8104		/*  value for VDP display mode */
		.word 0x8F02		/*  value for VDP increment */
		.long 0xC0000000		/*  value for CRAM write mode */
		.long 0x40000010		/*  value for VSRAM write mode */
PSGInitValues:	.byte 0x9F, 0xBF, 0xDF, 0xFF	/*  values for PSG channel volumes */
/*  --------------------------------------------------------------------------- */

Test_CountryCode:
		tstw	(VDP_control_port):l
		clrl	%d0
		moveb	(HW_Version):l,%d0
		lsrb	#6,%d0
		andib	#3,%d0
		lea	asc_440(%pc),%a0
		moveb	(%a0,%d0.w),%d0
		tstb	%d0
		beqw	loc_408
		lea	(Country_Code):l,%a0
		movew	#0xF,%d1

loc_330:
		cmpb	(%a0),%d0
		beqw	Test_Checksum
		addql	#1,%a0
		dbf	%d1,loc_330
		lea	(VDP_data_port):l,%a4
		lea	(VDP_control_port):l,%a5
		movew	#-0x7E9C,(%a5)
		movew	#-0x7DD0,(%a5)
		movew	#-0x737F,(%a5)
		movew	#-0x70FE,(%a5)
		movew	#-0x6FFF,(%a5)
		movel	#-0x3FFE0000,(%a5)
		movew	#0xEEE,(%a4)
		movel	#0x40000000,(%a5)
		lea	byte_4C2(%pc),%a0
		movew	#0x3A,%d0
		movel	#0x10000000,%d2

loc_37A:
		movew	#7,%d6

loc_37E:
		moveb	(%a0)+,%d1
		movel	#0,%d4
		movew	#7,%d5

loc_38A:
		roll	#4,%d2
		rorb	#1,%d1
		bccs	loc_392
		orl	%d2,%d4

loc_392:
		dbf	%d5,loc_38A
		movel	%d4,(%a4)
		dbf	%d6,loc_37E
		dbf	%d0,loc_37A
		moveb	#8,%d1
		lea	byte_458(%pc),%a0
		moveb	(%a0)+,%d0
		bsrw	sub_40A
		lea	(Country_Code):l,%a1

loc_3B4:
		cmpib	#0x20,(%a1)
		beqs	loc_3FC
		lea	word_444(%pc),%a2

loc_3BE:
		movew	(%a2)+,%d4
		tstb	%d4
		beqs	loc_3F8
		cmpb	(%a1),%d4
		bnes	loc_3F4
		cmpib	#0x20,1(%a1)
		bnes	loc_3E4
		cmpal	#0x1F0,%a1
		beqs	loc_3E4
		lea	byte_475(%pc),%a0
		moveb	(%a0)+,%d0
		addqw	#1,%d1
		bsrw	sub_40A

loc_3E4:
		lea	asc_440(%pc),%a0
		addal	(%a2)+,%a0
		moveb	(%a0)+,%d0
		addqw	#1,%d1
		bsrw	sub_40A
		bras	loc_3F8
/*  --------------------------------------------------------------------------- */

loc_3F4:
		addql	#4,%a2
		bras	loc_3BE
/*  --------------------------------------------------------------------------- */

loc_3F8:
		addql	#1,%a1
		bras	loc_3B4
/*  --------------------------------------------------------------------------- */

loc_3FC:
		lea	byte_478(%pc),%a0
		moveb	(%a0)+,%d0
		addqw	#1,%d1
		bsrw	sub_40A

loc_408:
		bras	loc_408

/*  =============== S U B R O U T I N E ======================================= */


sub_40A:
		moveb	%d1,%d2
		andil	#0xFF,%d2
		swap	%d2
		lsll	#7,%d2
		moveb	%d0,%d3
		andil	#0xFF,%d3
		swap	%d3
		asll	#1,%d3
		addl	%d3,%d2
		addil	#0x40000003,%d2
		movel	%d2,(%a5)

loc_42C:
		tstb	(%a0)
		beqs	locret_43E
		moveb	(%a0)+,%d2
		subib	#0x20,%d2
		andiw	#0xFF,%d2
		movew	%d2,(%a4)
		bras	loc_42C
/*  --------------------------------------------------------------------------- */

locret_43E:
		rts
/*  End of function sub_40A */

/*  --------------------------------------------------------------------------- */
asc_440:	.byte "J",0
		.byte "UE"
word_444:	.word 0x4A, 0
		.word 0x42, 0x55, 0
		.word 0x53, 0x45, 0
		.word 0x61, 0
byte_458:	.byte 6
		.byte "DEVELOPED FOR USE ONLY WITH",0
byte_475:	.byte 0x12
		.byte "&",0
byte_478:	.byte 0xF
		.byte "SYSTEMS.",0
		.byte 0xC
		.byte "NTSC MEGA DRIVE",0
		.byte 0xD
		.byte "NTSC GENESIS",0
		.byte 4
		.byte "PAL AND FRENCH SECAM MEGA DRIVE",0
byte_4C2:	.byte    0,   0,   0,   0,   0,   0,   0,   0, 0x18, 0x18, 0x18, 0x18,   0, 0x18, 0x18,   0
		.byte  0x36, 0x36, 0x48,   0,   0,   0,   0,   0, 0x12, 0x12, 0x7F, 0x12, 0x7F, 0x24, 0x24,   0
		.byte    8, 0x3F, 0x48, 0x3E,   9, 0x7E,   8,   0, 0x71, 0x52, 0x74,   8, 0x17, 0x25, 0x47,   0
		.byte  0x18, 0x24, 0x18, 0x29, 0x45, 0x46, 0x39,   0, 0x30, 0x30, 0x40,   0,   0,   0,   0,   0
		.byte   0xC, 0x10, 0x20, 0x20, 0x20, 0x10,  0xC,   0, 0x30,   8,   4,   4,   4,   8, 0x30,   0
		.byte    0,   8, 0x2A, 0x1C, 0x2A,   8,   0,   0,   8,   8,   8, 0x7F,   8,   8,   8,   0
		.byte    0,   0,   0,   0,   0, 0x30, 0x30, 0x40,   0,   0,   0, 0x7F,   0,   0,   0,   0
		.byte    0,   0,   0,   0,   0, 0x30, 0x30,   0,   1,   2,   4,   8, 0x10, 0x20, 0x40,   0
		.byte  0x1E, 0x33, 0x33, 0x33, 0x33, 0x33, 0x1E,   0, 0x18, 0x38, 0x18, 0x18, 0x18, 0x18, 0x3C,   0
		.byte  0x3E, 0x63, 0x63,  0xE, 0x38, 0x60, 0x7F,   0, 0x3E, 0x63,   3, 0x1E,   3, 0x63, 0x3E,   0
		.byte    6,  0xE, 0x1E, 0x36, 0x66, 0x7F,   6,   0, 0x7E, 0x60, 0x7E, 0x63,   3, 0x63, 0x3E,   0
		.byte  0x3E, 0x63, 0x60, 0x7E, 0x63, 0x63, 0x3E,   0, 0x3F, 0x63,   6,   6,  0xC,  0xC, 0x18,   0
		.byte  0x3E, 0x63, 0x63, 0x3E, 0x63, 0x63, 0x3E,   0, 0x3E, 0x63, 0x63, 0x3F,   3, 0x63, 0x3E,   0
		.byte    0, 0x18, 0x18,   0,   0, 0x18, 0x18,   0,   0, 0x18, 0x18,   0,   0, 0x18, 0x18, 0x20
		.byte    3,  0xC, 0x30, 0x40, 0x30,  0xC,   3,   0,   0,   0, 0x7F,   0, 0x7F,   0,   0,   0
		.byte  0x60, 0x18,   6,   1,   6, 0x18, 0x60,   0, 0x3E, 0x63,   3, 0x1E, 0x18,   0, 0x18,   0
		.byte  0x3C, 0x42, 0x39, 0x49, 0x49, 0x49, 0x36,   0, 0x1C, 0x1C, 0x36, 0x36, 0x7F, 0x63, 0x63,   0
		.byte  0x7E, 0x63, 0x63, 0x7E, 0x63, 0x63, 0x7E,   0, 0x3E, 0x73, 0x60, 0x60, 0x60, 0x73, 0x3E,   0
		.byte  0x7E, 0x63, 0x63, 0x63, 0x63, 0x63, 0x7E,   0, 0x3F, 0x30, 0x30, 0x3E, 0x30, 0x30, 0x3F,   0
		.byte  0x3F, 0x30, 0x30, 0x3E, 0x30, 0x30, 0x30,   0, 0x3E, 0x73, 0x60, 0x67, 0x63, 0x73, 0x3E,   0
		.byte  0x66, 0x66, 0x66, 0x7E, 0x66, 0x66, 0x66,   0, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,   0
		.byte   0xC,  0xC,  0xC,  0xC, 0xCC, 0xCC, 0x78,   0, 0x63, 0x66, 0x6C, 0x78, 0x6C, 0x66, 0x63,   0
		.byte  0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x7F,   0, 0x63, 0x77, 0x7F, 0x6B, 0x6B, 0x63, 0x63,   0
		.byte  0x63, 0x73, 0x7B, 0x7F, 0x6F, 0x67, 0x63,   0, 0x3E, 0x63, 0x63, 0x63, 0x63, 0x63, 0x3E,   0
		.byte  0x7E, 0x63, 0x63, 0x7E, 0x60, 0x60, 0x60,   0, 0x3E, 0x63, 0x63, 0x63, 0x6F, 0x63, 0x3F,   0
		.byte  0x7E, 0x63, 0x63, 0x7E, 0x68, 0x66, 0x67,   0, 0x3E, 0x63, 0x70, 0x3E,   7, 0x63, 0x3E,   0
		.byte  0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,   0, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x3C,   0
		.byte  0x63, 0x63, 0x63, 0x36, 0x36, 0x1C, 0x1C,   0, 0x6B, 0x6B, 0x6B, 0x6B, 0x6B, 0x7F, 0x36,   0
		.byte  0x63, 0x63, 0x36, 0x1C, 0x36, 0x63, 0x63,   0, 0x66, 0x66, 0x66, 0x3C, 0x18, 0x18, 0x18,   0
		.byte  0x7F,   7,  0xE, 0x1C, 0x38, 0x70, 0x7F,   0
/*  --------------------------------------------------------------------------- */

Test_Checksum:
		movew	(VDP_control_port):l,%d1
		btst	#1,%d1
		bnes	Test_Checksum
		btst	#6,(HW_Expansion_Control):l
		beqs	loc_6BC
		cmpil	#"init",(Checksum_string):w
		beqw	Test_Checksum_Done

loc_6BC:
		moveal	#ErrorTrap,%a0
		moveal	#ROMEndLoc,%a1
		movel	(%a1),%d0
		moveq	#0,%d1
		addw	(%a0)+,%d1
		cmpl	%a0,%d0
		nop
		nop
		moveal	#0x18E,%a1
		cmpw	(%a1),%d1
		nop
		nop
		lea	(System_stack):w,%a6
		moveq	#0,%d7
		movew	#0x7F,%d6

loc_6EA:
		movel	%d7,(%a6)+
		dbf	%d6,loc_6EA
		moveb	(HW_Version):l,%d0
		andib	#-0x40,%d0
		moveb	%d0,(Graphics_flags):w
		movel	#"init",(Checksum_string):w

Test_Checksum_Done:
		bsrw	DetectPAL
		lea	(0xFF0000):l,%a6
		moveq	#0,%d7
		movew	#0x3F7F,%d6

loc_716:
		movel	%d7,(%a6)+
		dbf	%d6,loc_716
		bsrw	Init_VDP
		bsrw	SndDrvInit
		bsrw	Init_Controllers
		jsr	(SRAM_Load):l
		moveb	#0,(Game_mode):w

GameLoop:
		moveb	(Game_mode):w,%d0
		andiw	#0x7C,%d0
		moveal	GameModes(%pc,%d0.w),%a0
		jsr	(%a0)
		bras	GameLoop
/*  --------------------------------------------------------------------------- */
GameModes:	.long Sega_Screen		/*    0 */
		.long Title_Screen		/*    4 */
		.long Level			/*    8 */
		.long Level			/*   0xC */
		.long JumpToSegaScreen		/*  0x10 */
		.long ContinueScreen		/*  0x14 */
		.long JumpToSegaScreen		/*  0x18 */
		.long LevelSelect_S2Options	/*  0x1C */
		.long S3Credits			/*  0x20 */
		.long LevelSelect_S2Options	/*  0x24 */
		.long LevelSelect_S2Options	/*  0x28 */
		.long SpecialStage		/*  0x2C */
		.long SpecialStage		/*  0x30 */
		.long SpecialStage		/*  0x34 */
		.long Competition_Menu		/*  0x38 */
		.long Competition_PlayerSelect	/*  0x3C */
		.long Competition_LevelSelect	/*  0x40 */
		.long Competition_Results	/*  0x44 */
		.long SpecialStage_Results	/*  0x48 */
		.long SaveScreen			/*  0x4C */
		.long TimeAttack_Records		/*  0x50 */
/*  --------------------------------------------------------------------------- */

JumpToSegaScreen:
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

ChecksumError2:
		movel	%d1,-(%sp)
		bsrw	Init_VDP
		movel	(%sp)+,%d1

ChecksumError2_Loop:
		movel	#0xC0000000,(VDP_control_port):l
		movew	%d7,(VDP_data_port):l
		addqw	#1,%d7
		bras	ChecksumError2_Loop
/*  --------------------------------------------------------------------------- */

ChecksumError:
		movel	#0xC0000000,(VDP_control_port):l
		moveq	#0x3F,%d7

loc_7C8:
		movew	#0xE,(VDP_data_port):l
		dbf	%d7,loc_7C8

ChecksumError_Loop:
		bras	ChecksumError_Loop

/*  =============== S U B R O U T I N E ======================================= */


DetectPAL:
		lea	(VDP_control_port):l,%a5
		movew	#0x8174,(%a5)
		moveq	#0,%d0

loc_7E2:
		movew	(%a5),%d1
		andiw	#8,%d1
		beqs	loc_7E2

loc_7EA:
		movew	(%a5),%d1
		andiw	#8,%d1
		bnes	loc_7EA

loc_7F2:
		addqw	#1,%d0
		movew	(%a5),%d1
		andiw	#8,%d1
		beqs	loc_7F2
		movew	%d0,(V_blank_cycles):w
		rts
/*  End of function DetectPAL */

/*  --------------------------------------------------------------------------- */

VInt:
		nop
		moveml	%d0-%a6,-(%sp)
		tstb	(V_int_routine):w
		beqw	VInt_0_Main

loc_810:
		movew	(VDP_control_port):l,%d0
		andiw	#8,%d0
		beqs	loc_810
		movel	#0x40000010,(VDP_control_port):l
		movel	(V_scroll_value):w,(VDP_data_port):l
		btst	#6,(Graphics_flags):w
		beqs	loc_83E
		movew	#0x700,%d0

loc_83A:
		dbf	%d0,loc_83A

loc_83E:
		moveb	(V_int_routine):w,%d0
		moveb	#0,(V_int_routine):w
		movew	#1,(H_int_flag):w
		andiw	#0x3E,%d0
		movew	VInt_Table(%pc,%d0.w),%d0
		jsr	VInt_Table(%pc,%d0.w)

VInt_Done:
		addql	#1,(V_int_run_count):w
		moveml	(%sp)+,%d0-%a6
		rte
/*  --------------------------------------------------------------------------- */
VInt_Table:	.word VInt_0-VInt_Table
		.word VInt_2-VInt_Table
		.word VInt_4-VInt_Table
		.word VInt_6-VInt_Table
		.word VInt_8-VInt_Table
		.word VInt_A_C-VInt_Table
		.word VInt_A_C-VInt_Table
		.word VInt_E-VInt_Table
		.word VInt_10-VInt_Table
		.word VInt_12-VInt_Table
		.word VInt_14-VInt_Table
		.word VInt_16-VInt_Table
		.word VInt_18-VInt_Table
		.word VInt_1A-VInt_Table
		.word VInt_1C-VInt_Table
		.word VInt_1E-VInt_Table
/*  --------------------------------------------------------------------------- */

VInt_0:
		addqw	#4,%sp

VInt_0_Main:
		addqw	#1,(Lag_frame_count):w
		cmpib	#0x88,(Game_mode):w
		beqs	VInt_0_Level
		cmpib	#0x8C,(Game_mode):w
		beqs	VInt_0_Level
		cmpib	#8,(Game_mode):w
		beqs	VInt_0_Level
		cmpib	#0xC,(Game_mode):w
		beqs	VInt_0_Level
		movew	#0x100,(Z80_bus_request):l

loc_8B2:
		btst	#0,(Z80_bus_request):l
		bnes	loc_8B2
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		bras	VInt_Done
/*  --------------------------------------------------------------------------- */

VInt_0_Level:
		tstb	(Water_flag):w
		beqw	VInt_0_NoWater
		movew	(VDP_control_port):l,%d0
		btst	#6,(Graphics_flags):w
		beqs	loc_8E8
		movew	#0x700,%d0

loc_8E4:
		dbf	%d0,loc_8E4

loc_8E8:
		movew	#1,(H_int_flag):w
		movew	#0x100,(Z80_bus_request):l

loc_8F6:
		btst	#0,(Z80_bus_request):l
		bnes	loc_8F6
		tstb	(Water_full_screen_flag):w
		bnes	VInt_0_FullyUnderwater
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69016B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	VInt_0_Water_Cont
/*  --------------------------------------------------------------------------- */

VInt_0_FullyUnderwater:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69076AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

VInt_0_Water_Cont:
		movew	(H_int_counter_command):w,(%a5)
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		braw	VInt_Done
/*  --------------------------------------------------------------------------- */

VInt_0_NoWater:
		movew	(VDP_control_port):l,%d0
		btst	#6,(Graphics_flags):w
		beqs	loc_97A
		movew	#0x700,%d0

loc_976:
		dbf	%d0,loc_976

loc_97A:
		movew	#1,(H_int_flag):w
		movew	(H_int_counter_command):w,(VDP_control_port):l
		movew	#0x100,(Z80_bus_request):l

loc_990:
		btst	#0,(Z80_bus_request):l
		bnes	loc_990
		tstw	(Competition_mode):w
		beqs	VInt_0_Done
		movel	#0x40000010,(VDP_control_port):l
		movel	(V_scroll_value):w,(VDP_data_port):l
		tstw	(Use_normal_%sprite_table):w
		beqs	loc_9DE
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69036B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	VInt_0_Done
/*  --------------------------------------------------------------------------- */

loc_9DE:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69436AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

VInt_0_Done:
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		braw	VInt_Done
/*  --------------------------------------------------------------------------- */

VInt_2:
		bsrw	Do_ControllerPal
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6C40,(%a5)
		movel	#-0x690F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		jsr	(SegaScr_VInt):l
		tstw	(Demo_timer):w
		beqw	locret_A4C
		subqw	#1,(Demo_timer):w

locret_A4C:
		rts
/*  --------------------------------------------------------------------------- */

VInt_14:
		moveb	(V_int_run_count+3):w,%d0
		andiw	#0xF,%d0
		bnes	loc_A76
		movew	#0x100,(Z80_bus_request):l

loc_A60:
		btst	#0,(Z80_bus_request):l
		bnes	loc_A60
		bsrw	Poll_Controllers
		movew	#0,(Z80_bus_request):l

loc_A76:
		tstw	(Demo_timer):w
		beqw	locret_A82
		subqw	#1,(Demo_timer):w

locret_A82:
		rts
/*  --------------------------------------------------------------------------- */

VInt_4:
		bsrw	TitleAnim_FlipBuffer
		bsrw	Do_ControllerPal
		movew	(Ctrl_1):w,(Ctrl_1_title):w
		bsrw	Process_Nem_Queue
		tstw	(Demo_timer):w
		beqw	locret_AA2
		subqw	#1,(Demo_timer):w

locret_AA2:
		rts
/*  --------------------------------------------------------------------------- */

VInt_6:
		bsrw	Do_ControllerPal
		rts
/*  --------------------------------------------------------------------------- */

VInt_10:
		cmpib	#0x34,(Game_mode):w
		beqw	VInt_1C

VInt_8:
		movew	#0x100,(Z80_bus_request):l

loc_ABC:
		btst	#0,(Z80_bus_request):l
		bnes	loc_ABC
		bsrw	Poll_Controllers
		tstb	(Water_full_screen_flag):w
		bnes	loc_AF6
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69016B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	loc_B1A
/*  --------------------------------------------------------------------------- */

loc_AF6:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69076AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_B1A:
		movew	(H_int_counter_command):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6C40,(%a5)
		movel	#-0x690F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		tstw	(Competition_mode):w
		beqs	loc_B84
		tstw	(Switch_%sprite_table):w
		beqs	loc_B58
		clrw	(Switch_%sprite_table):w
		eoriw	#-1,(Use_normal_%sprite_table):w

loc_B58:
		tstw	(Use_normal_%sprite_table):w
		bnes	loc_B84
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69436AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	loc_BA8
/*  --------------------------------------------------------------------------- */

loc_B84:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69036B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_BA8:
		bsrw	Process_DMA_Queue
		movel	(V_scroll_value_P2):w,(V_scroll_value_P2_copy):w
		jsr	(SpecialVInt_Function):l
		jsr	(VInt_DrawLevel):l
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		move	#0x2300,sr
		tstb	(Water_flag):w
		beqs	loc_BE8
		cmpib	#0x5C,(H_int_counter):w
		bccs	loc_BE8
		moveb	#1,(Do_Updates_in_H_int):w
		jmp	(Set_Kos_Bookmark):l
/*  --------------------------------------------------------------------------- */

loc_BE8:
		bsrs	Do_Updates
		jmp	(Set_Kos_Bookmark):l

/*  =============== S U B R O U T I N E ======================================= */


Do_Updates:
		jsr	(UpdateHUD):l
		movew	#0,(Lag_frame_count):w
		bsrw	Process_Nem_Queue_2
		tstw	(Demo_timer):w
		beqw	locret_C0C
		subqw	#1,(Demo_timer):w

locret_C0C:
		rts
/*  End of function Do_Updates */

/*  --------------------------------------------------------------------------- */

VInt_A_C:
		movew	#0x100,(Z80_bus_request):l

loc_C16:
		btst	#0,(Z80_bus_request):l
		bnes	loc_C16
		bsrw	Poll_Controllers
		tstb	(Water_full_screen_flag):w
		bnes	loc_C50
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69016B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	loc_C74
/*  --------------------------------------------------------------------------- */

loc_C50:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69076AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_C74:
		movew	(H_int_counter_command):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6C40,(%a5)
		movel	#-0x690F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		tstw	(Competition_mode):w
		beqs	loc_CDE
		tstw	(Switch_%sprite_table):w
		beqs	loc_CB2
		clrw	(Switch_%sprite_table):w
		eoriw	#-1,(Use_normal_%sprite_table):w

loc_CB2:
		tstw	(Use_normal_%sprite_table):w
		bnes	loc_CDE
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69436AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	loc_D02
/*  --------------------------------------------------------------------------- */

loc_CDE:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69036B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_D02:
		bsrw	Process_DMA_Queue
		movel	(V_scroll_value_P2):w,(V_scroll_value_P2_copy):w
		jsr	(nullsub_1):l
		movew	#0,(Z80_bus_request):l
		bsrw	Process_Nem_Queue
		jmp	(Set_Kos_Bookmark):l
/*  --------------------------------------------------------------------------- */

VInt_E:
		bsrw	Do_ControllerPal
		moveb	#0xE,(V_int_routine):w
		rts
/*  --------------------------------------------------------------------------- */

VInt_12:
		bsrw	Do_ControllerPal
		movew	(H_int_counter_command):w,(%a5)
		braw	Process_Nem_Queue
/*  --------------------------------------------------------------------------- */

VInt_18:
		movew	#0x100,(Z80_bus_request):l

loc_D44:
		btst	#0,(Z80_bus_request):l
		bnes	loc_D44
		bsrw	Poll_Controllers
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69016B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69036B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6C40,(%a5)
		movel	#-0x690F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bclr	#0,(_unkFA88):w
		beqs	loc_DEA
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BEF6D00,(%a5)
		movel	#-0x696F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x4000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_DEA:
		bsrw	Process_DMA_Queue
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		rts
/*  --------------------------------------------------------------------------- */

VInt_16:
		movew	#0x100,(Z80_bus_request):l

loc_E04:
		btst	#0,(Z80_bus_request):l
		bnes	loc_E04
		bsrw	Poll_Controllers
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69016B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69036B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6C40,(%a5)
		movel	#-0x690F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bsrw	Process_DMA_Queue
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		bsrw	Process_Nem_Queue
		tstw	(Demo_timer):w
		beqw	locret_E9E
		subqw	#1,(Demo_timer):w

locret_E9E:
		rts
/*  --------------------------------------------------------------------------- */

VInt_1A:
		bsrw	Do_ControllerPal
		bsrw	Process_Nem_Queue
		jmp	(Set_Kos_Bookmark):l
/*  --------------------------------------------------------------------------- */

VInt_1C:
		bsrw	Rotate_SSPal
		bsrw	Do_ControllerPal
		bsrw	Update_SSMap
		tstw	(Demo_timer):w
		beqw	loc_EC6
		subqw	#1,(Demo_timer):w

loc_EC6:
		jmp	(Set_Kos_Bookmark):l
/*  --------------------------------------------------------------------------- */

VInt_1E:
		bsrs	Do_ControllerPal
		moveal	(_unkEF44_1):w,%a0
		jsr	(%a0)
		bsrw	Process_Nem_Queue_2
		jmp	(Set_Kos_Bookmark):l

/*  =============== S U B R O U T I N E ======================================= */


Do_ControllerPal:
		movew	#0x100,(Z80_bus_request):l

loc_EE6:
		btst	#0,(Z80_bus_request):l
		bnes	loc_EE6
		bsrw	Poll_Controllers
		tstb	(Water_full_screen_flag):w
		bnes	loc_F20
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69016B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	loc_F44
/*  --------------------------------------------------------------------------- */

loc_F20:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFF6CC0,(%a5)
		movel	#-0x69076AC0,(%a5)
		movew	#-0x6881,(%a5)
		movew	#-0x4000,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_F44:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69036B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6C40,(%a5)
		movel	#-0x690F6B00,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7000,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bsrw	Process_DMA_Queue
		bsrw	nullsub_1
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function Do_ControllerPal */

/*  --------------------------------------------------------------------------- */

JmpTo_HInt:
		jmp	(H_int_jump):w
/*  --------------------------------------------------------------------------- */

HInt:
		tstw	(H_int_flag):w
		beqw	HInt_Done
		movew	#0,(H_int_flag):w
		movel	%a5,-(%sp)
		movel	%d0,-(%sp)

loc_FB4:
		movew	(VDP_control_port):l,%d0
		andiw	#4,%d0
		beqs	loc_FB4
		movew	(VDP_reg_1_command):w,%d0
		andib	#-0x41,%d0
		movew	%d0,(VDP_control_port):l
		movel	#0x40000010,(VDP_control_port):l
		movel	(V_scroll_value_P2_copy):w,(VDP_data_port):l
		movew	#0x100,(Z80_bus_request):l

loc_FE8:
		btst	#0,(Z80_bus_request):l
		bnes	loc_FE8
		tstw	(Use_normal_%sprite_table):w
		beqs	loc_101E
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69426A80,(%a5)

loc_100A:
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		bras	loc_1042
/*  --------------------------------------------------------------------------- */

loc_101E:
		lea	(VDP_control_port):l,%a5
		movel	#-0x6BFE6CC0,(%a5)
		movel	#-0x69416A40,(%a5)
		movew	#-0x6881,(%a5)
		movew	#0x7800,(%a5)
		movew	#0x83,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)

loc_1042:
		movew	#0,(Z80_bus_request):l

loc_104A:
		movew	(VDP_control_port):l,%d0
		andiw	#4,%d0
		beqs	loc_104A
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		movel	(%sp)+,%d0
		moveal	(%sp)+,%a5

HInt_Done:
		rte
/*  --------------------------------------------------------------------------- */

HInt3:
		tstw	(H_int_flag):w
		beqs	HInt3_Done
		movew	#0,(H_int_flag):w
		moveml	%d0-%d1/%a0-%a2,-(%sp)
		lea	(VDP_data_port):l,%a1
		movew	#0x8AFF,VDP_control_port-VDP_data_port(%a1)
		movew	#0x100,(Z80_bus_request):l

loc_108E:
		btst	#0,(Z80_bus_request):l
		bnes	loc_108E
		moveal	(Water_palette_data_addr):w,%a2
		moveq	#0xC,%d0

loc_109E:
		dbf	%d0,loc_109E
		movew	(%a2)+,%d1
		moveb	(H_int_counter):w,%d0
		subib	#-0x38,%d0
		bcss	loc_10B2
		subb	%d0,%d1
		bcss	loc_10D6

loc_10B2:
		movew	(%a2)+,%d0
		lea	(Water_palette):w,%a0
		addaw	%d0,%a0
		addiw	#-0x4000,%d0
		swap	%d0
		movel	%d0,VDP_control_port-VDP_data_port(%a1)
		movel	(%a0)+,(%a1)
		movew	(%a0)+,(%a1)
		nop
		nop
		moveq	#0x24,%d0

loc_10CE:
		dbf	%d0,loc_10CE
		dbf	%d1,loc_10B2

loc_10D6:
		movew	#0,(Z80_bus_request):l
		moveml	(%sp)+,%d0-%d1/%a0-%a2
		tstb	(Do_Updates_in_H_int):w
		bnes	HInt3_Do_Updates

HInt3_Done:
		rte
/*  --------------------------------------------------------------------------- */

HInt3_Do_Updates:
		clrb	(Do_Updates_in_H_int):w
		moveml	%d0-%a6,-(%sp)
		jsr	(Do_Updates):l
		moveml	(%sp)+,%d0-%a6
		rte
/*  --------------------------------------------------------------------------- */

HInt5:
		tstw	(H_int_flag):w
		beqs	HInt5_Done
		movew	#0,(H_int_flag):w
		moveml	%d0-%d1/%a0-%a2,-(%sp)
		lea	(VDP_data_port):l,%a1
		movew	#0x8AFF,VDP_control_port-VDP_data_port(%a1)
		movew	#0x100,(Z80_bus_request):l

loc_1122:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1122
		moveal	(Water_palette_data_addr):w,%a2
		moveq	#0xC,%d0

loc_1132:
		dbf	%d0,loc_1132
		movew	(%a2)+,%d1
		moveb	(H_int_counter):w,%d0
		subib	#-0x38,%d0
		bcss	loc_1146
		subb	%d0,%d1
		bcss	loc_116A

loc_1146:
		movew	(%a2)+,%d0
		lea	(Normal_palette):w,%a0
		addaw	%d0,%a0
		addiw	#-0x4000,%d0
		swap	%d0
		movel	%d0,VDP_control_port-VDP_data_port(%a1)
		movel	(%a0)+,(%a1)
		movew	(%a0)+,(%a1)
		nop
		nop
		moveq	#0x24,%d0

loc_1162:
		dbf	%d0,loc_1162
		dbf	%d1,loc_1146

loc_116A:
		movew	#0,(Z80_bus_request):l
		moveml	(%sp)+,%d0-%d1/%a0-%a2
		tstb	(Do_Updates_in_H_int):w
		bnes	HInt5_Do_Updates

HInt5_Done:
		rte
/*  --------------------------------------------------------------------------- */

HInt5_Do_Updates:
		clrb	(Do_Updates_in_H_int):w
		moveml	%d0-%a6,-(%sp)
		jsr	(Do_Updates):l
		moveml	(%sp)+,%d0-%a6
		rte
/*  --------------------------------------------------------------------------- */

HInt4:
		tstw	(H_int_flag):w
		beqs	Hint4_Done
		movew	#0,(H_int_flag):w
		moveml	%d0-%d1/%a0-%a2,-(%sp)
		lea	(VDP_data_port):l,%a1
		movew	#0x8AFF,VDP_control_port-VDP_data_port(%a1)
		movew	#0x100,(Z80_bus_request):l

loc_11B6:
		btst	#0,(Z80_bus_request):l
		bnes	loc_11B6
		moveal	(Water_palette_data_addr):w,%a2
		moveq	#0x1B,%d0

loc_11C6:
		dbf	%d0,loc_11C6
		movew	(%a2)+,%d1
		moveb	(H_int_counter):w,%d0
		subib	#-0x38,%d0
		bcss	loc_11DA
		subb	%d0,%d1
		bcss	loc_11FC

loc_11DA:
		movew	(%a2)+,%d0
		lea	(Water_palette):w,%a0
		addaw	%d0,%a0
		addiw	#-0x4000,%d0
		swap	%d0
		movel	%d0,VDP_control_port-VDP_data_port(%a1)
		movel	(%a0)+,(%a1)
		movew	(%a0)+,(%a1)
		nop
		moveq	#0x33,%d0

loc_11F4:
		dbf	%d0,loc_11F4
		dbf	%d1,loc_11DA

loc_11FC:
		movew	#0,(Z80_bus_request):l
		moveml	(%sp)+,%d0-%d1/%a0-%a2
		tstb	(Do_Updates_in_H_int):w
		bnes	HInt4_Do_Updates

Hint4_Done:
		rte
/*  --------------------------------------------------------------------------- */

HInt4_Do_Updates:
		clrb	(Do_Updates_in_H_int):w
		moveml	%d0-%a6,-(%sp)
		jsr	(Do_Updates):l
		moveml	(%sp)+,%d0-%a6
		rte
/*  --------------------------------------------------------------------------- */

HInt_6:
		tstw	(H_int_flag):w
		beqs	HInt6_Done
		movew	#0,(H_int_flag):w
		moveml	%d0-%d1/%a0-%a2,-(%sp)
		lea	(VDP_data_port):l,%a1
		movew	#0x8AFF,VDP_control_port-VDP_data_port(%a1)
		movew	#0x100,(Z80_bus_request):l

loc_1248:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1248
		moveal	(Water_palette_data_addr):w,%a2
		moveq	#0x1B,%d0

loc_1258:
		dbf	%d0,loc_1258
		movew	(%a2)+,%d1
		moveb	(H_int_counter):w,%d0
		subib	#-0x38,%d0
		bcss	loc_126C
		subb	%d0,%d1
		bcss	loc_128E

loc_126C:
		movew	(%a2)+,%d0
		lea	(Normal_palette):w,%a0
		addaw	%d0,%a0
		addiw	#-0x4000,%d0
		swap	%d0
		movel	%d0,VDP_control_port-VDP_data_port(%a1)
		movel	(%a0)+,(%a1)
		movew	(%a0)+,(%a1)
		nop
		moveq	#0x33,%d0

loc_1286:
		dbf	%d0,loc_1286
		dbf	%d1,loc_126C

loc_128E:
		movew	#0,(Z80_bus_request):l
		moveml	(%sp)+,%d0-%d1/%a0-%a2
		tstb	(Do_Updates_in_H_int):w
		bnes	HInt6_Do_Updates

HInt6_Done:
		rte
/*  --------------------------------------------------------------------------- */

HInt6_Do_Updates:
		clrb	(Do_Updates_in_H_int):w
		moveml	%d0-%a6,-(%sp)
		jsr	(Do_Updates):l
		moveml	(%sp)+,%d0-%a6
		rte
/*  --------------------------------------------------------------------------- */

HInt2:
		move	#0x2700,sr
		tstw	(H_int_flag):w
		beqs	HInt2_Done
		movew	#0,(H_int_flag):w
		moveml	%a0-%a1,-(%sp)
		lea	(VDP_data_port):l,%a1
		movew	#0x8ADF,VDP_control_port-VDP_data_port(%a1)
		lea	(Water_palette):w,%a0
		movel	#0xC0000000,VDP_control_port-VDP_data_port(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		movel	(%a0)+,(%a1)
		moveml	(%sp)+,%a0-%a1
		tstb	(Do_Updates_in_H_int):w
		bnes	HInt2_Do_Updates

HInt2_Done:
		rte
/*  --------------------------------------------------------------------------- */

HInt2_Do_Updates:
		clrb	(Do_Updates_in_H_int):w
		moveml	%d0-%a6,-(%sp)
		bsrw	Do_Updates
		moveml	(%sp)+,%d0-%a6
		rte

/*  =============== S U B R O U T I N E ======================================= */


nullsub_1:
		rts
/*  End of function nullsub_1 */


/*  =============== S U B R O U T I N E ======================================= */


Init_Controllers:
		movew	#0x100,(Z80_bus_request):l

loc_134A:
		btst	#0,(Z80_bus_request):l
		bnes	loc_134A
		moveq	#0x40,%d0
		moveb	%d0,(HW_Port_1_Control):l
		moveb	%d0,(HW_Port_2_Control):l
		moveb	%d0,(HW_Expansion_Control):l
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function Init_Controllers */


/*  =============== S U B R O U T I N E ======================================= */


Poll_Controllers:
		lea	(Ctrl_1):w,%a0
		lea	(HW_Port_1_Data):l,%a1
		bsrs	Poll_Controller
		addqw	#2,%a1
/*  End of function Poll_Controllers */


/*  =============== S U B R O U T I N E ======================================= */


Poll_Controller:
		moveb	#0,(%a1)
		nop
		nop
		moveb	(%a1),%d0
		lslb	#2,%d0
		andib	#-0x40,%d0
		moveb	#0x40,(%a1)
		nop
		nop
		moveb	(%a1),%d1
		andib	#0x3F,%d1
		orb	%d1,%d0
		notb	%d0
		moveb	(%a0),%d1
		eorb	%d0,%d1
		moveb	%d0,(%a0)+
		andb	%d0,%d1
		moveb	%d1,(%a0)+
		rts
/*  End of function Poll_Controller */


/*  =============== S U B R O U T I N E ======================================= */


Init_VDP:
		lea	(VDP_control_port):l,%a0
		lea	(VDP_data_port):l,%a1
		lea	(VDP_register_values):l,%a2
		moveq	#0x12,%d7

loc_13C2:
		movew	(%a2)+,(%a0)
		dbf	%d7,loc_13C2
		movew	(VDP_register_values+2):l,%d0
		movew	%d0,(VDP_reg_1_command):w
		movew	#-0x7521,(H_int_counter_command):w
		moveq	#0,%d0
		movel	#0x40000010,(VDP_control_port):l
		movew	%d0,(%a1)
		movew	%d0,(%a1)
		movel	#0xC0000000,(VDP_control_port):l
		movew	#0x3F,%d7

loc_13F6:
		movew	%d0,(%a1)
		dbf	%d7,loc_13F6
		clrl	(V_scroll_value):w
		clrl	(_unkF61A):w
		movel	%d1,-(%sp)
		lea	(VDP_control_port):l,%a5
		movew	#-0x70FF,(%a5)
		movel	#-0x6B006C01,(%a5)
		movew	#-0x6880,(%a5)
		movel	#0x40000080,(%a5)
		movew	#0,(VDP_data_port):l

loc_1428:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_1428
		movew	#-0x70FE,(%a5)
		movel	(%sp)+,%d1
		rts
/*  End of function Init_VDP */

/*  --------------------------------------------------------------------------- */
VDP_register_values:
		.word 0x8004	/*  H-int disabled */
		.word 0x8134	/*  V-int enabled, display blanked, DMA enabled, 224 line display */
		.word 0x8230	/*  Scroll A PNT base 0xC000 */
		.word 0x8320	/*  Window PNT base 0x8000 */
		.word 0x8407	/*  Scroll B PNT base 0xE000 */
		.word 0x857C	/*  Sprite attribute table base 0xF800 */
		.word 0x8600
		.word 0x8700	/*  Backdrop color is color 0 of the first palette line */
		.word 0x8800
		.word 0x8900
		.word 0x8A00
		.word 0x8B00	/*  Full-screen horizontal and vertical scrolling */
		.word 0x8C81	/*  40 cell wide display, no interlace */
		.word 0x8D3C	/*  Horizontal scroll table base 0xF000 */
		.word 0x8E00
		.word 0x8F02	/*  Auto-increment is 2 */
		.word 0x9001	/*  Scroll planes are 64x32 cells */
		.word 0x9100
		.word 0x9200	/*  Window disabled */

/*  =============== S U B R O U T I N E ======================================= */


Clear_DisplayData:
		movew	#0x100,(Z80_bus_request):l

loc_1466:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1466
		lea	(VDP_control_port):l,%a5
		movew	#-0x70FF,(%a5)
		movel	#-0x6BFF6CC1,(%a5)
		movew	#-0x6880,(%a5)
		movel	#0x40000080,(%a5)
		movew	#0,(VDP_data_port):l

loc_1492:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_1492
		movew	#-0x70FE,(%a5)
		tstw	(Competition_mode):w
		beqs	Clear_DisplayData_No2P
		lea	(VDP_control_port):l,%a5
		movew	#-0x70FF,(%a5)
		movel	#-0x6BC06C01,(%a5)
		movew	#-0x6880,(%a5)
		movel	#0x40000082,(%a5)
		movew	#0,(VDP_data_port):l

loc_14C6:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_14C6
		movew	#-0x70FE,(%a5)
		bras	Clear_DisplayData_Cont
/*  --------------------------------------------------------------------------- */

Clear_DisplayData_No2P:
		lea	(VDP_control_port):l,%a5
		movew	#-0x70FF,(%a5)
		movel	#-0x6BF06C01,(%a5)
		movew	#-0x6880,(%a5)
		movel	#0x40000083,(%a5)
		movew	#0,(VDP_data_port):l

loc_14F6:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_14F6
		movew	#-0x70FE,(%a5)
		lea	(VDP_control_port):l,%a5
		movew	#-0x70FF,(%a5)
		movel	#-0x6BF06C01,(%a5)
		movew	#-0x6880,(%a5)
		movel	#0x60000083,(%a5)
		movew	#0,(VDP_data_port):l

loc_1524:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_1524
		movew	#-0x70FE,(%a5)

Clear_DisplayData_Cont:
		clrl	(V_scroll_value):w
		clrl	(_unkF61A):w
		lea	(Sprite_table_buffer):w,%a1
		moveq	#0,%d0
		movew	#0xA0,%d1

loc_1542:
		movel	%d0,(%a1)+
		dbf	%d1,loc_1542
		lea	(H_scroll_buffer):w,%a1
		moveq	#0,%d0
		movew	#0x100,%d1

loc_1552:
		movel	%d0,(%a1)+
		dbf	%d1,loc_1552
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function Clear_DisplayData */


/*  =============== S U B R O U T I N E ======================================= */


SndDrvInit:
		nop
		movew	#0x100,(Z80_bus_request):l
		movew	#0x100,(Z80_reset):l
		lea	(Z80_SoundDriver):l,%a0
		lea	(Z80_RAM):l,%a1
		movew	#0x1BFE,%d0

loc_1584:
		moveb	(%a0)+,(%a1)+
		dbf	%d0,loc_1584
		lea	(Z80_DefaultVariables):l,%a0
		lea	(Z80_RAM+0x1C00):l,%a1
		movew	#0xF,%d0

loc_159A:
		moveb	(%a0)+,(%a1)+
		dbf	%d0,loc_159A
		btst	#6,(Graphics_flags):w
		beqs	loc_15B0
		moveb	#1,(Z80_RAM+0x1C02):l

loc_15B0:
		movew	#0,(Z80_reset):l
		nop
		nop
		nop
		nop
		movew	#0x100,(Z80_reset):l
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function SndDrvInit */

/*  --------------------------------------------------------------------------- */
Z80_DefaultVariables:
		.byte    0	/*  Unused 1 */
		.byte    0	/*  Unused 2 */
		.byte    0	/*  zPalFlag */
		.byte    0	/*  Unused 3 */
		.byte    0	/*  zPalDblUpdCounter */
		.byte    0	/*  zSoundQueue0 */
		.byte    0	/*  zSoundQueue1 */
		.byte    0	/*  zSoundQueue2 */
		.byte    0	/*  zTempoSpeedup */
		.byte    0	/*  zNextSound */
		.byte    0	/*  zMusicNumber */
		.byte    0	/*  zSFXNumber0 */
		.byte    0	/*  zSFXNumber1 */
		.byte    0	/*  zFadeOutTimeout */
		.byte    0	/*  zFadeDelay */
		.byte    0	/*  zFadeDelayTimeout */

/*  =============== S U B R O U T I N E ======================================= */


Play_Sound:
		movew	#0x100,(Z80_bus_request):l

loc_15EA:
		btst	#0,(Z80_bus_request):l
		bnes	loc_15EA
		moveb	%d0,(Z80_RAM+0x1C0A):l
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function Play_Sound */

/*  --------------------------------------------------------------------------- */

Play_Sound_Local:
		tstb	4(%a0)
		bpls	locret_164A

/*  =============== S U B R O U T I N E ======================================= */


Play_Sound_2:
		movew	#0x100,(Z80_bus_request):l

loc_1612:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1612
		cmpb	(Z80_RAM+0x1C0B):l,%d0
		beqs	loc_1642
		tstb	(Z80_RAM+0x1C0B):l
		bnes	loc_163C
		moveb	%d0,(Z80_RAM+0x1C0B):l
		movew	#0,(Z80_bus_request):l
		rts
/*  --------------------------------------------------------------------------- */

loc_163C:
		moveb	%d0,(Z80_RAM+0x1C0C):l

loc_1642:
		movew	#0,(Z80_bus_request):l

locret_164A:
		rts
/*  End of function Play_Sound_2 */


/*  =============== S U B R O U T I N E ======================================= */


Change_Music_Tempo:
		movew	#0x100,(Z80_bus_request):l

loc_1654:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1654
		moveb	%d0,(Z80_RAM+0x1C08):l
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function Change_Music_Tempo */


/*  =============== S U B R O U T I N E ======================================= */


Pause_Game:
		nop
		tstb	(Life_count):w
		beqw	Pause_Unpause
		tstw	(Game_paused):w
		bnes	loc_168E
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x80,%d0
		beqw	Pause_NoPause

loc_168E:
		movew	#1,(Game_paused):w
		movew	#0x100,(Z80_bus_request):l

loc_169C:
		btst	#0,(Z80_bus_request):l
		bnes	loc_169C
		moveb	#1,(Z80_RAM+0x1C10):l
		movew	#0,(Z80_bus_request):l

Pause_Loop:
		moveb	#0x10,(V_int_routine):w
		bsrw	Wait_VSync
		tstb	(Slow_motion_flag):w
		beqs	Pause_NoSlowMo
		btst	#6,(Ctrl_1_pressed):w
		beqs	Pause_ChkFrameAdvance
		moveb	#0x28,(Game_mode):w
		nop
		bras	Pause_ResumeMusic
/*  --------------------------------------------------------------------------- */

Pause_ChkFrameAdvance:
		btst	#4,(Ctrl_1_held):w
		bnes	Pause_FrameAdvance
		btst	#5,(Ctrl_1_pressed):w
		bnes	Pause_FrameAdvance

Pause_NoSlowMo:
		cmpib	#0xE,(Current_zone):w
		bcss	Pause_ChkStart
		cmpib	#0x12,(Current_zone):w
		bhis	Pause_ChkStart
		tstb	(Competition_mode_type):w
		bpls	Pause_ChkStart
		btst	#4,(Ctrl_1_pressed):w
		beqs	Pause_ChkStart
		moveb	#-0x40,(Game_mode):w
		bras	Pause_ResumeMusic
/*  --------------------------------------------------------------------------- */

Pause_ChkStart:
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x80,%d0
		beqs	Pause_Loop

Pause_ResumeMusic:
		movew	#0x100,(Z80_bus_request):l

loc_1724:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1724
		moveb	#0x80,(Z80_RAM+0x1C10):l
		movew	#0,(Z80_bus_request):l

Pause_Unpause:
		movew	#0,(Game_paused):w

Pause_NoPause:
		rts
/*  --------------------------------------------------------------------------- */

Pause_FrameAdvance:
		movew	#1,(Game_paused):w
		movew	#0x100,(Z80_bus_request):l

loc_1754:
		btst	#0,(Z80_bus_request):l
		bnes	loc_1754
		moveb	#0x80,(Z80_RAM+0x1C10):l
		movew	#0,(Z80_bus_request):l
		rts
/*  End of function Pause_Game */


/*  =============== S U B R O U T I N E ======================================= */


Plane_Map_To_VRAM:
		lea	(VDP_data_port):l,%a6
		movel	#0x800000,%d4

loc_177C:
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		movew	%d1,%d3

loc_1782:
		movew	(%a1)+,(%a6)
		dbf	%d3,loc_1782
		addl	%d4,%d0
		dbf	%d2,loc_177C
		rts
/*  End of function Plane_Map_To_VRAM */


/*  =============== S U B R O U T I N E ======================================= */


Plane_Map_To_VRAM_2:
		lea	(VDP_data_port):l,%a6
		movel	#0x1000000,%d4

loc_179C:
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		movew	%d1,%d3

loc_17A2:
		movew	(%a1)+,(%a6)
		dbf	%d3,loc_17A2
		addl	%d4,%d0
		dbf	%d2,loc_179C
		rts
/*  End of function Plane_Map_To_VRAM_2 */


/*  =============== S U B R O U T I N E ======================================= */


Add_To_DMA_Queue:
		moveal	(DMA_queue_slot):w,%a1
		cmpaw	#DMA_queue_slot,%a1
		beqs	locret_1810
		movew	#-0x6D00,%d0
		moveb	%d3,%d0
		movew	%d0,(%a1)+
		movew	#-0x6C00,%d0
		lsrw	#8,%d3
		moveb	%d3,%d0
		movew	%d0,(%a1)+
		movew	#-0x6B00,%d0
		lsrl	#1,%d1
		moveb	%d1,%d0
		movew	%d0,(%a1)+
		movew	#-0x6A00,%d0
		lsrl	#8,%d1
		moveb	%d1,%d0
		movew	%d0,(%a1)+
		movew	#-0x6900,%d0
		lsrl	#8,%d1
		andib	#0x7F,%d1
		moveb	%d1,%d0
		movew	%d0,(%a1)+
		andil	#0xFFFF,%d2
		lsll	#2,%d2
		lsrw	#2,%d2
		swap	%d2
		oril	#0x40000080,%d2
		movel	%d2,(%a1)+
		movel	%a1,(DMA_queue_slot):w
		cmpaw	#DMA_queue_slot,%a1
		beqs	locret_1810
		movew	#0,(%a1)

locret_1810:
		rts
/*  End of function Add_To_DMA_Queue */


/*  =============== S U B R O U T I N E ======================================= */


Process_DMA_Queue:
		lea	(VDP_control_port):l,%a5
		lea	(DMA_queue):w,%a1

loc_181C:
		movew	(%a1)+,%d0
		beqs	loc_1834
		movew	%d0,(%a5)
		movew	(%a1)+,(%a5)
		movew	(%a1)+,(%a5)
		movew	(%a1)+,(%a5)
		movew	(%a1)+,(%a5)
		movew	(%a1)+,(%a5)
		movew	(%a1)+,(%a5)
		cmpaw	#DMA_queue_slot,%a1
		bnes	loc_181C

loc_1834:
		movew	#0,(DMA_queue):w
		movel	#-0x500,(DMA_queue_slot):w
		rts
/*  End of function Process_DMA_Queue */


/*  =============== S U B R O U T I N E ======================================= */


Nem_Decomp:
		moveml	%d0-%a1/%a3-%a5,-(%sp)
		lea	(Nem_PCD_WriteRowToVDP):l,%a3
		lea	(VDP_data_port):l,%a4
		bras	Nem_Decomp_Main
/*  --------------------------------------------------------------------------- */

Nem_Decomp_To_RAM:
		moveml	%d0-%a1/%a3-%a5,-(%sp)
		lea	(Nem_PCD_WriteRowToRAM):l,%a3

Nem_Decomp_Main:
		lea	(Nem_code_table):w,%a1
		movew	(%a0)+,%d2
		lslw	#1,%d2
		bccs	loc_186E
		addaw	#0xA,%a3

loc_186E:
		lslw	#2,%d2
		moveaw	%d2,%a5
		moveq	#8,%d3
		moveq	#0,%d2
		moveq	#0,%d4
		bsrw	Nem_Build_Code_Table
		moveb	(%a0)+,%d5
		aslw	#8,%d5
		moveb	(%a0)+,%d5
		movew	#0x10,%d6
		bsrs	Nem_Process_Compressed_Data
		moveml	(%sp)+,%d0-%a1/%a3-%a5
		rts
/*  End of function Nem_Decomp */


/*  =============== S U B R O U T I N E ======================================= */


Nem_Process_Compressed_Data:
		movew	%d6,%d7
		subqw	#8,%d7
		movew	%d5,%d1
		lsrw	%d7,%d1
		cmpib	#-4,%d1
		bccs	Nem_PCD_InlineData
		andiw	#0xFF,%d1
		addw	%d1,%d1
		moveb	(%a1,%d1.w),%d0
		extw	%d0
		subw	%d0,%d6
		cmpiw	#9,%d6
		bccs	loc_18B6
		addqw	#8,%d6
		aslw	#8,%d5
		moveb	(%a0)+,%d5

loc_18B6:
		moveb	1(%a1,%d1.w),%d1
		movew	%d1,%d0
		andiw	#0xF,%d1
		andiw	#0xF0,%d0

Nem_PCD_GetRepeatCount:
		lsrw	#4,%d0

Nem_PCD_WritePixel:
		lsll	#4,%d4
		orb	%d1,%d4
		subqw	#1,%d3
		bnes	Nem_PCD_WritePixel_Loop
		jmp	(%a3)
/*  End of function Nem_Process_Compressed_Data */


/*  =============== S U B R O U T I N E ======================================= */


Nem_PCD_NewRow:
		moveq	#0,%d4
		moveq	#8,%d3

Nem_PCD_WritePixel_Loop:
		dbf	%d0,Nem_PCD_WritePixel
		bras	Nem_Process_Compressed_Data
/*  --------------------------------------------------------------------------- */

Nem_PCD_InlineData:
		subqw	#6,%d6
		cmpiw	#9,%d6
		bccs	loc_18E8
		addqw	#8,%d6
		aslw	#8,%d5
		moveb	(%a0)+,%d5

loc_18E8:
		subqw	#7,%d6
		movew	%d5,%d1
		lsrw	%d6,%d1
		movew	%d1,%d0
		andiw	#0xF,%d1
		andiw	#0x70,%d0
		cmpiw	#9,%d6
		bccs	Nem_PCD_GetRepeatCount
		addqw	#8,%d6
		aslw	#8,%d5
		moveb	(%a0)+,%d5
		bras	Nem_PCD_GetRepeatCount
/*  End of function Nem_PCD_NewRow */

/*  --------------------------------------------------------------------------- */

Nem_PCD_WriteRowToVDP:
		movel	%d4,(%a4)
		subqw	#1,%a5
		movew	%a5,%d4
		bnes	Nem_PCD_NewRow
		rts
/*  --------------------------------------------------------------------------- */

Nem_PCD_WriteRowToVDP_XOR:
		eorl	%d4,%d2
		movel	%d2,(%a4)
		subqw	#1,%a5
		movew	%a5,%d4
		bnes	Nem_PCD_NewRow
		rts
/*  --------------------------------------------------------------------------- */

Nem_PCD_WriteRowToRAM:
		movel	%d4,(%a4)+
		subqw	#1,%a5
		movew	%a5,%d4
		bnes	Nem_PCD_NewRow
		rts
/*  --------------------------------------------------------------------------- */

Nem_PCD_WriteRowToRAM_XOR:
		eorl	%d4,%d2
		movel	%d2,(%a4)+
		subqw	#1,%a5
		movew	%a5,%d4
		bnes	Nem_PCD_NewRow
		rts

/*  =============== S U B R O U T I N E ======================================= */


Nem_Build_Code_Table:
		moveb	(%a0)+,%d0

Nem_BCT_ChkEnd:
		cmpib	#-1,%d0
		bnes	Nem_BCT_NewPalIndex
		rts
/*  --------------------------------------------------------------------------- */

Nem_BCT_NewPalIndex:
		movew	%d0,%d7

Nem_BCT_Loop:
		moveb	(%a0)+,%d0
		cmpib	#-0x80,%d0
		bccs	Nem_BCT_ChkEnd
		moveb	%d0,%d1
		andiw	#0xF,%d7
		andiw	#0x70,%d1
		orw	%d1,%d7
		andiw	#0xF,%d0
		moveb	%d0,%d1
		lslw	#8,%d1
		orw	%d1,%d7
		moveq	#8,%d1
		subw	%d0,%d1
		bnes	Nem_BCT_ShortCode
		moveb	(%a0)+,%d0
		addw	%d0,%d0
		movew	%d7,(%a1,%d0.w)
		bras	Nem_BCT_Loop
/*  --------------------------------------------------------------------------- */

Nem_BCT_ShortCode:
		moveb	(%a0)+,%d0
		lslw	%d1,%d0
		addw	%d0,%d0
		moveq	#1,%d5
		lslw	%d1,%d5
		subqw	#1,%d5

Nem_BCT_ShortCode_Loop:
		movew	%d7,(%a1,%d0.w)
		addqw	#2,%d0
		dbf	%d5,Nem_BCT_ShortCode_Loop
		bras	Nem_BCT_Loop
/*  End of function Nem_Build_Code_Table */


/*  =============== S U B R O U T I N E ======================================= */


Load_PLC:
		moveml	%a1-%a2,-(%sp)
		lea	(Offs_PLC):l,%a1
		addw	%d0,%d0
		movew	(%a1,%d0.w),%d0
		lea	(%a1,%d0.w),%a1
		lea	(Nem_decomp_queue):w,%a2

loc_199C:
		tstl	(%a2)
		beqs	loc_19A4
		addqw	#6,%a2
		bras	loc_199C
/*  --------------------------------------------------------------------------- */

loc_19A4:
		movew	(%a1)+,%d0
		bmis	loc_19B0

loc_19A8:
		movel	(%a1)+,(%a2)+
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_19A8

loc_19B0:
		moveml	(%sp)+,%a1-%a2
		rts
/*  End of function Load_PLC */


/*  =============== S U B R O U T I N E ======================================= */


Load_PLC_Raw:
		lea	(Nem_decomp_queue):w,%a2

loc_19BA:
		tstl	(%a2)
		beqs	loc_19C2
		addqw	#6,%a2
		bras	loc_19BA
/*  --------------------------------------------------------------------------- */

loc_19C2:
		movew	(%a1)+,%d0
		bmis	locret_19CE

loc_19C6:
		movel	(%a1)+,(%a2)+
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_19C6

locret_19CE:
		rts
/*  End of function Load_PLC_Raw */


/*  =============== S U B R O U T I N E ======================================= */


Load_PLC_2:
		moveml	%a1-%a2,-(%sp)
		lea	(Offs_PLC):l,%a1
		addw	%d0,%d0
		movew	(%a1,%d0.w),%d0
		lea	(%a1,%d0.w),%a1
		bsrs	Clear_Nem_Queue
		lea	(Nem_decomp_queue):w,%a2
		movew	(%a1)+,%d0
		bmis	loc_19F6

loc_19EE:
		movel	(%a1)+,(%a2)+
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_19EE

loc_19F6:
		moveml	(%sp)+,%a1-%a2
		rts
/*  End of function Load_PLC_2 */


/*  =============== S U B R O U T I N E ======================================= */


Clear_Nem_Queue:
		lea	(Nem_decomp_queue):w,%a2
		moveq	#0x1F,%d0

loc_1A02:
		clrl	(%a2)+
		dbf	%d0,loc_1A02
		rts
/*  End of function Clear_Nem_Queue */


/*  =============== S U B R O U T I N E ======================================= */


Process_Nem_Queue_Init:
		tstl	(Nem_decomp_queue):w
		beqs	locret_1A60
		tstw	(Nem_patterns_left):w
		bnes	locret_1A60
		moveal	(Nem_decomp_queue):w,%a0
		lea	(Nem_PCD_WriteRowToVDP):l,%a3
		nop
		lea	(Nem_code_table):w,%a1
		movew	(%a0)+,%d2
		bpls	loc_1A2E
		addaw	#0xA,%a3

loc_1A2E:
		andiw	#0x7FFF,%d2
		bsrw	Nem_Build_Code_Table
		moveb	(%a0)+,%d5
		aslw	#8,%d5
		moveb	(%a0)+,%d5
		moveq	#0x10,%d6
		moveq	#0,%d0
		movel	%a0,(Nem_decomp_queue):w
		movel	%a3,(Nem_decomp_vars):w
		movel	%d0,(Nem_repeat_count):w
		movel	%d0,(Nem_palette_index):w
		movel	%d0,(Nem_previous_row):w
		movel	%d5,(Nem_data_word):w
		movel	%d6,(Nem_shift_value):w
		movew	%d2,(Nem_patterns_left):w

locret_1A60:
		rts
/*  End of function Process_Nem_Queue_Init */


/*  =============== S U B R O U T I N E ======================================= */


Process_Nem_Queue:
		tstw	(Nem_patterns_left):w
		beqw	Process_Nem_Queue_Done
		movew	#6,(Nem_frame_patterns_left):w
		moveq	#0,%d0
		movew	(Nem_decomp_destination):w,%d0
		addiw	#0xC0,(Nem_decomp_destination):w
		bras	Process_Nem_Queue_Main
/*  End of function Process_Nem_Queue */


/*  =============== S U B R O U T I N E ======================================= */


Process_Nem_Queue_2:
		tstw	(Nem_patterns_left):w
		beqs	Process_Nem_Queue_Done
		movew	#3,(Nem_frame_patterns_left):w
		moveq	#0,%d0
		movew	(Nem_decomp_destination):w,%d0
		addiw	#0x60,(Nem_decomp_destination):w
/*  End of function Process_Nem_Queue_2 */


/*  =============== S U B R O U T I N E ======================================= */


Process_Nem_Queue_Main:
		lea	(VDP_control_port):l,%a4
		lsll	#2,%d0
		lsrw	#2,%d0
		oriw	#0x4000,%d0
		swap	%d0
		movel	%d0,(%a4)
		subqw	#VDP_control_port-VDP_data_port,%a4
		moveal	(Nem_decomp_queue):w,%a0
		moveal	(Nem_decomp_vars):w,%a3
		movel	(Nem_repeat_count):w,%d0
		movel	(Nem_palette_index):w,%d1
		movel	(Nem_previous_row):w,%d2
		movel	(Nem_data_word):w,%d5
		movel	(Nem_shift_value):w,%d6
		lea	(Nem_code_table):w,%a1

Process_Nem_Queue_Loop:
		moveaw	#8,%a5
		bsrw	Nem_PCD_NewRow
		subqw	#1,(Nem_patterns_left):w
		beqs	Process_Nem_Queue_ShiftUp
		subqw	#1,(Nem_frame_patterns_left):w
		bnes	Process_Nem_Queue_Loop
		movel	%a0,(Nem_decomp_queue):w
		movel	%a3,(Nem_decomp_vars):w
		movel	%d0,(Nem_repeat_count):w
		movel	%d1,(Nem_palette_index):w
		movel	%d2,(Nem_previous_row):w
		movel	%d5,(Nem_data_word):w
		movel	%d6,(Nem_shift_value):w

Process_Nem_Queue_Done:
		rts
/*  --------------------------------------------------------------------------- */

Process_Nem_Queue_ShiftUp:
		lea	(Nem_decomp_queue):w,%a0
		moveq	#0x15,%d0

loc_1B02:
		movel	6(%a0),(%a0)+
		dbf	%d0,loc_1B02
		rts
/*  End of function Process_Nem_Queue_Main */

/*  --------------------------------------------------------------------------- */
		lea	(Offs_PLC):l,%a1
		addw	%d0,%d0
		movew	(%a1,%d0.w),%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,%d1

/*  =============== S U B R O U T I N E ======================================= */


Load_PLC_Immediate:
		moveal	(%a1)+,%a0
		moveq	#0,%d0
		movew	(%a1)+,%d0
		lsll	#2,%d0
		lsrw	#2,%d0
		oriw	#0x4000,%d0
		swap	%d0
		movel	%d0,(VDP_control_port):l
		bsrw	Nem_Decomp
		dbf	%d1,Load_PLC_Immediate
		rts
/*  End of function Load_PLC_Immediate */


/*  =============== S U B R O U T I N E ======================================= */


Eni_Decomp:
		moveml	%d0-%d7/%a1-%a5,-(%sp)
		moveaw	%d0,%a3
		moveb	(%a0)+,%d0
		extw	%d0
		moveaw	%d0,%a5
		moveb	(%a0)+,%d4
		lslb	#3,%d4
		moveaw	(%a0)+,%a2
		addaw	%a3,%a2
		moveaw	(%a0)+,%a4
		addaw	%a3,%a4
		moveb	(%a0)+,%d5
		aslw	#8,%d5
		moveb	(%a0)+,%d5
		moveq	#0x10,%d6

Eni_Decomp_Loop:
		moveq	#7,%d0
		movew	%d6,%d7
		subw	%d0,%d7
		movew	%d5,%d1
		lsrw	%d7,%d1
		andiw	#0x7F,%d1
		movew	%d1,%d2
		cmpiw	#0x40,%d1
		bccs	loc_1B78
		moveq	#6,%d0
		lsrw	#1,%d2

loc_1B78:
		bsrw	Eni_Decomp_FetchByte
		andiw	#0xF,%d2
		lsrw	#4,%d1
		addw	%d1,%d1
		jmp	Eni_Decomp_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */

Eni_Decomp_00:
		movew	%a2,(%a1)+
		addqw	#1,%a2
		dbf	%d2,Eni_Decomp_00
		bras	Eni_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Eni_Decomp_01:
		movew	%a4,(%a1)+
		dbf	%d2,Eni_Decomp_01
		bras	Eni_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Eni_Decomp_100:
		bsrw	Eni_Decomp_FetchInlineValue

loc_1B9E:
		movew	%d1,(%a1)+
		dbf	%d2,loc_1B9E
		bras	Eni_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Eni_Decomp_101:
		bsrw	Eni_Decomp_FetchInlineValue

loc_1BAA:
		movew	%d1,(%a1)+
		addqw	#1,%d1
		dbf	%d2,loc_1BAA
		bras	Eni_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Eni_Decomp_110:
		bsrw	Eni_Decomp_FetchInlineValue

loc_1BB8:
		movew	%d1,(%a1)+
		subqw	#1,%d1
		dbf	%d2,loc_1BB8
		bras	Eni_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Eni_Decomp_111:
		cmpiw	#0xF,%d2
		beqs	Eni_Decomp_Done

loc_1BC8:
		bsrw	Eni_Decomp_FetchInlineValue
		movew	%d1,(%a1)+
		dbf	%d2,loc_1BC8
		bras	Eni_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Eni_Decomp_Index:
		bras	Eni_Decomp_00
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_00
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_01
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_01
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_100
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_101
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_110
/*  --------------------------------------------------------------------------- */
		bras	Eni_Decomp_111
/*  --------------------------------------------------------------------------- */

Eni_Decomp_Done:
		subqw	#1,%a0
		cmpiw	#0x10,%d6
		bnes	loc_1BEE
		subqw	#1,%a0

loc_1BEE:
		movew	%a0,%d0
		lsrw	#1,%d0
		bccs	loc_1BF6
		addqw	#1,%a0

loc_1BF6:
		moveml	(%sp)+,%d0-%d7/%a1-%a5
		rts
/*  End of function Eni_Decomp */


/*  =============== S U B R O U T I N E ======================================= */


Eni_Decomp_FetchInlineValue:
		movew	%a3,%d3
		moveb	%d4,%d1
		addb	%d1,%d1
		bccs	loc_1C0E
		subqw	#1,%d6
		btst	%d6,%d5
		beqs	loc_1C0E
		oriw	#-0x8000,%d3

loc_1C0E:
		addb	%d1,%d1
		bccs	loc_1C1C
		subqw	#1,%d6
		btst	%d6,%d5
		beqs	loc_1C1C
		addiw	#0x4000,%d3

loc_1C1C:
		addb	%d1,%d1
		bccs	loc_1C2A
		subqw	#1,%d6
		btst	%d6,%d5
		beqs	loc_1C2A
		addiw	#0x2000,%d3

loc_1C2A:
		addb	%d1,%d1
		bccs	loc_1C38
		subqw	#1,%d6
		btst	%d6,%d5
		beqs	loc_1C38
		oriw	#0x1000,%d3

loc_1C38:
		addb	%d1,%d1
		bccs	loc_1C46
		subqw	#1,%d6
		btst	%d6,%d5
		beqs	loc_1C46
		oriw	#0x800,%d3

loc_1C46:
		movew	%d5,%d1
		movew	%d6,%d7
		subw	%a5,%d7
		bccs	loc_1C76
		movew	%d7,%d6
		addiw	#0x10,%d6
		negw	%d7
		lslw	%d7,%d1
		moveb	(%a0),%d5
		rolb	%d7,%d5
		addw	%d7,%d7
		andw	loc_1C8A(%pc,%d7.w),%d5
		addw	%d5,%d1

loc_1C64:
		movew	%a5,%d0
		addw	%d0,%d0
		andw	loc_1C8A(%pc,%d0.w),%d1
		addw	%d3,%d1
		moveb	(%a0)+,%d5
		lslw	#8,%d5
		moveb	(%a0)+,%d5
		rts
/*  --------------------------------------------------------------------------- */

loc_1C76:
		beqs	loc_1C88
		lsrw	%d7,%d1
		movew	%a5,%d0
		addw	%d0,%d0
		andw	loc_1C8A(%pc,%d0.w),%d1
		addw	%d3,%d1
		movew	%a5,%d0
		bras	Eni_Decomp_FetchByte
/*  --------------------------------------------------------------------------- */

loc_1C88:
		moveq	#0x10,%d6

loc_1C8A:
		bras	loc_1C64
/*  End of function Eni_Decomp_FetchInlineValue */

/*  --------------------------------------------------------------------------- */
Eni_Decomp_Masks:
		.word     1
		.word     3
		.word     7
		.word    0xF
		.word   0x1F
		.word   0x3F
		.word   0x7F
		.word   0xFF
		.word  0x1FF
		.word  0x3FF
		.word  0x7FF
		.word  0xFFF
		.word 0x1FFF
		.word 0x3FFF
		.word 0x7FFF
		.word 0xFFFF

/*  =============== S U B R O U T I N E ======================================= */


Eni_Decomp_FetchByte:
		subw	%d0,%d6
		cmpiw	#9,%d6
		bccs	locret_1CBA
		addqw	#8,%d6
		aslw	#8,%d5
		moveb	(%a0)+,%d5

locret_1CBA:
		rts
/*  End of function Eni_Decomp_FetchByte */


/*  =============== S U B R O U T I N E ======================================= */


Kos_Decomp:

var_2		= -2
var_1		= -1

		subql	#2,%sp
		moveb	(%a0)+,2+var_1(%sp)
		moveb	(%a0)+,(%sp)
		movew	(%sp),%d5
		moveq	#0xF,%d4

Kos_Decomp_Loop:
		lsrw	#1,%d5
		move	sr,%d6
		dbf	%d4,Kos_Decomp_ChkBit
		moveb	(%a0)+,2+var_1(%sp)
		moveb	(%a0)+,(%sp)
		movew	(%sp),%d5
		moveq	#0xF,%d4

Kos_Decomp_ChkBit:
		move	%d6,ccr
		bccs	Kos_Decomp_Match
		moveb	(%a0)+,(%a1)+
		bras	Kos_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Kos_Decomp_Match:
		moveq	#0,%d3
		lsrw	#1,%d5
		move	sr,%d6
		dbf	%d4,Kos_Decomp_ChkBit2
		moveb	(%a0)+,2+var_1(%sp)
		moveb	(%a0)+,(%sp)
		movew	(%sp),%d5
		moveq	#0xF,%d4

Kos_Decomp_ChkBit2:
		move	%d6,ccr
		bcss	Kos_Decomp_FullMatch
		lsrw	#1,%d5
		dbf	%d4,loc_1D0A
		moveb	(%a0)+,2+var_1(%sp)
		moveb	(%a0)+,(%sp)
		movew	(%sp),%d5
		moveq	#0xF,%d4

loc_1D0A:
		roxlw	#1,%d3
		lsrw	#1,%d5
		dbf	%d4,loc_1D1C
		moveb	(%a0)+,2+var_1(%sp)
		moveb	(%a0)+,(%sp)
		movew	(%sp),%d5
		moveq	#0xF,%d4

loc_1D1C:
		roxlw	#1,%d3
		addqw	#1,%d3
		moveq	#-1,%d2
		moveb	(%a0)+,%d2
		bras	Kos_Decomp_MatchLoop
/*  --------------------------------------------------------------------------- */

Kos_Decomp_FullMatch:
		moveb	(%a0)+,%d0
		moveb	(%a0)+,%d1
		moveq	#-1,%d2
		moveb	%d1,%d2
		lslw	#5,%d2
		moveb	%d0,%d2
		andiw	#7,%d1
		beqs	Kos_Decomp_FullMatch2
		moveb	%d1,%d3
		addqw	#1,%d3

Kos_Decomp_MatchLoop:
		moveb	(%a1,%d2.w),%d0
		moveb	%d0,(%a1)+
		dbf	%d3,Kos_Decomp_MatchLoop
		bras	Kos_Decomp_Loop
/*  --------------------------------------------------------------------------- */

Kos_Decomp_FullMatch2:
		moveb	(%a0)+,%d1
		beqs	Kos_Decomp_Done
		cmpib	#1,%d1
		beqw	Kos_Decomp_Loop
		moveb	%d1,%d3
		bras	Kos_Decomp_MatchLoop
/*  --------------------------------------------------------------------------- */

Kos_Decomp_Done:
		addql	#2,%sp
		rts
/*  End of function Kos_Decomp */


/*  =============== S U B R O U T I N E ======================================= */


Queue_Kos_Module:
		lea	(Kos_module_queue):w,%a2
		tstl	(%a2)
		beqs	Process_Kos_Module_Queue_Init
		addqw	#6,%a2

loc_1D66:
		tstl	(%a2)
		beqs	loc_1D6E
		addqw	#6,%a2
		bras	loc_1D66
/*  --------------------------------------------------------------------------- */

loc_1D6E:
		movel	%a1,(%a2)+
		movew	%d2,(%a2)+
		rts
/*  End of function Queue_Kos_Module */


/*  =============== S U B R O U T I N E ======================================= */


Process_Kos_Module_Queue_Init:
		movew	(%a1)+,%d3
		cmpiw	#-0x6000,%d3
		bnes	loc_1D80
		movew	#-0x8000,%d3

loc_1D80:
		lsrw	#1,%d3
		movew	%d3,%d0
		rolw	#5,%d0
		andiw	#0x1F,%d0
		moveb	%d0,(Kos_modules_left):w
		andil	#0x7FF,%d3
		bnes	loc_1DA0
		subqb	#1,(Kos_modules_left):w
		movel	#0x800,%d3

loc_1DA0:
		movew	%d3,(Kos_last_module_size):w
		movew	%d2,(Kos_module_destination):w
		movel	%a1,(Kos_module_queue):w
		addqb	#1,(Kos_modules_left):w
		rts
/*  End of function Process_Kos_Module_Queue_Init */


/*  =============== S U B R O U T I N E ======================================= */


Process_Kos_Module_Queue:
		tstb	(Kos_modules_left):w
		bnes	loc_1DBA

locret_1DB8:
		rts
/*  --------------------------------------------------------------------------- */

loc_1DBA:
		bmis	loc_1DD8
		cmpiw	#4,(Kos_decomp_queue_count):w
		bccs	locret_1DB8
		moveal	(Kos_module_queue):w,%a1
		lea	(Kos_decomp_buffer):w,%a2
		bsrw	Queue_Kos
		orib	#0x80,(Kos_modules_left):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1DD8:
		tstw	(Kos_decomp_queue_count):w
		bnes	locret_1DB8
		andib	#0x7F,(Kos_modules_left):w
		movel	#0x800,%d3
		subqb	#1,(Kos_modules_left):w
		bnes	loc_1DF4
		movew	(Kos_last_module_size):w,%d3

loc_1DF4:
		movew	(Kos_module_destination):w,%d2
		movew	%d2,%d0
		addw	%d3,%d0
		addw	%d3,%d0
		movew	%d0,(Kos_module_destination):w
		movel	(Kos_module_queue):w,%d0
		movel	(Kos_decomp_queue):w,%d1
		subl	%d1,%d0
		andil	#0xF,%d0
		addl	%d0,%d1
		movel	%d1,(Kos_module_queue):w
		movel	#Kos_decomp_buffer,%d1
		andil	#0xFFFFFF,%d1
		jsr	(Add_To_DMA_Queue):l
		tstb	(Kos_modules_left):w
		bnes	locret_1E60
		lea	(Kos_module_queue):w,%a0
		lea	(Kos_module_queue+6):w,%a1
		movel	(%a1)+,(%a0)+
		movew	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+
		movew	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+
		movew	(%a1)+,(%a0)+
		movel	#0,(%a0)+
		movew	#0,(%a0)+
		movel	(Kos_module_queue):w,%d0
		beqs	locret_1E60
		moveal	%d0,%a1
		movew	(Kos_module_destination):w,%d2
		jmp	(Process_Kos_Module_Queue_Init):l
/*  --------------------------------------------------------------------------- */

locret_1E60:
		rts
/*  End of function Process_Kos_Module_Queue */


/*  =============== S U B R O U T I N E ======================================= */


Queue_Kos:
		movew	(Kos_decomp_queue_count):w,%d0
		lslw	#3,%d0
		lea	(Kos_decomp_queue):w,%a3
		movel	%a1,(%a3,%d0.w)
		movel	%a2,4(%a3,%d0.w)
		addqw	#1,(Kos_decomp_queue_count):w
		rts
/*  End of function Queue_Kos */

/*  --------------------------------------------------------------------------- */

Set_Kos_Bookmark:
		tstw	(Kos_decomp_queue_count):w
		bpls	locret_1EA2
		movel	0x42(%sp),%d0
		cmpil	#Process_Kos_Queue_Main,%d0
		bcss	locret_1EA2
		cmpil	#Process_Kos_Queue_Done,%d0
		bccs	locret_1EA2
		movel	0x42(%sp),(Kos_decomp_bookmark):w
		movel	#Backup_Kos_Registers,0x42(%sp)

locret_1EA2:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Process_Kos_Queue:
		tstw	(Kos_decomp_queue_count):w
		beqw	Process_Kos_Queue_Done
		bmiw	Restore_Kos_Bookmark

Process_Kos_Queue_Main:
		oriw	#-0x8000,(Kos_decomp_queue_count):w
		moveal	(Kos_decomp_queue):w,%a0
		moveal	(Kos_decomp_destination):w,%a1
		lea	(Kos_description_field):w,%a2
		moveb	(%a0)+,1(%a2)
		moveb	(%a0)+,(%a2)
		movew	(%a2),%d5
		moveq	#0xF,%d4

Process_Kos_Queue_Loop:
		lsrw	#1,%d5
		move	sr,%d6
		dbf	%d4,Process_Kos_Queue_ChkBit
		moveb	(%a0)+,1(%a2)
		moveb	(%a0)+,(%a2)
		movew	(%a2),%d5
		moveq	#0xF,%d4

Process_Kos_Queue_ChkBit:
		move	%d6,ccr
		bccs	Process_Kos_Queue_RLE
		moveb	(%a0)+,(%a1)+
		bras	Process_Kos_Queue_Loop
/*  --------------------------------------------------------------------------- */

Process_Kos_Queue_RLE:
		moveq	#0,%d3
		lsrw	#1,%d5
		move	sr,%d6
		dbf	%d4,Process_Kos_Queue_ChkBit2
		moveb	(%a0)+,1(%a2)
		moveb	(%a0)+,(%a2)
		movew	(%a2),%d5
		moveq	#0xF,%d4

Process_Kos_Queue_ChkBit2:
		move	%d6,ccr
		bcss	Process_Kos_Queue_SeparateRLE
		lsrw	#1,%d5
		dbf	%d4,loc_1F0E
		moveb	(%a0)+,1(%a2)
		moveb	(%a0)+,(%a2)
		movew	(%a2),%d5
		moveq	#0xF,%d4

loc_1F0E:
		roxlw	#1,%d3
		lsrw	#1,%d5
		dbf	%d4,loc_1F20
		moveb	(%a0)+,1(%a2)
		moveb	(%a0)+,(%a2)
		movew	(%a2),%d5
		moveq	#0xF,%d4

loc_1F20:
		roxlw	#1,%d3
		addqw	#1,%d3
		moveq	#-1,%d2
		moveb	(%a0)+,%d2
		bras	Process_Kos_Queue_RLELoop
/*  --------------------------------------------------------------------------- */

Process_Kos_Queue_SeparateRLE:
		moveb	(%a0)+,%d0
		moveb	(%a0)+,%d1
		moveq	#-1,%d2
		moveb	%d1,%d2
		lslw	#5,%d2
		moveb	%d0,%d2
		andiw	#7,%d1
		beqs	Process_Kos_Queue_SeparateRLE2
		moveb	%d1,%d3
		addqw	#1,%d3

Process_Kos_Queue_RLELoop:
		moveb	(%a1,%d2.w),%d0
		moveb	%d0,(%a1)+
		dbf	%d3,Process_Kos_Queue_RLELoop
		bras	Process_Kos_Queue_Loop
/*  --------------------------------------------------------------------------- */

Process_Kos_Queue_SeparateRLE2:
		moveb	(%a0)+,%d1
		beqs	Process_Kos_Queue_EndReached
		cmpib	#1,%d1
		beqw	Process_Kos_Queue_Loop
		moveb	%d1,%d3
		bras	Process_Kos_Queue_RLELoop
/*  --------------------------------------------------------------------------- */

Process_Kos_Queue_EndReached:
		movel	%a0,(Kos_decomp_queue):w
		movel	%a1,(Kos_decomp_destination):w
		andiw	#0x7FFF,(Kos_decomp_queue_count):w
		subqw	#1,(Kos_decomp_queue_count):w
		beqs	Process_Kos_Queue_Done
		lea	(Kos_decomp_queue):w,%a0
		lea	(Kos_decomp_queue+8):w,%a1
		movel	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+
		movel	(%a1)+,(%a0)+

Process_Kos_Queue_Done:
		rts
/*  --------------------------------------------------------------------------- */

Restore_Kos_Bookmark:
		moveml	(Kos_decomp_stored_registers):w,%d0-%d6/%a0-%a2
		movel	(Kos_decomp_bookmark):w,-(%sp)
		movew	(Kos_decomp_stored_SR):w,-(%sp)
		rte
/*  End of function Process_Kos_Queue */

/*  --------------------------------------------------------------------------- */

Backup_Kos_Registers:
		move	sr,(Kos_decomp_stored_SR):w
		moveml	%d0-%d6/%a0-%a2,(Kos_decomp_stored_registers):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


Wait_VSync:
		move	#0x2300,sr

loc_1FA6:
		tstb	(V_int_routine):w
		bnes	loc_1FA6
		rts
/*  End of function Wait_VSync */


/*  =============== S U B R O U T I N E ======================================= */


Random_Number:
		movel	(RNG_seed):w,%d1
		bnes	loc_1FBA
		movel	#0x2A6D365A,%d1

loc_1FBA:
		movel	%d1,%d0
		asll	#2,%d1
		addl	%d0,%d1
		asll	#3,%d1
		addl	%d0,%d1
		movew	%d1,%d0
		swap	%d1
		addw	%d1,%d0
		movew	%d0,%d1
		swap	%d1
		movel	%d1,(RNG_seed):w
		rts
/*  End of function Random_Number */


/*  =============== S U B R O U T I N E ======================================= */


GetSineCosine:
		andiw	#0xFF,%d0
		addw	%d0,%d0
		addiw	#0x80,%d0
		movew	SineTable(%pc,%d0.w),%d1
		subiw	#0x80,%d0
		movew	SineTable(%pc,%d0.w),%d0
		rts
/*  End of function GetSineCosine */

/*  --------------------------------------------------------------------------- */
SineTable:	.incbin "Levels/Misc/sine.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


GetArcTan:
		moveml	%d3-%d4,-(%sp)
		moveq	#0,%d3
		moveq	#0,%d4
		movew	%d1,%d3
		movew	%d2,%d4
		orw	%d3,%d4
		beqs	GetArcTan_Zero
		movew	%d2,%d4
		tstw	%d3
		bpls	loc_2284
		negw	%d3

loc_2284:
		tstw	%d4
		bpls	loc_228A
		negw	%d4

loc_228A:
		cmpw	%d3,%d4
		bccs	loc_229A
		lsll	#8,%d4
		divuw	%d3,%d4
		moveq	#0,%d0
		moveb	ArcTanTable(%pc,%d4.w),%d0
		bras	loc_22A4
/*  --------------------------------------------------------------------------- */

loc_229A:
		lsll	#8,%d3
		divuw	%d4,%d3
		moveq	#0x40,%d0
		subb	ArcTanTable(%pc,%d3.w),%d0

loc_22A4:
		tstw	%d1
		bpls	loc_22AE
		negw	%d0
		addiw	#0x80,%d0

loc_22AE:
		tstw	%d2
		bpls	loc_22B8
		negw	%d0
		addiw	#0x100,%d0

loc_22B8:
		moveml	(%sp)+,%d3-%d4
		rts
/*  --------------------------------------------------------------------------- */

GetArcTan_Zero:
		movew	#0x40,%d0
		moveml	(%sp)+,%d3-%d4
		rts
/*  End of function GetArcTan */

/*  --------------------------------------------------------------------------- */
ArcTanTable:	.incbin "Levels/Misc/arctan.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


AnPal_Load:
		bsrw	SuperSonic_PalCycle
		moveq	#0,%d2
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		movew	OffsAnPal(%pc,%d0.w),%d0
		jmp	OffsAnPal(%pc,%d0.w)
/*  End of function AnPal_Load */

/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */
OffsAnPal:	.word AnPal_AIZ1-OffsAnPal
		.word AnPal_AIZ2-OffsAnPal
		.word AnPal_HCZ1-OffsAnPal
		.word AnPal_None2-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_CNZ-OffsAnPal
		.word AnPal_CNZ-OffsAnPal
		.word AnPal_FBZ-OffsAnPal
		.word AnPal_FBZ-OffsAnPal
		.word AnPal_ICZ-OffsAnPal
		.word AnPal_ICZ-OffsAnPal
		.word AnPal_LBZ1-OffsAnPal
		.word AnPal_LBZ2-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_LRZ1-OffsAnPal
		.word AnPal_LRZ2-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_BPZ-OffsAnPal
		.word AnPal_BPZ-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_CGZ-OffsAnPal
		.word AnPal_CGZ-OffsAnPal
		.word AnPal_EMZ-OffsAnPal
		.word AnPal_EMZ-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
		.word AnPal_None-OffsAnPal
/*  --------------------------------------------------------------------------- */

AnPal_None:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_AIZ1:
		moveb	(AIZ1_palette_cycle_flag):w,%d0
		bnes	loc_24A6
		subqw	#1,(Palette_cycle_counter1):w
		bpls	locret_24A4
		movew	#7,(Palette_cycle_counter1):w
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#8,(Palette_cycle_counter0):w
		andiw	#0x18,%d0
		lea	(AnPal_PalAIZ1_1):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_3+0x16):w
		movel	4(%a0,%d0.w),(Normal_palette_line_3+0x1A):w
		tstb	(Palette_cycle_counters+0x00):w
		bnes	locret_24A4
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#6,(Palette_cycle_counters+0x02):w
		cmpiw	#0x30,(Palette_cycle_counters+0x02):w
		bcss	loc_2492
		movew	#0,(Palette_cycle_counters+0x02):w

loc_2492:
		lea	(AnPal_PalAIZ1_2):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x18):w
		movew	4(%a0,%d0.w),(Normal_palette_line_4+0x1C):w

locret_24A4:
		rts
/*  --------------------------------------------------------------------------- */

loc_24A6:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	locret_2502
		movew	#9,(Palette_cycle_counter1):w
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#8,(Palette_cycle_counter0):w
		cmpiw	#0x50,(Palette_cycle_counter0):w
		bcss	loc_24C8
		movew	#0,(Palette_cycle_counter0):w

loc_24C8:
		lea	(AnPal_PalAIZ1_3):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_4+4):w
		movel	4(%a0,%d0.w),(Normal_palette_line_4+8):w
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#6,(Palette_cycle_counters+0x02):w
		cmpiw	#0x3C,(Palette_cycle_counters+0x02):w
		bcss	loc_24F0
		movew	#0,(Palette_cycle_counters+0x02):w

loc_24F0:
		lea	(AnPal_PalAIZ1_4):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x1A):w
		movew	4(%a0,%d0.w),(Normal_palette_line_4+0x1E):w

locret_2502:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_AIZ2:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	loc_257E
		movew	#5,(Palette_cycle_counter1):w
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#8,(Palette_cycle_counter0):w
		andiw	#0x18,%d0

loc_251C:
		lea	(AnPal_PalAIZ2_1):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x18):w
		movel	4(%a0,%d0.w),(Normal_palette_line_4+0x1C):w
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#6,(Palette_cycle_counters+0x02):w
		cmpiw	#0x30,(Palette_cycle_counters+0x02):w
		bcss	loc_2544
		movew	#0,(Palette_cycle_counters+0x02):w

loc_2544:
		lea	(AnPal_PalAIZ2_2):l,%a0
		cmpiw	#0x3800,(Camera_X_pos):w
		bcss	loc_2558
		lea	(AnPal_PalAIZ2_3):l,%a0

loc_2558:
		movew	(%a0,%d0.w),(Normal_palette_line_3+8):w
		movew	2(%a0,%d0.w),(Normal_palette_line_3+0x10):w
		movew	4(%a0,%d0.w),(Normal_palette_line_4+0x16):w
		movew	#0xA0E,(Normal_palette_line_3+0x1C):w
		cmpiw	#0x1C0,(Camera_X_pos):w
		bccs	loc_257E
		movew	4(%a0,%d0.w),(Normal_palette_line_3+0x1C):w

loc_257E:
		subqw	#1,(Palette_cycle_counters+0x08):w
		bpls	locret_25BA
		movew	#1,(Palette_cycle_counters+0x08):w
		movew	(Palette_cycle_counters+0x04):w,%d0
		addqw	#2,(Palette_cycle_counters+0x04):w
		cmpiw	#0x34,(Palette_cycle_counters+0x04):w
		bcss	loc_25A0
		movew	#0,(Palette_cycle_counters+0x04):w

loc_25A0:
		lea	(AnPal_PalAIZ2_4):l,%a0
		cmpiw	#0x3800,(Camera_X_pos):w
		bcss	loc_25B4
		lea	(AnPal_PalAIZ2_5):l,%a0

loc_25B4:
		movew	(%a0,%d0.w),(Normal_palette_line_4+2):w

locret_25BA:
		rts

/*  =============== S U B R O U T I N E ======================================= */


AnPal_HCZ1:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	locret_2608
		movew	#7,(Palette_cycle_counter1):w
		tstb	(Palette_cycle_counters+0x00):w
		beqs	loc_25D4
		movew	#0,(Palette_cycle_counter1):w

loc_25D4:
		lea	(AnPal_PalHCZ1):l,%a0
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#8,(Palette_cycle_counter0):w
		cmpiw	#0x20,(Palette_cycle_counter0):w
		bcss	loc_25F0
		movew	#0,(Palette_cycle_counter0):w

loc_25F0:
		movel	(%a0,%d0.w),(Normal_palette_line_3+6):w
		movel	4(%a0,%d0.w),(Normal_palette_line_3+0xA):w
		movel	(%a0,%d0.w),(Water_palette_line_3+6):w
		movel	4(%a0,%d0.w),(Water_palette_line_3+0xA):w

locret_2608:
		rts
/*  End of function AnPal_HCZ1 */

/*  --------------------------------------------------------------------------- */

AnPal_None2:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_CNZ:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	loc_2652
		movew	#3,(Palette_cycle_counter1):w
		lea	(AnPal_PalCNZ_1):l,%a0
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#6,(Palette_cycle_counter0):w
		cmpiw	#0x60,(Palette_cycle_counter0):w
		bcss	loc_2634
		movew	#0,(Palette_cycle_counter0):w

loc_2634:
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x12):w
		movew	4(%a0,%d0.w),(Normal_palette_line_4+0x16):w
		lea	(AnPal_PalCNZ_2):l,%a0
		movel	(%a0,%d0.w),(Water_palette_line_4+0x12):w
		movew	4(%a0,%d0.w),(Water_palette_line_4+0x16):w

loc_2652:
		lea	(AnPal_PalCNZ_3):l,%a0
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#6,(Palette_cycle_counters+0x02):w
		cmpiw	#0xB4,(Palette_cycle_counters+0x02):w
		bcss	loc_266E
		movew	#0,(Palette_cycle_counters+0x02):w

loc_266E:
		movel	(%a0,%d0.w),(Normal_palette_line_3+0x12):w
		movew	4(%a0,%d0.w),(Normal_palette_line_3+0x16):w
		lea	(AnPal_PalCNZ_4):l,%a0
		movel	(%a0,%d0.w),(Water_palette_line_3+0x12):w
		movew	4(%a0,%d0.w),(Water_palette_line_3+0x16):w
		subqw	#1,(Palette_cycle_counters+0x08):w
		bpls	locret_26C6
		movew	#2,(Palette_cycle_counters+0x08):w
		lea	(AnPal_PalCNZ_5):l,%a0
		movew	(Palette_cycle_counters+0x04):w,%d0
		addqw	#4,(Palette_cycle_counters+0x04):w
		cmpiw	#0x40,(Palette_cycle_counters+0x04):w
		bcss	loc_26B4
		movew	#0,(Palette_cycle_counters+0x04):w

loc_26B4:
		movel	(%a0,%d0.w),(Normal_palette_line_3+0xE):w
		lea	(AnPal_PalCNZ_5):l,%a0
		movel	(%a0,%d0.w),(Water_palette_line_3+0xE):w

locret_26C6:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_FBZ:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_ICZ:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	loc_26F8
		movew	#5,(Palette_cycle_counter1):w
		lea	(AnPal_PalICZ_1):l,%a0
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#4,(Palette_cycle_counter0):w
		cmpiw	#0x40,(Palette_cycle_counter0):w
		bcss	loc_26F2
		movew	#0,(Palette_cycle_counter0):w

loc_26F2:
		movel	(%a0,%d0.w),(Normal_palette_line_3+0x1C):w

loc_26F8:
		subqw	#1,(Palette_cycle_counters+0x08):w
		bpls	loc_272C
		movew	#9,(Palette_cycle_counters+0x08):w
		lea	(AnPal_PalICZ_2):l,%a0
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#4,(Palette_cycle_counters+0x02):w
		cmpiw	#0x48,(Palette_cycle_counters+0x02):w
		bcss	loc_2720
		movew	#0,(Palette_cycle_counters+0x02):w

loc_2720:
		tstw	(Events_bg+0x16):w
		beqs	loc_272C
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x1C):w

loc_272C:
		subqw	#1,(Palette_cycle_counters+0x0A):w
		bpls	locret_2782
		movew	#7,(Palette_cycle_counters+0x0A):w
		lea	(AnPal_PalICZ_3):l,%a0
		movew	(Palette_cycle_counters+0x04):w,%d0
		addqw	#4,(Palette_cycle_counters+0x04):w
		cmpiw	#0x18,(Palette_cycle_counters+0x04):w
		bcss	loc_2754
		movew	#0,(Palette_cycle_counters+0x04):w

loc_2754:
		tstw	(Events_bg+0x16):w
		beqs	loc_2760
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x18):w

loc_2760:
		lea	(AnPal_PalICZ_4):l,%a0
		movew	(Palette_cycle_counters+0x06):w,%d0
		addqw	#4,(Palette_cycle_counters+0x06):w
		cmpiw	#0x40,(Palette_cycle_counters+0x06):w
		bcss	loc_277C
		movew	#0,(Palette_cycle_counters+0x06):w

loc_277C:
		movel	(%a0,%d0.w),(Normal_palette_line_3+0x18):w

locret_2782:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_LBZ1:
		lea	(AnPal_PalLBZ1):l,%a0
		bras	loc_2792
/*  --------------------------------------------------------------------------- */

AnPal_LBZ2:
		lea	(AnPal_PalLBZ2):l,%a0

loc_2792:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	locret_27C0
		movew	#3,(Palette_cycle_counter1):w
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#6,(Palette_cycle_counter0):w
		cmpiw	#0x12,(Palette_cycle_counter0):w
		bcss	loc_27B4
		movew	#0,(Palette_cycle_counter0):w

loc_27B4:
		movel	(%a0,%d0.w),(Normal_palette_line_3+0x10):w
		movew	4(%a0,%d0.w),(Normal_palette_line_3+0x14):w

locret_27C0:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_LRZ1:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	locret_2818
		movew	#0xF,(Palette_cycle_counter1):w
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#8,(Palette_cycle_counter0):w
		cmpiw	#0x80,(Palette_cycle_counter0):w
		bcss	loc_27E4
		movew	#0,(Palette_cycle_counter0):w

loc_27E4:
		lea	(AnPal_PalLRZ1_1):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_3+2):w
		movel	4(%a0,%d0.w),(Normal_palette_line_3+6):w
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#4,(Palette_cycle_counters+0x02):w
		cmpiw	#0x1C,(Palette_cycle_counters+0x02):w
		bcss	loc_280C
		movew	#0,(Palette_cycle_counters+0x02):w

loc_280C:
		lea	(AnPal_PalLRZ1_2):l,%a0
		movel	(%a0,%d0.w),(Normal_palette_line_4+2):w

locret_2818:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_LRZ2:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_BPZ:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	loc_2850
		movew	#7,(Palette_cycle_counter1):w
		lea	(AnPal_PalBPZ_1):l,%a0
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#6,(Palette_cycle_counter0):w
		cmpiw	#0x12,(Palette_cycle_counter0):w
		bcss	loc_2844
		movew	#0,(Palette_cycle_counter0):w

loc_2844:
		movel	(%a0,%d0.w),(Normal_palette_line_3+0x1A):w
		movew	4(%a0,%d0.w),(Normal_palette_line_3+0x1E):w

loc_2850:
		subqw	#1,(Palette_cycle_counters+0x08):w
		bpls	locret_2884
		movew	#0x11,(Palette_cycle_counters+0x08):w
		lea	(AnPal_PalBPZ_2):l,%a0
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#6,(Palette_cycle_counters+0x02):w
		cmpiw	#0x7E,(Palette_cycle_counters+0x02):w
		bcss	loc_2878
		movew	#0,(Palette_cycle_counters+0x02):w

loc_2878:
		movel	(%a0,%d0.w),(Normal_palette_line_4+4):w
		movew	4(%a0,%d0.w),(Normal_palette_line_4+8):w

locret_2884:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_CGZ:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	locret_28BA
		movew	#9,(Palette_cycle_counter1):w
		lea	(AnPal_PalCGZ):l,%a0
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#8,(Palette_cycle_counter0):w
		cmpiw	#0x50,(Palette_cycle_counter0):w
		bcss	loc_28AE
		movew	#0,(Palette_cycle_counter0):w

loc_28AE:
		movel	(%a0,%d0.w),(Normal_palette_line_3+4):w
		movel	4(%a0,%d0.w),(Normal_palette_line_3+8):w

locret_28BA:
		rts
/*  --------------------------------------------------------------------------- */

AnPal_EMZ:
		subqw	#1,(Palette_cycle_counter1):w
		bpls	loc_28EA
		movew	#7,(Palette_cycle_counter1):w
		lea	(AnPal_PalEMZ_1):l,%a0
		movew	(Palette_cycle_counter0):w,%d0
		addqw	#2,(Palette_cycle_counter0):w
		cmpiw	#0x3C,(Palette_cycle_counter0):w
		bcss	loc_28E4
		movew	#0,(Palette_cycle_counter0):w

loc_28E4:
		movew	4(%a0,%d0.w),(Normal_palette_line_3+0x1C):w

loc_28EA:
		subqw	#1,(Palette_cycle_counters+0x08):w
		bpls	locret_2918
		movew	#0x1F,(Palette_cycle_counters+0x08):w
		lea	(AnPal_PalEMZ_2):l,%a0
		movew	(Palette_cycle_counters+0x02):w,%d0
		addqw	#4,(Palette_cycle_counters+0x02):w
		cmpiw	#0x34,(Palette_cycle_counters+0x02):w
		bcss	loc_2912
		movew	#0,(Palette_cycle_counters+0x02):w

loc_2912:
		movel	(%a0,%d0.w),(Normal_palette_line_4+0x12):w

locret_2918:
		rts
/*  --------------------------------------------------------------------------- */
AnPal_PalAIZ1_1:.word 0xEE8,0xEE2,0xEA4,0xE64,0xEE2,0xEA4,0xE64,0xEE8,0xEA4,0xE64,0xEE8,0xEE2,0xE64,0xEE8,0xEE2,0xEA4

AnPal_PalAIZ1_3:.word 0xEEC,0xEEE,0xEE8,0xE40,0xEEC,0xEE8,0xEE8,0xEEE,0xEEA,0xE86,0xEE8,0xEE8,0xEE8,0xE40,0xEE8,0xE86
		.word 0xEE6,0xEEE,0xEE8,0xE40,0xEEA,0xEE8,0xEE8,0xEEE,0xEE8,0xE86,0xEE8,0xEE8,0xEE8,0xE40,0xEE8,0xE86
		.word 0xEE6,0xEEE,0xEE8,0xE40,0xEE8,0xEE8,0xEE8,0xEEE,0xEEA,0xE86,0xEE8,0xEE8,0xEEC,0xE40,0xEE8,0xE86
		.word 0xEEC,0xEEE,0xEE8,0xE40,0xEEC,0xEE8,0xEE8,0xEEE,0xEEC,0xE86,0xEE8,0xEE8,0xEEC,0xE40,0xEE8,0xE86

AnPal_PalAIZ1_4:.word 0xCEC,0xCEE,0xEEE,0xCEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEEE
		.word 0xEEE,0xEEE,0xEEE,0xEEE,0xEEE,0xEE8,0xEEE,0xEEE,0xEE8,0xEE8,0xEEE,0xEE8,0xEE8,0xEE8,0xEE8,0xEE8
		.word 0xEE8,0xEE8,0xEE8,0xEE8,0xEE8,0xEE8,0xEE8,0xEE8,0xEE8,0xAEC,0xEE8,0xAEC,0xCEC,0xAEC,0xCEC,0xCEC

AnPal_PalAIZ1_2:.word 0xEA4,0xE60,0xEE2,0xEA4,0xEE8,0xEA4,0xE60,0xEE8,0xEEE,0xE60,0xEE2,0xEE2,0xEE8,0xEA4,0xEA4,0xEE2
		.word 0xE60,0xE60,0xEE2,0xE60,0xEEE,0xEE2,0xE60,0xEE8

AnPal_PalAIZ2_1:.word 0xEE8,0xEE2,0xEC4,0xEA4,0xEE2,0xEC4,0xEA4,0xEE8,0xEC4,0xEA4,0xEE8,0xEE2,0xEA4,0xEE8,0xEE2,0xEC4

AnPal_PalAIZ2_2:.word  0x24, 0x44, 0x8E, 0x26, 0x46, 0xAE, 0x24, 0x48, 0x8E, 0x26, 0x4A, 0xAE, 0x24, 0x4C, 0x8E, 0x26
		.word  0x4A, 0xAE, 0x24, 0x48, 0x8E, 0x24, 0x46, 0x8E

AnPal_PalAIZ2_3:.word  0x24, 0x44,  0xC, 0x26, 0x46,  0xE, 0x24, 0x48,  0xC, 0x26, 0x4A,  0xE, 0x24, 0x4C,  0xC, 0x26
		.word  0x4A,  0xE, 0x24, 0x48,  0xC, 0x24, 0x46,  0xC

AnPal_PalAIZ2_4:.word  0x6E, 0x6E, 0x6E, 0x6E,0x28E,0x4AE,0x6AE,0x8CE,0x8EE,0xAEE,0xAEE,0xAEE,0xAEE,0xAEE,0x8EE,0x8EE
		.word 0x8EE,0x8EE,0x8CE,0x8CE,0x8CE,0x6AE,0x6AE,0x4AE,0x4AE,0x28E

AnPal_PalAIZ2_5:.word   0xC,  0xC,  0xC,  0xC, 0x2C,  0xE, 0x2E, 0x4E, 0x6E, 0x8E, 0x8E, 0x8E, 0x8E, 0x8E, 0x6E, 0x4E
		.word  0x4E, 0x4E, 0x2E, 0x2E, 0x2E,  0xE,  0xE, 0x2C, 0x2C, 0x2C

AnPal_PalHCZ1:	.word 0xEC8,0xEC0,0xEA0,0xE80,0xEC0,0xEA0,0xE80,0xEC8,0xEA0,0xE80,0xEC8,0xEC0,0xE80,0xEC8,0xEC0,0xEA0

AnPal_PalCNZ_1:	.word    0, 0x66, 0xEE, 0x22, 0x44, 0xCC, 0x44, 0x22, 0xAA, 0x66,   0, 0x88, 0x88,   0, 0x66, 0xAA
		.word  0x22, 0x44, 0xCC, 0x44, 0x22, 0xEE, 0x66,   0, 0xEE, 0x88,   0, 0xCC, 0xAA, 0x22, 0xAA, 0xCC
		.word  0x44, 0x88, 0xEE, 0x66, 0x66, 0xEE, 0x88, 0x44, 0xCC, 0xAA, 0x22, 0xAA, 0xCC,   0, 0x88, 0xEE

AnPal_PalCNZ_3:	.word 0xE20, 0x8A,0xC0E,0xC42, 0x6C,0xE0E,0xA64, 0x4C,0xE0C,0x884, 0x2E,0xE0A,0x6A6,  0xE,0xE08,0x4C6
		.word 0x20E,0xE06,0x2E8,0x40E,0xE04, 0xE8,0x60E,0xE02, 0xC8,0x80E,0xE00, 0xAA,0xA0E,0xE00, 0x8A,0xC0E
		.word 0xE20, 0x6C,0xE0E,0xC42, 0x4C,0xE0C,0xA64, 0x2E,0xE0A,0x884,  0xE,0xE08,0x6A6,0x20E,0xE06,0x4C6
		.word 0x40E,0xE04,0x2E8,0x60E,0xE02, 0xE8,0x80E,0xE00, 0xC8,0xA0E,0xE00, 0xAA,0xC0E,0xE20, 0x8A,0xE0E
		.word 0xC42, 0x6C,0xE0C,0xA64, 0x4C,0xE0A,0x884, 0x2E,0xE08,0x6A6,  0xE,0xE06,0x4C6,0x20E,0xE04,0x2E8
		.word 0x40E,0xE02, 0xE8,0x60E,0xE00, 0xC8,0x80E,0xE00, 0xAA,0xA0E

AnPal_PalCNZ_5:	.word 0x2E0,0xECE,0x4E2,0xEAC,0x6E4,0xE8A,0x8E6,0xE68,0xAE8,0xE46,0xCEA,0xE24,0xEEC,0xE02,0xEEE,0xE00
		.word 0xEEC,0xE02,0xCEA,0xE24,0xAE8,0xE46,0x8E6,0xE68,0x6E4,0xE8A,0x4E2,0xEAC,0x2E0,0xECE, 0xE0,0xEEE

AnPal_PalCNZ_2:	.word 0x800,0x800,0x886,0x800,0x800,0x864,0x800,0x800,0x842,0x800,0x800,0x820,0x820,0x800,0x800,0x842
		.word 0x800,0x800,0x864,0x800,0x800,0x886,0x800,0x800,0x886,0x820,0x800,0x864,0x842,0x800,0x842,0x864
		.word 0x800,0x820,0x886,0x800,0x800,0x886,0x820,0x800,0x864,0x842,0x800,0x842,0x864,0x800,0x820,0x886

AnPal_PalCNZ_4:	.word 0xE20,0xE8A,0xE0A,0xE42,0xE6A,0xE0A,0xE64,0xE4A,0xE0A,0xE84,0xE2A,0xE0A,0xEA6,0xE0A,0xE08,0xEC6
		.word 0xE0A,0xE06,0xEE8,0xE0A,0xE04,0xEE8,0xE0A,0xE02,0xEC8,0xE0A,0xE00,0xEAA,0xE0A,0xE00,0xE8A,0xE0A
		.word 0xE20,0xE6A,0xE0A,0xC42,0xE4A,0xE0A,0xE64,0xE2A,0xE0A,0xE84,0xE0A,0xE08,0xEA6,0xE0A,0xE06,0xEC6
		.word 0xE0A,0xE04,0xEE8,0xE0A,0xE02,0xEE8,0xE0A,0xE00,0xEC8,0xE0A,0xE00,0xEAA,0xE0A,0xE20,0xE8A,0xE0A
		.word 0xE42,0xE6A,0xE0A,0xE64,0xE4A,0xE0A,0xE84,0xE2A,0xE08,0xEA6,0xE0A,0xE06,0xEC6,0xE0A,0xE04,0xEE8
		.word 0xE0A,0xE02,0xEE8,0xE0A,0xE00,0xEC8,0xE0A,0xE00,0xEAA,0xE0A,0x840,0xECA,0x862,0xEAA,0x884,0xE88
		.word 0x8A6,0xE66,0xAE8,0xE44,0xCEA,0xE22,0xEEC,0xE00,0xEEC,0xE00,0xEEC,0xE00,0xCEA,0xE22,0xAE8,0xE44
		.word 0x8A6,0xE66,0x884,0xE88,0x862,0xEAA,0x840,0xECA,0x822,0xECA

AnPal_PalICZ_1:	.word 0xE62,0xE20,0xE44,0xE20,0xE44,0xE00,0xE42,0xE00,0xE62,0xC00,0xE82,0xA00,0xEA2,0xC00,0xEC0,0xE00
		.word 0xEE0,0xE20,0xEE4,0xE00,0xEE4,0xC00,0xEE4,0xA00,0xEE0,0x800,0xEC2,0xA00,0xEA2,0xC00,0xE82,0xE20

AnPal_PalICZ_2:	.word 0xE06,0xE08,0xE04,0xE06,0xC04,0xE04,0xC02,0xC04,0xA02,0xC02,0xA00,0xA02,0x800,0xA00,0x600,0x800
		.word 0x600,0x800,0x600,0x800,0x600,0x800,0x800,0xA00,0xA00,0xA02,0xA02,0xC02,0xC02,0xC04,0xC04,0xE04
		.word 0xE04,0xE06,0xE06,0xE08

AnPal_PalICZ_3:	.word 0x840,0xEEA,0x860,0xEE0,0xA80,0xEC0,0xEC0,0xA80,0xA80,0xEC0,0x860,0xEE0

AnPal_PalICZ_4:	.word  0xE8,0xCEC, 0xC8,0xAEA, 0xC8,0xAEA, 0xA6,0x6E8, 0xA6,0x6E8, 0x84, 0xE8, 0x84, 0xE8, 0x82, 0xC8
		.word  0x64, 0xA6, 0x64, 0xA6, 0x82, 0xC8, 0x84, 0xE8, 0xA6,0x6E8, 0xC8,0xAEA, 0xE8,0xCEC, 0xE8,0xCEC

AnPal_PalLBZ1:	.word  0x8E0,  0xC0,  0x80,  0xC0,  0x80, 0x8E0,  0x80, 0x8E0,  0xC0

AnPal_PalLBZ2:	.word 0xEEA,0xEA4,0xC62,0xEA4,0xC62,0xEEA,0xC62,0xEEA,0xEA4

AnPal_PalLRZ1_1:.word  0xEE, 0xAE, 0x6E,  0xE, 0xAE, 0x6E,  0xE, 0xEE, 0x6E,  0xE, 0xEE,0x2CE, 0x2E,0x8EE,0x4EE, 0x6E
		.word 0xAEE,0x6EE, 0x8E, 0x4E,0x4EE, 0x6E, 0x2E,0x8EE, 0x6E,  0xE, 0xEE,0x2CE,  0xE, 0xEE,0x2CE, 0x6E
		.word  0xEE, 0xAE, 0x6E,  0xE, 0x8E, 0x4E,  0xC, 0xCE, 0x2E,  0xA, 0xAC, 0x6E,   8, 0x8E, 0x4C,  0xC
		.word  0xAC, 0x6E, 0x2E,  0xA, 0x8E, 0x4E,  0xC, 0xCE, 0x6E,  0xE, 0xEE, 0xAE,  0xE, 0xEE, 0xAE, 0x6E

AnPal_PalLRZ1_2:.word 0x224,0x224,0x224,0x424,0x224,0x426,0x426,0x224,0x424,0x224,0x224,0x224,0x224,0x224,0x224,0x422
		.word 0x422,0x422

AnPal_PalBPZ_1:	.word  0xEE, 0xAE, 0x6C, 0xAE, 0x6E, 0xEE, 0x6E, 0xEE, 0xAE

AnPal_PalBPZ_2:	.word 0xEE0,0xE0E, 0xEE,0xEA0,0xA0E, 0xEA,0xE60,0x60E, 0xE6,0xE20,0x20E, 0xE2,0xE02, 0x2E,0x2E0,0xE06
		.word  0x6E,0x6E0,0xE0A, 0xAE,0xAE0,0xE0E, 0xEE,0xEE0,0xA0E, 0xEA,0xEA0,0x60E, 0xE6,0xE60,0x20E, 0xE2
		.word 0xE20, 0x2E,0x2E0,0xE02, 0x6E,0x6E0,0xE06, 0xAE,0xAE0,0xE0A, 0xEE,0xEE0,0xE0E, 0xEA,0xEA0,0xA0E
		.word  0xE6,0xE60,0x60E, 0xE2,0xE20,0x20E,0x2E0,0xE02, 0x2E,0x6E0,0xE06, 0x6E,0xAE0,0xE0A, 0xAE

AnPal_PalCGZ:	.word   0xE,   8,   4,0xEEE,  0xC,   6,   2,0xCCE,  0xA,   4,   0,0xAAE,   8,   2,   0,0x88E
		.word    6,   0,   0,0x66E,   4,   0,   0,0x44E,   6,   0,   0,0x66E,   8,   2,   0,0x88E
		.word   0xA,   4,   2,0xAAE,  0xC,   6,   4,0xCCE

AnPal_PalEMZ_1:	.word    6,   8,  0xA,  0xC,  0xE,  0xE,  0xE,  0xE,  0xC,  0xA,   8,   6,   6,   6,   6,   8
		.word   0xA,  0xC,  0xE,  0xE,  0xE,  0xC,  0xA,   8,   6,   8,  0xA,  0xA,  0xA,   8

AnPal_PalEMZ_2:	.word    0,  0xE,   2,  0xC,   4,  0xA,   6,   8,   8,   6,  0xA,   4,  0xC,   2,  0xE,   0
		.word   0xC,   2,  0xA,   4,   8,   6,   6,   8,   4,  0xA,   2,  0xC

/*  =============== S U B R O U T I N E ======================================= */


SuperSonic_PalCycle:
		moveb	(Super_palette_status):w,%d0
		beqs	locret_316A
		bmiw	SuperSonic_PalCycle_Normal
		subqb	#1,%d0
		bnes	SuperSonic_PalCycle_Revert
		subqb	#1,(Palette_timer):w
		bpls	locret_316A
		moveb	#1,(Palette_timer):w
		lea	(PalCycle_SuperSonic):l,%a0
		movew	(Palette_frame):w,%d0
		addqw	#6,(Palette_frame):w
		cmpiw	#0x24,(Palette_frame):w
		bcss	SuperSonic_PalCycle_SonicApply
		moveb	#-1,(Super_palette_status):w
		moveb	#0,(Player_1+object_control):w

SuperSonic_PalCycle_SonicApply:
		lea	(Normal_palette+4):w,%a1
		movel	(%a0,%d0.w),(%a1)+
		movew	4(%a0,%d0.w),(%a1)
		tstb	(Water_flag):w
		beqs	locret_316A
		lea	(PalCycle_SuperSonicUnderwaterAIZICZ):l,%a0
		tstb	(Current_zone):w
		beqs	SuperSonic_PalCycle_ApplyUnderwater
		cmpib	#5,(Current_zone):w
		beqs	SuperSonic_PalCycle_ApplyUnderwater
		lea	(PalCycle_SuperSonicUnderwaterHCZCNZLBZ):l,%a0

SuperSonic_PalCycle_ApplyUnderwater:
		lea	(Water_palette+4):w,%a1
		movel	(%a0,%d0.w),(%a1)+
		movew	4(%a0,%d0.w),(%a1)

locret_316A:
		rts
/*  --------------------------------------------------------------------------- */

SuperSonic_PalCycle_Revert:
		subqb	#1,(Palette_timer):w
		bpls	locret_316A
		moveb	#3,(Palette_timer):w
		lea	(PalCycle_SuperSonic):l,%a0
		movew	(Palette_frame):w,%d0
		subqw	#6,(Palette_frame):w
		bccs	loc_3194
		/*  Bug: this only clears the high byte of Palette_frame, causing subsequent */
		/*  fade-ins to pull color values from Pal_FromBlack */
		moveb	#0,(Palette_frame):w
		moveb	#0,(Super_palette_status):w

loc_3194:
		bras	SuperSonic_PalCycle_SonicApply
/*  --------------------------------------------------------------------------- */

SuperSonic_PalCycle_Normal:
		subqb	#1,(Palette_timer):w
		bpls	locret_316A
		moveb	#6,(Palette_timer):w
		lea	(PalCycle_SuperSonic):l,%a0
		movew	(Palette_frame):w,%d0
		addqw	#6,(Palette_frame):w
		cmpiw	#0x36,(Palette_frame):w
		bcss	loc_31BE
		movew	#0x24,(Palette_frame):w

loc_31BE:
		braw	SuperSonic_PalCycle_SonicApply
/*  End of function SuperSonic_PalCycle */

/*  --------------------------------------------------------------------------- */
PalCycle_SuperSonic:
		.word 0xE66,0xC42,0x822
		.word 0xE88,0xC66,0x844
		.word 0xEAA,0xC88,0xA66
		.word 0xECC,0xEAA,0xC88
		.word 0xEEE,0xECC,0xEAA
		.word 0xEEE,0xEEE,0xEEE
		.word 0xCEE,0xCEE,0xAEE
		.word 0xAEE,0x8EE,0x6CC
		.word 0x8EE, 0xEE, 0xAA
		.word 0xAEE,0x8EE,0x6CC
PalCycle_SuperSonicUnderwaterAIZICZ:
		.word 0xA82,0x860,0x640
		.word 0xE88,0xC66,0x844
		.word 0xEAA,0xC88,0xA66
		.word 0xECC,0xEAA,0xC88
		.word 0xEEE,0xECC,0xEAA
		.word 0xEEE,0xEEE,0xEEE
		.word 0xCEE,0xCEC,0xAEC
		.word 0xAEC,0x8EC,0x6CA
		.word 0x8EC,0x4EA,0x4A8
		.word 0xCEE,0xCEC,0xAEC
PalCycle_SuperSonicUnderwaterHCZCNZLBZ:
		.word 0xC66,0xA44,0x624
		.word 0xE88,0xC66,0x844
		.word 0xEAA,0xC88,0xA66
		.word 0xECC,0xEAA,0xC88
		.word 0xEEE,0xECC,0xEAA
		.word 0xEEE,0xEEE,0xEEE
		.word 0xCEE,0xCEC,0xAEC
		.word 0xAEC,0x8EC,0x6CA
		.word 0x8EC,0x4EA,0x4A8
		.word 0xCEE,0xCEC,0xAEC

/*  =============== S U B R O U T I N E ======================================= */


Pal_FadeFromBlack:
		movew	#0x3F,(Palette_fade_info):w
		jsr	Pal_FillBlack(%pc)
		movew	#0x15,%d4

loc_3284:
		moveb	#0x12,(V_int_routine):w
		bsrw	Wait_VSync
		bsrs	Pal_FromBlack
		bsrw	Process_Nem_Queue_Init
		dbf	%d4,loc_3284
		rts
/*  End of function Pal_FadeFromBlack */


/*  =============== S U B R O U T I N E ======================================= */


Pal_FromBlack:
		moveq	#0,%d0
		lea	(Normal_palette):w,%a0
		lea	(Target_palette):w,%a1
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		addaw	%d0,%a1
		moveb	(Palette_fade_count):w,%d0

loc_32B0:
		bsrs	Pal_AddColor
		dbf	%d0,loc_32B0
		tstb	(Water_flag):w
		beqs	locret_32D8
		moveq	#0,%d0
		lea	(Water_palette):w,%a0
		lea	(Target_water_palette):w,%a1
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		addaw	%d0,%a1
		moveb	(Palette_fade_count):w,%d0

loc_32D2:
		bsrs	Pal_AddColor
		dbf	%d0,loc_32D2

locret_32D8:
		rts
/*  End of function Pal_FromBlack */


/*  =============== S U B R O U T I N E ======================================= */


Pal_AddColor:
		movew	(%a1)+,%d2
		movew	(%a0),%d3
		cmpw	%d2,%d3
		beqs	loc_3302
		movew	%d3,%d1
		addiw	#0x200,%d1
		cmpw	%d2,%d1
		bhis	loc_32F0
		movew	%d1,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_32F0:
		movew	%d3,%d1
		addiw	#0x20,%d1
		cmpw	%d2,%d1
		bhis	loc_32FE
		movew	%d1,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_32FE:
		addqw	#2,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_3302:
		addqw	#2,%a0
		rts
/*  End of function Pal_AddColor */


/*  =============== S U B R O U T I N E ======================================= */


Pal_FillBlack:
		moveq	#0,%d0
		lea	(Normal_palette):w,%a0
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		moveq	#0,%d1
		moveb	(Palette_fade_count):w,%d0

loc_3318:
		movew	%d1,(%a0)+
		tstb	(Water_flag):w
		beqs	loc_3324
		movew	%d1,-0xB82(%a0)

loc_3324:
		dbf	%d0,loc_3318
		rts
/*  End of function Pal_FillBlack */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Palette:
		tstw	(Palette_fade_timer):w
		beqs	loc_3338
		subqw	#1,(Palette_fade_timer):w
		braw	Pal_FromBlack
/*  --------------------------------------------------------------------------- */

loc_3338:
		jmp	(AnPal_Load):l
/*  End of function Animate_Palette */


/*  =============== S U B R O U T I N E ======================================= */


Pal_FadeToBlack:
		movew	#0x3F,(Palette_fade_info):w
		movew	#0x15,%d4

loc_3348:
		moveb	#0x12,(V_int_routine):w
		bsrw	Wait_VSync
		bsrs	Pal_ToBlack
		bsrw	Process_Nem_Queue_Init
		dbf	%d4,loc_3348
		rts
/*  End of function Pal_FadeToBlack */


/*  =============== S U B R O U T I N E ======================================= */


Pal_ToBlack:
		moveq	#0,%d0
		lea	(Normal_palette):w,%a0
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		moveb	(Palette_fade_count):w,%d0

loc_336E:
		bsrs	Pal_DecColor
		dbf	%d0,loc_336E
		moveq	#0,%d0
		lea	(Water_palette):w,%a0
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		moveb	(Palette_fade_count):w,%d0

loc_3384:
		bsrs	Pal_DecColor
		dbf	%d0,loc_3384
		rts
/*  End of function Pal_ToBlack */


/*  =============== S U B R O U T I N E ======================================= */


Pal_DecColor:
		movew	(%a0),%d2
		beqs	loc_33B8
		movew	%d2,%d1
		andiw	#0xE,%d1
		beqs	loc_339C
		subqw	#2,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_339C:
		movew	%d2,%d1
		andiw	#0xE0,%d1
		beqs	loc_33AA
		subiw	#0x20,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_33AA:
		movew	%d2,%d1
		andiw	#0xE00,%d1
		beqs	loc_33B8
		subiw	#0x200,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_33B8:
		addqw	#2,%a0
		rts
/*  End of function Pal_DecColor */


/*  =============== S U B R O U T I N E ======================================= */


Pal_FromBlackWhite:
		movew	#0x3F,(Palette_fade_info):w
		moveq	#0,%d0
		lea	(Normal_palette):w,%a0
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		movew	#0xEEE,%d1
		moveb	(Palette_fade_count):w,%d0

loc_33D6:
		movew	%d1,(%a0)+
		dbf	%d0,loc_33D6
		movew	#0x15,%d4

loc_33E0:
		moveb	#0x12,(V_int_routine):w
		bsrw	Wait_VSync
		bsrs	Pal_FromWhite
		bsrw	Process_Nem_Queue_Init
		dbf	%d4,loc_33E0
		rts
/*  End of function Pal_FromBlackWhite */


/*  =============== S U B R O U T I N E ======================================= */


Pal_FromWhite:
		moveq	#0,%d0
		lea	(Normal_palette):w,%a0
		lea	(Target_palette):w,%a1
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		addaw	%d0,%a1
		moveb	(Palette_fade_count):w,%d0

loc_340C:
		bsrs	Pal_DecColor2
		dbf	%d0,loc_340C
		tstb	(Water_flag):w
		beqs	locret_3434
		moveq	#0,%d0
		lea	(Water_palette):w,%a0
		lea	(Target_water_palette):w,%a1
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		addaw	%d0,%a1
		moveb	(Palette_fade_count):w,%d0

loc_342E:
		bsrs	Pal_DecColor2
		dbf	%d0,loc_342E

locret_3434:
		rts
/*  End of function Pal_FromWhite */


/*  =============== S U B R O U T I N E ======================================= */


Pal_DecColor2:
		movew	(%a1)+,%d2
		movew	(%a0),%d3
		cmpw	%d2,%d3
		beqs	loc_3462
		movew	%d3,%d1
		subiw	#0x200,%d1
		bcss	loc_344E
		cmpw	%d2,%d1
		bcss	loc_344E
		movew	%d1,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_344E:
		movew	%d3,%d1
		subiw	#0x20,%d1
		bcss	loc_345E
		cmpw	%d2,%d1
		bcss	loc_345E
		movew	%d1,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_345E:
		subqw	#2,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_3462:
		addqw	#2,%a0
		rts
/*  End of function Pal_DecColor2 */


/*  =============== S U B R O U T I N E ======================================= */


Pal_FadeToWhite:
		movew	#0x3F,(Palette_fade_info):w
		movew	#0x15,%d4

loc_3470:
		moveb	#0x12,(V_int_routine):w
		bsrw	Wait_VSync
		bsrs	Pal_ToWhite
		bsrw	Process_Nem_Queue_Init
		dbf	%d4,loc_3470
		rts
/*  End of function Pal_FadeToWhite */


/*  =============== S U B R O U T I N E ======================================= */


Pal_ToWhite:
		moveq	#0,%d0
		lea	(Normal_palette):w,%a0
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		moveb	(Palette_fade_count):w,%d0

loc_3496:
		bsrs	Pal_AddColor2
		dbf	%d0,loc_3496
		moveq	#0,%d0
		lea	(Water_palette):w,%a0
		moveb	(Palette_fade_info):w,%d0
		addaw	%d0,%a0
		moveb	(Palette_fade_count):w,%d0

loc_34AC:
		bsrs	Pal_AddColor2
		dbf	%d0,loc_34AC
		rts
/*  End of function Pal_ToWhite */


/*  =============== S U B R O U T I N E ======================================= */


Pal_AddColor2:
		movew	(%a0),%d2
		cmpiw	#0xEEE,%d2
		beqs	loc_34F0
		movew	%d2,%d1
		andiw	#0xE,%d1
		cmpiw	#0xE,%d1
		beqs	loc_34CC
		addqw	#2,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_34CC:
		movew	%d2,%d1
		andiw	#0xE0,%d1
		cmpiw	#0xE0,%d1
		beqs	loc_34DE
		addiw	#0x20,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_34DE:
		movew	%d2,%d1
		andiw	#0xE00,%d1
		cmpiw	#0xE00,%d1
		beqs	loc_34F0
		addiw	#0x200,(%a0)+
		rts
/*  --------------------------------------------------------------------------- */

loc_34F0:
		addqw	#2,%a0
		rts
/*  End of function Pal_AddColor2 */


/*  =============== S U B R O U T I N E ======================================= */


LoadPalette:
		lea	(PalPoint):l,%a1
		lslw	#3,%d0
		addaw	%d0,%a1
		moveal	(%a1)+,%a2
		moveaw	(%a1)+,%a3
		addaw	#Target_palette-Normal_palette,%a3
		movew	(%a1)+,%d7

loc_3508:
		movel	(%a2)+,(%a3)+
		dbf	%d7,loc_3508
		rts
/*  End of function LoadPalette */


/*  =============== S U B R O U T I N E ======================================= */


LoadPalette_Immediate:
		lea	(PalPoint):l,%a1
		lslw	#3,%d0
		addaw	%d0,%a1
		moveal	(%a1)+,%a2
		moveaw	(%a1)+,%a3
		movew	(%a1)+,%d7

loc_3520:
		movel	(%a2)+,(%a3)+
		dbf	%d7,loc_3520
		rts
/*  End of function LoadPalette_Immediate */


/*  =============== S U B R O U T I N E ======================================= */


LoadPalette2:
		lea	(PalPoint):l,%a1
		lslw	#3,%d0
		addaw	%d0,%a1
		moveal	(%a1)+,%a2
		moveaw	(%a1)+,%a3
		subaw	#Normal_palette-Water_palette,%a3
		movew	(%a1)+,%d7

loc_353C:
		movel	(%a2)+,(%a3)+
		dbf	%d7,loc_353C
		rts
/*  End of function LoadPalette2 */


/*  =============== S U B R O U T I N E ======================================= */


LoadPalette2_Immediate:
		lea	(PalPoint):l,%a1
		lslw	#3,%d0
		addaw	%d0,%a1
		moveal	(%a1)+,%a2
		moveaw	(%a1)+,%a3
		subaw	#Normal_palette-Target_water_palette,%a3
		movew	(%a1)+,%d7

loc_3558:
		movel	(%a2)+,(%a3)+
		dbf	%d7,loc_3558
		rts
/*  End of function LoadPalette2_Immediate */

/*  --------------------------------------------------------------------------- */

Sega_Screen:
		moveb	#4,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

Title_Screen:
		moveq	#mus_FadeOut,%d0
		bsrw	Play_Sound
		bsrw	Clear_Nem_Queue
		bsrw	Pal_FadeToBlack
		move	#0x2700,sr
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x9011,(%a6)
		movew	#0x9200,(%a6)
		movew	#0x8B03,(%a6)
		movew	#0x8700,(%a6)
		clrb	(Water_full_screen_flag):w
		movew	#-0x737F,(%a6)
		bsrw	Clear_DisplayData
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_35B2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_35B2
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_35C2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_35C2
		lea	(Tails_CPU_interact):w,%a1
		moveq	#0,%d0
		movew	#0x3F,%d1

loc_35D2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_35D2
		lea	(Camera_RAM):w,%a1
		moveq	#0,%d0
		movew	#0x3F,%d1

loc_35E2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_35E2
		jsr	(Init_SpriteTable):l
		lea	(Normal_palette):w,%a1
		moveq	#0,%d0
		movew	#0x3F,%d1

loc_35F8:
		movel	%d0,(%a1)+
		dbf	%d1,loc_35F8
		moveb	#0,(Last_star_post_hit):w
		moveb	#0,(Special_bonus_entry_flag):w
		movew	#0,(Debug_placement_mode):w
		movew	#0,(Demo_mode_flag):w
		movew	#0,(Palette_cycle_counter1):w
		movew	#0,(Competition_mode):w
		moveb	#0,(Level_started_flag):w
		moveb	#0,(Debug_mode_flag):w
		movew	#0,(Competition_mode):w
		movew	#0,(Level_select_cheat_counter):w
		movew	#0,(Debug_mode_cheat_counter):w
		movew	#0x167,(Demo_timer):w
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		lea	(ArtKos_S3TitleSonic1):l,%a0
		lea	(RAM_start):l,%a1
		bsrw	Kos_Decomp
		movew	%a1,%d3
		lsrw	#1,%d3
		movel	#RAM_start,%d1
		movew	#0,%d2
		andil	#0xFFFFFF,%d1
		jsr	(Add_To_DMA_Queue):l
		lea	(Level_layout_header):w,%a1
		lea	(MapEni_S3TitleSonic1):l,%a0
		movew	#0,%d0
		bsrw	Eni_Decomp
		lea	(Level_layout_header):w,%a1
		movel	#0x40000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(Pal_TitleSonic1):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#7,%d0

loc_36AE:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_36AE
		movew	#0xF0,(Demo_timer):w
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Pal_FadeFromBlack
		moveq	#mus_SEGA,%d0
		bsrw	Play_Sound
		movew	#0xB4,(Demo_timer):w

Wait_SegaS3K:
		moveb	#0x14,(V_int_routine):w
		bsrw	Wait_VSync
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x80,%d0
		bnew	loc_36F8
		tstw	(Demo_timer):w
		bnes	Wait_SegaS3K

loc_36F8:
		moveq	#mus_StopSEGA,%d0
		bsrw	Play_Sound
		lea	(Pal_Title):l,%a1

loc_3704:
		moveb	#2,(V_int_routine):w
		bsrw	Wait_VSync
		lea	(Normal_palette):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		movew	(%a1)+,(%a2)+
		tstw	-0xE(%a1)
		bnes	loc_3704
		clrw	(_unkF660):w
		clrw	(_unkF662):w
		moveb	#-1,(Title_anim_buffer):w
		moveb	#0,(Title_anim_delay):w
		movew	#1,(Title_anim_frame):w
		moveq	#1,%d0
		bsrw	TitleSonic_LoadFrame
		movew	#0x384,(Demo_timer):w
		lea	(ArtKos_S3TitleSonic8):l,%a1
		lea	(RAM_start):l,%a2
		jsr	(Queue_Kos):l
		moveq	#mus_TitleScreen,%d0
		bsrw	Play_Sound

Wait_TitleS3K:
		moveb	#4,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		bsrw	Wait_VSync
		bsrw	Iterate_TitleSonicFrame
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		bsrw	Process_Nem_Queue_Init
		bsrw	S3_Level_Select_Code
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x80,%d0
		bnew	loc_379E
		cmpiw	#0xC,(Title_anim_frame):w
		bcss	Wait_TitleS3K

loc_379E:
		movew	#0xC,(Title_anim_frame):w
		lea	(Normal_palette):w,%a1
		moveq	#0x3F,%d1

loc_37AA:
		movew	#0xEEE,(%a1)+
		dbf	%d1,loc_37AA
		moveb	#3,(Title_anim_delay):w
		moveb	#4,(V_int_routine):w
		bsrw	Wait_VSync
		lea	(ArtKos_S3TitleSonicD):l,%a0
		lea	(RAM_start):l,%a1
		bsrw	Kos_Decomp
		movew	%a1,%d3
		lsrw	#1,%d3
		movel	#RAM_start,%d1
		movew	#0,%d2
		andil	#0xFFFFFF,%d1
		jsr	(Add_To_DMA_Queue):l
		lea	(Level_layout_header):w,%a1
		lea	(MapEni_S3TitleSonicD):l,%a0
		movew	#0x8000,%d0
		bsrw	Eni_Decomp
		lea	(Level_layout_header):w,%a1
		movel	#0x40000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(Level_layout_header):w,%a1
		lea	(MapEni_S3TitleBg):l,%a0
		movew	#0x4000,%d0
		bsrw	Eni_Decomp
		lea	(Level_layout_header):w,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		moveb	#4,(V_int_routine):w
		bsrw	Wait_VSync
		lea	(Pal_TitleSonicD):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#0x1F,%d0

loc_384E:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_384E
		movel	#0x60000002,(VDP_control_port):l
		lea	(ArtNem_Title_S3Banner):l,%a0
		bsrw	Nem_Decomp
		movel	#0x50000003,(VDP_control_port):l
		lea	(ArtNem_TitleScreenText):l,%a0
		bsrw	Nem_Decomp
		movel	#0x40000002,(VDP_control_port):l
		lea	(ArtNem_Title_SonicSprites):l,%a0
		bsrw	Nem_Decomp
		movel	#Obj_TitleBanner,(Player_1):w
		movel	#Obj_TitleSelection,(Player_2):w
		movel	#Obj_TitleCopyright,(Dynamic_object_RAM):w
		movel	#Obj_TitleSonicFinger,(Dynamic_object_RAM+object_size):w
		movel	#Obj_TitleSonicWink,(Dynamic_object_RAM+(object_size*2)).w
		movel	#Obj_TitleTailsPlane,(Dynamic_object_RAM+(object_size*3)).w
		moveq	#0,%d0
		bsrw	Load_PLC_2
		nop
		nop
		nop
		nop
		nop
		nop
		moveb	#0,(Title_anim_delay):w

loc_38D8:
		moveb	#4,(V_int_routine):w
		bsrw	Wait_VSync
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		bsrw	Process_Nem_Queue_Init
		tstl	(Reserved_object_3):w
		beqs	loc_38D8
		tstw	(Demo_timer):w
		beqw	loc_3978
		moveb	(Ctrl_1_pressed):w,%d0
		andib	#-0x80,%d0
		beqw	loc_38D8
		moveb	#0xC,(Game_mode):w
		moveb	#3,(Life_count):w
		moveb	#3,(Life_count_P2):w
		moveq	#0,%d0
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		movel	%d0,(Score):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		movel	%d0,(Score_P2):w
		moveb	%d0,(Continue_count):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		moveq	#mus_FadeOut,%d0
		bsrw	Play_Sound_2
		moveq	#0,%d0
		moveb	(Title_screen_option):w,%d0
		bnew	loc_3964
		moveb	#0x4C,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3964:
		subqb	#1,%d0
		bnes	loc_3970
		moveb	#0x38,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3970:
		moveb	#0x28,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3978:
		moveq	#mus_FadeOut,%d0
		bsrw	Play_Sound_2
		movew	(Next_demo_number):w,%d0
		andiw	#7,%d0
		addw	%d0,%d0
		movew	DemoLevels(%pc,%d0.w),%d0
		movew	%d0,(Current_zone_and_act):w
		movew	%d0,(Apparent_zone_and_act):w
		movew	%d0,(Saved_zone_and_act):w
		addqw	#1,(Next_demo_number):w
		cmpiw	#3,(Next_demo_number):w
		bcss	loc_39AA
		movew	#0,(Next_demo_number):w

loc_39AA:
		movew	#1,(Demo_mode_flag):w
		moveb	#8,(Game_mode):w
		moveb	#3,(Life_count):w
		moveb	#3,(Life_count_P2):w
		moveq	#0,%d0
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		movel	%d0,(Score):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		movel	%d0,(Score_P2):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		rts
/*  --------------------------------------------------------------------------- */
DemoLevels:	.word 0
		.word 0x100
		.word 0x200

/*  =============== S U B R O U T I N E ======================================= */


TitleAnim_FlipBuffer:
		tstb	(Title_anim_delay):w
		bnes	loc_3A4E
		moveb	#3,(Title_anim_delay):w
		cmpiw	#0xC,(Title_anim_frame):w
		bccs	loc_3A54
		moveb	#3,(Title_anim_delay):w
		lea	(Target_palette):w,%a0
		lea	(Normal_palette):w,%a1
		moveq	#0xF,%d0

loc_3A18:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_3A18
		eorib	#-1,(Title_anim_buffer):w
		tstb	(Title_anim_buffer):w
		beqs	loc_3A3C
		movew	#0x8406,(VDP_control_port):l
		movew	#0x8230,(VDP_control_port):l
		rts
/*  --------------------------------------------------------------------------- */

loc_3A3C:
		movew	#0x8407,(VDP_control_port):l
		movew	#0x8238,(VDP_control_port):l
		rts
/*  --------------------------------------------------------------------------- */

loc_3A4E:
		subqb	#1,(Title_anim_delay):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3A54:
		lea	(Target_palette):w,%a0
		lea	(Normal_palette):w,%a1
		moveq	#0x1F,%d0

loc_3A5E:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_3A5E
		movew	#0x8407,(VDP_control_port):l
		movew	#0x8230,(VDP_control_port):l
		rts
/*  End of function TitleAnim_FlipBuffer */


/*  =============== S U B R O U T I N E ======================================= */


Iterate_TitleSonicFrame:
		cmpib	#1,(Title_anim_delay):w
		bnes	locret_3A92
		movew	(Title_anim_frame):w,%d0
		moveb	SonicFrameIndex(%pc,%d0.w),%d0
		extw	%d0
		bmis	loc_3A94
		bsrw	TitleSonic_LoadFrame
		addqw	#1,(Title_anim_frame):w

locret_3A92:
		rts
/*  --------------------------------------------------------------------------- */

loc_3A94:
		movew	#0xC,(Title_anim_frame):w
		moveb	#3,(Title_anim_delay):w
		braw	locret_3AB0
/*  --------------------------------------------------------------------------- */
SonicFrameIndex:.byte    1,   2,   3,   4,   5,   6,   7,   8,   9,  0xA,  0xB, 0xFF
/*  --------------------------------------------------------------------------- */

locret_3AB0:
		rts
/*  End of function Iterate_TitleSonicFrame */

/*  --------------------------------------------------------------------------- */
		moveb	(Title_anim_buffer):w,%d2
		cmpib	#1,%d2
		beqs	locret_3B0A
		movew	(V_scroll_amount):w,%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,(Camera_Y_pos):w
		movew	(Camera_Y_pos):w,%d0
		movew	%d0,(V_scroll_value):w
		moveb	#0,(Title_anim_buffer):w
		movew	#0x40,%d1
		cmpiw	#0,%d0
		blts	loc_3AFC
		bnes	loc_3AF2
		cmpiw	#-0x5B,(V_scroll_amount):w
		bnes	loc_3AF2
		moveb	#1,(Title_anim_buffer):w
		bras	locret_3B0A
/*  --------------------------------------------------------------------------- */

loc_3AF2:
		moveb	#-1,(Title_anim_buffer):w
		movew	#-0x40,%d1

loc_3AFC:
		addw	%d1,(V_scroll_amount):w
		cmpb	(Title_anim_buffer):w,%d2
		beqs	locret_3B0A
		asr	(V_scroll_amount):w

locret_3B0A:
		rts

/*  =============== S U B R O U T I N E ======================================= */


TitleSonic_LoadFrame:
		movew	%d0,%d7
		addw	%d0,%d0
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	(TitleSonic_Frames):l,%a2
		lea	(%a2,%d0.w),%a2
		movew	#0x2C60,%d3
		movel	(%a2)+,%d0
		cmpiw	#7,%d7
		beqs	loc_3B46
		bcss	loc_3B66
		andil	#0xFFFFFF,%d0
		moveal	%d0,%a0
		lea	(RAM_start):l,%a1
		bsrw	Kos_Decomp
		movew	%a1,%d3
		lsrw	#1,%d3

loc_3B46:
		movel	#RAM_start,%d1
		movew	#0,%d2
		tstb	(Title_anim_buffer):w
		beqs	loc_3B5A
		movew	#0x6000,%d2

loc_3B5A:
		andil	#0xFFFFFF,%d1
		jsr	(Add_To_DMA_Queue):l

loc_3B66:
		moveal	(%a2)+,%a0
		lea	(Target_palette):w,%a1
		moveq	#0xF,%d0

loc_3B6E:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_3B6E
		tstb	(Title_anim_buffer):w
		bnes	loc_3BA6
		lea	(RAM_start+0x8000):w,%a1
		moveal	(%a2)+,%a0
		movew	#0,%d0
		bsrw	Eni_Decomp
		move	#0x2700,sr
		lea	(RAM_start+0x8000):w,%a1
		movel	#0x40000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		move	#0x2300,sr
		rts
/*  --------------------------------------------------------------------------- */

loc_3BA6:
		lea	(Level_layout_header):w,%a1
		moveal	(%a2)+,%a0
		movew	#0x300,%d0
		cmpiw	#7,%d7
		bccs	loc_3BBA
		movew	#0,%d0

loc_3BBA:
		bsrw	Eni_Decomp
		move	#0x2700,sr
		lea	(Level_layout_header):w,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		move	#0x2300,sr
		rts
/*  End of function TitleSonic_LoadFrame */

/*  --------------------------------------------------------------------------- */
TitleSonic_Frames:
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic1
		.long MapEni_S3TitleSonic1
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic2
		.long MapEni_S3TitleSonic2
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic3
		.long MapEni_S3TitleSonic3
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic4
		.long MapEni_S3TitleSonic4
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic5
		.long MapEni_S3TitleSonic5
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic6
		.long MapEni_S3TitleSonic6
		.long ArtKos_S3TitleSonic1
		.long Pal_TitleSonic7
		.long MapEni_S3TitleSonic7
		.long ArtKos_S3TitleSonic8
		.long Pal_TitleSonic8
		.long MapEni_S3TitleSonic8
		.long ArtKos_S3TitleSonic9
		.long Pal_TitleSonic9
		.long MapEni_S3TitleSonic9
		.long ArtKos_S3TitleSonicA
		.long Pal_TitleSonicA
		.long MapEni_S3TitleSonicA
		.long ArtKos_S3TitleSonicB
		.long Pal_TitleSonicB
		.long MapEni_S3TitleSonicB
		.long ArtKos_S3TitleSonicC
		.long Pal_TitleSonicC
		.long MapEni_S3TitleSonicC
		.long ArtKos_S3TitleSonicD
		.long Pal_TitleSonicD
		.long MapEni_S3TitleSonicD
Pal_Title:	.incbin "General/Title/Palettes/S3.bin"
		.balign 2
Pal_TitleSonic1:.incbin "General/Title/Palettes/S3 Sonic 1.bin"
		.balign 2
Pal_TitleSonic2:.incbin "General/Title/Palettes/S3 Sonic 2.bin"
		.balign 2
Pal_TitleSonic3:.incbin "General/Title/Palettes/S3 Sonic 3.bin"
		.balign 2
Pal_TitleSonic4:.incbin "General/Title/Palettes/S3 Sonic 4.bin"
		.balign 2
Pal_TitleSonic5:.incbin "General/Title/Palettes/S3 Sonic 5.bin"
		.balign 2
Pal_TitleSonic6:.incbin "General/Title/Palettes/S3 Sonic 6.bin"
		.balign 2
Pal_TitleSonic7:.incbin "General/Title/Palettes/S3 Sonic 7.bin"
		.balign 2
Pal_TitleSonic8:.incbin "General/Title/Palettes/S3 Sonic 8.bin"
		.balign 2
Pal_TitleSonic9:.incbin "General/Title/Palettes/S3 Sonic 9.bin"
		.balign 2
Pal_TitleSonicA:.incbin "General/Title/Palettes/S3 Sonic A.bin"
		.balign 2
Pal_TitleSonicB:.incbin "General/Title/Palettes/S3 Sonic B.bin"
		.balign 2
Pal_TitleSonicC:.incbin "General/Title/Palettes/S3 Sonic C.bin"
		.balign 2
Pal_TitleSonicD:.incbin "General/Title/Palettes/S3 Sonic D.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_TitleBanner:
		movel	#Map_S3TitleBanner,0xC(%a0)
		movew	#0xE500,0xA(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x80,7(%a0)
		moveb	#0x40,6(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0xF0,0x14(%a0)
		movew	#0x400,0x1A(%a0)
		movel	#-0x600000,0x30(%a0)
		movel	#Obj_TitleBanner_Main,(%a0)

Obj_TitleBanner_Main:
		moveb	0x34(%a0),%d2
		movew	0x1A(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x30(%a0)
		movew	0x30(%a0),%d0
		moveb	#0,0x34(%a0)
		movew	#0x40,%d1
		cmpiw	#0,%d0
		blts	loc_3F90
		bnes	loc_3F86
		cmpiw	#-0x5B,0x1A(%a0)
		bnes	loc_3F86
		movel	#Obj_TitleBanner_Display,(%a0)
		movel	#Obj_TitleTM,(Reserved_object_3):w
		bras	loc_3F9E
/*  --------------------------------------------------------------------------- */

loc_3F86:
		moveb	#-1,0x34(%a0)
		movew	#-0x40,%d1

loc_3F90:
		addw	%d1,0x1A(%a0)
		cmpb	0x34(%a0),%d2
		beqs	loc_3F9E
		asr	0x1A(%a0)

loc_3F9E:
		movew	0x30(%a0),%d0
		negw	%d0
		addiw	#0xF0,%d0
		movew	%d0,0x14(%a0)

Obj_TitleBanner_Display:
		subqb	#1,0x24(%a0)
		bpls	loc_3FC2
		moveb	#9,0x24(%a0)
		addqb	#4,0x23(%a0)
		andib	#0x1C,0x23(%a0)

loc_3FC2:
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		movel	Pal_TitleWaterRot(%pc,%d0.w),(Target_palette_line_3+0x1A):w
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Pal_TitleWaterRot:
		.incbin "General/Title/Palettes/S3 Water Anim.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_TitleTM:
		movel	#Map_S3TitleBanner,0xC(%a0)
		movew	#0xE500,0xA(%a0)
		movew	#0x188,0x10(%a0)
		movew	#0x108,0x14(%a0)
		movew	#0x80,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#4,6(%a0)
		moveb	#1,0x22(%a0)
		movel	#Obj_TitleTM_Display,(%a0)

Obj_TitleTM_Display:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

OldDebugCode:
		lea	(OldDebugCodeDat):l,%a1
		movew	(Debug_mode_cheat_counter):w,%d0
		addaw	%d0,%a1
		moveb	(Ctrl_1_pressed_title):w,%d0
		andib	#0x7F,%d0
		beqs	locret_406C
		moveb	(Ctrl_1_held_title):w,%d0
		cmpb	(%a1),%d0
		bnes	loc_4066
		addqw	#1,(Debug_mode_cheat_counter):w
		tstb	1(%a1)
		bnes	locret_406C
		movew	#0x101,(Debug_cheat_flag):w
		moveq	#sfx_RingLoss,%d0
		bsrw	Play_Sound_2

loc_4066:
		movew	#0,(Debug_mode_cheat_counter):w

locret_406C:
		rts
/*  --------------------------------------------------------------------------- */
OldDebugCodeDat:.byte 0x20
		.byte 0x30
		.byte 0x70
		.byte 0x10
		.byte 0x50
		.byte 0x70
		.byte 0x40
		.byte 0x60
		.byte 0x70
		.byte 0x71
		.byte 0x72
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_TitleCopyright:
		movel	#Map_TitleScreenText,0xC(%a0)
		movew	#0xE680,0xA(%a0)
		movew	#0x158,0x10(%a0)
		movew	#0x14C,0x14(%a0)
		movew	#0x80,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#4,6(%a0)
		moveb	#3,0x22(%a0)
		movel	#Obj_TitleCopyright_Display,(%a0)

Obj_TitleCopyright_Display:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleSelection:
		movew	#0xF0,0x10(%a0)
		movew	#0x140,0x14(%a0)
		movel	#Map_TitleScreenText,0xC(%a0)
		movew	#0xC680,0xA(%a0)
		andib	#1,(Title_screen_option):w
		moveb	(Title_screen_option):w,0x22(%a0)
		movel	#Obj_TitleSelection_Main,(%a0)

Obj_TitleSelection_Main:
		moveq	#0,%d2
		moveb	(Title_screen_option):w,%d2
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		btst	#0,%d0
		beqs	loc_410A
		subqb	#1,%d2
		bccs	loc_410A
		moveb	#2,%d2
		tstb	(Level_select_flag):w
		bnes	loc_410A
		moveb	#1,%d2

loc_410A:
		btst	#1,%d0
		beqs	loc_4124
		addqb	#1,%d2
		tstb	(Level_select_flag):w
		bnes	loc_411C
		andib	#1,%d2

loc_411C:
		cmpib	#3,%d2
		bcss	loc_4124
		moveq	#0,%d2

loc_4124:
		moveb	%d2,0x22(%a0)
		moveb	%d2,(Title_screen_option):w
		andib	#3,%d0
		beqs	loc_413A
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l

loc_413A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleSonicFinger:
		movel	#Map_TitleSonicAnim,0xC(%a0)
		movew	#0xA400,0xA(%a0)
		movew	#0x148,0x10(%a0)
		movew	#0xDC,0x14(%a0)
		movew	#0x180,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x1C,6(%a0)
		movel	#Obj_TitleSonicFinger_Display,(%a0)

Obj_TitleSonicFinger_Display:
		lea	(Ani_TitleSonicFinger):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_TitleSonicFinger:
		.include "General/Title/Anim - S3 Sonic Finger.S"
/*  --------------------------------------------------------------------------- */

Obj_TitleSonicWink:
		movel	#Map_TitleSonicAnim,0xC(%a0)
		movew	#0xA400,0xA(%a0)
		movew	#0xF8,0x10(%a0)
		movew	#0xC8,0x14(%a0)
		movew	#0x180,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x18,6(%a0)
		movel	#Obj_TitleSonicWink_Display,(%a0)

Obj_TitleSonicWink_Display:
		lea	(Ani_TitleSonicWink):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_TitleSonicWink:
		.include "General/Title/Anim - S3 Sonic Wink.S"
/*  --------------------------------------------------------------------------- */

Obj_TitleTailsPlane:
		movel	#Map_TitleTailsPlane,0xC(%a0)
		movew	#0x6400,0xA(%a0)
		movew	#0,0x10(%a0)
		movew	#0xC0,0x14(%a0)
		movew	#0x380,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#8,6(%a0)
		movel	#loc_4228,(%a0)

loc_4228:
		tstb	0x30(%a0)
		bnes	loc_424E
		addqw	#1,0x10(%a0)
		cmpiw	#0x240,0x10(%a0)
		bnes	loc_424C
		moveb	#1,0x30(%a0)
		bset	#0,0x2A(%a0)
		movew	#0xD0,0x14(%a0)

loc_424C:
		bras	loc_426C
/*  --------------------------------------------------------------------------- */

loc_424E:
		subqw	#1,0x10(%a0)
		cmpiw	#0,0x10(%a0)
		bnes	loc_426C
		moveb	#0,0x30(%a0)
		bclr	#0,0x2A(%a0)
		movew	#0xC0,0x14(%a0)

loc_426C:
		lea	(Ani_TitleTailsPlane):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_TitleTailsPlane:
		.include "General/Title/Anim - S3 Tails Plane.S"

/*  =============== S U B R O U T I N E ======================================= */


S3_Level_Select_Code:
		lea	(LSelect3CodeDat):l,%a1
		movew	(Level_select_cheat_counter):w,%d0
		addaw	%d0,%a1
		moveb	(Ctrl_1_pressed_title):w,%d0
		andib	#0x7F,%d0
		beqs	locret_42C8
		moveb	(Ctrl_1_held_title):w,%d0
		cmpb	(%a1),%d0
		bnes	loc_42C2
		addqw	#1,(Level_select_cheat_counter):w
		tstb	1(%a1)
		bnes	locret_42C8
		movew	#0x101,(Level_select_flag):w
		movew	#0x101,(Debug_cheat_flag):w
		moveq	#sfx_RingRight,%d0
		bsrw	Play_Sound_2

loc_42C2:
		movew	#0,(Level_select_cheat_counter):w

locret_42C8:
		rts
/*  End of function S3_Level_Select_Code */

/*  --------------------------------------------------------------------------- */
LSelect3CodeDat:.byte 1
		.byte 1
		.byte 2
		.byte 2
		.byte 1
		.byte 1
		.byte 1
		.byte 1
		.byte 0
		.byte 0
Map_TitleScreenText:
		.include "General/Title/Map - S3 Screen Text.S"
ArtNem_TitleScreenText:
		.incbin "General/Title/Nemesis Art/S3 Screen Text.bin"
		.balign 2
Map_TitleSonicAnim:
		.include "General/Title/Map - S3 Sonic Anim.S"
Map_TitleTailsPlane:
		.include "General/Title/Map - S3 Tails Plane.S"
LevelMusic_Playlist:
	.byte mus_AIZ1,		mus_AIZ2	/*  ANGEL ISLAND ZONE */
	.byte mus_HCZ1,		mus_HCZ2	/*  HYDROCITY ZONE ACT */
	.byte mus_MGZ1,		mus_MGZ2	/*  MARBLE GARDEN ZONE */
	.byte mus_CNZ1,		mus_CNZ2	/*  CARNIVAL NIGHT ZONE */
	.byte mus_FBZ1,		mus_FBZ2	/*  FLYING BATTERY ZONE */
	.byte mus_ICZ1,		mus_ICZ2	/*  ICE CAP ZONE */
	.byte mus_LBZ1,		mus_LBZ2	/*  LAUNCH BASE ZONE */
	.byte mus_MHZ1,		mus_MHZ2	/*  MUSHROOM HILL ZONE */
	.byte mus_SOZ1,		mus_SOZ2	/*  SANDOPOLIS ZONE */
	.byte mus_LRZ1,		mus_HPZ		/*  LAVA REEF ZONE */
	.byte mus_SSZ,		mus_DEZ1	/*  SKY SANCTUARY ZONE */
	.byte mus_DEZ2,		mus_DEZ2	/*  DEATH EGG ZONE */
	.byte mus_DDZ,		mus_DDZ		/*  DOOMSDAY ZONE */
	.byte mus_SpecialStage, 	mus_SpecialStage/*  AIZ INTRO & ENDING */
	.byte mus_ALZ,		mus_ALZ		/*  AZURE LAKE ZONE */
	.byte mus_BPZ,		mus_BPZ		/*  BALLOON PARK ZONE */
	.byte mus_DPZ,		mus_DPZ		/*  DESERT PALACE ZONE */
	.byte mus_CGZ,		mus_CGZ		/*  CHROME GADGET ZONE */
	.byte mus_EMZ,		mus_EMZ		/*  ENDLESS MINE ZONE */
	.byte mus_Gumball,	mus_Gumball	/*  GUMBALL */
	.byte mus_SlotMachine,	mus_SlotMachine	/*  PACHINKO? */
	.byte mus_Gumball,	mus_Gumball	/*  SLOTS? */
	.byte mus_SpecialStage, 	mus_SpecialStage/*  LAVA REEF ZONE BOSS & HIDDEN PALACE ZONE */
	.byte mus_SpecialStage, 	mus_SpecialStage/*  FINAL BOSS & SPECIAL STAGE? */
	.balign 2
/*  --------------------------------------------------------------------------- */

Level:
		bset	#7,(Game_mode):w
		tstw	(Demo_mode_flag):w
		bmis	loc_46C2
		moveq	#mus_FadeOut,%d0
		bsrw	Play_Sound_2

loc_46C2:
		clrw	(Kos_decomp_queue_count):w
		lea	(Kos_decomp_stored_registers):w,%a1
		moveq	#0,%d0
		movew	#0x1A,%d1

loc_46D0:
		movel	%d0,(%a1)+
		dbf	%d1,loc_46D0
		bsrw	Clear_Nem_Queue
		bsrw	Pal_FadeToBlack
		tstw	(Demo_mode_flag):w
		bmiw	loc_479A
		move	#0x2700,sr
		bsrw	Clear_DisplayData
		move	#0x2300,sr
		moveq	#0,%d0
		movew	%d0,(Level_frame_counter):w
		tstb	(Last_star_post_hit):w
		beqs	loc_471E
		tstb	(Special_bonus_entry_flag):w
		bnes	loc_4712
		movew	(Saved_zone_and_act):w,(Current_zone_and_act):w
		movew	(Saved_apparent_zone_and_act):w,(Apparent_zone_and_act):w
		bras	loc_471E
/*  --------------------------------------------------------------------------- */

loc_4712:
		movew	(Saved2_zone_and_act):w,(Current_zone_and_act):w
		movew	(Saved2_apparent_zone_and_act):w,(Apparent_zone_and_act):w

loc_471E:
		movew	(Current_zone_and_act):w,%d0
		bnes	loc_4736
		cmpiw	#2,(Player_mode):w
		beqs	loc_4732
		tstb	(Last_star_post_hit):w
		beqs	loc_4736

loc_4732:
		movew	#0xD00,%d0

loc_4736:
		rorb	#1,%d0
		lsrw	#4,%d0
		andiw	#0x1F8,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d0,%d1
		lea	(LevelLoadBlock):l,%a2
		moveq	#0,%d0
		moveb	(%a2,%d1.w),%d0
		beqs	loc_4756
		bsrw	Load_PLC

loc_4756:
		bsrw	LevelLoad_ActiveCharacter
		tstb	(Last_star_post_hit):w
		bnew	loc_4782
		cmpiw	#0,(Current_zone_and_act):w
		bnes	loc_4782
		cmpiw	#2,(Player_mode):w
		beqs	loc_4782
		moveq	#1,%d0
		jsr	(Load_PLC_2):l
		moveq	#0xA,%d0
		bsrw	Load_PLC
		bras	loc_479A
/*  --------------------------------------------------------------------------- */

loc_4782:
		moveq	#6,%d0
		tstw	(Competition_mode):w
		bnes	loc_4796
		moveq	#1,%d0
		cmpiw	#2,(Player_mode):w
		bnes	loc_4796
		moveq	#7,%d0

loc_4796:
		bsrw	Load_PLC

loc_479A:
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_47A4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_47A4
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_47B4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_47B4
		lea	(Lag_frame_count):w,%a1
		moveq	#0,%d0
		movew	#0x15,%d1

loc_47C4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_47C4
		lea	(Tails_CPU_interact):w,%a1
		moveq	#0,%d0
		movew	#0x3F,%d1

loc_47D4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_47D4
		lea	(Oscillating_table):w,%a1
		moveq	#0,%d0
		movew	#0x12,%d1

loc_47E4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_47E4
		lea	(_unkFA80):w,%a1
		moveq	#0,%d0
		movew	#0x1F,%d1

loc_47F4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_47F4

loc_47FA:
		jsr	(Init_SpriteTable):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8B03,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x857C,(%a6)
		movew	#0x9001,(%a6)
		movew	#0x8004,(%a6)
		movew	#0x9200,(%a6)
		movew	#0x8720,(%a6)
		movew	#0x8C81,(%a6)
		tstb	(Debug_cheat_flag):w
		beqs	loc_484A
		btst	#5,(Ctrl_1_held):w
		beqs	loc_483C
		movew	#-0x7377,(%a6)

loc_483C:
		btst	#6,(Ctrl_1_held):w
		beqs	loc_484A
		moveb	#1,(Debug_mode_flag):w

loc_484A:
		movew	#0x8AFF,(H_int_counter_command):w
		tstw	(Competition_mode):w
		beqs	loc_4886
		movew	#0x4EF9,(H_int_jump):w
		movel	#HInt,(H_int_addr):w
		movew	#0x8014,(%a6)
		movew	#0x8220,(%a6)
		movew	#0x8405,(%a6)
		movew	#0x8A6B,(H_int_counter_command):w
		movew	#0x9003,(%a6)
		cmpib	#0xF,(Current_zone):w
		bnes	loc_4886
		movew	#0x9011,(%a6)

loc_4886:
		movew	(H_int_counter_command):w,(%a6)
		clrw	(DMA_queue):w
		movel	#-0x500,(DMA_queue_slot):w
		moveq	#3,%d0
		bsrw	LoadPalette_Immediate
		bsrw	CheckLevelForWater
		lea	(Water_palette_line_2):w,%a1
		moveq	#0,%d0
		movew	#0x17,%d1

loc_48AA:
		movel	%d0,(%a1)+
		dbf	%d1,loc_48AA
		tstb	(Water_flag):w
		beqs	loc_48BA
		movew	#0x8014,(%a6)

loc_48BA:
		tstw	(Demo_mode_flag):w
		bmiw	loc_4942
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#7,%d0
		lea	(LevelMusic_Playlist):l,%a1
		moveb	(%a1,%d0.w),%d0
		movew	%d0,(Level_music):w
		bsrw	Play_Sound
		tstw	(Current_zone_and_act):w
		bnes	loc_48F2
		cmpiw	#2,(Player_mode):w
		beqs	loc_48F2
		tstb	(Last_star_post_hit):w
		beqs	loc_4934

loc_48F2:
		cmpib	#0x15,(Current_zone):w
		bhis	loc_4934
		movel	#Obj_TitleCard,(Dynamic_object_RAM+(object_size*5)).w

loc_4902:
		moveb	#0xC,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		bsrw	Wait_VSync
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		bsrw	Process_Nem_Queue_Init
		jsr	(Process_Kos_Module_Queue):l
		tstw	(Dynamic_object_RAM+(object_size*5)+objoff_48).w
		bnes	loc_4902
		tstl	(Nem_decomp_queue):w
		bnes	loc_4902

loc_4934:
		move	#0x2700,sr
		jsr	(HUD_DrawInitial):l
		move	#0x2300,sr

loc_4942:
		moveq	#3,%d0
		bsrw	LoadPalette
		jsr	(Get_LevelSizeStart):l
		jsr	(DeformBgLayer):l
		bsrw	LoadLevelLoadBlock
		jsr	(LoadLevelLoadBlock2):l
		move	#0x2700,sr
		jsr	(j_LevelSetup):l
		move	#0x2300,sr
		jsr	(Animate_Init):l
		jsr	(nullsub_4):l
		bsrw	LoadSolids
		bsrw	Handle_Onscreen_Water_Height
		movew	(Ctrl_2):w,(_unkFF7C):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_2_logical):w
		movew	#0,(Ctrl_1):w
		movew	#0,(Ctrl_2):w
		moveb	#1,(Ctrl_1_locked):w
		moveb	#1,(Ctrl_2_locked):w
		moveb	#0,(Level_started_flag):w
		tstb	(Water_flag):w
		beqs	loc_49DC
		cmpib	#1,(Current_zone):w
		beqs	loc_49C6
		cmpib	#1,(Current_zone):w
		bnes	loc_49DC

loc_49C6:
		movel	#Obj_HCZWaveSplash,(Wave_Splash):w
		movel	#Obj_HCZWaterSplash,(Dynamic_object_RAM+(object_size*2)).w
		moveb	#1,(Dynamic_object_RAM+(object_size*2)+subtype).w

loc_49DC:
		moveq	#0,%d0
		tstb	(Last_star_post_hit):w
		bnes	loc_4A0C
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		moveb	%d0,(Extra_life_flags):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		moveb	%d0,(Saved2_status_secondary):w
		moveb	%d0,(Saved_status_secondary):w
		cmpib	#0x13,(Current_zone):w
		bccs	loc_4A0C
		moveb	%d0,(Respawn_table_keep):w

loc_4A0C:
		moveb	%d0,(Time_over_flag):w
		movew	%d0,(Debug_placement_mode):w
		movew	%d0,(Restart_level_flag):w
		moveb	%d0,(Teleport_active_timer):w
		moveb	%d0,(Teleport_active_flag):w
		movew	%d0,(Total_ring_count):w
		movew	%d0,(Total_ring_count_P2):w
		movew	%d0,(Monitors_broken):w
		movew	%d0,(Monitors_broken_P2):w
		movew	%d0,(_unkFEDE):w
		moveb	%d0,(LRZ_rocks_routine):w
		bsrw	sub_58F4
		moveb	#1,(Update_HUD_score):w
		moveb	#1,(Update_HUD_ring_count):w
		moveb	#1,(Update_HUD_timer):w
		moveb	#1,(Level_started_flag):w
		bsrw	SpawnLevelMainSprites
		jsr	(Load_Sprites):l
		jsr	(Load_Rings):l
		jsr	(S2_SpecialCNZBumpers):l
		jsr	(nullsub_5):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		jsr	(Animate_Tiles):l
		movew	#0x708,(Demo_timer):w
		tstw	(Demo_mode_flag):w
		bpls	loc_4AA2
		movew	#0x21C,(Demo_timer):w
		cmpiw	#4,(Ending_demo_number):w
		bnes	loc_4AA2
		movew	#0x1FE,(Demo_timer):w

loc_4AA2:
		bsrw	LoadWaterPalette
		lea	(Water_palette_line_2):w,%a1
		moveq	#0,%d0
		movew	#0x17,%d1

loc_4AB0:
		movel	%d0,(%a1)+
		dbf	%d1,loc_4AB0
		moveb	#0,(Ctrl_1_locked):w
		moveb	#0,(Ctrl_2_locked):w
		jsr	GetDemoPtr(%pc)
		tstw	(Competition_mode):w
		bnew	loc_4C1C
		tstw	(Current_zone_and_act):w
		bnes	loc_4ADA
		tstb	(Last_star_post_hit):w
		beqs	loc_4AE8

loc_4ADA:
		cmpib	#0xE,(Current_zone):w
		bccs	loc_4AE8
		jsr	(PLCLoad_AnimalsAndExplosion):l

loc_4AE8:
		movew	#0x202F,(Palette_fade_info):w
		jsr	(Pal_FillBlack):l
		movew	#0x16,(Palette_fade_timer):w
		movew	#0x16,(Dynamic_object_RAM+(object_size*5)+objoff_2E).w
		andib	#0x7F,(Last_star_post_hit):w
		bclr	#7,(Game_mode):w

LevelLoop:
		bsrw	Pause_Game
		moveb	#8,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		bsrw	Wait_VSync
		addqw	#1,(Level_frame_counter):w
		bsrw	Demo_PlayRecord
		jsr	(Animate_Palette):l
		jsr	(SpecialEvents):l
		jsr	(Process_Sprites):l
		tstw	(Restart_level_flag):w
		bnew	Level
		jsr	(DeformBgLayer):l
		jsr	(ScreenEvents):l
		bsrw	Handle_Onscreen_Water_Height
		bsrw	nullsub_3
		jsr	(Load_Rings):l
		jsr	(Animate_Tiles):l
		bsrw	Process_Nem_Queue_Init
		jsr	(Process_Kos_Module_Queue):l
		bsrw	sub_594A
		bsrw	sub_59E0
		jsr	(Render_Sprites):l
		jsr	(Load_Sprites):l
		cmpib	#8,(Game_mode):w
		beqs	DemoMode
		cmpib	#0xC,(Game_mode):w
		beqw	LevelLoop
		rts
/*  --------------------------------------------------------------------------- */

DemoMode:
		tstw	(Restart_level_flag):w
		bnes	loc_4BB2
		tstw	(Demo_timer):w
		beqs	loc_4BB2
		cmpib	#8,(Game_mode):w
		beqw	LevelLoop
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4BB2:
		cmpib	#8,(Game_mode):w
		bnes	loc_4BC2
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4BC2:
		movew	#0x3C,(Demo_timer):w
		movew	#0x3F,(Palette_fade_info):w
		clrw	(Pal_fade_delay):w

loc_4BD2:
		moveb	#8,(V_int_routine):w
		bsrw	Wait_VSync
		bsrw	Demo_PlayRecord
		jsr	(Process_Sprites):l
		jsr	(DeformBgLayer):l
		jsr	(ScreenEvents):l
		jsr	(Render_Sprites):l
		jsr	(Load_Sprites):l
		jsr	(Process_Kos_Module_Queue):l
		subqw	#1,(Pal_fade_delay):w
		bpls	loc_4C14
		movew	#2,(Pal_fade_delay):w
		bsrw	Pal_ToBlack

loc_4C14:
		tstw	(Demo_timer):w
		bnes	loc_4BD2
		rts
/*  --------------------------------------------------------------------------- */

loc_4C1C:
		movew	#0,(_unkFF7E):w
		tstb	(Debug_cheat_flag):w
		beqs	loc_4C3C
		moveb	(_unkFF7C):w,%d0
		cmpib	#0xA0,%d0
		bnes	loc_4C3C
		movew	(Sound_test_sound):w,%d0
		lslw	#8,%d0
		movew	%d0,(_unkFF7E):w

loc_4C3C:
		movew	#0x3F,(Palette_fade_info):w
		jsr	(Pal_FillBlack):l
		movew	#0x16,(Palette_fade_timer):w
		movew	#0,(_unkFF7C):w
		bclr	#7,(Game_mode):w

loc_4C5A:
		bsrw	Pause_Game
		moveb	#8,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		bsrw	Wait_VSync
		addqw	#1,(Level_frame_counter):w
		movew	#4,-(%sp)
		bras	loc_4CBC
/*  --------------------------------------------------------------------------- */

loc_4C78:
		movew	(_unkFF7E):w,%d0
		addw	%d0,(_unkFF7C):w
		bccs	loc_4CCC
		bsrw	Pause_Game
		movew	#0x100,(Z80_bus_request):l
		bsrw	Poll_Controllers
		movew	#0,(Z80_bus_request):l
		movew	#0,(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		lea	(Sprite_table_input):w,%a5

loc_4CAC:
		movew	#0,(%a5)
		lea	0x80(%a5),%a5
		cmpal	#Player_1,%a5
		bcss	loc_4CAC

loc_4CBC:
		bsrw	Demo_PlayRecord
		jsr	(Process_Sprites):l
		jsr	(DeformBgLayer):l

loc_4CCC:
		subqw	#1,(%sp)
		bnes	loc_4C78
		addqw	#2,%sp
		tstw	(Restart_level_flag):w
		bnew	Level
		jsr	(ScreenEvents):l
		jsr	(Animate_Tiles):l
		jsr	(Render_Sprites):l
		jsr	(Animate_Palette):l
		bsrw	Process_Nem_Queue_Init
		jsr	(Process_Kos_Module_Queue):l
		cmpib	#8,(Game_mode):w
		beqs	loc_4D10
		cmpib	#0xC,(Game_mode):w
		beqw	loc_4C5A
		rts
/*  --------------------------------------------------------------------------- */

loc_4D10:
		tstw	(Restart_level_flag):w
		bnes	loc_4D2E
		tstw	(Demo_timer):w
		beqs	loc_4D2E
		cmpib	#8,(Game_mode):w
		beqw	loc_4C5A
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4D2E:
		cmpib	#8,(Game_mode):w
		bnes	loc_4D3E
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4D3E:
		movew	#0x3C,(Demo_timer):w
		movew	#0x3F,(Palette_fade_info):w
		clrw	(Pal_fade_delay):w

loc_4D4E:
		moveb	#8,(V_int_routine):w
		bsrw	Wait_VSync
		bsrw	Demo_PlayRecord
		jsr	(Process_Sprites):l
		jsr	(DeformBgLayer):l
		jsr	(ScreenEvents):l
		jsr	(Render_Sprites):l
		jsr	(Load_Sprites):l
		jsr	(Process_Kos_Module_Queue):l
		subqw	#1,(Pal_fade_delay):w
		bpls	loc_4D90
		movew	#2,(Pal_fade_delay):w
		bsrw	Pal_ToBlack

loc_4D90:
		tstw	(Demo_timer):w
		bnes	loc_4D4E
		rts

/*  =============== S U B R O U T I N E ======================================= */


LevelLoad_ActiveCharacter:
		cmpib	#0x88,(Game_mode):w
		beqs	loc_4DAE
		tstw	(Competition_mode):w
		bnes	loc_4DAE
		movew	(Player_option):w,(Player_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4DAE:
		movew	#0,(Player_mode):w
		rts
/*  End of function LevelLoad_ActiveCharacter */


/*  =============== S U B R O U T I N E ======================================= */


SpawnLevelMainSprites:
		movel	#Obj_Level_50B2,(Reserved_object_3):w
		bsrw	SpawnLevelMainSprites_SpawnPlayers
		bsrw	SpawnLevelMainSprites_SpawnPowerup
		tstb	(Last_star_post_hit):w
		bnew	locret_4EC6
		tstb	(Special_bonus_entry_flag):w

loc_4DD2:
		bnew	locret_4EC6
		lea	(Player_1):w,%a1
		lea	(Player_2):w,%a2
		cmpiw	#0,(Current_zone_and_act):w
		bnes	loc_4DFE
		cmpiw	#2,(Player_mode):w
		beqs	locret_4DFC
		movel	#Obj_AIZPlaneIntro,(Dynamic_object_RAM+(object_size*2)).w
		clrb	(Level_started_flag):w
		rts
/*  --------------------------------------------------------------------------- */

locret_4DFC:
		rts
/*  --------------------------------------------------------------------------- */

loc_4DFE:
		cmpiw	#0x100,(Current_zone_and_act):w
		bnes	loc_4E36
		moveb	#0x1B,0x20(%a1)
		bset	#1,0x2A(%a1)
		cmpiw	#2,(Player_mode):w
		bnes	loc_4E20
		moveb	#1,0x40(%a1)

loc_4E20:
		tstl	(%a2)
		beqs	loc_4E36
		moveb	#0x1B,0x20(%a2)
		bset	#1,0x2A(%a2)
		moveb	#1,0x40(%a2)

loc_4E36:
		cmpiw	#0x200,(Current_zone_and_act):w
		bnes	loc_4E5A
		moveb	#0x1B,0x20(%a1)
		bset	#1,0x2A(%a1)
		tstl	(%a2)
		beqs	loc_4E5A
		moveb	#0x1B,0x20(%a2)
		bset	#1,0x2A(%a2)

loc_4E5A:
		cmpiw	#0x300,(Current_zone_and_act):w
		bnes	loc_4E94
		cmpiw	#1,(Player_mode):w
		bnes	loc_4E86
		movel	#Obj_Tails,(Player_2):w
		movew	(Player_1+x_pos):w,(Player_2+x_pos):w
		movew	(Player_1+y_pos):w,(Player_2+y_pos):w
		movew	#0,(Tails_CPU_routine):w
		bras	loc_4E94
/*  --------------------------------------------------------------------------- */

loc_4E86:
		cmpiw	#2,(Player_mode):w
		bnes	loc_4E94
		movew	#0x20,(Tails_CPU_routine):w

loc_4E94:
		cmpiw	#0x500,(Current_zone_and_act):w
		bnes	loc_4EB6
		cmpiw	#2,(Player_mode):w
		bcss	loc_4EAE
		movel	#Obj_LevelIntroICZ1Tails,(Dynamic_object_RAM+(object_size*2)).w
		bras	loc_4EB6
/*  --------------------------------------------------------------------------- */

loc_4EAE:
		movel	#Obj_LevelIntroICZ1,(Dynamic_object_RAM+(object_size*2)).w

loc_4EB6:
		cmpiw	#0x600,(Current_zone_and_act):w
		bnes	locret_4EC6
		movel	#Obj_LevelIntro_PlayerLaunchFromGround,(Dynamic_object_RAM+(object_size*2)).w

locret_4EC6:
		rts
/*  End of function SpawnLevelMainSprites */


/*  =============== S U B R O U T I N E ======================================= */


SpawnLevelMainSprites_SpawnPowerup:
		cmpib	#0xE,(Current_zone):w
		bccs	locret_4EF0
		lea	(Player_1):w,%a1
		moveb	(Saved_status_secondary):w,%d0
		clrb	(Saved_status_secondary):w

loc_4EDC:
		andib	#0x70,%d0
		bnes	loc_4EF2
		moveb	(Saved2_status_secondary):w,%d0
		clrb	(Saved2_status_secondary):w

loc_4EEA:
		andib	#0x70,%d0
		bnes	loc_4EF2

locret_4EF0:
		rts
/*  --------------------------------------------------------------------------- */

loc_4EF2:
		btst	#4,%d0
		beqs	loc_4F18
		andib	#0x8E,0x2B(%a1)
		bset	#0,0x2B(%a1)
		bset	#4,0x2B(%a1)
		movel	#Obj_Fire_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4F18:
		btst	#5,%d0
		beqs	loc_4F3E
		andib	#0x8E,0x2B(%a1)
		bset	#0,0x2B(%a1)
		bset	#5,0x2B(%a1)
		movel	#Obj_Lightning_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4F3E:
		btst	#6,%d0
		beqs	locret_4F64
		andib	#0x8E,0x2B(%a1)
		bset	#0,0x2B(%a1)
		bset	#6,0x2B(%a1)
		movel	#Obj_Bubble_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

locret_4F64:
		rts
/*  End of function SpawnLevelMainSprites_SpawnPowerup */


/*  =============== S U B R O U T I N E ======================================= */


SpawnLevelMainSprites_SpawnPlayers:
		tstw	(Competition_mode):w
		bnew	loc_501A
		movew	(Player_mode):w,%d0
		bnes	loc_4FC2
		movel	#Obj_Sonic,(Player_1):w
		movel	#Obj_DashDust,(Dust):w
		movel	#Obj_Insta_Shield,(Shield):w
		movew	#Player_1,(Shield+parent):w
		movel	#Obj_Tails,(Player_2):w
		movew	(Player_1+x_pos):w,(Player_2+x_pos):w
		movew	(Player_1+y_pos):w,(Player_2+y_pos):w
		subiw	#0x20,(Player_2+x_pos):w
		addiw	#4,(Player_2+y_pos):w
		movel	#Obj_DashDust,(Dust_P2):w
		movew	#0,(Tails_CPU_routine):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4FC2:
		subqw	#1,%d0
		bnes	loc_4FE6
		movel	#Obj_Sonic,(Player_1):w
		movel	#Obj_DashDust,(Dust):w
		movel	#Obj_Insta_Shield,(Shield):w
		movew	#Player_1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4FE6:
		subqw	#1,%d0
		bnes	loc_5008
		movel	#Obj_Tails,(Player_1):w
		movel	#Obj_DashDust,(Dust_P2):w
		addiw	#4,(Player_1+y_pos):w
		movew	#0,(Tails_CPU_routine):w
		rts
/*  --------------------------------------------------------------------------- */

loc_5008:
		movel	#Obj_Sonic,(Player_1):w
		movel	#Obj_DashDust,(Dust):w
		rts
/*  --------------------------------------------------------------------------- */

loc_501A:
		moveb	(P1_character):w,%d0
		bsrs	sub_505E
		movel	%d1,(Player_1):w
		moveb	(P1_character):w,(Player_1+character_id):w
		movew	(Player_1+x_pos):w,(Player_2+x_pos):w
		movew	(Player_1+y_pos):w,(Player_2+y_pos):w
		movel	#Obj_DashDust2P,(Dust):w
		tstb	(Not_ghost_flag):w
		beqs	loc_505C
		moveb	(P2_character):w,%d0
		bsrs	sub_505E
		movel	%d1,(Player_2):w
		moveb	(P2_character):w,(Player_2+character_id):w
		movel	#Obj_DashDust2P,(Dust_P2):w

loc_505C:
		bras	loc_507C
/*  End of function SpawnLevelMainSprites_SpawnPlayers */


/*  =============== S U B R O U T I N E ======================================= */


sub_505E:
		tstb	%d0
		bnes	loc_5068
		movel	#Obj_Sonic2P,%d1

loc_5068:
		subqb	#1,%d0
		bnes	loc_5074
		movel	#Obj_Tails2P,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_5074:
		movel	#Obj_Sonic2P,%d1
		rts
/*  End of function sub_505E */

/*  --------------------------------------------------------------------------- */

loc_507C:
		lea	(Target_palette_line_2):w,%a2
		lea	(Pal_Level_2P):l,%a1
		movew	#0xF,%d0

loc_508A:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_508A
		rts
/*  --------------------------------------------------------------------------- */
Pal_Level_2P:	.incbin "Levels/Misc/Palettes/2P Level Secondary.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_Level_50B2:
		movew	#0,(Collision_response_list):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


nullsub_3:
		rts
/*  End of function nullsub_3 */

/*  --------------------------------------------------------------------------- */
		tstb	(Water_flag):w
		beqs	locret_50DC
		movew	(Camera_X_pos):w,%d1
		btst	#0,(Level_frame_counter+1):w
		beqs	loc_50D2
		addiw	#0x20,%d1

loc_50D2:
		movew	%d1,%d0
		addiw	#0x60,%d0
		addiw	#0x120,%d1

locret_50DC:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Handle_Onscreen_Water_Height:
		tstb	(Water_flag):w
		beqw	loc_5146
		tstb	(Deform_lock):w
		bnes	loc_50FC
		cmpib	#6,(Player_1+routine):w
		bccs	loc_50FC
		bsrw	sub_539A
		bsrw	DynamicWaterHeight

loc_50FC:
		clrb	(Water_full_screen_flag):w
		moveq	#0,%d0
		addw	(Mean_water_level):w,%d0
		movew	%d0,(Water_level):w
		cmpiw	#0x100,(Current_zone_and_act):w
		bnes	loc_511A
		cmpiw	#0x900,(Camera_X_pos):w
		bcss	loc_5130

loc_511A:
		movew	(Water_level):w,%d0
		subw	(Camera_Y_pos):w,%d0
		beqs	loc_512A
		bccs	loc_5138
		tstw	%d0
		bpls	loc_5138

loc_512A:
		moveb	#1,(Water_full_screen_flag):w

loc_5130:
		moveb	#-1,(H_int_counter):w
		rts
/*  --------------------------------------------------------------------------- */

loc_5138:
		cmpiw	#0xDF,%d0
		bcss	loc_5142
		movew	#0xFF,%d0

loc_5142:
		moveb	%d0,(H_int_counter):w

loc_5146:
		bsrw	sub_5598
		rts
/*  End of function Handle_Onscreen_Water_Height */

/*  --------------------------------------------------------------------------- */
		clrb	(Water_full_screen_flag):w
		movew	(Mean_water_level):w,(Water_level):w
		movel	#HInt3,(H_int_addr):w
		cmpiw	#0x1000,(V_blank_cycles):w
		bcss	loc_516E
		movel	#HInt4,(H_int_addr):w

loc_516E:
		movew	(Water_level):w,%d0
		subw	(Camera_Y_pos):w,%d0
		beqs	loc_5186
		bccs	loc_51C2
		tstw	%d0
		bpls	loc_51C2
		addiw	#0x1E0,%d0
		beqs	loc_5186
		bcss	loc_5194

loc_5186:
		moveb	#1,(Water_full_screen_flag):w
		moveb	#-1,(H_int_counter):w
		rts
/*  --------------------------------------------------------------------------- */

loc_5194:
		cmpiw	#0xDF,%d0
		bcss	loc_519E
		movew	#0xFF,%d0

loc_519E:
		moveb	%d0,(H_int_counter):w
		moveb	#1,(Water_full_screen_flag):w
		movel	#HInt5,(H_int_addr):w
		cmpiw	#0x1000,(V_blank_cycles):w
		bcss	loc_51C0
		movel	#HInt_6,(H_int_addr):w

loc_51C0:
		bras	loc_51D0
/*  --------------------------------------------------------------------------- */

loc_51C2:
		cmpiw	#0xDF,%d0
		bcss	loc_51CC
		movew	#0xFF,%d0

loc_51CC:
		moveb	%d0,(H_int_counter):w

loc_51D0:
		bsrw	sub_5598
		rts
/*  --------------------------------------------------------------------------- */
StartingWaterHeights:
		.incbin "Levels/Misc/StartingWaterHeights.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


DynamicWaterHeight:
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		andiw	#-2,%d0
		movew	off_5246(%pc,%d0.w),%d0
		jsr	off_5246(%pc,%d0.w)
		moveq	#0,%d1
		moveb	(Water_%speed):w,%d1
		movew	(Target_water_level):w,%d0
		subw	(Mean_water_level):w,%d0
		beqs	locret_5244
		bccs	loc_5240
		negw	%d1

loc_5240:
		addw	%d1,(Mean_water_level):w

locret_5244:
		rts
/*  End of function DynamicWaterHeight */

/*  --------------------------------------------------------------------------- */
off_5246:	.word locret_5286-off_5246
		.word loc_5288-off_5246
		.word loc_531C-off_5246
		.word loc_5334-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word locret_534C-off_5246
		.word loc_534E-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word loc_536C-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
		.word locret_536A-off_5246
/*  --------------------------------------------------------------------------- */

locret_5286:
		rts
/*  --------------------------------------------------------------------------- */

loc_5288:
		cmpiw	#0x820,(Camera_target_max_Y_pos):w
		beqs	locret_5306
		cmpiw	#0x2440,(Camera_X_pos):w
		bccs	loc_52AE
		cmpiw	#0x618,(Target_water_level):w
		bnes	locret_5306
		movew	#0x528,(Target_water_level):w
		moveb	#2,(Water_%speed):w
		rts
/*  --------------------------------------------------------------------------- */

loc_52AE:
		tstb	(Level_trigger_array):w
		bnes	loc_52C2
		cmpiw	#0x2850,(Camera_X_pos):w
		bcss	locret_5306
		moveb	#1,(Level_trigger_array):w

loc_52C2:
		cmpiw	#0x618,(Target_water_level):w
		beqs	locret_5306
		cmpiw	#0x2900,(Camera_X_pos):w
		bccs	loc_52EC
		movew	#-1,(Screen_shake_flag):w
		jsr	(Create_New_Sprite):l
		bnes	loc_52EC
		movel	#Obj_5308,(%a1)
		moveb	#0xB4,0x24(%a1)

loc_52EC:
		lea	(Level_layout_main+0x1C):w,%a3
		moveq	#3,%d1

loc_52F2:
		moveaw	(%a3),%a1
		moveb	#0,0x4E(%a1)
		addqw	#4,%a3
		dbf	%d1,loc_52F2
		movew	#0x618,(Target_water_level):w

locret_5306:
		rts
/*  --------------------------------------------------------------------------- */

Obj_5308:
		subqb	#1,0x24(%a0)
		beqs	loc_5310
		rts
/*  --------------------------------------------------------------------------- */

loc_5310:
		movew	#0,(Screen_shake_flag):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_531C:
		lea	(dword_5324):l,%a1
		bras	loc_537C
/*  --------------------------------------------------------------------------- */
dword_5324:	.long 0x85000900
		.long 0x86802A00
		.long 0x86803500
		.long 0x86A0FFFF
/*  --------------------------------------------------------------------------- */

loc_5334:
		tstb	(_unkFAA2):w
		beqs	loc_533C
		rts
/*  --------------------------------------------------------------------------- */

loc_533C:
		lea	(dword_5344):l,%a1
		bras	loc_537C
/*  --------------------------------------------------------------------------- */
dword_5344:	.long 0x7003E00
		.long 0x7E0FFFF
/*  --------------------------------------------------------------------------- */

locret_534C:
		rts
/*  --------------------------------------------------------------------------- */

loc_534E:
		lea	(dword_5356):l,%a1
		bras	loc_537C
/*  --------------------------------------------------------------------------- */
dword_5356:	.long 0x8B000E00
		.long 0x8A001980
		.long 0x8A002340
		.long 0x8AC82C00
		.long 0x8FF0FFFF
/*  --------------------------------------------------------------------------- */

locret_536A:
		rts
/*  --------------------------------------------------------------------------- */

loc_536C:
		cmpiw	#0x1DE0,(Camera_X_pos):w
		bcss	locret_537A
		movew	#0x510,(Target_water_level):w

locret_537A:
		rts
/*  --------------------------------------------------------------------------- */

loc_537C:
		movew	(Camera_X_pos):w,%d0

loc_5380:
		movel	(%a1)+,%d1
		cmpw	%d1,%d0
		bhis	loc_5380
		swap	%d1
		tstw	%d1
		bpls	loc_5394
		andiw	#0x7FFF,%d1
		movew	%d1,(Mean_water_level):w

loc_5394:
		movew	%d1,(Target_water_level):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_539A:
		tstw	(Debug_placement_mode):w
		bnew	locret_54A4
		cmpib	#1,(Current_zone):w
		bnew	locret_54A4
		cmpiw	#2,(Player_mode):w
		beqs	loc_53D2
		lea	(WindTunnel_flag):w,%a3
		lea	(Player_1):w,%a1
		moveb	(Ctrl_1_held_logical):w,%d6
		moveq	#0,%d5
		bsrs	HCZ_WaterTunnels
		addqw	#1,%a3
		lea	(Player_2):w,%a1
		moveb	(Ctrl_2_held_logical):w,%d6
		moveq	#1,%d5
		bras	HCZ_WaterTunnels
/*  --------------------------------------------------------------------------- */

loc_53D2:
		lea	(WindTunnel_flag_P2):w,%a3
		lea	(Player_1):w,%a1
		moveb	(Ctrl_1_held_logical):w,%d6
		moveq	#0,%d5
/*  End of function sub_539A */


/*  =============== S U B R O U T I N E ======================================= */


HCZ_WaterTunnels:
		lea	(HCZ1_WaterTunLocs):l,%a2
		tstb	(Current_act):w
		beqs	loc_53F2
		lea	(HCZ2_WaterTunLocs):l,%a2

loc_53F2:
		movew	(%a2)+,%d2

loc_53F4:
		movew	0x10(%a1),%d0
		cmpw	(%a2),%d0
		bcsw	loc_5490
		cmpw	4(%a2),%d0
		bccw	loc_5490
		movew	0x14(%a1),%d1
		cmpw	2(%a2),%d1
		bcsw	loc_5490
		cmpw	6(%a2),%d1
		bccs	loc_5490
		cmpib	#4,5(%a1)
		bccw	loc_54A2
		btst	%d5,(_unkF7C7):w
		bnes	locret_5478
		tstb	0x2E(%a1)
		bnes	loc_54A2
		moveb	#1,(%a3)
		movew	8(%a2),%d0
		movew	%d0,0x18(%a1)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x10(%a1)
		movew	0xA(%a2),%d1
		movew	%d1,0x1A(%a1)
		extl	%d1
		lsll	#8,%d1
		addl	%d1,0x14(%a1)
		moveb	#0xF,0x20(%a1)
		bset	#1,0x2A(%a1)
		tstb	0xC(%a2)
		bnes	loc_547A
		btst	#0,%d6
		beqs	loc_546E
		subqw	#1,0x14(%a1)

loc_546E:
		btst	#1,%d6
		beqs	locret_5478
		addqw	#1,0x14(%a1)

locret_5478:
		rts
/*  --------------------------------------------------------------------------- */

loc_547A:
		btst	#2,%d6
		beqs	loc_5484
		subqw	#1,0x10(%a1)

loc_5484:
		btst	#3,%d6
		beqs	locret_548E
		addqw	#1,0x10(%a1)

locret_548E:
		rts
/*  --------------------------------------------------------------------------- */

loc_5490:
		addaw	#0xE,%a2
		dbf	%d2,loc_53F4
		tstb	(%a3)
		beqs	locret_54A4
		moveb	#0x1A,0x20(%a1)

loc_54A2:
		clrb	(%a3)

locret_54A4:
		rts
/*  End of function HCZ_WaterTunnels */

/*  --------------------------------------------------------------------------- */
HCZ1_WaterTunLocs:
		.word 0xE
		.word   0x380,  0x580,  0x5A0,  0x5C0,  0x3F0, 0xFFE0,     0
		.word   0x5A0,  0x560,  0xA80,  0x5C0,  0x3F0, 0xFFF0,     0
		.word  0x1400,  0xA80, 0x15A0,  0xAC0,  0x400,     0,     0
		.word  0x15A0,  0xA40, 0x1960,  0xAC0,  0x400, 0xFFC0,     0
		.word  0x1990,  0x780, 0x19E0,  0x7F0,     0, 0xFC00,  0x100
		.word  0x1990,  0x7F0, 0x19F0,  0x878, 0xFEC0, 0xFC00,  0x100
		.word  0x1990,  0x878, 0x19F0,  0x8FD,  0x140, 0xFC00,  0x100
		.word  0x1990,  0x8FD, 0x19F0,  0x978, 0xFEC0, 0xFC00,  0x100
		.word  0x1990,  0x978, 0x19F0,  0xA10,  0x100, 0xFC00,  0x100
		.word  0x1960,  0xA10, 0x19D0,  0xA80,  0x300, 0xFD80,  0x100
		.word  0x2B00,  0x800, 0x2C20,  0x840,  0x400,     0,     0
		.word  0x2C20,  0x7C0, 0x2EE0,  0x840,  0x400, 0xFFC0,     0
		.word  0x2EE0,  0x790, 0x2F50,  0x800,  0x300, 0xFD00,  0x100
		.word  0x2F00,  0x700, 0x2F70,  0x790,  0x100, 0xFC00,  0x100
		.word  0x2F30,  0x680, 0x2F70,  0x700,     0, 0xFC00,  0x100
HCZ2_WaterTunLocs:
		.word 1
		.word  0x3980,  0x800, 0x3AA0,  0x840,  0x400,     0,     0
		.word  0x3AA0,  0x7C0, 0x3F00,  0x840,  0x400, 0xFFC0,     0

/*  =============== S U B R O U T I N E ======================================= */


sub_5598:
		cmpiw	#0x101,(Current_zone_and_act):w
		beqs	loc_55AA
		cmpiw	#0x500,(Current_zone_and_act):w
		beqs	loc_5612
		rts
/*  --------------------------------------------------------------------------- */

loc_55AA:
		lea	(Player_1):w,%a1
		moveb	(Ctrl_1_held_logical):w,%d2
		bsrs	sub_55BC
		lea	(Player_2):w,%a1
		moveb	(Ctrl_2_held_logical):w,%d2
/*  End of function sub_5598 */


/*  =============== S U B R O U T I N E ======================================= */


sub_55BC:
		btst	#1,0x2A(%a1)
		bnes	loc_55F8
		cmpib	#0xC,0x46(%a1)
		beqs	loc_55F8
		lea	(Level_layout_header):w,%a2
		movew	0x14(%a1),%d0
		lsrw	#5,%d0
		andw	(Layout_row_index_mask):w,%d0
		movew	8(%a2,%d0.w),%d0
		movew	0x10(%a1),%d1
		lsrw	#7,%d1
		addw	%d1,%d0
		moveaw	%d0,%a2
		moveb	(%a2),%d0
		lea	byte_574E(%pc),%a2
		moveq	#9,%d1

loc_55F0:
		cmpb	-(%a2),%d0
		dbeq	%d1,loc_55F0
		beqs	loc_560C

loc_55F8:
		tstb	0x2B(%a1)
		bpls	locret_560A
		movew	#5,0x32(%a1)
		andib	#0x7F,0x2B(%a1)

locret_560A:
		rts
/*  --------------------------------------------------------------------------- */

loc_560C:
		moveq	#-8,%d0
		braw	loc_567E
/*  End of function sub_55BC */

/*  --------------------------------------------------------------------------- */

loc_5612:
		lea	(Player_1):w,%a1
		moveb	(Ctrl_1_held_logical):w,%d2
		bsrs	sub_5624
		lea	(Player_2):w,%a1
		moveb	(Ctrl_2_held_logical):w,%d2

/*  =============== S U B R O U T I N E ======================================= */


sub_5624:
		btst	#1,0x2A(%a1)
		bnes	loc_5660
		btst	#3,0x2A(%a1)
		bnes	loc_5660
		lea	(Level_layout_header):w,%a2
		movew	0x14(%a1),%d0
		lsrw	#5,%d0
		andw	(Layout_row_index_mask):w,%d0
		movew	8(%a2,%d0.w),%d0
		movew	0x10(%a1),%d1
		lsrw	#7,%d1
		addw	%d1,%d0
		moveaw	%d0,%a2
		moveb	(%a2),%d0
		lea	WaterTransition_AIZ1(%pc),%a2
		moveq	#9,%d1

loc_5658:
		cmpb	-(%a2),%d0
		dbeq	%d1,loc_5658
		beqs	loc_5674

loc_5660:
		tstb	0x2B(%a1)
		bpls	locret_5672
		movew	#5,0x32(%a1)
		andib	#0x7F,0x2B(%a1)

locret_5672:
		rts
/*  --------------------------------------------------------------------------- */

loc_5674:
		lea	(byte_573A):l,%a2
		moveb	(%a2,%d1.w),%d0

loc_567E:
		beqs	loc_56CA
		moveb	0x1C(%a1),%d1
		tstb	%d0
		bpls	loc_5694
		cmpb	%d0,%d1
		bles	loc_569E
		subiw	#0x40,0x1C(%a1)
		bras	loc_569E
/*  --------------------------------------------------------------------------- */

loc_5694:
		cmpb	%d0,%d1
		bges	loc_569E
		addiw	#0x40,0x1C(%a1)

loc_569E:
		bclr	#0,0x2A(%a1)
		tstb	%d1
		bpls	loc_56AE
		bset	#0,0x2A(%a1)

loc_56AE:
		moveb	#0x1B,0x20(%a1)
		cmpib	#5,(Current_zone):w
		bnes	loc_56C2
		moveb	#0x19,0x20(%a1)

loc_56C2:
		orib	#-0x80,0x2B(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_56CA:
		movew	#4,%d1
		movew	0x1C(%a1),%d0
		btst	#2,%d2
		beqs	loc_56EC
		moveb	#0,0x20(%a1)
		bset	#0,0x2A(%a1)
		subw	%d1,%d0
		tstw	%d0
		bpls	loc_56EC
		subw	%d1,%d0

loc_56EC:
		btst	#3,%d2
		beqs	loc_5706
		moveb	#0,0x20(%a1)
		bclr	#0,0x2A(%a1)
		addw	%d1,%d0
		tstw	%d0
		bmis	loc_5706
		addw	%d1,%d0

loc_5706:
		movew	#4,%d1
		tstw	%d0
		beqs	loc_572E
		bmis	loc_5720
		subw	%d1,%d0
		bhis	loc_571E
		movew	#0,%d0
		moveb	#5,0x20(%a1)

loc_571E:
		bras	loc_572E
/*  --------------------------------------------------------------------------- */

loc_5720:
		addw	%d1,%d0
		bhis	loc_572E
		movew	#0,%d0
		moveb	#5,0x20(%a1)

loc_572E:
		movew	%d0,0x1C(%a1)
		orib	#0x80,0x2B(%a1)
		rts
/*  End of function sub_5624 */

/*  --------------------------------------------------------------------------- */
byte_573A:	.byte  0xF8, 0xF8,   8,   8, 0xF4, 0xF4, 0xF4,  0xC,  0xC,  0xC
		.byte  0x1C, 0x72, 0x83, 0x84, 0x8B, 0x91, 0x9F, 0xA0, 0xA5, 0xA6
byte_574E:	.byte  0x2E, 0xC6, 0x33, 0xC5, 0x24, 0x2A, 0x44, 0x1F, 0x27, 0x2B
WaterTransition_AIZ1:.word 0xF
		.word 2
		.word 0x68
		.word 0x62
		.word 0x42
		.word 0x48
		.word 0x4E
		.word 0x54
		.word 8
		.word 0xE
		.word 0x14
		.word 0x1A
		.word 0x34
		.word 0x22
		.word 0x3A
		.word 0x2E
		.word 0x28
WaterTransition_AIZ2:.word 0x12
		.word 0x6E
		.word 0x68
		.word 2
		.word 0x48
		.word 0x42
		.word 0x4E
		.word 0x5A
		.word 0x54
		.word 0x62
		.word 0x74
		.word 8
		.word 0xE
		.word 0x14
		.word 0x1A
		.word 0x34
		.word 0x22
		.word 0x3A
		.word 0x2E
		.word 0x28
WaterTransition_CNZ2ICZ2:.word 0x13
		.word 0x6E
		.word 0x68
		.word 0x7A
		.word 0x74
		.word 0x62
		.word 2
		.word 0x42
		.word 0x48
		.word 0x4E
		.word 0x5A
		.word 8
		.word 0xE
		.word 0x14
		.word 0x1A
		.word 0x34
		.word 0x22
		.word 0x3A
		.word 0x2E
		.word 0x28
		.word 0x54
WaterTransition_HCZLBZ1:.word 0x13
		.word 2
		.word 0x74
		.word 0x62
		.word 0x68
		.word 0x6E
		.word 0x42
		.word 0x48
		.word 0x7A
		.word 0x5A
		.word 0x54
		.word 8
		.word 0xE
		.word 0x14
		.word 0x1A
		.word 0x2E
		.word 0x34
		.word 0x28
		.word 0x3A
		.word 0x22
		.word 0x4E
WaterTransition_LBZ2:.word 0x13
		.word 2
		.word 0x6E
		.word 0x68
		.word 0x7A
		.word 0x62
		.word 0x74
		.word 0x42
		.word 0x48
		.word 0x5A
		.word 0x54
		.word 8
		.word 0xE
		.word 0x14
		.word 0x1A
		.word 0x2E
		.word 0x34
		.word 0x28
		.word 0x3A
		.word 0x22
		.word 0x4E
WaterTransition_Unk:.word 0x13
		.word 2
		.word 8
		.word 0xE
		.word 0x14
		.word 0x1A
		.word 0x42
		.word 0x48
		.word 0x4E
		.word 0x54
		.word 0x5A
		.word 0x62
		.word 0x68
		.word 0x6E
		.word 0x74
		.word 0x7A
		.word 0x22
		.word 0x28
		.word 0x2E
		.word 0x34
		.word 0x3A

/*  =============== S U B R O U T I N E ======================================= */


GetDemoPtr:
		movew	(Next_demo_number):w,%d0
		lslw	#2,%d0
		movel	DemoPtrs(%pc,%d0.w),(Demo_data_addr):w
		movew	#0x8000,(Ctrl_1):w
		movew	#0x8000,(Ctrl_2):w
		st	(Demo_start_button):w
		rts
/*  End of function GetDemoPtr */

/*  --------------------------------------------------------------------------- */
DemoPtrs:	.long DemoDat_MGZ+1
		.long DemoDat_AIZ+1
		.long DemoDat_HCZ+1

/*  =============== S U B R O U T I N E ======================================= */


Demo_PlayRecord:
		tstw	(Demo_mode_flag):w
		bnes	loc_587C
		rts
/*  --------------------------------------------------------------------------- */

loc_587C:
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#0x80,%d0
		beqs	loc_5890
		moveb	#4,(Game_mode):w

loc_5890:
		moveal	(Demo_data_addr):w,%a0
		moveb	(Demo_start_button):w,%d1
		andib	#0x80,%d1
		orb	-1(%a0),%d1
		moveb	(Ctrl_1_held):w,%d0
		andib	#0x80,%d0
		sne	(Demo_start_button):w
		orb	(%a0)+,%d0
		movel	%a0,(Demo_data_addr):w
		moveb	%d0,(Ctrl_1_held):w
		eorb	%d0,%d1
		andb	%d0,%d1
		moveb	%d1,(Ctrl_1_pressed):w
		movew	#0x8080,%d0
		andw	%d0,(Ctrl_2):w
		rts
/*  End of function Demo_PlayRecord */


/*  =============== S U B R O U T I N E ======================================= */


LoadSolids:
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#5,%d0
		lea	(SolidIndexes):l,%a1
		addal	%d0,%a1
		movel	(%a1),%d0
		movel	%d0,(Primary_collision_addr):w
		addil	#0x600,%d0
		movel	%d0,(Secondary_collision_addr):w
		movel	#Primary_collision_addr,(Collision_addr):w
		rts
/*  End of function LoadSolids */


/*  =============== S U B R O U T I N E ======================================= */


sub_58F4:
		lea	(Oscillating_table):w,%a1
		lea	(word_5908):l,%a2
		moveq	#(Oscillating_table_end-Oscillating_table)/2-1,%d1

loc_5900:
		movew	(%a2)+,(%a1)+
		dbf	%d1,loc_5900
		rts
/*  End of function sub_58F4 */

/*  --------------------------------------------------------------------------- */
word_5908:	.word 0x7D
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x80
		.word 0
		.word 0x3848
		.word 0xEE
		.word 0x2080
		.word 0xB4
		.word 0x3080
		.word 0x10E
		.word 0x5080
		.word 0x1C2
		.word 0x7080
		.word 0x276
		.word 0x80
		.word 0
		.word 0x4000
		.word 0xFE

/*  =============== S U B R O U T I N E ======================================= */


sub_594A:
		tstw	(Competition_mode):w
		bnes	loc_5958
		cmpib	#6,(Player_1+routine):w
		bccs	locret_599E

loc_5958:
		lea	(Oscillating_table):w,%a1
		lea	(word_59A0):l,%a2
		movew	(%a1)+,%d3
		moveq	#0xF,%d1

loc_5966:
		movew	(%a2)+,%d2
		movew	(%a2)+,%d4
		btst	%d1,%d3
		bnes	loc_5982
		movew	2(%a1),%d0
		addw	%d2,%d0
		movew	%d0,2(%a1)
		addw	%d0,(%a1)
		cmpb	(%a1),%d4
		bhis	loc_5994
		bset	%d1,%d3
		bras	loc_5994
/*  --------------------------------------------------------------------------- */

loc_5982:
		movew	2(%a1),%d0
		subw	%d2,%d0
		movew	%d0,2(%a1)
		addw	%d0,(%a1)
		cmpb	(%a1),%d4
		blss	loc_5994
		bclr	%d1,%d3

loc_5994:
		addqw	#4,%a1
		dbf	%d1,loc_5966
		movew	%d3,(Oscillating_table):w

locret_599E:
		rts
/*  End of function sub_594A */

/*  --------------------------------------------------------------------------- */
word_59A0:	.word 2
		.word 0x10
		.word 2
		.word 0x18
		.word 2
		.word 0x20
		.word 2
		.word 0x30
		.word 4
		.word 0x20
		.word 8
		.word 8
		.word 8
		.word 0x40
		.word 4
		.word 0x40
		.word 2
		.word 0x38
		.word 2
		.word 0x38
		.word 2
		.word 0x20
		.word 3
		.word 0x30
		.word 5
		.word 0x50
		.word 7
		.word 0x70
		.word 2
		.word 0x40
		.word 2
		.word 0x40

/*  =============== S U B R O U T I N E ======================================= */


sub_59E0:
		subqb	#1,(Rings_frame_timer):w
		bpls	loc_59F6
		moveb	#7,(Rings_frame_timer):w
		addqb	#1,(Rings_frame):w
		andib	#3,(Rings_frame):w

loc_59F6:
		tstb	(Ring_%spill_anim_counter):w
		beqs	loc_5A18
		moveq	#0,%d0
		moveb	(Ring_%spill_anim_counter):w,%d0
		addw	(Ring_%spill_anim_accum):w,%d0
		movew	%d0,(Ring_%spill_anim_accum):w
		rolw	#7,%d0
		andiw	#3,%d0
		moveb	%d0,(Ring_%spill_anim_frame):w
		subqb	#1,(Ring_%spill_anim_counter):w

loc_5A18:
		addiw	#0x180,(AIZ_vine_angle):w
		rts
/*  End of function sub_59E0 */

/*  --------------------------------------------------------------------------- */
		.byte    0, 0xFF,   0, 0xFF
		.byte    0, 0xBA,   2,   4,   0,   6, 0x20, 0x27,   0, 0x73,   8,   8
		.byte    0, 0x57,   2,   4,   0,   7,   8, 0xAB, 0x28,   5,   8, 0x64
		.byte    0,  0xD,   8,   3,   0,   4,   4, 0x12,   0,   8, 0x20,  0xC
		.byte    0,  0xD,   4, 0x12,   0,   3,   8, 0x37, 0x28,  0xB,   8,   2
		.byte    0,   2,   4,   9,   0,  0xF,   8, 0x20, 0x28,  0xD, 0x20,   3
		.byte  0x28,   3, 0x20,   0,   0,   3,   4,  0xF,   5,   0,   9,   0
		.byte    8,  0xB, 0x28,   2, 0x20,  0xC,   0,  0xB,   4,   5,   0,   7
		.byte    4, 0x30,   5,   0,   0,   3,   8, 0x12,   0, 0x1A, 0x20, 0x22
		.byte  0x28,   0,   8,  0xE,   0, 0x75,   8, 0x5B, 0x28,   4,   8, 0x47
		.byte  0x28,  0xA, 0x20,   0,   0,   9,   8,  0xC,   0,   9,   4, 0x1D
		.byte  0x24,   3, 0x20,   4,   0,   5,   8,   8,   0,   2,   4,   8
		.byte    0,  0xB,   8,   8,   0,   3,   4,   4,   0,  0xC,   8, 0x1B
		.byte  0x28,  0xA,   8, 0xCD, 0x28,   7,   8, 0x54, 0x28,  0xE,   8, 0x12
		.byte    0,   4,   4,   9,   0,  0xB,   8, 0x10, 0x28,   1, 0x20,   0
		.byte  0x24,   7, 0x25,   0, 0x28,   3,   8,   5,   4,   8,   5,   0
		.byte    9,   0,   8, 0x2B,   0, 0xAD, 0x20,  0xA, 0x28, 0x14,   8, 0x5C
		.byte  0x28,   9,   8, 0x14,   9,   0,   5, 0x12,   1,   0,   8, 0xFF
		.byte    8, 0x72,   9,   0,   5,   9,   1,   0,   0,   7,   8, 0x1B
		.byte    0, 0x36,   4, 0x56,   0,  0xA,   8, 0x13,   0, 0x13,   8,  0xC
		.byte    0, 0x1B,   8, 0x11,   0, 0x17,   4,  0xE,   0,  0xD,   8, 0x14
		.byte    0,  0xC,   4, 0x17,   0, 0x14,   8,  0xE,   0, 0x23,   4, 0x13
		.byte    0,  0xF,   8,  0xC,   0, 0x28,   4,   3,   0,   4,   4, 0x1F
		.byte    0,  0xB,   8,   7,   0,  0xF,   8,  0xF,   0, 0x1A,   4,   6
		.byte    0,   5,   4,  0xE,   0,   7,   8,   8,   0,   3,   4, 0x10
		.byte    0,   4,   8, 0x4D,   0,   5,   4, 0x24, 0x24,   8,   4, 0x2D
		.byte    0,   2,   8,   9, 0x28,   9,   8, 0x34,   0, 0x15,   4,  0xB
		.byte  0x24,   7,   4, 0x2D,   0, 0x2A,   8, 0x1D,   0, 0x1E,   8, 0x10
		.byte    0, 0xF5, 0x80,   0, 0x40,   0,   8, 0x1E,   0, 0x18,   4, 0x26
		.byte    0, 0x10,   8, 0x18,   0,  0xE, 0x80,   0, 0x40,   0,   8, 0x24
		.byte    0,   1, 0x20,   5,   0,  0xE,   8, 0x34,   0, 0xFF,   0, 0x9B
		.byte  0x80,   0, 0x40,   0, 0x20,   7,   0,   6,   4, 0x2A, 0x25,   2
		.byte  0x21,   0, 0x29,   1, 0x28,   2, 0x20,   8, 0x25,  0xC,   5,   1
		.byte    8, 0x30, 0x28, 0x21,   8, 0x1A, 0x28, 0x3D,   8,   6,   0,   4
		.byte    4, 0x25, 0x24, 0x18,   4, 0x15,   0,   8,   4, 0x3A, 0x24,  0xC
		.byte    4,   9,   0, 0x14,   4, 0x52,   5,   0,   1,   0,   8, 0x7C
		.byte  0x28, 0x17,   8, 0x22, 0x28, 0x23,   8,   2,   0,   7,   4, 0x33
		.byte  0x24, 0x19,   4, 0x3C, 0x24, 0x18,   4, 0x49,   0,   8,   8, 0x6A
		.byte  0x28, 0x1B,   8,   2, 0x28, 0x12,   8, 0x11,   0,   4, 0x20,   6
		.byte    0,   4,   8,   8,   0,  0xB,   8, 0x10, 0x28, 0x30,   8,  0xE
		.byte    0, 0x10,   4, 0x1E, 0x24, 0x14,   4, 0x33, 0x24, 0x1C,   4, 0x52
		.byte    0,   5,   8, 0x76, 0x28,   9,   8,  0xF,   9,   0,   5,   8
		.byte    8, 0x38, 0x28, 0x3B,   8,   5,   0,   9,   4, 0x1D, 0x24, 0x1B
		.byte    4, 0x5D, 0x24,  0xD,   4, 0x1A,   0,  0xE,   4, 0x1A,   5,   0
		.byte    9,   0,   8, 0x38, 0x28, 0x24,   8,   6,   9,   1,   1,   0
		.byte    5,   5,   1,   0,   8,   5, 0x28, 0x24,   8,   0,   0,   3
		.byte    4, 0x3B, 0x24, 0x15,   4, 0x44,   0, 0x20,   8, 0x7B, 0x28, 0x26
		.byte    8, 0x14, 0x28, 0x21, 0x29,   0,   1,   0,   5, 0x32, 0x25, 0x18
		.byte    5, 0x10,   9,   0,   8, 0x1E, 0x28,  0xF,   8,   3,   0,   0
		.byte    5,   2,   4,   0,   0, 0x11,   8, 0x19, 0x28, 0x23,   0,   3
		.byte    4, 0x2B, 0x24,   8, 0x20,   7,   0, 0x1B,   8, 0x25,   0,   0
		.byte    4, 0x13,   0,   0,   8,   9, 0x28, 0x1B,   8,   1,   0, 0x14
		.byte    4,  0xC, 0x24, 0x13,   4,  0xC,   0,   2,   8, 0x1B, 0x28, 0x10
		.byte    8,   2,   0, 0x1F,   4,  0xA,   5,   0, 0x25,   9, 0x24,  0xA
		.byte    4, 0x18,   0,  0xA,   8, 0x2D, 0x28, 0x28,   8,   7,   0,   6
		.byte    4, 0x1C, 0x24, 0x13,   4,   4,   0, 0x16,   8, 0x2B, 0x28, 0x26
		.byte    8,  0xA,   0,  0xB,   4, 0x23, 0x24, 0x12,   4,   2,   0,   9
		.byte    8, 0x2F, 0x28, 0x30,   8,  0xD,   0,   2,   4, 0x1A, 0x24, 0x11
		.byte    4, 0x15,   0,   8,   8, 0x21, 0x28, 0x14, 0x20, 0x2D, 0x24,   8
		.byte  0x20, 0x11,   0,   2,   4,   6, 0x24, 0x19,   4, 0x2E,   0,   0
		.byte  0x20,  0xB,   0,  0xA,   4, 0x1C, 0x24,   8,   4,   9,   0,   8
		.byte    4, 0x17,   0, 0x13,   8, 0x1C, 0x28, 0x32,   8,  0xB, 0x28, 0x1D
		.byte    8, 0x1B, 0x28,   6, 0x20,   0,   0, 0x1F,   8, 0x10, 0x28,   5
		.byte  0x20,   2,   0,   3,   4,   8,   0,   7,   4,   9,   0,   0
		.byte    8,  0xA,   0,  0xF,   8, 0x17, 0x28,   6, 0x20,   0,   0,  0xB
		.byte    4,   5,   0,   2,   8,   5,   0,  0xA,   8,   9, 0x28,   8
		.byte    8,   2,   0, 0x1C,   8, 0x2A, 0x28,   1, 0x20,  0xA,   0,   0
		.byte    4, 0x31, 0x24,   2, 0x20,   6,   0,   9,   8,   7,   0,   5
		.byte   0xA,   4,   8,   4,   0,   3,   4,  0xD,   0,   0,   8, 0x2C
		.byte  0x28,   2, 0x20,   3, 0x24,  0xA, 0x25,   0, 0x29,   0, 0x28,   5
		.byte  0x24,   4, 0x25,   0, 0x21,   0, 0x28,   8, 0x25,  0xD,   5, 0x17
		.byte  0x25,   0, 0x29,   1, 0x28, 0x16, 0x20,   1,   0, 0x2C,   8, 0x8C
		.byte  0x28, 0x2A,   8,  0xB, 0x28, 0x23,   8, 0x25, 0x28, 0x12,   8,   2
		.byte  0x28,  0xF,   8, 0xFF,   8, 0xDD,   0, 0x1E, 0x80,   0, 0x40,   0
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   0, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   0, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   0, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   4, 0x27,   8
		.byte    0,   0,   0,   4, 0x27,   8,   0,   0,   0,   0, 0x27,   8

/*  =============== S U B R O U T I N E ======================================= */


LoadLevelLoadBlock:
		movew	(Current_zone_and_act):w,%d0
		bnes	loc_5E38
		cmpiw	#2,(Player_mode):w
		beqs	loc_5E34
		tstb	(Last_star_post_hit):w
		beqs	loc_5E38

loc_5E34:
		movew	#0xD00,%d0

loc_5E38:
		rorb	#1,%d0
		lsrw	#4,%d0
		andiw	#0x1F8,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	(LevelLoadBlock):l,%a4
		lea	(%a4,%d0.w),%a4
		movel	(%a4)+,%d0
		andil	#0xFFFFFF,%d0
		movel	%d0,%d7
		moveal	%d0,%a1
		movew	(%a1),%d4
		movew	#0,%d2
		jsr	(Queue_Kos_Module):l
		movel	(%a4)+,%d0
		andil	#0xFFFFFF,%d0
		cmpl	%d0,%d7
		beqs	loc_5E7E
		moveal	%d0,%a1
		movew	%d4,%d2
		jsr	(Queue_Kos_Module):l

loc_5E7E:
		moveb	#0xC,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		bsrw	Wait_VSync
		bsrw	Process_Nem_Queue_Init
		jsr	(Process_Kos_Module_Queue):l
		tstb	(Kos_modules_left):w
		bnes	loc_5E7E
		rts
/*  End of function LoadLevelLoadBlock */


/*  =============== S U B R O U T I N E ======================================= */


CheckLevelForWater:
		cmpib	#0,(Current_zone):w
		beqs	loc_5EC8
		cmpib	#1,(Current_zone):w
		beqs	loc_5EC8
		cmpiw	#0x301,(Current_zone_and_act):w
		beqs	loc_5EC8
		cmpiw	#0x501,(Current_zone_and_act):w
		beqs	loc_5EC8
		cmpiw	#0x601,(Current_zone_and_act):w
		bnes	loc_5ED4

loc_5EC8:
		moveb	#1,(Water_flag):w
		movew	#0,(Competition_mode):w

loc_5ED4:
		tstb	(Water_flag):w
		beqs	LoadWaterPalette
		movew	#0x4EF9,(H_int_jump):w
		movel	#HInt2,(H_int_addr):w
		cmpib	#1,(Current_zone):w
		beqs	loc_5F08
		movel	#HInt3,(H_int_addr):w
		cmpiw	#0x1000,(V_blank_cycles):w
		bcss	loc_5F08
		movel	#HInt4,(H_int_addr):w

loc_5F08:
		movel	#WaterTransition_AIZ1,(Water_palette_data_addr):w
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		andiw	#-2,%d0
		lea	(StartingWaterHeights):l,%a1
		movew	(%a1,%d0.w),%d0
		movew	%d0,(Water_level):w
		movew	%d0,(Mean_water_level):w
		movew	%d0,(Target_water_level):w
		clrb	(Water_entered_counter):w
		clrb	(Water_full_screen_flag):w
		moveb	#1,(Water_%speed):w
/*  End of function CheckLevelForWater */


/*  =============== S U B R O U T I N E ======================================= */


LoadWaterPalette:
		tstb	(Water_flag):w
		beqw	locret_5FEE
		moveq	#0x2B,%d0
		cmpiw	#0,(Current_zone_and_act):w
		beqw	loc_5FD6
		moveq	#0x2C,%d0
		movel	#WaterTransition_AIZ2,(Water_palette_data_addr):w
		cmpiw	#1,(Current_zone_and_act):w
		beqs	loc_5FD6
		moveq	#0x31,%d0
		movel	#WaterTransition_HCZLBZ1,(Water_palette_data_addr):w
		cmpiw	#0x100,(Current_zone_and_act):w
		beqs	loc_5FD6
		moveq	#0x32,%d0
		movel	#WaterTransition_HCZLBZ1,(Water_palette_data_addr):w
		cmpiw	#0x101,(Current_zone_and_act):w
		beqs	loc_5FD6
		moveq	#0x3A,%d0
		movel	#WaterTransition_CNZ2ICZ2,(Water_palette_data_addr):w
		cmpiw	#0x301,(Current_zone_and_act):w
		beqs	loc_5FD6
		moveq	#0x39,%d0
		movel	#WaterTransition_CNZ2ICZ2,(Water_palette_data_addr):w
		cmpiw	#0x501,(Current_zone_and_act):w
		beqs	loc_5FD6
		moveq	#0x2D,%d0
		movel	#WaterTransition_HCZLBZ1,(Water_palette_data_addr):w
		cmpiw	#0x600,(Current_zone_and_act):w
		beqs	loc_5FD6
		moveq	#0x2E,%d0
		movel	#WaterTransition_LBZ2,(Water_palette_data_addr):w
		cmpiw	#0x601,(Current_zone_and_act):w
		beqs	loc_5FD6
		nop

loc_5FD6:
		movew	%d0,%d1
		bsrw	LoadPalette2
		movew	%d1,%d0
		bsrw	LoadPalette2_Immediate
		tstb	(Last_star_post_hit):w
		beqs	locret_5FEE
		moveb	(Saved_water_full_screen_flag):w,(Water_full_screen_flag):w

locret_5FEE:
		rts
/*  End of function LoadWaterPalette */

/*  --------------------------------------------------------------------------- */
		subqw	#1,0x24(%a0)
		bpls	loc_6068
		movew	#7,0x24(%a0)
		moveq	#0,%d0
		moveb	0x2E(%a0),%d0
		addqb	#1,0x2E(%a0)
		moveb	byte_6074(%pc,%d0.w),%d0
		bnes	loc_6016
		moveb	#1,0x2E(%a0)
		moveb	byte_6074(%pc),%d0

loc_6016:
		lslw	#7,%d0
		lea	(RAM_start):l,%a1
		lea	(%a1,%d0.w),%a1
		lea	(RAM_start+0x200):l,%a2
		movew	#0x7F,%d0

loc_602C:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_602C
		moveq	#0,%d0
		moveb	0x2F(%a0),%d0
		addqb	#1,0x2F(%a0)
		moveb	byte_608E(%pc,%d0.w),%d0
		bnes	loc_604C
		moveb	#1,0x2F(%a0)
		moveb	byte_608E(%pc),%d0

loc_604C:
		lslw	#7,%d0
		lea	(RAM_start):l,%a1
		lea	(%a1,%d0.w),%a1
		lea	(RAM_start+0xF00):l,%a2
		movew	#0x3F,%d0

loc_6062:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_6062

loc_6068:
		cmpiw	#6,0x24(%a0)
		beqw	loc_6110
		rts
/*  --------------------------------------------------------------------------- */
byte_6074:	.byte    2, 0x12,   6, 0x14,   8, 0x16,  0xA, 0x18,  0xC, 0x18,  0xA, 0x16,   8, 0x14,   6, 0x12
		.byte    3, 0x1A,  0xE, 0x1C, 0x10, 0x1C,  0xE, 0x1A,   0,   0
byte_608E:	.byte    2, 0x1F, 0x20, 0x21, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D
		.byte  0x2E, 0x2F, 0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, 0x3D
		.byte  0x3E, 0x3F, 0x40, 0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C, 0x4D
		.byte  0x4E, 0x4D, 0x4C, 0x4B, 0x4A, 0x49, 0x48, 0x47, 0x46, 0x45, 0x44, 0x43, 0x42, 0x41, 0x40, 0x3F
		.byte  0x3E, 0x3D, 0x3C, 0x3B, 0x3A, 0x39, 0x38, 0x37, 0x36, 0x35, 0x34, 0x33, 0x32, 0x31, 0x30, 0x2F
		.byte  0x2E, 0x2D, 0x2C, 0x2B, 0x2A, 0x29, 0x28, 0x27, 0x26, 0x25, 0x24, 0x23, 0x22, 0x21, 0x20, 0x1F
		.byte    2, 0x4F, 0x50, 0x51, 0x52, 0x53, 0x54, 0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x5B, 0x5C, 0x5D
		.byte  0x5E, 0x5D, 0x5C, 0x5B, 0x5A, 0x59, 0x58, 0x57, 0x56, 0x55, 0x54, 0x53, 0x52, 0x51, 0x50, 0x4F
		.byte    0,   0
/*  --------------------------------------------------------------------------- */

loc_6110:
		move	#0x2700,sr
		moveml	%d0-%a6,-(%sp)
		lea	(Plane_buffer):w,%a0
		lea	(Block_table):w,%a2
		lea	(Level_layout_main):w,%a3
		movew	#0xC000,%d7
		movew	(Camera_X_pos):w,%d0
		movew	%d0,%d1
		movew	(Camera_Y_pos):w,%d0
		andiw	#0xFF0,%d0
		jsr	(Refresh_PlaneFull):l
		moveml	(%sp)+,%d0-%a6
		move	#0x2300,sr
		rts
/*  --------------------------------------------------------------------------- */

LevelSelect_S2Options:
		bsrw	Pal_FadeToBlack
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#0xBF,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Clear_DisplayData
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8C81,(%a6)
		movew	#0x9001,(%a6)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_618C:
		movel	%d0,(%a1)+
		dbf	%d1,loc_618C
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_619C:
		movel	%d0,(%a1)+
		dbf	%d1,loc_619C
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		movel	#0x42000000,(VDP_control_port):l
		lea	(ArtNem_S22POptions):l,%a0
		bsrw	Nem_Decomp
		movel	#0x4E000000,(VDP_control_port):l
		lea	(ArtNem_S2MenuBox):l,%a0
		bsrw	Nem_Decomp
		movel	#0x52000000,(VDP_control_port):l
		lea	(ArtNem_S2LevelSelectPics):l,%a0
		bsrw	Nem_Decomp
		lea	(RAM_start):l,%a1
		lea	(MapEni_S22POptions):l,%a0
		movew	#0x6000,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start):l,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		cmpib	#0x24,(Game_mode):w
		beqw	MenuScreen_Options
		cmpib	#0x28,(Game_mode):w
		beqw	MenuScreen_LevelSelect
		lea	(RAM_start):l,%a1
		lea	(MapEni_S2LevSel2P):l,%a0
		movew	#0x70,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start+0x198):l,%a1
		lea	(MapEni_S2LevSel2P):l,%a0
		movew	#0x2070,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start+0x330):l,%a1
		lea	(MapEni_S2LevSelIcon):l,%a0
		movew	#0x90,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start+0x498):l,%a2
		moveq	#0xF,%d1

loc_626C:
		movew	#0x207B,(%a2)+
		dbf	%d1,loc_626C
		bsrw	Update2PLevSelSelection
		addqb	#1,(Current_zone_2P):w
		andib	#3,(Current_zone_2P):w
		bsrw	ClearOld2PLevSelSelection
		addqb	#1,(Current_zone_2P):w
		andib	#3,(Current_zone_2P):w
		bsrw	ClearOld2PLevSelSelection
		addqb	#1,(Current_zone_2P):w
		andib	#3,(Current_zone_2P):w
		bsrw	ClearOld2PLevSelSelection
		addqb	#1,(Current_zone_2P):w
		andib	#3,(Current_zone_2P):w
		clrw	(Player_mode):w
		clrb	(Current_act_2P):w
		clrw	(Results_screen_2P):w
		clrb	(Level_started_flag):w
		clrw	(Anim_Counters):w
		clrw	(_unkFF98):w
		lea	(AniPLC_SONICMILES):l,%a2
		jsr	(AnimateTiles_DoAniPLC):l
		moveq	#4,%d0
		bsrw	LoadPalette
		lea	(Normal_palette_line_3):w,%a1
		lea	(Target_palette_line_3):w,%a2
		moveq	#7,%d1

loc_62E0:
		movel	(%a1),(%a2)+
		clrl	(%a1)+
		dbf	%d1,loc_62E0
		moveq	#mus_DataSelect,%d0
		bsrw	Play_Sound
		movew	#0x707,(Demo_timer):w
		clrw	(Competition_mode):w
		clrl	(Camera_X_pos):w
		clrl	(Camera_Y_pos):w
		moveb	#0x16,(V_int_routine):w
		bsrw	Wait_VSync
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Pal_FadeFromBlack

LevelSelect2P_Main:
		moveb	#0x16,(V_int_routine):w
		bsrw	Wait_VSync
		move	#0x2700,sr
		bsrw	ClearOld2PLevSelSelection
		bsrw	LevelSelect2P_Controls
		bsrw	Update2PLevSelSelection
		move	#0x2300,sr
		lea	(AniPLC_SONICMILES):l,%a2
		jsr	(AnimateTiles_DoAniPLC):l
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x80,%d0
		bnes	LevelSelect2P_PressStart
		braw	LevelSelect2P_Main
/*  --------------------------------------------------------------------------- */

LevelSelect2P_PressStart:
		bsrw	Chk2PZoneCompletion
		bmis	loc_6368
		moveq	#sfx_Error,%d0
		bsrw	Play_Sound_2
		braw	LevelSelect2P_Main
/*  --------------------------------------------------------------------------- */

loc_6368:
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */
		moveq	#0,%d0
		moveb	(Current_zone_2P):w,%d0
		addw	%d0,%d0
		movew	LevelSelect2P_LevelOrder(%pc,%d0.w),%d0
		bmis	loc_63BE
		movew	%d0,(Current_zone_and_act):w
		movew	%d0,(Apparent_zone_and_act):w
		movew	%d0,(Saved_zone_and_act):w
		movew	#1,(Competition_mode):w
		moveb	#0xC,(Game_mode):w
		moveb	#0,(Last_star_post_hit):w
		moveb	#0,(Special_bonus_entry_flag):w
		moveq	#0,%d0
		movel	%d0,(Score):w
		movel	%d0,(Score_P2):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		rts
/*  --------------------------------------------------------------------------- */

loc_63BE:
		moveb	#4,(Current_%special_stage):w
		moveb	#0x10,(Game_mode):w
		moveq	#1,%d0
		movew	%d0,(Competition_mode):w
		movew	%d0,(Competition_mode_monitors):w
		rts
/*  --------------------------------------------------------------------------- */
LevelSelect2P_LevelOrder:
		.word 0
		.word 0xB00
		.word 0xC00
		.word 0xFFFF

/*  =============== S U B R O U T I N E ======================================= */


LevelSelect2P_Controls:
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		moveb	%d0,%d1
		andib	#3,%d0
		beqs	loc_63F4
		bchg	#1,(Current_zone_2P):w

loc_63F4:
		andib	#0xC,%d1
		beqs	locret_6400
		bchg	#0,(Current_zone_2P):w

locret_6400:
		rts
/*  End of function LevelSelect2P_Controls */


/*  =============== S U B R O U T I N E ======================================= */


Update2PLevSelSelection:
		moveq	#0,%d0
		moveb	(Current_zone_2P):w,%d0
		lslw	#4,%d0
		lea	(S2LevSel2PIconData):l,%a3
		lea	(%a3,%d0.w),%a3
		movew	#0x6000,%d0
		lea	(RAM_start+0x48):l,%a2
		moveal	(%a3)+,%a1
		bsrw	MenuScreenTextToRAM
		lea	(RAM_start+0x94):l,%a2
		moveal	(%a3)+,%a1
		bsrw	MenuScreenTextToRAM
		lea	(RAM_start+0xD8):l,%a2
		moveal	4(%a3),%a1
		bsrw	Chk2PZoneCompletion
		bmis	loc_6446
		lea	(RAM_start+0x468):l,%a1

loc_6446:
		moveq	#2,%d1

loc_6448:
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		lea	0x1A(%a2),%a2
		dbf	%d1,loc_6448
		lea	(RAM_start):l,%a1
		movel	(%a3)+,%d0
		moveq	#0x10,%d1
		moveq	#0xB,%d2
		bsrw	Plane_Map_To_VRAM
		lea	(Pal_S2LevelIcons):l,%a1
		moveq	#0,%d0
		moveb	(%a3),%d0
		lslw	#5,%d0
		lea	(%a1,%d0.w),%a1
		lea	(Normal_palette_line_3):w,%a2
		moveq	#7,%d1

loc_647A:
		movel	(%a1)+,(%a2)+
		dbf	%d1,loc_647A
		rts
/*  End of function Update2PLevSelSelection */


/*  =============== S U B R O U T I N E ======================================= */


Chk2PZoneCompletion:
		moveq	#0,%d0
		moveb	(Current_zone_2P):w,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		addw	%d0,%d0
		lea	(%a5,%d0.w),%a5
		movew	(%a5),%d0
		addw	2(%a5),%d0
		rts
/*  End of function Chk2PZoneCompletion */


/*  =============== S U B R O U T I N E ======================================= */


ClearOld2PLevSelSelection:
		moveq	#0,%d0
		moveb	(Current_zone_2P):w,%d0
		lslw	#4,%d0
		lea	(S2LevSel2PIconData):l,%a3
		lea	(%a3,%d0.w),%a3
		moveq	#0,%d0
		lea	(RAM_start+0x1E0):l,%a2
		moveal	(%a3)+,%a1
		bsrw	MenuScreenTextToRAM
		lea	(RAM_start+0x22C):l,%a2
		moveal	(%a3)+,%a1
		bsrw	MenuScreenTextToRAM
		lea	(RAM_start+0x270):l,%a2
		lea	(RAM_start+0x498):l,%a1
		bsrw	Chk2PZoneCompletion
		bmis	loc_64E0
		lea	(RAM_start+0x468):l,%a1

loc_64E0:
		moveq	#2,%d1

loc_64E2:
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		lea	0x1A(%a2),%a2
		dbf	%d1,loc_64E2
		lea	(RAM_start+0x198):l,%a1
		movel	(%a3)+,%d0
		moveq	#0x10,%d1
		moveq	#0xB,%d2
		braw	Plane_Map_To_VRAM
/*  End of function ClearOld2PLevSelSelection */

/*  --------------------------------------------------------------------------- */
S2LevSel2PIconData:
		.long Text2P_EmeraldHill
		.long Text2P_Zone
		.long 0x41040003
		.long 0xFF0330
		.long Text2P_MysticCave
		.long Text2P_Zone
		.long 0x412C0003
		.long 0x5FF03A8
		.long Text2P_CasinoNight
		.long Text2P_Zone
		.long 0x47840003
		.long 0x6FF03C0
		.long Text2P_Special
		.long Text2P_Stage
		.long 0x47AC0003
		.long 0xCFF0450

/*  =============== S U B R O U T I N E ======================================= */


MenuScreenTextToRAM:
		moveq	#0,%d1
		moveb	(%a1)+,%d1

loc_6542:
		moveb	(%a1)+,%d0
		movew	%d0,(%a2)+
		dbf	%d1,loc_6542
		rts
/*  End of function MenuScreenTextToRAM */

/*  --------------------------------------------------------------------------- */

MenuScreen_Options:
		lea	(RAM_start):l,%a1
		lea	(MapEni_S2Options):l,%a0
		movew	#0x70,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start+0x160):l,%a1
		lea	(MapEni_S2Options):l,%a0
		movew	#0x2070,%d0
		bsrw	Eni_Decomp
		clrb	(Options_menu_box):w
		bsrw	OptionScreen_DrawSelected
		addqb	#1,(Options_menu_box):w
		bsrw	OptionScreen_DrawUnselected
		addqb	#1,(Options_menu_box):w
		bsrw	OptionScreen_DrawUnselected
		clrb	(Options_menu_box):w
		clrb	(Level_started_flag):w
		clrw	(Anim_Counters):w
		lea	(AniPLC_SONICMILES):l,%a2
		jsr	(AnimateTiles_DoAniPLC):l
		moveq	#4,%d0
		bsrw	LoadPalette
		moveq	#mus_DataSelect,%d0
		bsrw	Play_Sound
		clrw	(Competition_mode):w
		clrl	(Camera_X_pos):w
		clrl	(Camera_Y_pos):w
		clrw	(Level_select_cheat_counter):w
		clrw	(Debug_mode_cheat_counter):w
		moveb	#0x16,(V_int_routine):w
		bsrw	Wait_VSync
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Pal_FadeFromBlack

OptionScreen_Main:
		moveb	#0x16,(V_int_routine):w
		bsrw	Wait_VSync
		move	#0x2700,sr
		bsrw	OptionScreen_DrawUnselected
		bsrw	OptionScreen_Controls
		bsrw	OptionScreen_DrawSelected
		move	#0x2300,sr
		lea	(AniPLC_SONICMILES):l,%a2
		jsr	(AnimateTiles_DoAniPLC):l
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x80,%d0
		bnes	OptionScreen_Select
		braw	OptionScreen_Main
/*  --------------------------------------------------------------------------- */

OptionScreen_Select:
		moveb	(Options_menu_box):w,%d0
		bnes	OptionScreen_Select_Not1P
		moveq	#0,%d0
		movew	%d0,(Competition_mode):w
		movew	%d0,(Competition_mode_monitors):w
		movew	%d0,(Current_zone_and_act):w
		movew	%d0,(Apparent_zone_and_act):w
		movew	%d0,(Saved_zone_and_act):w
		moveb	#0xC,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

OptionScreen_Select_Not1P:
		subqb	#1,%d0
		bnes	OptionScreen_Select_Other
		moveq	#1,%d0
		movew	%d0,(Competition_mode):w
		movew	%d0,(Competition_mode_monitors):w
		moveb	#0x1C,(Game_mode):w
		moveb	#0,(Current_zone_2P):w
		movew	#0,(Player_mode):w
		rts
/*  --------------------------------------------------------------------------- */

OptionScreen_Select_Other:
		moveb	#0,(Game_mode):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


OptionScreen_Controls:
		moveq	#0,%d2
		moveb	(Options_menu_box):w,%d2
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		btst	#0,%d0
		beqs	loc_6686
		subqb	#1,%d2
		bccs	loc_6686
		moveb	#2,%d2

loc_6686:
		btst	#1,%d0
		beqs	loc_6696
		addqb	#1,%d2
		cmpib	#3,%d2
		bcss	loc_6696
		moveq	#0,%d2

loc_6696:
		moveb	%d2,(Options_menu_box):w
		lslw	#2,%d2
		moveb	OptionScreen_Choices(%pc,%d2.w),%d3
		moveal	OptionScreen_Choices(%pc,%d2.w),%a1
		movew	(%a1),%d2
		btst	#2,%d0
		beqs	loc_66B2
		subqb	#1,%d2
		bccs	loc_66B2
		moveb	%d3,%d2

loc_66B2:
		btst	#3,%d0
		beqs	loc_66C0
		addqb	#1,%d2
		cmpb	%d3,%d2
		blss	loc_66C0
		moveq	#0,%d2

loc_66C0:
		btst	#6,%d0
		beqs	loc_66D0
		addib	#0x10,%d2
		cmpb	%d3,%d2
		blss	loc_66D0
		moveq	#0,%d2

loc_66D0:
		movew	%d2,(%a1)
		cmpib	#2,(Options_menu_box):w
		bnes	locret_66FE
		andiw	#0x30,%d0
		beqs	locret_66FE
		movew	(Sound_test_sound):w,%d0
		bsrw	Play_Sound
		lea	(S2LevelSelectCodeDat):l,%a0
		lea	(S2ContinueCodeDat):l,%a2
		lea	(Level_select_flag):w,%a1
		moveq	#0,%d2
		bsrw	CheckCheats

locret_66FE:
		rts
/*  End of function OptionScreen_Controls */

/*  --------------------------------------------------------------------------- */
OptionScreen_Choices:
		.long 0x2FFFF0A
		.long 0x1FFFF0C
		.long 0xC9FFFF84

/*  =============== S U B R O U T I N E ======================================= */


OptionScreen_DrawSelected:
		bsrw	OptionScreen_SelectTextPtr
		moveq	#0,%d1
		moveb	(Options_menu_box):w,%d1
		lslw	#3,%d1
		lea	(S2OptScrBoxData):l,%a3
		lea	(%a3,%d1.w),%a3
		movew	#0x6000,%d0
		lea	(RAM_start+0x030):l,%a2
		moveal	(%a3)+,%a1
		bsrw	MenuScreenTextToRAM
		lea	(RAM_start+0x0B6):l,%a2
		moveq	#0,%d1
		cmpib	#2,(Options_menu_box):w
		beqs	loc_6754
		moveb	(Options_menu_box):w,%d1
		lslw	#2,%d1
		lea	OptionScreen_Choices(%pc),%a1
		moveal	(%a1,%d1.w),%a1
		movew	(%a1),%d1
		lslw	#2,%d1

loc_6754:
		moveal	(%a4,%d1.w),%a1
		bsrw	MenuScreenTextToRAM
		cmpib	#2,(Options_menu_box):w
		bnes	loc_676E
		lea	(RAM_start+0x0C2):l,%a2
		bsrw	OptionScreen_HexDumpSoundTest

loc_676E:
		lea	(RAM_start):l,%a1
		movel	(%a3)+,%d0
		moveq	#0x15,%d1
		moveq	#7,%d2
		braw	Plane_Map_To_VRAM
/*  End of function OptionScreen_DrawSelected */


/*  =============== S U B R O U T I N E ======================================= */


OptionScreen_DrawUnselected:
		bsrw	OptionScreen_SelectTextPtr
		moveq	#0,%d1
		moveb	(Options_menu_box):w,%d1
		lslw	#3,%d1
		lea	(S2OptScrBoxData):l,%a3
		lea	(%a3,%d1.w),%a3
		moveq	#0,%d0
		lea	(RAM_start+0x190):l,%a2
		moveal	(%a3)+,%a1
		bsrw	MenuScreenTextToRAM
		lea	(RAM_start+0x216):l,%a2
		moveq	#0,%d1
		cmpib	#2,(Options_menu_box):w
		beqs	loc_67C4
		moveb	(Options_menu_box):w,%d1
		lslw	#2,%d1
		lea	OptionScreen_Choices(%pc),%a1
		moveal	(%a1,%d1.w),%a1
		movew	(%a1),%d1
		lslw	#2,%d1

loc_67C4:
		moveal	(%a4,%d1.w),%a1
		bsrw	MenuScreenTextToRAM
		cmpib	#2,(Options_menu_box):w
		bnes	loc_67DE
		lea	(RAM_start+0x222):l,%a2
		bsrw	OptionScreen_HexDumpSoundTest

loc_67DE:
		lea	(RAM_start+0x160):l,%a1
		movel	(%a3)+,%d0
		moveq	#0x15,%d1
		moveq	#7,%d2
		braw	Plane_Map_To_VRAM
/*  End of function OptionScreen_DrawUnselected */


/*  =============== S U B R O U T I N E ======================================= */


OptionScreen_SelectTextPtr:
		lea	(off_6858):l,%a4
		tstb	(Graphics_flags):w
		bpls	loc_6800
		lea	(off_6864):l,%a4

loc_6800:
		tstb	(Options_menu_box):w
		beqs	loc_680C
		lea	(off_6870):l,%a4

loc_680C:
		cmpib	#2,(Options_menu_box):w
		bnes	locret_681A
		lea	(off_6878):l,%a4

locret_681A:
		rts
/*  End of function OptionScreen_SelectTextPtr */


/*  =============== S U B R O U T I N E ======================================= */


OptionScreen_HexDumpSoundTest:
		movew	(Sound_test_sound):w,%d1
		moveb	%d1,%d2
		lsrb	#4,%d1
		bsrs	sub_6828
		moveb	%d2,%d1
/*  End of function OptionScreen_HexDumpSoundTest */


/*  =============== S U B R O U T I N E ======================================= */


sub_6828:
		andiw	#0xF,%d1
		cmpib	#0xA,%d1
		bcss	loc_6836
		addib	#4,%d1

loc_6836:
		addib	#0x10,%d1
		moveb	%d1,%d0
		movew	%d0,(%a2)+
		rts
/*  End of function sub_6828 */

/*  --------------------------------------------------------------------------- */
S2OptScrBoxData:.long TextOptScr_PlayerSelect
		.long 0x41920003
		.long TextOptScr_VsModeItems
		.long 0x45920003
		.long TextOptScr_SoundTest
		.long 0x49920003
off_6858:	.long TextOptScr_SonicAndMiles
		.long TextOptScr_SonicAlone
		.long TextOptScr_MilesAlone
off_6864:	.long TextOptScr_SonicAndTails
		.long TextOptScr_SonicAlone
		.long TextOptScr_TailsAlone
off_6870:	.long TextOptScr_AllKindsItems
		.long TextOptScr_TeleportOnly
off_6878:	.long TextOptScr_0
/*  --------------------------------------------------------------------------- */

MenuScreen_LevelSelect:
		lea	(RAM_start):l,%a1
		lea	(MapEni_S2LevSel):l,%a0
		movew	#0,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start):l,%a3
		movew	#0x31F,%d1

loc_689A:
		movew	#0,(%a3)+
		dbf	%d1,loc_689A
		lea	(RAM_start+0x696):l,%a3
		movew	#0xF,%d1

loc_68AC:
		movew	#0,(%a3)+
		dbf	%d1,loc_68AC
		lea	(RAM_start):l,%a3
		lea	(LevelSelectText):l,%a1
		lea	(LevSel_MappingOffsets):l,%a5
		moveq	#0,%d0
		movew	#0xE,%d1

loc_68CC:
		movew	(%a5)+,%d3
		lea	(%a3,%d3.w),%a2
		moveq	#0,%d2
		moveb	(%a1)+,%d2
		movew	%d2,%d3

loc_68D8:
		moveb	(%a1)+,%d0
		movew	%d0,(%a2)+
		dbf	%d2,loc_68D8
		movew	#0xD,%d2
		subw	%d3,%d2
		bcss	loc_68F0

loc_68E8:
		movew	#0,(%a2)+
		dbf	%d2,loc_68E8

loc_68F0:
		movew	#0x11,(%a2)
		lea	0x50(%a2),%a2
		movew	#0x12,(%a2)
		dbf	%d1,loc_68CC
		movew	#0,(%a2)
		lea	-0x50(%a2),%a2
		movew	#0x1A,(%a2)
		lea	(RAM_start):l,%a1
		movel	#0x40000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		moveq	#0,%d3
		bsrw	LevelSelect_DrawSoundNumber
		lea	(RAM_start+0x8C0):l,%a1
		lea	(MapEni_S2LevSelIcon):l,%a0
		movew	#0x90,%d0
		bsrw	Eni_Decomp
		bsrw	LevelSelect_DrawIcon
		clrw	(Player_mode):w
		clrw	(Results_screen_2P):w
		clrb	(Level_started_flag):w
		clrw	(Anim_Counters):w
		lea	(AniPLC_SONICMILES):l,%a2
		jsr	(AnimateTiles_DoAniPLC):l
		moveq	#4,%d0
		bsrw	LoadPalette
		lea	(Normal_palette_line_3):w,%a1
		lea	(Target_palette_line_3):w,%a2
		moveq	#7,%d1

loc_696C:
		movel	(%a1),(%a2)+
		clrl	(%a1)+
		dbf	%d1,loc_696C
		moveq	#mus_DataSelect,%d0
		jsr	(Play_Sound):l
		movew	#0x707,(Demo_timer):w
		clrw	(Competition_mode):w
		clrl	(Camera_X_pos):w
		clrl	(Camera_Y_pos):w
		clrl	(Save_pointer):w
		movew	#0x101,(Level_select_flag):w
		movew	#0x101,(Debug_cheat_flag):w
		clrw	(Level_select_cheat_counter):w
		clrw	(Debug_mode_cheat_counter):w
		moveb	#0x16,(V_int_routine):w
		bsrw	Wait_VSync
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Pal_FadeFromBlack

LevelSelect_Main:
		moveb	#0x16,(V_int_routine):w
		bsrw	Wait_VSync
		move	#0x2700,sr
		moveq	#0,%d3
		bsrw	LevelSelect_MarkFields
		bsrw	LevSelControls
		movew	#0x6000,%d3
		bsrw	LevelSelect_MarkFields
		bsrw	LevelSelect_DrawIcon
		move	#0x2300,sr
		lea	(AniPLC_SONICMILES):l,%a2
		jsr	(AnimateTiles_DoAniPLC):l
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#0x80,%d0
		bnes	LevelSelect_PressStart
		braw	LevelSelect_Main
/*  --------------------------------------------------------------------------- */

LevelSelect_PressStart:
		movew	(Level_select_option):w,%d0
		addw	%d0,%d0
		movew	LS_Level_Order(%pc,%d0.w),%d0
		bmiw	LevelSelect_Return
		cmpiw	#0x5555,%d0
		beqw	LevelSelect_Main
		cmpiw	#0x4001,%d0
		beqw	LevelSelect_SpecialStage
		cmpiw	#0x4000,%d0
		bnew	LevelSelect_StartZone
		moveb	#0x2C,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

LevelSelect_SpecialStage:
		moveb	#0x34,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */
		moveb	#0x10,(Game_mode):w
		clrw	(Current_zone_and_act):w
		clrw	(Apparent_zone_and_act):w
		clrw	(Saved_zone_and_act):w
		moveb	#3,(Life_count):w
		moveb	#3,(Life_count_P2):w
		moveq	#0,%d0
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		movel	%d0,(Score):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		movel	%d0,(Score_P2):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		movew	(Player_option):w,(Player_mode):w
		rts
/*  --------------------------------------------------------------------------- */
LS_Level_Order:	.word 0		/*  0 */
		.word 1		/*  1 */
		.word 0x100	/*  2 */
		.word 0x101	/*  3 */
		.word 0x200	/*  4 */
		.word 0x201	/*  5 */
		.word 0x300	/*  6 */
		.word 0x301	/*  7 */
		.word 0x5555	/*  8 */
		.word 0x5555	/*  9 */
		.word 0x500	/*  10 */
		.word 0x501	/*  11 */
		.word 0x600	/*  12 */
		.word 0x601	/*  13 */
		.word 0x5555	/*  14 */
		.word 0x5555	/*  15 */
		.word 0x5555	/*  16 */
		.word 0x5555	/*  17 */
		.word 0xE00	/*  18 */
		.word 0xF00	/*  19 */
		.word 0x1000	/*  20 */
		.word 0x1100	/*  21 */
		.word 0x1200	/*  22 */
		.word 0x1300	/*  23 */
		.word 0x5555	/*  24 */
		.word 0x5555	/*  25 */
		.word 0x4000	/*  26 */
		.word 0x4001	/*  27 */
		.word 0xFFFF	/*  28 */
/*  --------------------------------------------------------------------------- */

LevelSelect_Return:
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

LevelSelect_StartZone:
		andiw	#0x3FFF,%d0
		movew	%d0,(Current_zone_and_act):w
		movew	%d0,(Apparent_zone_and_act):w
		movew	%d0,(Saved_zone_and_act):w
		moveb	#0xC,(Game_mode):w
		moveb	#3,(Life_count):w
		moveb	#3,(Life_count_P2):w
		moveq	#0,%d0
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		movel	%d0,(Score):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		movel	%d0,(Score_P2):w
		moveb	%d0,(Continue_count):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound_2):l
		moveq	#0,%d0
		movew	%d0,(Competition_mode_monitors):w
		movew	%d0,(Competition_mode):w
		cmpib	#0xE,(Current_zone):w
		bcss	locret_6B48
		cmpib	#0x13,(Current_zone):w
		bccs	locret_6B48
		movew	#1,(Competition_mode):w

locret_6B48:
		rts

/*  =============== S U B R O U T I N E ======================================= */


LevSelControls:
		moveb	(Ctrl_1_pressed):w,%d1
		andib	#3,%d1
		bnes	loc_6B5A
		subqw	#1,(Level_select_repeat):w
		bpls	LevSelControls_CheckLR

loc_6B5A:
		movew	#0xB,(Level_select_repeat):w
		moveb	(Ctrl_1_held):w,%d1
		andib	#3,%d1
		beqs	LevSelControls_CheckLR
		movew	(Level_select_option):w,%d0
		btst	#0,%d1
		beqs	loc_6B7A
		subqw	#1,%d0
		bccs	loc_6B7A
		moveq	#0x1C,%d0

loc_6B7A:
		btst	#1,%d1
		beqs	loc_6B8A
		addqw	#1,%d0
		cmpiw	#0x1D,%d0
		bcss	loc_6B8A
		moveq	#0,%d0

loc_6B8A:
		movew	%d0,(Level_select_option):w
		rts
/*  --------------------------------------------------------------------------- */

LevSelControls_CheckLR:
		cmpiw	#0x1C,(Level_select_option):w
		bnes	LevSelControls_SwitchSide
		movew	(Sound_test_sound):w,%d0
		moveb	(Ctrl_1_pressed):w,%d1
		btst	#2,%d1
		beqs	loc_6BAC
		subqb	#1,%d0
		bccs	loc_6BAC
		moveq	#0,%d0

loc_6BAC:
		btst	#3,%d1
		beqs	loc_6BBC
		addqb	#1,%d0
		cmpiw	#0x100,%d0
		bcss	loc_6BBC
		moveq	#0,%d0

loc_6BBC:
		btst	#6,%d1
		beqs	loc_6BCA
		addib	#0x10,%d0
		andib	#-1,%d0

loc_6BCA:
		movew	%d0,(Sound_test_sound):w
		btst	#5,%d1
		beqs	loc_6BF4
		movew	(Sound_test_sound):w,%d0
		jsr	(Play_Sound):l
		lea	(DebugCodeDat):l,%a0
		lea	(AllEmeraldsCodeDat):l,%a2
		lea	(Debug_cheat_flag):w,%a1
		moveq	#1,%d2
		braw	CheckCheats
/*  --------------------------------------------------------------------------- */

loc_6BF4:
		btst	#4,%d1
		beqs	locret_6C02
		moveq	#mus_MutePSG,%d0
		jsr	(Play_Sound):l

locret_6C02:
		rts
/*  --------------------------------------------------------------------------- */

LevSelControls_SwitchSide:
		moveb	(Ctrl_1_pressed):w,%d1
		andib	#0xC,%d1
		beqs	loc_6C1A
		movew	(Level_select_option):w,%d0
		moveb	LevelSelect_SwitchTable(%pc,%d0.w),%d0
		movew	%d0,(Level_select_option):w

loc_6C1A:
		bras	loc_6C3C
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */
LevelSelect_SwitchTable:
		.byte 0x12	/*  0 */
		.byte 0x13	/*  1 */
		.byte 0x14	/*  2 */
		.byte 0x15	/*  3 */
		.byte 0x16	/*  4 */
		.byte 0x17	/*  5 */
		.byte 0x18	/*  6 */
		.byte 0x19	/*  7 */
		.byte 0x1A	/*  8 */
		.byte 0x1B	/*  9 */
		.byte 0x1C	/*  10 */
		.byte 0x1C	/*  11 */
		.byte 0x1C	/*  12 */
		.byte 0x1C	/*  13 */
		.byte 0x1C	/*  14 */
		.byte 0x1C	/*  15 */
		.byte 0x1C	/*  16 */
		.byte 0x1C	/*  17 */
		.byte 0		/*  18 */
		.byte 1		/*  19 */
		.byte 2		/*  20 */
		.byte 3		/*  21 */
		.byte 4		/*  22 */
		.byte 5		/*  23 */
		.byte 6		/*  24 */
		.byte 7		/*  25 */
		.byte 8		/*  26 */
		.byte 9		/*  27 */
		.byte 0xA		/*  28 */
		.byte 0xB		/*  29 */
/*  --------------------------------------------------------------------------- */

loc_6C3C:
		btst	#5,(Ctrl_1_pressed):w
		beqs	loc_6C56
		addqb	#1,(P1_character):w
		cmpib	#3,(P1_character):w
		bcss	loc_6C56
		moveb	#0,(P1_character):w

loc_6C56:
		btst	#5,(Ctrl_2_pressed):w
		beqs	locret_6C70
		addqb	#1,(P2_character):w
		cmpib	#3,(P2_character):w
		bcss	locret_6C70
		moveb	#0,(P2_character):w

locret_6C70:
		rts
/*  End of function LevSelControls */


/*  =============== S U B R O U T I N E ======================================= */


LevelSelect_MarkFields:
		lea	(RAM_start):l,%a4
		lea	(LevSel_MarkTable):l,%a5
		lea	(VDP_data_port):l,%a6
		moveq	#0,%d0
		movew	(Level_select_option):w,%d0
		lslw	#2,%d0
		lea	(%a5,%d0.w),%a3
		moveq	#0,%d0
		moveb	(%a3),%d0
		muluw	#0x50,%d0
		moveq	#0,%d1
		moveb	1(%a3),%d1
		addw	%d1,%d0
		lea	(%a4,%d0.w),%a1
		moveq	#0,%d1
		moveb	(%a3),%d1
		lslw	#7,%d1
		addb	1(%a3),%d1
		addiw	#0xC000,%d1
		lsll	#2,%d1
		lsrw	#2,%d1
		oriw	#0x4000,%d1
		swap	%d1
		movel	%d1,VDP_control_port-VDP_data_port(%a6)
		moveq	#0xE,%d2

loc_6CC2:
		movew	(%a1)+,%d0
		addw	%d3,%d0
		movew	%d0,(%a6)
		dbf	%d2,loc_6CC2
		addqw	#2,%a3
		moveq	#0,%d0
		moveb	(%a3),%d0
		beqs	loc_6D06
		muluw	#0x50,%d0
		moveq	#0,%d1
		moveb	1(%a3),%d1
		addw	%d1,%d0
		lea	(%a4,%d0.w),%a1
		moveq	#0,%d1
		moveb	(%a3),%d1
		lslw	#7,%d1
		addb	1(%a3),%d1
		addiw	#0xC000,%d1
		lsll	#2,%d1
		lsrw	#2,%d1
		oriw	#0x4000,%d1
		swap	%d1
		movel	%d1,VDP_control_port-VDP_data_port(%a6)
		movew	(%a1)+,%d0
		addw	%d3,%d0
		movew	%d0,(%a6)

loc_6D06:
		cmpiw	#0x1C,(Level_select_option):w
		bnes	LevelSelect_DrawCharacterNumber
		braw	LevelSelect_DrawSoundNumber
/*  --------------------------------------------------------------------------- */

LevelSelect_DrawCharacterNumber:
		movel	#0x41B80003,(VDP_control_port):l
		moveb	(P1_character):w,%d0
		bsrs	LevelSelect_DrawContinued
		movel	#0x41C00003,(VDP_control_port):l
		moveb	(P2_character):w,%d0
		bras	LevelSelect_DrawContinued
/*  End of function LevelSelect_MarkFields */


/*  =============== S U B R O U T I N E ======================================= */


LevelSelect_DrawSoundNumber:
		movel	#0x48460003,(VDP_control_port):l
		movew	(Sound_test_sound):w,%d0
/*  End of function LevelSelect_DrawSoundNumber */


/*  =============== S U B R O U T I N E ======================================= */


LevelSelect_DrawContinued:
		moveb	%d0,%d2
		lsrb	#4,%d0
		bsrs	sub_6D48
		moveb	%d2,%d0
/*  End of function LevelSelect_DrawContinued */


/*  =============== S U B R O U T I N E ======================================= */


sub_6D48:
		andiw	#0xF,%d0
		cmpib	#0xA,%d0
		bcss	loc_6D56
		addib	#4,%d0

loc_6D56:
		addib	#0x10,%d0
		addw	%d3,%d0
		movew	%d0,(%a6)
		rts
/*  End of function sub_6D48 */


/*  =============== S U B R O U T I N E ======================================= */


LevelSelect_DrawIcon:
		movew	(Level_select_option):w,%d0
		lea	(LevSel_IconTable):l,%a3
		lea	(%a3,%d0.w),%a3
		lea	(RAM_start+0x8C0):l,%a1
		moveq	#0,%d0
		moveb	(%a3),%d0
		lslw	#3,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	(%a1,%d0.w),%a1
		movel	#0x4B360003,%d0
		moveq	#3,%d1
		moveq	#2,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(Pal_S2LevelIcons):l,%a1
		moveq	#0,%d0
		moveb	(%a3),%d0
		lslw	#5,%d0
		lea	(%a1,%d0.w),%a1
		lea	(Normal_palette_line_3):w,%a2
		moveq	#7,%d1

loc_6DAA:
		movel	(%a1)+,(%a2)+
		dbf	%d1,loc_6DAA
		rts
/*  End of function LevelSelect_DrawIcon */

/*  --------------------------------------------------------------------------- */
LevSel_IconTable:
		.byte    0,   0
		.byte    7,   7
		.byte    8,   8
		.byte    6,   6
		.byte    2,   2
		.byte    5,   5
		.byte    4,   4
		.byte    1,   1
		.byte    9,   9
		.byte   0xA,  0xA
		.byte    3,   3
		.byte   0xB,  0xB
		.byte   0xB,  0xB
		.byte   0xC,  0xC
		.byte   0xE,   0
LevSel_MarkTable:
		.byte    1,   6,   1, 0x24
		.byte    1,   6,   2, 0x24
		.byte    4,   6,   4, 0x24
		.byte    4,   6,   5, 0x24
		.byte    7,   6,   7, 0x24
		.byte    7,   6,   8, 0x24
		.byte   0xA,   6,  0xA, 0x24
		.byte   0xA,   6,  0xB, 0x24
		.byte   0xD,   6,  0xD, 0x24
		.byte   0xD,   6,  0xE, 0x24
		.byte  0x10,   6, 0x10, 0x24
		.byte  0x10,   6, 0x11, 0x24
		.byte  0x13,   6, 0x13, 0x24
		.byte  0x13,   6, 0x14, 0x24
		.byte  0x16,   6, 0x16, 0x24
		.byte  0x16,   6, 0x17, 0x24
		.byte  0x19,   6, 0x19, 0x24
		.byte  0x19,   6, 0x1A, 0x24
		.byte    1, 0x2C,   1, 0x4A
		.byte    1, 0x2C,   2, 0x4A
		.byte    4, 0x2C,   4, 0x4A
		.byte    4, 0x2C,   5, 0x4A
		.byte    7, 0x2C,   7, 0x4A
		.byte    7, 0x2C,   8, 0x4A
		.byte   0xA, 0x2C,  0xA, 0x4A
		.byte   0xA, 0x2C,  0xB, 0x4A
		.byte   0xD, 0x2C,  0xD, 0x4A
		.byte   0xD, 0x2C,  0xE, 0x4A
		.byte  0x10, 0x2C, 0x10, 0x4A
LevSel_MappingOffsets:
		.word 0x56
		.word 0x146
		.word 0x236
		.word 0x326
		.word 0x416
		.word 0x506
		.word 0x5F6
		.word 0x6E6
		.word 0x7D6
		.word 0x7C
		.word 0x16C
		.word 0x25C
		.word 0x34C
		.word 0x43C
		.word 0x52C
		.word 0x61C

/*  =============== S U B R O U T I N E ======================================= */


CheckCheats:
		movew	(Level_select_cheat_counter):w,%d0
		addaw	%d0,%a0
		movew	(Sound_test_sound):w,%d0
		cmpb	(%a0),%d0
		bnes	loc_6E88
		addqw	#1,(Level_select_cheat_counter):w
		tstb	1(%a0)
		bnes	loc_6E8E
		movew	#0x101,(%a1)
		moveq	#sfx_RingRight,%d0
		jsr	(Play_Sound_2):l

loc_6E88:
		movew	#0,(Level_select_cheat_counter):w

loc_6E8E:
		movew	(Debug_mode_cheat_counter):w,%d0
		addaw	%d0,%a2
		movew	(Sound_test_sound):w,%d0
		cmpb	(%a2),%d0
		bnes	loc_6EC8
		addqw	#1,(Debug_mode_cheat_counter):w
		tstb	1(%a2)
		bnes	locret_6ECE
		tstw	%d2
		bnes	loc_6EBA
		moveb	#0xF,(Continue_count):w
		moveq	#mus_Continue,%d0
		jsr	(Play_Sound):l
		bras	loc_6EC8
/*  --------------------------------------------------------------------------- */

loc_6EBA:
		movew	#7,(Emerald_count):w
		moveq	#mus_Emerald,%d0
		jsr	(Play_Sound):l

loc_6EC8:
		movew	#0,(Debug_mode_cheat_counter):w

locret_6ECE:
		rts
/*  End of function CheckCheats */

/*  --------------------------------------------------------------------------- */
S2LevelSelectCodeDat:
		.byte  0x19, 0x65,   9, 0x17,   0
S2ContinueCodeDat:
		.byte    1,   1,   2,   4,   0
DebugCodeDat:
		.byte    1,   3,   5,   7,   0
AllEmeraldsCodeDat:
		.byte    2,   4,   5,   6,   0
TextOptScr_PlayerSelect:
		levselstr "* PLAYER SELECT *"
TextOptScr_SonicAndMiles:
		levselstr "SONIC AND MILES"
TextOptScr_SonicAndTails:
		levselstr "SONIC AND TAILS"
TextOptScr_SonicAlone:
		levselstr "SONIC ALONE    "
TextOptScr_MilesAlone:
		levselstr "MILES ALONE    "
TextOptScr_TailsAlone:
		levselstr "TAILS ALONE    "
TextOptScr_VsModeItems:
		levselstr "* VS MODE ITEMS *"
TextOptScr_AllKindsItems:
		levselstr "ALL KINDS ITEMS"
TextOptScr_TeleportOnly:
		levselstr "TELEPORT ONLY  "
TextOptScr_SoundTest:
		levselstr "*  SOUND TEST   *"
TextOptScr_0:
		levselstr "      00       "
Text2P_EmeraldHill:
		levselstr "EMERALD HILL"
Text2P_MysticCave:
		levselstr " MYSTIC CAVE"
Text2P_CasinoNight:
		levselstr "CASINO NIGHT"
Text2P_SpecialStage:
		levselstr "SPECIAL STAGE"
Text2P_Special:	levselstr "   SPECIAL  "
Text2P_Zone:	levselstr "ZONE "
Text2P_Stage:	levselstr "STAGE"
Text2P_GameOver:levselstr "GAME OVER"
Text2P_TimeOver:levselstr "TIME OVER"
Text2P_NoGame:	levselstr "NO GAME"
Text2P_Tied:	levselstr "TIED"
Text2P_1P:	levselstr " 1P"
Text2P_2P:	levselstr " 2P"
Text2P_Blank:	levselstr "    "
LevelSelectText:levselstr "ANGEL ISLAND"
		levselstr "HYDROCITY"
		levselstr "MARBLE GARDEN"
		levselstr "CARNIVAL NIGHT"
		levselstr "FLYING BATTERY"
		levselstr "ICECAP"
		levselstr "LAUNCH BASE"
		levselstr "MUSHROOM VALLEY"
		levselstr "SANDOPOLIS"
		levselstr "2P VS"
		levselstr "2P VS"
		levselstr "2P VS"
		levselstr "BONUS"
		levselstr "SPECIAL STAGE"
		levselstr "SOUND TEST  *"
		.balign 2
Pal_S2LevelIcons:
		.incbin "General/Sprites/S2Menu/Palettes/Level Select Icons.bin"
		.balign 2
MapEni_S2LevSel2P:
		.incbin "General/Sprites/S2Menu/Enigma Map/Level Select 2P.bin"
		.balign 2
MapEni_S2Options:
		.incbin "General/Sprites/S2Menu/Enigma Map/Options Screen.bin"
		.balign 2
MapEni_S2LevSel:.incbin "General/Sprites/S2Menu/Enigma Map/Level Select.bin"
		.balign 2
MapEni_S2LevSelIcon:
		.incbin "General/Sprites/S2Menu/Enigma Map/Level Select Icons.bin"
		.balign 2
AniPLC_SONICMILES:.word 0
		.long ArtUnc_SONICMILES+0xFF000000
		.word 0x20
		.byte    6,  0xA
		.byte    0, 0xC7
		.byte   0xA,   5
		.byte  0x14,   5
		.byte  0x1E, 0xC7
		.byte  0x14,   5
		.byte   0xA,   5
/*  --------------------------------------------------------------------------- */

SpecialStage:
		moveq	#mus_Stop,%d0
		bsrw	Play_Sound
		bsrw	Clear_Nem_Queue
		bsrw	Pal_FadeToWhite
		move	#0x2700,sr
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x9001,(%a6)
		movew	#0x9200,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8720,(%a6)
		clrb	(Water_full_screen_flag):w
		movew	#0x8C81,(%a6)
		bsrw	Clear_DisplayData
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_7500:
		movel	%d0,(%a1)+
		dbf	%d1,loc_7500
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_7510:
		movel	%d0,(%a1)+
		dbf	%d1,loc_7510
		lea	(Stat_table):w,%a1
		moveq	#0,%d0
		movew	#0x3F,%d1

loc_7520:
		movel	%d0,(%a1)+
		dbf	%d1,loc_7520
		jsr	(Init_SpriteTable):l
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		lea	(Pal_SStage_Main):l,%a1
		lea	(Target_palette):w,%a2
		movew	#0x3F,%d0

loc_7546:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_7546
		movel	#0x40000000,(VDP_control_port):l
		lea	(ArtNem_SStageLayout):l,%a0
		bsrw	Nem_Decomp
		lea	(MapUnc_SStageLayout):l,%a1
		movel	#0x40000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		movel	#0x50000003,(VDP_control_port):l
		lea	(ArtNem_SStageSphere):l,%a0
		bsrw	Nem_Decomp
		movel	#0x74E00002,(VDP_control_port):l
		lea	(ArtNem_SStageRing):l,%a0
		bsrw	Nem_Decomp
		movel	#0x73600002,(VDP_control_port):l
		lea	(ArtNem_SStageBG):l,%a0
		bsrw	Nem_Decomp
		movel	#0x6BE00002,(VDP_control_port):l
		lea	(ArtNem_GetBlueSpheres):l,%a0
		bsrw	Nem_Decomp
		movel	#0x5F000003,(VDP_control_port):l
		lea	(ArtNem_GBSArrow):l,%a0
		bsrw	Nem_Decomp
		movel	#0x70200003,(VDP_control_port):l
		lea	(ArtNem_SStageDigits):l,%a0
		bsrw	Nem_Decomp
		lea	(ArtNem_SStageDigits):l,%a0
		lea	(H_scroll_buffer+0x20):w,%a4
		bsrw	Nem_Decomp_To_RAM
		movel	#0x71200002,(VDP_control_port):l
		lea	(ArtNem_SStageIcons):l,%a0
		bsrw	Nem_Decomp
		movel	#0x74000003,(VDP_control_port):l
		lea	(ArtNem_SStageShadow):l,%a0
		bsrw	Nem_Decomp
		lea	(SSNum000_Map):l,%a1
		movel	#0x40840003,%d0
		moveq	#7,%d1
		moveq	#2,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(SSNum000_Map):l,%a1
		movel	#0x40BC0003,%d0
		moveq	#7,%d1
		moveq	#2,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(RAM_start):l,%a1
		lea	(MapEni_SStageBG):l,%a0
		movew	#0x459B,%d0
		bsrw	Eni_Decomp
		lea	(RAM_start):l,%a1
		movel	#0x60000003,%d0
		moveq	#0x3F,%d1
		moveq	#0x1F,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(SStageLayoutPtrs):l,%a2
		tstb	(Debug_cheat_flag):w
		beqs	loc_7692
		movew	(Sound_test_sound):w,%d0
		btst	#6,(Ctrl_1_held):w
		bnes	loc_76B6

loc_7692:
		moveq	#0,%d0
		moveb	(Current_%special_stage):w,%d0
		cmpiw	#7,(Emerald_count):w
		bccs	loc_76B6
		lea	(Collected_emeralds_array):w,%a1

loc_76A4:
		tstb	(%a1,%d0.w)
		beqs	loc_76B6
		addqw	#1,%d0
		cmpiw	#7,%d0
		bcss	loc_76A4
		moveq	#0,%d0
		bras	loc_76A4
/*  --------------------------------------------------------------------------- */

loc_76B6:
		andiw	#7,%d0
		moveb	%d0,(Current_%special_stage):w
		movew	%d0,%d1
		lslw	#2,%d0
		moveal	(%a2,%d0.w),%a2
		lea	(Level_layout_header):w,%a3
		movew	#0xFF,%d0

loc_76CE:
		movel	(%a2)+,(%a3)+
		dbf	%d0,loc_76CE
		movew	(%a2)+,(Special_stage_angle):w
		movew	(%a2)+,(Special_stage_X_pos):w
		movew	(%a2)+,(Special_stage_Y_pos):w
		movew	(%a2)+,(Special_stage_rings_left):w
		lslw	#4,%d1
		lea	(SS_Pal_Map_Ptrs):l,%a1
		lea	(Target_palette):w,%a2
		moveal	4(%a1,%d1.w),%a1
		movel	%a1,(Special_stage_palette_addr):w
		movel	(%a1)+,0x70(%a2)
		movel	(%a1)+,0x74(%a2)
		movel	(%a1)+,0x78(%a2)
		movel	(%a1)+,0x7C(%a2)
		movel	0x10(%a1),0x50(%a2)
		movew	0x14(%a1),0x54(%a2)
		bsrw	sub_8CDC
		bsrw	Load_SSSprite_Mappings
		clrb	(Level_started_flag):w
		moveb	#0xFF,(Special_stage_%sphere_HUD_flag):w
		moveb	#0x80,(Special_stage_extra_life_flags):w
		movew	#0x1000,(Special_stage_rate):w
		movew	#0x708,(Special_stage_rate_timer):w
		movew	#0,(Camera_X_pos_copy):w
		movew	#0,(Camera_Y_pos_copy):w
		movew	#-1,(Screen_Y_wrap_value):w
		movel	#Obj_SStage_7F1C,(Player_1):w
		movel	#Obj_SStage_8380,(Dynamic_object_RAM+object_size):w
		tstw	(Player_option):w
		bnes	loc_7770
		movel	#Obj_SStage_8148,(Player_2):w
		movel	#Obj_SStage_83E4,(Dynamic_object_RAM+(object_size*2)).w

loc_7770:
		movel	#Obj_SStage_7D70,(Reserved_object_3):w
		movel	#Obj_SStage_7DB8,(Dynamic_object_RAM):w
		jsr	(Process_Sprites):l
		bsrw	Animate_SSRings
		bsrw	Touch_SSSprites
		jsr	(Render_Sprites):l
		jsr	Draw_SSSprites(%pc)
		bsrw	sub_8B9A
		moveb	#1,(Special_stage_fade_timer):w
		moveb	#0x1C,(V_int_routine):w
		bsrw	Wait_VSync
		moveb	#0,(Special_stage_fade_timer):w
		movew	#0x8C89,(VDP_control_port):l
		moveq	#mus_SpecialStage,%d0
		bsrw	Play_Sound
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Pal_FromBlackWhite

loc_77D2:
		bsrw	Pause_Game
		moveb	#0x1C,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		bsrw	Wait_VSync
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		bsrw	Animate_SSRings
		bsrw	Touch_SSSprites
		jsr	(Render_Sprites):l
		jsr	Draw_SSSprites(%pc)
		bsrw	sub_8B9A
		bsrw	sub_89E2
		bsrw	Process_Nem_Queue_Init
		jsr	(Process_Kos_Module_Queue):l
		cmpib	#0x34,(Game_mode):w
		beqs	loc_77D2
		tstw	(Demo_mode_flag):w
		beqs	loc_7828
		moveb	#0,(Game_mode):w

loc_7828:
		movew	#0x3C,(Demo_timer):w
		movew	#0x3F,(Palette_fade_info):w
		clrw	(Pal_fade_delay):w

loc_7838:
		moveb	#0x1C,(V_int_routine):w
		bsrw	Wait_VSync
		jsr	(Process_Sprites):l
		bsrw	Animate_SSRings
		bsrw	Touch_SSSprites
		jsr	(Render_Sprites):l
		jsr	Draw_SSSprites(%pc)
		bsrw	sub_8B9A
		bsrw	sub_89E2
		bsrw	Process_Nem_Queue_Init
		jsr	(Process_Kos_Module_Queue):l
		subqw	#1,(Pal_fade_delay):w
		bpls	loc_787C
		movew	#2,(Pal_fade_delay):w
		bsrw	Pal_ToWhite

loc_787C:
		tstw	(Demo_timer):w
		bnes	loc_7838
		addqb	#1,(Current_%special_stage):w
		cmpib	#7,(Current_%special_stage):w
		bcss	locret_7894
		moveb	#0,(Current_%special_stage):w

locret_7894:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Rotate_SSPal:
		tstb	(Special_stage_fade_timer):w
		bnes	locret_78DA
		lea	(SS_Pal_Map_Ptrs):l,%a1
		movew	(Special_stage_anim_frame):w,%d0
		cmpiw	#0x10,%d0
		bcss	loc_78BA
		tstb	(Special_stage_turning):w
		bpls	locret_78DA
		moveb	(Special_stage_palette_frame):w,%d0
		andiw	#0xF,%d0

loc_78BA:
		andiw	#0xE,%d0
		negw	%d0
		addiw	#0x10,%d0
		moveal	(Special_stage_palette_addr):w,%a1
		lea	(%a1,%d0.w),%a1
		lea	(Normal_palette_line_4+0x10):w,%a2
		movew	#7,%d0

loc_78D4:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_78D4

locret_78DA:
		rts
/*  End of function Rotate_SSPal */


/*  =============== S U B R O U T I N E ======================================= */


Update_SSMap:
		lea	(VDP_data_port):l,%a6
		lea	(SS_Pal_Map_Ptrs):l,%a1
		movew	(Special_stage_anim_frame):w,%d0
		cmpb	(Special_stage_prev_anim_frame):w,%d0
		beqs	loc_7938
		moveb	%d0,(Special_stage_prev_anim_frame):w
		lslw	#3,%d0
		moveal	(%a1,%d0.w),%a3
		lea	0x10E(%a3),%a1
		movel	#0x419E0003,(VDP_control_port):l
		moveq	#9,%d1

loc_790C:
		movew	(%a1)+,(%a6)
		dbf	%d1,loc_790C
		lea	0x140(%a3),%a3
		movel	#0x42000003,%d0
		moveq	#0x27,%d1
		moveq	#0x17,%d2
		movel	#0x800000,%d4

loc_7926:
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		movew	%d1,%d3

loc_792C:
		movew	(%a3)+,(%a6)
		dbf	%d3,loc_792C
		addl	%d4,%d0
		dbf	%d2,loc_7926

loc_7938:
		tstb	(Special_stage_%sphere_HUD_flag):w
		beqs	loc_7952
		moveb	#0,(Special_stage_%sphere_HUD_flag):w
		movel	#0x40860003,%d0
		movew	(Special_stage_%spheres_left):w,%d1
		bsrw	Draw_SSNum

loc_7952:
		tstb	(Special_stage_extra_life_flags):w
		bpls	locret_796C
		bclr	#7,(Special_stage_extra_life_flags):w
		movel	#0x40BE0003,%d0
		movew	(Special_stage_ring_count):w,%d1
		bsrw	Draw_SSNum

locret_796C:
		rts
/*  End of function Update_SSMap */

/*  --------------------------------------------------------------------------- */
SS_Pal_Map_Ptrs:.long MapUnc_SStageLayout
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_1
		.long MapUnc_SStageLayout
		.long Pal_SStage_2
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_2
		.long MapUnc_SStageLayout
		.long Pal_SStage_3
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_3
		.long MapUnc_SStageLayout
		.long Pal_SStage_4
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_4
		.long MapUnc_SStageLayout
		.long Pal_SStage_5
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_5
		.long MapUnc_SStageLayout
		.long Pal_SStage_6
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_6
		.long MapUnc_SStageLayout
		.long Pal_SStage_7
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_7
		.long MapUnc_SStageLayout
		.long Pal_SStage_8
		.long MapUnc_SStageLayout+0x8C0
		.long Pal_SStage_8
		.long MapUnc_SStageLayout+0x4600
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x3D40
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x3480
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x2BC0
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x2300
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x1A40
		.long Pal_SStage_1
		.long MapUnc_SStageLayout+0x1180
		.long Pal_SStage_1
Pal_SStage_Main:.incbin "General/Special Stage/Palettes/Main.bin"
		.balign 2
Pal_SStage_1:	.incbin "General/Special Stage/Palettes/3-1.bin"
		.balign 2
Pal_SStage_2:	.incbin "General/Special Stage/Palettes/3-2.bin"
		.balign 2
Pal_SStage_3:	.incbin "General/Special Stage/Palettes/3-3.bin"
		.balign 2
Pal_SStage_4:	.incbin "General/Special Stage/Palettes/3-4.bin"
		.balign 2
Pal_SStage_5:	.incbin "General/Special Stage/Palettes/3-5.bin"
		.balign 2
Pal_SStage_6:	.incbin "General/Special Stage/Palettes/3-6.bin"
		.balign 2
Pal_SStage_7:	.incbin "General/Special Stage/Palettes/3-7.bin"
		.balign 2
Pal_SStage_8:	.incbin "General/Special Stage/Palettes/3-8 S3.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


Draw_SSNum:
		lea	(SSNum_Precision):l,%a2
		moveq	#2,%d6
		lea	SSNum_Map(%pc),%a1

loc_7BE2:
		moveq	#0,%d2
		movew	(%a2)+,%d3

loc_7BE6:
		subw	%d3,%d1
		bcss	loc_7BEE
		addqw	#1,%d2
		bras	loc_7BE6
/*  --------------------------------------------------------------------------- */

loc_7BEE:
		addw	%d3,%d1
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		addw	%d2,%d2
		addw	%d2,%d2
		lea	(%a1,%d2.w),%a3
		movel	(%a3),(%a6)
		addil	#0x800000,%d0
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		movel	0x28(%a3),(%a6)
		addil	#0x800000,%d0
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		movel	0x50(%a3),(%a6)
		subil	#0xFC0000,%d0
		dbf	%d6,loc_7BE2
		rts
/*  End of function Draw_SSNum */

/*  --------------------------------------------------------------------------- */
SSNum_Precision:.word 0x64
		.word 0xA
		.word 1
SSNum_Map:	.long 0xC781CF81,0xC782C783,0xC781CF81,0xC781CF81,0xC784C785,0xC786C787,0xC781CF81,0xCF87C788,0xC781CF81,0xC781CF81
		.long 0xC78ACF8A,0xC78BC78C,0xC78DC78E,0xC78FC790,0xC791C792,0xC793C794,0xC795C796,0xC797C798,0xC799CF99,0xDF96DF95
		.long 0xD781DF81,0xC79BD783,0xDF88D787,0xD781DF81,0xC79CC79D,0xD781DF81,0xD781DF81,0xC79EC79F,0xD781DF81,0xD781DF81
SSNum000_Map:	.word  0xCF89, 0xC781, 0xCF81, 0xC781, 0xCF81, 0xC781, 0xCF81, 0xC789
		.word  0xCF9A, 0xC78A, 0xCF8A, 0xC78A, 0xCF8A, 0xC78A, 0xCF8A, 0xC79A
		.word  0xDF89, 0xD781, 0xDF81, 0xD781, 0xDF81, 0xD781, 0xDF81, 0xD789

/*  =============== S U B R O U T I N E ======================================= */


Create_New_Sprite2:
		moveal	%a0,%a1
		movew	#Wave_Splash,%d0
		subw	%a0,%d0
		lsrw	#6,%d0
		moveb	Find_First_Sprite_Table(%pc,%d0.w),%d0
		bmis	locret_7CEE

loc_7CE4:
		lea	0x4A(%a1),%a1
		tstl	(%a1)
		dbeq	%d0,loc_7CE4

locret_7CEE:
		rts
/*  End of function Create_New_Sprite2 */

/*  --------------------------------------------------------------------------- */
Find_First_Sprite_Table:
.a		set	Object_RAM
b		set	Object_RAM_end+object_size
.c		set	b			/*  begin from bottom of array and decrease backwards */
		rept	(.b-.a)/0x40		/*  repeat for all slots, minus exception */
.c		set	.c-0x40			/*  address for previous 0x40 (also skip last part) */
		.byte	(.b-.c-1)/object_size-1	/*  write possible slots according to object_size division + hack + dbf hack */
		endm
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_SStage_7D70:
		moveb	#-0x80,7(%a0)
		moveb	#-0x80,6(%a0)
		movew	#0,8(%a0)
		movel	#Map_SSIcons,0xC(%a0)
		movew	#0xC589,0xA(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0x94,0x14(%a0)
		movel	#loc_7DA2,(%a0)

loc_7DA2:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_SSIcons:	.include "General/Special Stage/Map - Icons.S"
/*  --------------------------------------------------------------------------- */

Obj_SStage_7DB8:
		jsr	(Create_New_Sprite2):l
		bnew	loc_7DD4
		movel	#loc_7DD4,(%a1)
		bset	#0,0x2A(%a1)
		moveb	#1,0x22(%a1)

loc_7DD4:
		moveb	#0x80,7(%a0)
		moveb	#0x80,6(%a0)
		movew	#0,8(%a0)
		movel	#Map_GetBlueSpheres,0xC(%a0)
		movew	#0xA55F,0xA(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0xE8,0x14(%a0)
		movew	#0xB4,0x32(%a0)
		movel	#loc_7E0C,(%a0)

loc_7E0C:
		tstw	0x32(%a0)
		beqs	loc_7E1C
		subqw	#1,0x32(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_7E1C:
		cmpiw	#0xC0,0x30(%a0)
		bcss	loc_7E3C
		movel	#loc_7E5E,(%a0)
		addqb	#2,0x22(%a0)
		tstw	(Special_stage_velocity):w
		bnes	loc_7E42
		moveb	#1,(Special_stage_advancing):w
		bras	loc_7E42
/*  --------------------------------------------------------------------------- */

loc_7E3C:
		addiw	#0x10,0x30(%a0)

loc_7E42:
		movew	0x30(%a0),%d0
		btst	#0,0x2A(%a0)
		bnes	loc_7E50
		negw	%d0

loc_7E50:
		addiw	#0x120,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_7E5E:
		tstw	(Special_stage_rings_left):w
		beqs	loc_7E66
		rts
/*  --------------------------------------------------------------------------- */

loc_7E66:
		subiw	#0x10,0x30(%a0)
		bnes	loc_7E7A
		movel	#loc_7E96,(%a0)
		movew	#0xB4,0x32(%a0)

loc_7E7A:
		movew	0x30(%a0),%d0
		btst	#0,0x2A(%a0)
		bnes	loc_7E88
		negw	%d0

loc_7E88:
		addiw	#0x120,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_7E96:
		tstw	0x32(%a0)
		beqs	loc_7EA6
		subqw	#1,0x32(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_7EA6:
		cmpiw	#0xC0,0x30(%a0)
		bccs	loc_7EB4
		addiw	#0x10,0x30(%a0)

loc_7EB4:
		movew	0x30(%a0),%d0
		btst	#0,0x2A(%a0)
		bnes	loc_7EC2
		negw	%d0

loc_7EC2:
		addiw	#0x120,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_GetBlueSpheres:
		.include "General/Special Stage/Map - Get Blue Spheres.S"
/*  --------------------------------------------------------------------------- */

Obj_SStage_7F1C:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x200,8(%a0)
		movel	#Map_SStageSonic,0xC(%a0)
		movew	#0x87D4,0xA(%a0)
		cmpiw	#2,(Player_option):w
		bnes	loc_7F6C
		movel	#Map_SStageTails,0xC(%a0)
		movew	#0xA7EB,0xA(%a0)
		jsr	(Create_New_Sprite2):l
		bnew	loc_7F6C
		movel	#Obj_SStage_82EE,(%a1)
		movew	%a0,0x3E(%a1)

loc_7F6C:
		movew	#0xA0,0x30(%a0)
		movew	#0x70,0x32(%a0)
		movew	#0,0x34(%a0)
		movew	#0xF800,0x36(%a0)
		movew	#0,0x38(%a0)
		bsrw	sub_8402
		moveb	#0xFF,0x3A(%a0)
		movel	#loc_7F9A,(%a0)

loc_7F9A:
		tstw	(Special_stage_rate_timer):w
		beqs	loc_7FCE
		subqw	#1,(Special_stage_rate_timer):w
		bnes	loc_7FCE
		movew	#0x708,(Special_stage_rate_timer):w
		cmpiw	#0x2000,(Special_stage_rate):w
		beqs	loc_7FCE
		addiw	#0x400,(Special_stage_rate):w
		moveb	(Special_stage_rate):w,%d0
		subib	#0x20,%d0
		negb	%d0
		addb	%d0,%d0
		addqb	#8,%d0
		jsr	(Change_Music_Tempo):l

loc_7FCE:
		bsrw	sub_8476
		moveq	#0xC,%d0
		movew	(Special_stage_velocity):w,%d1
		beqs	loc_7FF8
		asrw	#5,%d1
		addw	%d1,0x24(%a0)
		moveq	#0,%d0
		moveb	0x24(%a0),%d0
		bpls	loc_7FEE
		addib	#0xC,%d0
		bras	loc_7FF8
/*  --------------------------------------------------------------------------- */

loc_7FEE:
		cmpib	#0xC,%d0
		bcss	loc_7FF8
		subib	#0xC,%d0

loc_7FF8:
		moveb	%d0,0x24(%a0)
		lea	(byte_811E):l,%a1
		tstb	(Special_stage_jumping):w
		bpls	loc_801C
		lea	(byte_812C):l,%a1
		movew	(Special_stage_velocity):w,%d1
		bnes	loc_801C
		moveb	(Level_frame_counter+1):w,%d0
		andiw	#3,%d0

loc_801C:
		moveb	(%a1,%d0.w),0x22(%a0)
		tstb	(Special_stage_clear_routine):w
		bnes	loc_803E
		movew	(Ctrl_1):w,%d0
		andiw	#0x70,%d0
		beqs	loc_803E
		tstb	(Special_stage_jumping):w
		bmis	loc_803E
		moveb	#1,(Special_stage_jumping):w

loc_803E:
		moveb	(Special_stage_angle):w,%d0
		andib	#0x3F,%d0
		bnew	loc_80A2
		cmpib	#1,(Special_stage_jumping):w
		bnes	loc_806E
		movel	#-0x100000,0x40(%a0)
		moveb	#-0x80,(Special_stage_jumping):w
		moveb	#0,(Special_stage_turning):w
		moveq	#sfx_Jump,%d0
		jsr	(Play_Sound_2):l

loc_806E:
		tstb	(Special_stage_jumping):w
		bpls	loc_80A2
		movel	0x3C(%a0),%d0
		addl	0x40(%a0),%d0
		bmis	loc_8088
		moveq	#0,%d0
		movel	%d0,0x40(%a0)
		moveb	%d0,(Special_stage_jumping):w

loc_8088:
		movew	(Special_stage_rate):w,%d1
		extl	%d1
		lsll	#4,%d1
		addl	%d1,0x40(%a0)
		movel	%d0,0x3C(%a0)
		swap	%d0
		addiw	#-0x800,%d0
		movew	%d0,0x36(%a0)

loc_80A2:
		bsrw	sub_8402
		bsrw	sub_8434
		jsr	(Draw_Sprite):l
		lea	(PLC_SStageSonic):l,%a2
		movel	#ArtUnc_SStageSonic,%d6
		movew	#0xFA80,%d4
		cmpiw	#2,(Player_option):w
		bnes	loc_80D8
		lea	(PLC_SStageTails):l,%a2
		movel	#ArtUnc_SStageTails,%d6
		movew	#0xFD60,%d4

loc_80D8:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	0x3A(%a0),%d0
		beqs	locret_811C
		moveb	%d0,0x3A(%a0)
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_811C

loc_80F4:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	%d6,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_80F4

locret_811C:
		rts
/*  --------------------------------------------------------------------------- */
byte_811E:	.byte    2,   6,   7,   8,   7,   6,   2,   3,   4,   5,   4,   3,   1,   0
byte_812C:	.byte    9,  0xB,  0xA,  0xB,   9,  0xB,  0xA,  0xB,   9,  0xB,  0xA,  0xB,  0xB,   0
byte_813A:	.byte    9,  0xA,  0xB,   9,  0xA,  0xB,   9,  0xA,  0xB,   9,  0xA,  0xB,  0xB,   0
/*  --------------------------------------------------------------------------- */

Obj_SStage_8148:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x180,8(%a0)
		movel	#Map_SStageTails,0xC(%a0)
		movew	#0xA7EB,0xA(%a0)
		movew	#0xA0,0x30(%a0)
		movew	#0x70,0x32(%a0)
		movew	#0,0x34(%a0)
		movew	#-0x800,0x36(%a0)
		movew	#-0x20,0x38(%a0)
		moveb	#0xFF,0x3A(%a0)
		bsrw	sub_82CE
		jsr	(Create_New_Sprite2):l
		bnew	loc_81AA
		movel	#Obj_SStage_82EE,(%a1)
		movew	%a0,0x3E(%a1)

loc_81AA:
		movel	#loc_81B0,(%a0)

loc_81B0:
		moveq	#0xC,%d0
		movew	(Special_stage_velocity):w,%d1
		beqs	loc_81D6
		asrw	#5,%d1
		addw	%d1,0x24(%a0)
		moveq	#0,%d0
		moveb	0x24(%a0),%d0
		bpls	loc_81CC
		addib	#0xC,%d0
		bras	loc_81D6
/*  --------------------------------------------------------------------------- */

loc_81CC:
		cmpib	#0xC,%d0
		bcss	loc_81D6
		subib	#0xC,%d0

loc_81D6:
		moveb	%d0,0x24(%a0)
		lea	(byte_811E):l,%a1
		tstb	(Special_stage_jumping_P2):w
		beqs	loc_81FA
		lea	(byte_813A):l,%a1
		movew	(Special_stage_velocity):w,%d1
		bnes	loc_81FA
		moveb	(Level_frame_counter+1):w,%d0
		andiw	#3,%d0

loc_81FA:
		moveb	(%a1,%d0.w),0x22(%a0)
		bsrw	sub_8272
		andiw	#0x70,%d0
		beqs	loc_8226
		tstb	(Special_stage_jumping_P2):w
		bnes	loc_8226
		movel	#-0x100000,0x40(%a0)
		moveb	#1,(Special_stage_jumping_P2):w
		moveq	#sfx_Jump,%d0
		jsr	(Play_Sound_2):l

loc_8226:
		movel	0x3C(%a0),%d0
		addl	0x40(%a0),%d0
		bmis	loc_823A
		moveq	#0,%d0
		movel	%d0,0x40(%a0)
		moveb	%d0,(Special_stage_jumping_P2):w

loc_823A:
		movew	(Special_stage_rate):w,%d1
		extl	%d1
		lsll	#4,%d1
		addl	%d1,0x40(%a0)
		movel	%d0,0x3C(%a0)
		swap	%d0
		addiw	#-0x800,%d0
		movew	%d0,0x36(%a0)
		bsrw	sub_8434
		jsr	(Draw_Sprite):l
		lea	(PLC_SStageTails):l,%a2
		movel	#ArtUnc_SStageTails,%d6
		movew	#0xFD60,%d4
		braw	loc_80D8

/*  =============== S U B R O U T I N E ======================================= */


sub_8272:
		movew	(Pos_table_index):w,%d0
		lea	(Pos_table):w,%a1
		lea	(%a1,%d0.w),%a1
		movew	(Ctrl_1):w,(%a1)
		moveb	(Special_stage_jumping):w,2(%a1)
		addqb	#4,(Pos_table_index+1):w
		moveb	(Ctrl_2):w,%d0
		andib	#0x7F,%d0
		beqs	loc_829C
		movew	#600,(Tails_CPU_idle_timer):w

loc_829C:
		tstw	(Tails_CPU_idle_timer):w
		beqs	loc_82AC
		subqw	#1,(Tails_CPU_idle_timer):w
		movew	(Ctrl_2):w,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_82AC:
		lea	(Pos_table):w,%a1
		movew	#8,%d1
		lslb	#2,%d1
		addqb	#4,%d1
		movew	(Pos_table_index):w,%d0
		subb	%d1,%d0
		moveb	2(%a1,%d0.w),%d1
		moveq	#0,%d0
		tstb	%d1
		bpls	locret_82CC
		movew	#0x70,%d0

locret_82CC:
		rts
/*  End of function sub_8272 */


/*  =============== S U B R O U T I N E ======================================= */


sub_82CE:
		lea	(Pos_table):w,%a2
		movew	#0x3F,%d0

loc_82D6:
		movel	#0,(%a2)+
		dbf	%d0,loc_82D6
		movew	#0,(Pos_table_index):w
		movew	#0,(Tails_CPU_idle_timer):w
		rts
/*  End of function sub_82CE */

/*  --------------------------------------------------------------------------- */

Obj_SStage_82EE:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x100,8(%a0)
		movel	#Map_SStageTailstails,0xC(%a0)
		movew	#0xA7B0,0xA(%a0)
		movew	#0xA0,0x30(%a0)
		movew	#0x70,0x32(%a0)
		moveb	#-1,0x3A(%a0)
		moveb	#1,0x22(%a0)
		movel	#loc_8332,(%a0)

loc_8332:
		moveaw	0x3E(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		movew	#0x2AAA,%d0
		movew	(Special_stage_velocity):w,%d1
		bmis	loc_834E
		addw	%d1,%d0

loc_834E:
		addw	%d0,0x24(%a0)
		bccs	loc_8366
		moveb	0x22(%a0),%d0
		addqb	#1,%d0
		cmpib	#0xF,%d0
		bcss	loc_8362
		moveq	#1,%d0

loc_8362:
		moveb	%d0,0x22(%a0)

loc_8366:
		jsr	(Draw_Sprite):l
		lea	(PLC_SStageTailstails):l,%a2
		movel	#ArtUnc_SStageTailstails,%d6
		movew	#0xF600,%d4
		braw	loc_80D8
/*  --------------------------------------------------------------------------- */

Obj_SStage_8380:
		movew	#0,0x34(%a0)
		movew	#0xF800,0x36(%a0)
		movew	#0,0x38(%a0)

loc_8392:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x380,8(%a0)
		movel	#Map_SStageShadow,0xC(%a0)
		movew	#0xE7A0,0xA(%a0)
		movew	#0xA0,0x30(%a0)
		movew	#0x70,0x32(%a0)
		moveb	#-1,0x3A(%a0)
		bsrw	sub_8434
		movel	#loc_83D6,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_83D6:
		tstb	(Special_stage_fade_timer):w
		beqs	loc_83DE
		rts
/*  --------------------------------------------------------------------------- */

loc_83DE:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_SStage_83E4:
		movew	#0,0x34(%a0)
		movew	#0xF800,0x36(%a0)
		movew	#0xFFE0,0x38(%a0)
		bras	loc_8392
/*  --------------------------------------------------------------------------- */
Map_SStageShadow:
		.include "General/Special Stage/Map - Shadow.S"

/*  =============== S U B R O U T I N E ======================================= */


sub_8402:
		movew	(SStage_scalar_index_2):w,%d0
		lea	(SStage_scalar_result_2):w,%a1
		bsrw	GetScalars2
		movew	(SStage_scalar_index_1):w,%d0
		lea	(SStage_scalar_result_1):w,%a1
		bsrw	GetScalars2
		movew	(SStage_scalar_index_0):w,%d0
		lea	(SStage_scalar_result_0):w,%a1
		bsrw	GetScalars2
		movew	#0xE0,%d0
		lea	(SStage_scalar_result_3):w,%a1
		bsrw	GetScalars2
		rts
/*  End of function sub_8402 */


/*  =============== S U B R O U T I N E ======================================= */


sub_8434:
		movew	0x34(%a0),%d1
		movew	0x36(%a0),%d2
		movew	0x38(%a0),%d0
		bsrw	sub_8FE4
		bsrw	sub_8FBA
		bsrw	sub_8F90
		addiw	#0x100,%d0
		addiw	#0x980,%d2
		bsrw	sub_900E
		extl	%d1
		lsll	#8,%d1
		divsw	%d0,%d1
		extl	%d2
		lsll	#8,%d2
		divsw	%d0,%d2
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		addw	0x32(%a0),%d2
		movew	%d2,0x14(%a0)
		rts
/*  End of function sub_8434 */


/*  =============== S U B R O U T I N E ======================================= */


sub_8476:
		tstb	(Special_stage_fade_timer):w
		beqs	loc_84A4
		cmpib	#0x61,(Special_stage_fade_timer):w
		bccs	loc_8490
		moveq	#8,%d1
		addb	%d1,(Special_stage_angle):w
		addqb	#1,(Special_stage_fade_timer):w
		rts
/*  --------------------------------------------------------------------------- */

loc_8490:
		movew	(Special_stage_X_pos):w,%d0
		orw	(Special_stage_Y_pos):w,%d0
		andiw	#0xE0,%d0
		beqs	loc_84A4
		moveb	#0,(Special_stage_fade_timer):w

loc_84A4:
		movew	(Special_stage_X_pos):w,%d3
		btst	#6,(Special_stage_angle):w
		bnes	loc_84B4
		movew	(Special_stage_Y_pos):w,%d3

loc_84B4:
		moveq	#0,%d2
		moveb	(Special_stage_turning):w,%d1
		beqs	loc_84F0
		andiw	#0xE0,%d3
		bnes	loc_84F0
		tstb	(Special_stage_jumping):w
		bmis	loc_84FC
		addb	%d1,(Special_stage_angle):w
		moveb	(Special_stage_angle):w,%d0
		andib	#0x3F,%d0
		bnew	locret_85FC
		moveb	#0,(Special_stage_turning):w
		moveb	#0,(Special_stage_bumper_lock):w
		tstw	(Special_stage_velocity):w
		beqs	loc_84F0
		moveb	#1,(Special_stage_turn_lock):w

loc_84F0:
		andiw	#0xE0,%d3
		beqs	loc_84FC
		moveb	#0,(Special_stage_turn_lock):w

loc_84FC:
		moveb	(Ctrl_1_held):w,%d1
		movew	(Special_stage_velocity):w,%d2
		tstb	(Special_stage_clear_routine):w
		bnew	loc_85D4
		tstb	(Special_stage_bumper_lock):w
		bnes	loc_8532
		btst	#0,%d1
		beqs	loc_851E
		moveb	#1,(Special_stage_advancing):w

loc_851E:
		tstb	(Special_stage_advancing):w
		beqs	loc_8532
		movew	(Special_stage_rate):w,%d3
		addiw	#0x200,%d2
		cmpw	%d3,%d2
		blts	loc_8532
		movew	%d3,%d2

loc_8532:
		tstb	(Special_stage_turn_lock):w
		bnes	loc_8550
		btst	#2,%d1
		beqs	loc_8544
		moveb	#4,(Special_stage_turning):w

loc_8544:
		btst	#3,%d1
		beqs	loc_8550
		moveb	#-4,(Special_stage_turning):w

loc_8550:
		movew	%d2,(Special_stage_velocity):w
		tstb	(Special_stage_bumper_lock):w
		beqs	loc_85D4
		movew	(Special_stage_X_pos):w,%d0
		btst	#6,(Special_stage_angle):w
		bnes	loc_856A
		movew	(Special_stage_Y_pos):w,%d0

loc_856A:
		andiw	#0xE0,%d0
		bnes	loc_85AE
		movew	(Special_stage_X_pos):w,%d0
		addiw	#0x80,%d0
		lsrw	#8,%d0
		andiw	#0x1F,%d0
		movew	(Special_stage_Y_pos):w,%d1
		addiw	#0x80,%d1
		lsrw	#8,%d1
		andiw	#0x1F,%d1
		lslw	#5,%d1
		orb	%d0,%d1
		cmpw	(Special_stage_interact):w,%d1
		beqs	loc_85AE
		moveb	#0,(Special_stage_bumper_lock):w
		movew	(Special_stage_rate):w,%d2
		tstw	(Special_stage_velocity):w
		bmis	loc_85A8
		negw	%d2

loc_85A8:
		movew	%d2,(Special_stage_velocity):w
		rts
/*  --------------------------------------------------------------------------- */

loc_85AE:
		movew	(Special_stage_velocity):w,%d2
		bnes	loc_85D2
		moveb	#0,(Special_stage_bumper_lock):w
		moveb	#1,(Special_stage_advancing):w
		movew	(Special_stage_rate):w,%d2
		tstw	(Special_stage_velocity):w
		bmis	loc_85CC
		negw	%d2

loc_85CC:
		movew	%d2,(Special_stage_velocity):w
		bras	loc_85D4
/*  --------------------------------------------------------------------------- */

loc_85D2:
		negw	%d2

loc_85D4:
		moveb	(Special_stage_angle):w,%d0
		jsr	(GetSineCosine):l
		mulsw	%d2,%d0
		mulsw	%d2,%d1
		swap	%d0
		subw	%d0,(Special_stage_X_pos):w
		swap	%d1
		subw	%d1,(Special_stage_Y_pos):w
		tstb	(Special_stage_jumping):w
		bmis	locret_85FC
		tstb	(Special_stage_clear_routine):w
		bnes	locret_85FC
		bsrs	sub_85FE

locret_85FC:
		rts
/*  End of function sub_8476 */


/*  =============== S U B R O U T I N E ======================================= */


sub_85FE:
		lea	(Level_layout_header):w,%a1
		movew	(Special_stage_X_pos):w,%d0
		addiw	#0x80,%d0
		lsrw	#8,%d0
		andiw	#0x1F,%d0
		movew	(Special_stage_Y_pos):w,%d1
		addiw	#0x80,%d1
		lsrw	#8,%d1
		andiw	#0x1F,%d1
		lslw	#5,%d1
		orb	%d0,%d1
		lea	(%a1,%d1.w),%a1
		moveb	(%a1),%d2
		beqw	locret_872E
		cmpib	#1,%d2
		bnes	loc_866E
		movew	(Special_stage_X_pos):w,%d0
		orw	(Special_stage_Y_pos):w,%d0
		andiw	#0xE0,%d0
		bnes	locret_866C
		tstb	(Special_stage_fade_timer):w
		bnes	locret_866C
		moveb	#1,(Special_stage_fade_timer):w
		moveb	#0x48,(Game_mode):w
		tstb	(Special_bonus_entry_flag):w
		beqs	loc_8664
		movew	(Saved2_zone_and_act):w,(Current_zone_and_act):w
		orib	#-0x80,(Last_star_post_hit):w

loc_8664:
		moveq	#sfx_Goal,%d0
		jsr	(Play_Sound_2):l

locret_866C:
		rts
/*  --------------------------------------------------------------------------- */

loc_866E:
		cmpib	#2,%d2
		bnes	loc_868C
		bsrw	Find_SStageCollisionResponseSlot
		bnes	loc_8682
		moveb	#2,(%a2)
		movel	%a1,4(%a2)

loc_8682:
		moveq	#sfx_BlueSphere,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_868C:
		cmpib	#3,%d2
		bnes	loc_86B2
		tstb	(Special_stage_bumper_lock):w
		bnes	loc_86B2
		movew	%d1,(Special_stage_interact):w
		moveb	#1,(Special_stage_bumper_lock):w
		moveb	#0,(Special_stage_advancing):w
		moveq	#sfx_Bumper,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_86B2:
		cmpib	#4,%d2
		bnes	locret_872E
		bsrw	Find_SStageCollisionResponseSlot
		bnes	loc_86C6
		moveb	#1,(%a2)
		movel	%a1,4(%a2)

loc_86C6:
		subqw	#1,(Special_stage_rings_left):w
		bnes	loc_86D4
		moveq	#sfx_Perfect,%d0
		jsr	(Play_Sound):l

loc_86D4:
		addiw	#1,(Special_stage_ring_count):w
		bset	#7,(Special_stage_extra_life_flags):w
		cmpiw	#50,(Special_stage_ring_count):w
		bcss	loc_86FE
		bset	#0,(Special_stage_extra_life_flags):w
		bnes	loc_86FE
		addqb	#1,(Continue_count):w
		movew	#0xFF00|sfx_Continue,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_86FE:
		moveq	#sfx_RingRight,%d0
		cmpiw	#100,(Special_stage_ring_count):w
		bcss	loc_8726
		bset	#1,(Special_stage_extra_life_flags):w
		beqs	loc_8720
		cmpiw	#200,(Special_stage_ring_count):w
		bcss	loc_8726
		bset	#2,(Special_stage_extra_life_flags):w
		bnes	loc_8726

loc_8720:
		addqb	#1,(Life_count):w
		moveq	#sfx_RingLoss,%d0

loc_8726:
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

locret_872E:
		rts
/*  End of function sub_85FE */

/*  --------------------------------------------------------------------------- */
word_8730:	.word 0x18
		.word 6
		.word 1
		.word 0x1F
		.word 0xFFFF
		.word 0x1F
		.word 0
		.word 0
		.word 8
		.word 6
		.word 0xFFFF
		.word 0x1F
		.word 0xFFFF
		.word 0x1F
		.word 0
		.word 0
		.word 8
		.word 0x1A
		.word 0xFFFF
		.word 0x1F
		.word 1
		.word 0x1F
		.word 0
		.word 0
		.word 0x18
		.word 0x1A
		.word 1
		.word 0x1F
		.word 1
		.word 0x1F
		.word 0
		.word 0

/*  =============== S U B R O U T I N E ======================================= */


Draw_SSSprites:
		moveb	(Special_stage_angle):w,%d0
		andiw	#0xC0,%d0
		lsrw	#2,%d0
		lea	word_8730(%pc,%d0.w),%a5
		moveq	#0,%d1
		moveb	(Special_stage_X_pos):w,%d1
		movew	(Special_stage_X_pos):w,%d0
		addiw	#0x100,%d0
		movew	(Special_stage_Y_pos):w,%d2
		andiw	#0x100,%d2
		addw	%d2,%d0
		btst	#6,(Special_stage_angle):w
		bnes	loc_87B0
		moveb	(Special_stage_Y_pos):w,%d1
		movew	(Special_stage_Y_pos):w,%d0
		movew	(Special_stage_X_pos):w,%d2
		andiw	#0x100,%d2
		addw	%d2,%d0

loc_87B0:
		tstb	(Special_stage_angle):w
		bmis	loc_87C6
		negw	%d0
		addiw	#0x1F,%d0
		movew	%d0,%d2
		andiw	#0xE0,%d2
		beqs	loc_87C6
		addqb	#1,%d1

loc_87C6:
		andiw	#0x1E0,%d0
		lsrw	#5,%d0
		movew	%d0,(Special_stage_anim_frame):w
		moveb	%d0,(Special_stage_palette_frame):w
		moveb	(Special_stage_angle):w,%d0
		andiw	#0x38,%d0
		beqs	loc_87E8
		lsrw	#3,%d0
		addiw	#0xF,%d0
		movew	%d0,(Special_stage_anim_frame):w

loc_87E8:
		lea	(Draw_SSSprite_Normal):l,%a0
		tstw	(Special_stage_clear_timer):w
		beqs	loc_87FA
		lea	(Draw_SSSprite_FlyAway):l,%a0

loc_87FA:
		btst	#6,(Special_stage_angle):w
		bnew	loc_88BC
		movew	2(%a5),%d5
		addw	%d1,%d5
		andw	0xA(%a5),%d5
		movew	(Special_stage_anim_frame):w,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(SStage_PerspectiveMapPtrs):l,%a1
		moveal	(%a1,%d0.w),%a1
		lea	(Level_layout_header):w,%a2
		lea	(SStage_extra_%sprites):w,%a4
		lea	(Sprite_table_buffer):w,%a6
		moveq	#0x4F,%d7
		moveq	#0,%d6
		moveb	(Sprites_drawn):w,%d6
		subb	%d6,%d7
		lslw	#3,%d6
		addaw	%d6,%a6
		moveq	#0xF,%d2

loc_883C:
		movew	(%a5),%d4
		moveq	#0,%d0
		moveb	(Special_stage_X_pos):w,%d0
		addw	%d0,%d4
		andw	6(%a5),%d4
		moveq	#0xE,%d3

loc_884C:
		movew	%d5,%d0
		lslw	#5,%d0
		orb	%d4,%d0
		moveb	(%a2,%d0.w),%d0
		beqs	loc_88A0
		movew	(%a1),%d1
		andiw	#0x7C,%d1
		beqs	loc_88A0
		lsrw	#2,%d1
		subqw	#6,%d1
		cmpiw	#0x10,%d1
		bccs	loc_88A0
		addw	%d1,%d1
		andiw	#0xFF,%d0
		lslw	#3,%d0
		moveal	(%a4,%d0.w),%a3
		movew	4(%a4,%d0.w),%d6
		cmpiw	#0x54,(%a1)
		bcss	loc_8884
		andiw	#0x7FFF,%d6

loc_8884:
		movew	6(%a4,%d0.w),%d0
		addw	%d0,%d0
		bccs	loc_888E
		moveq	#0,%d1

loc_888E:
		addw	%d0,%d1
		addaw	(%a3,%d1.w),%a3
		movew	(%a3)+,%d1
		subqw	#1,%d1
		bmis	loc_88A0
		jsr	(%a0)
		tstw	%d7
		bmis	locret_88BA

loc_88A0:
		addqw	#6,%a1
		addw	4(%a5),%d4
		andw	6(%a5),%d4
		dbf	%d3,loc_884C
		addw	8(%a5),%d5
		andw	0xA(%a5),%d5
		dbf	%d2,loc_883C

locret_88BA:
		rts
/*  --------------------------------------------------------------------------- */

loc_88BC:
		movew	2(%a5),%d5
		addw	%d1,%d5
		andw	0xA(%a5),%d5
		movew	(Special_stage_anim_frame):w,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(SStage_PerspectiveMapPtrs):l,%a1
		moveal	(%a1,%d0.w),%a1
		lea	(Level_layout_header):w,%a2
		lea	(SStage_extra_%sprites):w,%a4
		lea	(Sprite_table_buffer):w,%a6
		moveq	#0x4F,%d7
		moveq	#0,%d6
		moveb	(Sprites_drawn):w,%d6
		subb	%d6,%d7
		lslw	#3,%d6
		addaw	%d6,%a6
		moveq	#0xF,%d2

loc_88F4:
		movew	(%a5),%d4
		moveq	#0,%d0
		moveb	(Special_stage_Y_pos):w,%d0
		addw	%d0,%d4
		andw	6(%a5),%d4
		moveq	#0xE,%d3

loc_8904:
		movew	%d4,%d0
		lslw	#5,%d0
		orb	%d5,%d0
		moveb	(%a2,%d0.w),%d0
		beqs	loc_8958
		movew	(%a1),%d1
		andiw	#0x7C,%d1
		beqs	loc_8958
		lsrw	#2,%d1
		subqw	#6,%d1
		cmpiw	#0x10,%d1
		bccs	loc_8958
		addw	%d1,%d1
		andiw	#0xFF,%d0
		lslw	#3,%d0
		moveal	(%a4,%d0.w),%a3
		movew	4(%a4,%d0.w),%d6
		cmpiw	#0x54,(%a1)
		bcss	loc_893C
		andiw	#0x7FFF,%d6

loc_893C:
		movew	6(%a4,%d0.w),%d0
		addw	%d0,%d0
		bccs	loc_8946
		moveq	#0,%d1

loc_8946:
		addw	%d0,%d1
		addaw	(%a3,%d1.w),%a3
		movew	(%a3)+,%d1
		subqw	#1,%d1
		bmis	loc_8958
		jsr	(%a0)
		tstw	%d7
		bmis	locret_8972

loc_8958:
		addqw	#6,%a1
		addw	4(%a5),%d4
		andw	6(%a5),%d4
		dbf	%d3,loc_8904
		addw	8(%a5),%d5
		andw	0xA(%a5),%d5
		dbf	%d2,loc_88F4

locret_8972:
		rts
/*  End of function Draw_SSSprites */

/*  --------------------------------------------------------------------------- */

Draw_SSSprite_Normal:
		moveb	(%a3)+,%d0
		extw	%d0
		addw	4(%a1),%d0
		movew	%d0,(%a6)+
		moveb	(%a3)+,(%a6)+
		addqw	#1,%a6
		movew	(%a3)+,%d0
		addw	%d6,%d0
		movew	%d0,(%a6)+
		movew	(%a3)+,%d0
		addw	2(%a1),%d0
		movew	%d0,(%a6)+
		subqw	#1,%d7
		dbmi	%d1,Draw_SSSprite_Normal
		rts
/*  --------------------------------------------------------------------------- */

Draw_SSSprite_FlyAway:
		moveb	(%a3)+,%d0
		extw	%d0
		addw	4(%a1),%d0
		subw	(Special_stage_clear_timer):w,%d0
		movew	%d0,(%a6)+
		moveb	(%a3)+,(%a6)+
		addqw	#1,%a6
		movew	(%a3)+,%d0
		addw	%d6,%d0
		movew	%d0,(%a6)+
		movew	(%a3)+,%d0
		addw	2(%a1),%d0
		movew	%d1,-(%sp)
		subiw	#0x120,%d0
		movew	(Special_stage_clear_timer):w,%d1
		addiw	#0x100,%d1
		mulsw	%d1,%d0
		asrl	#8,%d0
		addiw	#0x120,%d0
		cmpiw	#0x1D0,%d0
		bcss	loc_89D6
		movew	#1,%d0

loc_89D6:
		movew	(%sp)+,%d1
		movew	%d0,(%a6)+
		subqw	#1,%d7
		dbmi	%d1,Draw_SSSprite_FlyAway
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_89E2:
		moveb	(Special_stage_clear_routine):w,%d1
		beqw	locret_8B58
		subqb	#1,%d1
		bnew	loc_8AB6
		cmpiw	#0x100,(Special_stage_clear_timer):w
		bccs	loc_8A26
		addqw	#2,(Special_stage_clear_timer):w
		cmpiw	#2,(Special_stage_clear_timer):w
		bnes	loc_8A0C
		moveq	#sfx_AllSpheres,%d0
		jsr	(Play_Sound):l

loc_8A0C:
		cmpiw	#0x40,(Special_stage_clear_timer):w
		bcss	locret_8A24
		addqw	#1,(Special_stage_clear_timer):w
		cmpiw	#0x80,(Special_stage_clear_timer):w
		bcss	locret_8A24
		addqw	#1,(Special_stage_clear_timer):w

locret_8A24:
		rts
/*  --------------------------------------------------------------------------- */

loc_8A26:
		addqb	#1,(Special_stage_clear_routine):w
		lea	(Level_layout_header):w,%a1
		movew	#0xFF,%d0

loc_8A32:
		movel	#0,(%a1)+
		dbf	%d0,loc_8A32
		moveb	(Special_stage_angle):w,%d0
		jsr	(GetSineCosine):l
		movew	(Special_stage_X_pos):w,%d2
		movew	(Special_stage_Y_pos):w,%d3
		aslw	#3,%d0
		aslw	#3,%d1
		subw	%d0,%d2
		subw	%d1,%d3
		lea	(Level_layout_header):w,%a1
		movew	%d2,%d0
		addiw	#0x80,%d0
		lsrw	#8,%d0
		andiw	#0x1F,%d0
		movew	%d3,%d1
		addiw	#0x80,%d1
		lsrw	#8,%d1
		andiw	#0x1F,%d1
		lslw	#5,%d1
		orb	%d0,%d1
		moveb	#0xA,(%a1,%d1.w)
		movew	%d1,(Special_stage_interact):w
		movew	#0x800,(Special_stage_velocity):w
		moveb	#0x78,(Special_stage_emerald_timer):w
		moveq	#0,%d0
		moveb	(Current_%special_stage):w,%d0
		lea	(Pal_SStage_Emeralds):l,%a1
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		lea	(Normal_palette_line_4+4):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		lea	(ArtKosM_SStageChaosEmerald):l,%a1
		movew	#0xB4E0,%d2
		jmp	(Queue_Kos_Module):l
/*  --------------------------------------------------------------------------- */

loc_8AB6:
		subqb	#1,%d1
		bnes	loc_8ADA
		tstb	(Kos_modules_left):w
		bnes	locret_8AD8
		movew	#0,(Special_stage_clear_timer):w
		subqb	#1,(Special_stage_emerald_timer):w
		bnes	locret_8AD8
		addqb	#1,(Special_stage_clear_routine):w
		moveq	#mus_Emerald,%d0
		jsr	(Play_Sound):l

locret_8AD8:
		rts
/*  --------------------------------------------------------------------------- */

loc_8ADA:
		subqb	#1,%d1
		bnes	locret_8B58
		movew	(Special_stage_X_pos):w,%d0
		addiw	#0x80,%d0
		lsrw	#8,%d0
		andiw	#0x1F,%d0
		movew	(Special_stage_Y_pos):w,%d1
		addiw	#0x80,%d1
		lsrw	#8,%d1
		andiw	#0x1F,%d1
		lslw	#5,%d1
		orb	%d0,%d1
		cmpw	(Special_stage_interact):w,%d1
		bnes	locret_8B58
		movew	(Special_stage_X_pos):w,%d0
		orw	(Special_stage_Y_pos):w,%d0
		andiw	#0xE0,%d0
		bnes	locret_8B58
		cmpiw	#7,(Emerald_count):w
		bccs	loc_8B2E
		addqw	#1,(Emerald_count):w
		lea	(Collected_emeralds_array):w,%a1
		moveq	#0,%d0
		moveb	(Current_%special_stage):w,%d0
		moveb	#1,(%a1,%d0.w)

loc_8B2E:
		addqb	#1,(Special_stage_clear_routine):w
		moveb	#1,(Special_stage_fade_timer):w
		moveb	#0x48,(Game_mode):w
		tstb	(Special_bonus_entry_flag):w
		beqs	loc_8B50
		movew	(Saved2_zone_and_act):w,(Current_zone_and_act):w
		orib	#0x80,(Last_star_post_hit):w

loc_8B50:
		moveq	#sfx_Goal,%d0
		jsr	(Play_Sound_2):l

locret_8B58:
		rts
/*  End of function sub_89E2 */

/*  --------------------------------------------------------------------------- */
Pal_SStage_Emeralds:
		.incbin "General/Special Stage/Palettes/Emeralds S3.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


sub_8B9A:
		movew	(Special_stage_X_pos):w,%d0
		subw	(Special_stage_prev_X_pos):w,%d0
		btst	#6,(Special_stage_angle):w
		bnes	loc_8BB2
		movew	(Special_stage_Y_pos):w,%d0
		subw	(Special_stage_prev_Y_pos):w,%d0

loc_8BB2:
		tstb	(Special_stage_angle):w
		bmis	loc_8BBA
		negw	%d0

loc_8BBA:
		asrw	#2,%d0
		addw	%d0,(V_scroll_value_BG):w
		moveq	#0,%d1
		moveb	(Special_stage_angle):w,%d1
		aslw	#2,%d1
		movew	%d1,(H_scroll_buffer+2):w
		movew	(Special_stage_X_pos):w,(Special_stage_prev_X_pos):w
		movew	(Special_stage_Y_pos):w,(Special_stage_prev_Y_pos):w
		rts
/*  End of function sub_8B9A */


/*  =============== S U B R O U T I N E ======================================= */


Animate_SSRings:
		lea	(SStage_extra_%sprites+0x07):w,%a1
		subqb	#1,(Rings_frame_timer):w
		bpls	loc_8BFE
		moveb	#7,(Rings_frame_timer):w
		addib	#0x10,(Rings_frame):w
		cmpib	#0x30,(Rings_frame):w
		bcss	loc_8BFE
		moveb	#0,(Rings_frame):w

loc_8BFE:
		moveb	(Rings_frame):w,0x20(%a1)
		rts
/*  End of function Animate_SSRings */


/*  =============== S U B R O U T I N E ======================================= */


Find_SStageCollisionResponseSlot:
		lea	(SStage_collision_response_list):w,%a2
		movew	#0x1F,%d0

loc_8C0E:
		tstb	(%a2)
		beqs	locret_8C18
		addqw	#8,%a2
		dbf	%d0,loc_8C0E

locret_8C18:
		rts
/*  End of function Find_SStageCollisionResponseSlot */


/*  =============== S U B R O U T I N E ======================================= */


Touch_SSSprites:
		lea	(SStage_collision_response_list):w,%a0
		movew	#0x1F,%d7

loc_8C22:
		moveq	#0,%d0
		moveb	(%a0),%d0
		beqs	loc_8C30
		lslw	#2,%d0
		moveal	off_8C38-4(%pc,%d0.w),%a1
		jsr	(%a1)

loc_8C30:
		addqw	#8,%a0
		dbf	%d7,loc_8C22
		rts
/*  End of function Touch_SSSprites */

/*  --------------------------------------------------------------------------- */
off_8C38:	.long Touch_SSSprites_Ring
		.long Touch_SSSprites_BlueSphere
/*  --------------------------------------------------------------------------- */

Touch_SSSprites_Ring:
		subqb	#1,2(%a0)
		bpls	locret_8C68
		moveb	#5,2(%a0)
		moveq	#0,%d0
		moveb	3(%a0),%d0
		addqb	#1,3(%a0)
		moveal	4(%a0),%a1
		moveb	byte_8C6A(%pc,%d0.w),%d0
		moveb	%d0,(%a1)
		bnes	locret_8C68
		clrl	(%a0)
		clrl	4(%a0)

locret_8C68:
		rts
/*  --------------------------------------------------------------------------- */
byte_8C6A:	.byte    5,   6,   7,   8,   0,   0
/*  --------------------------------------------------------------------------- */

Touch_SSSprites_BlueSphere:
		subqb	#1,2(%a0)
		bpls	locret_8CC2
		moveb	#9,2(%a0)
		moveal	4(%a0),%a1
		cmpib	#2,(%a1)
		bnes	loc_8C9E
		bsrw	sub_8CC4
		moveb	#9,(%a1)
		bsrs	sub_8CF8
		beqs	locret_8C9C
		moveb	#4,(%a1)
		clrl	(%a0)
		clrl	4(%a0)

locret_8C9C:
		rts
/*  --------------------------------------------------------------------------- */

loc_8C9E:
		moveb	#0,2(%a0)
		movew	(Special_stage_X_pos):w,%d0
		orw	(Special_stage_Y_pos):w,%d0
		andiw	#0xE0,%d0
		beqs	locret_8CC2
		cmpib	#9,(%a1)
		bnes	loc_8CBC
		moveb	#1,(%a1)

loc_8CBC:
		clrl	(%a0)
		clrl	4(%a0)

locret_8CC2:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_8CC4:
		movew	%d0,-(%sp)
		moveb	#-1,(Special_stage_%sphere_HUD_flag):w
		subqw	#1,(Special_stage_%spheres_left):w
		bnes	loc_8CD8
		moveb	#1,(Special_stage_clear_routine):w

loc_8CD8:
		movew	(%sp)+,%d0
		rts
/*  End of function sub_8CC4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_8CDC:
		lea	(Level_layout_header):w,%a3
		moveq	#0,%d1
		movew	#0x3FF,%d0

loc_8CE6:
		cmpib	#2,(%a3)+
		bnes	loc_8CEE
		addqw	#1,%d1

loc_8CEE:
		dbf	%d0,loc_8CE6
		movew	%d1,(Special_stage_%spheres_left):w
		rts
/*  End of function sub_8CDC */


/*  =============== S U B R O U T I N E ======================================= */


sub_8CF8:
		lea	(Level_layout_header):w,%a2
		movel	%a1,%d5
		subl	%a2,%d5
		bsrs	sub_8D78
		moveq	#0,%d6
		movel	%a5,%d1
		lea	(SStage_unkA500):w,%a4
		subl	%a4,%d1
		beqs	locret_8D76

loc_8D0E:
		movew	(%a4)+,%d5
		lea	(word_8EDA):l,%a3
		movew	#7,%d0

loc_8D1A:
		movew	(%a3)+,%d2
		addw	%d5,%d2
		cmpib	#2,(%a2,%d2.w)
		bnes	loc_8D34
		bsrw	sub_8CC4
		moveb	#4,(%a2,%d2.w)
		movew	%d2,(%a5)+
		addqw	#2,%d1

loc_8D34:
		dbf	%d0,loc_8D1A
		subqw	#2,%d1
		bnes	loc_8D0E
		movel	%a5,%d1
		lea	(SStage_unkA500):w,%a4
		subl	%a4,%d1
		beqs	locret_8D76

loc_8D46:
		movew	(%a4)+,%d5
		lea	(word_8EDA):l,%a3
		movew	#7,%d0

loc_8D52:
		movew	(%a3)+,%d2
		addw	%d5,%d2
		cmpib	#1,(%a2,%d2.w)
		bnes	loc_8D64
		moveb	#4,(%a2,%d2.w)

loc_8D64:
		dbf	%d0,loc_8D52
		subqw	#2,%d1
		bnes	loc_8D46
		moveq	#sfx_RingLoss,%d0
		jsr	(Play_Sound_2):l
		moveq	#1,%d1

locret_8D76:
		rts
/*  End of function sub_8CF8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_8D78:
		lea	(SStage_unkA500):w,%a5
		lea	(word_8EDA):l,%a3
		moveq	#0,%d2
		movew	#7,%d0

loc_8D88:
		movew	(%a3)+,%d1
		addw	%d5,%d1
		cmpib	#9,(%a2,%d1.w)
		bnes	loc_8D9A
		moveb	#1,(%a2,%d1.w)

loc_8D9A:
		cmpib	#2,(%a2,%d1.w)
		bnes	loc_8DA4
		addqw	#1,%d2

loc_8DA4:
		dbf	%d0,loc_8D88
		tstw	%d2
		beqw	locret_8E8A
		moveq	#0,%d2
		movew	%d5,%d1

loc_8DB2:
		addqw	#1,%d2
		addiw	#-1,%d1
		tstb	(%a2,%d1.w)
		bnes	loc_8DB2
		movew	%d5,%d1

loc_8DC0:
		addqw	#1,%d2
		addiw	#1,%d1
		tstb	(%a2,%d1.w)
		bnes	loc_8DC0
		cmpiw	#4,%d2
		bcsw	locret_8E8A
		moveq	#0,%d2
		movew	%d5,%d1

loc_8DD8:
		addqw	#1,%d2
		addiw	#-0x20,%d1
		tstb	(%a2,%d1.w)
		bnes	loc_8DD8
		movew	%d5,%d1

loc_8DE6:
		addqw	#1,%d2
		addiw	#0x20,%d1
		tstb	(%a2,%d1.w)
		bnes	loc_8DE6
		cmpiw	#4,%d2
		bcsw	locret_8E8A
		lea	(SStage_unkA600):w,%a4
		lea	(word_8EEA):l,%a3
		moveq	#0,%d6
		moveq	#0,%d3
		moveq	#6,%d4
		addw	%d3,%d4
		movew	%d5,%d0

loc_8E0E:
		movew	(%a3,%d4.w),%d1
		addw	%d0,%d1
		moveb	(%a2,%d1.w),%d2
		cmpib	#-0x77,%d2
		beqs	loc_8E8C
		cmpib	#1,%d2
		bnes	loc_8E68
		cmpiw	#2,%d6
		bcss	loc_8E48
		movew	%d1,%d2
		subw	-6(%a4),%d2
		cmpiw	#-1,%d2
		beqs	loc_8E68
		cmpiw	#1,%d2
		beqs	loc_8E68
		cmpiw	#0x20,%d2
		beqs	loc_8E68
		cmpiw	#-0x20,%d2
		beqs	loc_8E68

loc_8E48:
		orib	#0x80,(%a2,%d0.w)
		moveb	%d3,(%a4)+
		moveb	%d4,(%a4)+
		movew	%d0,(%a4)+
		addqw	#1,%d6
		movew	%d4,%d3
		subqw	#2,%d3
		andiw	#6,%d3
		movew	#4,%d4
		addw	%d3,%d4
		movew	%d1,%d0
		bras	loc_8E0E
/*  --------------------------------------------------------------------------- */

loc_8E68:
		subqw	#2,%d4
		cmpw	%d3,%d4
		bges	loc_8E0E

loc_8E6E:
		moveq	#0,%d3
		moveq	#0,%d4
		movew	-(%a4),%d0
		moveb	-(%a4),%d4
		moveb	-(%a4),%d3
		subqw	#1,%d6
		bcss	locret_8E8A
		andib	#0x7F,(%a2,%d0.w)
		subqw	#2,%d4
		cmpw	%d3,%d4
		bges	loc_8E0E
		bras	loc_8E6E
/*  --------------------------------------------------------------------------- */

locret_8E8A:
		rts
/*  --------------------------------------------------------------------------- */

loc_8E8C:
		moveml	%d0/%d3/%d6/%a4,-(%sp)
		subw	%d5,%d0
		movew	%d0,%d2
		negw	%d2
		lea	(SStage_unkA600+6):w,%a4
		movew	%d5,%d3

loc_8E9C:
		movew	(%a4)+,%d0
		addqw	#2,%a4
		subw	%d3,%d0
		cmpw	%d2,%d0
		bnes	loc_8EAA
		addw	%d0,%d3
		bras	loc_8E9C
/*  --------------------------------------------------------------------------- */

loc_8EAA:
		addw	%d5,%d0
		cmpib	#2,(%a2,%d0.w)
		beqs	loc_8EC8
		cmpib	#4,(%a2,%d0.w)
		beqs	loc_8ED4
		subw	%d2,%d0
		cmpib	#2,(%a2,%d0.w)
		beqs	loc_8EC8
		bras	loc_8ED4
/*  --------------------------------------------------------------------------- */

loc_8EC8:
		bsrw	sub_8CC4
		moveb	#4,(%a2,%d0.w)
		movew	%d0,(%a5)+

loc_8ED4:
		moveml	(%sp)+,%d0/%d3/%d6/%a4
		bras	loc_8E68
/*  End of function sub_8D78 */

/*  --------------------------------------------------------------------------- */
word_8EDA:	.word 0xFFDF
		.word 0xFFE0
		.word 0xFFE1
		.word 0xFFFF
		.word 1
		.word 0x1F
		.word 0x20
		.word 0x21
word_8EEA:	.word 0xFFFF
		.word 0xFFE0
		.word 1
		.word 0x20
		.word 0xFFFF
		.word 0xFFE0

/*  =============== S U B R O U T I N E ======================================= */


Load_SSSprite_Mappings:
		lea	(SStage_extra_%sprites):w,%a1
		lea	(MapPtr_8F1A):l,%a0
		moveq	#0xC,%d1

loc_8F02:
		movel	(%a0)+,(%a1)+
		movel	(%a0)+,(%a1)+
		dbf	%d1,loc_8F02
		lea	(SStage_collision_response_list):w,%a1
		movew	#0x3F,%d1

loc_8F12:
		clrl	(%a1)+
		dbf	%d1,loc_8F12
		rts
/*  End of function Load_SSSprite_Mappings */

/*  --------------------------------------------------------------------------- */
MapPtr_8F1A:	.long Map_SStageSphere
		.long 0x86800000
		.long Map_SStageSphere
		.long 0x86800000
		.long Map_SStageSphere
		.long 0xC6800000
		.long Map_SStageSphere
		.long 0xA6800000
		.long Map_SStageRing
		.long 0xC5A70000
		.long Map_SStageRing
		.long 0xC5A78030
		.long Map_SStageRing
		.long 0xC5A78031
		.long Map_SStageRing
		.long 0xC5A78032
		.long Map_SStageRing
		.long 0xC5A78033
		.long Map_SStageSphere
		.long 0xC6800000
		.long Map_SStageChaosEmerald
		.long 0xE5A70000
		.long Map_SStageSphere
		.long 0xC6800000
		.long Map_SStageSphere
		.long 0xC6800000
/*  --------------------------------------------------------------------------- */
		extl	%d1
		lsll	#8,%d1
		divsw	%d0,%d1
		extl	%d2
		lsll	#8,%d2
		divsw	%d0,%d2
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_8F90:
		swap	%d0
		movew	%d1,%d3
		movew	%d2,%d4
		movew	(SStage_scalar_result_2):w,%d0
		mulsw	%d0,%d3
		mulsw	%d0,%d4
		movew	(SStage_scalar_result_2+2):w,%d0
		mulsw	%d0,%d1
		mulsw	%d0,%d2
		subl	%d4,%d1
		addl	%d1,%d1
		addl	%d1,%d1
		swap	%d1
		addl	%d3,%d2
		addl	%d2,%d2
		addl	%d2,%d2
		swap	%d2
		swap	%d0
		rts
/*  End of function sub_8F90 */


/*  =============== S U B R O U T I N E ======================================= */


sub_8FBA:
		swap	%d2
		movew	%d0,%d3
		movew	%d1,%d4
		movew	(SStage_scalar_result_1):w,%d2
		mulsw	%d2,%d3
		mulsw	%d2,%d4
		movew	(SStage_scalar_result_1+2):w,%d2
		mulsw	%d2,%d0
		mulsw	%d2,%d1
		subl	%d4,%d0
		addl	%d0,%d0
		addl	%d0,%d0
		swap	%d0
		addl	%d3,%d1
		addl	%d1,%d1
		addl	%d1,%d1
		swap	%d1
		swap	%d2
		rts
/*  End of function sub_8FBA */


/*  =============== S U B R O U T I N E ======================================= */


sub_8FE4:
		swap	%d1
		movew	%d0,%d3
		movew	%d2,%d4
		movew	(SStage_scalar_result_0):w,%d1
		mulsw	%d1,%d3
		mulsw	%d1,%d4
		movew	(SStage_scalar_result_0+2):w,%d1
		mulsw	%d1,%d0
		mulsw	%d1,%d2
		subl	%d4,%d0
		addl	%d0,%d0
		addl	%d0,%d0
		swap	%d0
		addl	%d3,%d2
		addl	%d2,%d2
		addl	%d2,%d2
		swap	%d2
		swap	%d1
		rts
/*  End of function sub_8FE4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_900E:
		swap	%d1
		movew	%d0,%d3
		movew	%d2,%d4
		movew	(SStage_scalar_result_3):w,%d1
		mulsw	%d1,%d3
		mulsw	%d1,%d4
		movew	(SStage_scalar_result_3+2):w,%d1
		mulsw	%d1,%d0
		mulsw	%d1,%d2
		subl	%d4,%d0
		addl	%d0,%d0
		addl	%d0,%d0
		swap	%d0
		addl	%d3,%d2
		addl	%d2,%d2
		addl	%d2,%d2
		swap	%d2
		swap	%d1
		rts
/*  End of function sub_900E */


/*  =============== S U B R O U T I N E ======================================= */


GetScalars2:
		addw	%d0,%d0
		andiw	#0x1FE,%d0
		movew	ScalarTable2(%pc,%d0.w),(%a1)+
		addiw	#0x80,%d0
		andiw	#0x1FE,%d0
		movew	ScalarTable2(%pc,%d0.w),(%a1)+
		rts
/*  End of function GetScalars2 */

/*  --------------------------------------------------------------------------- */
ScalarTable2:	.word      0,  0x192,  0x324,  0x4B5,  0x646,  0x7D6,  0x964,  0xAF1,  0xC7C,  0xE06,  0xF8D, 0x1112, 0x1294, 0x1413, 0x1590, 0x1709
		.word  0x187E, 0x19EF, 0x1B5D, 0x1CC6, 0x1E2B, 0x1F8C, 0x20E7, 0x223D, 0x238E, 0x24DA, 0x2620, 0x2760, 0x289A, 0x29CE, 0x2AFB, 0x2C21
		.word  0x2D41, 0x2E5A, 0x2F6C, 0x3076, 0x3179, 0x3274, 0x3368, 0x3453, 0x3537, 0x3612, 0x36E5, 0x37B0, 0x3871, 0x392B, 0x39DB, 0x3A82
		.word  0x3B21, 0x3BB6, 0x3C42, 0x3CC5, 0x3D3F, 0x3DAF, 0x3E15, 0x3E72, 0x3EC5, 0x3F0F, 0x3F4F, 0x3F85, 0x3FB1, 0x3FD4, 0x3FEC, 0x3FFB
		.word  0x4000, 0x3FFB, 0x3FEC, 0x3FD4, 0x3FB1, 0x3F85, 0x3F4F, 0x3F0F, 0x3EC5, 0x3E72, 0x3E15, 0x3DAF, 0x3D3F, 0x3CC5, 0x3C42, 0x3BB6
		.word  0x3B21, 0x3A82, 0x39DB, 0x392B, 0x3871, 0x37B0, 0x36E5, 0x3612, 0x3537, 0x3453, 0x3368, 0x3274, 0x3179, 0x3076, 0x2F6C, 0x2E5A
		.word  0x2D41, 0x2C21, 0x2AFB, 0x29CE, 0x289A, 0x2760, 0x2620, 0x24DA, 0x238E, 0x223D, 0x20E7, 0x1F8C, 0x1E2B, 0x1CC6, 0x1B5D, 0x19EF
		.word  0x187E, 0x1709, 0x1590, 0x1413, 0x1294, 0x1112,  0xF8D,  0xE06,  0xC7C,  0xAF1,  0x964,  0x7D6,  0x646,  0x4B5,  0x324,  0x192
		.word      0, 0xFE6E, 0xFCDC, 0xFB4B, 0xF9BA, 0xF82A, 0xF69C, 0xF50F, 0xF384, 0xF1FA, 0xF073, 0xEEEE, 0xED6C, 0xEBED, 0xEA70, 0xE8F7
		.word  0xE782, 0xE611, 0xE4A3, 0xE33A, 0xE1D5, 0xE074, 0xDF19, 0xDDC3, 0xDC72, 0xDB26, 0xD9E0, 0xD8A0, 0xD766, 0xD632, 0xD505, 0xD3DF
		.word  0xD2BF, 0xD1A6, 0xD094, 0xCF8A, 0xCE87, 0xCD8C, 0xCC98, 0xCBAD, 0xCAC9, 0xC9EE, 0xC91B, 0xC850, 0xC78F, 0xC6D5, 0xC625, 0xC57E
		.word  0xC4DF, 0xC44A, 0xC3BE, 0xC33B, 0xC2C1, 0xC251, 0xC1EB, 0xC18E, 0xC13B, 0xC0F1, 0xC0B1, 0xC07B, 0xC04F, 0xC02C, 0xC014, 0xC005
		.word  0xC000, 0xC005, 0xC014, 0xC02C, 0xC04F, 0xC07B, 0xC0B1, 0xC0F1, 0xC13B, 0xC18E, 0xC1EB, 0xC251, 0xC2C1, 0xC33B, 0xC3BE, 0xC44A
		.word  0xC4DF, 0xC57E, 0xC625, 0xC6D5, 0xC78F, 0xC850, 0xC91B, 0xC9EE, 0xCAC9, 0xCBAD, 0xCC98, 0xCD8C, 0xCE87, 0xCF8A, 0xD094, 0xD1A6
		.word  0xD2BF, 0xD3DF, 0xD505, 0xD632, 0xD766, 0xD8A0, 0xD9E0, 0xDB26, 0xDC72, 0xDDC3, 0xDF19, 0xE074, 0xE1D5, 0xE33A, 0xE4A3, 0xE611
		.word  0xE782, 0xE8F7, 0xEA70, 0xEBED, 0xED6C, 0xEEEE, 0xF073, 0xF1FA, 0xF384, 0xF50F, 0xF69C, 0xF82A, 0xF9BA, 0xFB4B, 0xFCDC, 0xFE6E
Map_SStageSphere:
		.include "General/Special Stage/Map - Sphere.S"
Map_SStageRing:
		.include "General/Special Stage/Map - Ring.S"
Map_SStageChaosEmerald:
		.include "General/Special Stage/Map - Chaos Emerald.S"
/*  --------------------------------------------------------------------------- */

locret_952E:
		rts
/*  --------------------------------------------------------------------------- */

Competition_Menu:
		bsrw	Pal_FadeToBlack
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#-0x41,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8730,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8C81,(%a6)
		movew	#0x9011,(%a6)
		jsr	sub_B512(%pc)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_957C:
		movel	%d0,(%a1)+
		dbf	%d1,loc_957C
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_958C:
		movel	%d0,(%a1)+
		dbf	%d1,loc_958C
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		clrw	(Level_frame_counter):w
		cmpib	#3,(Competition_menu_selection):w
		bcss	loc_95AE
		clrb	(Competition_menu_selection):w

loc_95AE:
		lea	(MapEni_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		movew	#0x6001,%d0
		jsr	(Eni_Decomp):l
		lea	(RAM_start):l,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(ArtKos_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x20,%a2
		jsr	KosArt_To_VDP(%pc)
		movel	#locret_952E,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_CompetitionLevel):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x53E0,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionMode):l,%a0
		moveaw	#0x6940,%a2
		jsr	KosArt_To_VDP(%pc)
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	Pal_Competition1(%pc),%a0
		lea	(Target_palette):w,%a1
		moveq	#0x17,%d0

loc_963A:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_963A
		lea	(Pal_CompetitionMenuBG):l,%a0
		moveq	#7,%d0

loc_9648:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_9648
		lea	(Object_RAM):w,%a0
		lea	ObjDat_9878(%pc),%a1
		movew	(%a1)+,%d0

loc_9658:
		movel	(%a1)+,(%a0)
		movew	#0x34A,0xA(%a0)
		movel	#Map_CompetitionObject,0xC(%a0)
		movew	(%a1)+,0x10(%a0)
		movew	(%a1)+,0x14(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2E(%a0)
		lea	0x4A(%a0),%a0
		dbf	%d0,loc_9658
		jsr	(Init_SpriteTable):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveq	#mus_CompetitionMenu,%d0
		jsr	(Play_Sound):l
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		bsrw	Pal_FadeFromBlack

loc_96B8:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		moveb	%d0,%d1
		andib	#-0x10,%d1
		beqw	loc_9776
		btst	#4,%d1
		bnes	loc_96FE
		moveq	#0,%d2
		moveb	(Competition_menu_selection):w,%d2
		addw	%d2,%d2
		jmp	loc_96F8(%pc,%d2.w)
/*  --------------------------------------------------------------------------- */

loc_96F8:
		bras	loc_9706
/*  --------------------------------------------------------------------------- */
		bras	loc_9724
/*  --------------------------------------------------------------------------- */
		bras	loc_9744
/*  --------------------------------------------------------------------------- */

loc_96FE:
		moveb	#4,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_9706:
		clrb	(Competition_mode_type):w
		moveb	(Competition_menu_monitors):w,(Competition_mode_monitors):w
		moveb	(Ctrl_2_pressed):w,%d0
		andib	#-0x20,%d0
		sne	(Not_ghost_flag):w
		moveb	#0x3C,(Game_mode):w
		bras	loc_975E
/*  --------------------------------------------------------------------------- */

loc_9724:
		moveb	#3,(Competition_mode_type):w
		moveb	(Competition_menu_monitors):w,(Competition_mode_monitors):w
		moveb	(Ctrl_2_pressed):w,%d0
		andib	#-0x20,%d0
		sne	(Not_ghost_flag):w
		moveb	#0x40,(Game_mode):w
		bras	loc_975E
/*  --------------------------------------------------------------------------- */

loc_9744:
		moveb	(Ctrl_1_pressed):w,%d2
		andiw	#0xE0,%d2
		beqs	loc_9776
		movew	#-1,(Competition_mode_monitors):w
		clrb	(Not_ghost_flag):w
		moveb	#-0x40,(Game_mode):w

loc_975E:
		lea	(0xFF7800):l,%a1
		moveq	#0,%d0
		moveq	#9,%d1

loc_9768:
		movel	%d0,(%a1)+
		dbf	%d1,loc_9768
		moveq	#sfx_Starpost,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

loc_9776:
		moveq	#0,%d2
		moveb	(Competition_menu_selection):w,%d1
		lsrw	#1,%d0
		bccs	loc_978A
		moveq	#sfx_Switch,%d2
		subqb	#1,%d1
		bccs	loc_979A
		moveq	#3,%d1
		bras	loc_979A
/*  --------------------------------------------------------------------------- */

loc_978A:
		lsrw	#1,%d0
		bccs	loc_979A
		moveq	#sfx_Switch,%d2
		addqb	#1,%d1
		cmpib	#3,%d1
		blss	loc_979A
		moveq	#0,%d1

loc_979A:
		moveb	%d1,(Competition_menu_selection):w
		movew	%d2,%d0
		beqs	loc_97A8
		jsr	(Play_Sound_2):l

loc_97A8:
		braw	loc_96B8
/*  --------------------------------------------------------------------------- */

Obj_Competition_97AC:
		moveb	0x2E(%a0),%d0
		bmis	loc_97CA
		andiw	#0x9FFF,0xA(%a0)
		movew	#0x2000,%d1
		cmpb	(Competition_menu_selection):w,%d0
		bnes	loc_97C6
		movew	#0x4000,%d1

loc_97C6:
		orw	%d1,0xA(%a0)

loc_97CA:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_Competition_97D0:
		cmpib	#1,(Competition_menu_selection):w
		bhis	locret_9816
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andiw	#0xC,%d0
		beqs	loc_97F6
		tstb	(Competition_menu_monitors):w
		seq	(Competition_menu_monitors):w
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l

loc_97F6:
		movew	#0x15C,%d0
		tstb	(Competition_menu_monitors):w
		beqs	loc_9804
		addiw	#0x20,%d0

loc_9804:
		movew	%d0,0x10(%a0)
		btst	#3,(Level_frame_counter+1):w
		beqs	locret_9816
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_9816:
		rts
/*  --------------------------------------------------------------------------- */
Pal_Competition1:
		.incbin "General/Competition Menu/Palettes/1.bin"
		.balign 2
ObjDat_9878:	.word 6
		.long Obj_Competition_97AC
		.word 0x114
		.word 0xA0
		.byte 0
		.byte 0
		.long Obj_Competition_97AC
		.word 0x10C
		.word 0xC0
		.byte 1
		.byte 1
		.long Obj_Competition_97AC
		.word 0x108
		.word 0xE0
		.byte 2
		.byte 2
		.long Obj_Competition_97AC
		.word 0x13C
		.word 0x120
		.byte 3
		.byte 3
		.long Obj_Competition_97AC
		.word 0x164
		.word 0xB0
		.byte 4
		.byte 0xFF
		.long Obj_Competition_97AC
		.word 0x184
		.word 0xB0
		.byte 5
		.byte 0xFF
		.long Obj_Competition_97D0
		.word 0
		.word 0xA8
		.byte 6
		.byte 0xFF
Map_CompetitionObject:
		.include "General/Competition Menu/Map - Competition Objects.S"
/*  --------------------------------------------------------------------------- */

Competition_LevelSelect:
		bsrw	Pal_FadeToBlack
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#-0x41,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8C89,(%a6)
		movew	#0x9011,(%a6)
		jsr	sub_B512(%pc)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_9A48:
		movel	%d0,(%a1)+
		dbf	%d1,loc_9A48
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_9A58:
		movel	%d0,(%a1)+
		dbf	%d1,loc_9A58
		clrw	(DMA_queue):w
		movel	#-0x500,(DMA_queue_slot):w
		clrw	(Level_frame_counter):w
		clrw	(Competition_mode):w
		clrb	(Level_started_flag):w
		movew	#-1,(Events_bg+0x10):w
		clrw	(Events_bg+0x12):w
		clrw	(Events_bg+0x14):w
		lea	(MapEni_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		movew	#1,%d0
		jsr	(Eni_Decomp):l
		lea	(RAM_start):l,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(MapEni_CompetitionLevBorder):l,%a0
		lea	(RAM_start):l,%a1
		movew	#-0x7D61,%d0
		jsr	(Eni_Decomp):l
		lea	(MapEni_CompetitionLevImage):l,%a0
		lea	(RAM_start+0x1000):l,%a1
		movew	#-0x1D61,%d0
		jsr	(Eni_Decomp):l
		lea	(MapEni_CompetitionLevName):l,%a0
		lea	(RAM_start+0x2000):l,%a1
		movew	#-0x5D61,%d0
		jsr	(Eni_Decomp):l
		lea	VRAMDatList_CompetitionLevelSelect(%pc),%a0
		jsr	Copy_Listed_Data_To_VRAM(%pc)
		jsr	sub_9E18(%pc)
		muluw	#0x48,%d0
		movew	%d0,(V_scroll_value):w
		jsr	sub_9E6C(%pc)
		jsr	sub_9E9C(%pc)
		lea	(ArtKos_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x20,%a2
		jsr	KosArt_To_VDP(%pc)
		movel	#locret_952E,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_CompetitionLevel):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x53E0,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionPlayer):l,%a0
		moveaw	#0xB920,%a2
		jsr	KosArt_To_VDP(%pc)
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(Pal_CompetitionMenuBG):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#7,%d0

loc_9B70:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_9B70
		lea	Pal_Competition2(%pc),%a0
		moveq	#0x17,%d0

loc_9B7C:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_9B7C
		lea	(Object_RAM):w,%a0
		lea	ObjDat_CompetitionMatchRace(%pc),%a1
		tstb	(Game_mode):w
		bpls	loc_9B94
		lea	ObjDat_CompetitionTimeAttack(%pc),%a1

loc_9B94:
		movew	(%a1)+,%d0

loc_9B96:
		movel	(%a1)+,(%a0)
		movel	#Map_CompetitionSelect,0xC(%a0)
		movew	(%a1),0x10(%a0)
		movew	(%a1)+,0x12(%a0)
		movew	(%a1),0x14(%a0)
		movew	(%a1)+,0x16(%a0)
		movew	(%a1)+,%d1
		addiw	#0x829F,%d1
		movew	%d1,0xA(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2E(%a0)
		lea	0x4A(%a0),%a0
		dbf	%d0,loc_9B96
		moveq	#0,%d0
		moveb	(P1_character):w,%d0
		muluw	#0x55,%d0
		addib	#0x40,%d0
		moveb	%d0,(Reserved_object_3+objoff_2E):w
		tstb	(Game_mode):w
		bmis	loc_9BF4
		moveq	#0,%d0
		moveb	(P2_character):w,%d0
		muluw	#0x55,%d0
		addib	#0x40,%d0
		moveb	%d0,(Dynamic_object_RAM+(object_size*4)+objoff_2E).w

loc_9BF4:
		jsr	(Init_SpriteTable):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		jsr	sub_B596(%pc)
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		lea	(Dynamic_object_RAM+(object_size*9)).w,%a0
		movel	#loc_9DC2,(%a0)
		movel	#Map_CompetitionSelect,0xC(%a0)
		addiw	#0xC29F,0xA(%a0)
		movew	#0xB0,0x10(%a0)
		moveq	#mus_CompetitionMenu,%d0
		jsr	(Play_Sound):l
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Pal_FadeFromBlack):l

loc_9C5C:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		jsr	sub_B596(%pc)
		jsr	(Render_Sprites):l
		moveb	(Events_bg+0x12):w,%d0
		beqs	loc_9C88
		moveb	%d0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_9C88:
		movew	(Events_bg+0x10):w,%d0
		tstb	(Not_ghost_flag):w
		bnes	loc_9C94
		lsrw	#8,%d0

loc_9C94:
		tstw	%d0
		beqs	loc_9CB4
		movew	(H_scroll_buffer):w,%d0
		beqs	loc_9C5C
		cmpiw	#-0x58,%d0
		bnes	loc_9CAC
		movel	#loc_9E2E,(_unkEF44_1):w

loc_9CAC:
		addqw	#8,%d0
		movew	%d0,(H_scroll_buffer):w
		bras	loc_9C5C
/*  --------------------------------------------------------------------------- */

loc_9CB4:
		cmpiw	#-0x58,(H_scroll_buffer):w
		beqs	loc_9CC2
		subqw	#8,(H_scroll_buffer):w
		bras	loc_9C5C
/*  --------------------------------------------------------------------------- */

loc_9CC2:
		moveq	#8,%d0
		movew	(Events_bg+0x14):w,%d1
		beqs	loc_9CD8
		bpls	loc_9CCE
		negw	%d0

loc_9CCE:
		addw	%d0,(V_scroll_value):w
		subw	%d0,(Events_bg+0x14):w
		bras	loc_9C5C
/*  --------------------------------------------------------------------------- */

loc_9CD8:
		moveb	(Ctrl_1_pressed):w,%d1
		moveq	#0,%d2
		tstb	(Not_ghost_flag):w
		beqs	loc_9CE8
		moveb	(Ctrl_2_pressed):w,%d2

loc_9CE8:
		btst	#4,%d2
		beqs	loc_9CF6
		sf	(Dynamic_object_RAM+(object_size*4)+objoff_2F).w
		st	(Events_bg+0x11):w

loc_9CF6:
		btst	#4,%d1
		beqs	loc_9D04
		sf	(Reserved_object_3+objoff_2F):w
		st	(Events_bg+0x10):w

loc_9D04:
		orb	%d2,%d1
		moveb	%d1,%d2
		andiw	#3,%d2
		beqs	loc_9D5C
		lea	(Competition_menu_zone):w,%a0
		lsrw	#1,%d2
		bcss	loc_9D3C
		cmpib	#4,(%a0)
		beqs	loc_9D5C
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l
		addqb	#1,(%a0)
		cmpib	#4,(%a0)
		beqs	loc_9D5C
		cmpib	#1,(%a0)
		beqs	loc_9D5C
		movew	#0x48,(Events_bg+0x14):w
		braw	loc_9C5C
/*  --------------------------------------------------------------------------- */

loc_9D3C:
		tstb	(%a0)
		beqs	loc_9D5C
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l
		subqb	#1,(%a0)
		beqs	loc_9D5C
		cmpib	#3,(%a0)
		beqs	loc_9D5C
		movew	#-0x48,(Events_bg+0x14):w
		braw	loc_9C5C
/*  --------------------------------------------------------------------------- */

loc_9D5C:
		andiw	#0xE0,%d1
		beqw	loc_9C5C
		moveq	#sfx_Starpost,%d0
		jsr	(Play_Sound_2):l
		moveq	#0,%d0
		moveb	(Competition_menu_zone):w,%d0
		moveb	Comp_ZoneList(%pc,%d0.w),(Current_zone_and_act):w
		clrb	(Current_act):w
		jsr	sub_B5EC(%pc)
		moveb	#0xC,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */
Comp_ZoneList:	.byte   0xE
		.byte   0xF
		.byte  0x11
		.byte  0x10
		.byte  0x12
		.byte  0xFF
/*  --------------------------------------------------------------------------- */

Obj_Competition_ZoneSelect:
		cmpiw	#-0x58,(H_scroll_buffer):w
		bnes	locret_9DC0
		tstw	(Events_bg+0x14):w
		bnes	locret_9DC0
		moveq	#0,%d0
		moveb	(Competition_menu_zone):w,%d0
		muluw	#0x48,%d0
		addiw	#0xAC,%d0
		subw	(V_scroll_value):w,%d0
		movew	%d0,0x14(%a0)
		btst	#3,(Level_frame_counter+1):w
		beqs	locret_9DC0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_9DC0:
		rts
/*  --------------------------------------------------------------------------- */

loc_9DC2:
		cmpiw	#-0x58,(H_scroll_buffer):w
		bnes	loc_9E06
		tstw	(Events_bg+0x14):w
		bnes	loc_9E06
		moveq	#0,%d0
		moveb	(Competition_menu_zone):w,%d0
		muluw	#0x48,%d0
		addiw	#0xA8,%d0
		subw	(V_scroll_value):w,%d0
		movew	%d0,0x14(%a0)
		moveb	(Competition_menu_zone):w,%d0
		addqb	#6,%d0
		moveb	%d0,0x22(%a0)
		jsr	(Draw_Sprite):l
		moveq	#0,%d0
		moveb	(Competition_menu_zone):w,%d0
		lslw	#5,%d0
		lea	Pal_Competition4(%pc),%a1
		addaw	%d0,%a1
		bras	loc_9E0A
/*  --------------------------------------------------------------------------- */

loc_9E06:
		lea	Pal_Competition3(%pc),%a1

loc_9E0A:
		lea	(Normal_palette_line_3):w,%a2
		moveq	#7,%d0

loc_9E10:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_9E10
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_9E18:
		moveq	#0,%d0
		moveb	(Competition_menu_zone):w,%d0
		subqw	#1,%d0
		bccs	loc_9E24
		moveq	#0,%d0

loc_9E24:
		cmpiw	#2,%d0
		blss	locret_9E2C
		moveq	#2,%d0

locret_9E2C:
		rts
/*  End of function sub_9E18 */

/*  --------------------------------------------------------------------------- */

loc_9E2E:
		movel	#locret_952E,(_unkEF44_1):w
		movel	#0x42040003,%d0
		lea	(VDP_data_port):l,%a6
		movel	#0x80008000,%d1
		movew	#0x8F80,VDP_control_port-VDP_data_port(%a6)
		moveq	#8,%d2

loc_9E50:
		moveq	#0x12,%d3
		movel	%d0,VDP_control_port-VDP_data_port(%a6)

loc_9E56:
		movel	%d1,(%a6)
		dbf	%d3,loc_9E56
		addil	#0x20000,%d0
		dbf	%d2,loc_9E50
		movew	#0x8F02,VDP_control_port-VDP_data_port(%a6)

/*  =============== S U B R O U T I N E ======================================= */


sub_9E6C:
		bsrs	sub_9E18
		muluw	#0x48,%d0
		addiw	#0x20,%d0
		lslw	#4,%d0
		addiw	#0xC004,%d0
		movew	%d0,%d7
		tstb	(Game_mode):w
		bmis	loc_9E94
		jsr	sub_B534(%pc)
		movew	%d7,%d0
		addiw	#0x600,%d0
		jmp	sub_B534(%pc)
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

loc_9E94:
		addiw	#0x300,%d0
		jmp	sub_B534(%pc)
/*  End of function sub_9E6C */


/*  =============== S U B R O U T I N E ======================================= */


sub_9E9C:
		movew	#-0x3D2E,%d7
		movel	(Competition_saved_data):w,%d6
		bsrs	sub_9ECC
		addiw	#0x480,%d7
		movel	(Competition_saved_data+0x10):w,%d6
		bsrs	sub_9ECC
		addiw	#0x480,%d7
		movel	(Competition_saved_data+0x30):w,%d6
		bsrs	sub_9ECC
		addiw	#0x480,%d7
		movel	(Competition_saved_data+0x20):w,%d6
		bsrs	sub_9ECC
		addiw	#0x480,%d7
		movel	(Competition_saved_data+0x40):w,%d6
/*  End of function sub_9E9C */


/*  =============== S U B R O U T I N E ======================================= */


sub_9ECC:
		moveq	#0,%d5
		lsll	#8,%d6
		moveq	#2,%d3

loc_9ED2:
		roll	#8,%d6
		moveq	#0,%d0
		moveb	%d6,%d0
		jsr	(LevResults_GetDecimalScore):l
		moveb	%d1,%d5
		lsll	#8,%d5
		dbf	%d3,loc_9ED2
		lea	(Plane_buffer):w,%a1
		lea	MapUnc_CompetitionNumbers(%pc),%a2
		moveq	#0,%d0
		bsrs	sub_9F26
		st	%d0
		bsrs	sub_9F26
		moveq	#0xA,%d1
		bsrs	sub_9F38
		bsrs	sub_9F26
		bsrs	sub_9F26
		moveq	#0xB,%d1
		bsrs	sub_9F38
		bsrs	sub_9F26
		bsrs	sub_9F26
		lea	(Plane_buffer):w,%a1

loc_9F0A:
		movew	%d7,%d0
		swap	%d0
		clrw	%d0
		swap	%d0
		lsll	#2,%d0
		lsrw	#2,%d0
		oriw	#0x4000,%d0
		swap	%d0
		moveq	#7,%d1
		moveq	#1,%d2
		jmp	(Plane_Map_To_VRAM):l
/*  End of function sub_9ECC */


/*  =============== S U B R O U T I N E ======================================= */


sub_9F26:
		roll	#4,%d5
		movew	%d5,%d1
		andiw	#0xF,%d1
		bnes	sub_9F38
		tstw	%d0
		bnes	sub_9F38
		moveq	#0xC,%d1
		st	%d0
/*  End of function sub_9F26 */


/*  =============== S U B R O U T I N E ======================================= */


sub_9F38:
		addw	%d1,%d1
		addw	%d1,%d1
		movew	(%a2,%d1.w),(%a1)+
		movew	2(%a2,%d1.w),0xE(%a1)
		rts
/*  End of function sub_9F38 */


/*  =============== S U B R O U T I N E ======================================= */


sub_9F48:
		lea	(byte_373E4):l,%a1
		moveq	#0,%d0
		moveb	%d6,%d0
		moveb	(%a1,%d0.w),%d6
		rts
/*  End of function sub_9F48 */

/*  --------------------------------------------------------------------------- */
VRAMDatList_CompetitionLevelSelect:.word	0x18
		.long RAM_start
		.word 0xC098
		.word 0x1A
		.word 8
		.long RAM_start
		.word 0xC518
		.word 0x1A
		.word 8
		.long RAM_start
		.word 0xC998
		.word 0x1A
		.word 8
		.long RAM_start
		.word 0xCE18
		.word 0x1A
		.word 8
		.long RAM_start
		.word 0xD298
		.word 0x1A
		.word 8
		.long Chunk_table+0x1180
		.word 0xC11A
		.word 7
		.word 5
		.long Chunk_table+0x1120
		.word 0xC59A
		.word 7
		.word 5
		.long RAM_start+0x1000
		.word 0xCA1A
		.word 7
		.word 5
		.long Chunk_table+0x1060
		.word 0xCE9A
		.word 7
		.word 5
		.long Chunk_table+0x10C0
		.word 0xD31A
		.word 7
		.word 5
		.long RAM_start+0x2000
		.word 0xC1AC
		.word 0xE
		.word 4
		.long Chunk_table+0x2258
		.word 0xC62C
		.word 0xE
		.word 4
		.long Chunk_table+0x2096
		.word 0xCAAC
		.word 0xE
		.word 4
		.long Chunk_table+0x21C2
		.word 0xCF2C
		.word 0xE
		.word 4
		.long Chunk_table+0x212C
		.word 0xD3AC
		.word 0xE
		.word 4
		.long MapUnc_CompetitionTimeBorder
		.word 0xC0CE
		.word 0xB
		.word 8
		.long MapUnc_CompetitionTimeBorder
		.word 0xC54E
		.word 0xB
		.word 8
		.long MapUnc_CompetitionTimeBorder
		.word 0xC9CE
		.word 0xB
		.word 8
		.long MapUnc_CompetitionTimeBorder
		.word 0xCE4E
		.word 0xB
		.word 8
		.long MapUnc_CompetitionTimeBorder
		.word 0xD2CE
		.word 0xB
		.word 8
		.long MapUnc_CompetitionBESTTIME
		.word 0xC1D0
		.word 8
		.word 1
		.long MapUnc_CompetitionBESTTIME
		.word 0xC650
		.word 8
		.word 1
		.long MapUnc_CompetitionBESTTIME
		.word 0xCAD0
		.word 8
		.word 1
		.long MapUnc_CompetitionBESTTIME
		.word 0xCF50
		.word 8
		.word 1
		.long MapUnc_CompetitionBESTTIME
		.word 0xD3D0
		.word 8
		.word 1
ObjDat_CompetitionMatchRace:.word 0xB
		.long Obj_Competition_ZoneSelect
		.word 0xF4
		.word 0
		.word 0
		.byte 2
		.byte 0
		.long Obj_Competition_StaticSprite
		.word 0xB0
		.word 0xA9
		.word 0x2000
		.byte 3
		.byte 0
		.long Obj_Competition_1PSelect
		.word 0xB5
		.word 0xC1
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite
		.word 0xB5
		.word 0xD5
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite
		.word 0xB5
		.word 0xD5
		.word 0
		.byte 2
		.byte 1
		.long Obj_CompetitionPlayerSprite
		.word 0xB5
		.word 0xD5
		.word 0
		.byte 1
		.byte 2
		.long Obj_Competition_StaticSprite
		.word 0xB2
		.word 0x109
		.word 0x2000
		.byte 4
		.byte 0
		.long Obj_Competition_2PSelect
		.word 0xB5
		.word 0x121
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite2P
		.word 0xB5
		.word 0x135
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite2P
		.word 0xB5
		.word 0x135
		.word 0
		.byte 2
		.byte 1
		.long Obj_CompetitionPlayerSprite2P
		.word 0xB5
		.word 0x135
		.word 0
		.byte 1
		.byte 2
		.long Obj_Competition_PRESSSTART
		.word 0xB1
		.word 0x126
		.word 0x2000
		.byte 5
		.byte 0
ObjDat_CompetitionTimeAttack:.word 5
		.long Obj_Competition_ZoneSelect
		.word 0xF4
		.word 0x30
		.word 0
		.byte 2
		.byte 0
		.long Obj_Competition_StaticSprite
		.word 0xB0
		.word 0
		.word 0x2000
		.byte 3
		.byte 0
		.long Obj_Competition_1PSelect
		.word 0xB5
		.word 0xF1
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite
		.word 0xB5
		.word 0x101
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite
		.word 0xB5
		.word 0x101
		.word 0
		.byte 2
		.byte 1
		.long Obj_CompetitionPlayerSprite
		.word 0xB5
		.word 0x101
		.word 0
		.byte 1
		.byte 2
MapUnc_CompetitionNumbers:
		.incbin "General/Competition Menu/Uncompressed Map/Numbers.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Competition_PlayerSelect:
		jsr	(Pal_FadeToBlack):l
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#0xBF,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8C89,(%a6)
		movew	#0x9011,(%a6)
		jsr	sub_B512(%pc)
		movew	#0xC220,%d0
		jsr	sub_B534(%pc)
		movew	#0xC820,%d0
		jsr	sub_B534(%pc)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_A1C2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_A1C2
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_A1D2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_A1D2
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		clrw	(Level_frame_counter):w
		movew	#-1,(Events_bg+0x10):w
		clrw	(Events_bg+0x12):w
		lea	(MapEni_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		movew	#1,%d0
		jsr	(Eni_Decomp):l
		lea	(RAM_start):l,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(ArtKos_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x20,%a2
		jsr	KosArt_To_VDP(%pc)
		movel	#locret_952E,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_CompetitionLevel):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x53E0,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionPlayer):l,%a0
		moveaw	#-0x46E0,%a2
		jsr	KosArt_To_VDP(%pc)
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(Pal_CompetitionMenuBG):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#7,%d0

loc_A280:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_A280
		lea	Pal_Competition2(%pc),%a0
		moveq	#0x17,%d0

loc_A28C:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_A28C
		lea	(Player_2):w,%a0
		lea	ObjDat_A65E(%pc),%a1
		movew	(%a1)+,%d0

loc_A29C:
		movel	(%a1)+,(%a0)
		movel	#Map_CompetitionSelect,0xC(%a0)
		movew	(%a1),0x10(%a0)
		movew	(%a1)+,0x12(%a0)
		movew	(%a1),0x14(%a0)
		movew	(%a1)+,0x16(%a0)
		movew	(%a1)+,%d1
		addiw	#0x829F,%d1
		movew	%d1,0xA(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2E(%a0)
		lea	0x4A(%a0),%a0
		dbf	%d0,loc_A29C
		moveq	#0,%d0
		moveb	(P1_character):w,%d0
		muluw	#0x55,%d0
		addib	#0x40,%d0
		moveb	%d0,(Reserved_object_3+objoff_2E):w
		moveq	#0,%d0
		moveb	(P2_character):w,%d0
		muluw	#0x55,%d0
		addib	#0x40,%d0
		moveb	%d0,(Dynamic_object_RAM+(object_size*4)+objoff_2E).w
		jsr	(Init_SpriteTable):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		jsr	sub_B596(%pc)
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveq	#mus_CompetitionMenu,%d0
		jsr	(Play_Sound):l
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Pal_FadeFromBlack):l

loc_A33E:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		jsr	sub_B596(%pc)
		jsr	(Render_Sprites):l
		moveb	(Events_bg+0x12):w,%d0
		beqs	loc_A36A
		moveb	%d0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_A36A:
		movew	(Events_bg+0x10):w,%d0
		tstb	(Not_ghost_flag):w
		bnes	loc_A376
		lsrw	#8,%d0

loc_A376:
		tstw	%d0
		bnes	loc_A33E
		movew	#0xE00,(Current_zone_and_act):w
		jsr	sub_B5EC(%pc)
		moveb	#0xC,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

Obj_Competition_StaticSprite:
		movew	0x12(%a0),%d0
		addw	(H_scroll_buffer):w,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_Competition_2PSelect:
		lea	(Ctrl_2_pressed):w,%a1
		lea	(Events_bg+0x11):w,%a2
		lea	(P2_character):w,%a3
		tstb	(Not_ghost_flag):w
		bnes	loc_A3CE
		tstw	(Events_bg+0x14):w
		bnes	loc_A3BC
		tstb	(%a1)
		smi	(Not_ghost_flag):w

loc_A3BC:
		moveq	#0,%d0
		braw	loc_A4CE
/*  --------------------------------------------------------------------------- */

Obj_Competition_1PSelect:
		lea	(Ctrl_1_pressed):w,%a1
		lea	(Events_bg+0x10):w,%a2
		lea	(P1_character):w,%a3

loc_A3CE:
		tstw	(H_scroll_buffer):w
		bnew	loc_A4BC
		tstb	0x2F(%a0)
		beqs	loc_A3EE
		btst	#4,(%a1)
		beqw	loc_A4BC
		sf	0x2F(%a0)
		st	(%a2)
		braw	loc_A4BC
/*  --------------------------------------------------------------------------- */

loc_A3EE:
		tstb	0x30(%a0)
		bnes	loc_A466
		moveb	(%a1),%d0
		andiw	#0xC,%d0
		beqw	loc_A498
		movel	%d0,-(%sp)
		moveq	#sfx_GravityTunnel,%d0
		jsr	(Play_Sound_2):l
		movel	(%sp)+,%d0
		clrb	0x34(%a0)
		moveb	0x2E(%a0),0x35(%a0)
		btst	#2,%d0
		bnes	loc_A442
		moveb	#1,0x30(%a0)
		moveb	(%a3),%d0
		addqb	#1,%d0
		cmpib	#2,%d0
		blss	loc_A42C
		moveq	#0,%d0

loc_A42C:
		moveb	%d0,(%a3)
		muluw	#0x55,%d0
		bnes	loc_A438
		movew	#0x100,%d0

loc_A438:
		addiw	#0x40,%d0
		movew	%d0,0x32(%a0)
		bras	loc_A466
/*  --------------------------------------------------------------------------- */

loc_A442:
		moveb	#-1,0x30(%a0)
		moveb	(%a3),%d0
		subqb	#1,%d0
		bccs	loc_A450
		moveq	#2,%d0

loc_A450:
		moveb	%d0,(%a3)
		muluw	#0x55,%d0
		cmpiw	#0x80,%d0
		bcss	loc_A45E
		extw	%d0

loc_A45E:
		addiw	#0x40,%d0
		movew	%d0,0x32(%a0)

loc_A466:
		movew	0x34(%a0),%d0
		movew	0x32(%a0),%d1
		tstb	0x30(%a0)
		bmis	loc_A482
		addqw	#5,%d0
		cmpw	%d0,%d1
		bgts	loc_A48E
		movew	%d1,%d0
		clrb	0x30(%a0)
		bras	loc_A48E
/*  --------------------------------------------------------------------------- */

loc_A482:
		subqw	#5,%d0
		cmpw	%d0,%d1
		blts	loc_A48E
		movew	%d1,%d0
		clrb	0x30(%a0)

loc_A48E:
		movew	%d0,0x34(%a0)
		moveb	%d0,0x2E(%a0)
		bras	loc_A4BC
/*  --------------------------------------------------------------------------- */

loc_A498:
		btst	#4,(%a1)
		beqs	loc_A4A6
		moveb	#0x38,(Events_bg+0x12):w
		bras	loc_A4BC
/*  --------------------------------------------------------------------------- */

loc_A4A6:
		moveb	(%a1),%d0
		andiw	#0xE0,%d0
		beqs	loc_A4BC
		st	0x2F(%a0)
		sf	(%a2)
		moveq	#sfx_Starpost,%d0
		jsr	(Play_Sound_2):l

loc_A4BC:
		moveq	#1,%d0
		tstb	0x2F(%a0)
		bnes	loc_A4CE
		movew	(Level_frame_counter):w,%d0
		lsrw	#3,%d0
		andiw	#1,%d0

loc_A4CE:
		moveb	%d0,0x22(%a0)
		movew	0x12(%a0),%d0
		addw	(H_scroll_buffer):w,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_CompetitionPlayerSprite2P:
		tstb	(Not_ghost_flag):w
		bnes	Obj_CompetitionPlayerSprite
		rts
/*  --------------------------------------------------------------------------- */

Obj_CompetitionPlayerSprite:
		movel	#Map_CompetitionPlayerSprite,0xC(%a0)
		movew	#0x25C9,0xA(%a0)
		moveq	#0,%d0
		moveq	#-0x55,%d1
		moveq	#0,%d2
		moveb	0x2E(%a0),%d2

loc_A504:
		addiw	#0x4A,%d0
		addiw	#0x55,%d1
		dbf	%d2,loc_A504
		negw	%d0
		moveb	0x2E(%a0,%d0.w),%d0
		addb	%d1,%d0
		jsr	(GetSineCosine):l
		asrw	#4,%d1
		addw	0x12(%a0),%d1
		addw	(H_scroll_buffer):w,%d1
		movew	%d1,0x10(%a0)
		asrw	#5,%d0
		addw	0x16(%a0),%d0
		movew	%d0,0x14(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_Competition_PRESSSTART:
		tstb	(Not_ghost_flag):w
		bnes	locret_A55C
		btst	#5,(Level_frame_counter+1):w
		beqs	locret_A55C
		movew	0x12(%a0),%d0
		addw	(H_scroll_buffer):w,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_A55C:
		rts
/*  --------------------------------------------------------------------------- */
Pal_Competition2:
		.incbin "General/Competition Menu/Palettes/2.bin"
		.balign 2
Pal_Competition3:
		.incbin "General/Competition Menu/Palettes/3.bin"
		.balign 2
Pal_Competition4:
		.incbin "General/Competition Menu/Palettes/4.bin"
		.balign 2
ObjDat_A65E:	.word 0xA
		.long Obj_Competition_StaticSprite
		.word 0x120
		.word 0xA9
		.word 0x2000
		.byte 3
		.byte 0
		.long Obj_Competition_1PSelect
		.word 0x125
		.word 0xC1
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite
		.word 0x125
		.word 0xD5
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite
		.word 0x125
		.word 0xD5
		.word 0
		.byte 2
		.byte 1
		.long Obj_CompetitionPlayerSprite
		.word 0x125
		.word 0xD5
		.word 0
		.byte 1
		.byte 2
		.long Obj_Competition_StaticSprite
		.word 0x122
		.word 0x109
		.word 0x2000
		.byte 4
		.byte 0
		.long Obj_Competition_2PSelect
		.word 0x125
		.word 0x121
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite2P
		.word 0x125
		.word 0x135
		.word 0
		.byte 0
		.byte 0
		.long Obj_CompetitionPlayerSprite2P
		.word 0x125
		.word 0x135
		.word 0
		.byte 2
		.byte 1
		.long Obj_CompetitionPlayerSprite2P
		.word 0x125
		.word 0x135
		.word 0
		.byte 1
		.byte 2
		.long Obj_Competition_PRESSSTART
		.word 0x121
		.word 0x126
		.word 0x2000
		.byte 5
		.byte 0
Map_CompetitionSelect:
		.include "General/Competition Menu/Map - Competition Select.S"
/*  --------------------------------------------------------------------------- */

Competition_Results:
		jsr	(Pal_FadeToBlack):l
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#0xBF,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8C89,(%a6)
		movew	#0x9011,(%a6)
		jsr	sub_B512(%pc)
		movew	#0xC1AA,%d0
		jsr	sub_B534(%pc)
		movew	#0xC82A,%d0
		jsr	sub_B534(%pc)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_A9F2:
		movel	%d0,(%a1)+
		dbf	%d1,loc_A9F2
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_AA02:
		movel	%d0,(%a1)+
		dbf	%d1,loc_AA02
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		clrw	(Level_frame_counter):w
		clrw	(Competition_mode):w
		clrb	(Level_started_flag):w
		movew	#0x1E,(Events_bg+0x16):w
		lea	(MapEni_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		movew	#1,%d0
		jsr	(Eni_Decomp):l
		lea	MapEni_CompetitionResultsLED(%pc),%a0
		lea	(RAM_start+0x1000):l,%a1
		movew	#0xA34A,%d0
		jsr	(Eni_Decomp):l
		lea	VRAMDatList_AE06(%pc),%a0
		jsr	Copy_Listed_Data_To_VRAM(%pc)
		jsr	sub_AC44(%pc)
		lea	(ArtKos_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x20,%a2
		jsr	KosArt_To_VDP(%pc)
		movel	#locret_952E,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_CompetitionLevel):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x53E0,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionResults):l,%a0
		moveaw	#0x6940,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionPlayer):l,%a0
		moveaw	#-0x46E0,%a2
		jsr	KosArt_To_VDP(%pc)
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(Pal_CompetitionMenuBG):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#7,%d0

loc_AACC:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_AACC
		lea	Pal_Competition2(%pc),%a0
		moveq	#0xF,%d0

loc_AAD8:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_AAD8
		lea	Pal_CompetitionResults(%pc),%a0
		moveq	#7,%d0

loc_AAE4:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_AAE4
		lea	(Object_RAM):w,%a0
		lea	ObjDat_ADA4(%pc),%a1
		movew	(%a1)+,%d0

loc_AAF4:
		movel	(%a1)+,(%a0)
		movel	#Map_CompetitionSelect,0xC(%a0)
		movew	(%a1),0x10(%a0)
		movew	(%a1)+,0x12(%a0)
		movew	(%a1),0x14(%a0)
		movew	(%a1)+,0x16(%a0)
		movew	(%a1)+,%d1
		addiw	#0x829F,%d1
		movew	%d1,0xA(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2E(%a0)
		lea	0x4A(%a0),%a0
		dbf	%d0,loc_AAF4
		jsr	(Init_SpriteTable):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveq	#mus_Continue,%d0
		jsr	(Play_Sound):l
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Pal_FadeFromBlack):l

loc_AB62:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		movew	(_unkEEA0):w,%d7
		beqs	loc_AB92
		btst	#3,(Level_frame_counter+1):w
		bnes	loc_AB8A
		lea	(Plane_buffer+0x20):w,%a1
		jsr	loc_9F0A(%pc)
		bras	loc_AB92
/*  --------------------------------------------------------------------------- */

loc_AB8A:
		movel	(_unkEE98):w,%d6
		jsr	sub_9ECC(%pc)

loc_AB92:
		tstw	(Events_bg+0x16):w
		beqs	loc_AB9E
		subqw	#1,(Events_bg+0x16):w
		bras	loc_ABD6
/*  --------------------------------------------------------------------------- */

loc_AB9E:
		moveb	(Ctrl_1_pressed):w,%d0
		tstb	(Not_ghost_flag):w
		beqs	loc_ABAC
		orb	(Ctrl_2_pressed):w,%d0

loc_ABAC:
		movew	(H_scroll_buffer):w,%d1
		beqs	loc_ABBA
		cmpiw	#0xFF78,%d1
		beqs	loc_ABC8
		bras	loc_ABC0
/*  --------------------------------------------------------------------------- */

loc_ABBA:
		andiw	#0xE0,%d0
		beqs	loc_ABD6

loc_ABC0:
		subqw	#8,%d1
		movew	%d1,(H_scroll_buffer):w
		bras	loc_ABD6
/*  --------------------------------------------------------------------------- */

loc_ABC8:
		andiw	#0xE0,%d0
		beqs	loc_ABD6
		moveb	#0x38,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_ABD6:
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		braw	loc_AB62
/*  --------------------------------------------------------------------------- */

Obj_Competition_ABE6:
		movel	#Map_CompetitionPlayerSprite,0xC(%a0)
		movew	#0xA5C9,0xA(%a0)
		moveb	(P1_character):w,%d0
		tstb	0x2E(%a0)
		beqs	loc_AC02
		moveb	(P2_character):w,%d0

loc_AC02:
		moveb	%d0,0x22(%a0)
		jmp	Obj_Competition_StaticSprite(%pc)
/*  --------------------------------------------------------------------------- */

Obj_Competition_AC0A:
		movew	#0xA34A,0xA(%a0)
		moveb	(_unkEEA2):w,%d0
		moveb	(_unkEEA2+1):w,%d1
		tstb	0x2E(%a0)
		beqs	loc_AC20
		exg	%d0,%d1

loc_AC20:
		moveq	#0xD,%d2
		cmpb	%d0,%d1
		beqs	loc_AC2C
		bcss	loc_AC2A
		addqw	#1,%d2

loc_AC2A:
		subqb	#2,%d2

loc_AC2C:
		moveb	%d2,0x22(%a0)
		cmpib	#0xB,%d2
		bnew	Obj_Competition_StaticSprite
		btst	#3,(Level_frame_counter+1):w
		bnew	Obj_Competition_StaticSprite
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_AC44:
		lea	(0xFF7800):l,%a0
		movew	#0xC15A,%d7
		jsr	sub_AD28(%pc)
		movew	#0xC7DA,%d7
		jsr	sub_AD28(%pc)
		lea	(0xFF7800):l,%a0
		jsr	sub_AD3E(%pc)
		movew	#0xC65A,%d7
		movel	%d6,(_unkEE98):w
		movew	%d7,(_unkEEA0):w
		jsr	sub_9ECC(%pc)
		jsr	sub_AD3E(%pc)
		movew	#0xCCDA,%d7
		cmpl	(_unkEE98):w,%d6
		bhis	loc_AC92
		bnes	loc_AC8A
		clrw	(_unkEEA0):w
		bras	loc_AC92
/*  --------------------------------------------------------------------------- */

loc_AC8A:
		movel	%d6,(_unkEE98):w
		movew	%d7,(_unkEEA0):w

loc_AC92:
		jsr	sub_9ECC(%pc)
		clrw	(_unkEEA2):w
		lea	(0xFF7800):l,%a0
		movel	#0x41480003,%d5
		moveq	#4,%d7

loc_ACA8:
		lea	MapUnc_ResultsWin(%pc),%a1
		lea	MapUnc_ResultsLose(%pc),%a2
		addqb	#1,(_unkEEA2):w
		movel	(%a0)+,%d0
		cmpl	0x10(%a0),%d0
		beqs	loc_ACCA
		bcss	loc_ACD4
		exg	%a1,%a2
		subqb	#1,(_unkEEA2):w
		addqb	#1,(_unkEEA2+1):w
		bras	loc_ACD4
/*  --------------------------------------------------------------------------- */

loc_ACCA:
		lea	MapUnc_ResultsTie(%pc),%a1
		moveal	%a1,%a2
		subqb	#1,(_unkEEA2):w

loc_ACD4:
		movel	%d5,%d0
		moveq	#1,%d1
		moveq	#1,%d2
		jsr	(Plane_Map_To_VRAM):l
		moveal	%a2,%a1
		movel	%d5,%d0
		addil	#0x6800000,%d0
		moveq	#1,%d1
		moveq	#1,%d2
		jsr	(Plane_Map_To_VRAM):l
		addil	#0x1000000,%d5
		dbf	%d7,loc_ACA8
		movew	(_unkEEA0):w,%d7
		beqs	locret_AD26
		movel	(_unkEE98):w,%d6
		jsr	sub_9ECC(%pc)
		lea	(Plane_buffer):w,%a0
		lea	0x20(%a0),%a1
		moveq	#0xF,%d0

loc_AD16:
		movew	(%a0)+,%d1
		andiw	#-0x6001,%d1
		oriw	#0x6000,%d1
		movew	%d1,(%a1)+
		dbf	%d0,loc_AD16

locret_AD26:
		rts
/*  End of function sub_AC44 */


/*  =============== S U B R O U T I N E ======================================= */


sub_AD28:
		moveq	#4,%d0

loc_AD2A:
		movew	%d0,-(%sp)
		movel	(%a0)+,%d6
		jsr	sub_9ECC(%pc)
		addiw	#0x100,%d7
		movew	(%sp)+,%d0
		dbf	%d0,loc_AD2A
		rts
/*  End of function sub_AD28 */


/*  =============== S U B R O U T I N E ======================================= */


sub_AD3E:
		clrl	(_unkEF40_1):w
		moveq	#4,%d7

loc_AD44:
		movel	(%a0)+,%d6
		lea	(_unkEF44_2):w,%a1
		addb	%d6,-(%a1)
		cmpib	#0x64,(%a1)
		bcss	loc_AD5A
		subib	#0x64,(%a1)
		addqb	#1,-1(%a1)

loc_AD5A:
		lsrl	#8,%d6
		addb	%d6,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	loc_AD6C
		subib	#0x3C,(%a1)
		addqb	#1,-1(%a1)

loc_AD6C:
		lsrl	#8,%d6
		addb	%d6,-(%a1)
		cmpib	#0x64,(%a1)
		bcss	loc_AD7A
		moveb	#0x63,(%a1)

loc_AD7A:
		dbf	%d7,loc_AD44
		movel	(_unkEF40_1):w,%d6
		rts
/*  End of function sub_AD3E */

/*  --------------------------------------------------------------------------- */
Pal_CompetitionResults:
		.incbin "General/Competition Menu/Palettes/Results.bin"
		.balign 2
ObjDat_ADA4:	.word 7
		.long Obj_Competition_StaticSprite
		.word 0x148
		.word 0xA1
		.word 0x2000
		.byte 3
		.byte 0
		.long Obj_Competition_StaticSprite
		.word 0x14D
		.word 0xB9
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_ABE6
		.word 0x14D
		.word 0xD3
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_AC0A
		.word 0xCC
		.word 0xBC
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_StaticSprite
		.word 0x14A
		.word 0x109
		.word 0x2000
		.byte 4
		.byte 0
		.long Obj_Competition_StaticSprite
		.word 0x14D
		.word 0x121
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_ABE6
		.word 0x14D
		.word 0x13B
		.word 0
		.byte 0
		.byte 1
		.long Obj_Competition_AC0A
		.word 0xCC
		.word 0x124
		.word 0
		.byte 0
		.byte 1
VRAMDatList_AE06:.word 8
		.long RAM_start
		.word 0xE000
		.word 0x27
		.word 0x1B
		.long RAM_start+0x1000
		.word 0xC204
		.word 0xE
		.word 5
		.long RAM_start+0x1000
		.word 0xC884
		.word 0xE
		.word 5
		.long MapUnc_CompetitionResultsLetters
		.word 0xC142
		.word 1
		.word 9
		.long MapUnc_CompetitionResultsLetters
		.word 0xC7C2
		.word 1
		.word 9
		.long MapUnc_CompetitionResultsDividers
		.word 0xC152
		.word 3
		.word 9
		.long MapUnc_CompetitionResultsDividers
		.word 0xC7D2
		.word 3
		.word 9
		.long MapUnc_CompetitionResultsTOTAL
		.word 0xC650
		.word 4
		.word 1
		.long MapUnc_CompetitionResultsTOTAL
		.word 0xCCD0
		.word 4
		.word 1
MapEni_CompetitionResultsLED:
		.incbin "General/Competition Menu/Enigma Map/Menu.bin"
		.balign 2
MapUnc_CompetitionResultsLetters:
		.incbin "General/Competition Menu/Uncompressed Map/Results Letters.bin"
		.balign 2
MapUnc_CompetitionResultsDividers:
		.incbin "General/Competition Menu/Uncompressed Map/Results Dividers.bin"
		.balign 2
MapUnc_CompetitionResultsTOTAL:
		.incbin "General/Competition Menu/Uncompressed Map/Results TOTAL.bin"
		.balign 2
MapUnc_ResultsWin:
		.incbin "General/Competition Menu/Uncompressed Map/Results Win.bin"
		.balign 2
MapUnc_ResultsLose:
		.incbin "General/Competition Menu/Uncompressed Map/Results Lose.bin"
		.balign 2
MapUnc_ResultsTie:
		.incbin "General/Competition Menu/Uncompressed Map/Results Tie.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

TimeAttack_Records:
		jsr	(Pal_FadeToBlack):l
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#0xBF,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8C89,(%a6)
		movew	#0x9011,(%a6)
		jsr	sub_B512(%pc)
		movew	#0xC1AA,%d0
		jsr	sub_B534(%pc)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_AF76:
		movel	%d0,(%a1)+
		dbf	%d1,loc_AF76
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_AF86:
		movel	%d0,(%a1)+
		dbf	%d1,loc_AF86
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		clrw	(Level_frame_counter):w
		clrw	(Competition_mode):w
		clrb	(Level_started_flag):w
		movew	#0x1E,(Events_bg+0x16):w
		movew	#-0x88,(H_scroll_buffer):w
		lea	(MapEni_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		movew	#1,%d0
		jsr	(Eni_Decomp):l
		lea	VRAMDatList_B2CA(%pc),%a0
		jsr	Copy_Listed_Data_To_VRAM(%pc)
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		subiw	#0xE,%d0
		lslw	#2,%d0
		lea	CompTimeAttack_LevelNameMaps(%pc),%a1
		moveal	(%a1,%d0.w),%a1
		movel	#0x48260003,%d0
		moveq	#0xC,%d1
		moveq	#1,%d2
		jsr	(Plane_Map_To_VRAM):l
		jsr	sub_B1C6(%pc)
		movel	#0x71A00002,(VDP_control_port):l
		lea	(ArtNem_ContinueDigits):l,%a0
		jsr	(Nem_Decomp):l
		movel	#0x74200002,(VDP_control_port):l
		lea	(ArtNem_S38x16Font):l,%a0
		jsr	(Nem_Decomp):l
		lea	(ArtKos_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x20,%a2
		jsr	KosArt_To_VDP(%pc)
		movel	#locret_952E,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_CompetitionLevel):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x53E0,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionResults):l,%a0
		moveaw	#0x6940,%a2
		jsr	KosArt_To_VDP(%pc)
		lea	(ArtKos_CompetitionPlayer):l,%a0
		moveaw	#-0x46E0,%a2
		jsr	KosArt_To_VDP(%pc)
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_SSResultsGeneral):l,%a0
		lea	(RAM_start+0x20):l,%a1
		jsr	(Kos_Decomp):l
		lea	(ArtKos_SSResultsTKIcons):l,%a0
		jsr	(Kos_Decomp):l
		move	#0x2700,sr
		movel	#0x6E400002,(VDP_control_port):l
		lea	(RAM_start+0xEE0):l,%a0
		lea	(VDP_data_port):l,%a6
		movew	#0xD7,%d0

loc_B0C2:
		movel	(%a0)+,(%a6)
		dbf	%d0,loc_B0C2
		lea	(Pal_CompetitionMenuBG):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#7,%d0

loc_B0D4:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_B0D4
		lea	Pal_Competition2(%pc),%a0
		moveq	#0xF,%d0

loc_B0E0:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_B0E0
		lea	Pal_CompetitionTimeAttack(%pc),%a0
		moveq	#7,%d0

loc_B0EC:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_B0EC
		lea	(Object_RAM):w,%a0
		lea	ObjDat_B28C(%pc),%a1
		movew	(%a1)+,%d0

loc_B0FC:
		movel	(%a1)+,(%a0)
		movel	#Map_CompetitionSelect,0xC(%a0)
		movew	(%a1),0x10(%a0)
		movew	(%a1)+,0x12(%a0)
		movew	(%a1),0x14(%a0)
		movew	(%a1)+,0x16(%a0)
		movew	(%a1)+,%d1
		addiw	#0x829F,%d1
		movew	%d1,0xA(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2E(%a0)
		lea	0x4A(%a0),%a0
		dbf	%d0,loc_B0FC
		jsr	(Init_SpriteTable):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveq	#mus_Continue,%d0
		jsr	(Play_Sound):l
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Pal_FadeFromBlack):l

loc_B16A:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		movew	(_unkEEA0):w,%d7
		beqs	loc_B19A
		btst	#3,(Level_frame_counter+1):w
		bnes	loc_B192
		lea	(Plane_buffer+0x20):w,%a1
		jsr	loc_9F0A(%pc)
		bras	loc_B19A
/*  --------------------------------------------------------------------------- */

loc_B192:
		movel	(_unkEE98):w,%d6
		jsr	sub_9ECC(%pc)

loc_B19A:
		tstw	(Events_bg+0x16):w
		beqs	loc_B1A6
		subqw	#1,(Events_bg+0x16):w
		bras	loc_B1B8
/*  --------------------------------------------------------------------------- */

loc_B1A6:
		moveb	(Ctrl_1_pressed):w,%d0
		andiw	#0xE0,%d0
		beqs	loc_B1B8
		moveb	#0xC0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_B1B8:
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		bras	loc_B16A

/*  =============== S U B R O U T I N E ======================================= */


sub_B1C6:
		lea	(0xFF7828):l,%a0
		movew	#-0x3EA6,%d7
		moveq	#5,%d0
		jsr	loc_AD2A(%pc)
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		subiw	#0xE,%d0
		lslw	#4,%d0
		lea	(Competition_saved_data):w,%a0
		addaw	%d0,%a0
		movew	#-0x36A6,%d7
		movel	(%a0)+,%d6
		jsr	sub_9ECC(%pc)
		addiw	#0x180,%d7
		movel	(%a0)+,%d6
		jsr	sub_9ECC(%pc)
		addiw	#0x180,%d7
		movel	(%a0)+,%d6
		jsr	sub_9ECC(%pc)
		clrw	(_unkEEA0):w
		rts
/*  End of function sub_B1C6 */

/*  --------------------------------------------------------------------------- */

Obj_Competition_B20C:
		movel	#Map_Results,0xC(%a0)
		movew	#0xA4FB,0xA(%a0)
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		subiw	#0xE,%d0
		lslw	#4,%d0
		lea	(Competition_saved_data):w,%a1
		lea	0xC(%a1,%d0.w),%a1
		moveq	#0,%d0
		moveb	0x2E(%a0),%d0
		moveb	(%a1,%d0.w),%d0
		cmpiw	#2,%d0
		bnes	loc_B244
		addiw	#0x2000,0xA(%a0)

loc_B244:
		addiw	#0x29,%d0
		moveb	%d0,0x22(%a0)
		movel	#loc_B252,(%a0)

loc_B252:
		moveb	(_unkEE5A):w,%d0
		cmpb	0x2E(%a0),%d0
		bnes	loc_B264
		btst	#3,(Level_frame_counter+1):w
		beqs	locret_B26A

loc_B264:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_B26A:
		rts
/*  --------------------------------------------------------------------------- */
Pal_CompetitionTimeAttack:
		.incbin "General/Competition Menu/Palettes/Time Attack.bin"
		.balign 2
ObjDat_B28C:	.word 4
		.long Obj_Competition_StaticSprite
		.word 0x14D
		.word 0xB9
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_ABE6
		.word 0x14D
		.word 0xCB
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_B20C
		.word 0x130
		.word 0x120
		.word 0
		.byte 0
		.byte 0
		.long Obj_Competition_B20C
		.word 0x130
		.word 0x138
		.word 0
		.byte 0
		.byte 1
		.long Obj_Competition_B20C
		.word 0x130
		.word 0x150
		.word 0
		.byte 0
		.byte 2
VRAMDatList_B2CA:.word 8
		.long RAM_start
		.word 0xE000
		.word 0x27
		.word 0x1B
		.long MapUnc_CompetitionLAPNum
		.word 0xC144
		.word 4
		.word 9
		.long MapUnc_CompetitionResultsDividers
		.word 0xC152
		.word 3
		.word 9
		.long MapUnc_CompetitionResultsTOTAL
		.word 0xC650
		.word 4
		.word 1
		.long MapUnc_CompetitionResultsDividers
		.word 0xC952
		.word 3
		.word 1
		.long MapUnc_CompetitionResultsDividers
		.word 0xCAD2
		.word 3
		.word 1
		.long MapUnc_CompetitionResultsDividers
		.word 0xCC52
		.word 3
		.word 1
		.long MapUnc_CompetitionRECORDS
		.word 0xC92C
		.word 6
		.word 1
		.long MapUnc_Competition1st2nd3rd
		.word 0xC944
		.word 2
		.word 7
MapUnc_CompetitionLAPNum:
		.incbin "General/Competition Menu/Uncompressed Map/LAP.bin"
		.balign 2
MapUnc_CompetitionRECORDS:
		.incbin "General/Competition Menu/Uncompressed Map/RECORDS.bin"
		.balign 2
MapUnc_Competition1st2nd3rd:
		.incbin "General/Competition Menu/Uncompressed Map/1ST 2ND 3RD.bin"
		.balign 2
CompTimeAttack_LevelNameMaps:
		.long MapUnc_CompetitionAZURELAKE
		.long MapUnc_CompetitionBALLOONPARK
		.long MapUnc_CompetitionDESERTPALACE
		.long MapUnc_CompetitionCHROMEGADGET
		.long MapUnc_CompetitionENDLESSMINE
MapUnc_CompetitionAZURELAKE:
		.incbin "General/Competition Menu/Uncompressed Map/AZURE LAKE.bin"
		.balign 2
MapUnc_CompetitionBALLOONPARK:
		.incbin "General/Competition Menu/Uncompressed Map/BALLOON PARK.bin"
		.balign 2
MapUnc_CompetitionCHROMEGADGET:
		.incbin "General/Competition Menu/Uncompressed Map/CHROME GADGET.bin"
		.balign 2
MapUnc_CompetitionDESERTPALACE:
		.incbin "General/Competition Menu/Uncompressed Map/DESERT PALACE.bin"
		.balign 2
MapUnc_CompetitionENDLESSMINE:
		.incbin "General/Competition Menu/Uncompressed Map/ENDLESS MINE.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


KosArt_To_VDP:
		moveal	%a1,%a3
		jsr	(Kos_Decomp):l
		movel	%a3,%d1
		andil	#0xFFFFFF,%d1
		movel	%a1,%d3
		subl	%a3,%d3
		lsrl	#1,%d3
		movew	%a2,%d2
		moveal	%a1,%a3
		jsr	(Add_To_DMA_Queue):l
		moveal	%a3,%a1
		rts
/*  End of function KosArt_To_VDP */


/*  =============== S U B R O U T I N E ======================================= */


sub_B512:
		movel	#0x80008000,%d0
		movew	#0x7FF,%d1
		movel	#0x40000003,(VDP_control_port):l
		lea	(VDP_data_port):l,%a6

loc_B52C:
		movel	%d0,(%a6)
		dbf	%d1,loc_B52C
		rts
/*  End of function sub_B512 */


/*  =============== S U B R O U T I N E ======================================= */


sub_B534:
		moveq	#7,%d2
		lea	(VDP_data_port):l,%a6
		moveq	#0,%d1

loc_B53E:
		movew	%d0,%d3
		bsrs	sub_B550
		addiw	#0x80,%d0
		andiw	#0xDFFF,%d0
		dbf	%d2,loc_B53E
		rts
/*  End of function sub_B534 */


/*  =============== S U B R O U T I N E ======================================= */


sub_B550:
		swap	%d3
		clrw	%d3
		swap	%d3
		lsll	#2,%d3
		lsrw	#2,%d3
		oriw	#0x4000,%d3
		swap	%d3
		movel	%d3,VDP_control_port-VDP_data_port(%a6)
		movel	%d1,(%a6)
		movel	%d1,(%a6)
		movel	%d1,(%a6)
		movel	%d1,(%a6)
		movew	%d1,(%a6)
		rts
/*  End of function sub_B550 */


/*  =============== S U B R O U T I N E ======================================= */


Copy_Listed_Data_To_VRAM:
		movew	(%a0)+,%d7

loc_B572:
		moveal	(%a0)+,%a1
		movew	(%a0)+,%d0
		swap	%d0
		clrw	%d0
		swap	%d0
		lsll	#2,%d0
		lsrw	#2,%d0
		oriw	#0x4000,%d0
		swap	%d0
		movew	(%a0)+,%d1
		movew	(%a0)+,%d2
		jsr	(Plane_Map_To_VRAM):l
		dbf	%d7,loc_B572
		rts
/*  End of function Copy_Listed_Data_To_VRAM */


/*  =============== S U B R O U T I N E ======================================= */


sub_B596:
		lea	(Dynamic_object_RAM):w,%a0
		bsrs	sub_B5A0
		lea	(Dynamic_object_RAM+(object_size*5)).w,%a0
/*  End of function sub_B596 */


/*  =============== S U B R O U T I N E ======================================= */


sub_B5A0:
		lea	0x4A(%a0),%a1
		lea	0x4A(%a1),%a2
		bsrs	sub_B5D2
		bsrs	sub_B5D2
		movew	#0x80,8(%a0)
		movew	#0x100,8(%a1)
		movew	#0x180,8(%a2)
		bset	#7,0xA(%a0)
		bclr	#7,0xA(%a1)
		bclr	#7,0xA(%a2)
		rts
/*  End of function sub_B5A0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_B5D2:
		movew	0x14(%a0),%d0
		cmpw	0x14(%a1),%d0
		bgts	loc_B5DE
		exg	%a0,%a1

loc_B5DE:
		movew	0x14(%a1),%d0
		cmpw	0x14(%a2),%d0
		bgts	locret_B5EA
		exg	%a1,%a2

locret_B5EA:
		rts
/*  End of function sub_B5D2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_B5EC:
		movew	#1,(Competition_mode):w
		bras	loc_B5F8
/*  --------------------------------------------------------------------------- */

Set_Lives_and_Continues:
		clrw	(Competition_mode):w

loc_B5F8:
		moveb	#3,(Life_count):w
		moveb	#3,(Life_count_P2):w
		moveq	#0,%d0
		moveb	%d0,(Last_star_post_hit):w
		moveb	%d0,(Special_bonus_entry_flag):w
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		movel	%d0,(Score):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		movel	%d0,(Score_P2):w
		moveb	%d0,(Continue_count):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		rts
/*  End of function sub_B5EC */


/*  =============== S U B R O U T I N E ======================================= */


SRAM_Load:
		moveb	#1,(0xA130F1):l
		lea	(0x200011):l,%a0
		lea	(0x2000BD):l,%a1
		lea	(Competition_saved_data):w,%a2
		moveq	#0x29,%d0
		movew	#0x4C44,%d1
		jsr	Get_From_SRAM(%pc)
		beqs	loc_B674
		lea	SaveData_GeneralDefault(%pc),%a0
		lea	(Competition_saved_data):w,%a1
		moveq	#0x28,%d0

loc_B66A:
		movew	(%a0)+,(%a1)+
		dbf	%d0,loc_B66A
		jsr	Write_SaveGeneral(%pc)

loc_B674:
		lea	(0x200169):l,%a0
		lea	(0x2001F5):l,%a1
		lea	(Saved_data):w,%a2
		moveq	#0x19,%d0
		movew	#0x4244,%d1
		jsr	Get_From_SRAM(%pc)
		beqs	loc_B6A4
		lea	SaveData_GameDefault(%pc),%a0
		lea	(Saved_data):w,%a1
		moveq	#0x18,%d0

loc_B69A:
		movew	(%a0)+,(%a1)+
		dbf	%d0,loc_B69A
		jsr	Write_SaveGame(%pc)

loc_B6A4:
		clrw	(Dataselect_nosave_player):w
		moveb	#1,(Dataselect_entry):w
		rts
/*  End of function SRAM_Load */

/*  --------------------------------------------------------------------------- */
SaveData_GeneralDefault:
		.word  0x8000,     0, 0x8000,     0, 0x8000,     0,     1,  0x200
		.word  0x8000,     0, 0x8000,     0, 0x8000,     0,     1,  0x200
		.word  0x8000,     0, 0x8000,     0, 0x8000,     0,     1,  0x200
		.word  0x8000,     0, 0x8000,     0, 0x8000,     0,     1,  0x200
		.word  0x8000,     0, 0x8000,     0, 0x8000,     0,     1,  0x200
		.word  0x4C44
SaveData_GameDefault:
		.word  0x8000,     0,     0,     0, 0x8000,     0,     0,     0
		.word  0x8000,     0,     0,     0, 0x8000,     0,     0,     0
		.word  0x8000,     0,     0,     0, 0x8000,     0,     0,     0
		.word  0x4244

/*  =============== S U B R O U T I N E ======================================= */


Get_From_SRAM:
		moveal	%a2,%a3
		movew	%d0,%d2
		bsrs	Read_SRAM
		beqs	locret_B744
		moveal	%a1,%a0
		moveal	%a3,%a2
		movew	%d2,%d0
		bsrs	Read_SRAM

locret_B744:
		rts
/*  End of function Get_From_SRAM */


/*  =============== S U B R O U T I N E ======================================= */


Read_SRAM:
		moveal	%a2,%a6
		movew	%d0,%d6

loc_B74A:
		movepw	0(%a0),%d3
		movew	%d3,(%a2)+
		addqw	#4,%a0
		dbf	%d0,loc_B74A
		subqw	#1,%d6
		bsrs	Create_SRAMChecksum
		cmpw	(%a6),%d7
		bnes	locret_B762
		cmpw	-2(%a6),%d1

locret_B762:
		rts
/*  End of function Read_SRAM */


/*  =============== S U B R O U T I N E ======================================= */


Create_SRAMChecksum:
		moveq	#0,%d7

loc_B766:
		movew	(%a6)+,%d5
		eorw	%d5,%d7
		lsrw	#1,%d7
		bccs	loc_B772
		eoriw	#0x8810,%d7

loc_B772:
		dbf	%d6,loc_B766
		rts
/*  End of function Create_SRAMChecksum */


/*  =============== S U B R O U T I N E ======================================= */


Write_SRAM:
		moveal	%a2,%a6
		movew	%d0,%d6
		subqw	#1,%d6
		bsrs	Create_SRAMChecksum
		movew	%d7,(%a6)
		moveal	%a2,%a3
		movew	%d0,%d1

loc_B786:
		movew	(%a2)+,%d2
		movepw	%d2,0(%a0)
		addqw	#4,%a0
		dbf	%d0,loc_B786

loc_B792:
		movew	(%a3)+,%d2
		movepw	%d2,0(%a1)
		addqw	#4,%a1
		dbf	%d1,loc_B792
		rts
/*  End of function Write_SRAM */


/*  =============== S U B R O U T I N E ======================================= */


Write_SaveGeneral:
		movel	%a0,-(%sp)
		movew	%d7,-(%sp)
		lea	(0x200011):l,%a0
		lea	(0x2000BD):l,%a1
		lea	(Competition_saved_data):w,%a2
		moveq	#0x29,%d0
		bsrs	Write_SRAM
		movew	(%sp)+,%d7
		moveal	(%sp)+,%a0
		rts
/*  End of function Write_SaveGeneral */


/*  =============== S U B R O U T I N E ======================================= */


Write_SaveGame:
		movel	%a0,-(%sp)
		movew	%d7,-(%sp)
		lea	(0x200169):l,%a0
		lea	(0x2001F5):l,%a1
		lea	(Saved_data):w,%a2
		moveq	#0x19,%d0
		bsrs	Write_SRAM
		movew	(%sp)+,%d7
		moveal	(%sp)+,%a0
		rts
/*  End of function Write_SaveGame */


/*  =============== S U B R O U T I N E ======================================= */


SaveGame:
		tstb	(Apparent_act):w
		beqs	locret_B80E
		movel	(Save_pointer):w,%d0
		beqs	loc_B80A
		moveal	%d0,%a1
		cmpib	#6,3(%a1)
		bhis	loc_B80A
		moveq	#0,%d0
		moveb	(Apparent_zone):w,%d0
		moveb	SaveGame_NextLevel(%pc,%d0.w),3(%a1)
		clrb	7(%a1)
		clrb	1(%a1)
		jsr	Write_SaveGame(%pc)

loc_B80A:
		clrl	(Collected_%special_ring_array):w

locret_B80E:
		rts
/*  End of function SaveGame */

/*  --------------------------------------------------------------------------- */
SaveGame_NextLevel:.byte    1,   2,   3,   5,   5,   6,   7,   0

/*  =============== S U B R O U T I N E ======================================= */


SaveGame_SpecialStage:
		movel	(Save_pointer):w,%d0
		beqs	locret_B858
		moveal	%d0,%a1
		moveb	(Current_%special_stage):w,4(%a1)
		moveb	(Emerald_count+1):w,5(%a1)
		lea	(Collected_emeralds_array):w,%a2
		moveq	#0,%d0
		moveq	#6,%d1

loc_B834:
		tstb	(%a2)+
		beqs	loc_B83C
		oriw	#1,%d0

loc_B83C:
		lslb	#1,%d0
		dbf	%d1,loc_B834
		moveb	%d0,6(%a1)
		movel	(Collected_%special_ring_array):w,%d0
		moveb	%d0,7(%a1)
		lsrl	#8,%d0
		moveb	%d0,1(%a1)
		jmp	Write_SaveGame(%pc)
/*  --------------------------------------------------------------------------- */

locret_B858:
		rts
/*  End of function SaveGame_SpecialStage */

/*  --------------------------------------------------------------------------- */

locret_B85A:
		rts
/*  --------------------------------------------------------------------------- */

SaveScreen:
		jsr	(Pal_FadeToBlack):l
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#0xBF,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a5
		movew	#0x8F01,(%a5)
		movel	#0x940F93FF,(%a5)
		movew	#0x9780,(%a5)
		movel	#0x50000083,(%a5)
		movew	#0,(VDP_data_port):l

loc_B89C:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_B89C
		movew	#0x8F02,(%a5)
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8238,(%a6)
		movew	#0x8338,(%a6)
		movew	#0x8406,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8B00,(%a6)
		movew	#0x8C81,(%a6)
		movew	#0x9003,(%a6)
		movew	#0x9280,(%a6)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_B8DC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_B8DC
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_B8EC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_B8EC
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		clrw	(Level_frame_counter):w
		clrw	(Events_bg+0x10):w
		clrw	(Events_bg+0x12):w
		lea	(MapEni_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		movew	#1,%d0
		jsr	(Eni_Decomp):l
		lea	(RAM_start):l,%a1
		movel	#0x60000003,%d0
		moveq	#0x27,%d1
		moveq	#0x1B,%d2
		jsr	(Plane_Map_To_VRAM):l
		lea	(MapEni_SaveScreen_Layout):l,%a0
		lea	(RAM_start):l,%a1
		movew	#0x829F,%d0
		jsr	(Eni_Decomp):l
		lea	word_BD16(%pc),%a0
		jsr	sub_BAE0(%pc)
		movel	#0x6C400002,(VDP_control_port):l
		lea	(ArtNem_S22POptions):l,%a0
		jsr	(Nem_Decomp):l
		lea	byte_C7BE(%pc),%a1
		movew	#0xCD06,%d0
		jsr	sub_C794(%pc)
		movew	#0xCDB8,%d0
		jsr	sub_C794(%pc)
		lea	(ArtKos_S3MenuBG):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x20,%a2
		jsr	(KosArt_To_VDP):l
		movel	#locret_B85A,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(ArtKos_SaveScreenMisc):l,%a0
		lea	(RAM_start):l,%a1
		moveaw	#0x53E0,%a2
		jsr	KosArt_To_VDP(%pc)
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		lea	(Pal_SaveMenuBG):l,%a0
		lea	(Target_palette):w,%a1
		moveq	#7,%d0

loc_B9D4:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_B9D4
		lea	Pal_Save_Chars(%pc),%a0
		moveq	#0xF,%d0

loc_B9E0:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_B9E0
		lea	(Object_RAM):w,%a0
		lea	ObjDat_SaveScreen(%pc),%a1
		movew	(%a1)+,%d0

loc_B9F0:
		movel	(%a1)+,(%a0)
		movew	#0x829F,0xA(%a0)
		movel	#Map_SaveScreen,0xC(%a0)
		movew	(%a1),0x10(%a0)
		movew	(%a1)+,0x12(%a0)
		movew	(%a1)+,0x14(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2E(%a0)
		moveb	#0x40,4(%a0)
		lea	0x4A(%a0),%a0
		dbf	%d0,loc_B9F0
		jsr	(Init_SpriteTable):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		lea	(Normal_palette_line_4):w,%a0
		lea	(Target_palette_line_4):w,%a1
		moveq	#7,%d0

loc_BA3E:
		movel	(%a0),(%a1)+
		clrl	(%a0)+
		dbf	%d0,loc_BA3E
		lea	(ArtKos_SaveScreenS3Zone):l,%a0
		lea	(RAM_start):l,%a1
		jsr	(Kos_Decomp):l
		moveq	#mus_DataSelect,%d0
		jsr	(Play_Sound):l
		movel	#loc_BB0A,(_unkEF44_1):w
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Pal_FadeFromBlack):l

SaveScreen_MainLoop:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		movew	(Camera_X_pos_copy):w,%d0
		negw	%d0
		movew	%d0,(H_scroll_buffer+2):w
		jsr	(Render_Sprites):l
		lea	(Normal_palette_line_3+2):w,%a0
		moveq	#0xE,%d0
		btst	#0,(Level_frame_counter+1):w
		beqs	loc_BAC8
		lea	Pal_Save_Emeralds(%pc),%a1

loc_BAC0:
		movew	(%a1)+,(%a0)+
		dbf	%d0,loc_BAC0
		bras	loc_BAD0
/*  --------------------------------------------------------------------------- */

loc_BAC8:
		movew	#0xCCC,(%a0)+
		dbf	%d0,loc_BAC8

loc_BAD0:
		cmpib	#0x4C,(Game_mode):w
		beqs	SaveScreen_MainLoop
		moveq	#sfx_EnterSS,%d0
		jmp	(Play_Sound_2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_BAE0:
		movew	(%a0)+,%d7

loc_BAE2:
		moveal	(%a0)+,%a1
		movew	(%a0)+,%d0
		bsrs	sub_BAF8
		movew	(%a0)+,%d1
		movew	(%a0)+,%d2
		jsr	(Plane_Map_To_VRAM_2):l
		dbf	%d7,loc_BAE2
		rts
/*  End of function sub_BAE0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_BAF8:
		swap	%d0
		clrw	%d0
		swap	%d0
		lsll	#2,%d0
		lsrw	#2,%d0
		oriw	#0x4000,%d0
		swap	%d0
		rts
/*  End of function sub_BAF8 */

/*  --------------------------------------------------------------------------- */

loc_BB0A:
		movew	(Level_frame_counter):w,%d0
		andiw	#0xC,%d0
		lea	(MapPtrs_SaveScreenStatic):l,%a2
		moveal	(%a2,%d0.w),%a2
		lea	(Saved_data):w,%a0
		movew	#0xC31A,%d7
		moveq	#5,%d6

loc_BB26:
		lea	(MapUnc_SaveScreenNEW):l,%a1
		tstb	(%a0)
		bmis	loc_BB32
		moveal	%a2,%a1

loc_BB32:
		movew	%d7,%d0
		bsrs	sub_BAF8
		moveq	#9,%d1
		moveq	#6,%d2
		jsr	(Plane_Map_To_VRAM_2):l
		addiw	#0x1A,%d7
		addqw	#8,%a0
		dbf	%d6,loc_BB26
		lea	(Saved_data):w,%a0
		lea	(Dynamic_object_RAM+object_size):w,%a3
		movew	#-0x34E0,%d7
		moveq	#5,%d3

loc_BB58:
		movew	%d7,%d0
		subqw	#2,%d0
		jsr	sub_BAF8(%pc)
		movel	%d0,4(%a6)
		movew	#0x82B1,(%a6)
		lea	byte_C7CD(%pc),%a1
		tstb	(%a0)
		bmis	loc_BB98
		lea	byte_C7D9(%pc),%a1
		cmpiw	#6,0x36(%a3)
		bhis	loc_BB98
		lea	byte_C7D3(%pc),%a1
		movew	%d7,%d0
		subqw	#2,%d0
		jsr	sub_C794(%pc)
		movew	0x36(%a3),%d0
		moveb	byte_BBAE(%pc,%d0.w),%d0
		addiw	#0xA562,%d0
		movew	%d0,(%a6)
		bras	loc_BB9E
/*  --------------------------------------------------------------------------- */

loc_BB98:
		movew	%d7,%d0
		jsr	sub_C794(%pc)

loc_BB9E:
		addiw	#0x1A,%d7
		addqw	#8,%a0
		lea	0x4A(%a3),%a3
		dbf	%d3,loc_BB58
		rts
/*  --------------------------------------------------------------------------- */
byte_BBAE:	.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 5
		.byte 6
		.byte 0
Pal_Save_Chars:	.incbin "General/Save Menu/Palettes/Chars.bin"
		.balign 2
Pal_Save_Emeralds:
		.incbin "General/Save Menu/Palettes/Emeralds.bin"
		.balign 2
Pal_Save_FinishCard1:
		.incbin "General/Save Menu/Palettes/Finish Card 1.bin"
		.balign 2
Pal_Save_FinishCard2:
		.incbin "General/Save Menu/Palettes/Finish Card 2.bin"
		.balign 2
Pal_Save_ZoneCard1:
		.incbin "General/Save Menu/Palettes/Zone Card 1.bin"
		.balign 2
Pal_Save_ZoneCard2:
		.incbin "General/Save Menu/Palettes/Zone Card 2.bin"
		.balign 2
Pal_Save_ZoneCard3:
		.incbin "General/Save Menu/Palettes/Zone Card 3.bin"
		.balign 2
Pal_Save_ZoneCard4:
		.incbin "General/Save Menu/Palettes/Zone Card 4.bin"
		.balign 2
Pal_Save_ZoneCard8:
		.incbin "General/Save Menu/Palettes/Zone Card 8 S3.bin"
		.balign 2
Pal_Save_ZoneCard5:
		.incbin "General/Save Menu/Palettes/Zone Card 5.bin"
		.balign 2
Pal_Save_ZoneCard6:
		.incbin "General/Save Menu/Palettes/Zone Card 6.bin"
		.balign 2
word_BD16:	.word 7
		.long Chunk_table+0x222
		.word 0xC202
		.word 0xA
		.word 0xB
		.long Chunk_table
		.word 0xC218
		.word 0xC
		.word 0x14
		.long Chunk_table
		.word 0xC232
		.word 0xC
		.word 0x14
		.long Chunk_table
		.word 0xC24C
		.word 0xC
		.word 0x14
		.long Chunk_table
		.word 0xC266
		.word 0xC
		.word 0x14
		.long Chunk_table
		.word 0xC280
		.word 0xC
		.word 0x14
		.long Chunk_table
		.word 0xC29A
		.word 0xC
		.word 0x14
		.long Chunk_table+0x222
		.word 0xC2B4
		.word 0xA
		.word 0xB
Map_SaveScreen:	.include "General/Save Menu/Map - Save Screen General S3.S"
ObjDat_SaveScreen:.word 9
		.long Draw_Sprite
		.word 0x120
		.word 0x14C
		.byte 3
		.byte 0
		.long Obj_SaveScreen_Selector
		.word 0x120
		.word 0xE2
		.byte 1
		.byte 0
		.long Obj_SaveScreen_Delete_Save
		.word 0x378
		.word 0xE0
		.byte 0xD
		.byte 0
		.long Obj_SaveScreen_NoSave_Slot
		.word 0xB0
		.word 0xD0
		.byte 0
		.byte 0
		.long Obj_SaveScreen_Save_Slot
		.word 0x110
		.word 0x118
		.byte 0
		.byte 0
		.long Obj_SaveScreen_Save_Slot
		.word 0x178
		.word 0x118
		.byte 0
		.byte 1
		.long Obj_SaveScreen_Save_Slot
		.word 0x1E0
		.word 0x118
		.byte 0
		.byte 2
		.long Obj_SaveScreen_Save_Slot
		.word 0x248
		.word 0x118
		.byte 0
		.byte 3
		.long Obj_SaveScreen_Save_Slot
		.word 0x2B0
		.word 0x118
		.byte 0
		.byte 4
		.long Obj_SaveScreen_Save_Slot
		.word 0x318
		.word 0x118
		.byte 0
		.byte 5
/*  --------------------------------------------------------------------------- */

Obj_SaveScreen_Selector:
		movew	#0xA8,%d0
		moveq	#0,%d1
		moveq	#0,%d2
		moveb	(Dataselect_entry):w,%d2
		subqw	#1,%d2
		bcss	loc_C098

loc_C078:
		moveq	#0xC,%d4

loc_C07A:
		addqw	#8,%d0
		cmpiw	#0x120,%d0
		blss	loc_C090
		subqw	#8,%d0
		addqw	#8,%d1
		cmpiw	#0x1F0,%d1
		blss	loc_C090
		subqw	#8,%d1
		addqw	#8,%d0

loc_C090:
		dbf	%d4,loc_C07A
		dbf	%d2,loc_C078

loc_C098:
		movew	%d0,0x12(%a0)
		movew	%d1,(Camera_X_pos_copy):w
		negw	%d1
		movew	%d1,(H_scroll_buffer+2):w
		movel	#loc_C0AC,(%a0)

loc_C0AC:
		tstw	(Events_bg+0x12):w
		bnes	loc_C0C4
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_C0C4
		moveb	#4,(Game_mode):w
		braw	loc_C180
/*  --------------------------------------------------------------------------- */

loc_C0C4:
		tstw	(Events_bg+0x10):w
		bnew	loc_C180
		tstw	0x30(%a0)
		bnes	loc_C13C
		moveq	#0,%d0
		btst	#2,(Ctrl_1_pressed):w
		beqs	loc_C106
		tstw	(Events_bg+0x12):w
		beqs	loc_C0EA
		cmpib	#1,(Dataselect_entry):w
		beqs	loc_C106

loc_C0EA:
		tstb	(Dataselect_entry):w
		beqs	loc_C106
		subqb	#1,(Dataselect_entry):w
		moveq	#sfx_SlotMachine,%d0
		tstw	(Events_bg+0x12):w
		beqs	loc_C0FE
		moveq	#sfx_SmallBumpers,%d0

loc_C0FE:
		jsr	(Play_Sound_2):l
		moveq	#-8,%d0

loc_C106:
		btst	#3,(Ctrl_1_pressed):w
		beqs	loc_C12C
		cmpib	#7,(Dataselect_entry):w
		beqs	loc_C12C
		addqb	#1,(Dataselect_entry):w
		moveq	#sfx_SlotMachine,%d0
		tstw	(Events_bg+0x12):w
		beqs	loc_C124
		moveq	#sfx_SmallBumpers,%d0

loc_C124:
		jsr	(Play_Sound_2):l
		moveq	#8,%d0

loc_C12C:
		movew	%d0,0x2E(%a0)
		beqs	loc_C13A
		movew	#0xD,0x30(%a0)
		bras	loc_C13C
/*  --------------------------------------------------------------------------- */

loc_C13A:
		bras	loc_C180
/*  --------------------------------------------------------------------------- */

loc_C13C:
		movew	0x12(%a0),%d0
		movew	(Camera_X_pos_copy):w,%d1
		movew	0x2E(%a0),%d2
		bmis	loc_C162
		addw	%d2,%d0
		cmpiw	#0x120,%d0
		blss	loc_C174
		subw	%d2,%d0
		addw	%d2,%d1
		cmpiw	#0x1F0,%d1
		blss	loc_C174
		subw	%d2,%d1
		addw	%d2,%d0
		bras	loc_C174
/*  --------------------------------------------------------------------------- */

loc_C162:
		addw	%d2,%d0
		cmpiw	#0x120,%d0
		bccs	loc_C174
		subw	%d2,%d0
		addw	%d2,%d1
		bpls	loc_C174
		subw	%d2,%d1
		addw	%d2,%d0

loc_C174:
		movew	%d0,0x12(%a0)
		movew	%d1,(Camera_X_pos_copy):w
		subqw	#1,0x30(%a0)

loc_C180:
		moveq	#8,%d2
		moveb	(Dataselect_entry):w,%d1
		beqs	loc_C192
		negw	%d2
		cmpib	#7,%d1
		beqs	loc_C192
		moveq	#0,%d2

loc_C192:
		addw	0x12(%a0),%d2
		movew	%d2,0x10(%a0)
		moveq	#2,%d0
		cmpiw	#0xF0,%d2
		bcss	loc_C1AA
		cmpiw	#0x148,%d2
		bhis	loc_C1AA
		moveq	#1,%d0

loc_C1AA:
		moveb	%d0,0x22(%a0)
		btst	#2,(Level_frame_counter+1):w
		beqs	locret_C1BC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_C1BC:
		rts
/*  --------------------------------------------------------------------------- */

Obj_SaveScreen_NoSave_Slot:
		moveb	#0xF,0x1D(%a0)
		movew	(Dataselect_nosave_player):w,%d0
		addqw	#4,%d0
		moveb	%d0,0x22(%a0)
		tstb	(Dataselect_entry):w
		bnes	loc_C244
		movew	(Player_2+object_control):w,%d0
		orw	(Events_bg+0x12):w,%d0
		bnes	loc_C244
		moveb	(Ctrl_1_pressed):w,%d0
		andiw	#0xE0,%d0
		beqs	loc_C224
		moveb	#0xC,(Game_mode):w
		movew	(Dataselect_nosave_player):w,(Player_option):w
		clrw	(Current_zone_and_act):w
		clrw	(Apparent_zone_and_act):w
		clrw	(Current_%special_stage):w
		clrw	(Emerald_count):w
		clrl	(Collected_emeralds_array):w
		clrw	(Collected_emeralds_array+4):w
		clrb	(Collected_emeralds_array+6):w
		clrl	(Collected_%special_ring_array):w
		clrl	(Save_pointer):w
		jsr	(Set_Lives_and_Continues):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_C224:
		movew	(Dataselect_nosave_player):w,%d0
		jsr	sub_C4CC(%pc)
		movew	%d0,(Dataselect_nosave_player):w
		addqw	#4,%d0
		moveb	%d0,0x22(%a0)
		movew	#1,0x16(%a0)
		btst	#4,(Level_frame_counter+1):w
		bnes	loc_C248

loc_C244:
		clrw	0x16(%a0)

loc_C248:
		braw	Set_ChildSprites
/*  --------------------------------------------------------------------------- */

Obj_SaveScreen_Save_Slot:
		jsr	(Create_New_Sprite3):l
		bnes	loc_C25E
		movel	#Obj_SaveScreen_Emeralds,(%a1)
		movew	%a0,0x48(%a1)

loc_C25E:
		moveq	#0,%d0
		moveb	0x2E(%a0),%d0
		lslw	#3,%d0
		addil	#-0x1934,%d0
		movel	%d0,0x30(%a0)
		moveal	%d0,%a1
		moveb	2(%a1),0x35(%a0)
		moveb	3(%a1),0x37(%a0)
		movel	#loc_C284,(%a0)

loc_C284:
		clrw	0x16(%a0)
		moveal	0x30(%a0),%a1
		moveb	(Dataselect_entry):w,%d0
		subqb	#1,%d0
		cmpb	0x2E(%a0),%d0
		beqs	loc_C2B0
		moveb	3(%a1),0x37(%a0)
		clrw	0x38(%a0)

loc_C2A2:
		movew	0x34(%a0),%d0
		addqw	#4,%d0
		moveb	%d0,0x22(%a0)
		braw	Set_ChildSprites
/*  --------------------------------------------------------------------------- */

loc_C2B0:
		tstb	(%a1)
		bmiw	loc_C40A
		movew	0x36(%a0),%d1
		jsr	Load_Icon_Art(%pc)
		moveb	#0x17,0x23(%a0)
		cmpiw	#6,0x36(%a0)
		blss	loc_C2DC
		addqb	#1,0x23(%a0)
		cmpib	#7,5(%a1)
		bcss	loc_C2DC
		addqb	#1,0x23(%a0)

loc_C2DC:
		tstw	0x38(%a0)
		bnes	loc_C2EE
		cmpiw	#6,0x36(%a0)
		blss	loc_C360
		st	0x38(%a0)

loc_C2EE:
		tstw	(Player_2+object_control):w
		bnes	loc_C2A2
		tstw	(Events_bg+0x12):w
		beqs	loc_C306
		clrb	0x1D(%a0)
		movew	#2,0x16(%a0)
		bras	loc_C2A2
/*  --------------------------------------------------------------------------- */

loc_C306:
		moveq	#0,%d2
		movew	0x36(%a0),%d1
		moveb	(Ctrl_1_pressed):w,%d0
		btst	#1,%d0
		beqs	loc_C32A
		moveq	#sfx_Switch,%d2
		subqw	#1,%d1
		bpls	loc_C320
		moveq	#6,%d1
		bras	loc_C344
/*  --------------------------------------------------------------------------- */

loc_C320:
		cmpiw	#4,%d1
		bnes	loc_C344
		subqw	#1,%d1
		bras	loc_C344
/*  --------------------------------------------------------------------------- */

loc_C32A:
		btst	#0,%d0
		beqs	loc_C344
		moveq	#sfx_Switch,%d2
		addqw	#1,%d1
		cmpiw	#4,%d1
		bnes	loc_C33C
		addqw	#1,%d1

loc_C33C:
		cmpiw	#6,%d1
		blss	loc_C344
		moveq	#0,%d1

loc_C344:
		movew	%d1,0x36(%a0)
		movel	%d2,%d0
		jsr	(Play_Sound_2):l
		moveb	#0x1A,0x1D(%a0)
		btst	#4,(Level_frame_counter+1):w
		beqs	loc_C368
		bras	loc_C36C
/*  --------------------------------------------------------------------------- */

loc_C360:
		tstw	(Player_2+object_control):w
		bnew	loc_C2A2

loc_C368:
		clrb	0x1D(%a0)

loc_C36C:
		movew	#2,0x16(%a0)
		tstw	(Events_bg+0x12):w
		bnew	loc_C2A2
		moveb	(Ctrl_1_pressed):w,%d0
		andiw	#0xE0,%d0
		beqw	loc_C2A2
		moveb	#0xC,(Game_mode):w
		clrl	(Collected_%special_ring_array):w
		cmpib	#6,3(%a1)
		blss	loc_C3AE
		movew	0x36(%a0),%d0
		cmpib	#6,%d0
		blss	loc_C3BE
		movew	#0x601,%d0
		moveb	#0x20,(Game_mode):w
		bras	loc_C3C0
/*  --------------------------------------------------------------------------- */

loc_C3AE:
		moveb	1(%a1),(Collected_%special_ring_array+2):w
		moveb	7(%a1),(Collected_%special_ring_array+3):w
		moveb	3(%a1),%d0

loc_C3BE:
		lslw	#8,%d0

loc_C3C0:
		movew	%d0,(Current_zone_and_act):w
		movew	%d0,(Apparent_zone_and_act):w
		moveq	#0,%d0
		moveb	2(%a1),%d0
		movew	%d0,(Player_option):w
		moveb	4(%a1),(Current_%special_stage):w
		moveq	#0,%d0
		moveb	5(%a1),%d0
		movew	%d0,(Emerald_count):w
		moveb	6(%a1),%d0
		lea	(Collected_emeralds_array):w,%a3
		moveq	#6,%d1

loc_C3EC:
		moveq	#0,%d2
		lslb	#1,%d0
		bccs	loc_C3F4
		moveq	#1,%d2

loc_C3F4:
		moveb	%d2,(%a3)+
		dbf	%d1,loc_C3EC
		movel	%a1,(Save_pointer):w
		jsr	(Set_Lives_and_Continues):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_C40A:
		moveb	#0xF,0x1D(%a0)
		clrb	0x23(%a0)
		movew	(Player_2+object_control):w,%d0
		orw	(Events_bg+0x12):w,%d0
		bnew	loc_C2A2
		moveb	(Ctrl_1_pressed):w,%d0
		andiw	#0xE0,%d0
		beqs	loc_C476
		moveb	#0xC,(Game_mode):w
		clrl	(%a1)
		clrl	4(%a1)
		movew	0x34(%a0),%d0
		moveb	%d0,2(%a1)
		movew	%d0,(Player_option):w
		clrw	(Current_zone_and_act):w
		clrw	(Apparent_zone_and_act):w
		clrw	(Current_%special_stage):w
		clrw	(Emerald_count):w
		clrl	(Collected_emeralds_array):w
		clrw	(Collected_emeralds_array+4):w
		clrb	(Collected_emeralds_array+6):w
		clrl	(Collected_%special_ring_array):w
		movel	%a1,(Save_pointer):w
		jsr	(Set_Lives_and_Continues):l
		jsr	Write_SaveGame(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_C476:
		movew	0x34(%a0),%d0
		jsr	sub_C4CC(%pc)
		movew	%d0,0x34(%a0)
		addqw	#4,%d0
		moveb	%d0,0x22(%a0)
		movew	#1,0x16(%a0)
		btst	#4,(Level_frame_counter+1):w
		bnes	Set_ChildSprites
		clrw	0x16(%a0)

Set_ChildSprites:
		movew	0x12(%a0),%d0
		subw	(Camera_X_pos_copy):w,%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a0),%d1
		movew	%d0,0x18(%a0)
		movew	%d1,0x1A(%a0)
		movew	%d0,0x1E(%a0)
		movew	%d1,0x20(%a0)
		cmpib	#0x1A,0x1D(%a0)
		bnes	loc_C4C6
		subqw	#8,0x1A(%a0)

loc_C4C6:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_C4CC:
		moveq	#0,%d2
		tstw	(Player_2+objoff_30):w
		bnes	loc_C4F6
		moveb	(Ctrl_1_pressed):w,%d1
		lsrw	#1,%d1
		bccs	loc_C4EA
		moveq	#sfx_Switch,%d2
		addqw	#1,%d0
		cmpiw	#2,%d0
		blss	loc_C4F6
		moveq	#0,%d0
		bras	loc_C4F6
/*  --------------------------------------------------------------------------- */

loc_C4EA:
		lsrw	#1,%d1
		bccs	loc_C4F6
		moveq	#sfx_Switch,%d2
		subqw	#1,%d0
		bpls	loc_C4F6
		moveq	#2,%d0

loc_C4F6:
		tstw	%d2
		beqs	locret_C506
		movel	%d0,-(%sp)
		movel	%d2,%d0
		jsr	(Play_Sound_2):l
		movel	(%sp)+,%d0

locret_C506:
		rts
/*  End of function sub_C4CC */

/*  --------------------------------------------------------------------------- */

Obj_SaveScreen_Emeralds:
		moveb	#0x40,4(%a0)
		movew	#0x829F,0xA(%a0)
		movel	#Map_SaveScreen,0xC(%a0)
		moveb	#0x40,7(%a0)
		movew	#7,0x16(%a0)
		moveaw	0x48(%a0),%a1
		moveal	0x30(%a1),%a2
		moveb	6(%a2),%d4
		movew	0x10(%a1),%d0
		movew	0x14(%a1),%d1
		movew	%d0,0x10(%a0)
		movew	%d1,0x14(%a0)
		lea	0x18(%a0),%a1
		moveq	#0x10,%d2
		moveq	#6,%d3

loc_C54C:
		clrb	5(%a1)
		lslb	#1,%d4
		bccs	loc_C55E
		movew	%d0,(%a1)
		movew	%d1,2(%a1)
		moveb	%d2,5(%a1)

loc_C55E:
		addqw	#1,%d2
		addqw	#6,%a1
		dbf	%d3,loc_C54C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_SaveScreen_Delete_Save:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		jmp	loc_C576(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_C576:
		braw	loc_C58E
/*  --------------------------------------------------------------------------- */
		braw	loc_C5AA
/*  --------------------------------------------------------------------------- */
		braw	loc_C5D4
/*  --------------------------------------------------------------------------- */
		braw	loc_C66C
/*  --------------------------------------------------------------------------- */
		braw	loc_C68C
/*  --------------------------------------------------------------------------- */
		braw	loc_C6AC
/*  --------------------------------------------------------------------------- */

loc_C58E:
		moveb	#0x40,4(%a0)
		moveb	#0x30,7(%a0)
		movew	#1,0x16(%a0)
		moveb	#8,0x1D(%a0)
		addqb	#4,5(%a0)

loc_C5AA:
		cmpib	#7,(Dataselect_entry):w
		bnew	loc_C688
		moveb	(Ctrl_1_pressed):w,%d0
		andiw	#0xE0,%d0
		beqw	loc_C688
		moveq	#sfx_Starpost,%d0
		jsr	(Play_Sound_2):l
		st	(Events_bg+0x12):w
		addqb	#4,5(%a0)
		braw	loc_C688
/*  --------------------------------------------------------------------------- */

loc_C5D4:
		jsr	sub_C6EE(%pc)
		jsr	sub_C726(%pc)
		tstw	(Player_2+object_control):w
		bnes	loc_C624
		moveb	(Ctrl_1_pressed):w,%d0
		btst	#4,%d0
		bnes	loc_C63C
		andiw	#0xE0,%d0
		beqs	loc_C624
		cmpib	#7,(Dataselect_entry):w
		beqs	loc_C63C
		moveq	#0,%d0
		moveb	(Dataselect_entry):w,%d0
		subqw	#1,%d0
		lslw	#3,%d0
		addil	#-0x1934,%d0
		movel	%d0,0x2E(%a0)
		moveal	%d0,%a1
		tstb	(%a1)
		bmis	loc_C63C
		moveq	#sfx_Starpost,%d0
		jsr	(Play_Sound_2):l
		st	(Events_bg+0x10):w
		addqb	#8,5(%a0)

loc_C624:
		movew	(Player_2+x_pos):w,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x18(%a0)
		movew	0x14(%a0),0x1A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_C63C:
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		clrb	0x25(%a0)
		clrb	0x28(%a0)
		moveb	#0xD,0x22(%a0)
		moveb	#8,0x1D(%a0)
		movew	(Player_2+x_pos):w,%d0
		addw	(Camera_X_pos_copy):w,%d0
		movew	%d0,0x12(%a0)
		addqb	#4,5(%a0)
		braw	Set_ChildSprites
/*  --------------------------------------------------------------------------- */

loc_C66C:
		clrw	(Events_bg+0x12):w
		movew	0x12(%a0),%d0
		cmpiw	#0x378,%d0
		bcss	loc_C682
		moveb	#4,5(%a0)
		bras	loc_C688
/*  --------------------------------------------------------------------------- */

loc_C682:
		addqw	#8,%d0
		movew	%d0,0x12(%a0)

loc_C688:
		braw	Set_ChildSprites
/*  --------------------------------------------------------------------------- */

loc_C68C:
		jsr	sub_C6EE(%pc)
		jsr	sub_C726(%pc)
		cmpib	#0xB,0x1D(%a0)
		bnes	loc_C6A6
		moveb	#0xC,0x1D(%a0)
		addqb	#4,5(%a0)

loc_C6A6:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_C6AC:
		jsr	sub_C6EE(%pc)
		btst	#3,(Ctrl_1_pressed):w
		bnes	loc_C6DA
		btst	#2,(Ctrl_1_pressed):w
		beqs	loc_C6E8
		moveq	#sfx_Perfect,%d0
		jsr	(Play_Sound_2):l
		moveal	0x2E(%a0),%a1
		clrl	(%a1)
		clrl	4(%a1)
		bset	#7,(%a1)
		jsr	Write_SaveGame(%pc)

loc_C6DA:
		moveb	#8,5(%a0)
		clrw	(Events_bg+0x10):w
		braw	loc_C63C
/*  --------------------------------------------------------------------------- */

loc_C6E8:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_C6EE:
		subqb	#1,0x24(%a0)
		bpls	locret_C714
		moveb	#5,0x24(%a0)

loc_C6FA:
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqb	#1,0x23(%a0)
		moveb	byte_C716(%pc,%d0.w),%d0
		bpls	loc_C710
		clrb	0x23(%a0)
		bras	loc_C6FA
/*  --------------------------------------------------------------------------- */

loc_C710:
		moveb	%d0,0x22(%a0)

locret_C714:
		rts
/*  End of function sub_C6EE */

/*  --------------------------------------------------------------------------- */
byte_C716:	.byte   0xD,  0xE,  0xD,  0xE,  0xD,  0xE,  0xD,  0xE,  0xD,  0xE,  0xD,  0xD,  0xD,  0xD, 0xFF,   0

/*  =============== S U B R O U T I N E ======================================= */


sub_C726:
		subqb	#1,0x25(%a0)
		bpls	locret_C744
		moveb	#3,0x25(%a0)
		addqb	#1,0x28(%a0)
		moveb	0x28(%a0),%d0
		andib	#3,%d0
		addqb	#8,%d0
		moveb	%d0,0x1D(%a0)

locret_C744:
		rts
/*  End of function sub_C726 */


/*  =============== S U B R O U T I N E ======================================= */


Load_Icon_Art:
		cmpib	#6,%d1
		bhis	loc_C772
		movel	%a1,-(%sp)
		movew	%d1,-(%sp)
		muluw	#0x8C0,%d1
		addil	#-0x10000,%d1
		movew	#-0x48C0,%d2
		movew	#0x460,%d3
		jsr	(Add_To_DMA_Queue):l
		movew	(%sp)+,%d0
		moveal	(%sp)+,%a1
		lea	Pal_Save_ZoneCard1(%pc),%a2
		bras	loc_C782
/*  --------------------------------------------------------------------------- */

loc_C772:
		lea	Pal_Save_FinishCard1(%pc),%a2
		moveq	#0,%d0
		cmpib	#7,5(%a1)
		bcss	loc_C782
		moveq	#1,%d0

loc_C782:
		lslw	#5,%d0
		addaw	%d0,%a2
		lea	(Normal_palette_line_4):w,%a3
		moveq	#7,%d0

loc_C78C:
		movel	(%a2)+,(%a3)+
		dbf	%d0,loc_C78C
		rts
/*  End of function Load_Icon_Art */


/*  =============== S U B R O U T I N E ======================================= */


sub_C794:
		lea	(VDP_data_port):l,%a6
		jsr	sub_BAF8(%pc)
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		movew	#0xA552,%d5
		moveq	#0,%d6

loc_C7A8:
		moveb	(%a1)+,%d6
		bnes	loc_C7B2
		movew	#0x8000,(%a6)
		bras	loc_C7A8
/*  --------------------------------------------------------------------------- */

loc_C7B2:
		bmis	locret_C7BC
		movew	%d5,%d4
		addw	%d6,%d4
		movew	%d4,(%a6)
		bras	loc_C7A8
/*  --------------------------------------------------------------------------- */

locret_C7BC:
		rts
/*  End of function sub_C794 */

/*  --------------------------------------------------------------------------- */
byte_C7BE:	.byte  0x2B, 0x2C,   0, 0x30, 0x1E, 0x33, 0x22, 0xFF, 0x21, 0x22, 0x29, 0x22, 0x31, 0x22, 0xFF
byte_C7CD:	.byte    0,   0,   0,   0,   0, 0xFF
byte_C7D3:	.byte  0x37, 0x2C, 0x2B, 0x22,   0, 0xFF
byte_C7D9:	.byte  0x20, 0x29, 0x22, 0x1E, 0x2F, 0xFF,   0
ArtKos_SaveScreenS3Zone:
		.incbin "General/Save Menu/Kosinski Art/Zone Art.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


sub_E8C0:
		tstw	(Debug_mode_flag):w
		bnes	sub_E8C8
		rts
/*  End of function sub_E8C0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_E8C8:
		cmpib	#0x13,(Current_zone):w
		bcss	loc_E8E4
		moveq	#8,%d4
		btst	#3,(Level_frame_counter+1):w
		bnes	loc_E900
		tstw	(Ring_count):w
		bnes	loc_E900
		addqw	#2,%d4
		bras	loc_E900
/*  --------------------------------------------------------------------------- */

loc_E8E4:
		moveq	#0,%d4
		btst	#3,(Level_frame_counter+1):w
		bnes	loc_E900
		tstw	(Ring_count):w
		bnes	loc_E8F6
		addqw	#2,%d4

loc_E8F6:
		cmpib	#9,(Timer_minute):w
		bnes	loc_E900
		addqw	#4,%d4

loc_E900:
		moveb	(Level_started_flag):w,%d0
		extw	%d0
		bpls	loc_E90E
		addqw	#8,%d0
		moveb	%d0,(Level_started_flag):w

loc_E90E:
		addiw	#0x8F,%d0
		movew	#0x108,%d1
		movew	#make_art_tile(ArtTile_Ring+0xE,0,1),%d5
		lea	Map_HUD(%pc),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	locret_E92E
		jmp	(sub_195CE):l
/*  --------------------------------------------------------------------------- */

locret_E92E:
		rts
/*  End of function sub_E8C8 */


/*  =============== S U B R O U T I N E ======================================= */


nullsub_2:
		rts
/*  End of function nullsub_2 */

/*  --------------------------------------------------------------------------- */
Map_HUD:	.include "General/Sprites/HUD Icon/Map - HUD.S"

/*  =============== S U B R O U T I N E ======================================= */


HUD_AddToScore:
		moveb	#1,(Update_HUD_score):w
		lea	(Score):w,%a3
		addl	%d0,(%a3)
		movel	#0xF423F,%d1
		cmpl	(%a3),%d1
		bhis	loc_EA5E
		movel	%d1,(%a3)

loc_EA5E:
		movel	(%a3),%d0
		cmpl	(Next_extra_life_score):w,%d0
		bcss	locret_EA80
		addil	#5000,(Next_extra_life_score):w
		addqb	#1,(Life_count):w
		addqb	#1,(Update_HUD_life_count):w
		movew	#mus_ExtraLife,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

locret_EA80:
		rts
/*  End of function HUD_AddToScore */


/*  =============== S U B R O U T I N E ======================================= */


UpdateHUD:
		nop
		lea	(VDP_data_port):l,%a6
		tstw	(Competition_mode):w
		bnew	loc_EBF2
		tstw	(Debug_mode_flag):w
		bnew	loc_EB68
		tstb	(Update_HUD_score):w
		beqs	loc_EAB2
		clrb	(Update_HUD_score):w
		movel	#0x5C800003,%d0
		movel	(Score):w,%d1
		bsrw	DrawSixDigitNumber

loc_EAB2:
		tstb	(Update_HUD_ring_count):w
		beqs	loc_EAD2
		bpls	loc_EABE
		bsrw	HUD_DrawZeroRings

loc_EABE:
		clrb	(Update_HUD_ring_count):w
		movel	#0x5F400003,%d0
		moveq	#0,%d1
		movew	(Ring_count):w,%d1
		bsrw	DrawThreeDigitNumber

loc_EAD2:
		tstb	(Update_HUD_timer):w
		bpls	loc_EAE0
		moveb	#1,(Update_HUD_timer):w
		bras	loc_EB1A
/*  --------------------------------------------------------------------------- */

loc_EAE0:
		beqs	loc_EB3A
		tstw	(Game_paused):w
		bnes	loc_EB3A
		lea	(Timer):w,%a1
		cmpil	#0x93B3B,(%a1)+
		beqw	UpdateHUD_TimeOver
		addqb	#1,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	loc_EB3A
		moveb	#0,(%a1)
		addqb	#1,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	loc_EB1A
		moveb	#0,(%a1)
		addqb	#1,-(%a1)
		cmpib	#9,(%a1)
		bcss	loc_EB1A
		moveb	#9,(%a1)

loc_EB1A:
		movel	#0x5E400003,%d0
		moveq	#0,%d1
		moveb	(Timer_minute):w,%d1
		bsrw	DrawSingleDigitNumber
		movel	#0x5EC00003,%d0
		moveq	#0,%d1
		moveb	(Timer_second):w,%d1
		bsrw	DrawTwoDigitNumber

loc_EB3A:
		tstb	(Update_HUD_life_count):w
		beqs	locret_EB48
		clrb	(Update_HUD_life_count):w
		bsrw	HUD_Lives

locret_EB48:
		rts
/*  --------------------------------------------------------------------------- */

UpdateHUD_TimeOver:
		clrb	(Update_HUD_timer):w
		lea	(Player_1):w,%a0
		cmpib	#6,5(%a0)
		bccs	loc_EB60
		moveal	%a0,%a2
		bsrw	Kill_Character

loc_EB60:
		moveb	#1,(Time_over_flag):w
		rts
/*  --------------------------------------------------------------------------- */

loc_EB68:
		bsrw	HUD_Debug
		tstb	(Update_HUD_ring_count):w
		beqs	loc_EB8C
		bpls	loc_EB78
		bsrw	HUD_DrawZeroRings

loc_EB78:
		clrb	(Update_HUD_ring_count):w
		movel	#0x5F400003,%d0
		moveq	#0,%d1
		movew	(Ring_count):w,%d1
		bsrw	DrawThreeDigitNumber

loc_EB8C:
		movel	#0x5E400003,%d0
		moveq	#0,%d1
		movew	(Lag_frame_count):w,%d1
		bsrw	DrawSingleDigitNumber
		movel	#0x5EC00003,%d0
		moveq	#0,%d1
		moveb	(Sprites_drawn):w,%d1
		bsrw	DrawTwoDigitNumber
		tstb	(Update_HUD_life_count):w
		beqs	loc_EBBA
		clrb	(Update_HUD_life_count):w
		bsrw	HUD_Lives

loc_EBBA:
		tstw	(Game_paused):w
		bnes	locret_EBF0
		lea	(Timer):w,%a1
		cmpil	#0x93B3B,(%a1)+
		nop
		addqb	#1,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	locret_EBF0
		moveb	#0,(%a1)
		addqb	#1,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	locret_EBF0
		moveb	#0,(%a1)
		addqb	#1,-(%a1)
		cmpib	#9,(%a1)
		bcss	locret_EBF0
		moveb	#9,(%a1)

locret_EBF0:
		rts
/*  --------------------------------------------------------------------------- */

loc_EBF2:
		tstw	(Debug_mode_flag):w
		bnew	HUD_Debug
		rts
/*  End of function UpdateHUD */


/*  =============== S U B R O U T I N E ======================================= */


HUD_DrawZeroRings:
		movel	#0x5F400003,(VDP_control_port):l
		lea	HUD_Zero_Rings(%pc),%a2
		movew	#2,%d2
		bras	loc_EC32
/*  End of function HUD_DrawZeroRings */


/*  =============== S U B R O U T I N E ======================================= */


HUD_DrawInitial:
		lea	(VDP_data_port):l,%a6
		bsrw	HUD_Lives
		tstw	(Competition_mode):w
		bnes	locret_EC5E
		movel	#0x5C400003,(VDP_control_port):l
		lea	HUD_Initial_Parts(%pc),%a2
		movew	#0xE,%d2

loc_EC32:
		lea	ArtUnc_HUDDigits(%pc),%a1

loc_EC36:
		movew	#0xF,%d1
		moveb	(%a2)+,%d0
		bmis	loc_EC52
		extw	%d0
		lslw	#5,%d0
		lea	(%a1,%d0.w),%a3

loc_EC46:
		movel	(%a3)+,(%a6)
		dbf	%d1,loc_EC46

loc_EC4C:
		dbf	%d2,loc_EC36
		rts
/*  --------------------------------------------------------------------------- */

loc_EC52:
		movel	#0,(%a6)
		dbf	%d1,loc_EC52
		bras	loc_EC4C
/*  --------------------------------------------------------------------------- */

locret_EC5E:
		rts
/*  End of function HUD_DrawInitial */

/*  --------------------------------------------------------------------------- */
HUD_Initial_Parts:
		.byte  0x16, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,   0
		.byte    0, 0x14,   0,   0
HUD_Zero_Rings:	.byte  0xFF, 0xFF,   0,   0

/*  =============== S U B R O U T I N E ======================================= */


HUD_Debug:
		movel	#0x5C400003,(VDP_control_port):l
		movew	(Camera_X_pos):w,%d1
		swap	%d1
		movew	(Player_1+x_pos):w,%d1
		bsrs	sub_EC90
		movew	(Camera_Y_pos):w,%d1
		swap	%d1
		movew	(Player_1+y_pos):w,%d1
/*  End of function HUD_Debug */


/*  =============== S U B R O U T I N E ======================================= */


sub_EC90:
		moveq	#7,%d6
		lea	(ArtUnc_DebugDigits):l,%a1

loc_EC98:
		rolw	#4,%d1
		movew	%d1,%d2
		andiw	#0xF,%d2
		cmpiw	#0xA,%d2
		bcss	loc_ECAA
		addiw	#7,%d2

loc_ECAA:
		lslw	#5,%d2
		lea	(%a1,%d2.w),%a3
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		swap	%d1
		dbf	%d6,loc_EC98
		rts
/*  End of function sub_EC90 */


/*  =============== S U B R O U T I N E ======================================= */


DrawThreeDigitNumber:
		lea	(dword_ED94):l,%a2
		moveq	#2,%d6
		bras	loc_ECDA
/*  End of function DrawThreeDigitNumber */


/*  =============== S U B R O U T I N E ======================================= */


DrawSixDigitNumber:
		lea	(dword_ED88):l,%a2
		moveq	#5,%d6

loc_ECDA:
		moveq	#0,%d4
		lea	ArtUnc_HUDDigits(%pc),%a1

loc_ECE0:
		moveq	#0,%d2
		movel	(%a2)+,%d3

loc_ECE4:
		subl	%d3,%d1
		bcss	loc_ECEC
		addqw	#1,%d2
		bras	loc_ECE4
/*  --------------------------------------------------------------------------- */

loc_ECEC:
		addl	%d3,%d1
		tstw	%d2
		beqs	loc_ECF6
		movew	#1,%d4

loc_ECF6:
		tstw	%d4
		beqs	loc_ED24
		lslw	#6,%d2
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		lea	(%a1,%d2.w),%a3
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)

loc_ED24:
		addil	#0x400000,%d0
		dbf	%d6,loc_ECE0
		rts
/*  End of function DrawSixDigitNumber */

/*  --------------------------------------------------------------------------- */
		movel	#0x5F800003,(VDP_control_port):l
		lea	(VDP_data_port):l,%a6
		lea	(dword_ED98):l,%a2
		moveq	#1,%d6
		moveq	#0,%d4
		lea	ArtUnc_HUDDigits(%pc),%a1

loc_ED4E:
		moveq	#0,%d2
		movel	(%a2)+,%d3

loc_ED52:
		subl	%d3,%d1
		bcss	loc_ED5A
		addqw	#1,%d2
		bras	loc_ED52
/*  --------------------------------------------------------------------------- */

loc_ED5A:
		addl	%d3,%d1
		lslw	#6,%d2
		lea	(%a1,%d2.w),%a3
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		dbf	%d6,loc_ED4E
		rts
/*  --------------------------------------------------------------------------- */
dword_ED88:	.long 100000
		.long 10000
dword_ED90:	.long 1000
dword_ED94:	.long 100
dword_ED98:	.long 10
dword_ED9C:	.long 1

/*  =============== S U B R O U T I N E ======================================= */


DrawSingleDigitNumber:
		lea	(dword_ED9C):l,%a2
		moveq	#0,%d6
		bras	loc_EDB2
/*  End of function DrawSingleDigitNumber */


/*  =============== S U B R O U T I N E ======================================= */


DrawTwoDigitNumber:
		lea	(dword_ED98):l,%a2
		moveq	#1,%d6

loc_EDB2:
		moveq	#0,%d4
		lea	ArtUnc_HUDDigits(%pc),%a1

loc_EDB8:
		moveq	#0,%d2
		movel	(%a2)+,%d3

loc_EDBC:
		subl	%d3,%d1
		bcss	loc_EDC4
		addqw	#1,%d2
		bras	loc_EDBC
/*  --------------------------------------------------------------------------- */

loc_EDC4:
		addl	%d3,%d1
		tstw	%d2
		beqs	loc_EDCE
		movew	#1,%d4

loc_EDCE:
		lslw	#6,%d2
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		lea	(%a1,%d2.w),%a3
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		addil	#0x400000,%d0
		dbf	%d6,loc_EDB8
		rts
/*  End of function DrawTwoDigitNumber */

/*  --------------------------------------------------------------------------- */
		lea	(dword_ED90):l,%a2
		moveq	#3,%d6
		moveq	#0,%d4
		lea	ArtUnc_HUDDigits(%pc),%a1

loc_EE12:
		moveq	#0,%d2
		movel	(%a2)+,%d3

loc_EE16:
		subl	%d3,%d1
		bcss	loc_EE1E
		addqw	#1,%d2
		bras	loc_EE16
/*  --------------------------------------------------------------------------- */

loc_EE1E:
		addl	%d3,%d1
		tstw	%d2
		beqs	loc_EE28
		movew	#1,%d4

loc_EE28:
		tstw	%d4
		beqs	loc_EE58
		lslw	#6,%d2
		lea	(%a1,%d2.w),%a3
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)

loc_EE52:
		dbf	%d6,loc_EE12
		rts
/*  --------------------------------------------------------------------------- */

loc_EE58:
		moveq	#0xF,%d5

loc_EE5A:
		movel	#0,(%a6)
		dbf	%d5,loc_EE5A
		bras	loc_EE52

/*  =============== S U B R O U T I N E ======================================= */


HUD_Lives:
		movel	#0x7BA00003,%d0
		moveq	#0,%d1
		moveb	(Life_count):w,%d1
		lea	(dword_ED98):l,%a2
		moveq	#1,%d6
		moveq	#0,%d4
		lea	ArtUnc_LivesDigits(%pc),%a1

loc_EE80:
		movel	%d0,VDP_control_port-VDP_data_port(%a6)
		moveq	#0,%d2
		movel	(%a2)+,%d3

loc_EE88:
		subl	%d3,%d1
		bcss	loc_EE90
		addqw	#1,%d2
		bras	loc_EE88
/*  --------------------------------------------------------------------------- */

loc_EE90:
		addl	%d3,%d1
		tstw	%d2
		beqs	loc_EE9A
		movew	#1,%d4

loc_EE9A:
		tstw	%d4
		beqs	loc_EEC0

loc_EE9E:
		lslw	#5,%d2
		lea	(%a1,%d2.w),%a3
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)
		movel	(%a3)+,(%a6)

loc_EEB4:
		addil	#0x400000,%d0
		dbf	%d6,loc_EE80
		rts
/*  --------------------------------------------------------------------------- */

loc_EEC0:
		tstw	%d6
		beqs	loc_EE9E
		moveq	#7,%d5

loc_EEC6:
		movel	#0,(%a6)
		dbf	%d5,loc_EEC6
		bras	loc_EEB4
/*  End of function HUD_Lives */

/*  --------------------------------------------------------------------------- */
ArtUnc_HUDDigits:
		.incbin "General/Sprites/HUD Icon/HUD Digits.bin"
		.balign 2
ArtUnc_LivesDigits:
		.incbin "General/Sprites/HUD Icon/Lives Digits.bin"
		.balign 2
ArtUnc_DebugDigits:
		.incbin "General/Sprites/HUD Icon/Debug Digits.bin"
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


Load_Rings:
		moveq	#0,%d0
		moveb	(Rings_manager_routine):w,%d0
		movew	off_F600(%pc,%d0.w),%d0
		jmp	off_F600(%pc,%d0.w)
/*  End of function Load_Rings */

/*  --------------------------------------------------------------------------- */
off_F600:	.word loc_F604-off_F600
		.word loc_F642-off_F600
/*  --------------------------------------------------------------------------- */

loc_F604:
		addqb	#2,(Rings_manager_routine):w
		bsrw	sub_F7C0
		moveal	(Ring_start_addr_ROM):w,%a1
		lea	(Ring_status_table):w,%a2
		movew	(Camera_X_pos):w,%d4
		subqw	#8,%d4
		bhis	loc_F624
		moveq	#1,%d4
		bras	loc_F624
/*  --------------------------------------------------------------------------- */

loc_F620:
		addqw	#4,%a1
		addqw	#2,%a2

loc_F624:
		cmpw	(%a1),%d4
		bhis	loc_F620
		movel	%a1,(Ring_start_addr_ROM):w
		movew	%a2,(Ring_start_addr_RAM):w
		addiw	#0x150,%d4
		bras	loc_F638
/*  --------------------------------------------------------------------------- */

loc_F636:
		addqw	#4,%a1

loc_F638:
		cmpw	(%a1),%d4
		bhis	loc_F636
		movel	%a1,(Ring_end_addr_ROM):w
		rts
/*  --------------------------------------------------------------------------- */

loc_F642:
		lea	(Ring_consumption_table):w,%a2
		movew	(%a2)+,%d1
		subqw	#1,%d1
		bcss	loc_F676

loc_F64C:
		movew	(%a2)+,%d0
		beqs	loc_F64C
		moveaw	%d0,%a1
		subqb	#1,(%a1)
		bnes	loc_F672
		moveb	#6,(%a1)
		addqb	#1,1(%a1)
		cmpib	#8,1(%a1)
		bnes	loc_F672
		movew	#-1,(%a1)
		clrw	-2(%a2)
		subqw	#1,(Ring_consumption_table):w

loc_F672:
		dbf	%d1,loc_F64C

loc_F676:
		moveal	(Ring_start_addr_ROM):w,%a1
		moveaw	(Ring_start_addr_RAM):w,%a2
		movew	(Camera_X_pos):w,%d4
		subqw	#8,%d4
		bhis	loc_F68E
		moveq	#1,%d4
		bras	loc_F68E
/*  --------------------------------------------------------------------------- */

loc_F68A:
		addqw	#4,%a1
		addqw	#2,%a2

loc_F68E:
		cmpw	(%a1),%d4
		bhis	loc_F68A
		bras	loc_F698
/*  --------------------------------------------------------------------------- */

loc_F694:
		subqw	#4,%a1
		subqw	#2,%a2

loc_F698:
		cmpw	-4(%a1),%d4
		blss	loc_F694
		movel	%a1,(Ring_start_addr_ROM):w
		movew	%a2,(Ring_start_addr_RAM):w
		moveal	(Ring_end_addr_ROM):w,%a2
		addiw	#0x150,%d4
		bras	loc_F6B2
/*  --------------------------------------------------------------------------- */

loc_F6B0:
		addqw	#4,%a2

loc_F6B2:
		cmpw	(%a2),%d4
		bhis	loc_F6B0
		bras	loc_F6BA
/*  --------------------------------------------------------------------------- */

loc_F6B8:
		subqw	#4,%a2

loc_F6BA:
		cmpw	-4(%a2),%d4
		blss	loc_F6B8
		movel	%a2,(Ring_end_addr_ROM):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


Test_Ring_Collisions:
		cmpib	#0x5A,0x34(%a0)
		bccw	locret_F78A
		moveal	(Ring_start_addr_ROM):w,%a1
		moveal	(Ring_end_addr_ROM):w,%a2
		cmpal	%a1,%a2
		beqw	locret_F78A
		moveaw	(Ring_start_addr_RAM):w,%a4
		btst	#5,0x2B(%a0)
		beqs	Test_Ring_Collisions_NoAttraction
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x40,%d2
		subiw	#0x40,%d3
		movew	#6,%d1
		movew	#0xC,%d6
		movew	#0x80,%d4
		movew	#0x80,%d5
		bras	Test_Ring_Collisions_NextRing
/*  --------------------------------------------------------------------------- */

Test_Ring_Collisions_NoAttraction:
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#8,%d2
		moveq	#0,%d5
		moveb	0x1E(%a0),%d5
		subqb	#3,%d5
		subw	%d5,%d3
		movew	#6,%d1
		movew	#0xC,%d6
		movew	#0x10,%d4
		addw	%d5,%d5

Test_Ring_Collisions_NextRing:
		tstw	(%a4)
		bnew	loc_F780
		movew	(%a1),%d0
		subw	%d1,%d0
		subw	%d2,%d0
		bccs	loc_F746
		addw	%d6,%d0
		bcss	loc_F74C
		braw	loc_F780
/*  --------------------------------------------------------------------------- */

loc_F746:
		cmpw	%d4,%d0
		bhiw	loc_F780

loc_F74C:
		movew	2(%a1),%d0
		subw	%d1,%d0
		subw	%d3,%d0
		bccs	loc_F75E
		addw	%d6,%d0
		bcss	loc_F764
		braw	loc_F780
/*  --------------------------------------------------------------------------- */

loc_F75E:
		cmpw	%d5,%d0
		bhiw	loc_F780

loc_F764:
		btst	#5,0x2B(%a0)
		bnes	Test_Ring_Collisions_AttractRing

loc_F76C:
		movew	#0x604,(%a4)
		bsrs	sub_F78C
		lea	(Ring_consumption_table+2):w,%a3

loc_F776:
		tstw	(%a3)+
		bnes	loc_F776
		movew	%a4,-(%a3)
		addqw	#1,(Ring_consumption_table):w

loc_F780:
		addqw	#4,%a1
		addqw	#2,%a4
		cmpal	%a1,%a2
		bnew	Test_Ring_Collisions_NextRing

locret_F78A:
		rts
/*  End of function Test_Ring_Collisions */


/*  =============== S U B R O U T I N E ======================================= */


sub_F78C:
		subqw	#1,(Perfect_rings_left):w
		jmp	(GiveRing):l
/*  End of function sub_F78C */

/*  --------------------------------------------------------------------------- */

Test_Ring_Collisions_AttractRing:
		moveal	%a1,%a3
		jsr	(Create_New_Sprite):l
		bnew	loc_F7BC
		movel	#Obj_Attracted_Ring,(%a1)
		movew	(%a3),0x10(%a1)
		movew	2(%a3),0x14(%a1)
		movew	%a4,0x30(%a1)
		movew	#-1,(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_F7BC:
		moveal	%a3,%a1
		bras	loc_F76C

/*  =============== S U B R O U T I N E ======================================= */


sub_F7C0:
		moveq	#0,%d0
		tstb	(Respawn_table_keep):w
		bnes	loc_F7D6
		lea	(Ring_status_table):w,%a1
		movew	#0xFF,%d1

loc_F7D0:
		movel	%d0,(%a1)+
		dbf	%d1,loc_F7D0

loc_F7D6:
		lea	(Ring_consumption_table):w,%a1
		moveq	#0x1F,%d1

loc_F7DC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_F7DC
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#5,%d0
		lea	(RingLocPtrs):l,%a1
		moveal	(%a1,%d0.w),%a1
		movel	%a1,(Ring_start_addr_ROM):w
		addqw	#4,%a1
		moveq	#0,%d5
		movew	#0x1FE,%d0

loc_F800:
		tstl	(%a1)+
		bmis	loc_F80A
		addqw	#1,%d5
		dbf	%d0,loc_F800

loc_F80A:
		movew	%d5,(Perfect_rings_left):w
		movew	#0,(_unkFF06):w
		rts
/*  End of function sub_F7C0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_F816:
		moveal	(Ring_start_addr_ROM):w,%a0
		movel	(Ring_end_addr_ROM):w,%d2
		subl	%a0,%d2
		beqs	locret_F87C
		moveaw	(Ring_start_addr_RAM):w,%a4
		lea	CMap_Ring(%pc),%a1
		movew	4(%a3),%d4
		movew	#0xF0,%d5
		movew	(Screen_Y_wrap_value):w,%d3

loc_F836:
		tstw	(%a4)+
		bmis	loc_F876
		movew	2(%a0),%d1
		subw	%d4,%d1
		addqw	#8,%d1
		andw	%d3,%d1
		cmpw	%d5,%d1
		bccs	loc_F876
		addiw	#0x78,%d1
		movew	(%a0),%d0
		subw	(%a3),%d0
		addiw	#0x80,%d0
		moveb	-1(%a4),%d6
		bnes	loc_F85E
		moveb	(Rings_frame):w,%d6

loc_F85E:
		lslw	#3,%d6
		lea	(%a1,%d6.w),%a2
		addw	(%a2)+,%d1
		movew	%d1,(%a6)+
		movew	(%a2)+,%d6
		moveb	%d6,(%a6)
		addqw	#2,%a6
		movew	(%a2)+,(%a6)+
		addw	(%a2)+,%d0
		movew	%d0,(%a6)+
		subqw	#1,%d7

loc_F876:
		addqw	#4,%a0
		subqw	#4,%d2
		bnes	loc_F836

locret_F87C:
		rts
/*  End of function sub_F816 */

/*  --------------------------------------------------------------------------- */
CMap_Ring:	.word 0xFFF8, 0x0005, 0x0000+make_art_tile(ArtTile_Ring,1,0), 0xFFF8
		.word 0xFFF8, 0x0005, 0x0004+make_art_tile(ArtTile_Ring,1,0), 0xFFF8
		.word 0xFFF8, 0x0001, 0x0008+make_art_tile(ArtTile_Ring,1,0), 0xFFFC
		.word 0xFFF8, 0x0005, 0x0804+make_art_tile(ArtTile_Ring,1,0), 0xFFF8
		.word 0xFFF8, 0x0005, 0x000A+make_art_tile(ArtTile_Ring,1,0), 0xFFF8
		.word 0xFFF8, 0x0005, 0x180A+make_art_tile(ArtTile_Ring,1,0), 0xFFF8
		.word 0xFFF8, 0x0005, 0x080A+make_art_tile(ArtTile_Ring,1,0), 0xFFF8
		.word 0xFFF8, 0x0005, 0x100A+make_art_tile(ArtTile_Ring,1,0), 0xFFF8

/*  =============== S U B R O U T I N E ======================================= */


S2_SpecialCNZBumpers:
		moveq	#0,%d0
		moveb	(CNZ_bumper_routine):w,%d0
		movew	SpecialCNZBumpers_Index(%pc,%d0.w),%d0
		jmp	SpecialCNZBumpers_Index(%pc,%d0.w)
/*  End of function S2_SpecialCNZBumpers */

/*  --------------------------------------------------------------------------- */
SpecialCNZBumpers_Index:.word SpecialCNZBumpers_Init-SpecialCNZBumpers_Index
		.word SpecialCNZBumpers_Main-SpecialCNZBumpers_Index
/*  --------------------------------------------------------------------------- */

SpecialCNZBumpers_Init:
		addqb	#2,(CNZ_bumper_routine):w
		lea	(SpecialCNZBumpers_Act1):l,%a1
		tstb	(Current_act):w
		beqs	loc_F8E6
		lea	(SpecialCNZBumpers_Act2):l,%a1

loc_F8E6:
		movew	(Camera_X_pos):w,%d4
		subqw	#8,%d4
		bhis	loc_F8F6
		moveq	#1,%d4
		bras	loc_F8F6
/*  --------------------------------------------------------------------------- */

loc_F8F2:
		lea	6(%a1),%a1

loc_F8F6:
		cmpw	2(%a1),%d4
		bhis	loc_F8F2
		movel	%a1,(CNZ_visible_bumpers_start):w
		movel	%a1,(CNZ_Visible_bumpers_start_P2):w
		addiw	#0x150,%d4
		bras	loc_F90E
/*  --------------------------------------------------------------------------- */

loc_F90A:
		lea	6(%a1),%a1

loc_F90E:
		cmpw	2(%a1),%d4
		bhis	loc_F90A
		movel	%a1,(CNZ_Visible_bumpers_end):w
		movel	%a1,(CNZ_Visible_bumpers_end_P2):w
		moveb	#1,(CNZ_bumper_unk):w
		rts
/*  --------------------------------------------------------------------------- */

SpecialCNZBumpers_Main:
		moveal	(CNZ_visible_bumpers_start):w,%a1
		movew	(Camera_X_pos):w,%d4
		subqw	#8,%d4
		bhis	loc_F938
		moveq	#1,%d4
		bras	loc_F938
/*  --------------------------------------------------------------------------- */

loc_F934:
		lea	6(%a1),%a1

loc_F938:
		cmpw	2(%a1),%d4
		bhis	loc_F934
		bras	loc_F942
/*  --------------------------------------------------------------------------- */

loc_F940:
		subqw	#6,%a1

loc_F942:
		cmpw	-4(%a1),%d4
		blss	loc_F940
		movel	%a1,(CNZ_visible_bumpers_start):w
		moveal	(CNZ_Visible_bumpers_end):w,%a2
		addiw	#0x150,%d4
		bras	loc_F95A
/*  --------------------------------------------------------------------------- */

loc_F956:
		lea	6(%a2),%a2

loc_F95A:
		cmpw	2(%a2),%d4
		bhis	loc_F956
		bras	loc_F964
/*  --------------------------------------------------------------------------- */

loc_F962:
		subqw	#6,%a2

loc_F964:
		cmpw	-4(%a2),%d4
		blss	loc_F962
		movel	%a2,(CNZ_Visible_bumpers_end):w
		tstw	(Competition_mode):w
		bnes	loc_F97E
		movel	%a1,(CNZ_Visible_bumpers_start_P2):w
		movel	%a2,(CNZ_Visible_bumpers_end_P2):w
		rts
/*  --------------------------------------------------------------------------- */

loc_F97E:
		moveal	(CNZ_Visible_bumpers_start_P2):w,%a1
		movew	(Camera_X_pos_P2):w,%d4
		subqw	#8,%d4
		bhis	loc_F992
		moveq	#1,%d4
		bras	loc_F992
/*  --------------------------------------------------------------------------- */

loc_F98E:
		lea	6(%a1),%a1

loc_F992:
		cmpw	2(%a1),%d4
		bhis	loc_F98E
		bras	loc_F99C
/*  --------------------------------------------------------------------------- */

loc_F99A:
		subqw	#6,%a1

loc_F99C:
		cmpw	-4(%a1),%d4
		blss	loc_F99A
		movel	%a1,(CNZ_Visible_bumpers_start_P2):w
		moveal	(CNZ_Visible_bumpers_end_P2):w,%a2
		addiw	#0x150,%d4
		bras	loc_F9B4
/*  --------------------------------------------------------------------------- */

loc_F9B0:
		lea	6(%a2),%a2

loc_F9B4:
		cmpw	2(%a2),%d4
		bhis	loc_F9B0
		bras	loc_F9BE
/*  --------------------------------------------------------------------------- */

loc_F9BC:
		subqw	#6,%a2

loc_F9BE:
		cmpw	-4(%a2),%d4
		blss	loc_F9BC
		movel	%a2,(CNZ_Visible_bumpers_end_P2):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


Check_CNZ_Bumpers:
		moveal	(CNZ_visible_bumpers_start):w,%a1
		moveal	(CNZ_Visible_bumpers_end):w,%a2
		cmpaw	#Player_1,%a0
		beqs	loc_F9E0
		moveal	(CNZ_Visible_bumpers_start_P2):w,%a1
		moveal	(CNZ_Visible_bumpers_end_P2):w,%a2

loc_F9E0:
		cmpal	%a1,%a2
		beqw	locret_FA7A
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#9,%d2
		moveq	#0,%d5
		moveb	0x1E(%a0),%d5
		subqb	#3,%d5
		subw	%d5,%d3
		cmpib	#0x4D,0x22(%a0)
		bnes	loc_FA0A
		addiw	#0xC,%d3
		moveq	#0xA,%d5

loc_FA0A:
		movew	#0x12,%d4
		addw	%d5,%d5

CNZ_Bumper_Loop:
		movew	(%a1),%d0
		andiw	#0xE,%d0
		lea	byte_FA5A(%pc,%d0.w),%a3
		moveq	#0,%d1
		moveb	(%a3)+,%d1
		movew	2(%a1),%d0
		subw	%d1,%d0
		subw	%d2,%d0
		bccs	loc_FA32
		addw	%d1,%d1
		addw	%d1,%d0
		bcss	loc_FA38
		braw	CNZ_Bumper_Next
/*  --------------------------------------------------------------------------- */

loc_FA32:
		cmpw	%d4,%d0
		bhiw	CNZ_Bumper_Next

loc_FA38:
		moveq	#0,%d1
		moveb	(%a3)+,%d1
		movew	4(%a1),%d0
		subw	%d1,%d0
		subw	%d3,%d0
		bccs	loc_FA52
		addw	%d1,%d1
		addw	%d1,%d0
		bcsw	loc_FA66
		braw	CNZ_Bumper_Next
/*  --------------------------------------------------------------------------- */

loc_FA52:
		cmpw	%d5,%d0
		bhiw	CNZ_Bumper_Next
		bras	loc_FA66
/*  --------------------------------------------------------------------------- */
byte_FA5A:	.byte 0x20
		.byte 0x20
		.byte 0x20
		.byte 0x20
		.byte 0x40
		.byte 8
		.byte 0x40
		.byte 8
		.byte 8
		.byte 0x40
		.byte 8
		.byte 0x40
/*  --------------------------------------------------------------------------- */

loc_FA66:
		movew	(%a1),%d0
		movew	off_FA7C(%pc,%d0.w),%d0
		jmp	off_FA7C(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

CNZ_Bumper_Next:
		lea	6(%a1),%a1
		cmpal	%a1,%a2
		bnew	CNZ_Bumper_Loop

locret_FA7A:
		rts
/*  --------------------------------------------------------------------------- */
off_FA7C:	.word loc_FA88-off_FA7C
		.word loc_FB3A-off_FA7C
		.word loc_FBA0-off_FA7C
		.word loc_FBF8-off_FA7C
		.word loc_FC4E-off_FA7C
		.word loc_FCA6-off_FA7C
/*  --------------------------------------------------------------------------- */

loc_FA88:
		movew	4(%a1),%d0
		subw	0x14(%a0),%d0
		negw	%d0
		cmpiw	#0x20,%d0
		blts	loc_FAA2
		movew	#0xA00,0x1A(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FAA2:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		negw	%d0
		cmpiw	#0x20,%d0
		blts	loc_FABC
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FABC:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x20,%d0
		blts	loc_FACE
		movew	#0x20,%d0

loc_FACE:
		addw	4(%a1),%d0
		subqw	#8,%d0
		movew	0x14(%a0),%d1
		addiw	#0xE,%d1
		subw	%d1,%d0
		bccs	locret_FAEA
		movew	#0x20,%d3
		bsrs	loc_FAEC
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

locret_FAEA:
		rts
/*  --------------------------------------------------------------------------- */

loc_FAEC:
		movew	0x18(%a0),%d1
		movew	0x1A(%a0),%d2
		jsr	(GetArcTan):l
		moveb	%d0,(_dbgFFDC):w
		subw	%d3,%d0
		movew	%d0,%d1
		bpls	loc_FB06
		negw	%d1

loc_FB06:
		negw	%d0
		addw	%d3,%d0
		moveb	%d0,(_dbgFFDD):w
		moveb	%d1,(_dbgFFDF):w
		cmpib	#0x38,%d1
		bcss	loc_FB1A
		movew	%d3,%d0

loc_FB1A:
		moveb	%d0,(_dbgFFDE):w
		jsr	(GetSineCosine):l
		mulsw	#-0xA00,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a0)
		mulsw	#-0xA00,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_FB3A:
		movew	4(%a1),%d0
		subw	0x14(%a0),%d0
		negw	%d0
		cmpiw	#0x20,%d0
		blts	loc_FB54
		movew	#0xA00,0x1A(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FB54:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x20,%d0
		blts	loc_FB6C
		movew	#-0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FB6C:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		negw	%d0
		cmpiw	#0x20,%d0
		blts	loc_FB80
		movew	#0x20,%d0

loc_FB80:
		addw	4(%a1),%d0
		subqw	#8,%d0
		movew	0x14(%a0),%d1
		addiw	#0xE,%d1
		subw	%d1,%d0
		bccs	locret_FB9E
		movew	#0x60,%d3
		bsrw	loc_FAEC
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

locret_FB9E:
		rts
/*  --------------------------------------------------------------------------- */

loc_FBA0:
		movew	4(%a1),%d0
		subw	0x14(%a0),%d0
		negw	%d0
		cmpiw	#8,%d0
		blts	loc_FBBA
		movew	#0xA00,0x1A(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FBBA:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x40,%d0
		blts	loc_FBD2
		movew	#-0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FBD2:
		negw	%d0
		cmpiw	#0x40,%d0
		blts	loc_FBE4
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FBE4:
		movew	#0x38,%d3
		tstw	%d0
		bmis	loc_FBF0
		movew	#0x48,%d3

loc_FBF0:
		bsrw	loc_FAEC
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FBF8:
		movew	4(%a1),%d0
		subw	0x14(%a0),%d0
		cmpiw	#8,%d0
		blts	loc_FC10
		movew	#-0xA00,0x1A(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC10:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x40,%d0
		blts	loc_FC28
		movew	#-0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC28:
		negw	%d0
		cmpiw	#0x40,%d0
		blts	loc_FC3A
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC3A:
		movew	#0xC8,%d3
		tstw	%d0
		bmis	loc_FC46
		movew	#0xB8,%d3

loc_FC46:
		bsrw	loc_FAEC
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC4E:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		negw	%d0
		cmpiw	#8,%d0
		blts	loc_FC68
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC68:
		movew	4(%a1),%d0
		subw	0x14(%a0),%d0
		cmpiw	#0x40,%d0
		blts	loc_FC80
		movew	#-0xA00,0x1A(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC80:
		negw	%d0
		cmpiw	#0x40,%d0
		blts	loc_FC92
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FC92:
		movew	#8,%d3
		tstw	%d0
		bmis	loc_FC9E
		movew	#0xF8,%d3

loc_FC9E:
		bsrw	loc_FAEC
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FCA6:
		movew	2(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#8,%d0
		blts	loc_FCBE
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FCBE:
		movew	4(%a1),%d0
		subw	0x14(%a0),%d0
		cmpiw	#0x40,%d0
		blts	loc_FCD6
		movew	#-0xA00,0x1A(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FCD6:
		negw	%d0
		cmpiw	#0x40,%d0
		blts	loc_FCE8
		movew	#0xA00,0x18(%a0)
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FCE8:
		movew	#0x78,%d3
		tstw	%d0
		bmis	loc_FCF4
		movew	#0x88,%d3

loc_FCF4:
		bsrw	loc_FAEC
		braw	loc_FCFC
/*  --------------------------------------------------------------------------- */

loc_FCFC:
		bset	#1,0x2A(%a0)
		bclr	#4,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		clrb	0x40(%a0)
		movew	#sfx_MagneticSpike,%d0
		jmp	(Play_Sound_2):l
/*  End of function Check_CNZ_Bumpers */

/*  --------------------------------------------------------------------------- */
SpecialCNZBumpers_Act1:
		.word     0xA,  0x410,  0x540,     0,  0x560,  0x520
		.word     0xA,  0x810,  0x400,     8,  0x8F0,  0x400
		.word      4,  0xC40,  0x1E0,     4,  0xCC0,  0x1E0
		.word      4,  0xD40,  0x1E0,     4,  0xDC0,  0x1E0
		.word      4,  0xE40,  0x1E0,     4,  0xE40,  0x460
		.word      4,  0xEC0,  0x460,     4,  0xF40,  0x460
		.word      4,  0xFC0,  0x460,     6, 0x11C0,  0x120
		.word      4, 0x11C0,  0x1E0,     6, 0x1240,  0x120
		.word      4, 0x1240,  0x1E0,     6, 0x12C0,  0x120
		.word      6, 0x1440,  0x320,     4, 0x1440,  0x3E0
		.word      6, 0x1440,  0x420,     6, 0x14C0,  0x320
		.word     0xA, 0x1590,  0x640,     6, 0x15C0,  0x420
		.word      8, 0x15F0,  0x6C0,    0xA, 0x1610,  0x6C0
		.word      6, 0x1640,  0x420,     8, 0x1670,  0x640
		.word      6, 0x19C0,  0x220,     0, 0x19E0,  0x360
		.word      6, 0x1A40,  0x220,     2, 0x1A60,  0x320
		.word      2, 0x1AA0,  0x6E0,     4, 0x1AC0,  0x360
		.word      6, 0x1AC0,  0x620,     4, 0x1AC0,  0x760
		.word      4, 0x1B40,  0x360,     6, 0x1B40,  0x620
		.word      4, 0x1B40,  0x760,     4, 0x1BC0,  0x360
		.word      6, 0x1BC0,  0x620,     4, 0x1BC0,  0x760
		.word      4, 0x1C40,  0x760,     4, 0x1CC0,  0x760
		.word      0, 0x1CE0,  0x360,     0, 0x1D20,  0x320
		.word      2, 0x1F60,  0x620,     0, 0x2060,  0x620
		.word      0, 0x20A0,  0x4A0,     2, 0x21E0,  0x1A0
		.word      2, 0x2260,  0x4E0,     8, 0x22F0,  0x1C0
		.word      8, 0x23F0,  0x3C0,     0, 0xFFFF,     0
SpecialCNZBumpers_Act2:
		.word      0,     0,     0,     2,  0xDA0,  0x5A0
		.word      0,  0xEE0,  0x5A0,     2, 0x1320,  0x320
		.word      0, 0x1360,  0x2A0,     4, 0x1540,  0x1E0
		.word      6, 0x1540,  0x220,     4, 0x15C0,  0x1E0
		.word      6, 0x15C0,  0x220,     4, 0x1640,  0x1E0
		.word      6, 0x1640,  0x220,     6, 0x1740,  0x720
		.word      4, 0x1740,  0x7E0,     6, 0x17C0,  0x720
		.word      4, 0x17C0,  0x7E0,    0xA, 0x1810,  0x240
		.word      6, 0x1840,  0x720,     4, 0x1840,  0x7E0
		.word      6, 0x18C0,  0x720,     4, 0x18C0,  0x7E0
		.word     0xA, 0x1890,  0x3C0,     8, 0x1930,  0x240
		.word      6, 0x1940,  0x720,     4, 0x1940,  0x7E0
		.word      6, 0x19C0,  0x720,     4, 0x19C0,  0x7E0
		.word      6, 0x1A40,  0x720,     4, 0x1A40,  0x7E0
		.word      6, 0x1AC0,  0x720,     4, 0x1AC0,  0x7E0
		.word     0xA, 0x1C90,  0x240,     2, 0x1CA0,  0x360
		.word      2, 0x1D20,  0x3E0,     4, 0x1DC0,  0x1E0
		.word      6, 0x1DC0,  0x220,     4, 0x1E40,  0x1E0
		.word      6, 0x1E40,  0x220,     8, 0x1E70,  0x380
		.word      4, 0x1EC0,  0x5E0,     6, 0x1F80,  0x590
		.word      2, 0x2220,  0x1A0,     2, 0x2260,  0x1E0
		.word      2, 0x22A0,  0x220,     2, 0x22E0,  0x260
		.word      2, 0x23A0,  0x4E0,     0, 0x2520,  0x520
		.word      8, 0x2530,  0x1C0,     8, 0x2530,  0x2C0
		.word      8, 0x2530,  0x340,     8, 0x2530,  0x3C0
		.word      8, 0x2530,  0x4C0,     0, 0x25A0,  0x360
		.word      0, 0x25E0,  0x320,     0, 0xFFFF,     0

/*  =============== S U B R O U T I N E ======================================= */


Player_AnglePos:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_FFB8
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_FFB8:
		moveb	0x46(%a0),%d5
		btst	#3,0x2A(%a0)
		beqs	loc_FFD0
		moveq	#0,%d0
		moveb	%d0,(Primary_Angle):w
		moveb	%d0,(Secondary_Angle):w
		rts
/*  --------------------------------------------------------------------------- */

loc_FFD0:
		moveq	#3,%d0
		moveb	%d0,(Primary_Angle):w
		moveb	%d0,(Secondary_Angle):w
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		bpls	loc_FFF2
		moveb	0x26(%a0),%d0
		bpls	loc_FFEC
		subqb	#1,%d0

loc_FFEC:
		addib	#0x20,%d0
		bras	loc_FFFE
/*  --------------------------------------------------------------------------- */

loc_FFF2:
		moveb	0x26(%a0),%d0
		bpls	loc_FFFA
		addqb	#1,%d0

loc_FFFA:
		addib	#0x1F,%d0

loc_FFFE:
		andib	#-0x40,%d0
		cmpib	#0x40,%d0
		beqw	Player_WalkVertL
		cmpib	#-0x80,%d0
		beqw	Player_WalkCeiling
		cmpib	#-0x40,%d0
		beqw	Player_WalkVertR
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindFloor
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		negw	%d0
		addw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindFloor
		movew	(%sp)+,%d0
		bsrw	Player_Angle
		tstw	%d1
		beqs	locret_10088
		bpls	loc_1008A
		cmpiw	#-0xE,%d1
		blts	locret_10088
		addw	%d1,0x14(%a0)

locret_10088:
		rts
/*  --------------------------------------------------------------------------- */

loc_1008A:
		tstb	0x3C(%a0)
		bnes	loc_100A8
		moveb	0x18(%a0),%d0
		bpls	loc_10098
		negb	%d0

loc_10098:
		addqb	#4,%d0
		cmpib	#0xE,%d0
		bcss	loc_100A4
		moveb	#0xE,%d0

loc_100A4:
		cmpb	%d0,%d1
		bgts	loc_100AE

loc_100A8:
		addw	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_100AE:
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)
		rts
/*  End of function Player_AnglePos */


/*  =============== S U B R O U T I N E ======================================= */


Player_Angle:
		movew	%d0,%d3
		moveb	(Secondary_Angle):w,%d2
		cmpw	%d0,%d1
		bles	loc_100D4
		moveb	(Primary_Angle):w,%d2
		movew	%d1,%d3
		movew	%d0,%d1

loc_100D4:
		btst	#0,%d2
		bnes	loc_100F0
		moveb	%d2,%d0
		subb	0x26(%a0),%d0
		bpls	loc_100E4
		negb	%d0

loc_100E4:
		cmpib	#0x20,%d0
		bccs	loc_100F0
		moveb	%d2,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_100F0:
		moveb	0x26(%a0),%d2
		addib	#0x20,%d2
		andib	#-0x40,%d2
		moveb	%d2,0x26(%a0)
		rts
/*  End of function Player_Angle */

/*  --------------------------------------------------------------------------- */

Player_WalkVertR:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		negw	%d0
		addw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		movew	(%sp)+,%d0
		bsrw	Player_Angle
		tstw	%d1
		beqs	locret_10176
		bpls	loc_10198
		cmpiw	#-0xE,%d1
		blts	loc_10184
		tstb	0x41(%a0)
		bnes	loc_10178
		addw	%d1,0x10(%a0)

locret_10176:
		rts
/*  --------------------------------------------------------------------------- */

loc_10178:
		subqb	#1,0x41(%a0)
		moveb	#-0x40,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_10184:
		tstw	(Current_zone_and_act):w
		bnes	locret_10176
		moveb	#-0x40,0x26(%a0)
		moveb	#3,0x41(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_10198:
		tstb	0x3C(%a0)
		bnes	loc_101B6
		moveb	0x1A(%a0),%d0
		bpls	loc_101A6
		negb	%d0

loc_101A6:
		addqb	#4,%d0
		cmpib	#0xE,%d0
		bcss	loc_101B2
		moveb	#0xE,%d0

loc_101B2:
		cmpb	%d0,%d1
		bgts	loc_101BC

loc_101B6:
		addw	%d1,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_101BC:
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Player_WalkCeiling:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		movew	(%sp)+,%d0
		bsrw	Player_Angle
		tstw	%d1
		beqs	locret_10244
		bpls	loc_10246
		cmpiw	#-0xE,%d1
		blts	locret_10244
		subw	%d1,0x14(%a0)

locret_10244:
		rts
/*  --------------------------------------------------------------------------- */

loc_10246:
		tstb	0x3C(%a0)
		bnes	loc_10264
		moveb	0x18(%a0),%d0
		bpls	loc_10254
		negb	%d0

loc_10254:
		addqb	#4,%d0
		cmpib	#0xE,%d0
		bcss	loc_10260
		moveb	#0xE,%d0

loc_10260:
		cmpb	%d0,%d1
		bgts	loc_1026A

loc_10264:
		subw	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1026A:
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Player_WalkVertL:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		movew	(%sp)+,%d0
		bsrw	Player_Angle
		tstw	%d1
		beqs	locret_102F2
		bpls	loc_102F4
		cmpiw	#-0xE,%d1
		blts	locret_102F2
		subw	%d1,0x10(%a0)

locret_102F2:
		rts
/*  --------------------------------------------------------------------------- */

loc_102F4:
		tstb	0x3C(%a0)
		bnes	loc_10312
		moveb	0x1A(%a0),%d0
		bpls	loc_10302
		negb	%d0

loc_10302:
		addqb	#4,%d0
		cmpib	#0xE,%d0
		bcss	loc_1030E
		moveb	#0xE,%d0

loc_1030E:
		cmpb	%d0,%d1
		bgts	loc_10318

loc_10312:
		subw	%d1,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_10318:
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)
		rts
/*  --------------------------------------------------------------------------- */

GetFloorPosition_BG:
		lea	(Level_layout_header):w,%a1
		movew	%d2,%d0
		lsrw	#5,%d0
		andw	(Layout_row_index_mask):w,%d0
		movew	0xA(%a1,%d0.w),%d0
		movew	%d3,%d1
		lsrw	#3,%d1
		movew	%d1,%d4
		lsrw	#4,%d1
		addw	%d1,%d0
		moveq	#-1,%d1
		clrw	%d1
		moveaw	%d0,%a1
		moveb	(%a1),%d1
		addw	%d1,%d1
		movew	ChunkAddrArray(%pc,%d1.w),%d1
		movew	%d2,%d0
		andiw	#0x70,%d0
		addw	%d0,%d1
		andiw	#0xE,%d4
		addw	%d4,%d1
		moveal	%d1,%a1
		rts
/*  --------------------------------------------------------------------------- */

GetFloorPosition_FG:
		lea	(Level_layout_header):w,%a1
		movew	%d2,%d0
		lsrw	#5,%d0
		andw	(Layout_row_index_mask):w,%d0
		movew	8(%a1,%d0.w),%d0
		movew	%d3,%d1
		lsrw	#3,%d1
		movew	%d1,%d4
		lsrw	#4,%d1
		addw	%d1,%d0
		moveq	#-1,%d1
		clrw	%d1
		moveaw	%d0,%a1
		moveb	(%a1),%d1
		addw	%d1,%d1
		movew	ChunkAddrArray(%pc,%d1.w),%d1
		movew	%d2,%d0
		andiw	#0x70,%d0
		addw	%d0,%d1
		andiw	#0xE,%d4
		addw	%d4,%d1
		moveal	%d1,%a1
		rts
/*  --------------------------------------------------------------------------- */
ChunkAddrArray:	.word     0,  0x80, 0x100, 0x180, 0x200, 0x280, 0x300, 0x380, 0x400, 0x480, 0x500, 0x580, 0x600, 0x680, 0x700, 0x780
		.word  0x800, 0x880, 0x900, 0x980, 0xA00, 0xA80, 0xB00, 0xB80, 0xC00, 0xC80, 0xD00, 0xD80, 0xE00, 0xE80, 0xF00, 0xF80
		.word 0x1000,0x1080,0x1100,0x1180,0x1200,0x1280,0x1300,0x1380,0x1400,0x1480,0x1500,0x1580,0x1600,0x1680,0x1700,0x1780
		.word 0x1800,0x1880,0x1900,0x1980,0x1A00,0x1A80,0x1B00,0x1B80,0x1C00,0x1C80,0x1D00,0x1D80,0x1E00,0x1E80,0x1F00,0x1F80
		.word 0x2000,0x2080,0x2100,0x2180,0x2200,0x2280,0x2300,0x2380,0x2400,0x2480,0x2500,0x2580,0x2600,0x2680,0x2700,0x2780
		.word 0x2800,0x2880,0x2900,0x2980,0x2A00,0x2A80,0x2B00,0x2B80,0x2C00,0x2C80,0x2D00,0x2D80,0x2E00,0x2E80,0x2F00,0x2F80
		.word 0x3000,0x3080,0x3100,0x3180,0x3200,0x3280,0x3300,0x3380,0x3400,0x3480,0x3500,0x3580,0x3600,0x3680,0x3700,0x3780
		.word 0x3800,0x3880,0x3900,0x3980,0x3A00,0x3A80,0x3B00,0x3B80,0x3C00,0x3C80,0x3D00,0x3D80,0x3E00,0x3E80,0x3F00,0x3F80
		.word 0x4000,0x4080,0x4100,0x4180,0x4200,0x4280,0x4300,0x4380,0x4400,0x4480,0x4500,0x4580,0x4600,0x4680,0x4700,0x4780
		.word 0x4800,0x4880,0x4900,0x4980,0x4A00,0x4A80,0x4B00,0x4B80,0x4C00,0x4C80,0x4D00,0x4D80,0x4E00,0x4E80,0x4F00,0x4F80
		.word 0x5000,0x5080,0x5100,0x5180,0x5200,0x5280,0x5300,0x5380,0x5400,0x5480,0x5500,0x5580,0x5600,0x5680,0x5700,0x5780
		.word 0x5800,0x5880,0x5900,0x5980,0x5A00,0x5A80,0x5B00,0x5B80,0x5C00,0x5C80,0x5D00,0x5D80,0x5E00,0x5E80,0x5F00,0x5F80
		.word 0x6000,0x6080,0x6100,0x6180,0x6200,0x6280,0x6300,0x6380,0x6400,0x6480,0x6500,0x6580,0x6600,0x6680,0x6700,0x6780
		.word 0x6800,0x6880,0x6900,0x6980,0x6A00,0x6A80,0x6B00,0x6B80,0x6C00,0x6C80,0x6D00,0x6D80,0x6E00,0x6E80,0x6F00,0x6F80
		.word 0x7000,0x7080,0x7100,0x7180,0x7200,0x7280,0x7300,0x7380,0x7400,0x7480,0x7500,0x7580,0x7600,0x7680,0x7700,0x7780
		.word 0x7800,0x7880,0x7900,0x7980,0x7A00,0x7A80,0x7B00,0x7B80,0x7C00,0x7C80,0x7D00,0x7D80,0x7E00,0x7E80,0x7F00,0x7F80

/*  =============== S U B R O U T I N E ======================================= */


FindFloor:
		lea	(GetFloorPosition_FG):l,%a5
		tstb	(Background_collision_flag):w
		beqs	sub_105DA
		bsrs	sub_105DA
		moveb	(%a4),1(%a4)
		movew	%d1,-(%sp)
		subw	(Camera_X_diff):w,%d3
		subw	(Camera_Y_diff):w,%d2
		lea	(GetFloorPosition_BG):l,%a5
		bsrs	sub_105DA
		addw	(Camera_X_diff):w,%d3
		addw	(Camera_Y_diff):w,%d2
		movew	(%sp)+,%d0
		cmpw	%d0,%d1
		bles	locret_105D8
		moveb	1(%a4),(%a4)
		movew	%d0,%d1

locret_105D8:
		rts
/*  End of function FindFloor */


/*  =============== S U B R O U T I N E ======================================= */


sub_105DA:
		jsr	(%a5)
		movew	(%a1),%d0
		movew	%d0,%d4
		andiw	#0x3FF,%d0
		beqs	loc_105EA
		btst	%d5,%d4
		bnes	loc_105F8

loc_105EA:
		addw	%a3,%d2
		bsrw	sub_1067E
		subw	%a3,%d2
		addiw	#0x10,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_105F8:
		moveal	(Collision_addr):w,%a2
		addw	%d0,%d0
		movew	(%a2,%d0.w),%d0
		beqs	loc_105EA
		lea	(AngleArray):l,%a2
		moveb	(%a2,%d0.w),(%a4)
		lslw	#4,%d0
		movew	%d3,%d1
		btst	#0xA,%d4
		beqs	loc_1061C
		notw	%d1
		negb	(%a4)

loc_1061C:
		btst	#0xB,%d4
		beqs	loc_1062C
		addib	#0x40,(%a4)
		negb	(%a4)
		subib	#0x40,(%a4)

loc_1062C:
		andiw	#0xF,%d1
		addw	%d0,%d1
		lea	(HeightMaps):l,%a2
		moveb	(%a2,%d1.w),%d0
		extw	%d0
		eorw	%d6,%d4
		btst	#%1011,%d4
		beqs	loc_10648
		negw	%d0

loc_10648:
		tstw	%d0
		beqs	loc_105EA
		bmis	loc_10664
		cmpib	#0x10,%d0
		beqs	loc_10670
		movew	%d2,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		movew	#0xF,%d1
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_10664:
		movew	%d2,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		bplw	loc_105EA

loc_10670:
		subw	%a3,%d2
		bsrw	sub_1067E
		addw	%a3,%d2
		subiw	#0x10,%d1
		rts
/*  End of function sub_105DA */


/*  =============== S U B R O U T I N E ======================================= */


sub_1067E:
		jsr	(%a5)
		movew	(%a1),%d0
		movew	%d0,%d4
		andiw	#0x3FF,%d0
		beqs	loc_1068E
		btst	%d5,%d4
		bnes	loc_1069C

loc_1068E:
		movew	#0xF,%d1
		movew	%d2,%d0
		andiw	#0xF,%d0
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_1069C:
		moveal	(Collision_addr):w,%a2
		addw	%d0,%d0
		movew	(%a2,%d0.w),%d0
		beqs	loc_1068E
		lea	(AngleArray):l,%a2
		moveb	(%a2,%d0.w),(%a4)
		lslw	#4,%d0
		movew	%d3,%d1
		btst	#0xA,%d4
		beqs	loc_106C0
		notw	%d1
		negb	(%a4)

loc_106C0:
		btst	#0xB,%d4
		beqs	loc_106D0
		addib	#0x40,(%a4)
		negb	(%a4)
		subib	#0x40,(%a4)

loc_106D0:
		andiw	#0xF,%d1
		addw	%d0,%d1
		lea	(HeightMaps):l,%a2
		moveb	(%a2,%d1.w),%d0
		extw	%d0
		eorw	%d6,%d4
		btst	#0xB,%d4
		beqs	loc_106EC
		negw	%d0

loc_106EC:
		tstw	%d0
		beqs	loc_1068E
		bmis	loc_10702
		movew	%d2,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		movew	#0xF,%d1
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_10702:
		movew	%d2,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		bplw	loc_1068E
		notw	%d1
		rts
/*  End of function sub_1067E */

/*  --------------------------------------------------------------------------- */

loc_10712:
		lea	(GetFloorPosition_FG):l,%a5
		tstb	(Background_collision_flag):w
		beqs	sub_1074C
		bsrs	sub_1074C
		moveb	(%a4),1(%a4)
		movew	%d1,-(%sp)
		subw	(Camera_X_diff):w,%d3
		subw	(Camera_Y_diff):w,%d2
		lea	(GetFloorPosition_BG):l,%a5
		bsrs	sub_1074C
		addw	(Camera_X_diff):w,%d3
		addw	(Camera_Y_diff):w,%d2
		movew	(%sp)+,%d0
		cmpw	%d0,%d1
		bles	locret_1074A
		moveb	1(%a4),(%a4)
		movew	%d0,%d1

locret_1074A:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_1074C:
		jsr	(%a5)
		movew	(%a1),%d0
		movew	%d0,%d4
		andiw	#0x3FF,%d0
		beqs	loc_1075C
		btst	%d5,%d4
		bnes	loc_10762

loc_1075C:
		movew	#0x10,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_10762:
		moveal	(Collision_addr):w,%a2
		addw	%d0,%d0
		movew	(%a2,%d0.w),%d0
		beqs	loc_1075C
		lea	(AngleArray):l,%a2
		moveb	(%a2,%d0.w),(%a4)
		lslw	#4,%d0
		movew	%d3,%d1
		btst	#0xA,%d4
		beqs	loc_10786
		notw	%d1
		negb	(%a4)

loc_10786:
		btst	#0xB,%d4
		beqs	loc_10796
		addib	#0x40,(%a4)
		negb	(%a4)
		subib	#0x40,(%a4)

loc_10796:
		andiw	#0xF,%d1
		addw	%d0,%d1
		lea	(HeightMaps):l,%a2
		moveb	(%a2,%d1.w),%d0
		extw	%d0
		eorw	%d6,%d4
		btst	#0xB,%d4
		beqs	loc_107B2
		negw	%d0

loc_107B2:
		tstw	%d0
		beqs	loc_1075C
		bmis	loc_107CE
		cmpib	#0x10,%d0
		beqs	loc_107DA
		movew	%d2,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		movew	#0xF,%d1
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_107CE:
		movew	%d2,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		bplw	loc_1075C

loc_107DA:
		subw	%a3,%d2
		bsrw	sub_1067E
		addw	%a3,%d2
		subiw	#0x10,%d1
		rts
/*  End of function sub_1074C */


/*  =============== S U B R O U T I N E ======================================= */


FindWall:
		lea	(GetFloorPosition_FG):l,%a5
		tstb	(Background_collision_flag):w
		beqs	sub_10846
		bsrs	sub_10846
		moveb	(%a4),1(%a4)
		movew	%d1,-(%sp)
		movew	%a3,%d0
		bpls	loc_1080E
		eoriw	#0xF,%d3
		subw	(Camera_X_diff):w,%d3
		eoriw	#0xF,%d3
		bras	loc_10812
/*  --------------------------------------------------------------------------- */

loc_1080E:
		subw	(Camera_X_diff):w,%d3

loc_10812:
		subw	(Camera_Y_diff):w,%d2
		lea	(GetFloorPosition_BG):l,%a5
		bsrs	sub_10846
		movew	%a3,%d0
		bpls	loc_10830
		eoriw	#0xF,%d3
		addw	(Camera_X_diff):w,%d3
		eoriw	#0xF,%d3
		bras	loc_10834
/*  --------------------------------------------------------------------------- */

loc_10830:
		addw	(Camera_X_diff):w,%d3

loc_10834:
		addw	(Camera_Y_diff):w,%d2
		movew	(%sp)+,%d0
		cmpw	%d0,%d1
		bles	locret_10844
		moveb	1(%a4),(%a4)
		movew	%d0,%d1

locret_10844:
		rts
/*  End of function FindWall */


/*  =============== S U B R O U T I N E ======================================= */


sub_10846:
		jsr	(%a5)
		movew	(%a1),%d0
		movew	%d0,%d4
		andiw	#0x3FF,%d0
		beqs	loc_10856
		btst	%d5,%d4
		bnes	loc_10864

loc_10856:
		addw	%a3,%d3
		bsrw	sub_108EA
		subw	%a3,%d3
		addiw	#0x10,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_10864:
		moveal	(Collision_addr):w,%a2
		addw	%d0,%d0
		movew	(%a2,%d0.w),%d0
		beqs	loc_10856
		lea	(AngleArray):l,%a2
		moveb	(%a2,%d0.w),(%a4)
		lslw	#4,%d0
		movew	%d2,%d1
		btst	#0xB,%d4
		beqs	loc_10890
		notw	%d1
		addib	#0x40,(%a4)
		negb	(%a4)
		subib	#0x40,(%a4)

loc_10890:
		btst	#0xA,%d4
		beqs	loc_10898
		negb	(%a4)

loc_10898:
		andiw	#0xF,%d1
		addw	%d0,%d1
		lea	(HeightMapsRot):l,%a2
		moveb	(%a2,%d1.w),%d0
		extw	%d0
		eorw	%d6,%d4
		btst	#0xA,%d4
		beqs	loc_108B4
		negw	%d0

loc_108B4:
		tstw	%d0
		beqs	loc_10856
		bmis	loc_108D0
		cmpib	#0x10,%d0
		beqs	loc_108DC
		movew	%d3,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		movew	#0xF,%d1
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_108D0:
		movew	%d3,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		bplw	loc_10856

loc_108DC:
		subw	%a3,%d3
		bsrw	sub_108EA
		addw	%a3,%d3
		subiw	#0x10,%d1
		rts
/*  End of function sub_10846 */


/*  =============== S U B R O U T I N E ======================================= */


sub_108EA:
		jsr	(%a5)
		movew	(%a1),%d0
		movew	%d0,%d4
		andiw	#0x3FF,%d0
		beqs	loc_108FA
		btst	%d5,%d4
		bnes	loc_10908

loc_108FA:
		movew	#0xF,%d1
		movew	%d3,%d0
		andiw	#0xF,%d0
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_10908:
		moveal	(Collision_addr):w,%a2
		addw	%d0,%d0
		movew	(%a2,%d0.w),%d0
		beqs	loc_108FA
		lea	(AngleArray):l,%a2
		moveb	(%a2,%d0.w),(%a4)
		lslw	#4,%d0
		movew	%d2,%d1
		btst	#0xB,%d4
		beqs	loc_10934
		notw	%d1
		addib	#0x40,(%a4)
		negb	(%a4)
		subib	#0x40,(%a4)

loc_10934:
		btst	#0xA,%d4
		beqs	loc_1093C
		negb	(%a4)

loc_1093C:
		andiw	#0xF,%d1
		addw	%d0,%d1
		lea	(HeightMapsRot):l,%a2
		moveb	(%a2,%d1.w),%d0
		extw	%d0
		eorw	%d6,%d4
		btst	#0xA,%d4
		beqs	loc_10958
		negw	%d0

loc_10958:
		tstw	%d0
		beqs	loc_108FA
		bmis	loc_1096E
		movew	%d3,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		movew	#0xF,%d1
		subw	%d0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_1096E:
		movew	%d3,%d1
		andiw	#0xF,%d1
		addw	%d1,%d0
		bplw	loc_108FA
		notw	%d1
		rts
/*  End of function sub_108EA */


/*  =============== S U B R O U T I N E ======================================= */


nullsub_4:
		rts
/*  End of function nullsub_4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_10980:
		tstw	(Competition_mode):w
		bnew	sub_10A10
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_1099C
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_1099C:
		moveb	0x47(%a0),%d5
		movel	0x10(%a0),%d3
		movel	0x14(%a0),%d2
		movew	0x18(%a0),%d1
		extl	%d1
		asll	#8,%d1
		addl	%d1,%d3
		movew	0x1A(%a0),%d1
		extl	%d1
		asll	#8,%d1
		addl	%d1,%d2
		swap	%d2
		swap	%d3
		moveb	%d0,(Primary_Angle):w
		moveb	%d0,(Secondary_Angle):w
		moveb	%d0,%d1
		addib	#0x20,%d0
		bpls	loc_109DC
		moveb	%d1,%d0
		bpls	loc_109D6
		subqb	#1,%d0

loc_109D6:
		addib	#0x20,%d0
		bras	loc_109E6
/*  --------------------------------------------------------------------------- */

loc_109DC:
		moveb	%d1,%d0
		bpls	loc_109E2
		addqb	#1,%d0

loc_109E2:
		addib	#0x1F,%d0

loc_109E6:
		andib	#0xC0,%d0
		beqw	CheckFloorDist_Part2
		cmpib	#0x80,%d0
		beqw	CheckCeilingDist_Part2
		tstw	(Competition_mode):w
		bnes	loc_10A04
		andib	#0x38,%d1
		bnes	loc_10A04
		addqw	#8,%d2

loc_10A04:
		cmpib	#0x40,%d0
		beqw	loc_11084
		braw	loc_10DE4
/*  End of function sub_10980 */


/*  =============== S U B R O U T I N E ======================================= */


sub_10A10:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_10A24
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_10A24:
		moveb	0x47(%a0),%d5
		movel	0x10(%a0),%d3
		movel	0x14(%a0),%d2
		movew	0x18(%a0),%d1
		extl	%d1
		asll	#8,%d1
		addl	%d1,%d3
		movew	0x1A(%a0),%d1
		extl	%d1
		asll	#8,%d1
		addl	%d1,%d2
		swap	%d2
		swap	%d3
		moveb	%d0,(Primary_Angle):w
		moveb	%d0,(Secondary_Angle):w
		moveb	%d0,%d1
		addib	#0x20,%d0
		bpls	loc_10A64
		moveb	%d1,%d0
		bpls	loc_10A5E
		subqb	#1,%d0

loc_10A5E:
		addib	#0x20,%d0
		bras	loc_10A6E
/*  --------------------------------------------------------------------------- */

loc_10A64:
		moveb	%d1,%d0
		bpls	loc_10A6A
		addqb	#1,%d0

loc_10A6A:
		addib	#0x1F,%d0

loc_10A6E:
		andib	#-0x40,%d0
		beqw	sub_10B84
		cmpib	#-0x80,%d0
		beqw	loc_10F4A
		cmpib	#0x40,%d0
		beqw	loc_110A4
		braw	loc_10E00
/*  End of function sub_10A10 */


/*  =============== S U B R O U T I N E ======================================= */


CalcRoomOverHead:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_10A9E
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_10A9E:
		moveb	0x47(%a0),%d5
		moveb	%d0,(Primary_Angle):w
		moveb	%d0,(Secondary_Angle):w
		addib	#0x20,%d0
		andib	#-0x40,%d0
		cmpib	#0x40,%d0
		beqw	CheckLeftCeilingDist
		cmpib	#-0x80,%d0
		beqw	Sonic_CheckCeiling
		cmpib	#-0x40,%d0
		beqw	CheckRightCeilingDist
/*  End of function CalcRoomOverHead */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_CheckFloor:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_10ADE
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_10ADE:
		moveb	0x46(%a0),%d5
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindFloor
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindFloor
		movew	(%sp)+,%d0
		moveb	#0,%d2

loc_10B3E:
		moveb	(Secondary_Angle):w,%d3
		cmpw	%d0,%d1
		bles	loc_10B4C
		moveb	(Primary_Angle):w,%d3
		exg	%d0,%d1

loc_10B4C:
		btst	#0,%d3
		beqs	locret_10B54
		moveb	%d2,%d3

locret_10B54:
		rts
/*  End of function Sonic_CheckFloor */

/*  --------------------------------------------------------------------------- */

CheckFloorDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3

CheckFloorDist_Part2:
		addiw	#0xA,%d2
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindFloor
		moveb	#0,%d2

loc_10B76:
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10B82
		moveb	%d2,%d3

locret_10B82:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_10B84:
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindFloor
		moveb	#0,%d2
		bras	loc_10B76
/*  End of function sub_10B84 */


/*  =============== S U B R O U T I N E ======================================= */


sub_10BA2:
		movew	0x10(%a0),%d3
		movew	0x14(%a0),%d2
		subqw	#4,%d2
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xD,0x47(%a0)
		beqs	loc_10BC0
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_10BC0:
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveb	0x47(%a0),%d5
		moveml	%a4-%a6,-(%sp)
		bsrw	FindFloor
		moveml	(%sp)+,%a4-%a6
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10BEE
		moveb	#0,%d3

locret_10BEE:
		rts
/*  End of function sub_10BA2 */


/*  =============== S U B R O U T I N E ======================================= */


ChkFloorEdge:
		movew	0x10(%a0),%d3

ChkFloorEdge_Part2:
		movew	%10100(%a0),%d2
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2

ChkFloorEdge_Part3:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_10C16
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_10C16:
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveb	0x46(%a0),%d5
		moveml	%a4-%a6,-(%sp)
		bsrw	FindFloor
		moveml	(%sp)+,%a4-%a6
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10C44
		moveb	#0,%d3

locret_10C44:
		rts
/*  End of function ChkFloorEdge */


/*  =============== S U B R O U T I N E ======================================= */


SonicOnObjHitFloor:
		movew	0x10(%a1),%d3
		movew	0x14(%a1),%d2
		moveq	#0,%d0
		moveb	0x1E(%a1),%d0
		extw	%d0
		addw	%d0,%d2
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a1)
		beqs	loc_10C6C
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_10C6C:
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveb	0x46(%a1),%d5
		bsrw	FindFloor
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10C92
		moveb	#0,%d3

locret_10C92:
		rts
/*  End of function SonicOnObjHitFloor */


/*  =============== S U B R O U T I N E ======================================= */


ObjCheckFloorDist:
		movew	0x10(%a0),%d3

ObjCheckFloorDist2:
		movew	0x14(%a0),%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveq	#0xC,%d5
		bsrw	FindFloor
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10CC8
		moveb	#0,%d3

locret_10CC8:
		rts
/*  End of function ObjCheckFloorDist */

/*  --------------------------------------------------------------------------- */

FireCheckFloorDist:
		movew	0x10(%a1),%d3
		movew	0x14(%a1),%d2
		moveb	0x1E(%a1),%d0
		extw	%d0
		addw	%d0,%d2
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveq	#0xC,%d5
		braw	FindFloor

/*  =============== S U B R O U T I N E ======================================= */


RingCheckFloorDist:
		movew	0x10(%a0),%d3
		movew	0x14(%a0),%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveq	#0xC,%d5
		braw	loc_10712
/*  End of function RingCheckFloorDist */

/*  --------------------------------------------------------------------------- */

CheckRightCeilingDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		movew	(%sp)+,%d0
		moveb	#-0x40,%d2
		braw	loc_10B3E

/*  =============== S U B R O U T I N E ======================================= */


sub_10D76:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		movew	(%sp)+,%d0
		moveb	#-0x40,%d2
		braw	loc_10B3E
/*  End of function sub_10D76 */


/*  =============== S U B R O U T I N E ======================================= */


CheckRightWallDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		tstw	(Competition_mode):w
		bnes	loc_10E00

loc_10DE4:
		addiw	#0xA,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		moveb	#-0x40,%d2
		braw	loc_10B76
/*  --------------------------------------------------------------------------- */

loc_10E00:
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#0x10,%a3
		movew	#0,%d6
		bsrw	FindWall
		moveb	#-0x40,%d2
		braw	loc_10B76
/*  End of function CheckRightWallDist */


/*  =============== S U B R O U T I N E ======================================= */


ObjCheckRightWallDist:
		addw	0x10(%a0),%d3
		movew	0x14(%a0),%d2
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#0x10,%a3
		movew	#0,%d6
		moveq	#0xD,%d5
		bsrw	FindWall
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10E4C
		moveb	#-0x40,%d3

locret_10E4C:
		rts
/*  End of function ObjCheckRightWallDist */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_CheckCeiling:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		movew	(%sp)+,%d0
		moveb	#-0x80,%d2
		braw	loc_10B3E
/*  End of function Sonic_CheckCeiling */


/*  =============== S U B R O U T I N E ======================================= */


sub_10EB6:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subqw	#2,%d0
		addw	%d0,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subqw	#2,%d0
		subw	%d0,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		movew	(%sp)+,%d0
		moveb	#-0x80,%d2
		braw	loc_10B3E
/*  End of function sub_10EB6 */

/*  --------------------------------------------------------------------------- */

CheckCeilingDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3

CheckCeilingDist_Part2:
		subiw	#0xA,%d2
		eoriw	#0xF,%d2
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		moveb	#-0x80,%d2
		braw	loc_10B76
/*  --------------------------------------------------------------------------- */

loc_10F4A:
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		bsrw	FindFloor
		moveb	#-0x80,%d2
		braw	loc_10B76

/*  =============== S U B R O U T I N E ======================================= */


ObjCheckCeilingDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		eoriw	#0xF,%d2
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x800,%d6
		moveq	#0xD,%d5
		bsrw	FindFloor
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_10FA4
		moveb	#-0x80,%d3

locret_10FA4:
		rts
/*  End of function ObjCheckCeilingDist */

/*  --------------------------------------------------------------------------- */

CheckLeftCeilingDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1F(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		movew	(%sp)+,%d0
		moveb	#0x40,%d2
		braw	loc_10B3E

/*  =============== S U B R O U T I N E ======================================= */


sub_1100E:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		movew	%d1,-(%sp)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		moveq	#0,%d0
		moveb	0x1E(%a0),%d0
		extw	%d0
		addw	%d0,%d2
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Secondary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		movew	(%sp)+,%d0
		moveb	#0x40,%d2
		braw	loc_10B3E
/*  End of function sub_1100E */


/*  =============== S U B R O U T I N E ======================================= */


CheckLeftWallDist:
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		tstw	(Competition_mode):w
		bnes	loc_110A4

loc_11084:
		subiw	#0xA,%d3
		eoriw	#0xF,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		moveb	#0x40,%d2
		braw	loc_10B76
/*  --------------------------------------------------------------------------- */

loc_110A4:
		moveb	0x1F(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Primary_Angle):w,%a4
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		bsrw	FindWall
		moveb	#0x40,%d2
		braw	loc_10B76
/*  End of function CheckLeftWallDist */


/*  =============== S U B R O U T I N E ======================================= */


sub_110C8:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_110DC
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_110DC:
		movew	0x10(%a0),%d3
		movew	0x14(%a0),%d2
		moveb	0x1E(%a0),%d0
		extw	%d0
		subw	%d0,%d3
		eoriw	#0xF,%d3
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		moveb	0x47(%a0),%d5
		bsrw	FindWall
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_11116
		moveb	#0x40,%d3

locret_11116:
		rts
/*  End of function sub_110C8 */


/*  =============== S U B R O U T I N E ======================================= */


ObjCheckLeftWallDist:
		addw	0x10(%a0),%d3

ObjCheckLeftWallDist_Part2:
		movew	0x14(%a0),%d2
		lea	(Primary_Angle):w,%a4
		moveb	#0,(%a4)
		moveaw	#-0x10,%a3
		movew	#0x400,%d6
		moveq	#0xD,%d5
		bsrw	FindWall
		moveb	(Primary_Angle):w,%d3
		btst	#0,%d3
		beqs	locret_11144
		moveb	#0x40,%d3

locret_11144:
		rts
/*  End of function ObjCheckLeftWallDist */

/*  --------------------------------------------------------------------------- */
		rts

/*  =============== S U B R O U T I N E ======================================= */


TouchResponse_CompetitionMode:
		nop
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#4,%d2
		moveq	#0,%d5
		moveb	0x1E(%a0),%d5
		subqb	#3,%d5
		subw	%d5,%d3
		movew	#8,%d4
		addw	%d5,%d5
		bras	Touch_Process
/*  --------------------------------------------------------------------------- */

TouchResponse:
		nop
		jsr	(Test_Ring_Collisions):l
		bsrw	ShieldTouchResponse
		tstb	0x38(%a0)
		bnes	Touch_NoInstaShield
		moveb	0x2B(%a0),%d0
		andib	#0x73,%d0
		bnes	Touch_NoInstaShield
		cmpib	#1,0x2F(%a0)
		bnes	Touch_NoInstaShield
		moveb	0x2B(%a0),%d0
		movew	%d0,-(%sp)
		bset	#1,0x2B(%a0)
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x18,%d2
		subiw	#0x18,%d3
		movew	#0x30,%d4
		movew	#0x30,%d5
		bsrs	Touch_Process
		movew	(%sp)+,%d0
		btst	#1,%d0
		bnes	loc_111C0
		bclr	#1,0x2B(%a0)

loc_111C0:
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

Touch_NoInstaShield:
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#8,%d2
		moveq	#0,%d5
		moveb	0x1E(%a0),%d5
		subqb	#3,%d5
		subw	%d5,%d3
		movew	#0x10,%d4
		addw	%d5,%d5

Touch_Process:
		lea	(Collision_response_list):w,%a4
		movew	(%a4)+,%d6
		beqs	locret_111F6

Touch_Loop:
		moveaw	(%a4)+,%a1
		moveb	0x28(%a1),%d0
		bnes	Touch_Width

Touch_NextObj:
		subqw	#2,%d6
		bnes	Touch_Loop
		moveq	#0,%d0

locret_111F6:
		rts
/*  --------------------------------------------------------------------------- */

Touch_Width:
		andiw	#0x3F,%d0
		addw	%d0,%d0
		lea	Touch_Sizes(%pc,%d0.w),%a2
		moveq	#0,%d1
		moveb	(%a2)+,%d1
		movew	0x10(%a1),%d0
		subw	%d1,%d0
		subw	%d2,%d0
		bccs	loc_11218
		addw	%d1,%d1
		addw	%d1,%d0
		bcss	Touch_Height
		bras	Touch_NextObj
/*  --------------------------------------------------------------------------- */

loc_11218:
		cmpw	%d4,%d0
		bhis	Touch_NextObj

Touch_Height:
		moveq	#0,%d1
		moveb	(%a2)+,%d1
		movew	0x14(%a1),%d0
		subw	%d1,%d0
		subw	%d3,%d0
		bccs	loc_11234
		addw	%d1,%d1
		addw	%d1,%d0
		bcsw	Touch_ChkValue
		bras	Touch_NextObj
/*  --------------------------------------------------------------------------- */

loc_11234:
		cmpw	%d5,%d0
		bhis	Touch_NextObj
		braw	Touch_ChkValue
/*  --------------------------------------------------------------------------- */
Touch_Sizes:	.byte    4,   4
		.byte  0x14, 0x14
		.byte   0xC, 0x14
		.byte  0x14,  0xC
		.byte    4, 0x10
		.byte   0xC, 0x12
		.byte  0x10, 0x10
		.byte    6,   6
		.byte  0x18,  0xC
		.byte   0xC, 0x10
		.byte  0x10,   8
		.byte    8,   8
		.byte  0x14, 0x10
		.byte  0x14,   8
		.byte   0xE,  0xE
		.byte  0x18, 0x18
		.byte  0x28, 0x10
		.byte  0x10, 0x18
		.byte    8, 0x10
		.byte  0x20, 0x70
		.byte  0x40, 0x20
		.byte  0x80, 0x20
		.byte  0x20, 0x20
		.byte    8,   8
		.byte    4,   4
		.byte  0x20,   8
		.byte   0xC,  0xC
		.byte    8,   4
		.byte  0x18,   4
		.byte  0x28,   4
		.byte    4,   8
		.byte    4, 0x18
		.byte    4, 0x28
		.byte  0x18, 0x18
		.byte  0x18, 0x18
		.byte   0xC, 0x18
		.byte  0x48,   8
		.byte  0x18, 0x28
		.byte  0x10,   4
		.byte  0x20,   2
		.byte  0x10, 0x1C
		.byte   0xC, 0x24
		.byte  0x10,   2
		.byte    4, 0x40
		.byte  0x18, 0x40
		.byte  0x20, 0x10
		.byte  0x1C, 0x14
		.byte  0x10,   2
		.byte  0x10,   1
		.byte    2,   8
/*  --------------------------------------------------------------------------- */

Touch_ChkValue:
		moveb	0x28(%a1),%d1
		andib	#-0x40,%d1
		beqw	Touch_Enemy
		cmpib	#-0x40,%d1
		beqw	Touch_Special
		tstb	%d1
		bmiw	Touch_ChkHurt
		moveb	0x28(%a1),%d0
		andib	#0x3F,%d0
		cmpib	#6,%d0
		beqs	Touch_Monitor
		moveb	(Player_1+invulnerability_timer):w,%d0
		tstw	(Competition_mode):w
		beqs	loc_112D6
		moveb	0x34(%a0),%d0

loc_112D6:
		cmpib	#0x5A,%d0
		bccw	locret_112E4
		moveb	#4,5(%a1)

locret_112E4:
		rts
/*  --------------------------------------------------------------------------- */

Touch_Monitor:
		tstw	0x1A(%a0)
		bpls	loc_11312
		movew	0x14(%a0),%d0
		subiw	#0x10,%d0
		cmpw	0x14(%a1),%d0
		bcss	locret_11334
		negw	0x1A(%a0)
		movew	#-0x180,0x1A(%a1)
		tstb	0x3C(%a1)
		bnes	locret_11334
		moveb	#4,0x3C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_11312:
		cmpaw	#-0x5000,%a0
		beqs	loc_1131E
		tstw	(Competition_mode):w
		beqs	locret_11334

loc_1131E:
		cmpib	#2,0x20(%a0)
		bnes	locret_11334
		negw	0x1A(%a0)
		moveb	#4,5(%a1)
		movew	%a0,0x42(%a1)

locret_11334:
		rts
/*  --------------------------------------------------------------------------- */

Touch_Enemy:
		btst	#1,0x2B(%a0)
		bnes	loc_1138C
		cmpib	#9,0x20(%a0)
		beqs	loc_1138C
		cmpib	#2,0x20(%a0)
		beqs	loc_1138C
		cmpib	#1,0x38(%a0)
		bnew	Touch_ChkHurt
		tstb	0x2F(%a0)
		beqw	Touch_ChkHurt
		btst	#6,0x2A(%a0)
		bnew	Touch_ChkHurt
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		subib	#0x20,%d0
		cmpib	#0x40,%d0
		bccw	Touch_ChkHurt

loc_1138C:
		tstb	0x29(%a1)
		beqs	Touch_EnemyNormal
		negw	0x18(%a0)
		negw	0x1A(%a0)
		negw	0x1C(%a0)
		moveb	0x28(%a1),0x25(%a1)
		moveb	#0,0x28(%a1)
		subqb	#1,0x29(%a1)
		bnes	locret_113B6
		bset	#7,0x2A(%a1)

locret_113B6:
		rts
/*  --------------------------------------------------------------------------- */

Touch_EnemyNormal:
		btst	#2,0x2A(%a1)
		beqs	loc_113CA
		moveb	0x3B(%a1),%d0
		moveaw	0x3C(%a1),%a2
		bclr	%d0,(%a2)

loc_113CA:
		bset	#7,0x2A(%a1)
		moveq	#0,%d0
		movew	(Chain_bonus_counter):w,%d0
		addqw	#2,(Chain_bonus_counter):w
		cmpiw	#6,%d0
		bcss	loc_113E2
		moveq	#6,%d0

loc_113E2:
		movew	%d0,0x3E(%a1)
		movew	Enemy_Points(%pc,%d0.w),%d0
		cmpiw	#0x20,(Chain_bonus_counter):w
		bcss	loc_113FC
		movew	#0x3E8,%d0
		movew	#0xA,0x3E(%a1)

loc_113FC:
		moveaw	%a0,%a3
		bsrw	HUD_AddToScore
		movel	#Obj_Explosion,(%a1)
		moveb	#0,5(%a1)
		tstw	0x1A(%a0)
		bmis	loc_11424
		movew	0x14(%a0),%d0
		cmpw	0x14(%a1),%d0
		bccs	loc_1142C
		negw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_11424:
		addiw	#0x100,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1142C:
		subiw	#0x100,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
Enemy_Points:	.word 10, 20, 50, 100
/*  --------------------------------------------------------------------------- */
		bset	#7,0x2A(%a1)

Touch_ChkHurt:
		moveb	0x2B(%a0),%d0
		andib	#0x73,%d0
		beqs	Touch_ChkHurt_NoPowerUp
		andb	0x2B(%a1),%d0
		bnes	Touch_ChkHurt_Return
		btst	#0,0x2B(%a0)
		bnes	Touch_ChkHurt_HaveShield

Touch_ChkHurt2:
		btst	#1,0x2B(%a0)
		beqs	Touch_Hurt

Touch_ChkHurt_Return:
		moveq	#-1,%d0
		rts
/*  --------------------------------------------------------------------------- */

Touch_ChkHurt_NoPowerUp:
		cmpib	#1,0x2F(%a0)
		bnes	Touch_ChkHurt2

Touch_ChkHurt_HaveShield:
		moveb	0x2B(%a1),%d0
		andib	#8,%d0
		beqs	Touch_ChkHurt2
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		jsr	(GetSineCosine):l
		mulsw	#-0x800,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x800,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		clrb	0x28(%a1)
		bras	Touch_ChkHurt_Return
/*  --------------------------------------------------------------------------- */

Touch_Hurt:
		nop
		tstb	0x34(%a0)
		bnes	Touch_ChkHurt_Return
		moveal	%a1,%a2
/*  End of function TouchResponse_CompetitionMode */


/*  =============== S U B R O U T I N E ======================================= */


HurtCharacter:
		movew	(Ring_count):w,%d0
		cmpaw	#Player_1,%a0
		beqs	loc_114CC
		tstw	(Competition_mode):w
		beqs	loc_11504
		movew	(Ring_count_P2):w,%d0

loc_114CC:
		btst	#0,0x2B(%a0)
		bnes	loc_114FE
		tstb	0x37(%a0)
		bmis	loc_11504
		tstw	%d0
		beqw	Kill_Character
		jsr	(Create_New_Sprite):l
		bnes	loc_114FE
		movel	#Obj_Bouncing_Ring,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	%a0,0x3E(%a1)

loc_114FE:
		andib	#0x8E,0x2B(%a0)

loc_11504:
		moveb	#4,5(%a0)
		jsr	(Player_TouchFloor):l
		bset	#1,0x2A(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#-0x200,0x18(%a0)
		btst	#6,0x2A(%a0)
		beqs	loc_11536
		movew	#-0x200,0x1A(%a0)
		movew	#-0x100,0x18(%a0)

loc_11536:
		movew	0x10(%a0),%d0
		cmpw	0x10(%a2),%d0
		bcss	loc_11544
		negw	0x18(%a0)

loc_11544:
		movew	#0,0x1C(%a0)
		moveb	#0x1A,0x20(%a0)
		moveb	#0x78,0x34(%a0)
		moveq	#sfx_Death,%d0
		jsr	(Play_Sound_2):l
		moveq	#-1,%d0
		rts
/*  End of function HurtCharacter */


/*  =============== S U B R O U T I N E ======================================= */


Kill_Character:
		tstw	(Debug_placement_mode):w
		bnes	loc_115A8
		clrb	0x2B(%a0)
		clrb	0x37(%a0)
		moveb	#6,5(%a0)
		jsr	(Player_TouchFloor):l
		bset	#1,0x2A(%a0)
		movew	#-0x700,0x1A(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1C(%a0)
		moveb	#0x18,0x20(%a0)
		bset	#7,0xA(%a0)
		moveq	#sfx_Death,%d0
		jsr	(Play_Sound_2):l

loc_115A8:
		moveq	#-1,%d0
		rts
/*  End of function Kill_Character */

/*  --------------------------------------------------------------------------- */

Touch_Special:
		moveb	0x28(%a1),%d1
		andib	#0x3F,%d1
		cmpib	#7,%d1
		beqs	loc_115EC
		cmpib	#6,%d1
		beqs	loc_115EC
		cmpib	#0xA,%d1
		beqs	loc_115EC
		cmpib	#0xC,%d1
		beqs	loc_115EC
		cmpib	#0x15,%d1
		beqs	loc_115EC
		cmpib	#0x16,%d1
		beqs	loc_115EC
		cmpib	#0x17,%d1
		beqs	loc_115EC
		cmpib	#0x18,%d1
		beqs	loc_115EC
		cmpib	#0x21,%d1
		beqs	loc_115EC
		rts
/*  --------------------------------------------------------------------------- */

loc_115EC:
		movew	%a0,%d1
		subiw	#Object_RAM,%d1
		beqs	loc_115F8
		addqb	#1,0x29(%a1)

loc_115F8:
		addqb	#1,0x29(%a1)
		rts

/*  =============== S U B R O U T I N E ======================================= */


Add_SpriteToCollisionResponseList:
		lea	(Collision_response_list):w,%a1
		cmpiw	#0x7E,(%a1)
		bccs	locret_1160E
		addqw	#2,(%a1)
		addaw	(%a1),%a1
		movew	%a0,(%a1)

locret_1160E:
		rts
/*  End of function Add_SpriteToCollisionResponseList */


/*  =============== S U B R O U T I N E ======================================= */


ShieldTouchResponse:
		moveb	0x2B(%a0),%d0
		andib	#0x71,%d0
		beqs	locret_1164E
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x18,%d2
		subiw	#0x18,%d3
		movew	#0x30,%d4
		movew	#0x30,%d5
		lea	(Collision_response_list):w,%a4
		movew	(%a4)+,%d6
		beqs	locret_1164E

ShieldTouch_Loop:
		moveaw	(%a4)+,%a1
		moveb	0x28(%a1),%d0
		andib	#-0x40,%d0
		cmpib	#-0x80,%d0
		beqs	ShieldTouch_Width

ShieldTouch_NextObj:
		subqw	#2,%d6
		bnes	ShieldTouch_Loop

locret_1164E:
		rts
/*  --------------------------------------------------------------------------- */

ShieldTouch_Width:
		moveb	0x28(%a1),%d0
		andiw	#0x3F,%d0
		beqs	ShieldTouch_NextObj
		addw	%d0,%d0
		lea	(Touch_Sizes):l,%a2
		lea	(%a2,%d0.w),%a2
		moveq	#0,%d1
		moveb	(%a2)+,%d1
		movew	0x10(%a1),%d0
		subw	%d1,%d0
		subw	%d2,%d0
		bccs	loc_1167C
		addw	%d1,%d1
		addw	%d1,%d0
		bcss	ShieldTouch_Height
		bras	ShieldTouch_NextObj
/*  --------------------------------------------------------------------------- */

loc_1167C:
		cmpw	%d4,%d0
		bhis	ShieldTouch_NextObj

ShieldTouch_Height:
		moveq	#0,%d1
		moveb	(%a2)+,%d1
		movew	0x14(%a1),%d0
		subw	%d1,%d0
		subw	%d3,%d0
		bccs	loc_11698
		addw	%d1,%d1
		addw	%d1,%d0
		bcsw	loc_1169C
		bras	ShieldTouch_NextObj
/*  --------------------------------------------------------------------------- */

loc_11698:
		cmpw	%d5,%d0
		bhis	ShieldTouch_NextObj

loc_1169C:
		moveb	0x2B(%a1),%d0
		andib	#8,%d0
		beqs	ShieldTouch_NextObj
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		jsr	(GetSineCosine):l
		mulsw	#-0x800,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x800,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		clrb	0x28(%a1)
		rts
/*  End of function ShieldTouchResponse */

/*  --------------------------------------------------------------------------- */

Obj_Sonic2P:
		cmpaw	#Player_1,%a0
		bnes	loc_1170A
		lea	(Max_%speed):w,%a4
		lea	(Distance_from_top):w,%a5
		lea	(Dust):w,%a6
		moveb	(Player_2+character_id):w,%d0
		cmpb	0x38(%a0),%d0
		bnes	loc_116FE
		bchg	#3,4(%a0)

loc_116FE:
		tstw	(Debug_placement_mode):w
		beqs	loc_11726
		jmp	(DebugMode):l
/*  --------------------------------------------------------------------------- */

loc_1170A:
		lea	(Max_%speed_P2):w,%a4
		lea	(Distance_from_top_P2):w,%a5
		lea	(Dust_P2):w,%a6
		moveb	(Player_1+character_id):w,%d0
		cmpb	0x38(%a0),%d0
		bnes	loc_11726
		bchg	#4,4(%a0)

loc_11726:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_11734(%pc,%d0.w),%d1
		jmp	off_11734(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_11734:	.word loc_11740-off_11734
		.word loc_11858-off_11734
		.word loc_13142-off_11734
		.word loc_131FE-off_11734
		.word loc_133D4-off_11734
		.word loc_133E8-off_11734
/*  --------------------------------------------------------------------------- */

loc_11740:
		addqb	#2,5(%a0)
		moveb	#0xB,0x1E(%a0)
		moveb	#5,0x1F(%a0)
		moveb	#0xB,0x44(%a0)
		moveb	#5,0x45(%a0)
		movew	#0x100,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#4,4(%a0)
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a0),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(%a4)
		movew	(%a1)+,2(%a4)
		movew	(%a1)+,4(%a4)
		tstb	(Last_star_post_hit):w
		bnew	loc_1183C
		moveb	#0xC,0x46(%a0)
		moveb	#0xD,0x47(%a0)
		cmpaw	#Player_1,%a0
		bnes	loc_117F4
		movew	#ArtTile_Player_1,0xA(%a0)
		movel	#Map_Sonic2P,0xC(%a0)
		tstb	0x38(%a0)
		beqs	loc_117CC
		movel	#Map_Knuckles2P,0xC(%a0)
		addiw	#0x2000,0xA(%a0)

loc_117CC:
		cmpib	#0x12,(Current_zone):w
		bnes	loc_117DA
		oriw	#0x8000,0xA(%a0)

loc_117DA:
		movew	0x10(%a0),(Saved_X_pos):w
		movew	0x14(%a0),(Saved_Y_pos):w
		movew	0xA(%a0),(Saved_art_tile):w
		movew	0x46(%a0),(Saved_solid_bits):w
		bras	loc_1183C
/*  --------------------------------------------------------------------------- */

loc_117F4:
		movew	#ArtTile_Player_2,0xA(%a0)
		movel	#Map_Sonic2P,0xC(%a0)
		tstb	0x38(%a0)
		beqs	loc_11816
		movel	#Map_Knuckles2P,0xC(%a0)
		addiw	#0x2000,0xA(%a0)

loc_11816:
		cmpib	#0x12,(Current_zone):w
		bnes	loc_11824
		oriw	#0x8000,0xA(%a0)

loc_11824:
		movew	0x10(%a0),(Saved2_X_pos):w
		movew	0x14(%a0),(Saved2_Y_pos):w
		movew	0xA(%a0),(Saved2_art_tile):w
		movew	0x46(%a0),(Saved2_solid_bits):w

loc_1183C:
		moveb	#0,0x30(%a0)
		moveb	#4,0x31(%a0)
		moveb	#0,(Super_Sonic_Knux_flag):w
		moveb	#0x1E,0x2C(%a0)
		bsrw	Reset_Player_Position_Array

loc_11858:
		tstw	(Debug_mode_flag):w
		beqs	loc_11878
		cmpaw	#Player_1,%a0
		bnes	loc_11878
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_11878
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_11878:
		cmpaw	#Player_1,%a0
		bnes	loc_1188C
		tstb	(Ctrl_1_locked):w
		bnes	loc_11898
		movew	(Ctrl_1):w,(Ctrl_1_logical):w
		bras	loc_11898
/*  --------------------------------------------------------------------------- */

loc_1188C:
		tstb	(Ctrl_2_locked):w
		bnes	loc_11898
		movew	(Ctrl_2):w,(Ctrl_1_logical):w

loc_11898:
		bsrw	Sonic_Display
		btst	#0,0x2E(%a0)
		bnes	loc_118B6
		moveq	#0,%d0
		moveb	0x2A(%a0),%d0
		andiw	#6,%d0
		movew	off_11906(%pc,%d0.w),%d1
		jsr	off_11906(%pc,%d1.w)

loc_118B6:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_118C6
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_118C6:
		movew	(Screen_X_wrap_value):w,%d0
		andw	%d0,0x10(%a0)
		addiw	#0x400,0x10(%a0)
		bsrw	Sonic_RecordPos
		moveb	(Primary_Angle):w,0x3A(%a0)
		moveb	(Secondary_Angle):w,0x3B(%a0)
		btst	#1,0x2E(%a0)
		bnes	loc_118F4
		bsrw	Animate_SonicKnuckles_2P
		bsrw	SonicKnuckles2P_Load_PLC

loc_118F4:
		moveb	0x2E(%a0),%d0
		andib	#-0x60,%d0
		bnes	locret_11904
		jsr	(TouchResponse_CompetitionMode):l

locret_11904:
		rts
/*  --------------------------------------------------------------------------- */
off_11906:	.word loc_1190E-off_11906
		.word loc_11980-off_11906
		.word loc_119AE-off_11906
		.word loc_119D0-off_11906
/*  --------------------------------------------------------------------------- */

loc_1190E:
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		bnes	loc_1195C
		cmpib	#0xA,0x20(%a0)
		beqs	locret_1197E
		cmpib	#0xB,0x20(%a0)
		beqs	locret_1197E
		cmpib	#5,0x20(%a0)
		bnes	loc_1195C
		cmpib	#0x1E,0x23(%a0)
		bcss	loc_1195C
		bsrw	Player_SlopeResist
		moveb	(Ctrl_1_held_logical):w,%d0
		andib	#0x7F,%d0
		beqs	loc_11976
		moveb	#0xA,0x20(%a0)
		cmpib	#-0x54,0x23(%a0)
		bcss	loc_11976
		moveb	#0xB,0x20(%a0)
		bras	loc_11976
/*  --------------------------------------------------------------------------- */

loc_1195C:
		bsrw	sub_11A64
		bsrw	Sonic_Jump
		bsrw	Player_SlopeResist
		bsrw	Sonic_Move
		bsrw	sub_119FE
		jsr	(MoveSprite2):l

loc_11976:
		bsrw	Player_AnglePos
		bsrw	Player_SlopeRepel

locret_1197E:
		rts
/*  --------------------------------------------------------------------------- */

loc_11980:
		bsrw	Sonic_JumpHeight
		bsrw	Sonic_ChgJumpDir
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_1199C
		subiw	#0x28,0x1A(%a0)

loc_1199C:
		bsrw	Player_JumpAngle
		moveml	%a4-%a6,-(%sp)
		bsrw	Sonic_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		rts
/*  --------------------------------------------------------------------------- */

loc_119AE:
		tstb	0x3D(%a0)
		bnes	loc_119B8
		bsrw	Sonic_Jump

loc_119B8:
		bsrw	Player_RollRepel
		bsrw	Sonic_RollSpeed
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Player_SlopeRepel
		rts
/*  --------------------------------------------------------------------------- */

loc_119D0:
		bsrw	Sonic_JumpHeight
		bsrw	Sonic_ChgJumpDir
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_119EC
		subiw	#0x28,0x1A(%a0)

loc_119EC:
		bsrw	Player_JumpAngle
		moveml	%a4-%a6,-(%sp)
		bsrw	Sonic_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_119FE:
		tstb	0x2B(%a0)
		bmis	locret_11A24
		movew	0x1C(%a0),%d0
		bpls	loc_11A0C
		negw	%d0

loc_11A0C:
		cmpiw	#0x80,%d0
		bcss	locret_11A24
		moveb	(Ctrl_1_held_logical):w,%d0
		andib	#0xC,%d0
		bnes	locret_11A24
		btst	#1,(Ctrl_1_held_logical):w
		bnes	loc_11A26

locret_11A24:
		rts
/*  --------------------------------------------------------------------------- */

loc_11A26:
		btst	#2,0x2A(%a0)
		beqs	loc_11A30
		rts
/*  --------------------------------------------------------------------------- */

loc_11A30:
		bset	#2,0x2A(%a0)
		moveb	#7,0x1E(%a0)
		moveb	#3,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#4,0x14(%a0)
		movew	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		tstw	0x1C(%a0)
		bnes	locret_11A62
		movew	#0x200,0x1C(%a0)

locret_11A62:
		rts
/*  End of function sub_119FE */


/*  =============== S U B R O U T I N E ======================================= */


sub_11A64:
		tstb	0x3D(%a0)
		bnes	loc_11AB0
		cmpib	#8,0x20(%a0)
		bnes	locret_11AAE
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_11AAE
		moveb	#9,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addql	#4,%sp
		moveb	#1,0x3D(%a0)
		movew	#0,0x3E(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	loc_11AAA
		moveb	#2,0x20(%a6)

loc_11AAA:
		bsrw	Player_AnglePos

locret_11AAE:
		rts
/*  --------------------------------------------------------------------------- */

loc_11AB0:
		moveb	(Ctrl_1_held_logical):w,%d0
		btst	#1,%d0
		bnew	loc_11B5C
		moveb	#7,0x1E(%a0)
		moveb	#3,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#4,0x14(%a0)
		moveb	#0,0x3D(%a0)
		moveq	#0,%d0
		moveb	0x3E(%a0),%d0
		addw	%d0,%d0
		movew	word_11B38(%pc,%d0.w),0x1C(%a0)
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_11AF2
		movew	word_11B4A(%pc,%d0.w),0x1C(%a0)

loc_11AF2:
		movew	0x1C(%a0),%d0
		subiw	#0x800,%d0
		addw	%d0,%d0
		andiw	#0x1F00,%d0
		negw	%d0
		addiw	#0x2000,%d0
		lea	(H_scroll_frame_offset):w,%a1
		cmpaw	#Player_1,%a0
		beqs	loc_11B14
		lea	(H_scroll_frame_offset_P2):w,%a1

loc_11B14:
		movew	%d0,(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_11B22
		negw	0x1C(%a0)

loc_11B22:
		bset	#2,0x2A(%a0)
		moveb	#0,0x20(%a6)
		moveq	#sfx_Dash,%d0
		jsr	(Play_Sound_2):l
		bras	loc_11BA4
/*  --------------------------------------------------------------------------- */
word_11B38:	.word  0x800
		.word  0x880
		.word  0x900
		.word  0x980
		.word  0xA00
		.word  0xA80
		.word  0xB00
		.word  0xB80
		.word  0xC00
word_11B4A:	.word  0xB00
		.word  0xB80
		.word  0xC00
		.word  0xC80
		.word  0xD00
		.word  0xD80
		.word  0xE00
		.word  0xE80
		.word  0xF00
/*  --------------------------------------------------------------------------- */

loc_11B5C:
		tstw	0x3E(%a0)
		beqs	loc_11B74
		movew	0x3E(%a0),%d0
		lsrw	#5,%d0
		subw	%d0,0x3E(%a0)
		bccs	loc_11B74
		movew	#0,0x3E(%a0)

loc_11B74:
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	loc_11BA4
		movew	#0x900,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addiw	#0x200,0x3E(%a0)
		cmpiw	#0x800,0x3E(%a0)
		bcss	loc_11BA4
		movew	#0x800,0x3E(%a0)

loc_11BA4:
		addql	#4,%sp
		cmpiw	#0x60,(%a5)
		beqs	loc_11BB2
		bccs	loc_11BB0
		addqw	#4,(%a5)

loc_11BB0:
		subqw	#2,(%a5)

loc_11BB2:
		bsrw	Player_AnglePos
		rts
/*  End of function sub_11A64 */

/*  --------------------------------------------------------------------------- */

Obj_Sonic:
		lea	(Max_%speed):w,%a4
		lea	(Distance_from_top):w,%a5
		lea	(Dust):w,%a6
		tstw	(Debug_placement_mode):w
		beqs	Sonic_Normal
		cmpib	#1,(Debug_placement_type):w
		beqs	JmpTo_DebugMode
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_11BE0
		movew	#0,(Debug_placement_mode):w

loc_11BE0:
		addqb	#1,0x22(%a0)
		cmpib	#-0x27,0x22(%a0)
		bcss	loc_11BF2
		moveb	#0,0x22(%a0)

loc_11BF2:
		bsrw	Sonic_Load_PLC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

JmpTo_DebugMode:
		jmp	(DebugMode):l
/*  --------------------------------------------------------------------------- */

Sonic_Normal:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	Sonic_Index(%pc,%d0.w),%d1
		jmp	Sonic_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
Sonic_Index:	.word Sonic_Init-Sonic_Index
		.word Sonic_Control-Sonic_Index
		.word loc_13142-Sonic_Index
		.word loc_131FE-Sonic_Index
		.word loc_133D4-Sonic_Index
		.word loc_133E8-Sonic_Index
		.word loc_13404-Sonic_Index
/*  --------------------------------------------------------------------------- */

Sonic_Init:
		addqb	#2,5(%a0)
		moveb	#0x13,0x1E(%a0)
		moveb	#9,0x1F(%a0)
		moveb	#0x13,0x44(%a0)
		moveb	#9,0x45(%a0)
		movel	#Map_Sonic,0xC(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#4,4(%a0)
		moveb	#0,0x38(%a0)
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		tstb	(Last_star_post_hit):w
		bnes	Sonic_Init_Continued
		movew	#ArtTile_Player_1,0xA(%a0)
		moveb	#0xC,0x46(%a0)
		moveb	#0xD,0x47(%a0)
		cmpib	#2,(Special_bonus_entry_flag):w
		beqs	Sonic_Init_Continued
		movew	0x10(%a0),(Saved_X_pos):w
		movew	0x14(%a0),(Saved_Y_pos):w
		movew	0xA(%a0),(Saved_art_tile):w
		movew	0x46(%a0),(Saved_solid_bits):w

Sonic_Init_Continued:
		moveb	#0,0x30(%a0)
		moveb	#4,0x31(%a0)
		moveb	#0,(Super_Sonic_Knux_flag):w
		moveb	#0x1E,0x2C(%a0)
		subiw	#0x20,0x10(%a0)
		addiw	#4,0x14(%a0)
		bsrw	Reset_Player_Position_Array
		addiw	#0x20,0x10(%a0)
		subiw	#4,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Sonic_Control:
		tstw	(Debug_mode_flag):w
		beqs	loc_11D06
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_11D06
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		btst	#5,(Ctrl_1_held):w
		beqs	locret_11D04
		movew	#2,(Debug_placement_mode):w

locret_11D04:
		rts
/*  --------------------------------------------------------------------------- */

loc_11D06:
		tstb	(Ctrl_1_locked):w
		bnes	loc_11D12
		movew	(Ctrl_1):w,(Ctrl_1_logical):w

loc_11D12:
		btst	#0,0x2E(%a0)
		beqs	loc_11D22
		moveb	#0,0x2F(%a0)
		bras	loc_11D3C
/*  --------------------------------------------------------------------------- */

loc_11D22:
		moveml	%a4-%a6,-(%sp)
		moveq	#0,%d0
		moveb	0x2A(%a0),%d0
		andiw	#6,%d0
		movew	Sonic_Modes(%pc,%d0.w),%d1
		jsr	Sonic_Modes(%pc,%d1.w)
		moveml	(%sp)+,%a4-%a6

loc_11D3C:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_11D4C
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_11D4C:
		bsrs	Sonic_Display
		bsrw	Sonic_Super
		bsrw	Sonic_RecordPos
		bsrw	Sonic_Water
		moveb	(Primary_Angle):w,0x3A(%a0)
		moveb	(Secondary_Angle):w,0x3B(%a0)
		tstb	(WindTunnel_flag):w
		beqs	loc_11D78
		tstb	0x20(%a0)
		bnes	loc_11D78
		moveb	0x21(%a0),0x20(%a0)

loc_11D78:
		btst	#1,0x2E(%a0)
		bnes	loc_11D88
		bsrw	Animate_Sonic
		bsrw	Sonic_Load_PLC

loc_11D88:
		moveb	0x2E(%a0),%d0
		andib	#0xA0,%d0
		bnes	locret_11D98
		jsr	(TouchResponse):l

locret_11D98:
		rts
/*  --------------------------------------------------------------------------- */
Sonic_Modes:	.word Sonic_MdNormal-Sonic_Modes
		.word Sonic_MdAir-Sonic_Modes
		.word Sonic_MdRoll-Sonic_Modes
		.word Sonic_MdJump-Sonic_Modes

/*  =============== S U B R O U T I N E ======================================= */


Sonic_Display:
		moveb	0x34(%a0),%d0
		beqs	loc_11DB0
		subqb	#1,0x34(%a0)
		lsrb	#3,%d0
		bccs	loc_11DB6

loc_11DB0:
		jsr	(Draw_Sprite):l

loc_11DB6:
		btst	#1,0x2B(%a0)
		beqs	Sonic_ChkShoes
		tstb	0x35(%a0)
		beqs	Sonic_ChkShoes
		moveb	(Level_frame_counter+1):w,%d0
		andib	#7,%d0
		bnes	Sonic_ChkShoes
		subqb	#1,0x35(%a0)
		bnes	Sonic_ChkShoes
		tstb	(Boss_flag):w
		bnes	Sonic_RmvInvin
		cmpib	#0xC,0x2C(%a0)
		bcss	Sonic_RmvInvin
		movew	(Level_music):w,%d0
		jsr	(Play_Sound):l

Sonic_RmvInvin:
		bclr	#1,0x2B(%a0)

Sonic_ChkShoes:
		btst	#2,0x2B(%a0)
		beqs	Sonic_ExitChk
		tstb	0x36(%a0)
		beqs	Sonic_ExitChk
		moveb	(Level_frame_counter+1):w,%d0
		andib	#7,%d0
		bnes	Sonic_ExitChk
		subqb	#1,0x36(%a0)
		bnes	Sonic_ExitChk
		tstw	(Competition_mode):w
		bnes	Sonic_ChkShoesCompetition
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_11E3C
		movew	#0xA00,(%a4)
		movew	#0x30,2(%a4)
		movew	#0x100,4(%a4)

loc_11E3C:
		bclr	#2,0x2B(%a0)
		moveq	#0,%d0
		jmp	(Change_Music_Tempo):l
/*  --------------------------------------------------------------------------- */

Sonic_ExitChk:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_ChkShoesCompetition:
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a0),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(%a4)
		movew	(%a1)+,2(%a4)
		movew	(%a1)+,4(%a4)
		bclr	#2,0x2B(%a0)
		rts
/*  End of function Sonic_Display */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_RecordPos:
		tstw	(Competition_mode):w
		bnes	Sonic_RecordPosCompetition
		cmpaw	#Player_1,%a0
		bnes	locret_11EA4
		movew	(Pos_table_index):w,%d0
		lea	(Pos_table):w,%a1
		lea	(%a1,%d0.w),%a1
		movew	0x10(%a0),(%a1)+
		movew	0x14(%a0),(%a1)+
		addqb	#4,(Pos_table_index+1):w
		lea	(Stat_table):w,%a1
		lea	(%a1,%d0.w),%a1
		movew	(Ctrl_1_logical):w,(%a1)+
		movew	0x2A(%a0),(%a1)+

locret_11EA4:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_RecordPosCompetition:
		cmpaw	#Player_1,%a0
		bnes	Sonic_RecordPosCompetitionP2
		movew	(Pos_table_index):w,%d0
		lea	(Pos_table):w,%a1
		lea	(%a1,%d0.w),%a1
		movew	0x10(%a0),(%a1)+
		movew	0x14(%a0),(%a1)+
		addqb	#4,(Pos_table_index+1):w
		rts
/*  --------------------------------------------------------------------------- */

Sonic_RecordPosCompetitionP2:
		movew	(Pos_table_index_P2):w,%d0
		lea	(Stat_table):w,%a1
		lea	(%a1,%d0.w),%a1
		movew	0x10(%a0),(%a1)+
		movew	0x14(%a0),(%a1)+
		addqb	#4,(Pos_table_index_P2+1):w
		rts
/*  End of function Sonic_RecordPos */


/*  =============== S U B R O U T I N E ======================================= */


Reset_Player_Position_Array:
		cmpaw	#-0x5000,%a0
		bnes	Reset_Player_Position_ArrayP2
		lea	(Pos_table):w,%a1
		lea	(Stat_table):w,%a2
		movew	#0x3F,%d0

loc_11EF2:
		movew	0x10(%a0),(%a1)+
		movew	0x14(%a0),(%a1)+
		movel	#0,(%a2)+
		dbf	%d0,loc_11EF2
		movew	#0,(Pos_table_index):w

Reset_Player_Position_ArrayP2:
		tstw	(Competition_mode):w
		beqs	locret_11F2A
		lea	(Stat_table):w,%a1
		movew	#0x3F,%d0

loc_11F18:
		movew	0x10(%a0),(%a1)+
		movew	0x14(%a0),(%a1)+
		dbf	%d0,loc_11F18
		movew	#0,(Pos_table_index_P2):w

locret_11F2A:
		rts
/*  End of function Reset_Player_Position_Array */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_Water:
		tstb	(Water_flag):w
		bnes	Sonic_InWater

locret_11F32:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_InWater:
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bges	Sonic_OutWater
		bset	#6,0x2A(%a0)
		bnes	locret_11F32
		addqb	#1,(Water_entered_counter):w
		moveal	%a0,%a1
		bsrw	Player_ResetAirTimer
		movel	#Obj_Air_CountDown,(Breathing_bubbles):w
		moveb	#0x81,(Breathing_bubbles+subtype):w
		movel	%a0,(Breathing_bubbles+0x40):w
		movew	#0x300,(%a4)
		movew	#6,2(%a4)
		movew	#0x40,4(%a4)
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_11F88
		movew	#0x500,(%a4)
		movew	#0x18,2(%a4)
		movew	#0x80,4(%a4)

loc_11F88:
		tstb	0x2E(%a0)
		bnes	locret_11F32
		asr	0x18(%a0)
		asr	0x1A(%a0)
		asr	0x1A(%a0)
		beqs	locret_11F32
		movew	#0x100,0x20(%a6)
		movew	#sfx_Splash,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

Sonic_OutWater:
		bclr	#6,0x2A(%a0)
		beqw	locret_11F32
		addqb	#1,(Water_entered_counter):w
		moveal	%a0,%a1
		bsrw	Player_ResetAirTimer
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_11FE6
		movew	#0xA00,(%a4)
		movew	#0x30,2(%a4)
		movew	#0x100,4(%a4)

loc_11FE6:
		cmpib	#4,5(%a0)
		beqs	loc_12002
		tstb	0x2E(%a0)
		bnes	loc_12002
		movew	0x1A(%a0),%d0
		cmpiw	#-0x400,%d0
		blts	loc_12002
		asl	0x1A(%a0)

loc_12002:
		cmpib	#0x1C,0x20(%a0)
		beqw	locret_11F32
		tstw	0x1A(%a0)
		beqw	locret_11F32
		movew	#0x100,0x20(%a6)
		cmpiw	#-0x1000,0x1A(%a0)
		bgts	loc_12028
		movew	#-0x1000,0x1A(%a0)

loc_12028:
		movew	#sfx_Splash,%d0
		jmp	(Play_Sound_2):l
/*  End of function Sonic_Water */

/*  --------------------------------------------------------------------------- */

Sonic_MdNormal:
		bsrw	Sonic_Spindash
		bsrw	Sonic_Jump
		bsrw	Player_SlopeResist
		bsrw	Sonic_Move
		bsrw	Sonic_Roll
		bsrw	Player_LevelBound
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Player_SlopeRepel
		tstb	(Background_collision_flag):w
		beqs	locret_1207C
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_1207C
		subw	%d1,0x10(%a0)

locret_1207C:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_MdAir:
		bsrw	Sonic_JumpHeight
		bsrw	Sonic_ChgJumpDir
		bsrw	Player_LevelBound
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_1209E
		subiw	#0x28,0x1A(%a0)

loc_1209E:
		bsrw	Player_JumpAngle
		bsrw	Sonic_DoLevelCollision
		rts
/*  --------------------------------------------------------------------------- */

Sonic_MdRoll:
		tstb	0x3D(%a0)
		bnes	loc_120B2
		bsrw	Sonic_Jump

loc_120B2:
		bsrw	Player_RollRepel
		bsrw	Sonic_RollSpeed
		bsrw	Player_LevelBound
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Player_SlopeRepel
		tstb	(Background_collision_flag):w
		beqs	locret_120F0
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_120F0
		subw	%d1,0x10(%a0)

locret_120F0:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_MdJump:
		bsrw	Sonic_JumpHeight
		bsrw	Sonic_ChgJumpDir
		bsrw	Player_LevelBound
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_12112
		subiw	#0x28,0x1A(%a0)

loc_12112:
		bsrw	Player_JumpAngle
		bsrw	Sonic_DoLevelCollision
		rts

/*  =============== S U B R O U T I N E ======================================= */


Sonic_Move:
		movew	(%a4),%d6
		movew	2(%a4),%d5
		movew	4(%a4),%d4
		tstb	0x2B(%a0)
		bmiw	loc_123D6
		tstw	0x32(%a0)
		bnew	loc_1238C
		btst	#2,(Ctrl_1_held_logical):w
		beqs	Sonic_NotLeft
		bsrw	sub_12480

Sonic_NotLeft:
		btst	#3,(Ctrl_1_held_logical):w
		beqs	Sonic_NotRight
		bsrw	sub_1250C

Sonic_NotRight:
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnew	loc_1238C
		tstw	0x1C(%a0)
		bnew	loc_1238C
		bclr	#5,0x2A(%a0)
		moveb	#5,0x20(%a0)
		btst	#3,0x2A(%a0)
		beqw	Sonic_Balance
		moveaw	0x42(%a0),%a1
		tstb	0x2A(%a1)
		bmiw	loc_12338
		moveq	#0,%d1
		moveb	7(%a1),%d1
		movew	%d1,%d2
		addw	%d2,%d2
		subqw	#2,%d2
		addw	0x10(%a0),%d1
		subw	0x10(%a1),%d1
		tstb	(Super_Sonic_Knux_flag):w
		bnew	SuperSonic_Balance
		cmpiw	#2,%d1
		blts	Sonic_BalanceOnObjLeft
		cmpw	%d2,%d1
		bges	Sonic_BalanceOnObjRight
		braw	loc_12338
/*  --------------------------------------------------------------------------- */

SuperSonic_Balance:
		cmpiw	#2,%d1
		bltw	loc_1232A
		cmpw	%d2,%d1
		bgew	loc_1231A
		braw	loc_12338
/*  --------------------------------------------------------------------------- */

Sonic_BalanceOnObjRight:
		btst	#0,0x2A(%a0)
		bnes	loc_121E4
		moveb	#6,0x20(%a0)
		addqw	#6,%d2
		cmpw	%d2,%d1
		bltw	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_121E4:
		bclr	#0,0x2A(%a0)
		moveb	#6,0x20(%a0)
		addqw	#6,%d2
		cmpw	%d2,%d1
		bltw	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

Sonic_BalanceOnObjLeft:
		btst	#0,0x2A(%a0)
		beqs	loc_12222
		moveb	#6,0x20(%a0)
		cmpiw	#-4,%d1
		bgew	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_12222:
		bset	#0,0x2A(%a0)
		moveb	#6,0x20(%a0)
		cmpiw	#-4,%d1
		bgew	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

Sonic_Balance:
		jsr	(ChkFloorEdge):l
		cmpiw	#0xC,%d1
		bltw	loc_12338
		tstb	(Super_Sonic_Knux_flag):w
		bnew	loc_12312
		cmpib	#3,0x3A(%a0)
		bnes	loc_122B4
		btst	#0,0x2A(%a0)
		bnes	loc_1228A
		moveb	#6,0x20(%a0)
		movew	0x10(%a0),%d3
		subqw	#6,%d3
		jsr	(ChkFloorEdge_Part2):l
		cmpiw	#0xC,%d1
		bltw	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_1228A:
		bclr	#0,0x2A(%a0)
		moveb	#6,0x20(%a0)
		movew	0x10(%a0),%d3
		subqw	#6,%d3
		jsr	(ChkFloorEdge_Part2):l
		cmpiw	#0xC,%d1
		bltw	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_122B4:
		cmpib	#3,0x3B(%a0)
		bnes	loc_12338
		btst	#0,0x2A(%a0)
		beqs	loc_122E8
		moveb	#6,0x20(%a0)
		movew	0x10(%a0),%d3
		addqw	#6,%d3
		jsr	(ChkFloorEdge_Part2):l
		cmpiw	#0xC,%d1
		bltw	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_122E8:
		bset	#0,0x2A(%a0)
		moveb	#6,0x20(%a0)
		movew	0x10(%a0),%d3
		addqw	#6,%d3
		jsr	(ChkFloorEdge_Part2):l
		cmpiw	#0xC,%d1
		bltw	loc_1238C
		moveb	#0xC,0x20(%a0)
		braw	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_12312:
		cmpib	#3,0x3A(%a0)
		bnes	loc_12322

loc_1231A:
		bclr	#0,0x2A(%a0)
		bras	loc_12330
/*  --------------------------------------------------------------------------- */

loc_12322:
		cmpib	#3,0x3B(%a0)
		bnes	loc_12338

loc_1232A:
		bset	#0,0x2A(%a0)

loc_12330:
		moveb	#6,0x20(%a0)
		bras	loc_1238C
/*  --------------------------------------------------------------------------- */

loc_12338:
		btst	#0,(Ctrl_1_held_logical):w
		beqs	loc_12362
		moveb	#7,0x20(%a0)
		addqb	#1,0x39(%a0)
		cmpib	#0x78,0x39(%a0)
		bcss	loc_12392
		moveb	#0x78,0x39(%a0)
		cmpiw	#0xC8,(%a5)
		beqs	loc_1239E
		addqw	#2,(%a5)
		bras	loc_1239E
/*  --------------------------------------------------------------------------- */

loc_12362:
		btst	#1,(Ctrl_1_held_logical):w
		beqs	loc_1238C
		moveb	#8,0x20(%a0)
		addqb	#1,0x39(%a0)
		cmpib	#0x78,0x39(%a0)
		bcss	loc_12392
		moveb	#0x78,0x39(%a0)
		cmpiw	#8,(%a5)
		beqs	loc_1239E
		subqw	#2,(%a5)
		bras	loc_1239E
/*  --------------------------------------------------------------------------- */

loc_1238C:
		moveb	#0,0x39(%a0)

loc_12392:
		cmpiw	#0x60,(%a5)
		beqs	loc_1239E
		bccs	loc_1239C
		addqw	#4,(%a5)

loc_1239C:
		subqw	#2,(%a5)

loc_1239E:
		tstb	(Super_Sonic_Knux_flag):w
		beqw	loc_123AA
		movew	#0xC,%d5

loc_123AA:
		moveb	(Ctrl_1_held_logical):w,%d0
		andib	#0xC,%d0
		bnes	loc_123D6
		movew	0x1C(%a0),%d0
		beqs	loc_123D6
		bmis	loc_123CA
		subw	%d5,%d0
		bccs	loc_123C4
		movew	#0,%d0

loc_123C4:
		movew	%d0,0x1C(%a0)
		bras	loc_123D6
/*  --------------------------------------------------------------------------- */

loc_123CA:
		addw	%d5,%d0
		bccs	loc_123D2
		movew	#0,%d0

loc_123D2:
		movew	%d0,0x1C(%a0)

loc_123D6:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a0),%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a0)
		mulsw	0x1C(%a0),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)

loc_123F4:
		btst	#6,0x2E(%a0)
		bnew	locret_1247E
		moveb	0x26(%a0),%d0
		addib	#0x40,%d0
		bmis	locret_1247E
		moveb	#0x40,%d1
		tstw	0x1C(%a0)
		beqs	locret_1247E
		bmis	loc_12416
		negw	%d1

loc_12416:
		moveb	0x26(%a0),%d0
		addb	%d1,%d0
		movew	%d0,-(%sp)
		bsrw	sub_10980
		movew	(%sp)+,%d0
		tstw	%d1
		bpls	locret_1247E
		aslw	#8,%d1
		addib	#0x20,%d0
		andib	#-0x40,%d0
		beqs	loc_1247A
		cmpib	#0x40,%d0
		beqs	loc_12460
		cmpib	#-0x80,%d0
		beqs	loc_1245A
		addw	%d1,0x18(%a0)
		movew	#0,0x1C(%a0)
		btst	#0,0x2A(%a0)
		bnes	locret_12458
		bset	#5,0x2A(%a0)

locret_12458:
		rts
/*  --------------------------------------------------------------------------- */

loc_1245A:
		subw	%d1,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_12460:
		subw	%d1,0x18(%a0)
		movew	#0,0x1C(%a0)
		btst	#0,0x2A(%a0)
		beqs	locret_12458
		bset	#5,0x2A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1247A:
		addw	%d1,0x1A(%a0)

locret_1247E:
		rts
/*  End of function Sonic_Move */


/*  =============== S U B R O U T I N E ======================================= */


sub_12480:
		movew	0x1C(%a0),%d0
		beqs	loc_12488
		bpls	loc_124BA

loc_12488:
		bset	#0,0x2A(%a0)
		bnes	loc_1249C
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)

loc_1249C:
		subw	%d5,%d0
		movew	%d6,%d1
		negw	%d1
		cmpw	%d1,%d0
		bgts	loc_124AE
		addw	%d5,%d0
		cmpw	%d1,%d0
		bles	loc_124AE
		movew	%d1,%d0

loc_124AE:
		movew	%d0,0x1C(%a0)
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_124BA:
		subw	%d4,%d0
		bccs	loc_124C2
		movew	#-0x80,%d0

loc_124C2:
		movew	%d0,0x1C(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnes	locret_1250A
		cmpiw	#0x400,%d0
		blts	locret_1250A
		tstb	0x2D(%a0)
		bmis	locret_1250A
		movew	#sfx_Skid,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xD,0x20(%a0)
		bclr	#0,0x2A(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	locret_1250A
		moveb	#6,5(%a6)
		moveb	#0x15,0x22(%a6)

locret_1250A:
		rts
/*  End of function sub_12480 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1250C:
		movew	0x1C(%a0),%d0
		bmis	loc_12540
		bclr	#0,0x2A(%a0)
		beqs	loc_12526
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)

loc_12526:
		addw	%d5,%d0
		cmpw	%d6,%d0
		blts	loc_12534
		subw	%d5,%d0
		cmpw	%d6,%d0
		bges	loc_12534
		movew	%d6,%d0

loc_12534:
		movew	%d0,0x1C(%a0)
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_12540:
		addw	%d4,%d0
		bccs	loc_12548
		movew	#0x80,%d0

loc_12548:
		movew	%d0,0x1C(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnes	locret_12590
		cmpiw	#-0x400,%d0
		bgts	locret_12590
		tstb	0x2D(%a0)
		bmis	locret_12590
		movew	#sfx_Skid,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xD,0x20(%a0)
		bset	#0,0x2A(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	locret_12590
		moveb	#6,5(%a6)
		moveb	#0x15,0x22(%a6)

locret_12590:
		rts
/*  End of function sub_1250C */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_RollSpeed:
		movew	(%a4),%d6
		aslw	#1,%d6
		movew	2(%a4),%d5
		asrw	#1,%d5
		movew	#0x20,%d4
		tstb	0x3D(%a0)
		bmiw	loc_12636
		tstb	0x2B(%a0)
		bmiw	loc_12636
		tstw	0x32(%a0)
		bnes	loc_125CE
		btst	#2,(Ctrl_1_held_logical):w
		beqs	loc_125C2
		bsrw	sub_12678

loc_125C2:
		btst	#3,(Ctrl_1_held_logical):w
		beqs	loc_125CE
		bsrw	sub_1269C

loc_125CE:
		movew	0x1C(%a0),%d0
		beqs	loc_125F0
		bmis	loc_125E4
		subw	%d5,%d0
		bccs	loc_125DE
		movew	#0,%d0

loc_125DE:
		movew	%d0,0x1C(%a0)
		bras	loc_125F0
/*  --------------------------------------------------------------------------- */

loc_125E4:
		addw	%d5,%d0
		bccs	loc_125EC
		movew	#0,%d0

loc_125EC:
		movew	%d0,0x1C(%a0)

loc_125F0:
		tstw	0x1C(%a0)
		bnes	loc_12636
		tstb	0x3D(%a0)
		bnes	loc_12624
		bclr	#2,0x2A(%a0)
		moveb	0x1E(%a0),%d0
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		moveb	#5,0x20(%a0)
		subb	0x44(%a0),%d0
		extw	%d0
		addw	%d0,0x14(%a0)
		bras	loc_12636
/*  --------------------------------------------------------------------------- */

loc_12624:
		movew	#0x400,0x1C(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_12636
		negw	0x1C(%a0)

loc_12636:
		cmpiw	#0x60,(%a5)
		beqs	loc_12642
		bccs	loc_12640
		addqw	#4,(%a5)

loc_12640:
		subqw	#2,(%a5)

loc_12642:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a0),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)
		mulsw	0x1C(%a0),%d1
		asrl	#8,%d1
		cmpiw	#0x1000,%d1
		bles	loc_12666
		movew	#0x1000,%d1

loc_12666:
		cmpiw	#-0x1000,%d1
		bges	loc_12670
		movew	#-0x1000,%d1

loc_12670:
		movew	%d1,0x18(%a0)
		braw	loc_123F4
/*  End of function Sonic_RollSpeed */


/*  =============== S U B R O U T I N E ======================================= */


sub_12678:
		movew	0x1C(%a0),%d0
		beqs	loc_12680
		bpls	loc_1268E

loc_12680:
		bset	#0,0x2A(%a0)
		moveb	#2,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1268E:
		subw	%d4,%d0
		bccs	loc_12696
		movew	#-0x80,%d0

loc_12696:
		movew	%d0,0x1C(%a0)
		rts
/*  End of function sub_12678 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1269C:
		movew	0x1C(%a0),%d0
		bmis	loc_126B0
		bclr	#0,0x2A(%a0)
		moveb	#2,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_126B0:
		addw	%d4,%d0
		bccs	loc_126B8
		movew	#0x80,%d0

loc_126B8:
		movew	%d0,0x1C(%a0)
		rts
/*  End of function sub_1269C */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_ChgJumpDir:
		movew	(%a4),%d6
		movew	2(%a4),%d5
		aslw	#1,%d5
		btst	#4,0x2A(%a0)
		bnes	Sonic_Jump_ResetScr
		movew	0x18(%a0),%d0
		btst	#2,(Ctrl_1_held_logical):w
		beqs	loc_126F2
		bset	#0,0x2A(%a0)
		subw	%d5,%d0
		movew	%d6,%d1
		negw	%d1
		cmpw	%d1,%d0
		bgts	loc_126F2
		addw	%d5,%d0
		cmpw	%d1,%d0
		bles	loc_126F2
		movew	%d1,%d0

loc_126F2:
		btst	#3,(Ctrl_1_held_logical):w
		beqs	loc_1270E
		bclr	#0,0x2A(%a0)
		addw	%d5,%d0
		cmpw	%d6,%d0
		blts	loc_1270E
		subw	%d5,%d0
		cmpw	%d6,%d0
		bges	loc_1270E
		movew	%d6,%d0

loc_1270E:
		movew	%d0,0x18(%a0)

Sonic_Jump_ResetScr:
		cmpiw	#0x60,(%a5)
		beqs	Sonic_JumpPeakDecelerate
		bccs	loc_1271C
		addqw	#4,(%a5)

loc_1271C:
		subqw	#2,(%a5)

Sonic_JumpPeakDecelerate:
		cmpiw	#-0x400,0x1A(%a0)
		bcss	locret_1274C
		movew	0x18(%a0),%d0
		movew	%d0,%d1
		asrw	#5,%d1
		beqs	locret_1274C
		bmis	Sonic_JumpPeakDecelerateLeft
		subw	%d1,%d0
		bccs	loc_1273A
		movew	#0,%d0

loc_1273A:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Sonic_JumpPeakDecelerateLeft:
		subw	%d1,%d0
		bcss	loc_12748
		movew	#0,%d0

loc_12748:
		movew	%d0,0x18(%a0)

locret_1274C:
		rts
/*  End of function Sonic_ChgJumpDir */


/*  =============== S U B R O U T I N E ======================================= */


Player_LevelBound:
		movel	0x10(%a0),%d1
		movew	0x18(%a0),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d1
		swap	%d1
		movew	(Camera_min_X_pos):w,%d0
		addiw	#0x10,%d0
		cmpw	%d1,%d0
		bhis	Player_Boundary_Sides
		movew	(Camera_max_X_pos):w,%d0
		addiw	#0x128,%d0
		cmpw	%d1,%d0
		blss	Player_Boundary_Sides

Player_Boundary_CheckBottom:
		tstb	(Disable_death_plane):w
		bnes	locret_1278A
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0xE0,%d0
		cmpw	0x14(%a0),%d0
		blts	Player_Boundary_Bottom

locret_1278A:
		rts
/*  --------------------------------------------------------------------------- */

Player_Boundary_Bottom:
		jmp	(Kill_Character):l
/*  --------------------------------------------------------------------------- */

Player_Boundary_Sides:
		movew	%d0,0x10(%a0)
		movew	#0,0x12(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1C(%a0)
		bras	Player_Boundary_CheckBottom
/*  End of function Player_LevelBound */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_Roll:
		tstb	0x2B(%a0)
		bmis	locret_127D0
		movew	0x1C(%a0),%d0
		bpls	loc_127B8
		negw	%d0

loc_127B8:
		cmpiw	#0x80,%d0
		bcss	locret_127D0
		moveb	(Ctrl_1_held_logical):w,%d0
		andib	#0xC,%d0
		bnes	locret_127D0
		btst	#1,(Ctrl_1_held_logical):w
		bnes	Player_ChkRoll

locret_127D0:
		rts
/*  --------------------------------------------------------------------------- */

Player_ChkRoll:
		btst	#2,0x2A(%a0)
		beqs	Player_DoRoll
		rts
/*  --------------------------------------------------------------------------- */

Player_DoRoll:
		bset	#2,0x2A(%a0)
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#5,0x14(%a0)
		movew	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		tstw	0x1C(%a0)
		bnes	locret_1280E
		movew	#0x200,0x1C(%a0)

locret_1280E:
		rts
/*  End of function Sonic_Roll */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_Jump:
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_128D0
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		addib	#-0x80,%d0
		moveml	%a4-%a6,-(%sp)
		bsrw	CalcRoomOverHead
		moveml	(%sp)+,%a4-%a6
		cmpiw	#6,%d1
		bltw	locret_128D0
		movew	#0x680,%d2
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_12848
		movew	#0x800,%d2

loc_12848:
		btst	#6,0x2A(%a0)
		beqs	loc_12854
		movew	#0x380,%d2

loc_12854:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		subib	#0x40,%d0
		jsr	(GetSineCosine):l
		mulsw	%d2,%d1
		asrl	#8,%d1
		addw	%d1,0x18(%a0)
		mulsw	%d2,%d0
		asrl	#8,%d0
		addw	%d0,0x1A(%a0)
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		addql	#4,%sp
		moveb	#1,0x40(%a0)
		clrb	0x3C(%a0)
		movew	#sfx_Jump,%d0
		jsr	(Play_Sound_2):l
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		btst	#2,0x2A(%a0)
		bnes	Sonic_RollJump
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		bset	#2,0x2A(%a0)
		moveb	0x1E(%a0),%d0
		subb	0x44(%a0),%d0
		extw	%d0
		subw	%d0,0x14(%a0)

locret_128D0:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_RollJump:
		bset	#4,0x2A(%a0)
		rts
/*  End of function Sonic_Jump */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_JumpHeight:
		tstb	0x40(%a0)
		beqs	Sonic_UpVelCap
		movew	#-0x400,%d1
		btst	#6,0x2A(%a0)
		beqs	loc_128F0
		movew	#-0x200,%d1

loc_128F0:
		cmpw	0x1A(%a0),%d1
		blew	Sonic_InstaAndShieldMoves
		moveb	(Ctrl_1_held_logical):w,%d0
		andib	#0x70,%d0
		bnes	locret_12906
		movew	%d1,0x1A(%a0)

locret_12906:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_UpVelCap:
		tstb	0x3D(%a0)
		bnes	locret_1291C
		cmpiw	#-0xFC0,0x1A(%a0)
		bges	locret_1291C
		movew	#-0xFC0,0x1A(%a0)

locret_1291C:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_InstaAndShieldMoves:
		tstb	0x2F(%a0)
		bnew	locret_12A20
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_12A20
		bclr	#4,0x2A(%a0)
		tstb	(Super_Sonic_Knux_flag):w
		beqs	Sonic_FireShield
		moveb	#1,0x2F(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Sonic_FireShield:
		btst	#1,0x2B(%a0)
		bnew	locret_12A20
		btst	#4,0x2B(%a0)
		beqs	Sonic_LightningShield
		moveb	#1,(Shield+anim):w
		moveb	#1,0x2F(%a0)
		movew	#0x800,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_12972
		negw	%d0

loc_12972:
		movew	%d0,0x18(%a0)
		movew	%d0,0x1C(%a0)
		movew	#0,0x1A(%a0)
		movew	#0x2000,(H_scroll_frame_offset):w
		bsrw	Reset_Player_Position_Array
		movew	#sfx_FireAttack,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

Sonic_LightningShield:
		btst	#5,0x2B(%a0)
		beqs	Sonic_BubbleShield
		moveb	#1,(Shield+anim):w
		moveb	#1,0x2F(%a0)
		movew	#-0x580,0x1A(%a0)
		clrb	0x40(%a0)
		movew	#sfx_ElectricAttack,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

Sonic_BubbleShield:
		btst	#6,0x2B(%a0)
		beqs	Sonic_CheckTransform
		moveb	#1,(Shield+anim):w
		moveb	#1,0x2F(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1C(%a0)
		movew	#0x800,0x1A(%a0)
		movew	#sfx_BubbleAttack,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

Sonic_CheckTransform:
		cmpiw	#7,(Emerald_count):w
		bcss	Sonic_InstaShield
		cmpiw	#50,(Ring_count):w
		bcss	Sonic_InstaShield
		tstb	(Update_HUD_timer):w
		bnes	Sonic_Transform

Sonic_InstaShield:
		btst	#0,0x2B(%a0)
		bnes	locret_12A20
		moveb	#1,(Shield+anim):w
		moveb	#1,0x2F(%a0)
		movew	#sfx_InstaAttack,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

locret_12A20:
		rts
/*  --------------------------------------------------------------------------- */

Sonic_Transform:
		moveb	#1,(Super_palette_status):w
		moveb	#0xF,(Palette_timer):w
		moveb	#1,(Super_Sonic_Knux_flag):w
		movew	#60,(Super_frame_count):w
		movel	#Map_SuperSonic,0xC(%a0)
		moveb	#0x81,0x2E(%a0)
		moveb	#0x1F,0x20(%a0)
		movel	#Obj_SuperSonic_Stars,(Super_stars):w
		movew	#0xA00,(%a4)
		movew	#0x30,2(%a4)
		movew	#0x100,4(%a4)
		moveb	#0,0x35(%a0)
		bset	#1,0x2B(%a0)
		movew	#0xFF00|sfx_SuperTransform,%d0
		jsr	(Play_Sound_2):l
		movew	#mus_Invincibility,%d0
		jmp	(Play_Sound):l
/*  End of function Sonic_JumpHeight */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_Super:
		tstb	(Super_Sonic_Knux_flag):w
		beqw	locret_12B26
		tstb	(Update_HUD_timer):w
		beqs	loc_12AD2
		subqw	#1,(Super_frame_count):w
		bplw	locret_12B26
		movew	#60,(Super_frame_count):w
		tstw	(Ring_count):w
		beqs	loc_12AD2
		orib	#1,(Update_HUD_ring_count):w
		cmpiw	#1,(Ring_count):w
		beqs	loc_12AC6
		cmpiw	#0xA,(Ring_count):w
		beqs	loc_12AC6
		cmpiw	#0x64,(Ring_count):w
		bnes	loc_12ACC

loc_12AC6:
		orib	#0x80,(Update_HUD_ring_count):w

loc_12ACC:
		subqw	#1,(Ring_count):w
		bnes	locret_12B26

loc_12AD2:
		moveb	#2,(Super_palette_status):w
		movew	#0x1E,(Palette_frame):w
		moveb	#0,(Super_Sonic_Knux_flag):w
		moveb	#-1,(Player_prev_frame):w
		movel	#Map_Sonic,0xC(%a0)
		moveb	#1,0x21(%a0)
		moveb	#1,0x35(%a0)
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		btst	#6,0x2A(%a0)
		beqs	locret_12B26
		movew	#0x300,(%a4)
		movew	#6,2(%a4)
		movew	#0x40,4(%a4)

locret_12B26:
		rts
/*  End of function Sonic_Super */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_Spindash:
		tstb	0x3D(%a0)
		bnes	loc_12B9C
		cmpib	#8,0x20(%a0)
		bnes	locret_12B9A
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_12B9A
		moveb	#9,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addql	#4,%sp
		moveb	#1,0x3D(%a0)
		movew	#0,0x3E(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	loc_12B6E
		moveb	#2,0x20(%a6)

loc_12B6E:
		bsrw	Player_LevelBound
		bsrw	Player_AnglePos
		tstb	(Background_collision_flag):w
		beqs	locret_12B9A
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_12B9A
		subw	%d1,0x10(%a0)

locret_12B9A:
		rts
/*  --------------------------------------------------------------------------- */

loc_12B9C:
		moveb	(Ctrl_1_held_logical):w,%d0
		btst	#1,%d0
		bnew	loc_12C48
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#5,0x14(%a0)
		moveb	#0,0x3D(%a0)
		moveq	#0,%d0
		moveb	0x3E(%a0),%d0
		addw	%d0,%d0
		movew	word_12C24(%pc,%d0.w),0x1C(%a0)
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_12BDE
		movew	word_12C36(%pc,%d0.w),0x1C(%a0)

loc_12BDE:
		movew	0x1C(%a0),%d0
		subiw	#0x800,%d0
		addw	%d0,%d0
		andiw	#0x1F00,%d0
		negw	%d0
		addiw	#0x2000,%d0
		lea	(H_scroll_frame_offset):w,%a1
		cmpaw	#Player_1,%a0
		beqs	loc_12C00
		lea	(H_scroll_frame_offset_P2):w,%a1

loc_12C00:
		movew	%d0,(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_12C0E
		negw	0x1C(%a0)

loc_12C0E:
		bset	#2,0x2A(%a0)
		moveb	#0,0x20(%a6)
		moveq	#sfx_Dash,%d0
		jsr	(Play_Sound_2):l
		bras	loc_12C90
/*  --------------------------------------------------------------------------- */
word_12C24:	.word 0x800
		.word 0x880
		.word 0x900
		.word 0x980
		.word 0xA00
		.word 0xA80
		.word 0xB00
		.word 0xB80
		.word 0xC00
word_12C36:	.word 0xB00
		.word 0xB80
		.word 0xC00
		.word 0xC80
		.word 0xD00
		.word 0xD80
		.word 0xE00
		.word 0xE80
		.word 0xF00
/*  --------------------------------------------------------------------------- */

loc_12C48:
		tstw	0x3E(%a0)
		beqs	loc_12C60
		movew	0x3E(%a0),%d0
		lsrw	#5,%d0
		subw	%d0,0x3E(%a0)
		bccs	loc_12C60
		movew	#0,0x3E(%a0)

loc_12C60:
		moveb	(Ctrl_1_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	loc_12C90
		movew	#0x900,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addiw	#0x200,0x3E(%a0)
		cmpiw	#0x800,0x3E(%a0)
		bcss	loc_12C90
		movew	#0x800,0x3E(%a0)

loc_12C90:
		addql	#4,%sp
		cmpiw	#0x60,(%a5)
		beqs	loc_12C9E
		bccs	loc_12C9C
		addqw	#4,(%a5)

loc_12C9C:
		subqw	#2,(%a5)

loc_12C9E:
		bsrw	Player_LevelBound
		bsrw	Player_AnglePos
		tstb	(Background_collision_flag):w
		beqs	locret_12CCA
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_12CCA
		subw	%d1,0x10(%a0)

locret_12CCA:
		rts
/*  End of function Sonic_Spindash */


/*  =============== S U B R O U T I N E ======================================= */


Player_SlopeResist:
		moveb	0x26(%a0),%d0
		addib	#0x60,%d0
		cmpib	#-0x40,%d0
		bccs	locret_12D00
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	#0x20,%d0
		asrl	#8,%d0
		tstw	0x1C(%a0)
		beqs	loc_12D02
		bmis	loc_12CFC
		tstw	%d0
		beqs	locret_12CFA
		addw	%d0,0x1C(%a0)

locret_12CFA:
		rts
/*  --------------------------------------------------------------------------- */

loc_12CFC:
		addw	%d0,0x1C(%a0)

locret_12D00:
		rts
/*  --------------------------------------------------------------------------- */

loc_12D02:
		movew	%d0,%d1
		bpls	loc_12D08
		negw	%d1

loc_12D08:
		cmpiw	#0xD,%d1
		bcss	locret_12D00
		addw	%d0,0x1C(%a0)
		rts
/*  End of function Player_SlopeResist */


/*  =============== S U B R O U T I N E ======================================= */


Player_RollRepel:
		moveb	0x26(%a0),%d0
		addib	#0x60,%d0
		cmpib	#-0x40,%d0
		bccs	locret_12D4E
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	#0x50,%d0
		asrl	#8,%d0
		tstw	0x1C(%a0)
		bmis	loc_12D44
		tstw	%d0
		bpls	loc_12D3E
		asrl	#2,%d0

loc_12D3E:
		addw	%d0,0x1C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_12D44:
		tstw	%d0
		bmis	loc_12D4A
		asrl	#2,%d0

loc_12D4A:
		addw	%d0,0x1C(%a0)

locret_12D4E:
		rts
/*  End of function Player_RollRepel */


/*  =============== S U B R O U T I N E ======================================= */


Player_SlopeRepel:
		nop
		tstb	0x3C(%a0)
		bnes	locret_12D94
		tstw	0x32(%a0)
		bnes	loc_12DAC
		moveb	0x26(%a0),%d0
		addib	#0x18,%d0
		cmpib	#0x30,%d0
		bcss	locret_12D94
		movew	0x1C(%a0),%d0
		bpls	loc_12D74
		negw	%d0

loc_12D74:
		cmpiw	#0x280,%d0
		bccs	locret_12D94
		movew	#0x1E,0x32(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x30,%d0
		cmpib	#0x60,%d0
		bcss	loc_12D96
		bset	#1,0x2A(%a0)

locret_12D94:
		rts
/*  --------------------------------------------------------------------------- */

loc_12D96:
		cmpib	#0x30,%d0
		bcss	loc_12DA4
		addiw	#0x80,0x1C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_12DA4:
		subiw	#0x80,0x1C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_12DAC:
		subqw	#1,0x32(%a0)
		rts
/*  End of function Player_SlopeRepel */


/*  =============== S U B R O U T I N E ======================================= */


Player_JumpAngle:
		moveb	0x26(%a0),%d0
		beqs	Player_JumpFlip
		bpls	loc_12DC2
		addqb	#2,%d0
		bccs	loc_12DC0
		moveq	#0,%d0

loc_12DC0:
		bras	Player_JumpAngleSet
/*  --------------------------------------------------------------------------- */

loc_12DC2:
		subqb	#2,%d0
		bccs	Player_JumpAngleSet
		moveq	#0,%d0

Player_JumpAngleSet:
		moveb	%d0,0x26(%a0)

Player_JumpFlip:
		moveb	0x27(%a0),%d0
		beqs	locret_12E10
		tstw	0x1C(%a0)
		bmis	Player_JumpLeftFlip

Player_JumpRightFlip:
		moveb	0x31(%a0),%d1
		addb	%d1,%d0
		bccs	loc_12DEE
		subqb	#1,0x30(%a0)
		bccs	loc_12DEE
		moveb	#0,0x30(%a0)
		moveq	#0,%d0

loc_12DEE:
		bras	Player_JumpFlipSet
/*  --------------------------------------------------------------------------- */

Player_JumpLeftFlip:
		tstb	0x2D(%a0)
		bmis	Player_JumpRightFlip
		moveb	0x31(%a0),%d1
		subb	%d1,%d0
		bccs	Player_JumpFlipSet
		subqb	#1,0x30(%a0)
		bccs	Player_JumpFlipSet
		moveb	#0,0x30(%a0)
		moveq	#0,%d0

Player_JumpFlipSet:
		moveb	%d0,0x27(%a0)

locret_12E10:
		rts
/*  End of function Player_JumpAngle */


/*  =============== S U B R O U T I N E ======================================= */


Sonic_DoLevelCollision:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_12E26
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_12E26:
		moveb	0x47(%a0),%d5
		movew	0x18(%a0),%d1
		movew	0x1A(%a0),%d2
		jsr	(GetArcTan):l
		subib	#0x20,%d0
		andib	#-0x40,%d0
		cmpib	#0x40,%d0
		beqw	Player_HitLeftWall
		cmpib	#-0x80,%d0
		beqw	Player_HitCeilingAndWalls
		cmpib	#-0x40,%d0
		beqw	loc_12FCC
		bsrw	CheckLeftWallDist
		tstw	%d1
		bpls	loc_12E6A
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_12E6A:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	loc_12E7C
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_12E7C:
		bsrw	Sonic_CheckFloor
		tstw	%d1
		bpls	locret_12EF2
		moveb	0x1A(%a0),%d2
		addqb	#8,%d2
		negb	%d2
		cmpb	%d2,%d1
		bges	loc_12E94
		cmpb	%d2,%d0
		blts	locret_12EF2

loc_12E94:
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		moveb	%d3,%d0
		addib	#0x20,%d0
		andib	#0x40,%d0
		bnes	loc_12ECC
		moveb	%d3,%d0
		addib	#0x10,%d0
		andib	#0x20,%d0
		beqs	loc_12EBA
		asr	0x1A(%a0)
		bras	loc_12EE0
/*  --------------------------------------------------------------------------- */

loc_12EBA:
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		bsrw	Player_TouchFloor_Check_Spindash
		rts
/*  --------------------------------------------------------------------------- */

loc_12ECC:
		movew	#0,0x18(%a0)
		cmpiw	#0xFC0,0x1A(%a0)
		bles	loc_12EE0
		movew	#0xFC0,0x1A(%a0)

loc_12EE0:
		bsrw	Player_TouchFloor_Check_Spindash
		movew	0x1A(%a0),0x1C(%a0)
		tstb	%d3
		bpls	locret_12EF2
		negw	0x1C(%a0)

locret_12EF2:
		rts
/*  --------------------------------------------------------------------------- */

Player_HitLeftWall:
		bsrw	CheckLeftWallDist
		tstw	%d1
		bpls	Player_HitCeiling
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)
		movew	0x1A(%a0),0x1C(%a0)

Player_HitCeiling:
		bsrw	Sonic_CheckCeiling
		tstw	%d1
		bpls	loc_12F42
		negw	%d1
		cmpiw	#0x14,%d1
		bccs	loc_12F2E
		addw	%d1,0x14(%a0)
		tstw	0x1A(%a0)
		bpls	locret_12F2C
		movew	#0,0x1A(%a0)

locret_12F2C:
		rts
/*  --------------------------------------------------------------------------- */

loc_12F2E:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	locret_12F40
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

locret_12F40:
		rts
/*  --------------------------------------------------------------------------- */

loc_12F42:
		tstb	(WindTunnel_flag):w
		bnes	loc_12F4E
		tstw	0x1A(%a0)
		bmis	locret_12F6E

loc_12F4E:
		bsrw	Sonic_CheckFloor
		tstw	%d1
		bpls	locret_12F6E
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		bsrw	Player_TouchFloor_Check_Spindash

locret_12F6E:
		rts
/*  --------------------------------------------------------------------------- */

Player_HitCeilingAndWalls:
		bsrw	CheckLeftWallDist
		tstw	%d1
		bpls	loc_12F82
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_12F82:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	loc_12F94
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_12F94:
		bsrw	Sonic_CheckCeiling
		tstw	%d1
		bpls	locret_12FCA
		subw	%d1,0x14(%a0)
		moveb	%d3,%d0
		addib	#0x20,%d0
		andib	#0x40,%d0
		bnes	loc_12FB4
		movew	#0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_12FB4:
		moveb	%d3,0x26(%a0)
		bsrw	Player_TouchFloor_Check_Spindash
		movew	0x1A(%a0),0x1C(%a0)
		tstb	%d3
		bpls	locret_12FCA
		negw	0x1C(%a0)

locret_12FCA:
		rts
/*  --------------------------------------------------------------------------- */

loc_12FCC:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	loc_12FE4
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)
		movew	0x1A(%a0),0x1C(%a0)

loc_12FE4:
		bsrw	Sonic_CheckCeiling
		tstw	%d1
		bpls	loc_12FFE
		subw	%d1,0x14(%a0)
		tstw	0x1A(%a0)
		bpls	locret_12FFC
		movew	#0,0x1A(%a0)

locret_12FFC:
		rts
/*  --------------------------------------------------------------------------- */

loc_12FFE:
		tstb	(WindTunnel_flag):w
		bnes	loc_1300A
		tstw	0x1A(%a0)
		bmis	locret_1302A

loc_1300A:
		bsrw	Sonic_CheckFloor
		tstw	%d1
		bpls	locret_1302A
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		bsrw	Player_TouchFloor_Check_Spindash

locret_1302A:
		rts
/*  End of function Sonic_DoLevelCollision */


/*  =============== S U B R O U T I N E ======================================= */


Player_TouchFloor_Check_Spindash:
		tstb	0x3D(%a0)
		bnes	loc_13070
		moveb	#0,0x20(%a0)
/*  End of function Player_TouchFloor_Check_Spindash */


/*  =============== S U B R O U T I N E ======================================= */


Player_TouchFloor:
		cmpil	#Obj_Tails,(%a0)
		beqw	Tails_TouchFloor
		moveb	0x1E(%a0),%d0
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		btst	#2,0x2A(%a0)
		beqs	loc_13070
		bclr	#2,0x2A(%a0)
		moveb	#0,0x20(%a0)
		subb	0x44(%a0),%d0
		extw	%d0
		addw	%d0,0x14(%a0)

loc_13070:
		bclr	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		bclr	#4,0x2A(%a0)
		moveb	#0,0x40(%a0)
		movew	#0,(Chain_bonus_counter):w
		moveb	#0,0x27(%a0)
		moveb	#0,0x2D(%a0)
		moveb	#0,0x30(%a0)
		moveb	#0,0x39(%a0)
		tstb	0x2F(%a0)
		beqs	locret_130BC
		btst	#6,0x2B(%a0)
		beqs	loc_130B6
		bsrs	BubbleShield_Bounce

loc_130B6:
		moveb	#0,0x2F(%a0)

locret_130BC:
		rts
/*  End of function Player_TouchFloor */


/*  =============== S U B R O U T I N E ======================================= */


BubbleShield_Bounce:
		moveml	%d1-%d2,-(%sp)
		movew	#0x780,%d2
		btst	#6,0x2A(%a0)
		beqs	loc_130D2
		movew	#0x400,%d2

loc_130D2:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		subib	#0x40,%d0
		jsr	(GetSineCosine):l
		mulsw	%d2,%d1
		asrl	#8,%d1
		addw	%d1,0x18(%a0)
		mulsw	%d2,%d0
		asrl	#8,%d0
		addw	%d0,0x1A(%a0)
		moveml	(%sp)+,%d1-%d2
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		moveb	#1,0x40(%a0)
		clrb	0x3C(%a0)
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		bset	#2,0x2A(%a0)
		moveb	0x1E(%a0),%d0
		subb	0x44(%a0),%d0
		extw	%d0
		subw	%d0,0x14(%a0)
		moveb	#2,(Shield+anim):w
		movew	#sfx_BubbleAttack,%d0
		jmp	(Play_Sound_2):l
/*  End of function BubbleShield_Bounce */

/*  --------------------------------------------------------------------------- */

loc_13142:
		tstw	(Debug_mode_flag):w
		beqs	loc_1315C
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_1315C
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1315C:
		jsr	(MoveSprite2):l
		addiw	#0x30,0x1A(%a0)
		btst	#6,0x2A(%a0)
		beqs	loc_13176
		subiw	#0x20,0x1A(%a0)

loc_13176:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_13186
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_13186:
		bsrw	sub_1319C
		bsrw	Player_LevelBound
		bsrw	Sonic_RecordPos
		bsrw	sub_13438
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_1319C:
		tstb	(Disable_death_plane):w
		bnes	loc_131B2
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0xE0,%d0
		cmpw	0x14(%a0),%d0
		bltw	loc_131F8

loc_131B2:
		moveml	%a4-%a6,-(%sp)
		bsrw	Sonic_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		btst	#1,0x2A(%a0)
		bnes	locret_131F6
		moveq	#0,%d0
		movew	%d0,0x1A(%a0)
		movew	%d0,0x18(%a0)
		movew	%d0,0x1C(%a0)
		moveb	%d0,0x2E(%a0)
		moveb	#0,0x20(%a0)
		movew	#0x100,8(%a0)
		moveb	#2,5(%a0)
		moveb	#0x78,0x34(%a0)
		moveb	#0,0x3D(%a0)

locret_131F6:
		rts
/*  --------------------------------------------------------------------------- */

loc_131F8:
		jmp	(Kill_Character):l
/*  End of function sub_1319C */

/*  --------------------------------------------------------------------------- */

loc_131FE:
		tstw	(Debug_mode_flag):w
		beqs	loc_13218
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_13218
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_13218:
		bsrw	sub_13230
		jsr	(MoveSprite):l
		bsrw	Sonic_RecordPos
		bsrw	sub_13438
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_13230:
		cmpaw	#Player_1,%a0
		bnes	loc_13242
		movew	(Camera_Y_pos):w,%d0
		moveb	#1,(Scroll_lock):w
		bras	loc_1324C
/*  --------------------------------------------------------------------------- */

loc_13242:
		movew	(Camera_Y_pos):w,%d0
		moveb	#1,(Scroll_lock_P2):w

loc_1324C:
		moveb	#0,0x3D(%a0)
		addiw	#0x100,%d0
		tstw	(Competition_mode):w
		beqs	loc_13260
		subiw	#0x70,%d0

loc_13260:
		cmpw	0x14(%a0),%d0
		bgew	locret_1331E
		tstw	(Competition_mode):w
		bnew	loc_13320
		cmpib	#1,0x38(%a0)
		bnes	loc_1328A
		cmpiw	#2,(Player_mode):w
		beqs	loc_1328A
		moveb	#2,5(%a0)
		braw	sub_14B58
/*  --------------------------------------------------------------------------- */

loc_1328A:
		moveb	#8,5(%a0)
		movew	#0x3C,0x3E(%a0)
		moveb	#0,(Respawn_table_keep):w
		addqb	#1,(Update_HUD_life_count):w
		subqb	#1,(Life_count):w
		bnes	loc_132F0
		movew	#0,0x3E(%a0)
		movel	#loc_2C9AC,(Reserved_object_3):w
		movel	#loc_2C9AC,(Dynamic_object_RAM):w
		moveb	#0,(Reserved_object_3+mapping_frame):w
		moveb	#1,(Dynamic_object_RAM+mapping_frame):w
		movew	%a0,(Reserved_object_3+objoff_3E):w
		clrb	(Time_over_flag):w

loc_132D0:
		clrb	(Update_HUD_timer):w
		clrb	(_unkFEC7):w
		moveb	#8,5(%a0)
		movew	#mus_GameOver,%d0
		jsr	(Play_Sound):l
		moveq	#3,%d0
		jmp	(Load_PLC_2):l
/*  --------------------------------------------------------------------------- */

loc_132F0:
		tstb	(Time_over_flag):w
		beqs	locret_1331E
		movew	#0,0x3E(%a0)
		movel	#loc_2C9AC,(Reserved_object_3):w
		movel	#loc_2C9AC,(Dynamic_object_RAM):w
		moveb	#2,(Reserved_object_3+mapping_frame):w
		moveb	#3,(Dynamic_object_RAM+mapping_frame):w
		movew	%a0,(Reserved_object_3+objoff_3E):w
		bras	loc_132D0
/*  --------------------------------------------------------------------------- */

locret_1331E:
		rts
/*  --------------------------------------------------------------------------- */

loc_13320:
		moveb	#2,5(%a0)
		cmpaw	#Player_1,%a0
		bnes	loc_1335A
		moveb	#0,(Scroll_lock):w
		movew	(Saved_X_pos):w,0x10(%a0)
		movew	(Saved_Y_pos):w,0x14(%a0)
		movew	(Saved_art_tile):w,0xA(%a0)
		movew	(Saved_solid_bits):w,0x46(%a0)
		clrw	(Ring_count):w
		clrb	(Extra_life_flags):w
		moveb	#1,(_unkF74A):w
		bras	loc_13382
/*  --------------------------------------------------------------------------- */

loc_1335A:
		moveb	#0,(Scroll_lock_P2):w
		movew	(Saved2_X_pos):w,0x10(%a0)
		movew	(Saved2_Y_pos):w,0x14(%a0)
		movew	(Saved2_art_tile):w,0xA(%a0)
		movew	(Saved2_solid_bits):w,0x46(%a0)
		clrw	(Ring_count_P2):w
		moveb	#1,(_unkF74B):w

loc_13382:
		moveb	#0,0x2E(%a0)
		moveb	#5,0x20(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0,0x32(%a0)
		movew	#0,0x3E(%a0)
		clrb	0x36(%a0)
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a0),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(%a4)
		movew	(%a1)+,2(%a4)
		movew	(%a1)+,4(%a4)
		rts
/*  End of function sub_13230 */

/*  --------------------------------------------------------------------------- */

loc_133D4:
		tstw	0x3E(%a0)
		beqs	locret_133E6
		subqw	#1,0x3E(%a0)
		bnes	locret_133E6
		movew	#1,(Restart_level_flag):w

locret_133E6:
		rts
/*  --------------------------------------------------------------------------- */

loc_133E8:
		tstw	(Camera_RAM):w
		bnes	loc_133FA
		tstw	(V_scroll_amount):w
		bnes	loc_133FA
		moveb	#2,5(%a0)

loc_133FA:
		bsrw	sub_13438
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_13404:
		tstw	(Debug_mode_flag):w
		beqs	loc_1341E
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_1341E
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1341E:
		jsr	(MoveSprite2):l
		addiw	#0x10,0x1A(%a0)
		bsrw	Sonic_RecordPos
		bsrw	sub_13438
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_13438:
		tstw	(Competition_mode):w
		bnes	loc_13444
		bsrs	Animate_Sonic
		braw	Sonic_Load_PLC
/*  --------------------------------------------------------------------------- */

loc_13444:
		bsrw	Animate_SonicKnuckles_2P
		braw	SonicKnuckles2P_Load_PLC
/*  End of function sub_13438 */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Sonic:
		lea	(AniSonic):l,%a1
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_1345E
		lea	(AniSuperSonic):l,%a1

loc_1345E:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		cmpb	0x21(%a0),%d0
		beqs	loc_13480
		moveb	%d0,0x21(%a0)
		moveb	#0,0x23(%a0)
		moveb	#0,0x24(%a0)
		bclr	#5,0x2A(%a0)

loc_13480:
		addw	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		moveb	(%a1),%d0
		bmis	loc_134F0
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_134BE
		moveb	%d0,0x24(%a0)

loc_134A6:
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-4,%d0
		bccs	loc_134C0

loc_134B6:
		moveb	%d0,0x22(%a0)
		addqb	#1,0x23(%a0)

locret_134BE:
		rts
/*  --------------------------------------------------------------------------- */

loc_134C0:
		addqb	#1,%d0
		bnes	loc_134D0
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0
		bras	loc_134B6
/*  --------------------------------------------------------------------------- */

loc_134D0:
		addqb	#1,%d0
		bnes	loc_134E4
		moveb	2(%a1,%d1.w),%d0
		subb	%d0,0x23(%a0)
		subb	%d0,%d1
		moveb	1(%a1,%d1.w),%d0
		bras	loc_134B6
/*  --------------------------------------------------------------------------- */

loc_134E4:
		addqb	#1,%d0
		bnes	locret_134EE
		moveb	2(%a1,%d1.w),0x20(%a0)

locret_134EE:
		rts
/*  --------------------------------------------------------------------------- */

loc_134F0:
		addqb	#1,%d0
		bnew	loc_13786
		moveq	#0,%d0
		tstb	0x2D(%a0)
		bmiw	loc_1360C
		moveb	0x27(%a0),%d0
		bnew	loc_1360C
		moveq	#0,%d1
		moveb	0x26(%a0),%d0
		bmis	loc_13514
		beqs	loc_13514
		subqb	#1,%d0

loc_13514:
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_13520
		notb	%d0

loc_13520:
		addib	#0x10,%d0
		bpls	loc_13528
		moveq	#3,%d1

loc_13528:
		andib	#-4,4(%a0)
		eorb	%d1,%d2
		orb	%d2,4(%a0)
		btst	#5,0x2A(%a0)
		bnew	loc_137CE
		lsrb	#4,%d0
		andib	#6,%d0
		movew	0x1C(%a0),%d2
		bpls	loc_1354C
		negw	%d2

loc_1354C:
		tstb	0x2B(%a0)
		bplw	loc_13556
		addw	%d2,%d2

loc_13556:
		tstb	(Super_Sonic_Knux_flag):w
		bnes	loc_135B2
		lea	(AniSonic01):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_13570
		lea	(AniSonic00):l,%a1
		addb	%d0,%d0

loc_13570:
		addb	%d0,%d0
		moveb	%d0,%d3
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-1,%d0
		bnes	loc_1358E
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0

loc_1358E:
		moveb	%d0,0x22(%a0)
		addb	%d3,0x22(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_135B0
		negw	%d2
		addiw	#0x800,%d2
		bpls	loc_135A6
		moveq	#0,%d2

loc_135A6:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		addqb	#1,0x23(%a0)

locret_135B0:
		rts
/*  --------------------------------------------------------------------------- */

loc_135B2:
		lea	(AniSuperSonic01):l,%a1
		cmpiw	#0x800,%d2
		bccs	loc_135CA
		lea	(AniSuperSonic00):l,%a1
		addb	%d0,%d0
		addb	%d0,%d0
		bras	loc_135CC
/*  --------------------------------------------------------------------------- */

loc_135CA:
		addb	%d0,%d0

loc_135CC:
		moveb	%d0,%d3
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-1,%d0
		bnes	loc_135E8
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0

loc_135E8:
		moveb	%d0,0x22(%a0)
		addb	%d3,0x22(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_1360A
		negw	%d2
		addiw	#0x800,%d2
		bpls	loc_13600
		moveq	#0,%d2

loc_13600:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		addqb	#1,0x23(%a0)

locret_1360A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1360C:
		moveb	0x2D(%a0),%d1
		andiw	#0x7F,%d1
		bnes	loc_13682
		moveb	0x27(%a0),%d0
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_13658
		andib	#-4,4(%a0)
		tstb	0x2D(%a0)
		bpls	loc_13640
		orib	#2,4(%a0)
		negb	%d0
		addib	#-0x71,%d0
		bras	loc_13644
/*  --------------------------------------------------------------------------- */

loc_13640:
		addib	#0xB,%d0

loc_13644:
		divuw	#0x16,%d0
		addib	#0x31,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_13658:
		andib	#-4,4(%a0)
		orib	#3,4(%a0)
		negb	%d0
		addib	#-0x71,%d0
		divuw	#0x16,%d0
		addib	#0x31,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */
byte_1367E:	.byte 0
		.byte 0x3D
		.byte 0x49
		.byte 0x49
/*  --------------------------------------------------------------------------- */

loc_13682:
		moveb	byte_1367E(%pc,%d1.w),%d3
		cmpib	#1,%d1
		bnes	loc_136DA
		moveb	0x27(%a0),%d0
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_136B8
		andib	#-4,4(%a0)
		addib	#-8,%d0
		divuw	#0x16,%d0
		addb	%d3,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_136B8:
		andib	#-4,4(%a0)
		orib	#1,4(%a0)
		addib	#-8,%d0
		divuw	#0x16,%d0
		addb	%d3,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_136DA:
		cmpib	#2,%d1
		bnes	loc_13730
		moveb	0x27(%a0),%d0
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_1370C
		andib	#-4,4(%a0)
		addib	#0xB,%d0
		divuw	#0x16,%d0
		addb	%d3,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1370C:
		andib	#-4,4(%a0)
		orib	#3,4(%a0)
		negb	%d0
		addib	#-0x71,%d0
		divuw	#0x16,%d0
		addb	%d3,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_13730:
		moveb	0x27(%a0),%d0
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_13764
		andib	#-4,4(%a0)
		orib	#2,4(%a0)
		negb	%d0
		addib	#-0x71,%d0
		divuw	#0x16,%d0
		addb	%d3,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_13764:
		andib	#-4,4(%a0)
		orib	#1,4(%a0)
		addib	#0xB,%d0
		divuw	#0x16,%d0
		addb	%d3,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_13786:
		subqb	#1,0x24(%a0)
		bplw	locret_134BE
		movew	0x1C(%a0),%d2
		bpls	loc_13796
		negw	%d2

loc_13796:
		lea	(AniSonic03):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_137A8
		lea	(AniSonic02):l,%a1

loc_137A8:
		negw	%d2
		addiw	#0x400,%d2
		bpls	loc_137B2
		moveq	#0,%d2

loc_137B2:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	loc_134A6
/*  --------------------------------------------------------------------------- */

loc_137CE:
		subqb	#1,0x24(%a0)
		bplw	locret_134BE
		movew	0x1C(%a0),%d2
		bmis	loc_137DE
		negw	%d2

loc_137DE:
		addiw	#0x800,%d2
		bpls	loc_137E6
		moveq	#0,%d2

loc_137E6:
		lsrw	#6,%d2
		moveb	%d2,0x24(%a0)
		lea	(AniSonic04):l,%a1
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_137FE
		lea	(AniSuperSonic04):l,%a1

loc_137FE:
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	loc_134A6
/*  End of function Animate_Sonic */

/*  --------------------------------------------------------------------------- */
AniSonic:	.include "General/Sprites/Sonic/Anim - Sonic S3.S"

/*  =============== S U B R O U T I N E ======================================= */


Sonic_Load_PLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0

Sonic_Load_PLC2:
		cmpb	(Player_prev_frame):w,%d0
		beqs	locret_13A80
		moveb	%d0,(Player_prev_frame):w
		lea	(PLC_Sonic):l,%a2
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_13A44
		lea	(PLC_SuperSonic):l,%a2

loc_13A44:
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_13A80
		movew	#tiles_to_bytes(ArtTile_Player_1),%d4

loc_13A54:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addil	#ArtUnc_Sonic,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_13A54

locret_13A80:
		rts
/*  End of function Sonic_Load_PLC */


/*  =============== S U B R O U T I N E ======================================= */


Perform_Player_DPLC:
		tstb	0x38(%a1)
		beqs	Sonic_Load_PLC2
		braw	Tails_Load_PLC2
/*  End of function Perform_Player_DPLC */


/*  =============== S U B R O U T I N E ======================================= */


Animate_SonicKnuckles_2P:
		lea	(AniSonic2P):l,%a1
		tstb	0x38(%a0)
		beqs	loc_13A9E
		lea	(AniKnuckles2P):l,%a1

loc_13A9E:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		cmpb	0x21(%a0),%d0
		beqs	loc_13AC0
		moveb	%d0,0x21(%a0)
		moveb	#0,0x23(%a0)
		moveb	#0,0x24(%a0)
		bclr	#5,0x2A(%a0)

loc_13AC0:
		addw	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		moveb	(%a1),%d0
		bmis	loc_13B30
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_13AFE
		moveb	%d0,0x24(%a0)

loc_13AE6:
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-4,%d0
		bccs	loc_13B00

loc_13AF6:
		moveb	%d0,0x22(%a0)
		addqb	#1,0x23(%a0)

locret_13AFE:
		rts
/*  --------------------------------------------------------------------------- */

loc_13B00:
		addqb	#1,%d0
		bnes	loc_13B10
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0
		bras	loc_13AF6
/*  --------------------------------------------------------------------------- */

loc_13B10:
		addqb	#1,%d0
		bnes	loc_13B24
		moveb	2(%a1,%d1.w),%d0
		subb	%d0,0x23(%a0)
		subb	%d0,%d1
		moveb	1(%a1,%d1.w),%d0
		bras	loc_13AF6
/*  --------------------------------------------------------------------------- */

loc_13B24:
		addqb	#1,%d0
		bnes	locret_13B2E
		moveb	2(%a1,%d1.w),0x20(%a0)

locret_13B2E:
		rts
/*  --------------------------------------------------------------------------- */

loc_13B30:
		addqb	#1,%d0
		bnew	loc_13C4A
		moveq	#0,%d0
		moveb	0x27(%a0),%d0
		bnew	loc_13BE4
		moveq	#0,%d1
		moveb	0x26(%a0),%d0
		bmis	loc_13B4C
		beqs	loc_13B4C
		subqb	#1,%d0

loc_13B4C:
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_13B58
		notb	%d0

loc_13B58:
		addib	#0x10,%d0
		bpls	loc_13B60
		moveq	#3,%d1

loc_13B60:
		andib	#-4,4(%a0)
		eorb	%d1,%d2
		orb	%d2,4(%a0)
		btst	#5,0x2A(%a0)
		bnew	loc_13C92
		lsrb	#5,%d0
		andib	#3,%d0
		movew	0x1C(%a0),%d2
		bpls	loc_13B84
		negw	%d2

loc_13B84:
		tstb	0x2B(%a0)
		bplw	loc_13B8E
		addw	%d2,%d2

loc_13B8E:
		moveb	%d0,%d3
		lea	(AniSonic2P01):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_13BA4
		lea	(AniSonic2P00):l,%a1
		addb	%d0,%d0

loc_13BA4:
		addb	%d0,%d3
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-1,%d0
		bnes	loc_13BC0
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0

loc_13BC0:
		moveb	%d0,0x22(%a0)
		addb	%d3,0x22(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_13BE2
		negw	%d2
		addiw	#0x800,%d2
		bpls	loc_13BD8
		moveq	#0,%d2

loc_13BD8:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		addqb	#1,0x23(%a0)

locret_13BE2:
		rts
/*  --------------------------------------------------------------------------- */

loc_13BE4:
		moveb	0x27(%a0),%d0
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_13C12
		andib	#-4,4(%a0)
		addib	#0x16,%d0
		divuw	#0x2C,%d0
		addib	#0x15,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_13C12:
		andib	#-4,4(%a0)
		tstb	0x2D(%a0)
		bpls	loc_13C2A
		orib	#1,4(%a0)
		addib	#0x16,%d0
		bras	loc_13C36
/*  --------------------------------------------------------------------------- */

loc_13C2A:
		orib	#3,4(%a0)
		negb	%d0
		addib	#-0x66,%d0

loc_13C36:
		divuw	#0x2C,%d0
		addib	#0x15,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_13C4A:
		subqb	#1,0x24(%a0)
		bplw	locret_13AFE
		movew	0x1C(%a0),%d2
		bpls	loc_13C5A
		negw	%d2

loc_13C5A:
		lea	(AniSonic2P03):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_13C6C
		lea	(AniSonic2P02):l,%a1

loc_13C6C:
		negw	%d2
		addiw	#0x400,%d2
		bpls	loc_13C76
		moveq	#0,%d2

loc_13C76:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	loc_13AE6
/*  --------------------------------------------------------------------------- */

loc_13C92:
		subqb	#1,0x24(%a0)
		bplw	locret_13AFE
		movew	0x1C(%a0),%d2
		bmis	loc_13CA2
		negw	%d2

loc_13CA2:
		addiw	#0x800,%d2
		bpls	loc_13CAA
		moveq	#0,%d2

loc_13CAA:
		lsrw	#6,%d2
		lea	(AniSonic2P04):l,%a1
		tstb	0x38(%a0)
		beqs	loc_13CC0
		lea	(AniKnuckles2P04):l,%a1
		lsrw	#2,%d2

loc_13CC0:
		moveb	%d2,0x24(%a0)
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	loc_13AE6
/*  End of function Animate_SonicKnuckles_2P */

/*  --------------------------------------------------------------------------- */
AniSonic2P:	.include "General/Sprites/Sonic/Anim - Sonic Knuckles 2P.S"

/*  =============== S U B R O U T I N E ======================================= */


SonicKnuckles2P_Load_PLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		lea	(PLC_Sonic2P):l,%a2
		movel	#ArtUnc_Sonic2P,%d6
		tstb	0x38(%a0)
		beqs	loc_13E14
		lea	(PLC_Knuckles2P):l,%a2
		movel	#ArtUnc_Knuckles2P,%d6

loc_13E14:
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_13E56
		movew	#tiles_to_bytes(ArtTile_Player_1),%d4
		cmpaw	#Player_1,%a0
		beqs	loc_13E2E
		movew	#tiles_to_bytes(ArtTile_Player_2),%d4

loc_13E2E:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	%d6,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_13E2E

locret_13E56:
		rts
/*  End of function SonicKnuckles2P_Load_PLC */

/*  --------------------------------------------------------------------------- */

Obj_Tails2P:
		cmpaw	#Player_1,%a0
		bnes	loc_13E86
		lea	(Max_%speed):w,%a4
		lea	(Distance_from_top):w,%a5
		lea	(Dust):w,%a6
		moveb	(Player_2+character_id):w,%d0
		cmpb	0x38(%a0),%d0
		bnes	loc_13E7A
		bchg	#3,4(%a0)

loc_13E7A:
		tstw	(Debug_placement_mode):w
		beqs	loc_13EA2
		jmp	(DebugMode):l
/*  --------------------------------------------------------------------------- */

loc_13E86:
		lea	(Max_%speed_P2):w,%a4
		lea	(Distance_from_top_P2):w,%a5
		lea	(Dust_P2):w,%a6
		moveb	(Player_1+character_id):w,%d0
		cmpb	0x38(%a0),%d0
		bnes	loc_13EA2
		bchg	#4,4(%a0)

loc_13EA2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_13EB0(%pc,%d0.w),%d1
		jmp	off_13EB0(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_13EB0:	.word loc_13EBC-off_13EB0
		.word loc_13FCA-off_13EB0
		.word loc_1620A-off_13EB0
		.word loc_162C4-off_13EB0
		.word loc_162F4-off_13EB0
		.word loc_16308-off_13EB0
/*  --------------------------------------------------------------------------- */

loc_13EBC:
		addqb	#2,5(%a0)
		moveb	#0xB,0x1E(%a0)
		moveb	#5,0x1F(%a0)
		moveb	#0xB,0x44(%a0)
		moveb	#5,0x45(%a0)
		movel	#Map_Tails2P,0xC(%a0)
		movew	#0x100,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#0x84,4(%a0)
		moveb	#1,0x38(%a0)
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a0),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(%a4)
		movew	(%a1)+,2(%a4)
		movew	(%a1)+,4(%a4)
		tstb	(Last_star_post_hit):w
		bnew	loc_13FA6
		moveb	#0xC,0x46(%a0)
		moveb	#0xD,0x47(%a0)
		cmpaw	#Player_1,%a0
		bnes	loc_13F6E
		movew	#ArtTile_Player_1,0xA(%a0)
		cmpib	#0x12,(Current_zone):w
		bnes	loc_13F48
		oriw	#0x8000,0xA(%a0)

loc_13F48:
		movew	0x10(%a0),(Saved_X_pos):w
		movew	0x14(%a0),(Saved_Y_pos):w
		movew	0xA(%a0),(Saved_art_tile):w
		movew	0x46(%a0),(Saved_solid_bits):w
		movel	#Obj_Tails2P_Tail,(Tails_tails_2P):w
		movew	%a0,(Tails_tails_2P+0x30):w
		bras	loc_13FA6
/*  --------------------------------------------------------------------------- */

loc_13F6E:
		movew	#ArtTile_Player_2,0xA(%a0)
		cmpib	#0x12,(Current_zone):w
		bnes	loc_13F82
		oriw	#0x8000,0xA(%a0)

loc_13F82:
		movew	0x10(%a0),(Saved2_X_pos):w
		movew	0x14(%a0),(Saved2_Y_pos):w
		movew	0xA(%a0),(Saved2_art_tile):w
		movew	0x46(%a0),(Saved2_solid_bits):w
		movel	#Obj_Tails2P_Tail,(Tails_tails):w
		movew	%a0,(Tails_tails+0x30):w

loc_13FA6:
		moveb	#0,0x30(%a0)
		moveb	#4,0x31(%a0)
		moveb	#0x1E,0x2C(%a0)
		movew	#0,(Tails_CPU_routine):w
		movew	#600,(Tails_CPU_idle_timer):w
		movew	#0,(Tails_CPU_flight_timer):w

loc_13FCA:
		tstw	(Debug_mode_flag):w
		beqs	loc_13FEA
		cmpaw	#Player_1,%a0
		bnes	loc_13FEA
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_13FEA
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_13FEA:
		cmpaw	#Player_1,%a0
		bnes	loc_1400A
		movew	(Ctrl_1_logical):w,(Ctrl_2_logical):w
		tstb	(Ctrl_1_locked):w
		bnes	loc_14016
		movew	(Ctrl_1):w,(Ctrl_2_logical):w
		movew	(Ctrl_1):w,(Ctrl_1_logical):w
		bras	loc_14016
/*  --------------------------------------------------------------------------- */

loc_1400A:
		tstb	(Ctrl_2_locked):w
		bnes	loc_14016
		movew	(Ctrl_2):w,(Ctrl_2_logical):w

loc_14016:
		bsrw	sub_14626
		btst	#0,0x2E(%a0)
		bnes	loc_14034
		moveq	#0,%d0
		moveb	0x2A(%a0),%d0
		andiw	#6,%d0
		movew	off_14084(%pc,%d0.w),%d1
		jsr	off_14084(%pc,%d1.w)

loc_14034:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_14044
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_14044:
		movew	(Screen_X_wrap_value):w,%d0
		andw	%d0,0x10(%a0)
		addiw	#0x400,0x10(%a0)
		bsrw	Sonic_RecordPos
		moveb	(Primary_Angle):w,0x3A(%a0)
		moveb	(Secondary_Angle):w,0x3B(%a0)
		btst	#1,0x2E(%a0)
		bnes	loc_14072
		bsrw	Animate_Tails2P
		bsrw	Tails2P_Load_PLC

loc_14072:
		moveb	0x2E(%a0),%d0
		andib	#-0x60,%d0
		bnes	locret_14082
		jsr	(TouchResponse_CompetitionMode):l

locret_14082:
		rts
/*  --------------------------------------------------------------------------- */
off_14084:	.word loc_1408C-off_14084
		.word loc_140B0-off_14084
		.word loc_141C0-off_14084
		.word loc_141E2-off_14084
/*  --------------------------------------------------------------------------- */

loc_1408C:
		bsrw	sub_14276
		bsrw	Tails_Jump
		bsrw	Tails_SlopeResist
		bsrw	Tails_InputAcceleration_Path
		bsrw	sub_14210
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Tails_SlopeRepel
		rts
/*  --------------------------------------------------------------------------- */

loc_140B0:
		tstb	0x2F(%a0)
		bnes	loc_140E4
		bsrw	Tails_JumpHeight
		bsrw	Tails_InputAcceleration_Freespace
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_140D2
		subiw	#0x28,0x1A(%a0)

loc_140D2:
		bsrw	Tails_JumpAngle
		moveml	%a4-%a6,-(%sp)
		bsrw	Tails_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		rts
/*  --------------------------------------------------------------------------- */

loc_140E4:
		bsrw	sub_14104
		bsrw	Tails_InputAcceleration_Freespace
		jsr	(MoveSprite2):l
		bsrw	Tails_JumpAngle
		moveml	%a4-%a6,-(%sp)
		bsrw	Tails_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_14104:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		beqs	loc_14118
		tstb	0x25(%a0)
		beqs	loc_14118
		subqb	#1,0x25(%a0)

loc_14118:
		cmpib	#1,0x2F(%a0)
		beqs	loc_14142
		cmpiw	#-0x100,0x1A(%a0)
		blts	loc_1413A
		subiw	#0x20,0x1A(%a0)
		addqb	#1,0x2F(%a0)
		cmpib	#0x20,0x2F(%a0)
		bnes	loc_14140

loc_1413A:
		moveb	#1,0x2F(%a0)

loc_14140:
		bras	loc_14174
/*  --------------------------------------------------------------------------- */

loc_14142:
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqs	loc_1416E
		cmpiw	#-0x100,0x1A(%a0)
		blts	loc_1416E
		tstb	0x25(%a0)
		beqs	loc_1416E
		btst	#6,0x2A(%a0)
		beqs	loc_14168
		tstb	(Flying_carrying_Sonic_flag):w
		bnes	loc_1416E

loc_14168:
		moveb	#2,0x2F(%a0)

loc_1416E:
		addiw	#8,0x1A(%a0)

loc_14174:
		movew	(Camera_min_Y_pos):w,%d0
		addiw	#0x10,%d0
		cmpw	0x14(%a0),%d0
		blts	loc_1418E
		tstw	0x1A(%a0)
		bpls	loc_1418E
		movew	#0,0x1A(%a0)

loc_1418E:
		tstb	0x25(%a0)
		bnes	loc_141AA
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#8,%d0
		andib	#0xF,%d0
		bnes	locret_141A8
		moveq	#sfx_FlyTired,%d0
		jsr	(Play_Sound_2):l

locret_141A8:
		rts
/*  --------------------------------------------------------------------------- */

loc_141AA:
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#8,%d0
		andib	#0xF,%d0
		bnes	locret_141BE
		moveq	#sfx_Flying,%d0
		jsr	(Play_Sound_2):l

locret_141BE:
		rts
/*  End of function sub_14104 */

/*  --------------------------------------------------------------------------- */

loc_141C0:
		tstb	0x3D(%a0)
		bnes	loc_141CA
		bsrw	Tails_Jump

loc_141CA:
		bsrw	Tails_RollRepel
		bsrw	Tails_RollSpeed
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Tails_SlopeRepel
		rts
/*  --------------------------------------------------------------------------- */

loc_141E2:
		bsrw	Tails_JumpHeight
		bsrw	Tails_InputAcceleration_Freespace
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_141FE
		subiw	#0x28,0x1A(%a0)

loc_141FE:
		bsrw	Tails_JumpAngle
		moveml	%a4-%a6,-(%sp)
		bsrw	Tails_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_14210:
		tstb	0x2B(%a0)
		bmis	locret_14236
		movew	0x1C(%a0),%d0
		bpls	loc_1421E
		negw	%d0

loc_1421E:
		cmpiw	#0x80,%d0
		bcss	locret_14236
		moveb	(Ctrl_2_held_logical):w,%d0
		andib	#0xC,%d0
		bnes	locret_14236
		btst	#1,(Ctrl_2_held_logical):w
		bnes	loc_14238

locret_14236:
		rts
/*  --------------------------------------------------------------------------- */

loc_14238:
		btst	#2,0x2A(%a0)
		beqs	loc_14242
		rts
/*  --------------------------------------------------------------------------- */

loc_14242:
		bset	#2,0x2A(%a0)
		moveb	#7,0x1E(%a0)
		moveb	#3,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#4,0x14(%a0)
		movew	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		tstw	0x1C(%a0)
		bnes	locret_14274
		movew	#0x200,0x1C(%a0)

locret_14274:
		rts
/*  End of function sub_14210 */


/*  =============== S U B R O U T I N E ======================================= */


sub_14276:
		tstb	0x3D(%a0)
		bnes	loc_142C6
		cmpib	#8,0x20(%a0)
		bnes	locret_142C4
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_142C4
		moveb	#9,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addql	#4,%sp
		moveb	#1,0x3D(%a0)
		movew	#0,0x3E(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	loc_142BC
		moveb	#2,0x20(%a6)

loc_142BC:
		bsrw	Tails_Check_Screen_Boundaries
		bsrw	Player_AnglePos

locret_142C4:
		rts
/*  --------------------------------------------------------------------------- */

loc_142C6:
		moveb	(Ctrl_2_held_logical):w,%d0
		btst	#1,%d0
		bnew	loc_14356
		moveb	#7,0x1E(%a0)
		moveb	#3,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#4,0x14(%a0)
		moveb	#0,0x3D(%a0)
		moveq	#0,%d0
		moveb	0x3E(%a0),%d0
		addw	%d0,%d0
		movew	word_14344(%pc,%d0.w),0x1C(%a0)
		movew	0x1C(%a0),%d0
		subiw	#0x800,%d0
		addw	%d0,%d0
		andiw	#0x1F00,%d0
		negw	%d0
		addiw	#0x2000,%d0
		lea	(H_scroll_frame_offset):w,%a1
		cmpaw	#Player_1,%a0
		beqs	loc_1431E
		lea	(H_scroll_frame_offset_P2):w,%a1

loc_1431E:
		movew	%d0,(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_1432C
		negw	0x1C(%a0)

loc_1432C:
		bset	#2,0x2A(%a0)
		moveb	#0,0x20(%a6)
		movew	#0xFF00|sfx_Dash,%d0
		jsr	(Play_Sound_2):l
		bras	loc_1439E
/*  --------------------------------------------------------------------------- */
word_14344:	.word 0x800
		.word 0x880
		.word 0x900
		.word 0x980
		.word 0xA00
		.word 0xA80
		.word 0xB00
		.word 0xB80
		.word 0xC00
/*  --------------------------------------------------------------------------- */

loc_14356:
		tstw	0x3E(%a0)
		beqs	loc_1436E
		movew	0x3E(%a0),%d0
		lsrw	#5,%d0
		subw	%d0,0x3E(%a0)
		bccs	loc_1436E
		movew	#0,0x3E(%a0)

loc_1436E:
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	loc_1439E
		movew	#0x900,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addiw	#0x200,0x3E(%a0)
		cmpiw	#0x800,0x3E(%a0)
		bcss	loc_1439E
		movew	#0x800,0x3E(%a0)

loc_1439E:
		addql	#4,%sp
		cmpiw	#0x60,(%a5)
		beqs	loc_143AC
		bccs	loc_143AA
		addqw	#4,(%a5)

loc_143AA:
		subqw	#2,(%a5)

loc_143AC:
		bsrw	Player_AnglePos
		rts
/*  End of function sub_14276 */

/*  --------------------------------------------------------------------------- */

Obj_Tails:
		lea	(Max_%speed_P2):w,%a4
		lea	(Distance_from_top_P2):w,%a5
		lea	(Dust_P2):w,%a6
		cmpiw	#2,(Player_mode):w
		bnes	loc_14404
		tstw	(Debug_placement_mode):w
		beqs	loc_14404
		cmpib	#1,(Debug_placement_type):w
		beqs	loc_143FE
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_143E2
		movew	#0,(Debug_placement_mode):w

loc_143E2:
		addqb	#1,0x22(%a0)
		cmpib	#-0x2F,0x22(%a0)
		bcss	loc_143F4
		moveb	#0,0x22(%a0)

loc_143F4:
		bsrw	Tails_Load_PLC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_143FE:
		jmp	(DebugMode):l
/*  --------------------------------------------------------------------------- */

loc_14404:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_14412(%pc,%d0.w),%d1
		jmp	off_14412(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_14412:	.word loc_14420-off_14412
		.word loc_14514-off_14412
		.word loc_1620A-off_14412
		.word loc_162C4-off_14412
		.word loc_162F4-off_14412
		.word loc_16308-off_14412
		.word loc_16324-off_14412
/*  --------------------------------------------------------------------------- */

loc_14420:
		addqb	#2,5(%a0)
		moveb	#0xF,0x1E(%a0)
		moveb	#9,0x1F(%a0)
		moveb	#0xF,0x44(%a0)
		moveb	#9,0x45(%a0)
		movel	#Map_Tails,0xC(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#0x84,4(%a0)
		moveb	#1,0x38(%a0)
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		cmpiw	#2,(Player_mode):w
		bnes	loc_144B4
		tstb	(Last_star_post_hit):w
		bnes	loc_144CC
		movew	#ArtTile_Player_2,0xA(%a0)
		moveb	#0xC,0x46(%a0)
		moveb	#0xD,0x47(%a0)
		cmpib	#2,(Special_bonus_entry_flag):w
		beqs	loc_144CC
		movew	0x10(%a0),(Saved_X_pos):w
		movew	0x14(%a0),(Saved_Y_pos):w
		movew	0xA(%a0),(Saved_art_tile):w
		movew	0x46(%a0),(Saved_solid_bits):w
		bras	loc_144CC
/*  --------------------------------------------------------------------------- */

loc_144B4:
		movew	#ArtTile_Player_2,0xA(%a0)
		movew	(Player_1+top_solid_bit):w,0x46(%a0)
		tstw	(Player_1+art_tile):w
		bpls	loc_144CC
		oriw	#0x8000,0xA(%a0)

loc_144CC:
		moveb	#0,0x30(%a0)
		moveb	#4,0x31(%a0)
		moveb	#0x1E,0x2C(%a0)
		cmpiw	#0x20,(Tails_CPU_routine):w
		beqs	loc_144F4
		cmpiw	#0x12,(Tails_CPU_routine):w
		beqs	loc_144F4
		movew	#0,(Tails_CPU_routine):w

loc_144F4:
		movew	#0,(Tails_CPU_idle_timer):w
		movew	#0,(Tails_CPU_flight_timer):w
		movel	#Obj_Tails_Tail,(Tails_tails):w
		movew	%a0,(Tails_tails+0x30):w
		moveb	(Last_star_post_hit):w,(Tails_CPU_star_post_flag):w
		rts
/*  --------------------------------------------------------------------------- */

loc_14514:
		cmpiw	#2,(Player_mode):w
		bnes	loc_14544
		tstw	(Debug_mode_flag):w
		beqs	loc_14544
		btst	#4,(Ctrl_1_pressed):w
		beqs	loc_14544
		movew	#1,(Debug_placement_mode):w
		clrb	(Ctrl_1_locked):w
		btst	#5,(Ctrl_1_held):w
		beqs	locret_14542
		movew	#2,(Debug_placement_mode):w

locret_14542:
		rts
/*  --------------------------------------------------------------------------- */

loc_14544:
		cmpaw	#Player_1,%a0
		bnes	loc_1456C
		movew	(Ctrl_1_logical):w,(Ctrl_2_logical):w
		tstb	(Ctrl_1_locked):w
		bnes	loc_14582
		movew	(Ctrl_1):w,(Ctrl_2_logical):w
		movew	(Ctrl_1):w,(Ctrl_1_logical):w
		cmpiw	#0x1A,(Tails_CPU_routine):w
		bccs	loc_14578
		bras	loc_14582
/*  --------------------------------------------------------------------------- */

loc_1456C:
		tstb	(Ctrl_2_locked):w
		bnes	loc_14582
		movew	(Ctrl_2):w,(Ctrl_2_logical):w

loc_14578:
		tstw	(Competition_mode):w
		bnes	loc_14582
		bsrw	Tails_CPU_Control

loc_14582:
		btst	#0,0x2E(%a0)
		beqs	loc_145AA
		moveb	#0,0x2F(%a0)
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_145C4
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w
		bras	loc_145C4
/*  --------------------------------------------------------------------------- */

loc_145AA:
		moveml	%a4-%a6,-(%sp)
		moveq	#0,%d0
		moveb	0x2A(%a0),%d0
		andiw	#6,%d0
		movew	off_1461E(%pc,%d0.w),%d1
		jsr	off_1461E(%pc,%d1.w)
		moveml	(%sp)+,%a4-%a6

loc_145C4:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_145D4
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_145D4:
		bsrs	sub_14626
		bsrw	Sonic_RecordPos
		bsrw	sub_15284
		moveb	(Primary_Angle):w,0x3A(%a0)
		moveb	(Secondary_Angle):w,0x3B(%a0)
		tstb	(WindTunnel_flag_P2):w
		beqs	loc_145FC
		tstb	0x20(%a0)
		bnes	loc_145FC
		moveb	0x21(%a0),0x20(%a0)

loc_145FC:
		btst	#1,0x2E(%a0)
		bnes	loc_1460C
		bsrw	Animate_Tails
		bsrw	Tails_Load_PLC

loc_1460C:
		moveb	0x2E(%a0),%d0
		andib	#-0x60,%d0
		bnes	locret_1461C
		jsr	(TouchResponse):l

locret_1461C:
		rts
/*  --------------------------------------------------------------------------- */
off_1461E:	.word Tails_Stand_Path-off_1461E
		.word Tails_Stand_Freespace-off_1461E
		.word Tails_Spin_Path-off_1461E
		.word Tails_Spin_Freespace-off_1461E

/*  =============== S U B R O U T I N E ======================================= */


sub_14626:
		moveb	0x34(%a0),%d0
		beqs	loc_14634
		subqb	#1,0x34(%a0)
		lsrb	#3,%d0
		bccs	loc_1463A

loc_14634:
		jsr	(Draw_Sprite):l

loc_1463A:
		btst	#1,0x2B(%a0)
		beqs	loc_14676
		tstb	0x35(%a0)
		beqs	loc_14676
		moveb	(Level_frame_counter+1):w,%d0
		andib	#7,%d0
		bnes	loc_14676
		subqb	#1,0x35(%a0)
		bnes	loc_14676
		tstb	(Boss_flag):w
		bnes	loc_14670
		cmpib	#0xC,0x2C(%a0)
		bcss	loc_14670
		movew	(Level_music):w,%d0
		jsr	(Play_Sound):l

loc_14670:
		bclr	#1,0x2B(%a0)

loc_14676:
		btst	#2,0x2B(%a0)
		beqs	locret_146B8
		tstb	0x36(%a0)
		beqs	locret_146B8
		moveb	(Level_frame_counter+1):w,%d0
		andib	#7,%d0
		bnes	locret_146B8
		subqb	#1,0x36(%a0)
		bnes	locret_146B8
		tstw	(Competition_mode):w
		bnes	loc_146BA
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		bclr	#2,0x2B(%a0)
		moveq	#0,%d0
		jmp	(Change_Music_Tempo):l
/*  --------------------------------------------------------------------------- */

locret_146B8:
		rts
/*  --------------------------------------------------------------------------- */

loc_146BA:
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a0),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(%a4)
		movew	(%a1)+,2(%a4)
		movew	(%a1)+,4(%a4)
		bclr	#2,0x2B(%a0)
		rts
/*  End of function sub_14626 */


/*  =============== S U B R O U T I N E ======================================= */


Tails_CPU_Control:
		moveb	(Ctrl_2):w,%d0
		andib	#0x7F,%d0
		beqs	loc_146EE
		movew	#600,(Tails_CPU_idle_timer):w

loc_146EE:
		lea	(Player_1):w,%a1
		movew	(Tails_CPU_routine):w,%d0
		movew	off_146FE(%pc,%d0.w),%d0
		jmp	off_146FE(%pc,%d0.w)
/*  End of function Tails_CPU_Control */

/*  --------------------------------------------------------------------------- */
off_146FE:	.word loc_14722-off_146FE
		.word Tails_Catch_Up_Flying-off_146FE
		.word Tails_FlySwim_Unknown-off_146FE
		.word loc_149E8-off_146FE
		.word loc_14BC6-off_146FE
		.word locret_14C46-off_146FE
		.word loc_14C48-off_146FE
		.word loc_14C80-off_146FE
		.word loc_14D10-off_146FE
		.word loc_14D4C-off_146FE
		.word loc_14D54-off_146FE
		.word loc_14D8C-off_146FE
		.word loc_14DD2-off_146FE
		.word loc_14E78-off_146FE
		.word loc_14EA2-off_146FE
		.word loc_14EDA-off_146FE
		.word loc_14EE2-off_146FE
		.word loc_14F0C-off_146FE
/*  --------------------------------------------------------------------------- */

loc_14722:
		tstb	(Tails_CPU_star_post_flag):w
		bnew	loc_147A8
		cmpiw	#0,(Current_zone_and_act):w
		bnes	loc_14744
		bsrw	sub_14B58
		movew	#0xA,(Tails_CPU_routine):w
		moveb	#0x83,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_14744:
		cmpiw	#0x100,(Current_zone_and_act):w
		beqw	loc_147C6
		cmpiw	#0x200,(Current_zone_and_act):w
		beqw	loc_147C6
		cmpiw	#0x300,(Current_zone_and_act):w
		bnes	loc_14786
		movew	#0,(Tails_CPU_idle_timer):w
		movew	#0,(Tails_CPU_flight_timer):w
		moveb	#2,0x2A(%a0)
		movew	#0x18,0x10(%a0)
		movew	#0x600,0x14(%a0)
		movew	#0xC,(Tails_CPU_routine):w
		rts
/*  --------------------------------------------------------------------------- */

loc_14786:
		cmpiw	#0x500,(Current_zone_and_act):w
		bnes	loc_147A0
		bsrw	sub_14B58
		movew	#0xA,(Tails_CPU_routine):w
		moveb	#0x83,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_147A0:
		cmpiw	#0x600,(Current_zone_and_act):w
		beqs	loc_147C6

loc_147A8:
		moveb	#0,0x20(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		moveb	#0,0x2A(%a0)

loc_147C6:
		movew	#6,(Tails_CPU_routine):w
		moveb	#0,0x2E(%a0)
		movew	#0,(Tails_CPU_flight_timer):w
		rts
/*  --------------------------------------------------------------------------- */

Tails_Catch_Up_Flying:
		moveb	(Ctrl_2_held_logical):w,%d0
		andib	#0xF0,%d0
		bnes	loc_14804
		movew	(Level_frame_counter):w,%d0
		andiw	#0x3F,%d0
		bnew	locret_148A0
		tstb	0x2E(%a1)
		bnew	locret_148A0
		moveb	0x2A(%a1),%d0
		andib	#0x92,%d0
		bnew	locret_148A0

loc_14804:
		movew	#4,(Tails_CPU_routine):w
		movew	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		movew	%d0,(Tails_CPU_target_X):w
		movew	0x14(%a1),%d0
		movew	%d0,(Tails_CPU_target_Y):w
		subiw	#0xC0,%d0
		movew	%d0,0x14(%a0)
		oriw	#0x8000,0xA(%a0)
		movew	#0x100,8(%a0)
		moveq	#0,%d0
		movew	%d0,0x18(%a0)
		movew	%d0,0x1A(%a0)
		movew	%d0,0x1C(%a0)
		moveb	%d0,0x2D(%a0)
		moveb	%d0,0x2F(%a0)
		moveb	#2,0x2A(%a0)
		moveb	#0x1E,0x2C(%a0)
		moveb	#-0x7F,0x2E(%a0)
		moveb	%d0,0x30(%a0)
		moveb	%d0,0x31(%a0)
		movew	%d0,0x32(%a0)
		moveb	%d0,0x34(%a0)
		moveb	%d0,0x35(%a0)
		moveb	%d0,0x36(%a0)
		moveb	%d0,0x37(%a0)
		moveb	%d0,0x39(%a0)
		movew	%d0,0x3A(%a0)
		moveb	%d0,0x3C(%a0)
		moveb	%d0,0x3D(%a0)
		moveb	%d0,0x3D(%a0)
		movew	%d0,0x3E(%a0)
		moveb	%d0,0x40(%a0)
		moveb	%d0,0x41(%a0)
		moveb	#-0x10,0x25(%a0)
		bsrw	Tails_Set_Flying_Animation

locret_148A0:
		rts
/*  --------------------------------------------------------------------------- */

Tails_FlySwim_Unknown:
		tstb	4(%a0)
		bmis	loc_148E4
		addqw	#1,(Tails_CPU_flight_timer):w
		cmpiw	#300,(Tails_CPU_flight_timer):w
		bcss	loc_148FA
		movew	#0,(Tails_CPU_flight_timer):w
		movew	#2,(Tails_CPU_routine):w
		moveb	#0x81,0x2E(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0,0x10(%a0)
		movew	#0,0x14(%a0)
		moveb	#-0x10,0x25(%a0)
		bsrw	Tails_Set_Flying_Animation
		rts
/*  --------------------------------------------------------------------------- */

loc_148E4:
		moveb	#-0x10,0x25(%a0)
		orib	#2,0x2A(%a0)
		bsrw	Tails_Set_Flying_Animation
		movew	#0,(Tails_CPU_flight_timer):w

loc_148FA:
		lea	(Pos_table):w,%a2
		movew	#0x10,%d2
		lslb	#2,%d2
		addqb	#4,%d2
		movew	(Pos_table_index):w,%d3
		subb	%d2,%d3
		movew	(%a2,%d3.w),(Tails_CPU_target_X):w
		movew	2(%a2,%d3.w),(Tails_CPU_target_Y):w
		bsrw	Tails_Set_Flying_Animation
		movew	0x10(%a0),%d0
		subw	(Tails_CPU_target_X):w,%d0
		beqs	loc_1496C
		movew	%d0,%d2
		bpls	loc_1492C
		negw	%d2

loc_1492C:
		lsrw	#4,%d2
		cmpiw	#0xC,%d2
		bcss	loc_14936
		moveq	#0xC,%d2

loc_14936:
		moveb	0x18(%a1),%d1
		bpls	loc_1493E
		negb	%d1

loc_1493E:
		addb	%d1,%d2
		addqw	#1,%d2
		tstw	%d0
		bmis	loc_14958
		bset	#0,0x2A(%a0)
		cmpw	%d0,%d2
		bcss	loc_14954
		movew	%d0,%d2
		moveq	#0,%d0

loc_14954:
		negw	%d2
		bras	loc_14968
/*  --------------------------------------------------------------------------- */

loc_14958:
		bclr	#0,0x2A(%a0)
		negw	%d0
		cmpw	%d0,%d2
		bcss	loc_14968
		moveb	%d0,%d2
		moveq	#0,%d0

loc_14968:
		addw	%d2,0x10(%a0)

loc_1496C:
		moveq	#1,%d2
		movew	0x14(%a0),%d1
		subw	(Tails_CPU_target_Y):w,%d1
		beqs	loc_14980
		bmis	loc_1497C
		negw	%d2

loc_1497C:
		addw	%d2,0x14(%a0)

loc_14980:
		lea	(Stat_table):w,%a2
		moveb	2(%a2,%d3.w),%d2
		andib	#0x92,%d2
		bnes	locret_149E6
		orw	%d0,%d1
		bnes	locret_149E6
		movew	#6,(Tails_CPU_routine):w
		moveb	#0,0x2E(%a0)
		moveb	#0,0x20(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		andib	#0x40,0x2A(%a0)
		orib	#2,0x2A(%a0)
		movew	#0,0x32(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstb	0xA(%a1)
		bpls	loc_149DA
		oriw	#0x8000,0xA(%a0)

loc_149DA:
		moveb	0x46(%a1),0x46(%a0)
		moveb	0x47(%a1),0x47(%a0)

locret_149E6:
		rts
/*  --------------------------------------------------------------------------- */

loc_149E8:
		cmpib	#6,(Player_1+routine):w
		bcss	loc_14A16
		movew	#4,(Tails_CPU_routine):w
		moveb	#0,0x3D(%a0)
		movew	#0,0x3E(%a0)
		moveb	#-0x7F,0x2E(%a0)
		moveb	#2,0x2A(%a0)
		moveb	#0x20,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_14A16:
		bsrw	sub_14B8A
		tstw	(Tails_CPU_idle_timer):w
		bnew	loc_14B4C
		tstb	0x2E(%a0)
		bmiw	loc_14B4C
		tstb	0x37(%a1)
		bmiw	loc_14B4C
		tstw	0x32(%a0)
		beqs	loc_14A44
		tstw	0x1C(%a0)
		bnes	loc_14A44
		movew	#8,(Tails_CPU_routine):w

loc_14A44:
		lea	(Pos_table):w,%a2
		movew	#0x10,%d1
		lslb	#2,%d1
		addqb	#4,%d1
		movew	(Pos_table_index):w,%d0
		subb	%d1,%d0
		movew	(%a2,%d0.w),%d2
		btst	#3,0x2A(%a1)
		bnes	loc_14A6E
		cmpiw	#0x400,0x1C(%a1)
		bges	loc_14A6E
		subiw	#0x20,%d2

loc_14A6E:
		movew	2(%a2,%d0.w),%d3
		lea	(Stat_table):w,%a2
		movew	(%a2,%d0.w),%d1
		moveb	2(%a2,%d0.w),%d4
		movew	%d1,%d0
		btst	#5,0x2A(%a0)
		beqs	loc_14A90
		btst	#5,%d4
		beqw	loc_14B2A

loc_14A90:
		subw	0x10(%a0),%d2
		beqs	loc_14ADE
		bpls	loc_14ABC
		negw	%d2
		cmpiw	#0x30,%d2
		bcss	loc_14AA8
		andiw	#-0xC0D,%d1
		oriw	#0x404,%d1

loc_14AA8:
		tstw	0x1C(%a0)
		beqs	loc_14AF2
		btst	#0,0x2A(%a0)
		beqs	loc_14AF2
		subqw	#1,0x10(%a0)
		bras	loc_14AF2
/*  --------------------------------------------------------------------------- */

loc_14ABC:
		cmpiw	#0x30,%d2
		bcss	loc_14ACA
		andiw	#-0xC0D,%d1
		oriw	#0x808,%d1

loc_14ACA:
		tstw	0x1C(%a0)
		beqs	loc_14AF2
		btst	#0,0x2A(%a0)
		bnes	loc_14AF2
		addqw	#1,0x10(%a0)
		bras	loc_14AF2
/*  --------------------------------------------------------------------------- */

loc_14ADE:
		bclr	#0,0x2A(%a0)
		moveb	%d4,%d0
		andib	#1,%d0
		beqs	loc_14AF2
		bset	#0,0x2A(%a0)

loc_14AF2:
		tstb	(_unkF70F):w
		beqs	loc_14B0A
		oriw	#0x7000,%d1
		btst	#1,0x2A(%a0)
		bnes	loc_14B46
		moveb	#0,(_unkF70F):w

loc_14B0A:
		movew	(Level_frame_counter):w,%d0
		andiw	#0xFF,%d0
		beqs	loc_14B1A
		cmpiw	#0x40,%d2
		bccs	loc_14B46

loc_14B1A:
		subw	0x14(%a0),%d3
		beqs	loc_14B46
		bpls	loc_14B46
		negw	%d3
		cmpiw	#0x20,%d3
		bcss	loc_14B46

loc_14B2A:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x3F,%d0
		bnes	loc_14B46
		cmpib	#8,0x20(%a0)
		beqs	loc_14B46
		oriw	#0x7070,%d1
		moveb	#1,(_unkF70F):w

loc_14B46:
		movew	%d1,(Ctrl_2_logical):w
		rts
/*  --------------------------------------------------------------------------- */

loc_14B4C:
		tstw	(Tails_CPU_idle_timer):w
		beqs	locret_14B56
		subqw	#1,(Tails_CPU_idle_timer):w

locret_14B56:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_14B58:
		movew	#0,(Tails_CPU_idle_timer):w
		movew	#0,(Tails_CPU_flight_timer):w
		movew	#2,(Tails_CPU_routine):w
		moveb	#0x81,0x2E(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0x7F00,0x10(%a0)
		movew	#0,0x14(%a0)
		moveb	#0,0x2F(%a0)
		rts
/*  End of function sub_14B58 */


/*  =============== S U B R O U T I N E ======================================= */


sub_14B8A:
		tstb	4(%a0)
		bmis	loc_14BB6
		btst	#3,0x2A(%a0)
		beqs	loc_14BA6
		moveq	#0,%d0
		moveaw	0x42(%a0),%a3
		movew	(Tails_CPU_interact):w,%d0
		cmpw	(%a3),%d0
		bnes	loc_14BB2

loc_14BA6:
		addqw	#1,(Tails_CPU_flight_timer):w
		cmpiw	#300,(Tails_CPU_flight_timer):w
		bcss	loc_14BBC

loc_14BB2:
		braw	sub_14B58
/*  --------------------------------------------------------------------------- */

loc_14BB6:
		movew	#0,(Tails_CPU_flight_timer):w

loc_14BBC:
		moveaw	0x42(%a0),%a3
		movew	(%a3),(Tails_CPU_interact):w
		rts
/*  End of function sub_14B8A */

/*  --------------------------------------------------------------------------- */

loc_14BC6:
		bsrw	sub_14B8A
		tstw	(Tails_CPU_idle_timer):w
		bnew	locret_14C44
		tstw	0x32(%a0)
		bnes	locret_14C44
		tstb	0x3D(%a0)
		bnes	loc_14C1A
		tstw	0x1C(%a0)
		bnes	locret_14C44
		bclr	#0,0x2A(%a0)
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_14BFA
		bset	#0,0x2A(%a0)

loc_14BFA:
		movew	#0x202,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x7F,%d0
		beqs	loc_14C2A
		cmpib	#8,0x20(%a0)
		bnes	locret_14C44
		movew	#0x7272,(Ctrl_2_logical):w
		rts
/*  --------------------------------------------------------------------------- */

loc_14C1A:
		movew	#0x202,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x7F,%d0
		bnes	loc_14C38

loc_14C2A:
		movew	#0,(Ctrl_2_logical):w
		movew	#6,(Tails_CPU_routine):w
		rts
/*  --------------------------------------------------------------------------- */

loc_14C38:
		andib	#0x1F,%d0
		bnes	locret_14C44
		oriw	#0x7070,(Ctrl_2_logical):w

locret_14C44:
		rts
/*  --------------------------------------------------------------------------- */

locret_14C46:
		rts
/*  --------------------------------------------------------------------------- */

loc_14C48:
		moveb	#1,0x2F(%a0)
		moveb	#-0x10,0x25(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0x100,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		lea	(Player_1):w,%a1
		bsrw	sub_15202
		moveb	#1,(Flying_carrying_Sonic_flag):w
		movew	#0xE,(Tails_CPU_routine):w

loc_14C80:
		movew	#0,(Tails_CPU_idle_timer):w
		movew	#0,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x1F,%d0
		bnes	loc_14C9C
		oriw	#0x808,(Ctrl_2_logical):w

loc_14C9C:
		lea	(Flying_carrying_Sonic_flag):w,%a2
		lea	(Player_1):w,%a1
		btst	#1,0x2A(%a1)
		bnes	loc_14D08
		movew	#6,(Tails_CPU_routine):w
		moveb	#0,0x2E(%a0)
		moveb	#0,0x20(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0,0x32(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstb	0xA(%a1)
		bpls	loc_14CEE
		oriw	#-0x8000,0xA(%a0)

loc_14CEE:
		moveb	0x46(%a1),0x46(%a0)
		moveb	0x47(%a1),0x47(%a0)
		cmpiw	#1,(Player_mode):w
		bnes	loc_14D08
		movew	#0x10,(Tails_CPU_routine):w

loc_14D08:
		movew	(Ctrl_1):w,%d0
		braw	Tails_Carry_Sonic
/*  --------------------------------------------------------------------------- */

loc_14D10:
		movew	#0,(Tails_CPU_idle_timer):w
		moveb	#-0x10,0x25(%a0)
		movew	#0,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0xF,%d0
		bnes	loc_14D32
		oriw	#0x7878,(Ctrl_2_logical):w

loc_14D32:
		tstb	4(%a0)
		bmis	locret_14D4A
		movew	#0x7F00,0x10(%a0)
		movew	#0,0x14(%a0)
		movew	#0xA,(Tails_CPU_routine):w

locret_14D4A:
		rts
/*  --------------------------------------------------------------------------- */

loc_14D4C:
		movew	#0,(Ctrl_2_logical):w
		rts
/*  --------------------------------------------------------------------------- */

loc_14D54:
		moveb	#1,0x2F(%a0)
		moveb	#-0x10,0x25(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		lea	(Player_1):w,%a1
		bsrw	sub_15202
		moveb	#1,(Flying_carrying_Sonic_flag):w
		movew	#0x16,(Tails_CPU_routine):w

loc_14D8C:
		movew	#0,(Tails_CPU_idle_timer):w
		moveb	#-0x10,0x25(%a0)
		movew	#0,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#7,%d0
		bnes	loc_14DAE
		oriw	#0x7070,(Ctrl_2_logical):w

loc_14DAE:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x90,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_14DC2
		movew	#0x18,(Tails_CPU_routine):w

loc_14DC2:
		lea	(Flying_carrying_Sonic_flag):w,%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d0
		braw	Tails_Carry_Sonic
/*  --------------------------------------------------------------------------- */

loc_14DD2:
		moveb	#-0x10,0x25(%a0)
		tstw	(Tails_CPU_idle_timer):w
		beqs	loc_14DEA
		tstb	(Flying_carrying_Sonic_flag):w
		bnew	loc_14E68
		braw	loc_14F68
/*  --------------------------------------------------------------------------- */

loc_14DEA:
		movew	#0,(Ctrl_2_logical):w
		tstb	(Flying_carrying_Sonic_flag):w
		beqw	loc_14F68
		clrb	(_unkFAAC):w
		btst	#1,(Ctrl_1_held):w
		beqs	loc_14E1E
		addqb	#1,(_unkF70E):w
		cmpib	#-0x40,(_unkF70E):w
		bcss	loc_14E58
		moveb	#0,(_unkF70E):w
		oriw	#0x7070,(Ctrl_2_logical):w
		bras	loc_14E58
/*  --------------------------------------------------------------------------- */

loc_14E1E:
		btst	#0,(Ctrl_1_held):w
		beqs	loc_14E40
		addqb	#1,(_unkF70E):w
		cmpib	#0x20,(_unkF70E):w
		bcss	loc_14E58
		moveb	#0,(_unkF70E):w
		oriw	#0x7070,(Ctrl_2_logical):w
		bras	loc_14E58
/*  --------------------------------------------------------------------------- */

loc_14E40:
		addqb	#1,(_unkF70E):w
		cmpib	#0x58,(_unkF70E):w
		bcss	loc_14E58
		moveb	#0,(_unkF70E):w
		oriw	#0x7070,(Ctrl_2_logical):w

loc_14E58:
		moveb	(Ctrl_1_held):w,%d0
		andib	#0xC,%d0
		orb	(Ctrl_2_held_logical):w,%d0
		moveb	%d0,(Ctrl_2_logical):w

loc_14E68:
		lea	(Flying_carrying_Sonic_flag):w,%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d0
		braw	Tails_Carry_Sonic
/*  --------------------------------------------------------------------------- */

loc_14E78:
		moveb	#1,0x2F(%a0)
		moveb	#-0x10,0x25(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		movew	#0x1C,(Tails_CPU_routine):w

loc_14EA2:
		movew	#0,(Tails_CPU_idle_timer):w
		moveb	#-0x10,0x25(%a0)
		movew	#0,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#7,%d0
		bnes	loc_14EC4
		oriw	#0x7070,(Ctrl_2_logical):w

loc_14EC4:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x90,%d0
		cmpw	0x14(%a0),%d0
		bcss	locret_14ED8
		movew	#0x1E,(Tails_CPU_routine):w

locret_14ED8:
		rts
/*  --------------------------------------------------------------------------- */

loc_14EDA:
		moveb	#-0x10,0x25(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_14EE2:
		moveb	#1,0x2F(%a0)
		moveb	#-0x10,0x25(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0x100,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		movew	#0x22,(Tails_CPU_routine):w

loc_14F0C:
		movew	#0,(Tails_CPU_idle_timer):w
		movew	#0,(Ctrl_2_logical):w
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x1F,%d0
		bnes	loc_14F28
		oriw	#0x808,(Ctrl_2_logical):w

loc_14F28:
		btst	#1,0x2A(%a0)
		bnes	locret_14F66
		movew	#6,(Tails_CPU_routine):w
		moveb	#0,0x2E(%a0)
		moveb	#0,0x20(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		moveb	#2,0x2A(%a0)
		movew	#0,0x32(%a0)
		andiw	#0x7FFF,0xA(%a0)

locret_14F66:
		rts
/*  --------------------------------------------------------------------------- */

loc_14F68:
		tstb	(_unkFAAC):w
		bnes	loc_14FE8
		lea	(Player_1):w,%a1
		tstb	4(%a1)
		bpls	loc_14FB6
		tstw	(Tails_CPU_idle_timer):w
		bnew	loc_15030
		cmpiw	#0x300,0x1A(%a1)
		bges	loc_14FB6
		movew	#0,0x18(%a0)
		movew	#0,(Ctrl_2_logical):w
		cmpiw	#0x200,0x1A(%a0)
		bges	loc_14FAE
		addqb	#1,(_unkF70E):w
		cmpib	#0x58,(_unkF70E):w
		bcss	loc_14FB4
		moveb	#0,(_unkF70E):w

loc_14FAE:
		oriw	#0x7070,(Ctrl_2_logical):w

loc_14FB4:
		bras	loc_15030
/*  --------------------------------------------------------------------------- */

loc_14FB6:
		st	(_unkFAAC):w
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		bpls	loc_14FC6
		negw	%d1

loc_14FC6:
		lsrw	#2,%d1
		movew	%d1,%d2
		lsrw	#1,%d2
		addw	%d2,%d1
		movew	%d1,(Target_camera_min_X_pos):w
		movew	0x10(%a1),%d1
		subw	0x10(%a0),%d1
		bpls	loc_14FDE
		negw	%d1

loc_14FDE:
		lsrw	#2,%d1
		movew	%d1,(Target_camera_max_X_pos):w
		braw	loc_15030
/*  --------------------------------------------------------------------------- */

loc_14FE8:
		movew	#0,(Ctrl_2_logical):w
		lea	(Player_1):w,%a1
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		subiw	#0x10,%d1
		movew	(Target_camera_max_X_pos):w,%d2
		bclr	#0,0x2A(%a0)
		cmpw	0x10(%a1),%d0
		bcss	loc_15016
		bset	#0,0x2A(%a0)
		negw	%d2

loc_15016:
		addw	%d2,0x18(%a0)
		cmpw	0x14(%a1),%d1
		bccs	loc_15030
		movew	(Target_camera_min_X_pos):w,%d2
		cmpw	0x14(%a1),%d1
		bcss	loc_1502C
		negw	%d2

loc_1502C:
		addw	%d2,0x1A(%a0)

loc_15030:
		lea	(Flying_carrying_Sonic_flag):w,%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d0
		braw	Tails_Carry_Sonic

/*  =============== S U B R O U T I N E ======================================= */


Tails_Carry_Sonic:
		tstb	(%a2)
		beqw	loc_151A2
		cmpib	#4,5(%a1)
		bccw	loc_150EC
		btst	#1,0x2A(%a1)
		beqw	loc_150E0
		movew	(_unkF744):w,%d1
		cmpw	0x18(%a1),%d1
		bnes	loc_150E0
		movew	(_unkF74C):w,%d1
		cmpw	0x1A(%a1),%d1
		bnes	loc_150E6
		tstb	0x2E(%a1)
		bmis	loc_150F0
		andib	#0x70,%d0
		beqw	loc_150FA
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x12,1(%a2)
		andiw	#0xF00,%d0
		beqw	loc_15096
		moveb	#0x3C,1(%a2)

loc_15096:
		btst	#0xA,%d0
		beqs	loc_150A2
		movew	#-0x200,0x18(%a1)

loc_150A2:
		btst	#0xB,%d0
		beqs	loc_150AE
		movew	#0x200,0x18(%a1)

loc_150AE:
		movew	#-0x380,0x1A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_150E0:
		movew	#-0x100,0x1A(%a1)

loc_150E6:
		moveb	#0,0x40(%a1)

loc_150EC:
		clrb	0x2E(%a1)

loc_150F0:
		clrb	(%a2)
		moveb	#0x3C,1(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_150FA:
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x1C,0x14(%a1)
		andib	#-4,4(%a1)
		andib	#-2,0x2A(%a1)
		moveb	0x2A(%a0),%d0
		andib	#1,%d0
		orb	%d0,4(%a1)
		orb	%d0,0x2A(%a1)
		subqb	#1,0x24(%a1)
		bpls	loc_15166
		moveb	#0xB,0x24(%a1)
		moveq	#0,%d1
		moveb	0x23(%a1),%d1
		addqb	#1,0x23(%a1)
		moveb	byte_15190(%pc,%d1.w),%d0
		cmpib	#-1,%d0
		bnes	loc_15152
		moveb	#0,0x23(%a1)
		moveb	byte_15190(%pc),%d0

loc_15152:
		moveb	%d0,0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2

loc_15166:
		movew	0x18(%a0),(Player_1+x_vel):w
		movew	0x18(%a0),(_unkF744):w
		movew	0x1A(%a0),(Player_1+y_vel):w
		movew	0x1A(%a0),(_unkF74C):w
		moveml	%d0-%a6,-(%sp)
		lea	(Player_1):w,%a0
		bsrw	Sonic_DoLevelCollision
		moveml	(%sp)+,%d0-%a6
		rts
/*  --------------------------------------------------------------------------- */
byte_15190:	.byte 0x91
		.byte 0x91
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x91
		.byte 0x91
		.byte 0xFF
		.byte 0
/*  --------------------------------------------------------------------------- */

loc_151A2:
		tstb	1(%a2)
		beqs	loc_151B0
		subqb	#1,1(%a2)
		bnew	locret_15200

loc_151B0:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccw	locret_15200
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		subiw	#0x20,%d1
		cmpiw	#0x10,%d1
		bccw	locret_15200
		tstb	0x2E(%a1)
		bnes	locret_15200
		cmpib	#4,5(%a1)
		bccs	locret_15200
		tstw	(Debug_placement_mode):w
		bnes	locret_15200
		tstb	0x3D(%a1)
		bnes	locret_15200
		bsrs	sub_15202
		moveq	#sfx_Grab,%d0
		jsr	(Play_Sound_2):l
		moveb	#1,(%a2)

locret_15200:
		rts
/*  End of function Tails_Carry_Sonic */


/*  =============== S U B R O U T I N E ======================================= */


sub_15202:
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		clrw	0x26(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x1C,0x14(%a1)
		movew	#0x2200,0x20(%a1)
		moveb	#0,0x24(%a1)
		moveb	#0,0x23(%a1)
		moveb	#3,0x2E(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		moveb	#0,0x3D(%a1)
		andib	#-4,4(%a1)
		andib	#-2,0x2A(%a1)
		moveb	0x2A(%a0),%d0
		andib	#1,%d0
		orb	%d0,4(%a1)
		orb	%d0,0x2A(%a1)
		movew	0x18(%a0),(_unkF744):w
		movew	0x18(%a0),0x18(%a1)
		movew	0x1A(%a0),(_unkF74C):w
		movew	0x1A(%a0),0x1A(%a1)
		rts
/*  End of function sub_15202 */


/*  =============== S U B R O U T I N E ======================================= */


sub_15284:
		tstb	(Water_flag):w
		bnes	loc_1528C

locret_1528A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1528C:
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bges	loc_152F6
		bset	#6,0x2A(%a0)
		bnes	locret_1528A
		addqb	#1,(Water_entered_counter):w
		moveal	%a0,%a1
		bsrw	Player_ResetAirTimer
		movel	#Obj_Air_CountDown,(Breathing_bubbles_P2):w
		moveb	#0x81,(Breathing_bubbles_P2+subtype):w
		movel	%a0,(Breathing_bubbles_P2+0x40):w
		movew	#0x300,(%a4)
		movew	#6,2(%a4)
		movew	#0x40,4(%a4)
		cmpiw	#4,(Tails_CPU_routine):w
		beqs	loc_152D8
		tstb	0x2E(%a0)
		bnes	locret_1528A

loc_152D8:
		asr	0x18(%a0)
		asr	0x1A(%a0)
		asr	0x1A(%a0)
		beqs	locret_1528A
		movew	#0x100,0x20(%a6)
		movew	#sfx_Splash,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

loc_152F6:
		bclr	#6,0x2A(%a0)
		beqs	locret_1528A
		addqb	#1,(Water_entered_counter):w
		moveal	%a0,%a1
		bsrw	Player_ResetAirTimer
		movew	#0x600,(%a4)
		movew	#0xC,2(%a4)
		movew	#0x80,4(%a4)
		cmpib	#4,5(%a0)
		beqs	loc_1533C
		cmpiw	#4,(Tails_CPU_routine):w
		beqs	loc_1532E
		tstb	0x2E(%a0)
		bnes	loc_1533C

loc_1532E:
		movew	0x1A(%a0),%d0
		cmpiw	#-0x400,%d0
		blts	loc_1533C
		asl	0x1A(%a0)

loc_1533C:
		cmpib	#0x1C,0x20(%a0)
		beqw	locret_1528A
		tstw	0x1A(%a0)
		beqw	locret_1528A
		movew	#0x100,0x20(%a6)
		cmpiw	#-0x1000,0x1A(%a0)
		bgts	loc_15362
		movew	#-0x1000,0x1A(%a0)

loc_15362:
		movew	#sfx_Splash,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_15284 */

/*  --------------------------------------------------------------------------- */

Tails_Stand_Path:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_15384
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w

loc_15384:
		bsrw	Tails_Spindash
		bsrw	Tails_Jump
		bsrw	Tails_SlopeResist
		bsrw	Tails_InputAcceleration_Path
		bsrw	Tails_Roll
		bsrw	Tails_Check_Screen_Boundaries
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Tails_SlopeRepel
		tstb	(Background_collision_flag):w
		beqs	locret_153CE
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_153CE
		subw	%d1,0x10(%a0)

locret_153CE:
		rts
/*  --------------------------------------------------------------------------- */

Tails_Stand_Freespace:
		tstb	0x2F(%a0)
		bnes	Tails_FlyingSwimming
		bsrw	Tails_JumpHeight
		bsrw	Tails_InputAcceleration_Freespace
		bsrw	Tails_Check_Screen_Boundaries
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_153F6
		subiw	#0x28,0x1A(%a0)

loc_153F6:
		bsrw	Tails_JumpAngle
		bsrw	Tails_DoLevelCollision
		rts
/*  --------------------------------------------------------------------------- */

Tails_FlyingSwimming:
		bsrw	Tails_Move_FlySwim
		bsrw	Tails_InputAcceleration_Freespace
		bsrw	Tails_Check_Screen_Boundaries
		jsr	(MoveSprite2):l
		bsrw	Tails_JumpAngle
		moveml	%a4-%a6,-(%sp)
		bsrw	Tails_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		tstw	(Player_mode):w
		bnes	locret_15438
		lea	(Flying_carrying_Sonic_flag):w,%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d0
		bsrw	Tails_Carry_Sonic

locret_15438:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Tails_Move_FlySwim:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		beqs	loc_1544E
		tstb	0x25(%a0)
		beqs	loc_1544E
		subqb	#1,0x25(%a0)

loc_1544E:
		cmpib	#1,0x2F(%a0)
		beqs	loc_15478
		cmpiw	#-0x100,0x1A(%a0)
		blts	loc_15470
		subiw	#0x20,0x1A(%a0)
		addqb	#1,0x2F(%a0)
		cmpib	#0x20,0x2F(%a0)
		bnes	loc_15476

loc_15470:
		moveb	#1,0x2F(%a0)

loc_15476:
		bras	loc_154AA
/*  --------------------------------------------------------------------------- */

loc_15478:
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqs	loc_154A4
		cmpiw	#-0x100,0x1A(%a0)
		blts	loc_154A4
		tstb	0x25(%a0)
		beqs	loc_154A4
		btst	#6,0x2A(%a0)
		beqs	loc_1549E
		tstb	(Flying_carrying_Sonic_flag):w
		bnes	loc_154A4

loc_1549E:
		moveb	#2,0x2F(%a0)

loc_154A4:
		addiw	#8,0x1A(%a0)

loc_154AA:
		movew	(Camera_min_Y_pos):w,%d0
		addiw	#0x10,%d0
		cmpw	0x14(%a0),%d0
		blts	Tails_Set_Flying_Animation
		tstw	0x1A(%a0)
		bpls	Tails_Set_Flying_Animation
		movew	#0,0x1A(%a0)
/*  End of function Tails_Move_FlySwim */


/*  =============== S U B R O U T I N E ======================================= */


Tails_Set_Flying_Animation:
		btst	#6,0x2A(%a0)
		bnes	loc_1552C
		moveq	#0x20,%d0
		tstw	(Competition_mode):w
		bnes	loc_1550C
		tstw	0x1A(%a0)
		bpls	loc_154DC
		moveq	#0x21,%d0

loc_154DC:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_154E4
		addqb	#2,%d0

loc_154E4:
		tstb	0x25(%a0)
		bnes	loc_1550C
		moveq	#0x24,%d0
		moveb	%d0,0x20(%a0)
		tstb	4(%a0)
		bpls	locret_1550A
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#8,%d0
		andib	#0xF,%d0
		bnes	locret_1550A
		moveq	#sfx_FlyTired,%d0
		jsr	(Play_Sound_2):l

locret_1550A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1550C:
		moveb	%d0,0x20(%a0)
		tstb	4(%a0)
		bpls	locret_1552A
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#8,%d0
		andib	#0xF,%d0
		bnes	locret_1552A
		moveq	#sfx_Flying,%d0
		jsr	(Play_Sound_2):l

locret_1552A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1552C:
		moveq	#0x25,%d0
		tstw	0x1A(%a0)
		bpls	loc_15536
		moveq	#0x26,%d0

loc_15536:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_1553E
		moveq	#0x27,%d0

loc_1553E:
		tstb	0x25(%a0)
		bnes	loc_15546
		moveq	#0x28,%d0

loc_15546:
		moveb	%d0,0x20(%a0)
		rts
/*  End of function Tails_Set_Flying_Animation */

/*  --------------------------------------------------------------------------- */

Tails_Spin_Path:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_15564
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w

loc_15564:
		tstb	0x3D(%a0)
		bnes	loc_1556E
		bsrw	Tails_Jump

loc_1556E:
		bsrw	Tails_RollRepel
		bsrw	Tails_RollSpeed
		bsrw	Tails_Check_Screen_Boundaries
		jsr	(MoveSprite2):l
		bsrw	Player_AnglePos
		bsrw	Tails_SlopeRepel
		tstb	(Background_collision_flag):w
		beqs	locret_155AC
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_155AC
		subw	%d1,0x10(%a0)

locret_155AC:
		rts
/*  --------------------------------------------------------------------------- */

Tails_Spin_Freespace:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_155C6
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w

loc_155C6:
		bsrw	Tails_JumpHeight
		bsrw	Tails_InputAcceleration_Freespace
		bsrw	Tails_Check_Screen_Boundaries
		jsr	(MoveSprite):l
		btst	#6,0x2A(%a0)
		beqs	loc_155E6
		subiw	#0x28,0x1A(%a0)

loc_155E6:
		bsrw	Tails_JumpAngle
		bsrw	Tails_DoLevelCollision
		rts

/*  =============== S U B R O U T I N E ======================================= */


Tails_InputAcceleration_Path:
		movew	(%a4),%d6
		movew	2(%a4),%d5
		movew	4(%a4),%d4
		tstb	0x2B(%a0)
		bmiw	loc_1573C
		tstw	0x32(%a0)
		bnew	loc_156FE
		btst	#2,(Ctrl_2_held_logical):w
		beqs	loc_15616
		bsrw	sub_157E6

loc_15616:
		btst	#3,(Ctrl_2_held_logical):w
		beqs	loc_15622
		bsrw	sub_15872

loc_15622:
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnew	loc_156FE
		tstw	0x1C(%a0)
		bnew	loc_156FE
		bclr	#5,0x2A(%a0)
		moveb	#5,0x20(%a0)
		btst	#3,0x2A(%a0)
		beqs	loc_15678
		moveaw	0x42(%a0),%a1
		tstb	0x2A(%a1)
		bmis	loc_156AA
		moveq	#0,%d1
		moveb	7(%a1),%d1
		movew	%d1,%d2
		addw	%d2,%d2
		subqw	#4,%d2
		addw	0x10(%a0),%d1
		subw	0x10(%a1),%d1
		cmpiw	#4,%d1
		blts	loc_1569C
		cmpw	%d2,%d1
		bges	loc_1568C
		bras	loc_156AA
/*  --------------------------------------------------------------------------- */

loc_15678:
		jsr	(ChkFloorEdge):l
		cmpiw	#0xC,%d1
		blts	loc_156AA
		cmpib	#3,0x3A(%a0)
		bnes	loc_15694

loc_1568C:
		bclr	#0,0x2A(%a0)
		bras	loc_156A2
/*  --------------------------------------------------------------------------- */

loc_15694:
		cmpib	#3,0x3B(%a0)
		bnes	loc_156AA

loc_1569C:
		bset	#0,0x2A(%a0)

loc_156A2:
		moveb	#6,0x20(%a0)
		bras	loc_156FE
/*  --------------------------------------------------------------------------- */

loc_156AA:
		btst	#0,(Ctrl_2_held_logical):w
		beqs	loc_156D4
		moveb	#7,0x20(%a0)
		addqb	#1,0x39(%a0)
		cmpib	#0x78,0x39(%a0)
		bcss	loc_15704
		moveb	#0x78,0x39(%a0)
		cmpiw	#0xC8,(%a5)
		beqs	loc_15710
		addqw	#2,(%a5)
		bras	loc_15710
/*  --------------------------------------------------------------------------- */

loc_156D4:
		btst	#1,(Ctrl_2_held_logical):w
		beqs	loc_156FE
		moveb	#8,0x20(%a0)
		addqb	#1,0x39(%a0)
		cmpib	#0x78,0x39(%a0)
		bcss	loc_15704
		moveb	#0x78,0x39(%a0)
		cmpiw	#8,(%a5)
		beqs	loc_15710
		subqw	#2,(%a5)
		bras	loc_15710
/*  --------------------------------------------------------------------------- */

loc_156FE:
		moveb	#0,0x39(%a0)

loc_15704:
		cmpiw	#0x60,(%a5)
		beqs	loc_15710
		bccs	loc_1570E
		addqw	#4,(%a5)

loc_1570E:
		subqw	#2,(%a5)

loc_15710:
		moveb	(Ctrl_2_held_logical):w,%d0
		andib	#0xC,%d0
		bnes	loc_1573C
		movew	0x1C(%a0),%d0
		beqs	loc_1573C
		bmis	loc_15730
		subw	%d5,%d0
		bccs	loc_1572A
		movew	#0,%d0

loc_1572A:
		movew	%d0,0x1C(%a0)
		bras	loc_1573C
/*  --------------------------------------------------------------------------- */

loc_15730:
		addw	%d5,%d0
		bccs	loc_15738
		movew	#0,%d0

loc_15738:
		movew	%d0,0x1C(%a0)

loc_1573C:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a0),%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a0)
		mulsw	0x1C(%a0),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)

loc_1575A:
		btst	#6,0x2E(%a0)
		bnew	locret_157E4
		moveb	0x26(%a0),%d0
		addib	#0x40,%d0
		bmis	locret_157E4
		moveb	#0x40,%d1
		tstw	0x1C(%a0)
		beqs	locret_157E4
		bmis	loc_1577C
		negw	%d1

loc_1577C:
		moveb	0x26(%a0),%d0
		addb	%d1,%d0
		movew	%d0,-(%sp)
		bsrw	sub_10980
		movew	(%sp)+,%d0
		tstw	%d1
		bpls	locret_157E4
		aslw	#8,%d1
		addib	#0x20,%d0
		andib	#-0x40,%d0
		beqs	loc_157E0
		cmpib	#0x40,%d0
		beqs	loc_157C6
		cmpib	#-0x80,%d0
		beqs	loc_157C0
		addw	%d1,0x18(%a0)
		movew	#0,0x1C(%a0)
		btst	#0,0x2A(%a0)
		bnes	locret_157BE
		bset	#5,0x2A(%a0)

locret_157BE:
		rts
/*  --------------------------------------------------------------------------- */

loc_157C0:
		subw	%d1,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_157C6:
		subw	%d1,0x18(%a0)
		movew	#0,0x1C(%a0)
		btst	#0,0x2A(%a0)
		beqs	locret_157BE
		bset	#5,0x2A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_157E0:
		addw	%d1,0x1A(%a0)

locret_157E4:
		rts
/*  End of function Tails_InputAcceleration_Path */


/*  =============== S U B R O U T I N E ======================================= */


sub_157E6:
		movew	0x1C(%a0),%d0
		beqs	loc_157EE
		bpls	loc_15820

loc_157EE:
		bset	#0,0x2A(%a0)
		bnes	loc_15802
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)

loc_15802:
		subw	%d5,%d0
		movew	%d6,%d1
		negw	%d1
		cmpw	%d1,%d0
		bgts	loc_15814
		addw	%d5,%d0
		cmpw	%d1,%d0
		bles	loc_15814
		movew	%d1,%d0

loc_15814:
		movew	%d0,0x1C(%a0)
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_15820:
		subw	%d4,%d0
		bccs	loc_15828
		movew	#-0x80,%d0

loc_15828:
		movew	%d0,0x1C(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnes	locret_15870
		cmpiw	#0x400,%d0
		blts	locret_15870
		tstb	0x2D(%a0)
		bmis	locret_15870
		movew	#sfx_Skid,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xD,0x20(%a0)
		bclr	#0,0x2A(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	locret_15870
		moveb	#6,5(%a6)
		moveb	#0x15,0x22(%a6)

locret_15870:
		rts
/*  End of function sub_157E6 */


/*  =============== S U B R O U T I N E ======================================= */


sub_15872:
		movew	0x1C(%a0),%d0
		bmis	loc_158A6
		bclr	#0,0x2A(%a0)
		beqs	loc_1588C
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)

loc_1588C:
		addw	%d5,%d0
		cmpw	%d6,%d0
		blts	loc_1589A
		subw	%d5,%d0
		cmpw	%d6,%d0
		bges	loc_1589A
		movew	%d6,%d0

loc_1589A:
		movew	%d0,0x1C(%a0)
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_158A6:
		addw	%d4,%d0
		bccs	loc_158AE
		movew	#0x80,%d0

loc_158AE:
		movew	%d0,0x1C(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnes	locret_158F6
		cmpiw	#-0x400,%d0
		bgts	locret_158F6
		tstb	0x2D(%a0)
		bmis	locret_158F6
		movew	#sfx_Skid,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xD,0x20(%a0)
		bset	#0,0x2A(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	locret_158F6
		moveb	#6,5(%a6)
		moveb	#0x15,0x22(%a6)

locret_158F6:
		rts
/*  End of function sub_15872 */


/*  =============== S U B R O U T I N E ======================================= */


Tails_RollSpeed:
		movew	(%a4),%d6
		aslw	#1,%d6
		movew	2(%a4),%d5
		asrw	#1,%d5
		movew	4(%a4),%d4
		asrw	#2,%d4
		tstb	0x3D(%a0)
		bmiw	loc_1599E
		tstb	0x2B(%a0)
		bmiw	loc_1599E
		tstw	0x32(%a0)
		bnes	loc_15936
		btst	#2,(Ctrl_2_held_logical):w
		beqs	loc_1592A
		bsrw	sub_159E0

loc_1592A:
		btst	#3,(Ctrl_2_held_logical):w
		beqs	loc_15936
		bsrw	sub_15A04

loc_15936:
		movew	0x1C(%a0),%d0
		beqs	loc_15958
		bmis	loc_1594C
		subw	%d5,%d0
		bccs	loc_15946
		movew	#0,%d0

loc_15946:
		movew	%d0,0x1C(%a0)
		bras	loc_15958
/*  --------------------------------------------------------------------------- */

loc_1594C:
		addw	%d5,%d0
		bccs	loc_15954
		movew	#0,%d0

loc_15954:
		movew	%d0,0x1C(%a0)

loc_15958:
		tstw	0x1C(%a0)
		bnes	loc_1599E
		tstb	0x3D(%a0)
		bnes	loc_1598C
		bclr	#2,0x2A(%a0)
		moveb	0x1E(%a0),%d0
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		moveb	#5,0x20(%a0)
		subb	0x44(%a0),%d0
		extw	%d0
		addw	%d0,0x14(%a0)
		bras	loc_1599E
/*  --------------------------------------------------------------------------- */

loc_1598C:
		movew	#0x400,0x1C(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_1599E
		negw	0x1C(%a0)

loc_1599E:
		cmpiw	#0x60,(%a5)
		beqs	loc_159AA
		bccs	loc_159A8
		addqw	#4,(%a5)

loc_159A8:
		subqw	#2,(%a5)

loc_159AA:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a0),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)
		mulsw	0x1C(%a0),%d1
		asrl	#8,%d1
		cmpiw	#0x1000,%d1
		bles	loc_159CE
		movew	#0x1000,%d1

loc_159CE:
		cmpiw	#-0x1000,%d1
		bges	loc_159D8
		movew	#-0x1000,%d1

loc_159D8:
		movew	%d1,0x18(%a0)
		braw	loc_1575A
/*  End of function Tails_RollSpeed */


/*  =============== S U B R O U T I N E ======================================= */


sub_159E0:
		movew	0x1C(%a0),%d0
		beqs	loc_159E8
		bpls	loc_159F6

loc_159E8:
		bset	#0,0x2A(%a0)
		moveb	#2,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_159F6:
		subw	%d4,%d0
		bccs	loc_159FE
		movew	#-0x80,%d0

loc_159FE:
		movew	%d0,0x1C(%a0)
		rts
/*  End of function sub_159E0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_15A04:
		movew	0x1C(%a0),%d0
		bmis	loc_15A18
		bclr	#0,0x2A(%a0)
		moveb	#2,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_15A18:
		addw	%d4,%d0
		bccs	loc_15A20
		movew	#0x80,%d0

loc_15A20:
		movew	%d0,0x1C(%a0)
		rts
/*  End of function sub_15A04 */


/*  =============== S U B R O U T I N E ======================================= */


Tails_InputAcceleration_Freespace:
		movew	(%a4),%d6
		movew	2(%a4),%d5
		aslw	#1,%d5
		btst	#4,0x2A(%a0)
		bnes	loc_15A7A
		movew	0x18(%a0),%d0
		btst	#2,(Ctrl_2_held_logical):w
		beqs	loc_15A5A
		bset	#0,0x2A(%a0)
		subw	%d5,%d0
		movew	%d6,%d1
		negw	%d1
		cmpw	%d1,%d0
		bgts	loc_15A5A
		addw	%d5,%d0
		cmpw	%d1,%d0
		bles	loc_15A5A
		movew	%d1,%d0

loc_15A5A:
		btst	#3,(Ctrl_2_held_logical):w
		beqs	loc_15A76
		bclr	#0,0x2A(%a0)
		addw	%d5,%d0
		cmpw	%d6,%d0
		blts	loc_15A76
		subw	%d5,%d0
		cmpw	%d6,%d0
		bges	loc_15A76
		movew	%d6,%d0

loc_15A76:
		movew	%d0,0x18(%a0)

loc_15A7A:
		cmpiw	#0x60,(%a5)
		beqs	loc_15A86
		bccs	loc_15A84
		addqw	#4,(%a5)

loc_15A84:
		subqw	#2,(%a5)

loc_15A86:
		cmpiw	#-0x400,0x1A(%a0)
		bcss	locret_15AB4
		movew	0x18(%a0),%d0
		movew	%d0,%d1
		asrw	#5,%d1
		beqs	locret_15AB4
		bmis	loc_15AA8
		subw	%d1,%d0
		bccs	loc_15AA2
		movew	#0,%d0

loc_15AA2:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_15AA8:
		subw	%d1,%d0
		bcss	loc_15AB0
		movew	#0,%d0

loc_15AB0:
		movew	%d0,0x18(%a0)

locret_15AB4:
		rts
/*  End of function Tails_InputAcceleration_Freespace */


/*  =============== S U B R O U T I N E ======================================= */


Tails_Check_Screen_Boundaries:
		movel	0x10(%a0),%d1
		movew	0x18(%a0),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d1
		swap	%d1
		movew	(Camera_min_X_pos):w,%d0
		addiw	#0x10,%d0
		cmpw	%d1,%d0
		bhis	loc_15AFA
		movew	(Camera_max_X_pos):w,%d0
		addiw	#0x128,%d0
		cmpw	%d1,%d0
		blss	loc_15AFA

loc_15ADE:
		tstb	(Disable_death_plane):w
		bnes	locret_15AF2
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0xE0,%d0
		cmpw	0x14(%a0),%d0
		blts	loc_15AF4

locret_15AF2:
		rts
/*  --------------------------------------------------------------------------- */

loc_15AF4:
		jmp	(Kill_Character):l
/*  --------------------------------------------------------------------------- */

loc_15AFA:
		movew	%d0,0x10(%a0)
		movew	#0,0x12(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1C(%a0)
		bras	loc_15ADE
/*  End of function Tails_Check_Screen_Boundaries */


/*  =============== S U B R O U T I N E ======================================= */


Tails_Roll:
		tstb	0x2B(%a0)
		bmis	locret_15B38
		movew	0x1C(%a0),%d0
		bpls	loc_15B20
		negw	%d0

loc_15B20:
		cmpiw	#0x80,%d0
		bcss	locret_15B38
		moveb	(Ctrl_2_held_logical):w,%d0
		andib	#0xC,%d0
		bnes	locret_15B38
		btst	#1,(Ctrl_2_held_logical):w
		bnes	loc_15B3A

locret_15B38:
		rts
/*  --------------------------------------------------------------------------- */

loc_15B3A:
		btst	#2,0x2A(%a0)
		beqs	loc_15B44
		rts
/*  --------------------------------------------------------------------------- */

loc_15B44:
		bset	#2,0x2A(%a0)
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#1,0x14(%a0)
		movew	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		tstw	0x1C(%a0)
		bnes	locret_15B76
		movew	#0x200,0x1C(%a0)

locret_15B76:
		rts
/*  End of function Tails_Roll */


/*  =============== S U B R O U T I N E ======================================= */


Tails_Jump:
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_15C2E
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		addib	#-0x80,%d0
		moveml	%a4-%a6,-(%sp)
		bsrw	CalcRoomOverHead
		moveml	(%sp)+,%a4-%a6
		cmpiw	#6,%d1
		bltw	locret_15C2E
		movew	#0x680,%d2
		btst	#6,0x2A(%a0)
		beqs	loc_15BB2
		movew	#0x380,%d2

loc_15BB2:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		subib	#0x40,%d0
		jsr	(GetSineCosine):l
		mulsw	%d2,%d1
		asrl	#8,%d1
		addw	%d1,0x18(%a0)
		mulsw	%d2,%d0
		asrl	#8,%d0
		addw	%d0,0x1A(%a0)
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		addql	#4,%sp
		moveb	#1,0x40(%a0)
		clrb	0x3C(%a0)
		movew	#sfx_Jump,%d0
		jsr	(Play_Sound_2):l
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		btst	#2,0x2A(%a0)
		bnes	loc_15C30
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		bset	#2,0x2A(%a0)
		moveb	0x1E(%a0),%d0
		subb	0x44(%a0),%d0
		extw	%d0
		subw	%d0,0x14(%a0)

locret_15C2E:
		rts
/*  --------------------------------------------------------------------------- */

loc_15C30:
		bset	#4,0x2A(%a0)
		rts
/*  End of function Tails_Jump */


/*  =============== S U B R O U T I N E ======================================= */


Tails_JumpHeight:
		tstb	0x40(%a0)
		beqs	loc_15C64
		movew	#-0x400,%d1
		btst	#6,0x2A(%a0)
		beqs	loc_15C4E
		movew	#-0x200,%d1

loc_15C4E:
		cmpw	0x1A(%a0),%d1
		bles	Tails_Test_For_Flight
		moveb	(Ctrl_2_held_logical):w,%d0
		andib	#0x70,%d0
		bnes	locret_15C62
		movew	%d1,0x1A(%a0)

locret_15C62:
		rts
/*  --------------------------------------------------------------------------- */

loc_15C64:
		tstb	0x3D(%a0)
		bnes	locret_15C78
		cmpiw	#-0xFC0,0x1A(%a0)
		bges	locret_15C78
		movew	#-0xFC0,0x1A(%a0)

locret_15C78:
		rts
/*  --------------------------------------------------------------------------- */

Tails_Test_For_Flight:
		tstb	0x2F(%a0)
		bnew	locret_15CDA
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_15CDA
		cmpiw	#2,(Player_mode):w
		beqs	loc_15C9C
		tstw	(Tails_CPU_idle_timer):w
		beqs	locret_15CDA

loc_15C9C:
		btst	#2,0x2A(%a0)
		beqs	loc_15CC4
		bclr	#2,0x2A(%a0)
		moveb	0x1E(%a0),%d1
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		subb	0x44(%a0),%d1
		extw	%d1
		addw	%d1,0x14(%a0)

loc_15CC4:
		bclr	#4,0x2A(%a0)
		moveb	#1,0x2F(%a0)
		moveb	#-0x10,0x25(%a0)
		bsrw	Tails_Set_Flying_Animation

locret_15CDA:
		rts
/*  End of function Tails_JumpHeight */


/*  =============== S U B R O U T I N E ======================================= */


Tails_Spindash:
		tstb	0x3D(%a0)
		bnes	loc_15D50
		cmpib	#8,0x20(%a0)
		bnes	locret_15D4E
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	locret_15D4E
		moveb	#9,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addql	#4,%sp
		moveb	#1,0x3D(%a0)
		movew	#0,0x3E(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	loc_15D22
		moveb	#2,0x20(%a6)

loc_15D22:
		bsrw	Tails_Check_Screen_Boundaries
		bsrw	Player_AnglePos
		tstb	(Background_collision_flag):w
		beqs	locret_15D4E
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_15D4E
		subw	%d1,0x10(%a0)

locret_15D4E:
		rts
/*  --------------------------------------------------------------------------- */

loc_15D50:
		moveb	(Ctrl_2_held_logical):w,%d0
		btst	#1,%d0
		bnew	loc_15DE0
		moveb	#0xE,0x1E(%a0)
		moveb	#7,0x1F(%a0)
		moveb	#2,0x20(%a0)
		addqw	#1,0x14(%a0)
		moveb	#0,0x3D(%a0)
		moveq	#0,%d0
		moveb	0x3E(%a0),%d0
		addw	%d0,%d0
		movew	word_15DCE(%pc,%d0.w),0x1C(%a0)
		movew	0x1C(%a0),%d0
		subiw	#0x800,%d0
		addw	%d0,%d0
		andiw	#0x1F00,%d0
		negw	%d0
		addiw	#0x2000,%d0
		lea	(H_scroll_frame_offset):w,%a1
		cmpaw	#-0x5000,%a0
		beqs	loc_15DA8
		lea	(H_scroll_frame_offset_P2):w,%a1

loc_15DA8:
		movew	%d0,(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_15DB6
		negw	0x1C(%a0)

loc_15DB6:
		bset	#2,0x2A(%a0)
		moveb	#0,0x20(%a6)
		movew	#0xFF00|sfx_Dash,%d0
		jsr	(Play_Sound_2):l
		bras	loc_15E28
/*  --------------------------------------------------------------------------- */
word_15DCE:	.word 0x800
		.word 0x880
		.word 0x900
		.word 0x980
		.word 0xA00
		.word 0xA80
		.word 0xB00
		.word 0xB80
		.word 0xC00
/*  --------------------------------------------------------------------------- */

loc_15DE0:
		tstw	0x3E(%a0)
		beqs	loc_15DF8
		movew	0x3E(%a0),%d0
		lsrw	#5,%d0
		subw	%d0,0x3E(%a0)
		bccs	loc_15DF8
		movew	#0,0x3E(%a0)

loc_15DF8:
		moveb	(Ctrl_2_pressed_logical):w,%d0
		andib	#0x70,%d0
		beqw	loc_15E28
		movew	#0x900,0x20(%a0)
		movew	#0xFF00|sfx_Spindash,%d0
		jsr	(Play_Sound_2):l
		addiw	#0x200,0x3E(%a0)
		cmpiw	#0x800,0x3E(%a0)
		bcss	loc_15E28
		movew	#0x800,0x3E(%a0)

loc_15E28:
		addql	#4,%sp
		cmpiw	#0x60,(%a5)
		beqs	loc_15E36
		bccs	loc_15E34
		addqw	#4,(%a5)

loc_15E34:
		subqw	#2,(%a5)

loc_15E36:
		bsrw	Tails_Check_Screen_Boundaries
		bsrw	Player_AnglePos
		tstb	(Background_collision_flag):w
		beqs	locret_15E62
		bsrw	sub_10BA2
		tstw	%d1
		bmiw	Kill_Character
		moveml	%a4-%a6,-(%sp)
		bsrw	CheckLeftWallDist
		moveml	(%sp)+,%a4-%a6
		tstw	%d1
		bpls	locret_15E62
		subw	%d1,0x10(%a0)

locret_15E62:
		rts
/*  End of function Tails_Spindash */


/*  =============== S U B R O U T I N E ======================================= */


Tails_SlopeResist:
		moveb	0x26(%a0),%d0
		addib	#0x60,%d0
		cmpib	#-0x40,%d0
		bccs	locret_15E98
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	#0x20,%d0
		asrl	#8,%d0
		tstw	0x1C(%a0)
		beqs	locret_15E98
		bmis	loc_15E94
		tstw	%d0
		beqs	locret_15E92
		addw	%d0,0x1C(%a0)

locret_15E92:
		rts
/*  --------------------------------------------------------------------------- */

loc_15E94:
		addw	%d0,0x1C(%a0)

locret_15E98:
		rts
/*  End of function Tails_SlopeResist */


/*  =============== S U B R O U T I N E ======================================= */


Tails_RollRepel:
		moveb	0x26(%a0),%d0
		addib	#0x60,%d0
		cmpib	#-0x40,%d0
		bccs	locret_15ED4
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	#0x50,%d0
		asrl	#8,%d0
		tstw	0x1C(%a0)
		bmis	loc_15ECA
		tstw	%d0
		bpls	loc_15EC4
		asrl	#2,%d0

loc_15EC4:
		addw	%d0,0x1C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_15ECA:
		tstw	%d0
		bmis	loc_15ED0
		asrl	#2,%d0

loc_15ED0:
		addw	%d0,0x1C(%a0)

locret_15ED4:
		rts
/*  End of function Tails_RollRepel */


/*  =============== S U B R O U T I N E ======================================= */


Tails_SlopeRepel:
		nop
		tstb	0x3C(%a0)
		bnes	locret_15F10
		tstw	0x32(%a0)
		bnes	loc_15F12
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		beqs	locret_15F10
		movew	0x1C(%a0),%d0
		bpls	loc_15EFA
		negw	%d0

loc_15EFA:
		cmpiw	#0x280,%d0
		bccs	locret_15F10
		clrw	0x1C(%a0)
		bset	#1,0x2A(%a0)
		movew	#0x1E,0x32(%a0)

locret_15F10:
		rts
/*  --------------------------------------------------------------------------- */

loc_15F12:
		subqw	#1,0x32(%a0)
		rts
/*  End of function Tails_SlopeRepel */


/*  =============== S U B R O U T I N E ======================================= */


Tails_JumpAngle:
		moveb	0x26(%a0),%d0
		beqs	loc_15F32
		bpls	loc_15F28
		addqb	#2,%d0
		bccs	loc_15F26
		moveq	#0,%d0

loc_15F26:
		bras	loc_15F2E
/*  --------------------------------------------------------------------------- */

loc_15F28:
		subqb	#2,%d0
		bccs	loc_15F2E
		moveq	#0,%d0

loc_15F2E:
		moveb	%d0,0x26(%a0)

loc_15F32:
		moveb	0x27(%a0),%d0
		beqs	locret_15F76
		tstw	0x1C(%a0)
		bmis	loc_15F56

loc_15F3E:
		moveb	0x31(%a0),%d1
		addb	%d1,%d0
		bccs	loc_15F54
		subqb	#1,0x30(%a0)
		bccs	loc_15F54
		moveb	#0,0x30(%a0)
		moveq	#0,%d0

loc_15F54:
		bras	loc_15F72
/*  --------------------------------------------------------------------------- */

loc_15F56:
		tstb	0x2D(%a0)
		bmis	loc_15F3E
		moveb	0x31(%a0),%d1
		subb	%d1,%d0
		bccs	loc_15F72
		subqb	#1,0x30(%a0)
		bccs	loc_15F72
		moveb	#0,0x30(%a0)
		moveq	#0,%d0

loc_15F72:
		moveb	%d0,0x27(%a0)

locret_15F76:
		rts
/*  End of function Tails_JumpAngle */


/*  =============== S U B R O U T I N E ======================================= */


Tails_DoLevelCollision:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_15F8C
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_15F8C:
		moveb	0x47(%a0),%d5
		movew	0x18(%a0),%d1
		movew	0x1A(%a0),%d2
		jsr	(GetArcTan):l
		subib	#0x20,%d0
		andib	#-0x40,%d0
		cmpib	#0x40,%d0
		beqw	loc_1605A
		cmpib	#-0x80,%d0
		beqw	loc_160D6
		cmpib	#-0x40,%d0
		beqw	loc_16132
		bsrw	CheckLeftWallDist
		tstw	%d1
		bpls	loc_15FD0
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_15FD0:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	loc_15FE2
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_15FE2:
		bsrw	Sonic_CheckFloor
		tstw	%d1
		bpls	locret_16058
		moveb	0x1A(%a0),%d2
		addqb	#8,%d2
		negb	%d2
		cmpb	%d2,%d1
		bges	loc_15FFA
		cmpb	%d2,%d0
		blts	locret_16058

loc_15FFA:
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		moveb	%d3,%d0
		addib	#0x20,%d0
		andib	#0x40,%d0
		bnes	loc_16032
		moveb	%d3,%d0
		addib	#0x10,%d0
		andib	#0x20,%d0
		beqs	loc_16020
		asr	0x1A(%a0)
		bras	loc_16046
/*  --------------------------------------------------------------------------- */

loc_16020:
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		bsrw	Tails_TouchFloor_Check_Spindash
		rts
/*  --------------------------------------------------------------------------- */

loc_16032:
		movew	#0,0x18(%a0)
		cmpiw	#0xFC0,0x1A(%a0)
		bles	loc_16046
		movew	#0xFC0,0x1A(%a0)

loc_16046:
		bsrw	Tails_TouchFloor_Check_Spindash
		movew	0x1A(%a0),0x1C(%a0)
		tstb	%d3
		bpls	locret_16058
		negw	0x1C(%a0)

locret_16058:
		rts
/*  --------------------------------------------------------------------------- */

loc_1605A:
		bsrw	CheckLeftWallDist
		tstw	%d1
		bpls	loc_16072
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)
		movew	0x1A(%a0),0x1C(%a0)

loc_16072:
		bsrw	Sonic_CheckCeiling
		tstw	%d1
		bpls	loc_160A8
		negw	%d1
		cmpiw	#0x14,%d1
		bccs	loc_16094
		addw	%d1,0x14(%a0)
		tstw	0x1A(%a0)
		bpls	locret_16092
		movew	#0,0x1A(%a0)

locret_16092:
		rts
/*  --------------------------------------------------------------------------- */

loc_16094:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	locret_160A6
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

locret_160A6:
		rts
/*  --------------------------------------------------------------------------- */

loc_160A8:
		tstb	(WindTunnel_flag_P2):w
		bnes	loc_160B4
		tstw	0x1A(%a0)
		bmis	locret_160D4

loc_160B4:
		bsrw	Sonic_CheckFloor
		tstw	%d1
		bpls	locret_160D4
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		bsrw	Tails_TouchFloor_Check_Spindash

locret_160D4:
		rts
/*  --------------------------------------------------------------------------- */

loc_160D6:
		bsrw	CheckLeftWallDist
		tstw	%d1
		bpls	loc_160E8
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_160E8:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	loc_160FA
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_160FA:
		bsrw	Sonic_CheckCeiling
		tstw	%d1
		bpls	locret_16130
		subw	%d1,0x14(%a0)
		moveb	%d3,%d0
		addib	#0x20,%d0
		andib	#0x40,%d0
		bnes	loc_1611A
		movew	#0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1611A:
		moveb	%d3,0x26(%a0)
		bsrw	Tails_TouchFloor_Check_Spindash
		movew	0x1A(%a0),0x1C(%a0)
		tstb	%d3
		bpls	locret_16130
		negw	0x1C(%a0)

locret_16130:
		rts
/*  --------------------------------------------------------------------------- */

loc_16132:
		bsrw	CheckRightWallDist
		tstw	%d1
		bpls	loc_1614A
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)
		movew	0x1A(%a0),0x1C(%a0)

loc_1614A:
		bsrw	Sonic_CheckCeiling
		tstw	%d1
		bpls	loc_16164
		subw	%d1,0x14(%a0)
		tstw	0x1A(%a0)
		bpls	locret_16162
		movew	#0,0x1A(%a0)

locret_16162:
		rts
/*  --------------------------------------------------------------------------- */

loc_16164:
		tstb	(WindTunnel_flag_P2):w
		bnes	loc_16170
		tstw	0x1A(%a0)
		bmis	locret_16190

loc_16170:
		bsrw	Sonic_CheckFloor
		tstw	%d1
		bpls	locret_16190
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		bsrw	Tails_TouchFloor_Check_Spindash

locret_16190:
		rts
/*  End of function Tails_DoLevelCollision */


/*  =============== S U B R O U T I N E ======================================= */


Tails_TouchFloor_Check_Spindash:
		tstb	0x3D(%a0)
		bnes	loc_161CC
		moveb	#0,0x20(%a0)
/*  End of function Tails_TouchFloor_Check_Spindash */


/*  =============== S U B R O U T I N E ======================================= */


Tails_TouchFloor:
		moveb	0x1E(%a0),%d0
		moveb	0x44(%a0),0x1E(%a0)
		moveb	0x45(%a0),0x1F(%a0)
		btst	#2,0x2A(%a0)
		beqs	loc_161CC
		bclr	#2,0x2A(%a0)
		moveb	#0,0x20(%a0)
		subb	0x44(%a0),%d0
		extw	%d0
		addw	%d0,0x14(%a0)

loc_161CC:
		bclr	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		bclr	#4,0x2A(%a0)
		moveb	#0,0x40(%a0)
		movew	#0,(Chain_bonus_counter):w
		moveb	#0,0x27(%a0)
		moveb	#0,0x2D(%a0)
		moveb	#0,0x30(%a0)
		moveb	#0,0x39(%a0)
		moveb	#0,0x2F(%a0)
		rts
/*  End of function Tails_TouchFloor */

/*  --------------------------------------------------------------------------- */

loc_1620A:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_16222
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w

loc_16222:
		jsr	(MoveSprite2):l
		addiw	#0x30,0x1A(%a0)
		btst	#6,0x2A(%a0)
		beqs	loc_1623C
		subiw	#0x20,0x1A(%a0)

loc_1623C:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_1624C
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_1624C:
		bsrw	sub_16262
		bsrw	Tails_Check_Screen_Boundaries
		bsrw	Sonic_RecordPos
		bsrw	sub_16356
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_16262:
		tstb	(Disable_death_plane):w
		bnes	loc_16278
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0xE0,%d0
		cmpw	0x14(%a0),%d0
		bltw	loc_162BE

loc_16278:
		moveml	%a4-%a6,-(%sp)
		bsrw	Tails_DoLevelCollision
		moveml	(%sp)+,%a4-%a6
		btst	#1,0x2A(%a0)
		bnes	locret_162BC
		moveq	#0,%d0
		movew	%d0,0x1A(%a0)
		movew	%d0,0x18(%a0)
		movew	%d0,0x1C(%a0)
		moveb	%d0,0x2E(%a0)
		moveb	#0,0x20(%a0)
		movew	#0x100,8(%a0)
		moveb	#2,5(%a0)
		moveb	#0x78,0x34(%a0)
		moveb	#0,0x3D(%a0)

locret_162BC:
		rts
/*  --------------------------------------------------------------------------- */

loc_162BE:
		jmp	(Kill_Character):l
/*  End of function sub_16262 */

/*  --------------------------------------------------------------------------- */

loc_162C4:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_162DC
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w

loc_162DC:
		bsrw	sub_13230
		jsr	(MoveSprite):l
		bsrw	Sonic_RecordPos
		bsrw	sub_16356
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_162F4:
		tstw	0x3E(%a0)
		beqs	locret_16306
		subqw	#1,0x3E(%a0)
		bnes	locret_16306
		movew	#1,(Restart_level_flag):w

locret_16306:
		rts
/*  --------------------------------------------------------------------------- */

loc_16308:
		tstw	(H_scroll_amount_P2):w
		bnes	loc_1631A
		tstw	(V_scroll_amount_P2):w
		bnes	loc_1631A
		moveb	#2,5(%a0)

loc_1631A:
		bsrw	sub_16356
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_16324:
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	loc_1633C
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrw	(Flying_carrying_Sonic_flag):w

loc_1633C:
		jsr	(MoveSprite2):l
		addiw	#0x10,0x1A(%a0)
		bsrw	Sonic_RecordPos
		bsrw	sub_16356
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_16356:
		tstw	(Competition_mode):w
		bnes	loc_16362
		bsrs	Animate_Tails
		braw	Tails_Load_PLC
/*  --------------------------------------------------------------------------- */

loc_16362:
		bsrw	Animate_Tails2P
		braw	Tails2P_Load_PLC
/*  End of function sub_16356 */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Tails:
		lea	(AniTails):l,%a1
/*  End of function Animate_Tails */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Tails_Part2:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		cmpb	0x21(%a0),%d0
		beqs	loc_16392
		moveb	%d0,0x21(%a0)
		moveb	#0,0x23(%a0)
		moveb	#0,0x24(%a0)
		bclr	#5,0x2A(%a0)

loc_16392:
		addw	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		moveb	(%a1),%d0
		bmis	loc_16402
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_163D0
		moveb	%d0,0x24(%a0)
/*  End of function Animate_Tails_Part2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_163B8:
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-0x10,%d0
		bccs	loc_163D2

loc_163C8:
		moveb	%d0,0x22(%a0)
		addqb	#1,0x23(%a0)

locret_163D0:
		rts
/*  --------------------------------------------------------------------------- */

loc_163D2:
		addqb	#1,%d0
		bnes	loc_163E2
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0
		bras	loc_163C8
/*  --------------------------------------------------------------------------- */

loc_163E2:
		addqb	#1,%d0
		bnes	loc_163F6
		moveb	2(%a1,%d1.w),%d0
		subb	%d0,0x23(%a0)
		subb	%d0,%d1
		moveb	1(%a1,%d1.w),%d0
		bras	loc_163C8
/*  --------------------------------------------------------------------------- */

loc_163F6:
		addqb	#1,%d0
		bnes	locret_16400
		moveb	2(%a1,%d1.w),0x20(%a0)

locret_16400:
		rts
/*  End of function sub_163B8 */

/*  --------------------------------------------------------------------------- */

loc_16402:
		addqb	#1,%d0
		bnew	loc_164D0
		moveq	#0,%d0
		tstb	0x2D(%a0)
		bmiw	loc_1360C
		moveb	0x27(%a0),%d0
		bnew	loc_1360C
		moveq	#0,%d1
		moveb	0x26(%a0),%d0
		bmis	loc_16426
		beqs	loc_16426
		subqb	#1,%d0

loc_16426:
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_16432
		notb	%d0

loc_16432:
		addib	#0x10,%d0
		bpls	loc_1643A
		moveq	#3,%d1

loc_1643A:
		andib	#-4,4(%a0)
		eorb	%d1,%d2
		orb	%d2,4(%a0)
		btst	#5,0x2A(%a0)
		bnew	loc_1651C
		lsrb	#4,%d0
		andib	#6,%d0
		movew	0x1C(%a0),%d2
		bpls	loc_1645E
		negw	%d2

loc_1645E:
		tstb	0x2B(%a0)
		bplw	loc_16468
		addw	%d2,%d2

loc_16468:
		moveb	%d0,%d3
		addb	%d3,%d3
		addb	%d3,%d3
		lea	(AniTails00):l,%a1
		cmpiw	#0x600,%d2
		bcss	loc_16492
		lea	(AniTails01):l,%a1
		moveb	%d0,%d3
		addb	%d3,%d3
		cmpiw	#0x700,%d2
		bcss	loc_16492
		lea	(AniTails1F):l,%a1
		moveb	%d0,%d3

loc_16492:
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-1,%d0
		bnes	loc_164AC
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0

loc_164AC:
		moveb	%d0,0x22(%a0)
		addb	%d3,0x22(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_164CE
		negw	%d2
		addiw	#0x800,%d2
		bpls	loc_164C4
		moveq	#0,%d2

loc_164C4:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		addqb	#1,0x23(%a0)

locret_164CE:
		rts
/*  --------------------------------------------------------------------------- */

loc_164D0:
		subqb	#1,0x24(%a0)
		bplw	locret_163D0
		addqb	#1,%d0
		bnes	loc_16556
		movew	0x1C(%a0),%d2
		bpls	loc_164E4
		negw	%d2

loc_164E4:
		lea	(AniTails03):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_164F6
		lea	(AniTails02):l,%a1

loc_164F6:
		negw	%d2
		addiw	#0x400,%d2
		bpls	loc_16500
		moveq	#0,%d2

loc_16500:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	sub_163B8
/*  --------------------------------------------------------------------------- */

loc_1651C:
		subqb	#1,0x24(%a0)
		bplw	locret_163D0
		movew	0x1C(%a0),%d2
		bmis	loc_1652C
		negw	%d2

loc_1652C:
		addiw	#0x800,%d2
		bpls	loc_16534
		moveq	#0,%d2

loc_16534:
		lsrw	#6,%d2
		moveb	%d2,0x24(%a0)
		lea	(AniTails04):l,%a1
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	sub_163B8
/*  --------------------------------------------------------------------------- */

loc_16556:
		movew	0x18(%a2),%d1
		movew	0x1A(%a2),%d2
		jsr	(GetArcTan):l
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_16574
		notb	%d0
		bras	loc_16578
/*  --------------------------------------------------------------------------- */

loc_16574:
		addib	#0x80,%d0

loc_16578:
		addib	#0x10,%d0
		bpls	loc_16580
		moveq	#3,%d1

loc_16580:
		andib	#-4,4(%a0)
		eorb	%d1,%d2
		orb	%d2,4(%a0)
		lsrb	#3,%d0
		andib	#0xC,%d0
		moveb	%d0,%d3
		lea	(AniTails_Tail03):l,%a1
		moveb	#3,0x24(%a0)
		bsrw	sub_163B8
		addb	%d3,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */
AniTails:	.include "General/Sprites/Tails/Anim - Tails S3.S"

/*  =============== S U B R O U T I N E ======================================= */


Tails_Tail_Load_PLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	(Player_prev_frame_P2_tail):w,%d0
		beqs	locret_167AA
		moveb	%d0,(Player_prev_frame_P2_tail):w
		lea	(PLC_Tails_Tail):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_167AA
		movew	#tiles_to_bytes(ArtTile_Player_2_Tail),%d4
		movel	#ArtUnc_Tails_Tail,%d6
		bras	loc_16782
/*  End of function Tails_Tail_Load_PLC */


/*  =============== S U B R O U T I N E ======================================= */


Tails_Load_PLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0

Tails_Load_PLC2:
		cmpb	(Player_prev_frame_P2):w,%d0
		beqs	locret_167AA
		moveb	%d0,(Player_prev_frame_P2):w
		lea	(PLC_Tails):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_167AA
		movew	#tiles_to_bytes(ArtTile_Player_2),%d4
		movel	#ArtUnc_Tails,%d6

loc_16782:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	%d6,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_16782

locret_167AA:
		rts
/*  End of function Tails_Load_PLC */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Tails2P:
		lea	(AniTails2P):l,%a1

loc_167B2:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		cmpb	0x21(%a0),%d0
		beqs	loc_167D4
		moveb	%d0,0x21(%a0)
		moveb	#0,0x23(%a0)
		moveb	#0,0x24(%a0)
		bclr	#5,0x2A(%a0)

loc_167D4:
		addw	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		moveb	(%a1),%d0
		bmis	loc_16844
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_16812
		moveb	%d0,0x24(%a0)
/*  End of function Animate_Tails2P */


/*  =============== S U B R O U T I N E ======================================= */


sub_167FA:
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-0x10,%d0
		bccs	loc_16814

loc_1680A:
		moveb	%d0,0x22(%a0)
		addqb	#1,0x23(%a0)

locret_16812:
		rts
/*  --------------------------------------------------------------------------- */

loc_16814:
		addqb	#1,%d0
		bnes	loc_16824
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0
		bras	loc_1680A
/*  --------------------------------------------------------------------------- */

loc_16824:
		addqb	#1,%d0
		bnes	loc_16838
		moveb	2(%a1,%d1.w),%d0
		subb	%d0,0x23(%a0)
		subb	%d0,%d1
		moveb	1(%a1,%d1.w),%d0
		bras	loc_1680A
/*  --------------------------------------------------------------------------- */

loc_16838:
		addqb	#1,%d0
		bnes	locret_16842
		moveb	2(%a1,%d1.w),0x20(%a0)

locret_16842:
		rts
/*  End of function sub_167FA */

/*  --------------------------------------------------------------------------- */

loc_16844:
		addqb	#1,%d0
		bnew	loc_1695E
		moveq	#0,%d0
		moveb	0x27(%a0),%d0
		bnew	loc_168F8
		moveq	#0,%d1
		moveb	0x26(%a0),%d0
		bmis	loc_16860
		beqs	loc_16860
		subqb	#1,%d0

loc_16860:
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_1686C
		notb	%d0

loc_1686C:
		addib	#0x10,%d0
		bpls	loc_16874
		moveq	#3,%d1

loc_16874:
		andib	#-4,4(%a0)
		eorb	%d1,%d2
		orb	%d2,4(%a0)
		btst	#5,0x2A(%a0)
		bnew	loc_169AA
		lsrb	#5,%d0
		andib	#3,%d0
		movew	0x1C(%a0),%d2
		bpls	loc_16898
		negw	%d2

loc_16898:
		tstb	0x2B(%a0)
		bplw	loc_168A2
		addw	%d2,%d2

loc_168A2:
		moveb	%d0,%d3
		lea	(AniTails2P01):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_168B8
		lea	(AniTails2P00):l,%a1
		addb	%d0,%d0

loc_168B8:
		addb	%d0,%d3
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		cmpib	#-1,%d0
		bnes	loc_168D4
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0

loc_168D4:
		moveb	%d0,0x22(%a0)
		addb	%d3,0x22(%a0)
		subqb	#1,0x24(%a0)
		bpls	locret_168F6
		negw	%d2
		addiw	#0x800,%d2
		bpls	loc_168EC
		moveq	#0,%d2

loc_168EC:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		addqb	#1,0x23(%a0)

locret_168F6:
		rts
/*  --------------------------------------------------------------------------- */

loc_168F8:
		moveb	0x27(%a0),%d0
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_16926
		andib	#-4,4(%a0)
		addib	#0x16,%d0
		divuw	#0x2C,%d0
		addib	#0x15,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_16926:
		andib	#-4,4(%a0)
		tstb	0x2D(%a0)
		bpls	loc_1693E
		orib	#1,4(%a0)
		addib	#0x16,%d0
		bras	loc_1694A
/*  --------------------------------------------------------------------------- */

loc_1693E:
		orib	#3,4(%a0)
		negb	%d0
		addib	#-0x66,%d0

loc_1694A:
		divuw	#0x2C,%d0
		addib	#0x15,%d0
		moveb	%d0,0x22(%a0)
		moveb	#0,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1695E:
		subqb	#1,0x24(%a0)
		bplw	locret_16812
		addqb	#1,%d0
		bnes	loc_169E4
		movew	0x1C(%a0),%d2
		bpls	loc_16972
		negw	%d2

loc_16972:
		lea	(AniTails2P03):l,%a1
		cmpiw	#0x600,%d2
		bccs	loc_16984
		lea	(AniTails2P02):l,%a1

loc_16984:
		negw	%d2
		addiw	#0x400,%d2
		bpls	loc_1698E
		moveq	#0,%d2

loc_1698E:
		lsrw	#8,%d2
		moveb	%d2,0x24(%a0)
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	sub_167FA
/*  --------------------------------------------------------------------------- */

loc_169AA:
		subqb	#1,0x24(%a0)
		bplw	locret_16812
		movew	0x1C(%a0),%d2
		bmis	loc_169BA
		negw	%d2

loc_169BA:
		addiw	#0x800,%d2
		bpls	loc_169C2
		moveq	#0,%d2

loc_169C2:
		lsrw	#6,%d2
		moveb	%d2,0x24(%a0)
		lea	(AniTails2P04):l,%a1
		moveb	0x2A(%a0),%d1
		andib	#1,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		braw	sub_167FA
/*  --------------------------------------------------------------------------- */

loc_169E4:
		movew	0x18(%a2),%d1
		movew	0x1A(%a2),%d2
		jsr	(GetArcTan):l
		moveq	#0,%d1
		moveb	0x2A(%a0),%d2
		andib	#1,%d2
		bnes	loc_16A02
		notb	%d0
		bras	loc_16A06
/*  --------------------------------------------------------------------------- */

loc_16A02:
		addib	#-0x80,%d0

loc_16A06:
		addib	#0x10,%d0
		bpls	loc_16A0E
		moveq	#3,%d1

loc_16A0E:
		andib	#-4,4(%a0)
		eorb	%d1,%d2
		orb	%d2,4(%a0)
		lsrb	#5,%d0
		andib	#3,%d0
		moveb	%d0,%d3
		addb	%d0,%d0
		addb	%d0,%d3
		lea	(AniTails2P_Tail03):l,%a1
		moveb	#3,0x24(%a0)
		bsrw	sub_167FA
		addb	%d3,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */
AniTails2P:	.include "General/Sprites/Tails/Anim - Tails 2P.S"

/*  =============== S U B R O U T I N E ======================================= */


Tails2P_Tail_Load_PLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		lea	(DPLC_Tails2P_Tail):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_16B80
		movel	#ArtUnc_Tails2P_Tail,%d6
		movew	#tiles_to_bytes(ArtTile_Player_2_Tail),%d4
		cmpaw	#Tails_tails,%a0
		beqs	loc_16B58
		movew	#0xD200,%d4
		bras	loc_16B58
/*  End of function Tails2P_Tail_Load_PLC */


/*  =============== S U B R O U T I N E ======================================= */


Tails2P_Load_PLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		lea	(PLC_Tails2P):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_16B80
		movel	#ArtUnc_Tails2P,%d6
		movew	#tiles_to_bytes(ArtTile_Player_1),%d4
		cmpaw	#Player_1,%a0
		beqs	loc_16B58
		movew	#tiles_to_bytes(ArtTile_Player_2),%d4

loc_16B58:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	%d6,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_16B58

locret_16B80:
		rts
/*  End of function Tails2P_Load_PLC */

/*  --------------------------------------------------------------------------- */

Obj_Tails_Tail:
		movel	#Map_Tails_Tail,0xC(%a0)
		movew	#ArtTile_Player_2_Tail,0xA(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#4,4(%a0)
		movel	#Obj_Tails_Tail_Main,(%a0)

Obj_Tails_Tail_Main:
		moveaw	0x30(%a0),%a2
		moveb	0x26(%a2),0x26(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		movew	8(%a2),8(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_16BE2
		oriw	#-0x8000,0xA(%a0)

loc_16BE2:
		moveq	#0,%d0
		moveb	0x20(%a2),%d0
		btst	#5,0x2A(%a2)
		beqs	loc_16BF8
		tstb	(WindTunnel_flag_P2):w
		bnes	loc_16BF8
		moveq	#4,%d0

loc_16BF8:
		cmpb	0x34(%a0),%d0
		beqs	loc_16C08
		moveb	%d0,0x34(%a0)
		moveb	Obj_Tails_Tail_AniSelection(%pc,%d0.w),0x20(%a0)

loc_16C08:
		lea	(AniTails_Tail):l,%a1
		bsrw	Animate_Tails_Part2
		bsrw	Tails_Tail_Load_PLC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Obj_Tails_Tail_AniSelection:
		.byte 0,0
		.byte 3
		.byte 3
		.byte 9
		.byte 1
		.byte 0
		.byte 2
		.byte 1
		.byte 7
		.byte 0,0,0
		.byte 8
		.byte 0,0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0xA
		.byte 0
		.byte 0,0,0
		.byte 0
		.byte 0,0
		.byte 0
		.byte 0,0
		.byte 0
		.byte 0xB,0xC
		.byte 0xB
		.byte 0xC
		.byte 0xB
		.byte 0,0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0,0,0
AniTails_Tail:	.include "General/Sprites/Tails/Anim - Tails Tail.S"
/*  --------------------------------------------------------------------------- */

Obj_Tails2P_Tail:
		movel	#Map_Tails2P_Tail,0xC(%a0)
		movew	#ArtTile_Player_2_Tail,0xA(%a0)
		cmpaw	#Tails_tails,%a0
		beqs	loc_16CCC
		movew	#0x690,0xA(%a0)

loc_16CCC:
		movew	#0x100,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#4,4(%a0)
		movel	#loc_16CEA,(%a0)

loc_16CEA:
		moveaw	0x30(%a0),%a2
		moveb	0x26(%a2),0x26(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		movew	8(%a2),8(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_16D1E
		oriw	#0x8000,0xA(%a0)

loc_16D1E:
		moveq	#0,%d0
		moveb	0x20(%a2),%d0
		btst	#5,0x2A(%a2)
		beqs	loc_16D34
		cmpib	#5,%d0
		beqs	loc_16D34
		moveq	#4,%d0

loc_16D34:
		cmpb	0x34(%a0),%d0
		beqs	loc_16D44
		moveb	%d0,0x34(%a0)
		moveb	byte_16D58(%pc,%d0.w),0x20(%a0)

loc_16D44:
		lea	(AniTails2P_Tail):l,%a1
		bsrw	loc_167B2
		bsrw	Tails2P_Tail_Load_PLC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
byte_16D58:	.byte    0,   0,   3,   3,   0,   1,   1,   1,   1,   0,   1,   1,   1,   0,   0,   0,   0,   0,   0,   0
		.byte    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
AniTails2P_Tail:.include "General/Sprites/Tails/Anim - Tails 2P Tail.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZ2_BossTransition:
		cmpiw	#2,(Player_mode):w
		beqw	loc_16E88
		movew	(Camera_X_pos):w,%d0
		addiw	#0x40,%d0
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x100,%d0
		movew	%d0,0x14(%a0)
		lea	(Player_2):w,%a1
		tstb	4(%a1)
		bmis	loc_16DE0
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subqw	#1,0x14(%a1)
		movel	#Obj_Tails,(Player_2):w
		movew	#0x12,(Tails_CPU_routine):w
		movew	#0,(Flying_carrying_Sonic_flag):w

loc_16DE0:
		movew	#0x168,0x30(%a0)
		movel	#loc_16DEC,(%a0)

loc_16DEC:
		subqw	#1,0x30(%a0)
		bnes	loc_16DF8
		movel	#loc_16DF8,(%a0)

loc_16DF8:
		tstb	(Flying_carrying_Sonic_flag):w
		bnes	loc_16E3C
		lea	(Player_1):w,%a1
		movew	0x14(%a0),%d0
		cmpw	0x14(%a1),%d0
		bccs	loc_16E3C
		movew	%d0,0x14(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		moveb	#0,0x3D(%a1)
		cmpiw	#0x14,(Tails_CPU_routine):w
		bcss	loc_16E36
		movew	0x10(%a1),0x10(%a0)

loc_16E36:
		moveb	#2,5(%a1)

loc_16E3C:
		tstb	(Player_1+render_flags):w
		bmis	locret_16E86
		cmpib	#2,(Player_1+routine):w
		bnes	locret_16E86
		lea	(Player_2):w,%a1
		movew	0x14(%a0),%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_16E86
		movew	#0x12,(Tails_CPU_routine):w
		tstw	0x30(%a0)
		bnes	locret_16E86
		movew	%d0,0x14(%a1)
		moveb	#2,5(%a1)
		moveb	#0,0x2E(%a1)
		moveb	#0,0x3D(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	#0x14,(Tails_CPU_routine):w

locret_16E86:
		rts
/*  --------------------------------------------------------------------------- */

loc_16E88:
		movew	(Camera_X_pos):w,%d0
		addiw	#0x40,%d0
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x100,%d0
		movew	%d0,0x14(%a0)
		movew	#0x168,0x30(%a0)
		movel	#loc_16EAC,(%a0)

loc_16EAC:
		subqw	#1,0x30(%a0)
		bnes	loc_16EC2
		movel	#loc_16EC2,(%a0)
		lea	(Player_1):w,%a1
		movew	0x10(%a0),0x10(%a1)

loc_16EC2:
		lea	(Player_1):w,%a1
		movew	0x14(%a0),%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_16EFA
		movew	%d0,0x14(%a1)
		addqw	#8,0x14(%a1)
		tstw	0x30(%a0)
		bnes	locret_16EFA
		movew	%d0,0x14(%a1)
		moveb	#2,5(%a1)
		moveb	#0,0x2E(%a1)
		moveb	#0,0x3D(%a1)
		movew	#0x1A,(Tails_CPU_routine):w

locret_16EFA:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Air_CountDown:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	AirCountdown_Index(%pc,%d0.w),%d1
		jmp	AirCountdown_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
AirCountdown_Index:.word	AirCountdown_Init-AirCountdown_Index
		.word AirCountdown_Animate-AirCountdown_Index
		.word AirCountdown_ChkWater-AirCountdown_Index
		.word AirCountdown_Display-AirCountdown_Index
		.word AirCountdown_Delete-AirCountdown_Index
		.word AirCountdown_Countdown-AirCountdown_Index
		.word AirCountdown_AirLeft-AirCountdown_Index
		.word AirCountdown_DisplayNumber-AirCountdown_Index
		.word AirCountdown_Delete-AirCountdown_Index
/*  --------------------------------------------------------------------------- */

AirCountdown_Init:
		addqb	#2,5(%a0)
		movel	#Map_Bubbler,0xC(%a0)
		tstb	0x43(%a0)
		beqs	loc_16F36
		movel	#Map_Bubbler2,0xC(%a0)

loc_16F36:
		movew	#0x45C,0xA(%a0)
		moveb	#0x84,4(%a0)
		moveb	#0x10,7(%a0)
		movew	#0x80,8(%a0)
		moveb	0x2C(%a0),%d0
		bpls	loc_16F64
		addqb	#8,5(%a0)
		andiw	#0x7F,%d0
		moveb	%d0,0x37(%a0)
		braw	AirCountdown_Countdown
/*  --------------------------------------------------------------------------- */

loc_16F64:
		moveb	%d0,0x20(%a0)
		movew	0x10(%a0),0x34(%a0)
		movew	#-0x100,0x1A(%a0)

AirCountdown_Animate:
		lea	(Ani_Shields):l,%a1
		jsr	(Animate_Sprite):l

AirCountdown_ChkWater:
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bcss	AirCountdown_Wobble
		moveb	#6,5(%a0)
		addqb	#7,0x20(%a0)
		cmpib	#0xD,0x20(%a0)
		beqs	AirCountdown_Display
		bcss	AirCountdown_Display
		moveb	#0xD,0x20(%a0)
		bras	AirCountdown_Display
/*  --------------------------------------------------------------------------- */

AirCountdown_Wobble:
		tstw	(WindTunnel_flag):w
		beqs	loc_16FB0
		addqw	#4,0x34(%a0)

loc_16FB0:
		moveb	0x26(%a0),%d0
		addqb	#1,0x26(%a0)
		andiw	#0x7F,%d0
		lea	(AirCountdown_WobbleData):l,%a1
		moveb	(%a1,%d0.w),%d0
		extw	%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x10(%a0)
		bsrw	AirCountdown_ShowNumber
		jsr	(MoveSprite2):l
		tstb	4(%a0)
		bpls	loc_16FE6
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_16FE6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

AirCountdown_Display:
		bsrs	AirCountdown_ShowNumber
		lea	(Ani_Shields):l,%a1
		jsr	(Animate_Sprite):l
		bsrw	AirCountdown_Load_Art
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

AirCountdown_Delete:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

AirCountdown_AirLeft:
		moveal	0x40(%a0),%a2
		cmpib	#0xC,0x2C(%a2)
		bhis	loc_17044
		subqw	#1,0x3C(%a0)
		bnes	AirCountdown_Display2
		moveb	#0xE,5(%a0)
		addqb	#7,0x20(%a0)
		bras	AirCountdown_Display
/*  --------------------------------------------------------------------------- */

AirCountdown_Display2:
		lea	(Ani_Shields):l,%a1
		jsr	(Animate_Sprite):l
		bsrw	AirCountdown_Load_Art
		tstb	4(%a0)
		bpls	loc_17044
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_17044:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

AirCountdown_DisplayNumber:
		moveal	0x40(%a0),%a2
		cmpib	#0xC,0x2C(%a2)
		bhis	AirCountdown_Delete
		bsrs	AirCountdown_ShowNumber
		lea	(Ani_Shields):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


AirCountdown_ShowNumber:
		tstw	0x3C(%a0)
		beqs	locret_170B4
		subqw	#1,0x3C(%a0)
		bnes	locret_170B4
		cmpib	#7,0x20(%a0)
		bccs	locret_170B4
		movew	#0xF,0x3C(%a0)
		clrw	0x1A(%a0)
		moveb	#0x80,4(%a0)
		movew	0x10(%a0),%d0
		subw	(Camera_X_pos):w,%d0
		addiw	#0x80,%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a0),%d0
		subw	(Camera_Y_pos):w,%d0
		addiw	#0x80,%d0
		movew	%d0,0x14(%a0)
		moveb	#0xC,5(%a0)

locret_170B4:
		rts
/*  End of function AirCountdown_ShowNumber */

/*  --------------------------------------------------------------------------- */
AirCountdown_WobbleData:
		.byte  0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2
		.byte  2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3
		.byte  3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2
		.byte  2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0
		.byte  0,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-3,-3,-3,-3,-3
		.byte -3,-3,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4
		.byte -4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-3
		.byte -3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1
		.byte  0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2
		.byte  2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3
		.byte  3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2
		.byte  2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0
		.byte  0,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-3,-3,-3,-3,-3
		.byte -3,-3,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4
		.byte -4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-3
		.byte -3,-3,-3,-3,-3,-3,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1

/*  =============== S U B R O U T I N E ======================================= */


AirCountdown_Load_Art:
		moveq	#0,%d1
		moveb	0x22(%a0),%d1
		cmpib	#9,%d1
		bcss	locret_171FC
		cmpib	#0x13,%d1
		bccs	locret_171FC
		cmpb	0x32(%a0),%d1
		beqs	locret_171FC
		moveb	%d1,0x32(%a0)
		subiw	#9,%d1
		movew	%d1,%d0
		addw	%d1,%d1
		addw	%d0,%d1
		lslw	#6,%d1
		addil	#ArtUnc_AirCountDown,%d1
		movew	#tiles_to_bytes(ArtTile_DashDust),%d2
		tstb	0x43(%a0)
		beqs	loc_171F2
		movew	#tiles_to_bytes(ArtTile_DashDust_P2),%d2

loc_171F2:
		movew	#0x60,%d3
		jsr	(Add_To_DMA_Queue):l

locret_171FC:
		rts
/*  End of function AirCountdown_Load_Art */

/*  --------------------------------------------------------------------------- */

AirCountdown_Countdown:
		moveal	0x40(%a0),%a2
		tstw	0x30(%a0)
		bnew	loc_1730C
		cmpib	#6,5(%a2)
		bccw	locret_17410
		btst	#6,0x2B(%a2)
		bnew	locret_17410
		btst	#6,0x2A(%a2)
		beqw	locret_17410
		subqw	#1,0x3C(%a0)
		bplw	loc_17324
		movew	#0x3B,0x3C(%a0)
		movew	#1,0x3A(%a0)
		jsr	(Random_Number):l
		andiw	#1,%d0
		moveb	%d0,0x38(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a2),%d0
		cmpiw	#0x19,%d0
		beqs	AirCountdown_WarnSound
		cmpiw	#0x14,%d0
		beqs	AirCountdown_WarnSound
		cmpiw	#0xF,%d0
		beqs	AirCountdown_WarnSound
		cmpiw	#0xC,%d0
		bhis	AirCountdown_ReduceAir
		bnes	loc_17278
		tstb	0x43(%a0)
		bnes	loc_17278
		moveq	#mus_Drowning,%d0
		jsr	(Play_Sound):l

loc_17278:
		subqb	#1,0x36(%a0)
		bpls	AirCountdown_ReduceAir
		moveb	0x37(%a0),0x36(%a0)
		bset	#7,0x3A(%a0)
		bras	AirCountdown_ReduceAir
/*  --------------------------------------------------------------------------- */

AirCountdown_WarnSound:
		tstb	0x43(%a0)
		bnes	AirCountdown_ReduceAir
		moveq	#sfx_AirDing,%d0
		jsr	(Play_Sound_2):l

AirCountdown_ReduceAir:
		subqb	#1,0x2C(%a2)
		bccw	loc_17322
		moveb	#-0x7F,0x2E(%a2)
		movew	#sfx_Drown,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xA,0x38(%a0)
		movew	#1,0x3A(%a0)
		movew	#0x78,0x30(%a0)
		moveal	%a2,%a1
		bsrw	Player_ResetAirTimer
		movel	%a0,-(%sp)
		moveal	%a2,%a0
		bsrw	Player_TouchFloor
		moveb	#0x17,0x20(%a0)
		bset	#1,0x2A(%a0)
		bset	#7,0xA(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1C(%a0)
		moveb	#0xC,5(%a0)
		moveal	(%sp)+,%a0
		cmpaw	#Player_1,%a2
		bnes	locret_1730A
		moveb	#1,(Deform_lock):w

locret_1730A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1730C:
		moveb	#0x17,0x20(%a2)
		subqw	#1,0x30(%a0)
		bnes	loc_17320
		moveb	#6,5(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_17320:
		bras	loc_17324
/*  --------------------------------------------------------------------------- */

loc_17322:
		bras	AirCountdown_MakeItem
/*  --------------------------------------------------------------------------- */

loc_17324:
		tstw	0x3A(%a0)
		beqw	locret_17410
		subqw	#1,0x3E(%a0)
		bplw	locret_17410

AirCountdown_MakeItem:
		jsr	(Random_Number):l
		andiw	#0xF,%d0
		addqw	#8,%d0
		movew	%d0,0x3E(%a0)
		jsr	(Create_New_Sprite):l
		bnew	locret_17410
		movel	(%a0),(%a1)
		movew	0x10(%a2),0x10(%a1)
		moveq	#6,%d0
		btst	#0,0x2A(%a2)
		beqs	loc_17368
		negw	%d0
		moveb	#0x40,0x26(%a1)

loc_17368:
		addw	%d0,0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		movel	0x40(%a0),0x40(%a1)
		moveb	#6,0x2C(%a1)
		tstw	0x30(%a0)
		beqw	loc_173BA
		andiw	#7,0x3E(%a0)
		addiw	#0,0x3E(%a0)
		movew	0x14(%a2),%d0
		subiw	#0xC,%d0
		movew	%d0,0x14(%a1)
		jsr	(Random_Number):l
		moveb	%d0,0x26(%a1)
		movew	(Level_frame_counter):w,%d0
		andib	#3,%d0
		bnes	loc_17406
		moveb	#0xE,0x2C(%a1)
		bras	loc_17406
/*  --------------------------------------------------------------------------- */

loc_173BA:
		btst	#7,0x3A(%a0)
		beqs	loc_17406
		moveq	#0,%d2
		moveb	0x2C(%a2),%d2
		cmpib	#0xC,%d2
		bccs	loc_17406
		lsrw	#1,%d2
		jsr	(Random_Number):l
		andiw	#3,%d0
		bnes	loc_173EE
		bset	#6,0x3A(%a0)
		bnes	loc_17406
		moveb	%d2,0x2C(%a1)
		movew	#0x1C,0x3C(%a1)

loc_173EE:
		tstb	0x38(%a0)
		bnes	loc_17406
		bset	#6,0x3A(%a0)
		bnes	loc_17406
		moveb	%d2,0x2C(%a1)
		movew	#0x1C,0x3C(%a1)

loc_17406:
		subqb	#1,0x38(%a0)
		bpls	locret_17410
		clrw	0x3A(%a0)

locret_17410:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Player_ResetAirTimer:
		cmpib	#0xC,0x2C(%a1)
		bhis	loc_1744C
		cmpaw	#Player_1,%a1
		bnes	loc_1744C
		movew	(Level_music):w,%d0
		btst	#1,0x2B(%a1)
		beqs	loc_17430
		movew	#mus_Invincibility,%d0

loc_17430:
		tstb	(Super_Sonic_Knux_flag):w
		beqw	loc_1743C
		movew	#mus_Invincibility,%d0

loc_1743C:
		tstb	(Boss_flag):w
		beqs	loc_17446
		movew	#mus_MinibossK,%d0

loc_17446:
		jsr	(Play_Sound):l

loc_1744C:
		moveb	#0x1E,0x2C(%a1)
		rts
/*  End of function Player_ResetAirTimer */

/*  --------------------------------------------------------------------------- */
Ani_Shields:	.include "General/Sprites/Shields/Anim - Shields.S"
/*  --------------------------------------------------------------------------- */

Obj_Shield_S2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	Obj_Shield_S2_Index(%pc,%d0.w),%d1
		jmp	Obj_Shield_S2_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
Obj_Shield_S2_Index:.word Obj_Shield_S2_Init-Obj_Shield_S2_Index
		.word Obj_Shield_S2_Main-Obj_Shield_S2_Index
/*  --------------------------------------------------------------------------- */

Obj_Shield_S2_Init:
		addqb	#2,5(%a0)
		movel	#Map_Shield_S2,0xC(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x18,7(%a0)
		movew	#ArtTile_Shield,0xA(%a0)

Obj_Shield_S2_Main:
		moveaw	0x42(%a0),%a2
		btst	#1,0x2B(%a2)
		bnes	locret_17566
		btst	#0,0x2B(%a2)
		beqs	Obj_Shield_S2_Destroy
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	Obj_Shield_S2_Display
		oriw	#0x8000,0xA(%a0)

Obj_Shield_S2_Display:
		lea	(Ani_Shield_S2):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_17566:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Shield_S2_Destroy:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
off_1756E:	.long byte_1776D
		.word 0xB
		.long byte_17782
		.word 0x160D
		.long byte_1779B
		.word 0x2C0D
/*  --------------------------------------------------------------------------- */

Obj_Invincibility:
		movel	#ArtUnc_Invincibility,%d1
		movew	#tiles_to_bytes(ArtTile_Shield),%d2
		movew	#0x200,%d3
		jsr	(Add_To_DMA_Queue):l
		moveq	#0,%d2
		lea	off_1756E-6(%pc),%a2
		lea	(%a0),%a1
		moveq	#3,%d1

loc_1759E:
		movel	#Obj_17670,(%a1)
		movel	#Map_Invincibility,0xC(%a1)
		movew	#ArtTile_Shield,0xA(%a1)
		movew	#0x80,8(%a1)
		moveb	#4,4(%a1)
		bset	#6,4(%a1)
		moveb	#0x10,7(%a1)
		movew	#2,0x16(%a1)
		movew	0x42(%a0),0x42(%a1)
		moveb	%d2,0x36(%a1)
		addqw	#1,%d2
		movel	(%a2)+,0x30(%a1)
		movew	(%a2)+,0x34(%a1)
		lea	0x4A(%a1),%a1
		dbf	%d1,loc_1759E
		movel	#loc_175F8,(%a0)
		moveb	#4,0x34(%a0)

loc_175F8:
		tstb	(Super_Sonic_Knux_flag):w
		bnew	Delete_Current_Sprite
		moveaw	0x42(%a0),%a1
		btst	#1,0x2B(%a1)
		beqw	Delete_Current_Sprite
		movew	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a1),%d1
		movew	%d1,0x14(%a0)
		lea	0x18(%a0),%a2
		lea	byte_17760(%pc),%a3
		moveq	#0,%d5

loc_17628:
		movew	0x38(%a0),%d2
		moveb	(%a3,%d2.w),%d5
		bpls	loc_17638
		clrw	0x38(%a0)
		bras	loc_17628
/*  --------------------------------------------------------------------------- */

loc_17638:
		addqw	#1,0x38(%a0)
		lea	word_17720(%pc),%a6
		moveb	0x34(%a0),%d6
		jsr	sub_1770A(%pc)
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	%d5,(%a2)+
		addiw	#0x20,%d6
		jsr	sub_1770A(%pc)
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	%d5,(%a2)+
		moveq	#0x12,%d0
		btst	#0,0x2A(%a1)
		beqs	loc_17668
		negw	%d0

loc_17668:
		addb	%d0,0x34(%a0)
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

Obj_17670:
		tstb	(Super_Sonic_Knux_flag):w
		bnew	Delete_Current_Sprite
		moveaw	0x42(%a0),%a1
		btst	#1,0x2B(%a1)
		beqw	Delete_Current_Sprite
		lea	(Pos_table_index):w,%a5
		lea	(Pos_table):w,%a6
		moveb	0x36(%a0),%d1
		lslb	#2,%d1
		movew	%d1,%d2
		addw	%d1,%d1
		addw	%d2,%d1
		movew	(%a5),%d0
		subb	%d1,%d0
		lea	(%a6,%d0.w),%a2
		movew	(%a2)+,%d0
		movew	(%a2)+,%d1
		movew	%d0,0x10(%a0)
		movew	%d1,0x14(%a0)
		lea	0x18(%a0),%a2
		moveal	0x30(%a0),%a3

loc_176B6:
		movew	0x38(%a0),%d2
		moveb	(%a3,%d2.w),%d5
		bpls	loc_176C6
		clrw	0x38(%a0)
		bras	loc_176B6
/*  --------------------------------------------------------------------------- */

loc_176C6:
		swap	%d5
		addb	0x35(%a0),%d2
		moveb	(%a3,%d2.w),%d5
		addqw	#1,0x38(%a0)
		lea	word_17720(%pc),%a6
		moveb	0x34(%a0),%d6
		jsr	sub_1770A(%pc)
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	%d5,(%a2)+
		addiw	#0x20,%d6
		swap	%d5
		jsr	sub_1770A(%pc)
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	%d5,(%a2)+
		moveq	#2,%d0
		btst	#0,0x2A(%a1)
		beqs	loc_17702
		negw	%d0

loc_17702:
		addb	%d0,0x34(%a0)
		braw	Draw_Sprite

/*  =============== S U B R O U T I N E ======================================= */


sub_1770A:
		andiw	#0x3E,%d6
		moveb	(%a6,%d6.w),%d2
		moveb	1(%a6,%d6.w),%d3
		extw	%d2
		extw	%d3
		addw	%d0,%d2
		addw	%d1,%d3
		rts
/*  End of function sub_1770A */

/*  --------------------------------------------------------------------------- */
word_17720:	.word   0xF00,  0xF03,  0xE06,  0xD08,  0xB0B,  0x80D,  0x60E,  0x30F,   0x10, 0xFC0F, 0xF90E, 0xF70D, 0xF40B, 0xF208, 0xF106, 0xF003
		.word  0xF000, 0xF0FC, 0xF1F9, 0xF2F7, 0xF4F4, 0xF7F2, 0xF9F1, 0xFCF0, 0xFFF0,  0x3F0,  0x6F1,  0x8F2,  0xBF4,  0xDF7,  0xEF9,  0xFFC
byte_17760:	.byte    8,   5,   7,   6,   6,   7,   5,   8,   6,   7,   7,   6, 0xFF
byte_1776D:	.byte    8,   7,   6,   5,   4,   3,   4,   5,   6,   7, 0xFF,   3,   4,   5,   6,   7,   8,   7,   6,   5
		.byte    4
byte_17782:	.byte    8,   7,   6,   5,   4,   3,   2,   3,   4,   5,   6,   7, 0xFF,   2,   3,   4,   5,   6,   7,   8
		.byte    7,   6,   5,   4,   3
byte_1779B:	.byte    7,   6,   5,   4,   3,   2,   1,   2,   3,   4,   5,   6, 0xFF,   1,   2,   3,   4,   5,   6,   7
		.byte    6,   5,   4,   3,   2
Ani_Shield_S2:	.include "General/Sprites/Shields/Anim - Shield S2.S"
Map_Shield_S2:	.include "General/Sprites/Shields/Map - Shield S2.S"
Map_Invincibility:
		.include "General/Sprites/Shields/Map - Invincibility.S"
/*  --------------------------------------------------------------------------- */

Obj_DashDust:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_178CC(%pc,%d0.w),%d1
		jmp	off_178CC(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_178CC:	.word loc_178D4-off_178CC
		.word loc_1792A-off_178CC
		.word loc_17A1C-off_178CC
		.word loc_17A20-off_178CC
/*  --------------------------------------------------------------------------- */

loc_178D4:
		addqb	#2,5(%a0)
		movel	#Map_DashDust,0xC(%a0)
		orib	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x10,7(%a0)
		movew	#ArtTile_DashDust,0xA(%a0)
		movew	#Player_1,0x42(%a0)
		movew	#tiles_to_bytes(ArtTile_DashDust),0x40(%a0)
		cmpaw	#Dust,%a0
		beqs	loc_1792A
		moveb	#1,0x38(%a0)
		cmpiw	#2,(Player_mode):w
		beqs	loc_1792A
		movew	#ArtTile_DashDust_P2,0xA(%a0)
		movew	#Player_2,0x42(%a0)
		movew	#tiles_to_bytes(ArtTile_DashDust_P2),0x40(%a0)

loc_1792A:
		moveaw	0x42(%a0),%a2
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		addw	%d0,%d0
		movew	off_1793E(%pc,%d0.w),%d1
		jmp	off_1793E(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_1793E:	.word loc_179FE-off_1793E
		.word loc_17948-off_1793E
		.word loc_179A0-off_1793E
		.word loc_179F6-off_1793E
		.word loc_1796C-off_1793E
/*  --------------------------------------------------------------------------- */

loc_17948:
		movew	(Water_level):w,0x14(%a0)
		tstb	0x21(%a0)
		bnew	loc_179FE
		movew	0x10(%a2),0x10(%a0)
		moveb	#0,0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)
		braw	loc_179FE
/*  --------------------------------------------------------------------------- */

loc_1796C:
		tstb	0x21(%a0)
		bnes	loc_17984
		movew	0x10(%a2),0x10(%a0)
		moveb	#0,0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)

loc_17984:
		lea	(Ani_DashSplashDrown):l,%a1
		jsr	(Animate_Sprite):l
		movel	#ArtUnc_SplashDrown,%d6
		bsrw	SplashDrown_Load_DPLC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_179A0:
		cmpib	#0xC,0x2C(%a2)
		bcsw	loc_17A14
		cmpib	#4,5(%a2)
		bccs	loc_17A14
		tstb	0x3D(%a2)
		beqs	loc_17A14
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		andib	#1,0x2A(%a0)
		tstb	0x38(%a0)
		beqs	loc_179DC
		subiw	#4,0x14(%a0)

loc_179DC:
		tstb	0x21(%a0)
		bnes	loc_179FE
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_179FE
		oriw	#-0x8000,0xA(%a0)
		bras	loc_179FE
/*  --------------------------------------------------------------------------- */

loc_179F6:
		cmpib	#0xC,0x2C(%a2)
		bcss	loc_17A14

loc_179FE:
		lea	(Ani_DashSplashDrown):l,%a1
		jsr	(Animate_Sprite):l
		bsrw	DashDust_Load_DPLC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_17A14:
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_17A1C:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

loc_17A20:
		moveaw	0x42(%a0),%a2
		cmpib	#0xD,0x20(%a2)
		beqs	loc_17A3A
		moveb	#2,5(%a0)
		moveb	#0,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_17A3A:
		subqb	#1,0x36(%a0)
		bpls	loc_17AB2
		moveb	#3,0x36(%a0)
		bsrw	Create_New_Sprite
		bnes	loc_17AB2
		movel	(%a0),(%a1)
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		addiw	#0x10,0x14(%a1)
		tstb	0x38(%a0)
		beqs	loc_17A6C
		subiw	#4,0x14(%a1)

loc_17A6C:
		moveb	#0,0x2A(%a1)
		moveb	#3,0x20(%a1)
		addqb	#2,5(%a1)
		movel	0xC(%a0),0xC(%a1)
		moveb	4(%a0),4(%a1)
		movew	#0x80,8(%a1)
		moveb	#4,7(%a1)
		movew	0xA(%a0),0xA(%a1)
		movew	0x42(%a0),0x42(%a1)
		andiw	#0x7FFF,0xA(%a1)
		tstw	0xA(%a2)
		bpls	loc_17AB2
		oriw	#0x8000,0xA(%a1)

loc_17AB2:
		bsrs	DashDust_Load_DPLC
		rts

/*  =============== S U B R O U T I N E ======================================= */


DashDust_Load_DPLC:
		movel	#ArtUnc_DashDust,%d6

SplashDrown_Load_DPLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	0x34(%a0),%d0
		beqs	locret_17B0A
		moveb	%d0,0x34(%a0)
		lea	(DPLC_DashSplashDrown):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_17B0A
		movew	0x40(%a0),%d4

loc_17AE2:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	%d6,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_17AE2

locret_17B0A:
		rts
/*  End of function DashDust_Load_DPLC */

/*  --------------------------------------------------------------------------- */
Ani_DashSplashDrown:
		.include "General/Sprites/Dash Dust/Anim - Dash Dust.S"
Map_DashDust:
		.include "General/Sprites/Dash Dust/Map - Dash Dust.S"
DPLC_DashSplashDrown:
		.include "General/Sprites/Dash Dust/DPLC - Dash Dust.S"
/*  --------------------------------------------------------------------------- */

Obj_DashDust2P:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_17CE0(%pc,%d0.w),%d1
		jmp	off_17CE0(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_17CE0:	.word loc_17CE8-off_17CE0
		.word loc_17D1E-off_17CE0
		.word loc_17DAC-off_17CE0
		.word loc_17DB0-off_17CE0
/*  --------------------------------------------------------------------------- */

loc_17CE8:
		addqb	#2,5(%a0)
		movel	#Map_DashDust2P,0xC(%a0)
		orib	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x10,7(%a0)
		movew	#ArtTile_DashDust,0xA(%a0)
		movew	#Player_1,0x42(%a0)
		cmpaw	#Dust,%a0
		beqs	loc_17D1E
		movew	#Player_2,0x42(%a0)

loc_17D1E:
		moveaw	0x42(%a0),%a2
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		addw	%d0,%d0
		movew	off_17D32(%pc,%d0.w),%d1
		jmp	off_17D32(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_17D32:	.word loc_17D3A-off_17D32
		.word loc_17D3A-off_17D32
		.word loc_17D42-off_17D32
		.word loc_17D8A-off_17D32
/*  --------------------------------------------------------------------------- */

loc_17D3A:
		moveb	#0,0x22(%a0)
		bras	loc_17D92
/*  --------------------------------------------------------------------------- */

loc_17D42:
		cmpib	#0xC,0x2C(%a2)
		bcss	loc_17DA4
		cmpib	#4,5(%a2)
		bccs	loc_17DA4
		tstb	0x3D(%a2)
		beqs	loc_17DA4
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		andib	#1,0x2A(%a0)
		tstb	0x21(%a0)
		bnes	loc_17D92
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_17D92
		oriw	#0x8000,0xA(%a0)
		bras	loc_17D92
/*  --------------------------------------------------------------------------- */

loc_17D8A:
		cmpib	#0xC,0x2C(%a2)
		bcss	loc_17DA4

loc_17D92:
		lea	(Ani_DashDust2P):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_17DA4:
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_17DAC:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

loc_17DB0:
		moveaw	0x42(%a0),%a2
		cmpib	#0xD,0x20(%a2)
		beqs	loc_17DCA
		moveb	#2,5(%a0)
		moveb	#0,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_17DCA:
		moveb	#0,0x22(%a0)
		subqb	#1,0x36(%a0)
		bpls	locret_17E3C
		moveb	#3,0x36(%a0)
		bsrw	Create_New_Sprite
		bnes	locret_17E3C
		movel	(%a0),(%a1)
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		addiw	#0xC,0x14(%a1)
		moveb	#0,0x2A(%a1)
		moveb	#3,0x20(%a1)
		addqb	#2,5(%a1)
		movel	0xC(%a0),0xC(%a1)
		moveb	4(%a0),4(%a1)
		movew	#0x80,8(%a1)
		moveb	#4,7(%a1)
		movew	0xA(%a0),0xA(%a1)
		movew	0x42(%a0),0x42(%a1)
		andiw	#0x7FFF,0xA(%a1)
		tstw	0xA(%a2)
		bpls	locret_17E3C
		oriw	#0x8000,0xA(%a1)

locret_17E3C:
		rts
/*  --------------------------------------------------------------------------- */
Ani_DashDust2P:	.include "General/Sprites/Dash Dust/Anim - Dash Dust 2P.S"
Map_DashDust2P:	.include "General/Sprites/Dash Dust/Map - Dash Dust 2P.S"
/*  --------------------------------------------------------------------------- */

Obj_SuperSonic_Stars:
		movel	#ArtUnc_SuperSonic_Stars,%d1
		movew	#tiles_to_bytes(ArtTile_Shield),%d2
		movew	#0x1A0,%d3
		jsr	(Add_To_DMA_Queue):l
		movel	#Map_SuperSonic_Stars,0xC(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		movew	#ArtTile_Shield,0xA(%a0)
		btst	#7,(Player_1+art_tile):w
		beqs	loc_17EEA
		bset	#7,0xA(%a0)

loc_17EEA:
		movel	#loc_17EF0,(%a0)

loc_17EF0:
		tstb	(Super_Sonic_Knux_flag):w
		beqw	loc_17F7C
		tstb	0x20(%a0)
		beqs	loc_17F02
		bsrw	sub_17F82

loc_17F02:
		tstb	0x34(%a0)
		beqs	loc_17F4C
		subqb	#1,0x24(%a0)
		bpls	loc_17F34
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#6,0x22(%a0)
		bcss	loc_17F34
		moveb	#0,0x22(%a0)
		moveb	#0,0x34(%a0)
		moveb	#1,0x35(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_17F34:
		tstb	0x35(%a0)
		bnes	loc_17F46

loc_17F3A:
		movew	(Player_1+x_pos):w,0x10(%a0)
		movew	(Player_1+y_pos):w,0x14(%a0)

loc_17F46:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_17F4C:
		tstb	(Player_1+object_control):w
		bnes	loc_17F6E
		movew	(Player_1+ground_vel):w,%d0
		bpls	loc_17F5A
		negw	%d0

loc_17F5A:
		cmpiw	#0x800,%d0
		bcss	loc_17F6E
		moveb	#0,0x22(%a0)
		moveb	#1,0x34(%a0)
		bras	loc_17F3A
/*  --------------------------------------------------------------------------- */

loc_17F6E:
		moveb	#0,0x34(%a0)
		moveb	#0,0x35(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_17F7C:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_17F82:
		moveb	#0,0x20(%a0)
		lea	(Player_1):w,%a2
		moveq	#0xF,%d5
		movew	#0x488,%d4

loc_17F92:
		bsrw	Create_New_Sprite
		bnew	locret_1800A
		movel	#Obj_SuperSonic_Stars_Timer,(%a1)
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		movel	#Map_SuperSonic_Stars2,0xC(%a1)
		movew	#0x879C,0xA(%a1)
		moveb	#0x84,4(%a1)
		movew	#0x380,8(%a1)
		moveb	#8,7(%a1)
		moveb	#8,6(%a1)
		tstw	%d4
		bmis	loc_17FFA
		movew	%d4,%d0
		jsr	(GetSineCosine):l
		movew	%d4,%d2
		lsrw	#8,%d2
		aslw	%d2,%d0
		aslw	%d2,%d1
		movew	%d0,%d2
		movew	%d1,%d3
		addib	#0x10,%d4
		bccs	loc_17FFA
		subiw	#0x80,%d4
		bccs	loc_17FFA
		movew	#0x488,%d4

loc_17FFA:
		movew	%d2,0x18(%a1)
		movew	%d3,0x1A(%a1)
		negw	%d2
		negw	%d4
		dbf	%d5,loc_17F92

locret_1800A:
		rts
/*  End of function sub_17F82 */

/*  --------------------------------------------------------------------------- */

Obj_SuperSonic_Stars_Timer:
		tstb	4(%a0)
		bmis	loc_18018
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_18018:
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)
		bsrw	MoveSprite2
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */
Map_SuperSonic_Stars:
		.include "General/Sprites/Shields/Map - Super Sonic Stars.S"
/*  --------------------------------------------------------------------------- */

Obj_Insta_Shield:
		movel	#Map_InstaShield,0xC(%a0)
		movel	#DPLC_InstaShield,0x3C(%a0)
		movel	#ArtUnc_InstaShield,0x38(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		movew	#ArtTile_Shield,0xA(%a0)
		movew	#tiles_to_bytes(ArtTile_Shield),0x40(%a0)
		btst	#7,(Player_1+art_tile):w
		beqs	loc_180DE
		bset	#7,0xA(%a0)

loc_180DE:
		movew	#1,0x20(%a0)
		moveb	#-1,0x34(%a0)
		movel	#Obj_Insta_Shield_Main,(%a0)

Obj_Insta_Shield_Main:
		moveaw	0x42(%a0),%a2
		btst	#1,0x2B(%a2)
		bnes	locret_18158
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		andib	#1,0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_18126
		oriw	#0x8000,0xA(%a0)

loc_18126:
		lea	(Ani_InstaShield):l,%a1
		jsr	(Animate_Sprite):l
		cmpib	#7,0x22(%a0)
		bnes	loc_18140
		moveb	#2,0x2F(%a2)

loc_18140:
		tstb	0x22(%a0)
		beqs	loc_1814E
		cmpib	#3,0x22(%a0)
		bnes	loc_18152

loc_1814E:
		bsrw	PLCLoad_Shields

loc_18152:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_18158:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Fire_Shield:
		movel	#Map_FireShield,0xC(%a0)
		movel	#DPLC_FireShield,0x3C(%a0)
		movel	#ArtUnc_FireShield,0x38(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		movew	#ArtTile_Shield,0xA(%a0)
		movew	#tiles_to_bytes(ArtTile_Shield),0x40(%a0)
		btst	#7,(Player_1+art_tile):w
		beqs	loc_181A4
		bset	#7,0xA(%a0)

loc_181A4:
		movew	#1,0x20(%a0)
		moveb	#-1,0x34(%a0)
		movel	#Obj_Fire_Shield_Main,(%a0)

Obj_Fire_Shield_Main:
		moveaw	0x42(%a0),%a2
		btst	#1,0x2B(%a2)
		bnes	locret_18236
		cmpib	#0x1C,0x20(%a2)
		beqs	locret_18236
		btst	#0,0x2B(%a2)
		beqw	Obj_Fire_Shield_Destroy
		btst	#6,0x2A(%a2)
		bnes	Obj_Fire_Shield_DestroyUnderwater
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		tstb	0x20(%a0)
		bnes	loc_1820C
		moveb	0x2A(%a2),0x2A(%a0)
		andib	#1,0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_1820C
		oriw	#-0x8000,0xA(%a0)

loc_1820C:
		lea	(Ani_FireShield):l,%a1
		jsr	(Animate_Sprite):l
		movew	#0x80,8(%a0)
		cmpib	#0xF,0x22(%a0)
		bcss	loc_1822C
		movew	#0x200,8(%a0)

loc_1822C:
		bsrw	PLCLoad_Shields
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_18236:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Fire_Shield_DestroyUnderwater:
		andib	#-0x72,0x2B(%a2)
		jsr	(Create_New_Sprite):l
		bnew	Obj_Fire_Shield_Destroy
		movel	#Obj_FireShield_Dissipate,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)

Obj_Fire_Shield_Destroy:
		andib	#0x8E,0x2B(%a2)
		movel	#Obj_Insta_Shield,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_Lightning_Shield:
		movel	#ArtUnc_Obj_Lightning_Shield_Sparks,%d1
		movew	#tiles_to_bytes(ArtTile_Shield_Sparks),%d2
		movew	#0x50,%d3
		jsr	(Add_To_DMA_Queue):l
		movel	#Map_LightningShield,0xC(%a0)
		movel	#DPLC_LightningShield,0x3C(%a0)
		movel	#ArtUnc_LightningShield,0x38(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		movew	#ArtTile_Shield,0xA(%a0)
		movew	#tiles_to_bytes(ArtTile_Shield),0x40(%a0)
		btst	#7,(Player_1+art_tile):w
		beqs	loc_182C6
		bset	#7,0xA(%a0)

loc_182C6:
		movew	#1,0x20(%a0)
		moveb	#-1,0x34(%a0)
		movel	#Obj_Lightning_Shield_Main,(%a0)

Obj_Lightning_Shield_Main:
		moveaw	0x42(%a0),%a2
		btst	#1,0x2B(%a2)
		bnes	locret_1835E
		cmpib	#0x1C,0x20(%a2)
		beqs	locret_1835E
		btst	#0,0x2B(%a2)
		beqw	Obj_Lightning_Shield_Destroy
		btst	#6,0x2A(%a2)
		bnes	Obj_Lightning_Shield_DestroyUnderwater
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		andib	#1,0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_18328
		oriw	#-0x8000,0xA(%a0)

loc_18328:
		tstb	0x20(%a0)
		beqs	Obj_Lightning_Shield_Display
		bsrs	Obj_Lightning_Shield_Create_Spark
		clrb	0x20(%a0)

Obj_Lightning_Shield_Display:
		lea	(Ani_LightningShield):l,%a1
		jsr	(Animate_Sprite):l
		movew	#0x80,8(%a0)
		cmpib	#0xE,0x22(%a0)
		bcss	loc_18354
		movew	#0x200,8(%a0)

loc_18354:
		bsrw	PLCLoad_Shields
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1835E:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Lightning_Shield_DestroyUnderwater:
		tstw	(Palette_fade_timer):w
		bnes	Obj_Lightning_Shield_Destroy
		andib	#0x8E,0x2B(%a2)
		lea	(Water_palette):w,%a1
		lea	(Target_water_palette):w,%a2
		movew	#0x1F,%d0

loc_18378:
		movel	(%a1),(%a2)+
		movel	#0x0EEE0EEE,(%a1)+
		dbf	%d0,loc_18378
		movew	#0,(Water_palette_line_3):w
		moveb	#3,0x24(%a0)
		movel	#Obj_Lightning_Shield_DestroyUnderwater2,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_Lightning_Shield_Destroy:
		andib	#-0x72,0x2B(%a2)
		movel	#Obj_Insta_Shield,(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


Obj_Lightning_Shield_Create_Spark:
		lea	(SparkVelocities):l,%a2
		moveq	#3,%d1

loc_183AE:
		bsrw	Create_New_Sprite
		bnes	locret_183FC
		movel	#Obj_Lightning_Shield_Spark,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	#4,4(%a1)
		movew	#0x80,8(%a1)
		moveb	#8,7(%a1)
		moveb	#8,6(%a1)
		moveb	#1,0x20(%a1)
		movew	(%a2)+,0x18(%a1)
		movew	(%a2)+,0x1A(%a1)
		dbf	%d1,loc_183AE

locret_183FC:
		rts
/*  End of function Obj_Lightning_Shield_Create_Spark */

/*  --------------------------------------------------------------------------- */
SparkVelocities:.word  -0x200, -0x200
		.word   0x200, -0x200
		.word  -0x200,  0x200
		.word   0x200,  0x200
/*  --------------------------------------------------------------------------- */

Obj_Lightning_Shield_Spark:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		lea	(Ani_LightningShield):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		bnes	Obj_Lightning_Shield_Spark_Delete
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_Lightning_Shield_Spark_Delete:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_Lightning_Shield_DestroyUnderwater2:
		subqb	#1,0x24(%a0)
		bpls	locret_18456
		lea	(Target_water_palette):w,%a1
		lea	(Water_palette):w,%a2
		movew	#0x1F,%d0

loc_1844A:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_1844A
		movel	#Obj_Insta_Shield,(%a0)

locret_18456:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Bubble_Shield:
		movel	#Map_BubbleShield,0xC(%a0)
		movel	#DPLC_BubbleShield,0x3C(%a0)
		movel	#ArtUnc_BubbleShield,0x38(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		movew	#ArtTile_Shield,0xA(%a0)
		movew	#tiles_to_bytes(ArtTile_Shield),0x40(%a0)
		btst	#7,(Player_1+art_tile):w
		beqs	loc_184A2
		bset	#7,0xA(%a0)

loc_184A2:
		movew	#1,0x20(%a0)
		moveb	#-1,0x34(%a0)
		moveaw	0x42(%a0),%a1
		bsrw	Player_ResetAirTimer
		movel	#Obj_Bubble_Shield_Main,(%a0)

Obj_Bubble_Shield_Main:
		moveaw	0x42(%a0),%a2
		btst	#1,0x2B(%a2)
		bnes	locret_18518
		cmpib	#0x1C,0x20(%a2)
		beqs	locret_18518
		btst	#0,0x2B(%a2)
		beqs	Obj_Bubble_Shield_Destroy
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveb	0x2A(%a2),0x2A(%a0)
		andib	#1,0x2A(%a0)
		andiw	#0x7FFF,0xA(%a0)
		tstw	0xA(%a2)
		bpls	loc_18502
		oriw	#0x8000,0xA(%a0)

loc_18502:
		lea	(Ani_BubbleShield):l,%a1
		jsr	(Animate_Sprite):l
		bsrw	PLCLoad_Shields
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_18518:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Bubble_Shield_Destroy:
		andib	#0x8E,0x2B(%a2)
		movel	#Obj_Insta_Shield,(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


PLCLoad_Shields:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	0x34(%a0),%d0
		beqs	locret_18576
		moveb	%d0,0x34(%a0)
		moveal	0x3C(%a0),%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_18576
		movew	0x40(%a0),%d4

PLCLoad_Shields_ReadEntry:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	0x38(%a0),%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,PLCLoad_Shields_ReadEntry

locret_18576:
		rts
/*  End of function PLCLoad_Shields */

/*  --------------------------------------------------------------------------- */
Ani_InstaShield:
		.include "General/Sprites/Shields/Anim - Insta-Shield.S"
Ani_FireShield:
		.include "General/Sprites/Shields/Anim - Fire Shield.S"
Ani_LightningShield:
		.include "General/Sprites/Shields/Anim - Lightning Shield S3.S"
Ani_BubbleShield:
		.include "General/Sprites/Shields/Anim - Bubble Shield.S"
Map_FireShield:
		.include "General/Sprites/Shields/Map - Fire Shield.S"
DPLC_FireShield:
		.include "General/Sprites/Shields/DPLC - Fire Shield.S"
Map_LightningShield:
		.include "General/Sprites/Shields/Map - Lightning Shield.S"
DPLC_LightningShield:
		.include "General/Sprites/Shields/DPLC - Lightning Shield.S"
Map_BubbleShield:
		.include "General/Sprites/Shields/Map - Bubble Shield.S"
DPLC_BubbleShield:
		.include "General/Sprites/Shields/DPLC - Bubble Shield.S"
Map_InstaShield:
		.include "General/Sprites/Shields/Map - Insta-Shield.S"
DPLC_InstaShield:
		.include "General/Sprites/Shields/DPLC - Insta-Shield.S"
/*  --------------------------------------------------------------------------- */

Obj_Ring:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	Ring_Index(%pc,%d0.w),%d1
		jmp	Ring_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
Ring_Index:	.word Obj_RingInit-Ring_Index
		.word Obj_RingAnimate-Ring_Index
		.word Obj_RingCollect-Ring_Index
		.word Obj_RingSparkle-Ring_Index
		.word Obj_RingDelete-Ring_Index
/*  --------------------------------------------------------------------------- */

Obj_RingInit:
		addqb	#2,5(%a0)
		movel	#Map_Ring,0xC(%a0)
		movew	#make_art_tile(ArtTile_Ring,1,1),0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x47,0x28(%a0)
		moveb	#8,7(%a0)
		tstw	(Competition_mode):w
		beqs	Obj_RingAnimate
		movew	#0x63D2,0xA(%a0)

Obj_RingAnimate:
		moveb	(Rings_frame):w,0x22(%a0)
		braw	loc_19CC4
/*  --------------------------------------------------------------------------- */

Obj_RingCollect:
		addqb	#2,5(%a0)
		moveb	#0,0x28(%a0)
		movew	#0x80,8(%a0)
		bsrs	GiveRing

Obj_RingSparkle:
		lea	(Ani_RingSparkle):l,%a1
		bsrw	Animate_Sprite
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

Obj_RingDelete:
		braw	Delete_Current_Sprite

/*  =============== S U B R O U T I N E ======================================= */


GiveRing:
		cmpiw	#999,(Total_ring_count):w
		bccs	GiveRing_1P
		addqw	#1,(Total_ring_count):w

GiveRing_1P:
		movew	#sfx_RingRight,%d0
		cmpiw	#0x3E7,(Ring_count):w
		bccs	JmpTo_Play_Sound_2
		addqw	#1,(Ring_count):w
		orib	#1,(Update_HUD_ring_count):w
		cmpiw	#100,(Ring_count):w
		bcss	JmpTo_Play_Sound_2
		bset	#1,(Extra_life_flags):w
		beqs	loc_18DB4
		cmpiw	#200,(Ring_count):w
		bcss	JmpTo_Play_Sound_2
		bset	#2,(Extra_life_flags):w
		bnes	JmpTo_Play_Sound_2

loc_18DB4:
		addqb	#1,(Life_count):w
		addqb	#1,(Update_HUD_life_count):w
		moveq	#mus_ExtraLife,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

JmpTo_Play_Sound_2:
		jmp	(Play_Sound_2):l
/*  End of function GiveRing */

/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

loc_18DCC:
		cmpiw	#999,(Total_ring_count_P2):w
		bccs	loc_18DD8
		addqw	#1,(Total_ring_count_P2):w

loc_18DD8:
		cmpiw	#999,(Ring_count_P2):w
		bccs	loc_18DE4
		addqw	#1,(Ring_count_P2):w

loc_18DE4:
		tstw	(Competition_mode):w
		beqs	GiveRing_1P
		orib	#1,(_unkFEBE):w
		movew	#sfx_RingRight,%d0
		cmpiw	#100,(Ring_count_P2):w
		bcss	loc_18E20
		bset	#1,(Extra_life_flags_P2):w
		beqs	loc_18E14
		cmpiw	#200,(Ring_count_P2):w
		bcss	loc_18E20
		bset	#2,(Extra_life_flags_P2):w
		bnes	loc_18E20

loc_18E14:
		addqb	#1,(Life_count_P2):w
		moveq	#mus_ExtraLife,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_18E20:
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

Obj_Bouncing_Ring:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_18E34(%pc,%d0.w),%d1
		jmp	off_18E34(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_18E34:	.word loc_18E3E-off_18E34
		.word loc_18F0A-off_18E34
		.word loc_18F6E-off_18E34
		.word loc_18F82-off_18E34
		.word loc_18F90-off_18E34
/*  --------------------------------------------------------------------------- */

loc_18E3E:
		moveal	%a0,%a1
		moveq	#0,%d5
		movew	(Ring_count):w,%d5
		tstb	0x3F(%a0)
		beqs	loc_18E50
		movew	(Ring_count_P2):w,%d5

loc_18E50:
		moveq	#0x20,%d0
		cmpw	%d0,%d5
		bcss	loc_18E58
		movew	%d0,%d5

loc_18E58:
		subqw	#1,%d5
		movew	#0x288,%d4
		bras	loc_18E68
/*  --------------------------------------------------------------------------- */

loc_18E60:
		bsrw	Create_New_Sprite3
		bnew	loc_18EEE

loc_18E68:
		movel	#Obj_Bouncing_Ring,(%a1)
		addqb	#2,5(%a1)
		moveb	#8,0x1E(%a1)
		moveb	#8,0x1F(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_Ring,0xC(%a1)
		movew	#make_art_tile(ArtTile_Ring,1,1),0xA(%a1)
		moveb	#0x84,4(%a1)
		movew	#0x180,8(%a1)
		moveb	#0x47,0x28(%a1)
		moveb	#8,7(%a1)
		moveb	#-1,(Ring_%spill_anim_counter):w
		tstw	%d4
		bmis	loc_18EDE
		movew	%d4,%d0
		jsr	(GetSineCosine):l
		movew	%d4,%d2
		lsrw	#8,%d2
		aslw	%d2,%d0
		aslw	%d2,%d1
		movew	%d0,%d2
		movew	%d1,%d3
		addib	#0x10,%d4
		bccs	loc_18EDE
		subiw	#0x80,%d4
		bccs	loc_18EDE
		movew	#0x288,%d4

loc_18EDE:
		movew	%d2,0x18(%a1)
		movew	%d3,0x1A(%a1)
		negw	%d2
		negw	%d4
		dbf	%d5,loc_18E60

loc_18EEE:
		movew	#0xFF00|sfx_RingLoss,%d0
		jsr	(Play_Sound_2):l
		movew	#0,(Ring_count):w
		moveb	#0x80,(Update_HUD_ring_count):w
		moveb	#0,(Extra_life_flags):w

loc_18F0A:
		moveb	(Ring_%spill_anim_frame):w,0x22(%a0)
		bsrw	MoveSprite2
		addiw	#0x18,0x1A(%a0)
		bmis	loc_18F4A
		moveb	(V_int_run_count+3):w,%d0
		addb	%d7,%d0
		andib	#7,%d0
		bnes	loc_18F4A
		tstb	4(%a0)
		bpls	loc_18F4A
		jsr	(RingCheckFloorDist):l
		tstw	%d1
		bpls	loc_18F4A
		addw	%d1,0x14(%a0)
		movew	0x1A(%a0),%d0
		asrw	#2,%d0
		subw	%d0,0x1A(%a0)
		negw	0x1A(%a0)

loc_18F4A:
		tstb	(Ring_%spill_anim_counter):w
		beqs	loc_18F90
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0xE0,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_18F90
		bsrw	Add_SpriteToCollisionResponseList
		movew	(Level_repeat_offset):w,%d0
		subw	%d0,0x10(%a0)
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_18F6E:
		addqb	#2,5(%a0)
		moveb	#0,0x28(%a0)
		movew	#0x80,8(%a0)
		bsrw	GiveRing

loc_18F82:
		lea	(Ani_RingSparkle):l,%a1
		bsrw	Animate_Sprite
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_18F90:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

Obj_Attracted_Ring:
		movel	#Map_Ring,0xC(%a0)
		movew	#make_art_tile(ArtTile_Ring,1,1),0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x47,0x28(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		moveb	#8,0x1E(%a0)
		moveb	#8,0x1F(%a0)
		movel	#loc_18FD2,(%a0)

loc_18FD2:
		tstb	5(%a0)
		bnes	AttractedRing_GiveRing
		bsrw	AttractedRing_Move
		btst	#5,(Player_1+status_secondary):w
		bnes	Obj_Attracted_RingAnimate
		movel	#Obj_Bouncing_Ring,(%a0)
		moveb	#2,5(%a0)
		moveb	#-1,(Ring_%spill_anim_counter):w

Obj_Attracted_RingAnimate:
		subqb	#1,0x24(%a0)
		bpls	loc_1900C
		moveb	#3,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_1900C:
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_19028
		bsrw	Add_SpriteToCollisionResponseList
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19028:
		movew	0x48(%a0),%d0
		beqs	loc_19034
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19034:
		/*  Bug: probably meant to be 0x30(%a0), as Test_Ring_Collisions_AttractRing */
		/*  stores the ring's address in the ring status table there */
		movew	0x30,%d0
		beqs	loc_19040
		moveaw	%d0,%a2
		movew	#0,(%a2)

loc_19040:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

AttractedRing_GiveRing:
		moveb	#0,0x28(%a0)
		movew	#0x80,8(%a0)
		subqw	#1,(Perfect_rings_left):w
		bsrw	GiveRing
		movel	#loc_19064,(%a0)
		moveb	#0,5(%a0)

loc_19064:
		tstb	5(%a0)
		bnes	loc_19078
		lea	(Ani_RingSparkle):l,%a1
		bsrw	Animate_Sprite
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19078:
		braw	Delete_Current_Sprite

/*  =============== S U B R O U T I N E ======================================= */


AttractedRing_Move:
		movew	#0x30,%d1
		movew	(Player_1+x_pos):w,%d0
		cmpw	0x10(%a0),%d0
		bccs	AttractedRing_MoveRight
		negw	%d1
		tstw	0x18(%a0)
		bmis	AttractedRing_ApplyMovementX
		addw	%d1,%d1
		addw	%d1,%d1
		bras	AttractedRing_ApplyMovementX
/*  --------------------------------------------------------------------------- */

AttractedRing_MoveRight:
		tstw	0x18(%a0)
		bpls	AttractedRing_ApplyMovementX
		addw	%d1,%d1
		addw	%d1,%d1

AttractedRing_ApplyMovementX:
		addw	%d1,0x18(%a0)
		movew	#0x30,%d1
		movew	(Player_1+y_pos):w,%d0
		cmpw	0x14(%a0),%d0
		bccs	AttractedRing_MoveUp
		negw	%d1
		tstw	0x1A(%a0)
		bmis	AttractedRing_ApplyMovementY
		addw	%d1,%d1
		addw	%d1,%d1
		bras	AttractedRing_ApplyMovementY
/*  --------------------------------------------------------------------------- */

AttractedRing_MoveUp:
		tstw	0x1A(%a0)
		bpls	AttractedRing_ApplyMovementY
		addw	%d1,%d1
		addw	%d1,%d1

AttractedRing_ApplyMovementY:
		addw	%d1,0x1A(%a0)
		jmp	(MoveSprite2):l
/*  End of function AttractedRing_Move */

/*  --------------------------------------------------------------------------- */
Ani_RingSparkle:.include "General/Sprites/Ring/Anim - Ring Sparkle.S"
Map_Ring:	.include "General/Sprites/Ring/Map - Ring.S"

/*  =============== S U B R O U T I N E ======================================= */


Init_SpriteTable:
		clrw	(Spritemask_flag):w
		clrl	(Use_normal_%sprite_table):w
		tstw	(Competition_mode):w
		beqs	loc_19162
		lea	(Sprite_table_buffer):w,%a0
		bsrs	Init_SpriteTable2
		bsrs	Init_SpriteTable_2Player
		lea	(Sprite_table_buffer_2):l,%a0
		bsrs	Init_SpriteTable2
		bsrs	Init_SpriteTable_2Player
		lea	(Sprite_table_buffer_P2):l,%a0
		bsrs	Init_SpriteTable2
		lea	(Sprite_table_buffer_P2_2):l,%a0
		bras	Init_SpriteTable2
/*  --------------------------------------------------------------------------- */

loc_19162:
		lea	(Sprite_table_buffer):w,%a0
/*  End of function Init_SpriteTable */


/*  =============== S U B R O U T I N E ======================================= */


Init_SpriteTable2:
		moveq	#0,%d0
		moveq	#1,%d1
		moveq	#0x4F,%d7

loc_1916C:
		movew	%d0,(%a0)
		moveb	%d1,3(%a0)
		addqw	#1,%d1
		addqw	#8,%a0
		dbf	%d7,loc_1916C
		moveb	%d0,-5(%a0)
		rts
/*  End of function Init_SpriteTable2 */


/*  =============== S U B R O U T I N E ======================================= */


Init_SpriteTable_2Player:
		lea	-0x280(%a0),%a0
		movel	#0xEB0301,(%a0)+
		movel	#1,(%a0)+
		movel	#0xEB0302,(%a0)+
		movel	#0,(%a0)
		rts
/*  End of function Init_SpriteTable_2Player */


/*  =============== S U B R O U T I N E ======================================= */


Process_Sprites:
		tstb	(Teleport_active_flag):w
		bnes	locret_191D0
		lea	(Object_RAM):w,%a0
		tstw	(Competition_mode):w
		bnes	loc_191BE
		cmpib	#0xC,(Player_1+routine):w
		beqs	loc_191BE
		cmpib	#6,(Player_1+routine):w
		bccs	loc_191D2

loc_191BE:
		moveq	#(Object_RAM_end-Object_RAM)/object_size-1,%d7
/*  End of function Process_Sprites */


/*  =============== S U B R O U T I N E ======================================= */


sub_191C0:
		movel	(%a0),%d0
		beqs	loc_191C8
		moveal	%d0,%a1
		jsr	(%a1)

loc_191C8:
		lea	next_object(%a0),%a0
		dbf	%d7,sub_191C0

locret_191D0:
		rts
/*  End of function sub_191C0 */

/*  --------------------------------------------------------------------------- */

loc_191D2:	/*  this is broken? */
		moveq	#((Dynamic_object_RAM+object_size)-Object_RAM)/object_size-1,%d7
		bsrs	sub_191C0
		moveq	#((Level_object_RAM+object_size)-(Dynamic_object_RAM+object_size))/object_size-1,%d7
		bsrs	sub_191DE
		moveq	#(Object_RAM_end-(Level_object_RAM+object_size))/object_size-1,%d7
		bras	sub_191C0

/*  =============== S U B R O U T I N E ======================================= */


sub_191DE:
		movel	(%a0),%d0
		beqs	loc_191EC
		tstb	render_flags(%a0)
		bpls	loc_191EC
		jsr	Draw_Sprite(%pc)

loc_191EC:
		lea	next_object(%a0),%a0
		dbf	%d7,sub_191DE
		rts
/*  End of function sub_191DE */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite:
		movew	0x18(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x10(%a0)
		movew	0x1A(%a0),%d0
		addiw	#0x38,0x1A(%a0)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a0)
		rts
/*  End of function MoveSprite */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite2:
		movew	0x18(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x10(%a0)
		movew	0x1A(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a0)
		rts
/*  End of function MoveSprite2 */


/*  =============== S U B R O U T I N E ======================================= */


Delete_Current_Sprite:
		moveal	%a0,%a1
/*  End of function Delete_Current_Sprite */


/*  =============== S U B R O U T I N E ======================================= */


Delete_Referenced_Sprite:
		moveq	#0x11,%d0
		moveq	#0,%d1

loc_19236:
		movel	%d1,(%a1)+
		dbf	%d0,loc_19236
		movew	%d1,(%a1)+
		rts
/*  End of function Delete_Referenced_Sprite */


/*  =============== S U B R O U T I N E ======================================= */


Draw_Sprite:
		lea	(Sprite_table_input):w,%a1
		addaw	8(%a0),%a1
		cmpiw	#0x7E,(%a1)
		bccs	locret_19254
		addqw	#2,(%a1)
		addaw	(%a1),%a1
		movew	%a0,(%a1)

locret_19254:
		rts
/*  End of function Draw_Sprite */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Sprite:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		cmpb	0x21(%a0),%d0
		beqs	loc_1926E
		moveb	%d0,0x21(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)

loc_1926E:
		subqb	#1,0x24(%a0)
		bccs	locret_192A4
		addw	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		moveb	(%a1),0x24(%a0)
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		moveb	1(%a1,%d1.w),%d0
		bmis	loc_192A6

loc_1928A:
		moveb	%d0,0x22(%a0)
		moveb	0x2A(%a0),%d1
		andib	#3,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		addqb	#1,0x23(%a0)

locret_192A4:
		rts
/*  --------------------------------------------------------------------------- */

loc_192A6:
		addqb	#1,%d0
		bnes	loc_192B6
		moveb	#0,0x23(%a0)
		moveb	1(%a1),%d0
		bras	loc_1928A
/*  --------------------------------------------------------------------------- */

loc_192B6:
		addqb	#1,%d0
		bnes	loc_192CA
		moveb	2(%a1,%d1.w),%d0
		subb	%d0,0x23(%a0)
		subb	%d0,%d1
		moveb	1(%a1,%d1.w),%d0
		bras	loc_1928A
/*  --------------------------------------------------------------------------- */

loc_192CA:
		addqb	#1,%d0
		bnes	loc_192D6
		moveb	2(%a1,%d1.w),0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_192D6:
		addqb	#1,%d0
		bnes	loc_192E8
		addqb	#2,5(%a0)
		clrb	0x24(%a0)
		addqb	#1,0x23(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_192E8:
		addqb	#1,%d0
		bnes	locret_192F4
		movew	#0x7F00,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_192F4:
		rts
/*  End of function Animate_Sprite */


/*  =============== S U B R O U T I N E ======================================= */


Animate_SpriteIrregularDelay:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		cmpb	0x21(%a0),%d0
		beqs	loc_1930E
		moveb	%d0,0x21(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)

loc_1930E:
		subqb	#1,0x24(%a0)
		bccs	locret_19348
		addw	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		moveq	#0,%d1
		moveb	0x23(%a0),%d1
		addw	%d1,%d1
		moveb	(%a1,%d1.w),%d0
		bmis	loc_1934A

loc_19328:
		moveb	1(%a1,%d1.w),0x24(%a0)
		moveb	%d0,0x22(%a0)
		moveb	0x2A(%a0),%d1
		andib	#3,%d1
		andib	#-4,4(%a0)
		orb	%d1,4(%a0)
		addqb	#1,0x23(%a0)

locret_19348:
		rts
/*  --------------------------------------------------------------------------- */

loc_1934A:
		addqb	#1,%d0
		bnes	loc_19358
		moveb	#0,0x23(%a0)
		moveb	(%a1),%d0
		bras	loc_19328
/*  --------------------------------------------------------------------------- */

loc_19358:
		addqb	#1,%d0
		bnes	loc_1936E
		moveb	1(%a1,%d1.w),%d0
		subb	%d0,0x23(%a0)
		addw	%d0,%d0
		subb	%d0,%d1
		moveb	(%a1,%d1.w),%d0
		bras	loc_19328
/*  --------------------------------------------------------------------------- */

loc_1936E:
		addqb	#1,%d0
		bnes	loc_1937A
		moveb	1(%a1,%d1.w),0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1937A:
		addqb	#1,%d0
		bnes	locret_1938C
		addqb	#2,5(%a0)
		clrb	0x24(%a0)
		addqb	#1,0x23(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_1938C:
		rts
/*  End of function Animate_SpriteIrregularDelay */


/*  =============== S U B R O U T I N E ======================================= */


Render_Sprites:
		tstw	(Competition_mode):w
		bnew	Render_Sprites_CompetitionMode
		moveq	#0x4F,%d7
		moveq	#0,%d6
		lea	(Sprite_table_input):w,%a5
		lea	(Camera_X_pos_copy):w,%a3
		lea	(Sprite_table_buffer):w,%a6
		tstb	(Level_started_flag):w
		beqs	loc_193B8
		jsr	(sub_E8C8):l
		jsr	(sub_F816):l

loc_193B8:
		tstw	(%a5)
		beqw	Render_Sprites_NextLevel
		lea	2(%a5),%a4

loc_193C2:
		moveaw	(%a4)+,%a0
		andib	#0x7F,4(%a0)
		moveb	4(%a0),%d6
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		btst	#6,%d6
		bnew	loc_194BA
		btst	#2,%d6
		beqs	loc_19420
		moveq	#0,%d2
		moveb	7(%a0),%d2
		subw	(%a3),%d0
		movew	%d0,%d3
		addw	%d2,%d3
		bmis	Render_Sprites_NextObj
		movew	%d0,%d3
		subw	%d2,%d3
		cmpiw	#0x140,%d3
		bges	Render_Sprites_NextObj
		addiw	#0x80,%d0
		subw	4(%a3),%d1
		moveb	6(%a0),%d2
		addw	%d2,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0xE0,%d2
		cmpw	%d2,%d1
		bccs	Render_Sprites_NextObj
		addiw	#0x80,%d1
		subw	%d3,%d1

loc_19420:
		orib	#0x80,4(%a0)
		tstw	%d7
		bmis	Render_Sprites_NextObj
		moveal	0xC(%a0),%a1
		moveq	#0,%d4
		btst	#5,%d6
		bnes	loc_19446
		moveb	0x22(%a0),%d4
		addw	%d4,%d4
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	Render_Sprites_NextObj

loc_19446:
		movew	0xA(%a0),%d5
		jsr	sub_195CE(%pc)

Render_Sprites_NextObj:
		subqw	#2,(%a5)
		bnew	loc_193C2

Render_Sprites_NextLevel:
		cmpal	#Sprite_table_input,%a5
		bnes	loc_1946A
		cmpiw	#0x900,(Current_zone_and_act):w
		bnes	loc_1946A
		jsr	(sub_1AF14):l

loc_1946A:
		lea	0x80(%a5),%a5
		cmpal	#Player_1,%a5
		bcsw	loc_193B8
		movew	%d7,%d6
		bmis	loc_19486
		moveq	#0,%d0

loc_1947E:
		movew	%d0,(%a6)
		addqw	#8,%a6
		dbf	%d7,loc_1947E

loc_19486:
		subiw	#0x4F,%d6
		negw	%d6
		moveb	%d6,(Sprites_drawn):w
		tstw	(Spritemask_flag):w
		beqs	locret_194B8
		clrw	(Spritemask_flag):w
		lea	(Sprite_table_buffer-4):w,%a0
		movew	#0x7C0,%d0
		moveq	#0x4F,%d1

loc_194A4:
		addqw	#8,%a0
		cmpw	(%a0),%d0
		dbeq	%d1,loc_194A4
		bnes	locret_194B8
		movew	#1,2(%a0)
		clrw	0xA(%a0)

locret_194B8:
		rts
/*  --------------------------------------------------------------------------- */

loc_194BA:
		btst	#2,%d6
		bnes	loc_19504
		moveq	#0,%d2
		moveb	7(%a0),%d2
		subiw	#0x80,%d0
		movew	%d0,%d3
		addw	%d2,%d3
		bmiw	Render_Sprites_NextObj
		movew	%d0,%d3
		subw	%d2,%d3
		cmpiw	#0x140,%d3
		bgew	Render_Sprites_NextObj
		addiw	#0x80,%d0
		moveb	6(%a0),%d2
		subiw	#0x80,%d1
		movew	%d1,%d3
		addw	%d2,%d3
		bmiw	Render_Sprites_NextObj
		movew	%d1,%d3
		subw	%d2,%d3
		cmpiw	#0xE0,%d3
		bgew	Render_Sprites_NextObj
		addiw	#0x80,%d1
		bras	loc_19546
/*  --------------------------------------------------------------------------- */

loc_19504:
		moveq	#0,%d2
		moveb	7(%a0),%d2
		subw	(%a3),%d0
		movew	%d0,%d3
		addw	%d2,%d3
		bmiw	Render_Sprites_NextObj
		movew	%d0,%d3
		subw	%d2,%d3
		cmpiw	#0x140,%d3
		bgew	Render_Sprites_NextObj
		addiw	#0x80,%d0
		subw	4(%a3),%d1
		moveb	6(%a0),%d2
		addw	%d2,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0xE0,%d2
		cmpw	%d2,%d1
		bccw	Render_Sprites_NextObj
		addiw	#0x80,%d1
		subw	%d3,%d1

loc_19546:
		orib	#0x80,4(%a0)
		tstw	%d7
		bmiw	Render_Sprites_NextObj
		movew	0xA(%a0),%d5
		moveal	0xC(%a0),%a2
		moveq	#0,%d4
		moveb	0x22(%a0),%d4
		beqs	loc_1957E
		addw	%d4,%d4
		lea	(%a2),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_1957E
		movew	%d6,%d3
		jsr	sub_196D2(%pc)
		movew	%d3,%d6
		tstw	%d7
		bmiw	Render_Sprites_NextObj

loc_1957E:
		movew	0x16(%a0),%d3
		subqw	#1,%d3
		bcsw	Render_Sprites_NextObj
		lea	0x18(%a0),%a0

loc_1958C:
		movew	(%a0)+,%d0
		movew	(%a0)+,%d1
		btst	#2,%d6
		beqs	loc_195A8
		subw	(%a3),%d0
		addiw	#0x80,%d0
		subw	4(%a3),%d1
		addiw	#0x80,%d1
		andw	(Screen_Y_wrap_value):w,%d1

loc_195A8:
		addqw	#1,%a0
		moveq	#0,%d4
		moveb	(%a0)+,%d4
		addw	%d4,%d4
		lea	(%a2),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_195C4
		movew	%d6,-(%sp)
		jsr	sub_196D2(%pc)
		movew	(%sp)+,%d6

loc_195C4:
		tstw	%d7
		dbmi	%d3,loc_1958C
		braw	Render_Sprites_NextObj
/*  End of function Render_Sprites */


/*  =============== S U B R O U T I N E ======================================= */


sub_195CE:
		lsrb	#1,%d6
		bcss	loc_19600
		lsrb	#1,%d6
		bcsw	loc_1969A

loc_195D8:
		moveb	(%a1)+,%d2
		extw	%d2
		addw	%d1,%d2
		movew	%d2,(%a6)+
		moveb	(%a1)+,(%a6)+
		addqw	#1,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		addw	%d0,%d2
		andiw	#0x1FF,%d2
		bnes	loc_195F6
		addqw	#1,%d2

loc_195F6:
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_195D8
		rts
/*  --------------------------------------------------------------------------- */

loc_19600:
		lsrb	#1,%d6
		bcss	loc_1964A

loc_19604:
		moveb	(%a1)+,%d2
		extw	%d2
		addw	%d1,%d2
		movew	%d2,(%a6)+
		moveb	(%a1)+,%d6
		moveb	%d6,(%a6)+
		addqw	#1,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		eoriw	#0x800,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		negw	%d2
		moveb	byte_1963A(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d0,%d2
		andiw	#0x1FF,%d2
		bnes	loc_19630
		addqw	#1,%d2

loc_19630:
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_19604
		rts
/*  --------------------------------------------------------------------------- */
byte_1963A:	.byte 8
		.byte 8
		.byte 8
		.byte 8
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x18
		.byte 0x18
		.byte 0x18
		.byte 0x18
		.byte 0x20
		.byte 0x20
		.byte 0x20
		.byte 0x20
/*  --------------------------------------------------------------------------- */

loc_1964A:
		moveb	(%a1)+,%d2
		extw	%d2
		negw	%d2
		moveb	(%a1),%d6
		moveb	byte_1968A(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d1,%d2
		movew	%d2,(%a6)+
		moveb	(%a1)+,%d6
		moveb	%d6,(%a6)+
		addqw	#1,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		eoriw	#0x1800,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		negw	%d2
		moveb	byte_1963A(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d0,%d2
		andiw	#0x1FF,%d2
		bnes	loc_19680
		addqw	#1,%d2

loc_19680:
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_1964A
		rts
/*  --------------------------------------------------------------------------- */
byte_1968A:	.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
/*  --------------------------------------------------------------------------- */

loc_1969A:
		moveb	(%a1)+,%d2
		extw	%d2
		negw	%d2
		moveb	(%a1)+,%d6
		moveb	%d6,2(%a6)
		moveb	byte_1968A(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d1,%d2
		movew	%d2,(%a6)+
		addqw	#2,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		eoriw	#0x1000,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		addw	%d0,%d2
		andiw	#0x1FF,%d2
		bnes	loc_196C8
		addqw	#1,%d2

loc_196C8:
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_1969A
		rts
/*  End of function sub_195CE */


/*  =============== S U B R O U T I N E ======================================= */


sub_196D2:
		lsrb	#1,%d6
		bcss	loc_19724
		lsrb	#1,%d6
		bcsw	loc_197FE

loc_196DC:
		moveb	(%a1)+,%d2
		extw	%d2
		addw	%d1,%d2
		cmpiw	#0x60,%d2
		blss	loc_1971C
		cmpiw	#0x160,%d2
		bccs	loc_1971C
		movew	%d2,(%a6)+
		moveb	(%a1)+,(%a6)+
		addqw	#1,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		addw	%d0,%d2
		cmpiw	#0x60,%d2
		blss	loc_19714
		cmpiw	#0x1C0,%d2
		bccs	loc_19714
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_196DC
		rts
/*  --------------------------------------------------------------------------- */

loc_19714:
		subqw	#6,%a6
		dbf	%d4,loc_196DC
		rts
/*  --------------------------------------------------------------------------- */

loc_1971C:
		addqw	#5,%a1
		dbf	%d4,loc_196DC
		rts
/*  --------------------------------------------------------------------------- */

loc_19724:
		lsrb	#1,%d6
		bcss	loc_1978E

loc_19728:
		moveb	(%a1)+,%d2
		extw	%d2
		addw	%d1,%d2
		cmpiw	#0x60,%d2
		blss	loc_19776
		cmpiw	#0x160,%d2
		bccs	loc_19776
		movew	%d2,(%a6)+
		moveb	(%a1)+,%d6
		moveb	%d6,(%a6)+
		addqw	#1,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		eoriw	#0x800,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		negw	%d2
		moveb	byte_1977E(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d0,%d2
		cmpiw	#0x60,%d2
		blss	loc_1976E
		cmpiw	#0x1C0,%d2
		bccs	loc_1976E
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_19728
		rts
/*  --------------------------------------------------------------------------- */

loc_1976E:
		subqw	#6,%a6
		dbf	%d4,loc_19728
		rts
/*  --------------------------------------------------------------------------- */

loc_19776:
		addqw	#5,%a1
		dbf	%d4,loc_19728
		rts
/*  --------------------------------------------------------------------------- */
byte_1977E:	.byte 8
		.byte 8
		.byte 8
		.byte 8
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x18
		.byte 0x18
		.byte 0x18
		.byte 0x18
		.byte 0x20
		.byte 0x20
		.byte 0x20
		.byte 0x20
/*  --------------------------------------------------------------------------- */

loc_1978E:
		moveb	(%a1)+,%d2
		extw	%d2
		negw	%d2
		moveb	(%a1),%d6
		moveb	byte_197EE(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d1,%d2
		cmpiw	#0x60,%d2
		blss	loc_197E6
		cmpiw	#0x160,%d2
		bccs	loc_197E6
		movew	%d2,(%a6)+
		moveb	(%a1)+,%d6
		moveb	%d6,(%a6)+
		addqw	#1,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		eoriw	#0x1800,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		negw	%d2
		moveb	byte_1977E(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d0,%d2
		cmpiw	#0x60,%d2
		blss	loc_197DE
		cmpiw	#0x1C0,%d2
		bccs	loc_197DE
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_1978E
		rts
/*  --------------------------------------------------------------------------- */

loc_197DE:
		subqw	#6,%a6
		dbf	%d4,loc_1978E
		rts
/*  --------------------------------------------------------------------------- */

loc_197E6:
		addqw	#5,%a1
		dbf	%d4,loc_1978E
		rts
/*  --------------------------------------------------------------------------- */
byte_197EE:	.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 8
		.byte 0x10
		.byte 0x18
		.byte 0x20
/*  --------------------------------------------------------------------------- */

loc_197FE:
		moveb	(%a1)+,%d2
		extw	%d2
		negw	%d2
		moveb	(%a1)+,%d6
		moveb	%d6,2(%a6)
		moveb	byte_197EE(%pc,%d6.w),%d6
		subw	%d6,%d2
		addw	%d1,%d2
		cmpiw	#0x60,%d2
		blss	loc_1984E
		cmpiw	#0x160,%d2
		bccs	loc_1984E
		movew	%d2,(%a6)+
		addqw	#2,%a6
		movew	(%a1)+,%d2
		addw	%d5,%d2
		eoriw	#0x1000,%d2
		movew	%d2,(%a6)+
		movew	(%a1)+,%d2
		addw	%d0,%d2
		cmpiw	#0x60,%d2
		blss	loc_19846
		cmpiw	#0x1C0,%d2
		bccs	loc_19846
		movew	%d2,(%a6)+
		subqw	#1,%d7
		dbmi	%d4,loc_197FE
		rts
/*  --------------------------------------------------------------------------- */

loc_19846:
		subqw	#6,%a6
		dbf	%d4,loc_197FE
		rts
/*  --------------------------------------------------------------------------- */

loc_1984E:
		addqw	#4,%a1
		dbf	%d4,loc_197FE
		rts
/*  End of function sub_196D2 */

/*  --------------------------------------------------------------------------- */

Render_Sprites_CompetitionMode:
		moveq	#0x4D,%d7
		moveq	#0,%d6
		lea	(Sprite_table_input):w,%a5
		lea	(Camera_X_pos_copy):w,%a3
		lea	(Sprite_table_buffer+0x10):w,%a6
		tstw	(Use_normal_%sprite_table):w
		beqs	loc_19872
		lea	(Sprite_table_buffer_2+0x10):l,%a6

loc_19872:
		tstb	(Level_started_flag):w
		beqs	loc_1987E
		jsr	(sub_E8C0):l

loc_1987E:
		moveb	1(%a5),(%a5)
		beqw	loc_1992A
		lea	2(%a5),%a4

loc_1988A:
		moveaw	(%a4)+,%a0
		andib	#0x7F,4(%a0)
		moveb	4(%a0),%d6
		btst	#4,%d6
		bnew	loc_19924
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		btst	#6,%d6
		bnew	loc_19A4E
		btst	#2,%d6
		beqs	loc_198F6
		moveq	#0,%d2
		subw	(%a3),%d0
		moveb	7(%a0),%d2
		addw	%d2,%d0
		andw	(Screen_X_wrap_value):w,%d0
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x140,%d2
		cmpw	%d2,%d0
		bccs	loc_19924
		addiw	#0x80,%d0
		subw	%d3,%d0
		moveq	#0,%d2
		subw	4(%a3),%d1
		moveb	6(%a0),%d2
		addw	%d2,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x70,%d2
		cmpw	%d2,%d1
		bccs	loc_19924
		addiw	#0x80,%d1
		subw	%d3,%d1

loc_198F6:
		orib	#0x80,4(%a0)
		tstw	%d7
		bmis	loc_19924
		moveal	0xC(%a0),%a1
		moveq	#0,%d4
		btst	#5,%d6
		bnes	loc_1991C
		moveb	0x22(%a0),%d4
		addw	%d4,%d4
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_19924

loc_1991C:
		movew	0xA(%a0),%d5
		jsr	sub_195CE(%pc)

loc_19924:
		subqb	#2,(%a5)
		bnew	loc_1988A

loc_1992A:
		lea	0x80(%a5),%a5
		cmpal	#Player_1,%a5
		bcsw	loc_1987E
		tstw	%d7
		bmis	loc_19946
		moveq	#0,%d0

loc_1993E:
		movew	%d0,(%a6)
		addqw	#8,%a6
		dbf	%d7,loc_1993E

loc_19946:
		movel	(Sprite_table_input+2+(0x80*2)).w,%d0
		cmpil	#((Player_1&0xFFFF)<<16)|(Player_2&0xFFFF),%d0
		bnes	loc_19958
		swap	%d0
		movel	%d0,(Sprite_table_input+2+(0x80*2)).w

loc_19958:
		moveq	#0x4F,%d7
		lea	(Sprite_table_input):w,%a5
		lea	(Camera_X_pos_P2_copy):w,%a3
		lea	(Sprite_table_buffer_P2):l,%a6
		tstw	(Use_normal_%sprite_table):w
		beqs	loc_19974
		lea	(Sprite_table_buffer_P2_2):l,%a6

loc_19974:
		tstb	(Level_started_flag):w
		beqs	loc_19980
		jsr	(nullsub_2):l

loc_19980:
		tstb	1(%a5)
		beqw	loc_19A2C
		lea	2(%a5),%a4

loc_1998C:
		moveaw	(%a4)+,%a0
		moveb	4(%a0),%d6
		btst	#3,%d6
		bnew	loc_19A24
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		btst	#6,%d6
		bnew	loc_19B1A
		btst	#2,%d6
		beqs	loc_199F2
		moveq	#0,%d2
		subw	(%a3),%d0
		moveb	7(%a0),%d2
		addw	%d2,%d0
		andw	(Screen_X_wrap_value):w,%d0
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x140,%d2
		cmpw	%d2,%d0
		bccs	loc_19A24
		addiw	#0x80,%d0
		subw	%d3,%d0
		moveq	#0,%d2
		subw	4(%a3),%d1
		moveb	6(%a0),%d2
		addw	%d2,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x70,%d2
		cmpw	%d2,%d1
		bccs	loc_19A24
		addiw	#0x80,%d1
		subw	%d3,%d1

loc_199F2:
		addiw	#0x70,%d1
		orib	#0x80,4(%a0)
		tstw	%d7
		bmis	loc_19A24
		moveal	0xC(%a0),%a1
		moveq	#0,%d4
		btst	#5,%d6
		bnes	loc_19A1C
		moveb	0x22(%a0),%d4
		addw	%d4,%d4
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_19A24

loc_19A1C:
		movew	0xA(%a0),%d5
		jsr	sub_195CE(%pc)

loc_19A24:
		subqb	#2,1(%a5)
		bnew	loc_1998C

loc_19A2C:
		lea	0x80(%a5),%a5
		cmpal	#Player_1,%a5
		bcsw	loc_19980
		tstw	%d7
		bmis	loc_19A48
		moveq	#0,%d0

loc_19A40:
		movew	%d0,(%a6)
		addqw	#8,%a6
		dbf	%d7,loc_19A40

loc_19A48:
		st	(Switch_%sprite_table):w
		rts
/*  --------------------------------------------------------------------------- */

loc_19A4E:
		moveq	#0,%d2
		subw	(%a3),%d0
		moveb	7(%a0),%d2
		addw	%d2,%d0
		andw	(Screen_X_wrap_value):w,%d0
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x140,%d2
		cmpw	%d2,%d0
		bccw	loc_19924
		addiw	#0x80,%d0
		subw	%d3,%d0
		moveq	#0,%d2
		subw	4(%a3),%d1
		moveb	6(%a0),%d2
		addw	%d2,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x70,%d2
		cmpw	%d2,%d1
		bccw	loc_19924
		addiw	#0x80,%d1
		subw	%d3,%d1
		orib	#0x80,4(%a0)
		tstw	%d7
		bmiw	loc_19924
		movew	0xA(%a0),%d5
		moveal	0xC(%a0),%a2
		moveq	#0,%d4
		moveb	0x22(%a0),%d4
		beqs	loc_19ACC
		addw	%d4,%d4
		lea	(%a2),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_19ACC
		movew	%d6,%d3
		jsr	sub_196D2(%pc)
		movew	%d3,%d6
		tstw	%d7
		bmiw	loc_19924

loc_19ACC:
		movew	0x16(%a0),%d3
		subqw	#1,%d3
		bcsw	loc_19924
		lea	0x18(%a0),%a0

loc_19ADA:
		movew	(%a0)+,%d0
		subw	(%a3),%d0
		addiw	#0x80,%d0
		andw	(Screen_X_wrap_value):w,%d0
		movew	(%a0)+,%d1
		subw	4(%a3),%d1
		addiw	#0x80,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		addqw	#1,%a0
		moveq	#0,%d4
		moveb	(%a0)+,%d4
		addw	%d4,%d4
		lea	(%a2),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_19B10
		movew	%d6,-(%sp)
		jsr	sub_196D2(%pc)
		movew	(%sp)+,%d6

loc_19B10:
		tstw	%d7
		dbmi	%d3,loc_19ADA
		braw	loc_19924
/*  --------------------------------------------------------------------------- */

loc_19B1A:
		moveq	#0,%d2
		subw	(%a3),%d0
		moveb	7(%a0),%d2
		addw	%d2,%d0
		andw	(Screen_X_wrap_value):w,%d0
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x140,%d2
		cmpw	%d2,%d0
		bccw	loc_19A24
		addiw	#0x80,%d0
		subw	%d3,%d0
		moveq	#0,%d2
		subw	4(%a3),%d1
		moveb	6(%a0),%d2
		addw	%d2,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d2,%d3
		addw	%d2,%d2
		addiw	#0x70,%d2
		cmpw	%d2,%d1
		bccw	loc_19A24
		addiw	#0xF0,%d1
		subw	%d3,%d1
		orib	#0x80,4(%a0)
		tstw	%d7
		bmiw	loc_19A24
		movew	0xA(%a0),%d5
		moveal	0xC(%a0),%a2
		moveq	#0,%d4
		moveb	0x22(%a0),%d4
		beqs	loc_19B98
		addw	%d4,%d4
		lea	(%a2),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_19B98
		movew	%d6,%d3
		jsr	sub_196D2(%pc)
		movew	%d3,%d6
		tstw	%d7
		bmiw	loc_19A24

loc_19B98:
		movew	0x16(%a0),%d3
		subqw	#1,%d3
		bcsw	loc_19A24
		lea	0x18(%a0),%a0

loc_19BA6:
		movew	(%a0)+,%d0
		subw	(%a3),%d0
		addiw	#0x80,%d0
		andw	(Screen_X_wrap_value):w,%d0
		movew	(%a0)+,%d1
		subw	4(%a3),%d1
		addiw	#0x80,%d1
		andw	(Screen_Y_wrap_value):w,%d1
		addiw	#0x70,%d1
		addqw	#1,%a0
		moveq	#0,%d4
		moveb	(%a0)+,%d4
		addw	%d4,%d4
		lea	(%a2),%a1
		addaw	(%a1,%d4.w),%a1
		movew	(%a1)+,%d4
		subqw	#1,%d4
		bmis	loc_19BE0
		movew	%d6,-(%sp)
		jsr	sub_196D2(%pc)
		movew	(%sp)+,%d6

loc_19BE0:
		tstw	%d7
		dbmi	%d3,loc_19BA6
		braw	loc_19A24
/*  --------------------------------------------------------------------------- */

Sprite_OnScreen_Test:
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_19C02
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19C02:
		movew	0x48(%a0),%d0
		beqs	loc_19C0E
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19C0E:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

Sprite_OnScreen_Test2:
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_19C26
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19C26:
		movew	0x48(%a0),%d0
		beqs	loc_19C32
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19C32:
		braw	Delete_Current_Sprite

/*  =============== S U B R O U T I N E ======================================= */


Delete_Sprite_If_Not_In_Range:
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_19C4C
		rts
/*  --------------------------------------------------------------------------- */

loc_19C4C:
		movew	0x48(%a0),%d0
		beqs	loc_19C58
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19C58:
		braw	Delete_Current_Sprite
/*  End of function Delete_Sprite_If_Not_In_Range */

/*  --------------------------------------------------------------------------- */
		tstw	(Competition_mode):w
		bnes	loc_19C8A
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_19C7A
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19C7A:
		movew	0x48(%a0),%d0
		beqs	loc_19C86
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19C86:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

loc_19C8A:
		movew	0x10(%a0),%d0
		andiw	#0xFF00,%d0
		movew	%d0,%d1
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x300,%d0
		bhiw	loc_19CA4
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19CA4:
		subw	(_unkF7DC):w,%d1
		cmpiw	#0x300,%d1
		bhiw	loc_19CB4
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19CB4:
		movew	0x48(%a0),%d0
		beqs	loc_19CC0
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19CC0:
		braw	Delete_Current_Sprite
/*  --------------------------------------------------------------------------- */

loc_19CC4:
		movew	0x10(%a0),%d0

loc_19CC8:
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_19CE2
		jsr	(Add_SpriteToCollisionResponseList):l
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_19CE2:
		movew	0x48(%a0),%d0
		beqs	loc_19CEE
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_19CEE:
		braw	Delete_Current_Sprite

/*  =============== S U B R O U T I N E ======================================= */


Load_Sprites:
		moveq	#0,%d0
		moveb	(Object_load_routine):w,%d0
		jmp	loc_19CFC(%pc,%d0.w)
/*  End of function Load_Sprites */

/*  --------------------------------------------------------------------------- */

loc_19CFC:
		braw	loc_19D0A
/*  --------------------------------------------------------------------------- */
		braw	loc_19DD0
/*  --------------------------------------------------------------------------- */
		braw	loc_19DD0
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

loc_19D0A:
		addqb	#4,(Object_load_routine):w
		tstb	(Respawn_table_keep):w
		bnes	loc_19D24
		lea	(Object_respawn_table):w,%a0
		moveq	#0,%d0
		movew	#0xBF,%d1

loc_19D1E:
		movel	%d0,(%a0)+
		dbf	%d1,loc_19D1E

loc_19D24:
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#5,%d0
		lea	(SpriteLocPtrs):l,%a0
		moveal	(%a0,%d0.w),%a0
		cmpib	#0x13,(Current_zone):w
		bccs	loc_19D44
		tstw	(Competition_mode):w
		beqs	loc_19D6C

loc_19D44:
		addqb	#8,(Object_load_routine):w
		jsr	Create_New_Sprite(%pc)
		bnes	loc_19D66
		lea	(_unkF712):w,%a3
		lea	(Sprite_Listing):l,%a4
		movew	#0x800,%d6

loc_19D5C:
		cmpw	(%a0),%d6
		blss	loc_19D66
		jsr	sub_19FDC(%pc)
		beqs	loc_19D5C

loc_19D66:
		clrw	(Camera_X_pos_coarse_back):w
		rts
/*  --------------------------------------------------------------------------- */

loc_19D6C:
		movel	%a0,(Object_load_addr_front):w
		movel	%a0,(Object_load_addr_back):w
		lea	(Object_respawn_table):w,%a3
		movew	(Camera_X_pos):w,%d6
		subiw	#0x80,%d6
		bccs	loc_19D84
		moveq	#0,%d6

loc_19D84:
		andiw	#-0x80,%d6
		moveal	(Object_load_addr_front):w,%a0

loc_19D8C:
		cmpw	(%a0),%d6
		blss	loc_19D96
		addqw	#6,%a0
		addqw	#1,%a3
		bras	loc_19D8C
/*  --------------------------------------------------------------------------- */

loc_19D96:
		movel	%a0,(Object_load_addr_front):w
		movew	%a3,(Object_respawn_index_front):w
		lea	(Object_respawn_table):w,%a3
		moveal	(Object_load_addr_back):w,%a0
		subiw	#0x80,%d6
		bcss	loc_19DB6

loc_19DAC:
		cmpw	(%a0),%d6
		blss	loc_19DB6
		addqw	#6,%a0
		addqw	#1,%a3
		bras	loc_19DAC
/*  --------------------------------------------------------------------------- */

loc_19DB6:
		movel	%a0,(Object_load_addr_back):w
		movew	%a3,(Object_respawn_index_back):w
		movew	#-1,(Camera_X_pos_coarse):w
		movew	(Camera_Y_pos):w,%d0
		andiw	#-0x80,%d0
		movew	%d0,(Camera_Y_pos_coarse):w

loc_19DD0:
		movew	(Camera_X_pos):w,%d1
		subiw	#0x80,%d1
		andiw	#-0x80,%d1
		movew	%d1,(Camera_X_pos_coarse_back):w
		lea	(Sprite_Listing):l,%a4
		tstw	(Camera_min_Y_pos):w
		bpls	loc_19E1A
		lea	loc_1A010(%pc),%a6
		movew	(Camera_Y_pos):w,%d3
		andiw	#-0x80,%d3
		movew	%d3,%d4
		addiw	#0x200,%d4
		subiw	#0x80,%d3
		bpls	loc_19E0A
		andw	(Screen_Y_wrap_value):w,%d3
		bras	loc_19E34
/*  --------------------------------------------------------------------------- */

loc_19E0A:
		movew	(Screen_Y_wrap_value):w,%d0
		addqw	#1,%d0
		cmpw	%d0,%d4
		blss	loc_19E30
		andw	(Screen_Y_wrap_value):w,%d4
		bras	loc_19E34
/*  --------------------------------------------------------------------------- */

loc_19E1A:
		movew	(Camera_Y_pos):w,%d3
		andiw	#-0x80,%d3
		movew	%d3,%d4
		addiw	#0x200,%d4
		subiw	#0x80,%d3
		bpls	loc_19E30
		moveq	#0,%d3

loc_19E30:
		lea	loc_1A062(%pc),%a6

loc_19E34:
		movew	#0xFFF,%d5
		movew	(Camera_X_pos):w,%d6
		andiw	#-0x80,%d6
		cmpw	(Camera_X_pos_coarse):w,%d6
		beqw	loc_19EEA
		bges	loc_19EA2
		movew	%d6,(Camera_X_pos_coarse):w
		moveal	(Object_load_addr_back):w,%a0
		moveaw	(Object_respawn_index_back):w,%a3
		subiw	#0x80,%d6
		bcss	loc_19E78
		jsr	Create_New_Sprite(%pc)
		bnes	loc_19E78

loc_19E62:
		cmpw	-6(%a0),%d6
		bges	loc_19E78
		subqw	#6,%a0
		subqw	#1,%a3
		jsr	(%a6)
		bnes	loc_19E74
		subqw	#6,%a0
		bras	loc_19E62
/*  --------------------------------------------------------------------------- */

loc_19E74:
		addqw	#6,%a0
		addqw	#1,%a3

loc_19E78:
		movel	%a0,(Object_load_addr_back):w
		movew	%a3,(Object_respawn_index_back):w
		moveal	(Object_load_addr_front):w,%a0
		moveaw	(Object_respawn_index_front):w,%a3
		addiw	#0x300,%d6

loc_19E8C:
		cmpw	-6(%a0),%d6
		bgts	loc_19E98
		subqw	#6,%a0
		subqw	#1,%a3
		bras	loc_19E8C
/*  --------------------------------------------------------------------------- */

loc_19E98:
		movel	%a0,(Object_load_addr_front):w
		movew	%a3,(Object_respawn_index_front):w
		bras	loc_19EEA
/*  --------------------------------------------------------------------------- */

loc_19EA2:
		movew	%d6,(Camera_X_pos_coarse):w
		moveal	(Object_load_addr_front):w,%a0
		moveaw	(Object_respawn_index_front):w,%a3
		addiw	#0x280,%d6
		jsr	Create_New_Sprite(%pc)
		bnes	loc_19EC2

loc_19EB8:
		cmpw	(%a0),%d6
		blss	loc_19EC2
		jsr	(%a6)
		addqw	#1,%a3
		beqs	loc_19EB8

loc_19EC2:
		movel	%a0,(Object_load_addr_front):w
		movew	%a3,(Object_respawn_index_front):w
		moveal	(Object_load_addr_back):w,%a0
		moveaw	(Object_respawn_index_back):w,%a3
		subiw	#0x300,%d6
		bcss	loc_19EE2

loc_19ED8:
		cmpw	(%a0),%d6
		blss	loc_19EE2
		addqw	#6,%a0
		addqw	#1,%a3
		bras	loc_19ED8
/*  --------------------------------------------------------------------------- */

loc_19EE2:
		movel	%a0,(Object_load_addr_back):w
		movew	%a3,(Object_respawn_index_back):w

loc_19EEA:
		movew	(Camera_Y_pos):w,%d6
		andiw	#-0x80,%d6
		movew	%d6,%d3
		cmpw	(Camera_Y_pos_coarse):w,%d6
		beqw	loc_19FCA
		bges	loc_19F26
		tstw	(Camera_min_Y_pos):w
		bpls	loc_19F1C
		tstw	%d6
		bnes	loc_19F10
		cmpiw	#0x80,(Camera_Y_pos_coarse):w
		bnes	loc_19F38

loc_19F10:
		subiw	#0x80,%d3
		bpls	loc_19F52
		andw	(Screen_Y_wrap_value):w,%d3
		bras	loc_19F52
/*  --------------------------------------------------------------------------- */

loc_19F1C:
		subiw	#0x80,%d3
		bmiw	loc_19FCA
		bras	loc_19F52
/*  --------------------------------------------------------------------------- */

loc_19F26:
		tstw	(Camera_min_Y_pos):w
		bpls	loc_19F48
		tstw	(Camera_Y_pos_coarse):w
		bnes	loc_19F38
		cmpiw	#0x80,%d6
		bnes	loc_19F10

loc_19F38:
		addiw	#0x180,%d3
		cmpw	(Screen_Y_wrap_value):w,%d3
		bcss	loc_19F52
		andw	(Screen_Y_wrap_value):w,%d3
		bras	loc_19F52
/*  --------------------------------------------------------------------------- */

loc_19F48:
		addiw	#0x180,%d3
		cmpw	(Screen_Y_wrap_value):w,%d3
		bhis	loc_19FCA

loc_19F52:
		jsr	Create_New_Sprite(%pc)
		bnes	loc_19FCA
		movew	%d3,%d4
		addiw	#0x80,%d4
		movew	#0xFFF,%d5
		moveal	(Object_load_addr_back):w,%a0
		moveaw	(Object_respawn_index_back):w,%a3
		movel	(Object_load_addr_front):w,%d7
		subl	%a0,%d7
		beqs	loc_19FCA
		addqw	#2,%a0

loc_19F74:
		tstb	(%a3)
		bmis	loc_19FC2
		movew	(%a0),%d1
		andw	%d5,%d1
		cmpw	%d3,%d1
		bcss	loc_19FC2
		cmpw	%d4,%d1
		bhis	loc_19FC2
		bset	#7,(%a3)
		movew	-2(%a0),0x10(%a1)
		movew	(%a0),%d1
		movew	%d1,%d2
		andw	%d5,%d1
		movew	%d1,0x14(%a1)
		rolw	#3,%d2
		andiw	#3,%d2
		moveb	%d2,4(%a1)
		moveb	%d2,0x2A(%a1)
		moveb	2(%a0),%d2
		addw	%d2,%d2
		addw	%d2,%d2
		movel	(%a4,%d2.w),(%a1)
		moveb	3(%a0),0x2C(%a1)
		movew	%a3,0x48(%a1)
		jsr	CreateNewSprite4(%pc)
		bnes	loc_19FCA

loc_19FC2:
		addqw	#6,%a0
		addqw	#1,%a3
		subqw	#6,%d7
		bnes	loc_19F74

loc_19FCA:
		movew	%d6,(Camera_Y_pos_coarse):w
		rts
/*  --------------------------------------------------------------------------- */
		bset	#7,(%a3)
		beqs	sub_19FDC
		addqw	#6,%a0
		moveq	#0,%d1
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_19FDC:
		movew	(%a0)+,0x10(%a1)
		movew	(%a0)+,%d1
		movew	%d1,%d2
		andiw	#0xFFF,%d1
		movew	%d1,0x14(%a1)
		rolw	#3,%d2
		andiw	#3,%d2
		moveb	%d2,4(%a1)
		moveb	%d2,0x2A(%a1)
		moveb	(%a0)+,%d2
		addw	%d2,%d2
		addw	%d2,%d2
		movel	(%a4,%d2.w),(%a1)
		moveb	(%a0)+,0x2C(%a1)
		movew	%a3,0x48(%a1)
		braw	CreateNewSprite4
/*  --------------------------------------------------------------------------- */

loc_1A010:
		tstb	(%a3)
		bpls	loc_1A01A
		addqw	#6,%a0
		moveq	#0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_1A01A:
		movew	(%a0)+,%d7
		movew	(%a0)+,%d1
		movew	%d1,%d2
		bmis	loc_1A032
		andw	%d5,%d1
		cmpw	%d3,%d1
		bccs	loc_1A034
		cmpw	%d4,%d1
		blss	loc_1A034
		addqw	#2,%a0
		moveq	#0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_1A032:
		andw	%d5,%d1

loc_1A034:
		bset	#7,(%a3)
		movew	%d7,0x10(%a1)
		movew	%d1,0x14(%a1)
		rolw	#3,%d2
		andiw	#3,%d2
		moveb	%d2,4(%a1)
		moveb	%d2,0x2A(%a1)
		moveb	(%a0)+,%d2
		addw	%d2,%d2
		addw	%d2,%d2
		movel	(%a4,%d2.w),(%a1)
		moveb	(%a0)+,0x2C(%a1)
		movew	%a3,0x48(%a1)
		bras	CreateNewSprite4
/*  --------------------------------------------------------------------------- */

loc_1A062:
		tstb	(%a3)
		bpls	loc_1A06C
		addqw	#6,%a0
		moveq	#0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_1A06C:
		movew	(%a0)+,%d7
		movew	(%a0)+,%d1
		movew	%d1,%d2
		bmis	loc_1A084
		andw	%d5,%d1
		cmpw	%d3,%d1
		bcss	loc_1A07E
		cmpw	%d4,%d1
		blss	loc_1A086

loc_1A07E:
		addqw	#2,%a0
		moveq	#0,%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_1A084:
		andw	%d5,%d1

loc_1A086:
		bset	#7,(%a3)
		movew	%d7,0x10(%a1)
		movew	%d1,0x14(%a1)
		rolw	#3,%d2
		andiw	#3,%d2
		moveb	%d2,4(%a1)
		moveb	%d2,0x2A(%a1)
		moveb	(%a0)+,%d2
		addw	%d2,%d2
		addw	%d2,%d2
		movel	(%a4,%d2.w),(%a1)
		moveb	(%a0)+,0x2C(%a1)
		movew	%a3,0x48(%a1)

CreateNewSprite4:
		subqw	#1,%d0
		bmis	locret_1A0C0

loc_1A0B6:
		lea	0x4A(%a1),%a1
		tstl	(%a1)
		dbeq	%d0,loc_1A0B6

locret_1A0C0:
		rts
/*  End of function sub_19FDC */


/*  =============== S U B R O U T I N E ======================================= */


Create_New_Sprite:
		lea	(Dynamic_object_RAM):w,%a1
		moveq	#((Dynamic_object_RAM_end-Dynamic_object_RAM)/object_size)-1,%d0
		bras	loc_1A0DA
/*  End of function Create_New_Sprite */


/*  =============== S U B R O U T I N E ======================================= */


Create_New_Sprite3:
		moveal	%a0,%a1
		movew	#Dynamic_object_RAM_end,%d0
		subw	%a0,%d0
		lsrw	#6,%d0
		moveb	byte_1A0E6(%pc,%d0.w),%d0
		bmis	locret_1A0E4

loc_1A0DA:
		lea	next_object(%a1),%a1
		tstl	(%a1)
		dbeq	%d0,loc_1A0DA

locret_1A0E4:
		rts
/*  End of function Create_New_Sprite3 */

/*  --------------------------------------------------------------------------- */
byte_1A0E6:
.a		set	Dynamic_object_RAM
b		set	Dynamic_object_RAM_end
.c		set	b			/*  begin from bottom of array and decrease backwards */
		rept	(.b-.a)/0x40		/*  repeat for all slots, minus exception */
.c		set	.c-0x40			/*  address for previous 0x40 (also skip last part) */
		.byte	(.b-.c-1)/object_size-1	/*  write possible slots according to object_size division + hack + dbf hack */
		endm
		.balign 2

/*  =============== S U B R O U T I N E ======================================= */


Clear_SpriteRingMem:
		lea	(Dynamic_object_RAM):w,%a1
		moveq	#((Dynamic_object_RAM_end-Dynamic_object_RAM)/object_size)-1,%d1

loc_1A154:
		lea	next_object(%a1),%a1
		tstl	(%a1)
		beqs	loc_1A168
		movew	respawn_addr(%a1),%d0
		beqs	loc_1A168
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_1A168:
		dbf	%d1,loc_1A154
		lea	(Ring_consumption_table):w,%a2
		movew	(%a2)+,%d1
		subqw	#1,%d1
		bcss	locret_1A18C

loc_1A176:
		movew	(%a2)+,%d0
		beqs	loc_1A176
		moveaw	%d0,%a1
		movew	#-1,(%a1)
		clrw	-2(%a2)
		subqw	#1,(Ring_consumption_table):w
		dbf	%d1,loc_1A176

locret_1A18C:
		rts
/*  End of function Clear_SpriteRingMem */


/*  =============== S U B R O U T I N E ======================================= */


Get_LevelSizeStart:
		clrb	(Deform_lock):w
		clrb	(_unkEE08):w
		clrb	(Scroll_lock):w
		clrb	(Scroll_lock_P2):w
		clrb	(Fast_V_scroll_flag):w
		moveq	#0,%d0
		moveb	%d0,(Dynamic_resize_routine):w
		movew	%d0,(_unkF660):w
		movew	%d0,(_unkF662):w
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#4,%d0
		lea	LevelSizes(%pc,%d0.w),%a0
		movel	(%a0)+,%d0
		movel	%d0,(Camera_min_X_pos):w
		movel	%d0,(Camera_target_min_X_pos):w
		movel	%d0,(Camera_min_X_pos_P2):w
		movel	(%a0)+,%d0
		movel	%d0,(Camera_min_Y_pos):w
		movel	%d0,(Camera_target_min_Y_pos):w
		movel	%d0,(Camera_min_Y_pos_P2):w
		movew	#0x60,(Distance_from_top):w
		movew	#0x60,(Distance_from_top_P2):w
		movew	#-1,(Screen_X_wrap_value):w
		movew	#-1,(Screen_Y_wrap_value):w
		braw	loc_1A374
/*  --------------------------------------------------------------------------- */
/* 		      xstart    xend  ystart yend	; Level */
LevelSizes:	.word   0x1308,  0x6000,      0,   0x390 	/*  AIZ1 */
		.word       0,  0x4640,      0,   0x590	/*  AIZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  HCZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  HCZ2 */
		.word       0,  0x6000,  -0x100,  0x1000	/*  MGZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  MGZ2 */
		.word       0,  0x6000,      0,   0xB20	/*  CNZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  CNZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  FBZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  FBZ2 */
		.word       0,  0x7000,  -0x100,   0x800	/*  ICZ1 */
		.word       0,  0x7000,      0,   0xB20	/*  ICZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  LBZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  LBZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  MHZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  MHZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  SOZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  SOZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  LRZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  LRZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  SSZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  SSZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  DEZ1 */
		.word       0,  0x6000,      0,  0x1000	/*  DEZ2 */
		.word       0,  0x6000,      0,  0x1000	/*  DDZ */
		.word       0,  0x6000,      0,  0x1000	/*  DDZ */
		.word       0,  0x6000,      0,  0x1000	/*  AIZ Intro (?) */
		.word       0,  0x6000,      0,  0x1000	/*  Ending scene */
		.word       0,  0x12C0,   0x100,   0x190	/*  ALZ */
		.word       0,  0x12C0,   0x100,   0x190	/*  ALZ */
		.word       0,  0x12C0,   0x200,   0x390	/*  BPZ */
		.word       0,  0x12C0,   0x200,   0x390	/*  BPZ */
		.word       0,  0x12C0,   0x100,   0x190	/*  DPZ */
		.word       0,  0x12C0,   0x100,   0x190	/*  DPZ */
		.word       0,  0x12C0,  -0x100,  0x1000	/*  CGZ */
		.word       0,  0x12C0,      0,    0x90	/*  CGZ */
		.word       0,  0x12C0,   0x100,   0x190	/*  EMZ */
		.word       0,  0x12C0,   0x100,   0x190	/*  EMZ */
		.word     0x60,    0x60,      0,   0x240	/*  Gumball */
		.word     0x60,    0x60,      0,   0x240	/*  Gumball */
		.word       0,  0x6000,      0,  0x1000	/*  Pachinko */
		.word       0,  0x6000,      0,  0x1000	/*  Pachinko */
		.word       0,  0x6000,      0,  0x1000	/*  Slots */
		.word       0,  0x6000,      0,  0x1000	/*  Slots */
		.word       0,  0x6000,      0,  0x1000	/*  LRZ Boss */
		.word       0,  0x6000,      0,  0x1000	/*  HPZ */
		.word       0,  0x6000,      0,  0x1000	/*  DEZ Boss */
		.word       0,  0x6000,      0,  0x1000	/*  Special Stage Arena (HPZ) */
/*  --------------------------------------------------------------------------- */

loc_1A374:
		tstb	(Last_star_post_hit):w
		beqs	loc_1A38C
		jsr	(Load_Starpost_Settings):l
		movew	(Player_1+x_pos):w,%d1
		movew	(Player_1+y_pos):w,%d0
		braw	loc_1A43C
/*  --------------------------------------------------------------------------- */

loc_1A38C:
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#5,%d0
		lea	(Start_Locations):l,%a1
		lea	(%a1,%d0.w),%a1
		moveq	#0,%d1
		movew	(%a1)+,%d1
		movew	%d1,(Player_1+x_pos):w
		moveq	#0,%d0
		movew	(%a1),%d0
		movew	%d0,(Player_1+y_pos):w
		tstb	(Last_star_post_hit):w
		bnew	loc_1A43C
		cmpiw	#0,(Current_zone_and_act):w
		bnes	loc_1A3E6
		cmpiw	#2,(Player_mode):w
		bccs	loc_1A3E6
		movew	#0x40,%d1
		movew	%d1,(Player_1+x_pos):w
		movew	#0x420,%d0
		movew	%d0,(Player_1+y_pos):w
		movew	#0,%d1
		movew	%d1,(Camera_min_X_pos):w
		movew	%d1,(Camera_target_min_X_pos):w
		movew	%d1,(Camera_min_X_pos_P2):w

loc_1A3E6:
		cmpiw	#0x500,(Current_zone_and_act):w
		bnes	loc_1A43C
		cmpiw	#2,(Player_mode):w
		bcss	loc_1A43C
		movew	#0x35A0,%d1
		movew	%d1,(Camera_min_X_pos):w
		movew	%d1,(Camera_target_min_X_pos):w
		movew	%d1,(Camera_min_X_pos_P2):w
		movew	#0x3780,%d1
		movew	%d1,(Player_1+x_pos):w
		movew	#0x36F0,%d1
		movew	%d1,(Camera_X_pos):w
		movew	%d1,(Camera_X_pos_P2):w
		movew	#0x1E0,%d0
		movew	%d0,(Player_1+y_pos):w
		movew	#0x200,%d0
		movew	%d0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_target_min_Y_pos):w
		movew	%d0,(Camera_min_Y_pos_P2):w
		movew	%d0,(Camera_Y_pos):w
		movew	%d0,(Camera_Y_pos_P2):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1A43C:
		subiw	#0xA0,%d1
		bccs	loc_1A444
		moveq	#0,%d1

loc_1A444:
		tstw	(Competition_mode):w
		bnes	loc_1A454
		movew	(Camera_max_X_pos):w,%d2
		cmpw	%d2,%d1
		bcss	loc_1A454
		movew	%d2,%d1

loc_1A454:
		movew	%d1,(Camera_X_pos):w
		movew	%d1,(Camera_X_pos_P2):w
		subiw	#0x60,%d0
		bccs	loc_1A464
		moveq	#0,%d0

loc_1A464:
		cmpw	(Camera_max_Y_pos):w,%d0
		blts	loc_1A46E
		movew	(Camera_max_Y_pos):w,%d0

loc_1A46E:
		movew	%d0,(Camera_Y_pos):w
		movew	%d0,(Camera_Y_pos_P2):w
		rts
/*  End of function Get_LevelSizeStart */


/*  =============== S U B R O U T I N E ======================================= */


DeformBgLayer:
		tstb	(Deform_lock):w
		beqs	loc_1A480
		rts
/*  --------------------------------------------------------------------------- */

loc_1A480:
		clrw	(Camera_RAM):w
		clrw	(V_scroll_amount):w
		clrw	(H_scroll_amount_P2):w
		clrw	(V_scroll_amount_P2):w
		tstw	(Competition_mode):w
		bnew	loc_1A4DE
		tstb	(Scroll_lock):w
		bnes	loc_1A4DA
		lea	(Player_1):w,%a0
		lea	(Camera_X_pos):w,%a1
		lea	(Camera_min_X_pos):w,%a2
		lea	(Camera_RAM):w,%a4
		lea	(H_scroll_frame_offset):w,%a5
		lea	(Pos_table):w,%a6
		bsrw	MoveCameraX
		lea	(Camera_Y_pos):w,%a1
		lea	(Camera_min_X_pos):w,%a2
		lea	(V_scroll_amount):w,%a4
		movew	(Distance_from_top):w,%d3
		cmpiw	#2,(Player_mode):w
		bnes	loc_1A4D6
		movew	(Distance_from_top_P2):w,%d3

loc_1A4D6:
		bsrw	MoveCameraY

loc_1A4DA:
		braw	Do_ResizeEvents
/*  --------------------------------------------------------------------------- */

loc_1A4DE:
		tstb	(Scroll_lock):w
		bnes	loc_1A520
		lea	(Player_1):w,%a0
		lea	(Camera_X_pos):w,%a1
		lea	(Camera_min_X_pos):w,%a2
		lea	(Camera_RAM):w,%a4
		lea	(H_scroll_frame_offset):w,%a5
		lea	(Pos_table):w,%a6
		bsrw	MoveCameraX_2P
		lea	(Camera_Y_pos):w,%a1
		lea	(Camera_min_X_pos):w,%a2
		lea	(V_scroll_amount):w,%a4
		movew	(Distance_from_top):w,%d3
		cmpiw	#2,(Player_mode):w
		bnes	loc_1A51C
		movew	(Distance_from_top_P2):w,%d3

loc_1A51C:
		bsrw	MoveCameraY

loc_1A520:
		tstb	(Scroll_lock_P2):w
		bnes	loc_1A556
		lea	(Player_2):w,%a0
		lea	(Camera_X_pos_P2):w,%a1
		lea	(Camera_min_X_pos_P2):w,%a2
		lea	(H_scroll_amount_P2):w,%a4
		lea	(H_scroll_frame_offset_P2):w,%a5
		lea	(Stat_table):w,%a6
		bsrw	MoveCameraX_2P
		lea	(Camera_Y_pos_P2):w,%a1
		lea	(Camera_min_X_pos_P2):w,%a2
		lea	(V_scroll_amount_P2):w,%a4
		movew	(Distance_from_top_P2):w,%d3
		bsrw	MoveCameraY

loc_1A556:
		braw	Do_ResizeEvents
/*  End of function DeformBgLayer */


/*  =============== S U B R O U T I N E ======================================= */


MoveCameraX:
		movew	(%a1),%d4
		tstb	(Teleport_active_flag):w
		bnes	locret_1A598
		movew	(%a5),%d1
		beqs	loc_1A584
		subiw	#0x100,%d1
		movew	%d1,(%a5)
		moveq	#0,%d1
		moveb	(%a5),%d1
		lslb	#2,%d1
		addqb	#4,%d1
		movew	2(%a5),%d0
		subb	%d1,%d0
		movew	(%a6,%d0.w),%d0
		andiw	#0x7FFF,%d0
		bras	loc_1A588
/*  --------------------------------------------------------------------------- */

loc_1A584:
		movew	0x10(%a0),%d0

loc_1A588:
		subw	(%a1),%d0
		subiw	#0x90,%d0
		blts	loc_1A59A
		subiw	#0x10,%d0
		bges	loc_1A5AE
		clrw	(%a4)

locret_1A598:
		rts
/*  --------------------------------------------------------------------------- */

loc_1A59A:
		cmpiw	#-0x18,%d0
		bgts	loc_1A5A4
		movew	#-0x18,%d0

loc_1A5A4:
		addw	(%a1),%d0
		cmpw	(%a2),%d0
		bgts	loc_1A5C4
		movew	(%a2),%d0
		bras	loc_1A5C4
/*  --------------------------------------------------------------------------- */

loc_1A5AE:
		cmpiw	#0x18,%d0
		bcss	loc_1A5B8
		movew	#0x18,%d0

loc_1A5B8:
		addw	(%a1),%d0
		cmpw	2(%a2),%d0
		blts	loc_1A5C4
		movew	2(%a2),%d0

loc_1A5C4:
		movew	%d0,%d1
		subw	(%a1),%d1
		aslw	#8,%d1
		movew	%d0,(%a1)
		movew	%d1,(%a4)
		rts
/*  End of function MoveCameraX */


/*  =============== S U B R O U T I N E ======================================= */


MoveCameraY:
		moveq	#0,%d1
		movew	0x14(%a0),%d0
		subw	(%a1),%d0
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_1A5E4
		andw	(Screen_Y_wrap_value):w,%d0

loc_1A5E4:
		btst	#2,0x2A(%a0)
		beqs	loc_1A5EE
		subqw	#5,%d0

loc_1A5EE:
		movew	%d3,%d1
		tstw	(Competition_mode):w
		beqs	loc_1A5F8
		lsrw	#1,%d1

loc_1A5F8:
		btst	#1,0x2A(%a0)
		beqs	loc_1A616
		addiw	#0x20,%d0
		subw	%d1,%d0
		bcss	loc_1A662
		subiw	#0x40,%d0
		bccs	loc_1A662
		tstb	(Camera_max_Y_pos_changing):w
		bnes	loc_1A674
		bras	loc_1A620
/*  --------------------------------------------------------------------------- */

loc_1A616:
		subw	%d1,%d0
		bnes	loc_1A624
		tstb	(Camera_max_Y_pos_changing):w
		bnes	loc_1A674

loc_1A620:
		clrw	(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_1A624:
		cmpiw	#0x60,%d3
		bnes	loc_1A650
		tstb	(Fast_V_scroll_flag):w
		bnes	loc_1A662
		movew	0x1C(%a0),%d1
		bpls	loc_1A638
		negw	%d1

loc_1A638:
		cmpiw	#0x800,%d1
		bccs	loc_1A662
		movew	#0x600,%d1
		cmpiw	#6,%d0
		bgts	loc_1A6AC
		cmpiw	#-6,%d0
		blts	loc_1A68A
		bras	loc_1A67A
/*  --------------------------------------------------------------------------- */

loc_1A650:
		movew	#0x200,%d1
		cmpiw	#2,%d0
		bgts	loc_1A6AC
		cmpiw	#-2,%d0
		blts	loc_1A68A
		bras	loc_1A67A
/*  --------------------------------------------------------------------------- */

loc_1A662:
		movew	#0x1800,%d1
		cmpiw	#0x18,%d0
		bgts	loc_1A6AC
		cmpiw	#-0x18,%d0
		blts	loc_1A68A
		bras	loc_1A67A
/*  --------------------------------------------------------------------------- */

loc_1A674:
		moveq	#0,%d0
		moveb	%d0,(Camera_max_Y_pos_changing):w

loc_1A67A:
		moveq	#0,%d1
		movew	%d0,%d1
		addw	(%a1),%d1
		tstw	%d0
		bplw	loc_1A6B4
		braw	loc_1A694
/*  --------------------------------------------------------------------------- */

loc_1A68A:
		negw	%d1
		extl	%d1
		asll	#8,%d1
		addl	(%a1),%d1
		swap	%d1

loc_1A694:
		cmpw	4(%a2),%d1
		bgts	loc_1A6CC
		cmpiw	#-0x100,%d1
		bgts	loc_1A6A6
		andw	(Screen_Y_wrap_value):w,%d1
		bras	loc_1A6CC
/*  --------------------------------------------------------------------------- */

loc_1A6A6:
		movew	4(%a2),%d1
		bras	loc_1A6CC
/*  --------------------------------------------------------------------------- */

loc_1A6AC:
		extl	%d1
		asll	#8,%d1
		addl	(%a1),%d1
		swap	%d1

loc_1A6B4:
		cmpw	6(%a2),%d1
		blts	loc_1A6CC
		movew	(Screen_Y_wrap_value):w,%d3
		addqw	#1,%d3
		subw	%d3,%d1
		bcss	loc_1A6C8
		subw	%d3,(%a1)
		bras	loc_1A6CC
/*  --------------------------------------------------------------------------- */

loc_1A6C8:
		movew	6(%a2),%d1

loc_1A6CC:
		movew	(%a1),%d4
		swap	%d1
		movel	%d1,%d3
		subl	(%a1),%d3
		rorl	#8,%d3
		movew	%d3,(%a4)
		movel	%d1,(%a1)
		tstw	(Competition_mode):w
		beqs	locret_1A6E8
		swap	%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	%d1,(%a1)

locret_1A6E8:
		rts
/*  End of function MoveCameraY */


/*  =============== S U B R O U T I N E ======================================= */


MoveCameraX_2P:
		movew	(%a1),%d4
		tstb	(Teleport_active_flag):w
		bnes	locret_1A72E
		movew	(%a5),%d1
		beqs	loc_1A714
		subiw	#0x100,%d1
		movew	%d1,(%a5)
		moveq	#0,%d1
		moveb	(%a5),%d1
		lslb	#2,%d1
		addqb	#4,%d1
		movew	2(%a5),%d0
		subb	%d1,%d0
		movew	(%a6,%d0.w),%d0
		andiw	#0x7FFF,%d0
		bras	loc_1A718
/*  --------------------------------------------------------------------------- */

loc_1A714:
		movew	0x10(%a0),%d0

loc_1A718:
		movew	(Screen_X_wrap_value):w,%d2
		subw	(%a1),%d0
		andw	%d2,%d0
		subiw	#0x90,%d0
		blts	loc_1A730
		subiw	#0x10,%d0
		bges	loc_1A73E
		clrw	(%a4)

locret_1A72E:
		rts
/*  --------------------------------------------------------------------------- */

loc_1A730:
		cmpiw	#-0x10,%d0
		bgts	loc_1A73A
		movew	#-0x10,%d0

loc_1A73A:
		addw	(%a1),%d0
		bras	loc_1A74A
/*  --------------------------------------------------------------------------- */

loc_1A73E:
		cmpiw	#0x10,%d0
		bcss	loc_1A748
		movew	#0x10,%d0

loc_1A748:
		addw	(%a1),%d0

loc_1A74A:
		movew	%d0,%d1
		subw	(%a1),%d1
		aslw	#8,%d1
		andw	%d2,%d0
		addiw	#0x400,%d0
		movew	%d0,(%a1)
		movew	%d1,(%a4)
		rts
/*  End of function MoveCameraX_2P */


/*  =============== S U B R O U T I N E ======================================= */


j_LevelSetup:
		jmp	(LevelSetup):l
/*  End of function j_LevelSetup */


/*  =============== S U B R O U T I N E ======================================= */


LoadLevelLoadBlock2:
		movew	(Current_zone_and_act):w,%d0
		bnes	loc_1A77A
		cmpiw	#2,(Player_mode):w
		beqs	loc_1A776
		tstb	(Last_star_post_hit):w
		beqs	loc_1A77A

loc_1A776:
		movew	#0xD00,%d0

loc_1A77A:
		rorb	#1,%d0
		lsrw	#4,%d0
		andiw	#0x1F8,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	(LevelLoadBlock):l,%a2
		lea	(%a2,%d0.w),%a2
		movel	%a2,-(%sp)
		addqw	#8,%a2
		movel	(%a2)+,%d0
		andil	#0xFFFFFF,%d0
		movel	%d0,%d7
		moveal	%d0,%a0
		lea	(Block_table):w,%a1
		jsr	(Kos_Decomp):l
		movel	(%a2)+,%d0
		andil	#0xFFFFFF,%d0
		cmpl	%d0,%d7
		beqs	loc_1A7C0
		moveal	%d0,%a0
		jsr	(Kos_Decomp):l

loc_1A7C0:
		movel	(%a2)+,%d0
		andil	#0xFFFFFF,%d0
		movel	%d0,%d7
		moveal	%d0,%a0
		lea	(RAM_start):l,%a1
		jsr	(Kos_Decomp):l
		movel	(%a2)+,%d0
		andil	#0xFFFFFF,%d0
		cmpl	%d0,%d7
		beqs	loc_1A7EC
		moveal	%d0,%a0
		jsr	(Kos_Decomp):l

loc_1A7EC:
		bsrw	Load_Level
		moveal	(%sp)+,%a2
		moveb	(%a2),%d1
		addqw	#4,%a2
		moveq	#0,%d0
		moveb	(%a2),%d0
		beqs	loc_1A806
		cmpb	%d0,%d1
		beqs	loc_1A806
		jsr	(Load_PLC):l

loc_1A806:
		addqw	#4,%a2
		moveq	#0,%d0
		moveb	(%a2),%d0
		jsr	(LoadPalette):l
		rts
/*  End of function LoadLevelLoadBlock2 */


/*  =============== S U B R O U T I N E ======================================= */


Load_Level:
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#5,%d0
		andiw	#0xFC,%d0
		lea	(LevelPtrs):l,%a0
		moveal	(%a0,%d0.w),%a0
		lea	(Level_layout_header):w,%a1
		movew	#0x7FF,%d2

loc_1A834:
		movew	(%a0)+,(%a1)+
		dbf	%d2,loc_1A834
		rts
/*  End of function Load_Level */


/*  =============== S U B R O U T I N E ======================================= */


Do_ResizeEvents:
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		/*  Bug: this clamps the array index too hard, causing Competition and bonus */
		/*  stages to execute resize routines meant for the early game levels */
		andiw	#0x3E,%d0
		movew	LevelResizeArray(%pc,%d0.w),%d0
		jsr	LevelResizeArray(%pc,%d0.w)
		moveq	#2,%d1
		movew	(Camera_target_max_Y_pos):w,%d0
		subw	(Camera_max_Y_pos):w,%d0
		beqs	locret_1A880
		bccs	loc_1A882
		negw	%d1
		movew	(Camera_Y_pos):w,%d0
		cmpw	(Camera_target_max_Y_pos):w,%d0
		blss	loc_1A876
		movew	%d0,(Camera_max_Y_pos):w
		andiw	#-2,(Camera_max_Y_pos):w

loc_1A876:
		addw	%d1,(Camera_max_Y_pos):w
		moveb	#1,(Camera_max_Y_pos_changing):w

locret_1A880:
		rts
/*  --------------------------------------------------------------------------- */

loc_1A882:
		movew	(Camera_Y_pos):w,%d0
		addiw	#8,%d0
		cmpw	(Camera_max_Y_pos):w,%d0
		bcss	loc_1A89C
		btst	#1,(Player_1+status):w
		beqs	loc_1A89C
		addw	%d1,%d1
		addw	%d1,%d1

loc_1A89C:
		addw	%d1,(Camera_max_Y_pos):w
		moveb	#1,(Camera_max_Y_pos_changing):w
		rts
/*  End of function Do_ResizeEvents */

/*  --------------------------------------------------------------------------- */
LevelResizeArray:.word AIZ1_Resize-LevelResizeArray
		.word AIZ2_Resize-LevelResizeArray
		.word HCZ1_Resize-LevelResizeArray
		.word HCZ2_Resize-LevelResizeArray
		.word MGZ_Resize-LevelResizeArray
		.word MGZ_Resize-LevelResizeArray
		.word No_Resize2-LevelResizeArray
		.word No_Resize2-LevelResizeArray
		.word No_Resize2-LevelResizeArray
		.word No_Resize2-LevelResizeArray
		.word ICZ1_Resize-LevelResizeArray
		.word ICZ2_Resize-LevelResizeArray
		.word No_Resize-LevelResizeArray
		.word LBZ2_Resize-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
		.word No_Resize3-LevelResizeArray
/*  --------------------------------------------------------------------------- */

AIZ1_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1A916(%pc,%d0.w),%d0
		jmp	off_1A916(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1A916:	.word loc_1A920-off_1A916
		.word loc_1A96C-off_1A916
		.word loc_1A9EC-off_1A916
		.word loc_1AA40-off_1A916
		.word loc_1AA7C-off_1A916
/*  --------------------------------------------------------------------------- */

loc_1A920:
		moveb	#1,(AIZ1_palette_cycle_flag):w
		cmpiw	#0x1000,(Camera_X_pos):w
		bcss	locret_1A96A
		moveb	#0,(AIZ1_palette_cycle_flag):w
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		cmpiw	#0x1308,(Camera_X_pos):w
		bcss	locret_1A96A
		tstb	(Last_star_post_hit):w
		bnes	loc_1A958
		cmpiw	#2,(Player_mode):w
		beqs	loc_1A958
		moveq	#0xB,%d0
		jsr	(Load_PLC):l

loc_1A958:
		moveq	#0x2A,%d0
		jsr	(LoadPalette_Immediate):l
		movew	#2,(Tails_CPU_routine):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1A96A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1A96C:
		movew	#0x1308,(Camera_min_X_pos):w
		cmpiw	#0x1400,(Camera_X_pos):w
		bcss	locret_1A9EA
		tstb	(Last_star_post_hit):w
		bnes	loc_1A9BE
		cmpiw	#2,(Player_mode):w
		beqs	loc_1A9BE
		lea	(AIZ1_16x16_MainLevel_Kos):l,%a1
		lea	(Block_table+0x268):w,%a2
		jsr	(Queue_Kos):l
		lea	(AIZ1_8x8_MainLevel_KosM):l,%a1
		movew	#0x17C0,%d2
		jsr	(Queue_Kos_Module):l
		st	(Events_fg_5):w
		movew	#0x500,(Anim_Counters):w
		movew	#0x500,(Anim_Counters+2):w
		movew	#0x500,(Anim_Counters+4):w

loc_1A9BE:
		moveb	#1,(Last_star_post_hit):w
		movew	#0x13A0,(Saved_X_pos):w
		movew	#0x41A,(Saved_Y_pos):w
		jsr	(Save_Level_Data):l
		movel	#0,(Saved_timer):w
		moveq	#8,%d0
		jsr	(Load_PLC):l
		addqb	#2,(Dynamic_resize_routine):w

locret_1A9EA:
		rts
/*  --------------------------------------------------------------------------- */

loc_1A9EC:
		lea	(word_1AA84):l,%a1
		bsrw	Resize_MaxYFromX
		movew	#0,(Camera_min_Y_pos):w
		movew	#0x20E,(Normal_palette_line_3+0x1E):w
		cmpiw	#0x2B00,(Camera_X_pos):w
		bcss	loc_1AA10
		movew	#4,(Normal_palette_line_3+0x1E):w

loc_1AA10:
		cmpiw	#0x2C00,(Camera_X_pos):w
		bcss	loc_1AA1E
		movew	#0x2E0,(Camera_min_Y_pos):w

loc_1AA1E:
		cmpiw	#0x2D80,(Camera_X_pos):w
		bcss	locret_1AA3E
		movew	#0xC02,(Normal_palette_line_3+0x1E):w
		movew	#0x2D80,(Camera_min_X_pos):w
		moveq	#0x5A,%d0
		jsr	(Load_PLC):l
		addqb	#2,(Dynamic_resize_routine):w

locret_1AA3E:
		rts
/*  --------------------------------------------------------------------------- */

loc_1AA40:
		lea	(word_1AA84):l,%a1
		bsrw	Resize_MaxYFromX
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		cmpiw	#0x2E00,(Camera_X_pos):w
		bcss	locret_1AA7A
		tstb	(Kos_modules_left):w
		bnes	locret_1AA7A
		lea	(AIZ1_8x8_Flames_KosM):l,%a1
		movew	#0xA000,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0xC,%d0
		jsr	(Load_PLC):l
		addqb	#2,(Dynamic_resize_routine):w

locret_1AA7A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1AA7C:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */
word_1AA84:	.word  0x8390, 0x1650
		.word  0x83B0, 0x1B00
		.word  0x8430, 0x2000
		.word  0x84C0, 0x2B00
		.word  0x83B0, 0x2D80
		.word  0x82E0, 0xFFFF
/*  --------------------------------------------------------------------------- */

AIZ2_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1AAAA(%pc,%d0.w),%d0
		jmp	off_1AAAA(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1AAAA:	.word AIZ2_Resize1-off_1AAAA
		.word AIZ2_Resize2-off_1AAAA
		.word AIZ2_Resize3-off_1AAAA
		.word AIZ2_Resize4-off_1AAAA
		.word AIZ2_Resize5-off_1AAAA
		.word AIZ2_Resize6-off_1AAAA
		.word AIZ2_Resize7-off_1AAAA
		.word AIZ2_Resize8-off_1AAAA
		.word AIZ2_SonicResizeEnd-off_1AAAA
/*  --------------------------------------------------------------------------- */

AIZ2_Resize1:
		cmpiw	#0x380,(Camera_X_pos):w
		bcss	locret_1AAF2
		movew	#0x4F0,%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		addqb	#2,(Dynamic_resize_routine):w
		cmpiw	#1,(Apparent_zone_and_act):w
		bnes	locret_1AAF2
		movew	#0x590,%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		movew	#0xF50,(Camera_min_X_pos):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1AAF2:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize2:
		cmpiw	#0x300,(Camera_Y_pos):w
		bccs	loc_1AB48
		movew	#0x590,%d0
		cmpiw	#0xED0,(Camera_X_pos):w
		bcss	loc_1AB0C
		movew	#0x2B8,%d0

loc_1AB0C:
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		cmpiw	#0xF50,(Camera_X_pos):w
		bcss	locret_1AB46
		movew	#0xF50,(Camera_min_X_pos):w
		tstw	(Debug_placement_mode):w
		bnes	loc_1AB42
		jsr	(Create_New_Sprite):l
		bnes	loc_1AB42
		movel	#Obj_AIZ_Miniboss,(%a1)
		movew	#0x11F0,0x10(%a1)
		movew	#0x289,0x14(%a1)

loc_1AB42:
		addqb	#2,(Dynamic_resize_routine):w

locret_1AB46:
		rts
/*  --------------------------------------------------------------------------- */

loc_1AB48:
		movew	#0x590,%d0
		cmpiw	#0xED0,(Camera_X_pos):w
		bcss	loc_1AB58
		movew	#0x450,%d0

loc_1AB58:
		cmpiw	#0x11A0,(Camera_X_pos):w
		bcss	loc_1AB70
		movew	#0x820,%d0
		movew	%d0,(Camera_target_max_Y_pos):w
		movew	#0xF80,(Target_water_level):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1AB70:
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize3:
		cmpiw	#0x1500,(Camera_X_pos):w
		bcss	locret_1AB92
		movew	#0x630,(Camera_max_Y_pos):w
		movew	#0x630,(Camera_target_max_Y_pos):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1AB92:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize4:
		cmpiw	#0x3C00,(Camera_X_pos):w
		bcss	locret_1ABE2
		tstb	(Kos_modules_left):w
		bnes	locret_1ABE2
		lea	(AIZ2_16x16_BomberShip_Kos):l,%a1
		lea	(Block_table+0xAB8):w,%a2
		jsr	(Queue_Kos):l
		lea	(AIZ2_8x8_BomberShip_KosM):l,%a1
		movew	#0x3F80,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_AIZ2Bombership2_8x8):l,%a1
		movew	#0xA000,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x30,%d0
		jsr	(LoadPalette_Immediate):l
		st	(Events_fg_5):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1ABE2:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize5:
		cmpiw	#0x3F00,(Camera_X_pos):w
		bcss	locret_1ABFC
		movew	#0x15A,%d0
		movew	%d0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_target_min_Y_pos):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1ABFC:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize6:
		cmpiw	#0x4000,(Camera_X_pos):w
		bcss	locret_1AC16
		movew	#0x15A,%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1AC16:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize7:
		cmpiw	#0x4160,(Camera_X_pos):w
		bcss	locret_1AC28
		st	(Events_fg_4):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1AC28:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_Resize8:
		cmpiw	#0x4780,(Camera_X_pos):w
		bcss	locret_1AC36
		addqb	#2,(Dynamic_resize_routine):w

locret_1AC36:
		rts
/*  --------------------------------------------------------------------------- */

AIZ2_SonicResizeEnd:
		rts
/*  --------------------------------------------------------------------------- */

HCZ1_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1AC48(%pc,%d0.w),%d0
		jmp	off_1AC48(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1AC48:	.word loc_1AC4E-off_1AC48
		.word loc_1AC74-off_1AC48
		.word locret_1ACB0-off_1AC48
/*  --------------------------------------------------------------------------- */

loc_1AC4E:
		cmpiw	#0x360,(Camera_X_pos):w
		bccs	locret_1AC72
		cmpiw	#0x3E0,(Camera_Y_pos):w
		bcss	locret_1AC72
		lea	(Normal_palette_line_4+0x10):w,%a1
		movew	#0xB80,(%a1)+
		movew	#0x240,(%a1)+
		movew	#0x220,(%a1)+
		addqb	#2,(Dynamic_resize_routine):w

locret_1AC72:
		rts
/*  --------------------------------------------------------------------------- */

loc_1AC74:
		cmpiw	#0x360,(Camera_X_pos):w
		bccs	loc_1AC8A
		cmpiw	#0x3E0,(Camera_Y_pos):w
		bccs	locret_1ACAE
		subqb	#2,(Dynamic_resize_routine):w
		bras	loc_1AC9E
/*  --------------------------------------------------------------------------- */

loc_1AC8A:
		cmpiw	#0x500,(Camera_Y_pos):w
		bcss	locret_1ACAE
		cmpiw	#0x900,(Camera_X_pos):w
		bcss	locret_1ACAE
		addqb	#2,(Dynamic_resize_routine):w

loc_1AC9E:
		lea	(Normal_palette_line_4+0x10):w,%a1
		movew	#0xCEE,(%a1)+
		movew	#0xACE,(%a1)+
		movew	#0x8A,(%a1)+

locret_1ACAE:
		rts
/*  --------------------------------------------------------------------------- */

locret_1ACB0:
		rts
/*  --------------------------------------------------------------------------- */

HCZ2_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1ACC0(%pc,%d0.w),%d0
		jmp	off_1ACC0(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1ACC0:	.word loc_1ACC4-off_1ACC0
		.word locret_1ACD6-off_1ACC0
/*  --------------------------------------------------------------------------- */

loc_1ACC4:
		cmpiw	#0xC00,(Camera_X_pos):w
		bcss	locret_1ACD4
		st	(Events_fg_5):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1ACD4:
		rts
/*  --------------------------------------------------------------------------- */

locret_1ACD6:
		rts
/*  --------------------------------------------------------------------------- */

MGZ_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1ACE6(%pc,%d0.w),%d0
		jmp	off_1ACE6(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1ACE6:	.word loc_1ACEC-off_1ACE6
		.word loc_1AD2A-off_1ACE6
		.word locret_1AD84-off_1ACE6
/*  --------------------------------------------------------------------------- */

loc_1ACEC:
		movew	(Camera_Y_pos):w,%d0
		cmpiw	#0x600,%d0
		bcss	locret_1AD28
		cmpiw	#0x700,%d0
		bccs	locret_1AD28
		cmpiw	#0x3A00,(Camera_X_pos):w
		bcss	locret_1AD28
		movew	#0x6A0,%d0
		movew	%d0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_target_min_Y_pos):w
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		movew	#0x3C80,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1AD28:
		rts
/*  --------------------------------------------------------------------------- */

loc_1AD2A:
		cmpiw	#0x3A00,(Camera_X_pos):w
		bcss	loc_1AD64
		movew	#0x3C80,%d0
		cmpw	(Camera_X_pos):w,%d0
		bhis	locret_1AD82
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_target_min_X_pos):w
		jsr	(Create_New_Sprite):l
		bnes	loc_1AD5E
		movel	#Obj_A1_1_MGZ2_Boss,(%a1)
		movew	#0x3D20,0x10(%a1)
		movew	#0x668,0x14(%a1)

loc_1AD5E:
		addqb	#2,(Dynamic_resize_routine):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1AD64:
		movel	#0x1000,%d0
		movel	%d0,(Camera_min_Y_pos):w
		movel	%d0,(Camera_target_min_Y_pos):w
		movew	#0x6000,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		subqb	#2,(Dynamic_resize_routine):w

locret_1AD82:
		rts
/*  --------------------------------------------------------------------------- */

locret_1AD84:
		rts
/*  --------------------------------------------------------------------------- */

No_Resize2:
		rts
/*  --------------------------------------------------------------------------- */

ICZ1_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1AD96(%pc,%d0.w),%d0
		jmp	off_1AD96(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1AD96:	.word loc_1AD9C-off_1AD96
		.word loc_1ADB6-off_1AD96
		.word locret_1ADC8-off_1AD96
/*  --------------------------------------------------------------------------- */

loc_1AD9C:
		cmpiw	#0x3700,(Camera_X_pos):w
		bcss	locret_1ADB4
		cmpiw	#0x68C,(Camera_Y_pos):w
		bcss	locret_1ADB4
		st	(Events_fg_5):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1ADB4:
		rts
/*  --------------------------------------------------------------------------- */

loc_1ADB6:
		cmpiw	#0x3940,(Camera_X_pos):w
		bcss	locret_1ADC6
		st	(Events_fg_5):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1ADC6:
		rts
/*  --------------------------------------------------------------------------- */

locret_1ADC8:
		rts
/*  --------------------------------------------------------------------------- */

ICZ2_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1ADD8(%pc,%d0.w),%d0
		jmp	off_1ADD8(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1ADD8:	.word loc_1ADDC-off_1ADD8
		.word locret_1ADF8-off_1ADD8
/*  --------------------------------------------------------------------------- */

loc_1ADDC:
		cmpiw	#0x740,(Camera_X_pos):w
		bcss	locret_1ADF6
		cmpiw	#0x400,(Camera_Y_pos):w
		bccs	locret_1ADF6
		movew	#0x740,(Camera_min_X_pos):w
		addqb	#2,(Dynamic_resize_routine):w

locret_1ADF6:
		rts
/*  --------------------------------------------------------------------------- */

locret_1ADF8:
		rts
/*  --------------------------------------------------------------------------- */

No_Resize:
		rts
/*  --------------------------------------------------------------------------- */

LBZ2_Resize:
		moveq	#0,%d0
		moveb	(Dynamic_resize_routine):w,%d0
		movew	off_1AE0A(%pc,%d0.w),%d0
		jmp	off_1AE0A(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */
off_1AE0A:	.word loc_1AE0E-off_1AE0A
		.word locret_1AE66-off_1AE0A
/*  --------------------------------------------------------------------------- */

loc_1AE0E:
		cmpiw	#0x3BC0,(Camera_X_pos):w
		bcss	locret_1AE64
		cmpiw	#0x500,(Camera_Y_pos):w
		bcss	locret_1AE64
		addqb	#2,(Dynamic_resize_routine):w
		lea	(LBZ2_16x16_DeathEgg_Kos):l,%a1
		lea	(Block_table):w,%a2
		jsr	(Queue_Kos):l
		lea	(LBZ2_128x128_DeathEgg_Kos):l,%a1
		lea	(RAM_start):l,%a2
		jsr	(Queue_Kos):l
		lea	(LBZ2_8x8_DeathEgg_KosM):l,%a1
		movew	#0,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_LBZ2DeathEgg2_8x8):l,%a1
		movew	#0xB400,%d2
		jsr	(Queue_Kos_Module):l

locret_1AE64:
		rts
/*  --------------------------------------------------------------------------- */

locret_1AE66:
		rts
/*  --------------------------------------------------------------------------- */

No_Resize3:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Resize_MaxYFromX:
		movew	(Camera_X_pos):w,%d0

loc_1AE6E:
		movel	(%a1)+,%d1
		cmpw	%d1,%d0
		bhis	loc_1AE6E
		swap	%d1
		tstw	%d1
		bpls	loc_1AE82
		andiw	#0x7FFF,%d1
		movew	%d1,(Camera_max_Y_pos):w

loc_1AE82:
		movew	%d1,(Camera_target_max_Y_pos):w
		rts
/*  End of function Resize_MaxYFromX */


/*  =============== S U B R O U T I N E ======================================= */


nullsub_5:
		rts
/*  End of function nullsub_5 */


/*  =============== S U B R O U T I N E ======================================= */


Draw_LRZ_Special_Rock_Sprites:
		moveq	#0,%d0
		moveb	(LRZ_rocks_routine):w,%d0
		movew	off_1AE98(%pc,%d0.w),%d0
		jmp	off_1AE98(%pc,%d0.w)
/*  End of function Draw_LRZ_Special_Rock_Sprites */

/*  --------------------------------------------------------------------------- */
off_1AE98:	.word loc_1AE9C-off_1AE98
		.word loc_1AECC-off_1AE98
/*  --------------------------------------------------------------------------- */

loc_1AE9C:
		addqb	#2,(LRZ_rocks_routine):w
		movew	(Camera_X_pos):w,%d4
		subqw	#8,%d4
		bhis	loc_1AEAE
		moveq	#1,%d4
		bras	loc_1AEAE
/*  --------------------------------------------------------------------------- */

loc_1AEAC:
		addql	#6,%a1

loc_1AEAE:
		cmpw	2(%a1),%d4
		bhis	loc_1AEAC
		movel	%a1,(LRZ_rocks_addr_front):w
		addiw	#0x150,%d4
		bras	loc_1AEC0
/*  --------------------------------------------------------------------------- */

loc_1AEBE:
		addql	#6,%a1

loc_1AEC0:
		cmpw	2(%a1),%d4
		bhis	loc_1AEBE
		movel	%a1,(LRZ_rocks_addr_back):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1AECC:
		moveal	(LRZ_rocks_addr_front):w,%a1
		movew	(Camera_X_pos):w,%d4
		subqw	#8,%d4
		bhis	loc_1AEDE
		moveq	#1,%d4
		bras	loc_1AEDE
/*  --------------------------------------------------------------------------- */

loc_1AEDC:
		addql	#6,%a1

loc_1AEDE:
		cmpw	2(%a1),%d4
		bhis	loc_1AEDC
		bras	loc_1AEE8
/*  --------------------------------------------------------------------------- */

loc_1AEE6:
		subql	#6,%a1

loc_1AEE8:
		cmpw	-4(%a1),%d4
		blss	loc_1AEE6
		movel	%a1,(LRZ_rocks_addr_front):w
		moveal	(LRZ_rocks_addr_back):w,%a2
		addiw	#0x150,%d4
		bras	loc_1AEFE
/*  --------------------------------------------------------------------------- */

loc_1AEFC:
		addql	#6,%a2

loc_1AEFE:
		cmpw	2(%a2),%d4
		bhis	loc_1AEFC
		bras	loc_1AF08
/*  --------------------------------------------------------------------------- */

loc_1AF06:
		subql	#6,%a2

loc_1AF08:
		cmpw	-4(%a2),%d4
		blss	loc_1AF06
		movel	%a2,(LRZ_rocks_addr_back):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_1AF14:
		moveal	(LRZ_rocks_addr_front):w,%a0
		movel	(LRZ_rocks_addr_back):w,%d2
		subl	%a0,%d2
		beqs	locret_1AF68
		lea	LRZ_Rock_SpriteData(%pc),%a1
		movew	#0x78,%d3
		movew	4(%a3),%d4
		movew	#0xF0,%d5

loc_1AF30:
		movew	4(%a0),%d1
		subw	%d4,%d1
		addqw	#8,%d1
		cmpw	%d5,%d1
		bccs	loc_1AF62
		addw	%d3,%d1
		movew	2(%a0),%d0
		subw	(%a3),%d0
		addiw	#0x80,%d0
		movew	(%a0),%d6
		lslw	#3,%d6
		lea	(%a1,%d6.w),%a2
		addw	(%a2)+,%d1
		movew	%d1,(%a6)+
		movew	(%a2)+,%d6
		moveb	%d6,(%a6)
		addqw	#2,%a6
		movew	(%a2)+,(%a6)+
		addw	(%a2)+,%d0
		movew	%d0,(%a6)+
		subqw	#1,%d7

loc_1AF62:
		addql	#6,%a0
		subqw	#6,%d2
		bnes	loc_1AF30

locret_1AF68:
		rts
/*  End of function sub_1AF14 */

/*  --------------------------------------------------------------------------- */
LRZ_Rock_SpriteData:
		.word  0xFFF8,     5, 0xC400, 0xFFF8
		.word  0xFFF8,     5, 0xCC00, 0xFFF8
		.word  0xFFF8,     5, 0xC404, 0xFFF8
		.word  0xFFF8,     5, 0xC408, 0xFFF8
		.word  0xFFF8,     5, 0xCC08, 0xFFF8
		.word  0xFFF8,     5, 0xCC04, 0xFFF8
		.word      0,     4, 0xC40C, 0xFFF8
		.word      0,     4, 0xC40E, 0xFFF8
		.word      0,     4, 0xCC0E, 0xFFF8
		.word      0,     4, 0xCC0C, 0xFFF8
		.word  0xFFF8,     5, 0xE410, 0xFFF8
/*  --------------------------------------------------------------------------- */

Obj_PathSwap:
		movel	#Map_PathSwap,0xC(%a0)
		movew	#make_art_tile(ArtTile_Ring,1,0),0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x40,6(%a0)
		movew	#0x280,8(%a0)
		moveb	0x2C(%a0),%d0
		btst	#2,%d0
		beqs	loc_1B050
		andiw	#7,%d0
		moveb	%d0,0x22(%a0)
		andiw	#3,%d0
		addw	%d0,%d0
		movew	word_1B048(%pc,%d0.w),0x32(%a0)
		movew	0x14(%a0),%d1
		lea	(Player_1):w,%a1
		cmpw	0x14(%a1),%d1
		bccs	loc_1B01A
		moveb	#1,0x34(%a0)

loc_1B01A:
		lea	(Player_2):w,%a1
		cmpw	0x14(%a1),%d1
		bccs	loc_1B02A
		moveb	#1,0x35(%a0)

loc_1B02A:
		movel	#loc_1B208,(%a0)
		tstw	(Competition_mode):w
		beqw	loc_1B208
		movel	#loc_1B232,(%a0)
		movew	#0x63D2,0xA(%a0)
		braw	loc_1B232
/*  --------------------------------------------------------------------------- */
word_1B048:	.word 0x20
		.word 0x40
		.word 0x80
		.word 0x100
/*  --------------------------------------------------------------------------- */

loc_1B050:
		andiw	#3,%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		movew	word_1B048(%pc,%d0.w),0x32(%a0)
		movew	0x10(%a0),%d1
		lea	(Player_1):w,%a1
		cmpw	0x10(%a1),%d1
		bccs	loc_1B074
		moveb	#1,0x34(%a0)

loc_1B074:
		lea	(Player_2):w,%a1
		cmpw	0x10(%a1),%d1
		bccs	loc_1B084
		moveb	#1,0x35(%a0)

loc_1B084:
		movel	#loc_1B09E,(%a0)
		tstw	(Competition_mode):w
		beqs	loc_1B09E
		movel	#loc_1B0C8,(%a0)
		movew	#0x63D2,0xA(%a0)
		bras	loc_1B0C8
/*  --------------------------------------------------------------------------- */

loc_1B09E:
		tstw	(Debug_placement_mode):w
		bnew	loc_1B0BA
		movew	0x10(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_1B0F0
		lea	(Player_2):w,%a1
		bsrs	sub_1B0F0

loc_1B0BA:
		tstw	(Debug_mode_flag):w
		beqw	Delete_Sprite_If_Not_In_Range
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_1B0C8:
		movew	0x10(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_1B0F0
		lea	(Player_2):w,%a1
		bsrs	sub_1B0F0
		lea	(Breathing_bubbles):w,%a1
		tstw	(Debug_mode_flag):w
		beqw	sub_1B0F0
		bsrs	sub_1B0F0
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_1B0F0:
		tstb	(%a2)+
		bnew	loc_1B182
		cmpw	0x10(%a1),%d1
		bhiw	locret_1B206
		moveb	#1,-1(%a2)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bltw	locret_1B206
		cmpw	%d3,%d4
		bgew	locret_1B206
		moveb	0x2C(%a0),%d0
		bpls	loc_1B132
		btst	#1,0x2A(%a1)
		bnew	locret_1B206

loc_1B132:
		movew	0x10(%a1),%d2
		subw	%d1,%d2
		bccs	loc_1B13C
		negw	%d2

loc_1B13C:
		cmpiw	#0x40,%d2
		bccw	locret_1B206
		btst	#0,4(%a0)
		bnes	loc_1B16A
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)
		btst	#3,%d0
		beqs	loc_1B16A
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_1B16A:
		andiw	#0x7FFF,0xA(%a1)
		btst	#5,%d0
		beqw	locret_1B206
		oriw	#0x8000,0xA(%a1)
		braw	locret_1B206
/*  --------------------------------------------------------------------------- */

loc_1B182:
		cmpw	0x10(%a1),%d1
		blsw	locret_1B206
		moveb	#0,-1(%a2)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bltw	locret_1B206
		cmpw	%d3,%d4
		bgew	locret_1B206
		moveb	0x2C(%a0),%d0
		bpls	loc_1B1BE
		btst	#1,0x2A(%a1)
		bnew	locret_1B206

loc_1B1BE:
		movew	0x10(%a1),%d2
		subw	%d1,%d2
		bccs	loc_1B1C8
		negw	%d2

loc_1B1C8:
		cmpiw	#0x40,%d2
		bccs	locret_1B206
		btst	#0,4(%a0)
		bnes	loc_1B1F4
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)
		btst	#4,%d0
		beqs	loc_1B1F4
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_1B1F4:
		andiw	#0x7FFF,0xA(%a1)
		btst	#6,%d0
		beqs	locret_1B206
		oriw	#0x8000,0xA(%a1)

locret_1B206:
		rts
/*  End of function sub_1B0F0 */

/*  --------------------------------------------------------------------------- */

loc_1B208:
		tstw	(Debug_placement_mode):w
		bnew	loc_1B224
		movew	0x14(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_1B25A
		lea	(Player_2):w,%a1
		bsrs	sub_1B25A

loc_1B224:
		tstw	(Debug_mode_flag):w
		beqw	Delete_Sprite_If_Not_In_Range
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_1B232:
		movew	0x14(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_1B25A
		lea	(Player_2):w,%a1
		bsrs	sub_1B25A
		lea	(Breathing_bubbles):w,%a1
		tstw	(Debug_mode_flag):w
		beqw	sub_1B25A
		bsrs	sub_1B25A
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_1B25A:
		tstb	(%a2)+
		bnew	loc_1B2EC
		cmpw	0x14(%a1),%d1
		bhiw	locret_1B370
		moveb	#1,-1(%a2)
		movew	0x10(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x10(%a1),%d4
		cmpw	%d2,%d4
		bltw	locret_1B370
		cmpw	%d3,%d4
		bgew	locret_1B370
		moveb	0x2C(%a0),%d0
		bpls	loc_1B29C
		btst	#1,0x2A(%a1)
		bnew	locret_1B370

loc_1B29C:
		movew	0x14(%a1),%d2
		subw	%d1,%d2
		bccs	loc_1B2A6
		negw	%d2

loc_1B2A6:
		cmpiw	#0x40,%d2
		bccw	locret_1B370
		btst	#0,4(%a0)
		bnes	loc_1B2D4
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)
		btst	#3,%d0
		beqs	loc_1B2D4
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_1B2D4:
		andiw	#0x7FFF,0xA(%a1)
		btst	#5,%d0
		beqw	locret_1B370
		oriw	#0x8000,0xA(%a1)
		braw	locret_1B370
/*  --------------------------------------------------------------------------- */

loc_1B2EC:
		cmpw	0x14(%a1),%d1
		blsw	locret_1B370
		moveb	#0,-1(%a2)
		movew	0x10(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x10(%a1),%d4
		cmpw	%d2,%d4
		bltw	locret_1B370
		cmpw	%d3,%d4
		bgew	locret_1B370
		moveb	0x2C(%a0),%d0
		bpls	loc_1B328
		btst	#1,0x2A(%a1)
		bnew	locret_1B370

loc_1B328:
		movew	0x14(%a1),%d2
		subw	%d1,%d2
		bccs	loc_1B332
		negw	%d2

loc_1B332:
		cmpiw	#0x40,%d2
		bccs	locret_1B370
		btst	#0,4(%a0)
		bnes	loc_1B35E
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)
		btst	#4,%d0
		beqs	loc_1B35E
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_1B35E:
		andiw	#0x7FFF,0xA(%a1)
		btst	#6,%d0
		beqs	locret_1B370
		oriw	#0x8000,0xA(%a1)

locret_1B370:
		rts
/*  End of function sub_1B25A */

/*  --------------------------------------------------------------------------- */
Map_PathSwap:	.include "General/Sprites/Level Misc/Map - Path Swap.S"
/*  --------------------------------------------------------------------------- */

Obj_Monitor:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	Monitor_Index(%pc,%d0.w),%d1
		jmp	Monitor_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
Monitor_Index:	.word Obj_MonitorInit-Monitor_Index
		.word Obj_MonitorMain-Monitor_Index
		.word Obj_MonitorBreak-Monitor_Index
		.word Obj_MonitorAnimate-Monitor_Index
		.word loc_1B504-Monitor_Index
/*  --------------------------------------------------------------------------- */

Obj_MonitorInit:
		addqb	#2,5(%a0)
		moveb	#0xF,0x1E(%a0)
		moveb	#0xF,0x1F(%a0)
		movel	#Map_Monitor,0xC(%a0)
		movew	#ArtTile_Monitors,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x180,8(%a0)
		moveb	#0xE,7(%a0)
		moveb	#0x10,6(%a0)
		movew	0x48(%a0),%d0
		beqs	loc_1B488
		moveaw	%d0,%a2
		btst	#0,(%a2)
		beqs	loc_1B488
		moveb	#8,5(%a0)
		moveb	#0xB,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1B488:
		moveb	#0x46,0x28(%a0)
		moveb	0x2C(%a0),0x20(%a0)
		tstw	(Competition_mode):w
		beqs	Obj_MonitorMain
		moveb	#9,0x20(%a0)

Obj_MonitorMain:
		moveb	0x3C(%a0),%d0
		beqs	loc_1B4C8
		bsrw	MoveSprite
		tstw	0x1A(%a0)
		bmis	loc_1B4C8
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bplw	loc_1B4C8
		addw	%d1,0x14(%a0)
		clrw	0x1A(%a0)
		clrb	0x3C(%a0)

loc_1B4C8:
		movew	#0x19,%d1
		movew	#0x10,%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObject_Monitor_SonicKnux
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObject_Monitor_Tails
		jsr	(Add_SpriteToCollisionResponseList):l

Obj_MonitorAnimate:
		lea	(Ani_Monitor):l,%a1
		bsrw	Animate_Sprite

loc_1B504:
		braw	Sprite_OnScreen_Test

/*  =============== S U B R O U T I N E ======================================= */


SolidObject_Monitor_SonicKnux:
		btst	%d6,0x2A(%a0)
		bnes	Monitor_ChkOverEdge
		cmpib	#2,0x20(%a1)
		bnew	SolidObject_cont
		rts
/*  End of function SolidObject_Monitor_SonicKnux */


/*  =============== S U B R O U T I N E ======================================= */


SolidObject_Monitor_Tails:
		btst	%d6,0x2A(%a0)
		bnes	Monitor_ChkOverEdge
		tstw	(Competition_mode):w
		beqw	SolidObject_cont
		cmpib	#2,0x20(%a1)
		bnew	SolidObject_cont
		rts
/*  --------------------------------------------------------------------------- */

Monitor_ChkOverEdge:
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1B550
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1B550
		cmpw	%d2,%d0
		bcss	Monitor_CharStandOn

loc_1B550:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

Monitor_CharStandOn:
		movew	%d4,%d2
		bsrw	MvSonicOnPtfm
		moveq	#0,%d4
		rts
/*  End of function SolidObject_Monitor_Tails */

/*  --------------------------------------------------------------------------- */

Obj_MonitorBreak:
		moveb	0x2A(%a0),%d0
		andib	#0x78,%d0
		beqs	loc_1B59E
		moveb	%d0,%d1
		andib	#0x28,%d1
		beqs	loc_1B58C
		andib	#0xD7,(Player_1+status):w
		orib	#2,(Player_1+status):w

loc_1B58C:
		andib	#0x50,%d0
		beqs	loc_1B59E
		andib	#0xD7,(Player_2+status):w
		orib	#2,(Player_2+status):w

loc_1B59E:
		clrb	0x2A(%a0)
		addqb	#2,5(%a0)
		moveb	#0,0x28(%a0)
		bsrw	Create_New_Sprite
		bnes	loc_1B5D0
		movel	#Obj_MonitorContents,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	0x20(%a0),0x20(%a1)
		movew	0x42(%a0),0x42(%a1)

loc_1B5D0:
		bsrw	Create_New_Sprite
		bnes	loc_1B5EC
		movel	#Obj_Explosion,(%a1)
		addqb	#2,5(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)

loc_1B5EC:
		movew	0x48(%a0),%d0
		beqs	loc_1B5F8
		moveaw	%d0,%a2
		bset	#0,(%a2)

loc_1B5F8:
		moveb	#0xA,0x20(%a0)
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

Obj_MonitorContents:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_1B610(%pc,%d0.w),%d1
		jmp	off_1B610(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_1B610:	.word loc_1B616-off_1B610
		.word loc_1B656-off_1B610
		.word loc_1B8E4-off_1B610
/*  --------------------------------------------------------------------------- */

loc_1B616:
		addqb	#2,5(%a0)
		movew	#make_art_tile(ArtTile_Monitors,0,1),0xA(%a0)
		moveb	#0x24,4(%a0)
		movew	#0x180,8(%a0)
		moveb	#8,7(%a0)
		movew	#-0x300,0x1A(%a0)
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x22(%a0)
		moveal	#Map_Monitor,%a1
		addb	%d0,%d0
		addaw	(%a1,%d0.w),%a1
		addqw	#2,%a1
		movel	%a1,0xC(%a0)

loc_1B656:
		bsrs	sub_1B65C
		braw	Draw_Sprite

/*  =============== S U B R O U T I N E ======================================= */


sub_1B65C:
		tstw	0x1A(%a0)
		bplw	loc_1B670
		bsrw	MoveSprite2
		addiw	#0x18,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1B670:
		addqb	#2,5(%a0)
		movew	#0x1D,0x24(%a0)
		moveaw	0x42(%a0),%a1
		lea	(Monitors_broken):w,%a2
		cmpaw	#Player_1,%a1
		beqs	loc_1B68C
		lea	(Monitors_broken_P2):w,%a2

loc_1B68C:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		addw	%d0,%d0
		movew	off_1B69C(%pc,%d0.w),%d0
		jmp	off_1B69C(%pc,%d0.w)
/*  End of function sub_1B65C */

/*  --------------------------------------------------------------------------- */
off_1B69C:	.word loc_1B6B0-off_1B69C
		.word Monitor_Give_1up-off_1B69C
		.word loc_1B6B0-off_1B69C
		.word Monitor_Give_Rings-off_1B69C
		.word Monitor_Give_Super_Sneakers-off_1B69C
		.word Monitor_Give_Fire_Shield-off_1B69C
		.word Monitor_Give_Lightning_Shield-off_1B69C
		.word Monitor_Give_Bubble_Shield-off_1B69C
		.word Monitor_Give_Invincibility-off_1B69C
		.word Monitor_Give_SuperSonic-off_1B69C
/*  --------------------------------------------------------------------------- */

loc_1B6B0:
		addqw	#1,(%a2)
		braw	sub_228EC
/*  --------------------------------------------------------------------------- */

Monitor_Give_1up:
		addqw	#1,(Monitors_broken):w
		addqb	#1,(Life_count):w
		addqb	#1,(Update_HUD_life_count):w
		moveq	#mus_ExtraLife,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

Monitor_Give_Rings:
		addqw	#1,(%a2)
		lea	(Ring_count):w,%a2
		lea	(Update_HUD_ring_count):w,%a3
		lea	(Extra_life_flags):w,%a4
		lea	(Total_ring_count):w,%a5
		addiw	#0xA,(%a5)
		cmpiw	#0x3E7,(%a5)
		bcss	loc_1B6EA
		movew	#0x3E7,(%a5)

loc_1B6EA:
		addiw	#0xA,(%a2)
		cmpiw	#0x3E7,(%a2)
		bcss	loc_1B6F8
		movew	#0x3E7,(%a2)

loc_1B6F8:
		orib	#1,(%a3)
		cmpiw	#0x64,(%a2)
		bcss	loc_1B714
		bset	#1,(%a4)
		beqs	loc_1B71C
		cmpiw	#0xC8,(%a2)
		bcss	loc_1B714
		bset	#2,(%a4)
		beqs	loc_1B71C

loc_1B714:
		moveq	#sfx_RingRight,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_1B71C:
		cmpaw	#Player_1,%a1
		beqw	Monitor_Give_1up
		braw	loc_1B6B0
/*  --------------------------------------------------------------------------- */

Monitor_Give_Super_Sneakers:
		addqw	#1,(%a2)
		bset	#2,0x2B(%a1)
		moveb	#0x96,0x36(%a1)
		cmpaw	#Player_1,%a1
		bnes	loc_1B758
		cmpiw	#2,(Player_mode):w
		beqs	loc_1B758
		movew	#0xC00,(Max_%speed):w
		movew	#0x18,(Acceleration):w
		movew	#0x80,(Deceleration):w
		bras	loc_1B76A
/*  --------------------------------------------------------------------------- */

loc_1B758:
		movew	#0xC00,(Max_%speed_P2):w
		movew	#0x18,(Acceleration_P2):w
		movew	#0x80,(Deceleration_P2):w

loc_1B76A:
		moveq	#8,%d0
		jmp	(Change_Music_Tempo):l
/*  --------------------------------------------------------------------------- */

Monitor_Give_Fire_Shield:
		addqw	#1,(%a2)
		andib	#0x8E,0x2B(%a1)
		bset	#0,0x2B(%a1)
		bset	#4,0x2B(%a1)
		moveq	#sfx_FireShield,%d0
		jsr	(Play_Sound):l
		tstb	0x43(%a0)
		bnes	loc_1B7A2
		movel	#Obj_Fire_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1B7A2:
		movel	#Obj_Fire_Shield,(Shield_P2):w
		movew	%a1,(Shield_P2+parent):w
		rts
/*  --------------------------------------------------------------------------- */

Monitor_Give_Lightning_Shield:
		addqw	#1,(%a2)
		andib	#0x8E,0x2B(%a1)
		bset	#0,0x2B(%a1)
		bset	#5,0x2B(%a1)
		moveq	#sfx_ElectricShield,%d0
		jsr	(Play_Sound):l
		tstb	0x43(%a0)
		bnes	loc_1B7E0
		movel	#Obj_Lightning_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1B7E0:
		movel	#Obj_Lightning_Shield,(Shield_P2):w
		movew	%a1,(Shield_P2+parent):w
		rts
/*  --------------------------------------------------------------------------- */

Monitor_Give_Bubble_Shield:
		addqw	#1,(%a2)
		andib	#0x8E,0x2B(%a1)
		bset	#0,0x2B(%a1)
		bset	#6,0x2B(%a1)
		moveq	#sfx_BubbleShield,%d0
		jsr	(Play_Sound):l
		tstb	0x43(%a0)
		bnes	loc_1B81E
		movel	#Obj_Bubble_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1B81E:
		movel	#Obj_Bubble_Shield,(Shield_P2):w
		movew	%a1,(Shield_P2+parent):w
		rts
/*  --------------------------------------------------------------------------- */

Monitor_Give_Invincibility:
		addqw	#1,(%a2)
		tstb	(Super_Sonic_Knux_flag):w
		bnes	locret_1B876
		bset	#1,0x2B(%a1)
		moveb	#0x96,0x35(%a1)
		tstb	(Boss_flag):w
		bnes	loc_1B856
		cmpib	#0xC,0x2C(%a1)
		blss	loc_1B856
		moveq	#mus_Invincibility,%d0
		jsr	(Play_Sound):l

loc_1B856:
		tstb	0x43(%a0)
		bnes	loc_1B86A
		movel	#Obj_Invincibility,(Invincibility_stars):w
		movew	%a1,(Invincibility_stars+parent):w
		rts
/*  --------------------------------------------------------------------------- */

loc_1B86A:
		movel	#Obj_Invincibility,(Invincibility_stars_P2):w
		movew	%a1,(Invincibility_stars_P2+parent):w

locret_1B876:
		rts
/*  --------------------------------------------------------------------------- */

Monitor_Give_SuperSonic:
		addqw	#1,(%a2)
		addiw	#50,(Ring_count):w
		moveb	#1,(Super_palette_status):w
		moveb	#0xF,(Palette_timer):w
		moveb	#1,(Super_Sonic_Knux_flag):w
		movew	#60,(Super_frame_count):w
		movel	#Map_SuperSonic,(Player_1+mappings):w
		moveb	#0x81,(Player_1+object_control):w
		moveb	#0x1F,(Player_1+anim):w
		movel	#Obj_SuperSonic_Stars,(Super_stars):w
		movew	#0xA00,(Max_%speed):w
		movew	#0x30,(Acceleration):w
		movew	#0x100,(Deceleration):w
		moveb	#0,(Player_1+invincibility_timer):w
		bset	#1,0x2B(%a1)
		moveq	#sfx_SuperAlt,%d0
		jsr	(Play_Sound_2):l
		moveq	#mus_Invincibility,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

loc_1B8E4:
		subqw	#1,0x24(%a0)
		bmiw	Delete_Current_Sprite
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */
Ani_Monitor:	.include "General/Sprites/Monitors/Anim - Monitor.S"
Map_Monitor:	.include "General/Sprites/Monitors/Map - Monitor S3.S"

/*  =============== S U B R O U T I N E ======================================= */


SolidObjectFull:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1BA2A
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		tstb	4(%a1)
		bplw	locret_1BA6A
		addqb	#1,%d6
/*  End of function SolidObjectFull */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BA2A:
		btst	%d6,0x2A(%a0)
		beqw	loc_1BD3E
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1BA4E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BA4E
		cmpw	%d2,%d0
		bcss	loc_1BA62

loc_1BA4E:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BA62:
		movew	%d4,%d2
		bsrw	MvSonicOnPtfm
		moveq	#0,%d4

locret_1BA6A:
		rts
/*  End of function sub_1BA2A */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjectFull2:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	SolidObjectFull2_1P
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function SolidObjectFull2 */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjectFull2_1P:
		btst	%d6,0x2A(%a0)
		beqw	SolidObject_cont
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1BAA6
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BAA6
		cmpw	%d2,%d0
		bcss	loc_1BABA

loc_1BAA6:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BABA:
		movew	%d4,%d2
		bsrw	MvSonicOnPtfm
		moveq	#0,%d4
		rts
/*  End of function SolidObjectFull2_1P */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BAC4:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1BADA
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function sub_1BAC4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BADA:
		btst	%d6,0x2A(%a0)
		beqw	loc_1BC84
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1BAFE
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BAFE
		cmpw	%d2,%d0
		bcss	loc_1BB12

loc_1BAFE:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BB12:
		movew	%d4,%d2
		bsrw	SolidObjSloped2
		movew	%d6,%d4
		addib	#0x11,%d4
		bset	%d4,%d6
		moveq	#0,%d4
		rts
/*  End of function sub_1BADA */

/*  --------------------------------------------------------------------------- */
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1BB3A
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6

/*  =============== S U B R O U T I N E ======================================= */


sub_1BB3A:
		btst	%d6,0x2A(%a0)
		beqw	loc_1BCDE
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1BB5E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BB5E
		cmpw	%d2,%d0
		bcss	loc_1BB72

loc_1BB5E:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BB72:
		movew	%d4,%d2
		bsrw	SolidObjSloped4
		moveq	#0,%d4
		rts
/*  End of function sub_1BB3A */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BB7C:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1BB92
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function sub_1BB7C */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BB92:
		btst	%d6,0x2A(%a0)
		beqw	loc_1BC84
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1BBB6
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BBB6
		cmpw	%d2,%d0
		bcss	loc_1BBC4

loc_1BBB6:
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BBC4:
		movew	%d4,%d2
		bsrw	SolidObjSloped2
		movew	%d6,%d4
		addib	#0x11,%d4
		bset	%d4,%d6
		moveq	#0,%d4
		rts
/*  End of function sub_1BB92 */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjectFull_Offset:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1BBEC
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function SolidObjectFull_Offset */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BBEC:
		btst	%d6,0x2A(%a0)
		beqw	loc_1BC42
		btst	#1,0x2A(%a1)
		bnes	loc_1BC0E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BC0E
		addw	%d1,%d1
		cmpw	%d1,%d0
		bcss	loc_1BC22

loc_1BC0E:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BC22:
		movew	0x14(%a0),%d0
		subw	%d2,%d0
		addw	%d3,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		subw	0x10(%a0),%d4
		subw	%d4,0x10(%a1)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BC42:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmiw	loc_1BE2E
		movew	%d1,%d4
		addw	%d4,%d4
		cmpw	%d4,%d0
		bhiw	loc_1BE2E
		movew	0x14(%a0),%d5
		addw	%d3,%d5
		moveb	0x1E(%a1),%d3
		extw	%d3
		addw	%d3,%d2
		movew	0x14(%a1),%d3
		subw	%d5,%d3
		addqw	#4,%d3
		addw	%d2,%d3
		bmiw	loc_1BE2E
		movew	%d2,%d4
		addw	%d4,%d4
		cmpw	%d4,%d3
		bccw	loc_1BE2E
		braw	loc_1BD8A
/*  --------------------------------------------------------------------------- */

loc_1BC84:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmiw	loc_1BE2E
		movew	%d1,%d3
		addw	%d3,%d3
		cmpw	%d3,%d0
		bhiw	loc_1BE2E
		movew	%d0,%d5
		btst	#0,4(%a0)
		beqs	loc_1BCAA
		notw	%d5
		addw	%d3,%d5

loc_1BCAA:
		lsrw	#1,%d5
		moveb	(%a2,%d5.w),%d3
		subb	(%a2),%d3
		extw	%d3
		movew	0x14(%a0),%d5
		subw	%d3,%d5
		moveb	0x1E(%a1),%d3
		extw	%d3
		addw	%d3,%d2
		movew	0x14(%a1),%d3
		subw	%d5,%d3
		addqw	#4,%d3
		addw	%d2,%d3
		bmiw	loc_1BE2E
		movew	%d2,%d4
		addw	%d4,%d4
		cmpw	%d4,%d3
		bccw	loc_1BE2E
		braw	loc_1BD8A
/*  --------------------------------------------------------------------------- */

loc_1BCDE:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmiw	loc_1BE2E
		movew	%d1,%d3
		addw	%d3,%d3
		cmpw	%d3,%d0
		bhiw	loc_1BE2E
		movew	%d0,%d5
		btst	#0,4(%a0)
		beqs	loc_1BD04
		notw	%d5
		addw	%d3,%d5

loc_1BD04:
		andiw	#-2,%d5
		moveb	(%a2,%d5.w),%d3
		moveb	1(%a2,%d5.w),%d2
		extw	%d2
		extw	%d3
		movew	0x14(%a0),%d5
		subw	%d3,%d5
		movew	0x14(%a1),%d3
		subw	%d5,%d3
		moveb	0x1E(%a1),%d5
		extw	%d5
		addw	%d5,%d3
		addqw	#4,%d3
		bmiw	loc_1BE2E
		addw	%d5,%d2
		movew	%d2,%d4
		addw	%d5,%d4
		cmpw	%d4,%d3
		bccw	loc_1BE2E
		braw	loc_1BD8A
/*  --------------------------------------------------------------------------- */

loc_1BD3E:
		tstb	4(%a0)
		bplw	loc_1BE2E

SolidObject_cont:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmiw	loc_1BE2E
		movew	%d1,%d3
		addw	%d3,%d3
		cmpw	%d3,%d0
		bhiw	loc_1BE2E
		moveb	0x44(%a1),%d4
		extw	%d4
		addw	%d2,%d4
		moveb	0x1E(%a1),%d3
		extw	%d3
		addw	%d3,%d2
		movew	0x14(%a1),%d3
		subw	0x14(%a0),%d3
		addqw	#4,%d3
		addw	%d2,%d3
		bmiw	loc_1BE2E
		andiw	#0xFFF,%d3
		addw	%d2,%d4
		cmpw	%d4,%d3
		bccw	loc_1BE2E

loc_1BD8A:
		tstb	0x2E(%a1)
		bmiw	loc_1BE2E
		cmpib	#6,5(%a1)
		bccw	loc_1BE54
		tstw	(Debug_placement_mode):w
		bnew	loc_1BE54
		movew	%d0,%d5
		cmpw	%d0,%d1
		bccs	loc_1BDB2
		addw	%d1,%d1
		subw	%d1,%d0
		movew	%d0,%d5
		negw	%d5

loc_1BDB2:
		movew	%d3,%d1
		cmpw	%d3,%d2
		bccs	loc_1BDC0
		subqw	#4,%d3
		subw	%d4,%d3
		movew	%d3,%d1
		negw	%d1

loc_1BDC0:
		cmpw	%d1,%d5
		bhiw	loc_1BE58

loc_1BDC6:
		cmpiw	#4,%d1
		blsw	loc_1BE58
		tstw	%d0
		beqs	loc_1BDFA
		bmis	loc_1BDDC
		tstw	0x18(%a1)
		bmis	loc_1BDFA
		bras	loc_1BDE2
/*  --------------------------------------------------------------------------- */

loc_1BDDC:
		tstw	0x18(%a1)
		bpls	loc_1BDFA

loc_1BDE2:
		movew	#0,0x1C(%a1)
		movew	#0,0x18(%a1)
		tstb	0x37(%a1)
		bpls	loc_1BDFA
		bset	#6,0x37(%a1)

loc_1BDFA:
		subw	%d0,0x10(%a1)
		btst	#1,0x2A(%a1)
		bnes	loc_1BE20
		movel	%d6,%d4
		addqb	#2,%d4
		bset	%d4,0x2A(%a0)
		bset	#5,0x2A(%a1)
		movew	%d6,%d4
		addib	#0xD,%d4
		bset	%d4,%d6
		moveq	#1,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BE20:
		bsrs	sub_1BE46
		movew	%d6,%d4
		addib	#0xD,%d4
		bset	%d4,%d6
		moveq	#1,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BE2E:
		movel	%d6,%d4
		addqb	#2,%d4
		btst	%d4,0x2A(%a0)
		beqs	loc_1BE54
		cmpib	#2,0x20(%a1)
		beqs	sub_1BE46
		movew	#1,0x20(%a1)
/*  End of function sub_1BBEC */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BE46:
		movel	%d6,%d4
		addqb	#2,%d4
		bclr	%d4,0x2A(%a0)
		bclr	#5,0x2A(%a1)

loc_1BE54:
		moveq	#0,%d4
		rts
/*  End of function sub_1BE46 */

/*  --------------------------------------------------------------------------- */

loc_1BE58:
		tstw	%d3
		bmis	loc_1BE64
		cmpiw	#0x10,%d3
		bcss	loc_1BED0
		bras	loc_1BE2E
/*  --------------------------------------------------------------------------- */

loc_1BE64:
		btst	#1,0x2A(%a1)
		bnes	loc_1BE7A
		tstw	0x1A(%a1)
		beqs	loc_1BEA2
		bpls	loc_1BE8A
		tstw	%d3
		bpls	loc_1BE8A
		bras	loc_1BE80
/*  --------------------------------------------------------------------------- */

loc_1BE7A:
		movew	#0,0x1C(%a1)

loc_1BE80:
		subw	%d3,0x14(%a1)
		movew	#0,0x1A(%a1)

loc_1BE8A:
		tstb	0x37(%a1)
		bpls	loc_1BE96
		bset	#5,0x37(%a1)

loc_1BE96:
		movew	%d6,%d4
		addib	#0xF,%d4
		bset	%d4,%d6
		moveq	#-2,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BEA2:
		btst	#1,0x2A(%a1)
		bnes	loc_1BE8A
		movew	%d0,%d4
		bpls	loc_1BEB0
		negw	%d4

loc_1BEB0:
		cmpiw	#0x10,%d4
		bcsw	loc_1BDC6
		movel	%a0,-(%sp)
		moveal	%a1,%a0
		jsr	(Kill_Character):l
		moveal	(%sp)+,%a0
		movew	%d6,%d4
		addib	#0xF,%d4
		bset	%d4,%d6
		moveq	#-2,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BED0:
		subqw	#4,%d3
		moveq	#0,%d1
		moveb	7(%a0),%d1
		movew	%d1,%d2
		addw	%d2,%d2
		addw	0x10(%a1),%d1
		subw	0x10(%a0),%d1
		bmis	loc_1BF08
		cmpw	%d2,%d1
		bccs	loc_1BF08
		subw	%d3,0x14(%a1)
		subqw	#1,0x14(%a1)
		tstw	0x1A(%a1)
		bmis	loc_1BF08
		bsrw	RideObject_SetRide
		movew	%d6,%d4
		addib	#0x11,%d4
		bset	%d4,%d6
		moveq	#-1,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BF08:
		moveq	#0,%d4
		rts

/*  =============== S U B R O U T I N E ======================================= */


MvSonicOnPtfm:
		movew	0x14(%a0),%d0
		subw	%d3,%d0
		bras	loc_1BF1C
/*  --------------------------------------------------------------------------- */
		movew	0x14(%a0),%d0
		subiw	#9,%d0

loc_1BF1C:
		tstb	0x2E(%a1)
		bmis	locret_1BF44
		cmpib	#6,5(%a1)
		bccs	locret_1BF44
		tstw	(Debug_placement_mode):w
		bnes	locret_1BF44
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		subw	0x10(%a0),%d2
		subw	%d2,0x10(%a1)

locret_1BF44:
		rts
/*  End of function MvSonicOnPtfm */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjSloped2:
		btst	#3,0x2A(%a1)
		beqs	locret_1BF86
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		lsrw	#1,%d0
		btst	#0,4(%a0)
		beqs	loc_1BF66
		notw	%d0
		addw	%d1,%d0

loc_1BF66:
		moveb	(%a2,%d0.w),%d1
		extw	%d1
		movew	0x14(%a0),%d0
		subw	%d1,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		subw	0x10(%a0),%d2
		subw	%d2,0x10(%a1)

locret_1BF86:
		rts
/*  End of function SolidObjSloped2 */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjSloped4:
		btst	#3,0x2A(%a1)
		beqs	locret_1BF86
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		btst	#0,4(%a0)
		beqs	loc_1BFA6
		notw	%d0
		addw	%d1,%d0

loc_1BFA6:
		andiw	#-2,%d0
		bras	loc_1BF66
/*  End of function SolidObjSloped4 */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjectTop:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1BFC2
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function SolidObjectTop */


/*  =============== S U B R O U T I N E ======================================= */


sub_1BFC2:
		btst	%d6,0x2A(%a0)
		beqw	loc_1C0DC
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1BFE6
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1BFE6
		cmpw	%d2,%d0
		bcss	loc_1BFFA

loc_1BFE6:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1BFFA:
		movew	%d4,%d2
		bsrw	MvSonicOnPtfm
		moveq	#0,%d4
		rts
/*  End of function sub_1BFC2 */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjectTopSloped2:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1C01A
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function SolidObjectTopSloped2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1C01A:
		btst	%d6,0x2A(%a0)
		beqw	SolidObjCheckSloped2
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1C03E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1C03E
		cmpw	%d2,%d0
		bcss	loc_1C052

loc_1C03E:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1C052:
		movew	%d4,%d2
		bsrw	SolidObjSloped2
		moveq	#0,%d4
		rts
/*  End of function sub_1C01A */


/*  =============== S U B R O U T I N E ======================================= */


SolidObjectTopSloped:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_1C072
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function SolidObjectTopSloped */


/*  =============== S U B R O U T I N E ======================================= */


sub_1C072:
		btst	%d6,0x2A(%a0)
		bnes	loc_1C084
		btst	#3,0x2A(%a1)
		bnes	loc_1C0B0
		braw	loc_1C0DC
/*  --------------------------------------------------------------------------- */

loc_1C084:
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1C0A0
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1C0A0
		cmpw	%d2,%d0
		bcss	loc_1C0B4

loc_1C0A0:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)

loc_1C0B0:
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_1C0B4:
		movew	%d4,%d2
		bsrw	MvSonicOnPtfm
		moveq	#0,%d4
		rts
/*  End of function sub_1C072 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1C0BE:
		tstw	0x1A(%a1)
		bmiw	locret_1C17A
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmiw	locret_1C17A
		cmpw	%d2,%d0
		bccw	locret_1C17A
		bras	loc_1C0FA
/*  --------------------------------------------------------------------------- */

loc_1C0DC:
		tstw	0x1A(%a1)
		bmiw	locret_1C17A
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmiw	locret_1C17A
		addw	%d1,%d1
		cmpw	%d1,%d0
		bccw	locret_1C17A

loc_1C0FA:
		movew	0x14(%a0),%d0
		subw	%d3,%d0

loc_1C100:
		movew	0x14(%a1),%d2
		moveb	0x1E(%a1),%d1
		extw	%d1
		addw	%d2,%d1
		addqw	#4,%d1
		subw	%d1,%d0
		bhiw	locret_1C17A
		cmpiw	#-0x10,%d0
		bcsw	locret_1C17A
		tstb	0x2E(%a1)
		bmiw	locret_1C17A
		cmpib	#6,5(%a1)
		bccw	locret_1C17A
		addw	%d0,%d2
		addqw	#3,%d2
		movew	%d2,0x14(%a1)
/*  End of function sub_1C0BE */


/*  =============== S U B R O U T I N E ======================================= */


RideObject_SetRide:
		btst	#3,0x2A(%a1)
		beqs	loc_1C146
		moveaw	0x42(%a1),%a3
		bclr	%d6,0x2A(%a3)

loc_1C146:
		movew	%a0,0x42(%a1)
		moveb	#0,0x26(%a1)
		movew	#0,0x1A(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bset	#3,0x2A(%a1)
		bset	%d6,0x2A(%a0)
		bclr	#1,0x2A(%a1)
		beqs	locret_1C17A
		movel	%a0,-(%sp)
		moveal	%a1,%a0
		jsr	(Player_TouchFloor):l
		moveal	(%sp)+,%a0

locret_1C17A:
		rts
/*  End of function RideObject_SetRide */

/*  --------------------------------------------------------------------------- */

SolidObjCheckSloped2:
		tstw	0x1A(%a1)
		bmiw	locret_1C17A
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	locret_1C17A
		addw	%d1,%d1
		cmpw	%d1,%d0
		bccs	locret_1C17A
		btst	#0,4(%a0)
		beqs	loc_1C1A2
		notw	%d0
		addw	%d1,%d0

loc_1C1A2:
		lsrw	#1,%d0
		moveb	(%a2,%d0.w),%d3
		extw	%d3
		movew	0x14(%a0),%d0
		subw	%d3,%d0
		braw	loc_1C100

/*  =============== S U B R O U T I N E ======================================= */


CheckPlayerReleaseFromObj:
		lea	(Player_1):w,%a1
		btst	#3,0x2A(%a0)
		beqs	loc_1C1E2
		jsr	(SonicOnObjHitFloor):l
		tstw	%d1
		beqs	loc_1C1CC
		bpls	loc_1C1E2

loc_1C1CC:
		lea	(Player_1):w,%a1
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a0)

loc_1C1E2:
		lea	(Player_2):w,%a1
		btst	#4,0x2A(%a0)
		beqs	loc_1C210
		jsr	(SonicOnObjHitFloor):l
		tstw	%d1
		beqs	loc_1C1FA
		bpls	loc_1C210

loc_1C1FA:
		lea	(Player_2):w,%a1
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a0)

loc_1C210:
		moveq	#0,%d4
		rts
/*  End of function CheckPlayerReleaseFromObj */

/*  --------------------------------------------------------------------------- */

Obj_Explosion:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_1C222(%pc,%d0.w),%d1
		jmp	off_1C222(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_1C222:	.word loc_1C228-off_1C222
		.word loc_1C24C-off_1C222
		.word loc_1C2A0-off_1C222
/*  --------------------------------------------------------------------------- */

loc_1C228:
		addqb	#2,5(%a0)
		jsr	(Create_New_Sprite):l
		bnes	loc_1C24C
		movel	#Obj_Animal,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0x3E(%a0),0x3E(%a1)

loc_1C24C:
		addqb	#2,5(%a0)
		movel	#Map_Explosion,0xC(%a0)
		movew	0xA(%a0),%d0
		andiw	#0x8000,%d0
		oriw	#0x5A0,%d0
		movew	%d0,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0,0x28(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#3,0x24(%a0)
		moveb	#0,0x22(%a0)
		moveq	#sfx_Break,%d0
		jsr	(Play_Sound_2):l
		movel	#loc_1C2A0,(%a0)

loc_1C2A0:
		subqb	#1,0x24(%a0)
		bpls	loc_1C2BA
		moveb	#7,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#5,0x22(%a0)
		beqw	Delete_Current_Sprite

loc_1C2BA:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_FireShield_Dissipate:
		movel	#Map_Explosion,0xC(%a0)
		movew	#0x5A0,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#3,0x24(%a0)
		moveb	#1,0x22(%a0)
		movel	#loc_1C2F8,(%a0)

loc_1C2F8:
		jsr	(MoveSprite2):l
		subqb	#1,0x24(%a0)
		bpls	loc_1C318
		moveb	#3,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#5,0x22(%a0)
		beqw	Delete_Current_Sprite

loc_1C318:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1C31E:
		movel	#Map_Explosion,0xC(%a0)
		movew	#0x85A0,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x100,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#0,0x22(%a0)
		movel	#loc_1C350,(%a0)

loc_1C350:
		subqb	#1,0x24(%a0)
		bmis	loc_1C358
		rts
/*  --------------------------------------------------------------------------- */

loc_1C358:
		moveb	#3,0x24(%a0)
		movel	#loc_1C364,(%a0)

loc_1C364:
		jsr	(MoveSprite2):l
		subqb	#1,0x24(%a0)
		bpls	loc_1C384
		moveb	#7,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#5,0x22(%a0)
		beqw	Delete_Current_Sprite

loc_1C384:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_Explosion:	.include "General/Sprites/Enemy Misc/Map - Explosion S3.S"
/*  --------------------------------------------------------------------------- */

Obj_09_1:
		movel	#Map_AIZ1Tree,0xC(%a0)
		movew	#0x180,8(%a0)
		moveb	#8,7(%a0)
		moveb	#4,4(%a0)
		movew	#0x4001,0xA(%a0)
		movel	#loc_1C3E2,(%a0)

loc_1C3E2:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_AIZ1Tree:	.include "Levels/AIZ/Misc Object Data/Map - Act 1 Tree.S"
/*  --------------------------------------------------------------------------- */

Obj_0A_1:
		movel	#Map_AIZ1ZiplinePeg,0xC(%a0)
		movew	#0x380,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#4,4(%a0)
		movew	#0x4324,0xA(%a0)
		movel	#loc_1C424,(%a0)

loc_1C424:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_AIZ1ZiplinePeg:
		.include "Levels/AIZ/Misc Object Data/Map - Act 1 Zipline Peg.S"
/*  --------------------------------------------------------------------------- */

Obj_26:
		movel	#Map_PathSwap,0xC(%a0)
		movew	#ArtTile_Ring,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x80,7(%a0)
		moveb	#0x80,6(%a0)
		movew	#0x280,8(%a0)
		moveb	0x2C(%a0),%d0
		btst	#2,%d0
		beqs	loc_1C4BA
		andiw	#7,%d0
		moveb	%d0,0x22(%a0)
		andiw	#3,%d0
		addw	%d0,%d0
		movew	word_1C4B2(%pc,%d0.w),0x32(%a0)
		movew	0x14(%a0),%d1
		lea	(Player_1):w,%a1
		cmpw	0x14(%a1),%d1
		bccs	loc_1C498
		moveb	#1,0x34(%a0)

loc_1C498:
		lea	(Player_2):w,%a1
		cmpw	0x14(%a1),%d1
		bccs	loc_1C4A8
		moveb	#1,0x35(%a0)

loc_1C4A8:
		movel	#loc_1C5FA,(%a0)
		braw	loc_1C5FA
/*  --------------------------------------------------------------------------- */
word_1C4B2:	.word 0x20
		.word 0x40
		.word 0x80
		.word 0x100
/*  --------------------------------------------------------------------------- */

loc_1C4BA:
		andiw	#3,%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		movew	word_1C4B2(%pc,%d0.w),0x32(%a0)
		movew	0x10(%a0),%d1
		lea	(Player_1):w,%a1
		cmpw	0x10(%a1),%d1
		bccs	loc_1C4DE
		moveb	#1,0x34(%a0)

loc_1C4DE:
		lea	(Player_2):w,%a1
		cmpw	0x10(%a1),%d1
		bccs	loc_1C4EE
		moveb	#1,0x35(%a0)

loc_1C4EE:
		movel	#loc_1C4F4,(%a0)

loc_1C4F4:
		tstw	(Debug_placement_mode):w
		bnew	loc_1C5BC
		movew	0x10(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_1C518
		lea	(Player_2):w,%a1
		cmpiw	#4,(Tails_CPU_routine):w
		beqw	loc_1C5BC

/*  =============== S U B R O U T I N E ======================================= */


sub_1C518:
		tstb	(%a2)+
		bnes	loc_1C56E
		cmpw	0x10(%a1),%d1
		bhiw	loc_1C5BC
		moveb	#1,-1(%a2)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bcss	loc_1C5BC
		cmpw	%d3,%d4
		bccs	loc_1C5BC
		btst	#0,4(%a0)
		bnes	loc_1C566
		movew	#0x580,0x1C(%a1)
		moveb	#1,0x3D(%a1)
		tstb	0x2C(%a0)
		bpls	loc_1C564
		moveb	#0x81,0x3D(%a1)

loc_1C564:
		bras	loc_1C5CA
/*  --------------------------------------------------------------------------- */

loc_1C566:
		moveb	#0,0x3D(%a1)
		bras	loc_1C5BC
/*  --------------------------------------------------------------------------- */

loc_1C56E:
		cmpw	0x10(%a1),%d1
		blss	loc_1C5BC
		moveb	#0,-1(%a2)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bcss	loc_1C5BC
		cmpw	%d3,%d4
		bccs	loc_1C5BC
		btst	#0,4(%a0)
		beqs	loc_1C5B6
		movew	#-0x580,0x1C(%a1)
		moveb	#1,0x3D(%a1)
		tstb	0x2C(%a0)
		bpls	loc_1C5B4
		moveb	#0x81,0x3D(%a1)

loc_1C5B4:
		bras	loc_1C5CA
/*  --------------------------------------------------------------------------- */

loc_1C5B6:
		moveb	#0,0x3D(%a1)

loc_1C5BC:
		tstw	(Debug_mode_flag):w
		beqw	Delete_Sprite_If_Not_In_Range
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_1C5CA:
		btst	#2,0x2A(%a1)
		beqs	loc_1C5D4
		rts
/*  --------------------------------------------------------------------------- */

loc_1C5D4:
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		addqw	#5,0x14(%a1)
		moveq	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		rts
/*  End of function sub_1C518 */

/*  --------------------------------------------------------------------------- */

loc_1C5FA:
		tstw	(Debug_placement_mode):w
		bnew	loc_1C6F2
		movew	0x14(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_1C61E
		lea	(Player_2):w,%a1
		cmpiw	#4,(Tails_CPU_routine):w
		beqw	loc_1C6F2

/*  =============== S U B R O U T I N E ======================================= */


sub_1C61E:
		tstb	(%a2)+
		bnes	loc_1C694
		cmpw	0x14(%a1),%d1
		bhiw	loc_1C6F2
		moveb	#1,-1(%a2)
		movew	0x10(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x10(%a1),%d4
		cmpw	%d2,%d4
		bcsw	loc_1C6F2
		cmpw	%d3,%d4
		bccw	loc_1C6F2
		btst	#0,4(%a0)
		bnes	loc_1C68C
		moveb	#1,0x3D(%a1)
		tstb	0x2C(%a0)
		bpls	loc_1C668
		moveb	#0x81,0x3D(%a1)

loc_1C668:
		btst	#6,0x2C(%a0)
		beqs	loc_1C688
		bclr	#1,0x2A(%a1)
		moveb	#0x40,0x26(%a1)
		movew	0x1A(%a1),0x1C(%a1)
		movew	#0,0x18(%a1)

loc_1C688:
		braw	loc_1C5CA
/*  --------------------------------------------------------------------------- */

loc_1C68C:
		moveb	#0,0x3D(%a1)
		bras	loc_1C6F2
/*  --------------------------------------------------------------------------- */

loc_1C694:
		cmpw	0x14(%a1),%d1
		blss	loc_1C6F2
		moveb	#0,-1(%a2)
		movew	0x10(%a0),%d2
		movew	%d2,%d3
		movew	0x32(%a0),%d4
		subw	%d4,%d2
		addw	%d4,%d3
		movew	0x10(%a1),%d4
		cmpw	%d2,%d4
		bcss	loc_1C6F2
		cmpw	%d3,%d4
		bccs	loc_1C6F2
		btst	#0,4(%a0)
		beqs	loc_1C6EC
		moveb	#1,0x3D(%a1)
		tstb	0x2C(%a0)
		bpls	loc_1C6D4
		moveb	#0x81,0x3D(%a1)

loc_1C6D4:
		btst	#6,0x2C(%a0)
		beqs	loc_1C6E8
		bclr	#1,0x2A(%a1)
		moveb	#0x40,0x26(%a1)

loc_1C6E8:
		braw	loc_1C5CA
/*  --------------------------------------------------------------------------- */

loc_1C6EC:
		moveb	#0,0x3D(%a1)

loc_1C6F2:
		tstw	(Debug_mode_flag):w
		beqw	Delete_Sprite_If_Not_In_Range
		jmp	(Sprite_OnScreen_Test):l
/*  End of function sub_1C61E */

/*  --------------------------------------------------------------------------- */
byte_1C700:	.byte 0x96
		.byte 0x94
		.byte 0x95
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_27:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	byte_1C700(%pc,%d0.w),0x28(%a0)
		movel	#Map_Obj27,0xC(%a0)
		tstw	(Debug_placement_mode):w
		beqs	loc_1C726
		movel	#Map_Obj27_2,0xC(%a0)

loc_1C726:
		movew	#make_art_tile(ArtTile_Ring,0,1),0xA(%a0)
		moveb	#0x84,4(%a0)
		moveb	#0x80,7(%a0)
		moveb	#0x80,6(%a0)
		movew	#0x200,8(%a0)
		moveb	0x2C(%a0),0x22(%a0)
		movel	#loc_1C750,(%a0)

loc_1C750:
		tstw	(Competition_mode):w
		bnes	loc_1C76A
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778

loc_1C76A:
		tstw	(Debug_placement_mode):w
		beqs	locret_1C776
		jsr	(Draw_Sprite):l

locret_1C776:
		rts
/*  --------------------------------------------------------------------------- */

loc_1C778:
		movew	0x48(%a0),%d0
		beqs	loc_1C784
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_1C784:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_Obj27:	.include "General/Sprites/Unused/Map - Obj27 Unused.S"
Map_Obj27_2:	.include "General/Sprites/Unused/Map - Obj27 Unused 2.S"
/*  --------------------------------------------------------------------------- */

Obj_28_Invisible_Barrier:
		movel	#Map_InvisibleBlock,0xC(%a0)
		movew	#make_art_tile(ArtTile_Ring,0,1),0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF0,%d0
		addiw	#0x10,%d0
		lsrw	#1,%d0
		moveb	%d0,7(%a0)
		andiw	#0xF,%d1
		addqw	#1,%d1
		lslw	#3,%d1
		moveb	%d1,6(%a0)
		tstw	(Competition_mode):w
		beqs	loc_1C82E
		movel	#loc_1C872,(%a0)
		bras	loc_1C872
/*  --------------------------------------------------------------------------- */

loc_1C82E:
		movel	#loc_1C834,(%a0)

loc_1C834:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1C870
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1C870:
		rts
/*  --------------------------------------------------------------------------- */

loc_1C872:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		braw	SolidObjectFull2
/*  --------------------------------------------------------------------------- */
Map_InvisibleBlock:
		.include "General/Sprites/Level Misc/Map - Invisible Block.S"
byte_1C8E2:	.byte 0x14
		.byte 0x28
		.byte 0x20
		.byte 0
		.byte 0x24
		.byte 0x48
		.byte 0x30
		.byte 1
		.byte 0x34
		.byte 0x68
		.byte 0x40
		.byte 2
/*  --------------------------------------------------------------------------- */

Obj_BreakableBar:
		movel	#Map_BreakableBar,0xC(%a0)
		movew	#0x43CA,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		andib	#0xF,%d0
		muluw	#0x3C,%d0
		movew	%d0,0x30(%a0)
		andiw	#0x30,%d1
		lsrw	#2,%d1
		lea	byte_1C8E2(%pc,%d1.w),%a1
		tstb	0x2C(%a0)
		bpls	loc_1C956
		moveq	#0,%d0
		moveb	(%a1)+,%d0
		movew	%d0,0x36(%a0)
		moveb	(%a1)+,%d0
		movew	%d0,0x38(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	#4,6(%a0)
		moveb	(%a1)+,%d0
		addqb	#4,%d0
		moveb	%d0,0x22(%a0)
		movel	#loc_1CB2C,(%a0)
		braw	loc_1CB2C
/*  --------------------------------------------------------------------------- */

loc_1C956:
		moveq	#0,%d0
		moveb	(%a1)+,%d0
		movew	%d0,0x36(%a0)
		moveb	(%a1)+,%d0
		movew	%d0,0x38(%a0)
		moveb	#4,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	(%a1)+,0x22(%a0)
		movel	#loc_1C978,(%a0)

loc_1C978:
		lea	0x32(%a0),%a2
		tstw	0x30(%a0)
		beqs	loc_1C98E
		tstw	(%a2)
		beqs	loc_1C98E
		subqw	#1,0x30(%a0)
		beqw	loc_1CAB4

loc_1C98E:
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d1
		moveq	#0,%d2
		bsrs	sub_1C9B4
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		movew	(Ctrl_2):w,%d1
		moveq	#1,%d2
		bsrs	sub_1C9B4
		tstb	0x3A(%a0)
		bnew	loc_1CAB4
		braw	Sprite_OnScreen_Test

/*  =============== S U B R O U T I N E ======================================= */


sub_1C9B4:
		tstb	(%a2)
		beqs	loc_1CA16
		movew	0x14(%a0),%d0
		subw	0x36(%a0),%d0
		btst	#8,%d1
		beqs	loc_1C9D4
		subqw	#1,0x14(%a1)
		cmpw	0x14(%a1),%d0
		bcss	loc_1C9D4
		movew	%d0,0x14(%a1)

loc_1C9D4:
		addw	0x38(%a0),%d0
		btst	#9,%d1
		beqs	loc_1C9EC
		addqw	#1,0x14(%a1)
		cmpw	0x14(%a1),%d0
		bccs	loc_1C9EC
		movew	%d0,0x14(%a1)

loc_1C9EC:
		andiw	#0x70,%d1
		beqw	locret_1CAB2
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		bclr	%d2,(_unkF7C7):w
		andib	#-2,0x2E(%a1)
		btst	#6,0x2C(%a0)
		bnes	locret_1CA14
		moveb	#1,0x3A(%a0)

locret_1CA14:
		rts
/*  --------------------------------------------------------------------------- */

loc_1CA16:
		tstb	2(%a2)
		beqs	loc_1CA22
		subqb	#1,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_1CA22:
		moveq	#0,%d1
		moveb	6(%a0),%d1
		movew	0x14(%a0),%d0
		subw	%d1,%d0
		movew	0x14(%a1),%d2
		cmpw	%d0,%d2
		bcss	locret_1CAB2
		addw	%d1,%d0
		addw	%d1,%d0
		cmpw	%d0,%d2
		bccs	locret_1CAB2
		movew	0x10(%a0),%d0
		addiw	#0x14,%d0
		cmpw	0x10(%a1),%d0
		bccs	locret_1CAB2
		addiw	#0x10,%d0
		cmpw	0x10(%a1),%d0
		bcss	locret_1CAB2
		cmpib	#4,5(%a1)
		bccs	locret_1CAB2
		tstb	0x2E(%a1)
		bnes	locret_1CAB2
		movew	0x14(%a0),%d0
		subw	0x36(%a0),%d0
		cmpw	0x14(%a1),%d0
		bcss	loc_1CA76
		movew	%d0,0x14(%a1)

loc_1CA76:
		addw	0x38(%a0),%d0
		cmpw	0x14(%a1),%d0
		bccs	loc_1CA84
		movew	%d0,0x14(%a1)

loc_1CA84:
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		movew	0x10(%a0),%d0
		addiw	#0x14,%d0
		movew	%d0,0x10(%a1)
		bclr	#0,0x2A(%a1)
		moveb	#0x11,0x20(%a1)
		moveb	#1,0x2E(%a1)
		bset	%d2,(_unkF7C7):w
		moveb	#1,(%a2)

locret_1CAB2:
		rts
/*  End of function sub_1C9B4 */

/*  --------------------------------------------------------------------------- */

loc_1CAB4:
		tstb	0x32(%a0)
		beqs	loc_1CAC0
		andib	#-2,(Player_1+object_control):w

loc_1CAC0:
		tstb	0x33(%a0)
		beqs	loc_1CACC
		andib	#-2,(Player_2+object_control):w

loc_1CACC:
		clrb	(_unkF7C7):w
		clrw	0x32(%a0)
		movel	#loc_1CB06,(%a0)
		moveb	#3,0x22(%a0)
		movew	#0x400,0x18(%a0)
		movew	#0,0x1A(%a0)
		lea	(word_1CCD0):l,%a4
		lea	(byte_1CCB8):l,%a2
		moveq	#0,%d1
		moveb	6(%a0),%d1
		lsrw	#2,%d1
		subqw	#1,%d1
		bsrw	sub_1CD50

loc_1CB06:
		tstb	0x3F(%a0)
		beqs	loc_1CB12
		subqb	#1,0x3F(%a0)
		bras	loc_1CB1E
/*  --------------------------------------------------------------------------- */

loc_1CB12:
		jsr	(MoveSprite2):l
		addiw	#8,0x1A(%a0)

loc_1CB1E:
		tstb	4(%a0)
		bplw	loc_1C778
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1CB2C:
		lea	0x32(%a0),%a2
		tstw	0x30(%a0)
		beqs	loc_1CB42
		tstw	(%a2)
		beqs	loc_1CB42
		subqw	#1,0x30(%a0)
		beqw	loc_1CC62

loc_1CB42:
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d1
		moveq	#0,%d2
		bsrs	sub_1CB68
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		movew	(Ctrl_2):w,%d1
		moveq	#1,%d2
		bsrs	sub_1CB68
		tstb	0x3A(%a0)
		bnew	loc_1CC62
		braw	Sprite_OnScreen_Test

/*  =============== S U B R O U T I N E ======================================= */


sub_1CB68:
		tstb	(%a2)
		beqs	loc_1CBCA
		movew	0x10(%a0),%d0
		subw	0x36(%a0),%d0
		btst	#0xA,%d1
		beqs	loc_1CB88
		subqw	#1,0x10(%a1)
		cmpw	0x10(%a1),%d0
		bcss	loc_1CB88
		movew	%d0,0x10(%a1)

loc_1CB88:
		addw	0x38(%a0),%d0
		btst	#0xB,%d1
		beqs	loc_1CBA0
		addqw	#1,0x10(%a1)
		cmpw	0x10(%a1),%d0
		bccs	loc_1CBA0
		movew	%d0,0x10(%a1)

loc_1CBA0:
		andiw	#0x70,%d1
		beqw	locret_1CC60
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		bclr	%d2,(_unkF7C7):w
		andib	#-2,0x2E(%a1)
		btst	#6,0x2C(%a0)
		bnes	locret_1CBC8
		moveb	#1,0x3A(%a0)

locret_1CBC8:
		rts
/*  --------------------------------------------------------------------------- */

loc_1CBCA:
		tstb	2(%a2)
		beqs	loc_1CBD6
		subqb	#1,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_1CBD6:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		movew	0x10(%a0),%d0
		subw	%d1,%d0
		movew	0x10(%a1),%d2
		cmpw	%d0,%d2
		bcss	locret_1CC60
		addw	%d1,%d0
		addw	%d1,%d0
		cmpw	%d0,%d2
		bccs	locret_1CC60
		movew	0x14(%a0),%d0
		subiw	#0x14,%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_1CC60
		addiw	#0x10,%d0
		cmpw	0x14(%a1),%d0
		bcss	locret_1CC60
		cmpib	#4,5(%a1)
		bccs	locret_1CC60
		tstb	0x2E(%a1)
		bnes	locret_1CC60
		movew	0x10(%a0),%d0
		subw	0x36(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_1CC2A
		movew	%d0,0x10(%a1)

loc_1CC2A:
		addw	0x38(%a0),%d0
		cmpw	0x10(%a1),%d0
		bccs	loc_1CC38
		movew	%d0,0x10(%a1)

loc_1CC38:
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		movew	0x14(%a0),%d0
		subiw	#0x14,%d0
		movew	%d0,0x14(%a1)
		moveb	#0x14,0x20(%a1)
		moveb	#1,0x2E(%a1)
		bset	%d2,(_unkF7C7):w
		moveb	#1,(%a2)

locret_1CC60:
		rts
/*  End of function sub_1CB68 */

/*  --------------------------------------------------------------------------- */

loc_1CC62:
		tstb	0x32(%a0)
		beqs	loc_1CC6E
		andib	#-2,(Player_1+object_control):w

loc_1CC6E:
		tstb	0x33(%a0)
		beqs	loc_1CC7A
		andib	#-2,(Player_2+object_control):w

loc_1CC7A:
		clrb	(_unkF7C7):w
		clrw	0x32(%a0)
		movel	#loc_1CB06,(%a0)
		moveb	#7,0x22(%a0)
		movew	#0,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		lea	(word_1CD10):l,%a4
		lea	(byte_1CCB8):l,%a2
		moveq	#0,%d1
		moveb	7(%a0),%d1
		lsrw	#2,%d1
		subqw	#1,%d1
		bsrw	sub_1CD50
		braw	loc_1CB06
/*  --------------------------------------------------------------------------- */
byte_1CCB8:	.byte    7,   5,   2,   0,   1,   3,   4,   6,   7,   5,   2,   0,   1,   3,   4,   6,   8,   9,  0xA,  0xB
		.byte   0xC,  0xD,  0xE,  0xF
word_1CCD0:	.word      0, 0xFFE4
		.word      0, 0xFFEC
		.word      0, 0xFFF4
		.word      0, 0xFFFC
		.word      0,     4
		.word      0,    0xC
		.word      0,   0x14
		.word      0,   0x1C
		.word      0,   0x24
		.word      0, 0xFFDC
		.word      0,   0x2C
		.word      0, 0xFFD4
		.word      0,   0x34
		.word      0, 0xFFCC
		.word      0,   0x3C
		.word      0, 0xFFC4
word_1CD10:	.word  0xFFE4,     0
		.word  0xFFEC,     0
		.word  0xFFF4,     0
		.word  0xFFFC,     0
		.word      4,     0
		.word     0xC,     0
		.word    0x14,     0
		.word    0x1C,     0
		.word    0x24,     0
		.word  0xFFDC,     0
		.word    0x2C,     0
		.word  0xFFD4,     0
		.word    0x34,     0
		.word  0xFFCC,     0
		.word    0x3C,     0
		.word  0xFFC4,     0

/*  =============== S U B R O U T I N E ======================================= */


sub_1CD50:
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		movew	8(%a0),%d4
		moveal	%a0,%a1
		bras	loc_1CD68
/*  --------------------------------------------------------------------------- */

loc_1CD60:
		jsr	(Create_New_Sprite3):l
		bnes	loc_1CDC2

loc_1CD68:
		movel	(%a0),(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	#-0x7C,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	(%a4)+,%d0
		addw	%d2,%d0
		movew	%d0,0x10(%a1)
		movew	(%a4)+,%d0
		addw	%d3,%d0
		movew	%d0,0x14(%a1)
		movew	%d4,8(%a1)
		moveb	#4,7(%a1)
		moveb	#4,6(%a1)
		moveb	0x22(%a0),0x22(%a1)
		movew	0x18(%a0),0x18(%a1)
		movew	0x1A(%a0),0x1A(%a1)
		moveb	(%a2)+,0x3F(%a1)
		dbf	%d1,loc_1CD60

loc_1CDC2:
		moveq	#sfx_Collapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_1CD50 */

/*  --------------------------------------------------------------------------- */
Map_BreakableBar:
		.include "Levels/HCZ/Misc Object Data/Map - Breakable Bar.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZWaveSplash:
		movel	#Map_HCZWaveSplash,0xC(%a0)
		movew	#0x842E,0xA(%a0)
		moveb	#4,4(%a0)
		moveb	#0x80,7(%a0)
		moveb	#8,6(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)
		addiw	#0xC0,(%a2)+
		movew	0x14(%a0),(%a2)+
		movel	#loc_1CEA4,(%a0)

loc_1CEA4:
		movew	(Camera_X_pos):w,%d1
		andiw	#0xFFE0,%d1
		addiw	#0x60,%d1
		btst	#0,(Level_frame_counter+1):w
		beqs	loc_1CEBC
		addiw	#0x20,%d1

loc_1CEBC:
		movew	%d1,0x10(%a0)
		movew	(Water_level):w,%d1
		movew	%d1,0x14(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)
		addiw	#0xC0,(%a2)+
		movew	0x14(%a0),(%a2)+
		tstb	0x32(%a0)
		bnes	loc_1CEF6
		tstb	(Ctrl_1_pressed_logical):w
		bmis	loc_1CEEA
		tstb	(Ctrl_2_pressed_logical):w
		bpls	loc_1CF06

loc_1CEEA:
		addqb	#3,0x22(%a0)
		moveb	#1,0x32(%a0)
		bras	loc_1CF24
/*  --------------------------------------------------------------------------- */

loc_1CEF6:
		tstw	(Game_paused):w
		bnes	loc_1CF24
		moveb	#0,0x32(%a0)
		subqb	#3,0x22(%a0)

loc_1CF06:
		subqb	#1,0x24(%a0)
		bpls	loc_1CF24
		moveb	#9,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#4,0x22(%a0)
		bcss	loc_1CF24
		moveb	#1,0x22(%a0)

loc_1CF24:
		moveb	0x22(%a0),1(%a2)
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */
Map_HCZWaveSplash:
		.include "Levels/HCZ/Misc Object Data/Map - Wave Splash.S"
byte_1CFEA:	.byte 0x10
		.byte 0x10
		.byte 0x20
		.byte 0x10
		.byte 0x30
		.byte 0x10
		.byte 0x40
		.byte 0x10
/*  --------------------------------------------------------------------------- */

Obj_HCZBlock:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		lea	byte_1CFEA(%pc,%d0.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movel	#Map_HCZBlock,0xC(%a0)
		movew	#0x43D4,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		movel	#loc_1D02A,(%a0)

loc_1D02A:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		braw	Sprite_OnScreen_Test
/*  --------------------------------------------------------------------------- */
Map_HCZBlock:	.include "Levels/HCZ/Misc Object Data/Map - Block.S"
/*  --------------------------------------------------------------------------- */

Obj_InvisibleHurtBlockHorizontal:
		movel	#Map_InvisibleBlock,0xC(%a0)
		movew	#make_art_tile(ArtTile_Ring,0,1),0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF0,%d0
		addiw	#0x10,%d0
		lsrw	#1,%d0
		moveb	%d0,7(%a0)
		andiw	#0xF,%d1
		addqw	#1,%d1
		lslw	#3,%d1
		moveb	%d1,6(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_1D0E0
		movel	#loc_1D15C,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1D0E0:
		btst	#1,0x2A(%a0)
		beqs	loc_1D0F0
		movel	#loc_1D1C0,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1D0F0:
		movel	#loc_1D0F6,(%a0)

loc_1D0F6:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		moveb	0x2A(%a0),%d6
		andib	#0x18,%d6
		beqs	loc_1D13A
		moveb	%d6,%d0
		andib	#8,%d0
		beqs	loc_1D12C
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_1D12C:
		andib	#0x10,%d6
		beqs	loc_1D13A
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_1D13A:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1D15A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1D15A:
		rts
/*  --------------------------------------------------------------------------- */

loc_1D15C:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		swap	%d6
		andiw	#3,%d6
		beqs	loc_1D19E
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_1D190
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_1D190:
		andib	#2,%d6
		beqs	loc_1D19E
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_1D19E:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1D1BE
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1D1BE:
		rts
/*  --------------------------------------------------------------------------- */

loc_1D1C0:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		swap	%d6
		andiw	#0xC,%d6
		beqs	loc_1D202
		moveb	%d6,%d0
		andib	#4,%d0
		beqs	loc_1D1F4
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_1D1F4:
		andib	#8,%d6
		beqs	loc_1D202
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_1D202:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1D222
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1D222:
		rts
/*  --------------------------------------------------------------------------- */

Obj_InvisibleHurtBlockVertical:
		movel	#Map_InvisibleBlock,0xC(%a0)
		movew	#make_art_tile(ArtTile_Ring,0,1),0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF0,%d0
		addiw	#0x10,%d0
		lsrw	#1,%d0
		moveb	%d0,7(%a0)
		andiw	#0xF,%d1
		addqw	#1,%d1
		lslw	#3,%d1
		moveb	%d1,6(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_1D26E
		movel	#loc_1D2EA,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1D26E:
		btst	#1,0x2A(%a0)
		beqs	loc_1D27E
		movel	#loc_1D34E,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1D27E:
		movel	#loc_1D284,(%a0)

loc_1D284:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		moveb	0x2A(%a0),%d6
		andib	#0x18,%d6
		beqs	loc_1D2C8
		moveb	%d6,%d0
		andib	#8,%d0
		beqs	loc_1D2BA
		lea	(Player_1):w,%a1
		bsrw	sub_1D3B2

loc_1D2BA:
		andib	#0x10,%d6
		beqs	loc_1D2C8
		lea	(Player_2):w,%a1
		bsrw	sub_1D3B2

loc_1D2C8:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1D2E8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1D2E8:
		rts
/*  --------------------------------------------------------------------------- */

loc_1D2EA:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		swap	%d6
		andiw	#3,%d6
		beqs	loc_1D32C
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_1D31E
		lea	(Player_1):w,%a1
		bsrw	sub_1D3B2

loc_1D31E:
		andib	#2,%d6
		beqs	loc_1D32C
		lea	(Player_2):w,%a1
		bsrw	sub_1D3B2

loc_1D32C:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1D34C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1D34C:
		rts
/*  --------------------------------------------------------------------------- */

loc_1D34E:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull2
		swap	%d6
		andiw	#0xC,%d6
		beqs	loc_1D390
		moveb	%d6,%d0
		andib	#4,%d0
		beqs	loc_1D382
		lea	(Player_1):w,%a1
		bsrw	sub_1D3B2

loc_1D382:
		andib	#8,%d6
		beqs	loc_1D390
		lea	(Player_2):w,%a1
		bsrw	sub_1D3B2

loc_1D390:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_1C778
		tstw	(Debug_placement_mode):w
		beqs	locret_1D3B0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_1D3B0:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_1D3B2:
		movew	%d6,-(%sp)
		movel	%a0,-(%sp)
		moveal	%a1,%a0
		jsr	(Kill_Character):l
		moveal	(%sp)+,%a0
		movew	(%sp)+,%d6
		rts
/*  End of function sub_1D3B2 */

/*  --------------------------------------------------------------------------- */

Obj_AIZHollowTree:
		moveb	#0xD0,7(%a0)
		movel	#loc_1D3D0,(%a0)

loc_1D3D0:
		bsrw	sub_1D436
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_1D430
		tstw	0x38(%a0)
		beqs	loc_1D430
		subqw	#1,0x38(%a0)
		bnes	loc_1D3F8
		movew	#0x1300,(Camera_min_X_pos):w
		movew	#0x4000,(Camera_max_X_pos):w
		bras	loc_1D430
/*  --------------------------------------------------------------------------- */

loc_1D3F8:
		cmpiw	#0x1300,(Camera_min_X_pos):w
		beqs	loc_1D414
		cmpiw	#0x2D00,(Player_1+x_pos):w
		bcss	loc_1D410
		movew	#0x1300,(Camera_min_X_pos):w
		bras	loc_1D414
/*  --------------------------------------------------------------------------- */

loc_1D410:
		subqw	#4,(Camera_min_X_pos):w

loc_1D414:
		cmpiw	#0x4000,(Camera_max_X_pos):w
		beqs	loc_1D430
		cmpiw	#0x2D00,(Player_1+x_pos):w
		bccs	loc_1D42C
		movew	#0x4000,(Camera_max_X_pos):w
		bras	loc_1D430
/*  --------------------------------------------------------------------------- */

loc_1D42C:
		addqw	#4,(Camera_max_X_pos):w

loc_1D430:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_1D436:
		lea	(Player_1):w,%a1
		lea	0x30(%a0),%a2
		moveq	#3,%d6
		bsrs	sub_1D44C
		lea	(Player_2):w,%a1
		lea	0x34(%a0),%a2
		/*  Bug: if player 1 was riding the object, then %d6 may have become dirty from */
		/*  a call to Perform_Player_DPLC, causing player 2 to behave erratically */
		addqb	#1,%d6
/*  End of function sub_1D436 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1D44C:
		btst	%d6,0x2A(%a0)
		bnew	loc_1D4DA
		btst	#1,0x2A(%a1)
		bnew	locret_1D4D8
		movew	0x10(%a1),%d0
		addiw	#0x10,%d0
		subw	0x10(%a0),%d0
		bcss	locret_1D4D8
		cmpiw	#0x40,%d0
		bges	locret_1D4D8
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		cmpiw	#-0x5A,%d0
		blts	locret_1D4D8
		cmpiw	#0xA0,%d0
		bgts	locret_1D4D8
		cmpiw	#0x600,0x18(%a1)
		blts	locret_1D4D8
		tstb	0x2E(%a1)
		bnes	locret_1D4D8
		bsrw	RideObject_SetRide
		movel	#0,(%a2)
		bset	#6,0x2E(%a1)
		bset	#1,0x2E(%a1)
		moveb	#0,0x20(%a1)
		cmpaw	#Player_1,%a1
		bnes	locret_1D4D8
		jsr	(Create_New_Sprite3):l
		bnew	loc_1D4C6
		movel	#Obj_AIZ1TreeRevealControl,(%a1)

loc_1D4C6:
		movew	#0x2C60,(Camera_min_X_pos):w
		movew	#0x2C60,(Camera_max_X_pos):w
		movew	#0x3C,0x38(%a0)

locret_1D4D8:
		rts
/*  --------------------------------------------------------------------------- */

loc_1D4DA:
		movew	0x1C(%a1),%d0
		bpls	loc_1D4E2
		negw	%d0

loc_1D4E2:
		cmpiw	#0x600,%d0
		bcsw	loc_1D57C
		btst	#1,0x2A(%a1)
		bnes	loc_1D50A
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addiw	#0x90,%d0
		bmis	AIZTree_FallOff
		cmpiw	#0x130,%d0
		blsw	AIZTree_SetPlayerPos
		bras	AIZTree_FallOff
/*  --------------------------------------------------------------------------- */

loc_1D50A:
		cmpiw	#0x2C99,0x10(%a1)
		bccs	loc_1D51E
		movew	#0x2C99,0x10(%a1)
		movew	#0x400,0x18(%a1)

loc_1D51E:
		cmpiw	#0x2D66,0x10(%a1)
		bcss	AIZTree_FallOff
		movew	#0x2D66,0x10(%a1)
		movew	#-0x400,0x18(%a1)

AIZTree_FallOff:
		bset	#1,0x2A(%a1)
		bclr	#2,0x2A(%a1)
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		movew	#1,0x20(%a1)
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		bclr	#6,0x2E(%a1)
		bclr	#1,0x2E(%a1)
		asr	0x18(%a1)
		asr	0x1A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_1D57C:
		cmpiw	#0x400,(%a2)
		bccs	AIZTree_FallOff
		movel	%d6,-(%sp)
		movel	%a1,-(%sp)
		bsrs	AIZTree_SetPlayerPos
		moveal	(%sp)+,%a1
		movel	(%sp)+,%d6
		bras	AIZTree_FallOff
/*  End of function sub_1D44C */

/*  --------------------------------------------------------------------------- */
		braw	loc_1D50A

/*  =============== S U B R O U T I N E ======================================= */


AIZTree_SetPlayerPos:
		btst	#3,0x2A(%a1)
		beqw	locret_1D4D8
		movew	0x1C(%a1),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,(%a2)
		bmis	AIZTree_FallOff
		cmpiw	#0x400,(%a2)
		bcss	loc_1D5BA
		movew	#0x1300,(Camera_min_X_pos):w
		movew	#0x4000,(Camera_max_X_pos):w

loc_1D5BA:
		movew	0x10(%a1),%d2
		movew	(%a2),%d0
		lsrw	#1,%d0
		jsr	(GetSineCosine):l
		mulsw	#0x7000,%d0
		swap	%d0
		addw	0x10(%a0),%d0
		movew	%d0,0x10(%a1)
		subw	%d2,%d0
		aslw	#8,%d0
		movew	%d0,0x18(%a1)
		movew	0x14(%a1),%d2
		movew	(%a2),%d0
		lsrw	#2,%d0
		negw	%d0
		addiw	#0x90,%d0
		addw	0x14(%a0),%d0
		movew	%d0,0x14(%a1)
		subw	%d2,%d0
		aslw	#8,%d0
		movew	%d0,0x1A(%a1)
		moveq	#0,%d0
		movew	(%a2),%d0
		lsrw	#1,%d0
		divuw	#0xB,%d0
		moveb	AIZTree_PlayerFrames(%pc,%d0.w),0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		jmp	(Perform_Player_DPLC):l
/*  End of function AIZTree_SetPlayerPos */

/*  --------------------------------------------------------------------------- */
AIZTree_PlayerFrames:
		.byte  0x69, 0x6A, 0x6B, 0x77, 0x6C, 0x6C, 0x6D, 0x6D, 0x6E, 0x6E, 0x6F, 0x6F, 0x70, 0x70, 0x71, 0x71, 0x72, 0x72, 0x73, 0x73
		.byte  0x74, 0x74, 0x75, 0x75, 0x76, 0x76, 0x77, 0x77, 0x6C, 0x6C, 0x6D, 0x6D, 0x6E, 0x6E, 0x6F, 0x6F, 0x70, 0x70, 0x71, 0x71
		.byte  0x72, 0x72, 0x73, 0x73, 0x74, 0x74, 0x75, 0x75, 0x6B, 0x6B, 0x6A, 0x6A, 0x69, 0x69
byte_1D64E:	.byte  0x18, 0x27, 0x18, 0x17, 0x18,  0xF,  0xE,  0xF
/*  --------------------------------------------------------------------------- */

Obj_AIZLRZEMZRock:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#4,%d0
		andib	#7,%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		moveb	byte_1D64E(%pc,%d0.w),7(%a0)
		moveb	byte_1D64E+1(%pc,%d0.w),%d1
		moveb	%d1,6(%a0)
		moveb	%d1,0x1E(%a0)
		movel	#Map_AIZRock,0xC(%a0)
		movew	#0x2333,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x2E(%a0)
		movew	#0x40,0x42(%a0)
		cmpiw	#1,(Current_zone_and_act):w
		bnes	loc_1D6B6
		movel	#Map_AIZRock2,0xC(%a0)
		movew	#0x42E9,0xA(%a0)

loc_1D6B6:
		cmpiw	#0x1200,(Current_zone_and_act):w
		bnes	loc_1D6D2
		movel	#Map_EMZRock,0xC(%a0)
		movew	#0xE300,0xA(%a0)
		moveb	#0,0x22(%a0)

loc_1D6D2:
		movel	#loc_1D712,(%a0)
		btst	#2,0x2C(%a0)
		beqs	loc_1D6EA
		movel	#loc_1D8E0,(%a0)
		braw	loc_1D8E0
/*  --------------------------------------------------------------------------- */

loc_1D6EA:
		movew	0x48(%a0),%d0
		beqs	loc_1D712
		moveaw	%d0,%a2
		moveb	(%a2),%d0
		andiw	#0x7F,%d0
		beqs	loc_1D712
		subw	%d0,0x10(%a0)
		negw	%d0
		addiw	#0x40,%d0
		movew	%d0,0x42(%a0)
		jsr	(ObjCheckFloorDist):l
		addw	%d1,0x14(%a0)

loc_1D712:
		movew	(Chain_bonus_counter):w,0x38(%a0)
		moveb	(Player_1+anim):w,0x32(%a0)
		moveb	(Player_2+anim):w,0x33(%a0)
		moveb	(Player_1+status):w,0x3A(%a0)
		moveb	(Player_2+status):w,0x3B(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		btst	#1,0x2C(%a0)
		beqs	loc_1D75A
		bsrw	sub_1DAD2

loc_1D75A:
		btst	#0,0x2C(%a0)
		beqs	loc_1D76C
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_1D782

loc_1D76C:
		tstw	(Competition_mode):w
		bnes	loc_1D77C
		movew	0x2E(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_1D77C:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1D782:
		cmpib	#0x18,%d0
		bnes	loc_1D7B0
		cmpib	#2,0x32(%a0)
		beqs	loc_1D798
		cmpib	#2,0x33(%a0)
		bnes	loc_1D76C

loc_1D798:
		lea	(Player_1):w,%a1
		moveb	0x32(%a0),%d0
		bsrs	sub_1D7C8
		lea	(Player_2):w,%a1
		moveb	0x33(%a0),%d0
		bsrs	sub_1D7C8
		braw	loc_1D818
/*  --------------------------------------------------------------------------- */

loc_1D7B0:
		moveb	%d0,%d1
		andib	#8,%d1
		beqs	loc_1D800
		cmpib	#2,0x32(%a0)
		bnes	loc_1D76C
		lea	(Player_1):w,%a1
		bsrs	sub_1D7CE
		bras	loc_1D818

/*  =============== S U B R O U T I N E ======================================= */


sub_1D7C8:
		cmpib	#2,%d0
		bnes	loc_1D7EC
/*  End of function sub_1D7C8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1D7CE:
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		movew	#-0x300,0x1A(%a1)

loc_1D7EC:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		moveb	#2,5(%a1)
		rts
/*  End of function sub_1D7CE */

/*  --------------------------------------------------------------------------- */

loc_1D800:
		andib	#0x10,%d0
		beqw	loc_1D76C
		cmpib	#2,0x33(%a0)
		bnew	loc_1D76C
		lea	(Player_2):w,%a1
		bsrs	sub_1D7CE

loc_1D818:
		movew	0x38(%a0),(Chain_bonus_counter):w
		andib	#-0x19,0x2A(%a0)
		tstw	(Competition_mode):w
		bnew	loc_1D874
		movel	#loc_1D836,(%a0)
		bsrw	sub_1DB4E

loc_1D836:
		subqb	#1,0x24(%a0)
		bpls	loc_1D854
		moveb	#2,0x24(%a0)
		moveb	0x22(%a0),%d0
		addqb	#1,%d0
		cmpib	#7,%d0
		bcss	loc_1D850
		moveq	#3,%d0

loc_1D850:
		moveb	%d0,0x22(%a0)

loc_1D854:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_1D86E
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1D86E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1D874:
		bsrs	sub_1D8A0
		moveb	#3,0x22(%a0)
		movel	#loc_1D886,(%a0)
		bsrw	sub_1DB4E

loc_1D886:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_1D86E
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_1D8A0:
		jsr	(Create_New_Sprite3):l
		bnew	locret_1D8C8
		moveq	#0x48,%d0

loc_1D8AC:
		movew	(%a0,%d0.w),(%a1,%d0.w)
		subqw	#2,%d0
		bccs	loc_1D8AC
		movel	(%a0),0x44(%a1)
		movel	#loc_1D8CA,(%a1)
		moveb	#7,0x22(%a1)
		moveq	#0,%d0

locret_1D8C8:
		rts
/*  End of function sub_1D8A0 */

/*  --------------------------------------------------------------------------- */

loc_1D8CA:
		tstb	4(%a0)
		bmis	loc_1D8DA
		movel	0x44(%a0),(%a0)
		moveb	#0,0x22(%a0)

loc_1D8DA:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1D8E0:
		movew	(Player_1+x_vel):w,0x30(%a0)
		movew	(Player_2+x_vel):w,0x36(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		swap	%d6
		andiw	#3,%d6
		bnes	loc_1D926

loc_1D910:
		tstw	(Competition_mode):w
		bnes	loc_1D920
		movew	0x2E(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_1D920:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1D926:
		lea	(Player_1):w,%a1
		movew	0x30(%a0),%d1
		movew	%d6,%d0
		andiw	#1,%d0
		beqw	loc_1D9BE
		tstb	0x2C(%a0)
		bpls	loc_1D948
		cmpib	#2,0x38(%a1)
		beqs	loc_1D97A
		bras	loc_1D9BE
/*  --------------------------------------------------------------------------- */

loc_1D948:
		tstb	(Super_Sonic_Knux_flag):w
		bnes	loc_1D97A
		btst	#4,0x2B(%a1)
		bnes	loc_1D966
		cmpib	#2,0x38(%a1)
		beqs	loc_1D97A
		btst	#5,0x2A(%a0)
		beqs	loc_1D9BE

loc_1D966:
		cmpib	#2,0x20(%a1)
		bnes	loc_1D9BE
		movew	%d1,%d0
		bpls	loc_1D974
		negw	%d0

loc_1D974:
		cmpiw	#0x480,%d0
		bcss	loc_1D9BE

loc_1D97A:
		bclr	#5,0x2A(%a0)
		bsrw	sub_1DA08
		btst	#6,0x2A(%a0)
		beqs	loc_1D910
		lea	(Player_2):w,%a1
		cmpib	#2,0x38(%a1)
		beqs	loc_1D9A2
		cmpib	#2,0x20(%a1)
		bnew	loc_1D910

loc_1D9A2:
		movew	0x36(%a0),0x18(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#6,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		braw	loc_1D910
/*  --------------------------------------------------------------------------- */

loc_1D9BE:
		lea	(Player_2):w,%a1
		movew	0x36(%a0),%d1
		btst	#6,0x2A(%a0)
		beqw	loc_1D910
		tstb	0x2C(%a0)
		bpls	loc_1D9E2
		cmpib	#2,0x38(%a1)
		beqs	loc_1DA02
		braw	loc_1D910
/*  --------------------------------------------------------------------------- */

loc_1D9E2:
		cmpib	#2,0x38(%a1)
		beqs	loc_1DA02
		cmpib	#2,0x20(%a1)
		bnew	loc_1D910
		movew	%d1,%d0
		bpls	loc_1D9FA
		negw	%d0

loc_1D9FA:
		cmpiw	#0x480,%d0
		bcsw	loc_1D910

loc_1DA02:
		bclr	#6,0x2A(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_1DA08:
		bsrw	sub_1DAA8
		tstw	(Competition_mode):w
		bnes	loc_1DA58
		movew	%d1,0x18(%a1)
		addqw	#4,0x10(%a1)
		lea	(word_1DC30):l,%a4
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_1DA36
		subiw	#8,0x10(%a1)
		lea	(word_1DC50):l,%a4

loc_1DA36:
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		movel	#loc_1D836,(%a0)
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		bsrw	sub_1DB60
		braw	loc_1D836
/*  --------------------------------------------------------------------------- */

loc_1DA58:
		movew	%d1,0x18(%a1)
		addqw	#4,0x10(%a1)
		lea	(word_1DCAC):l,%a4
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_1DA7C
		subiw	#8,0x10(%a1)
		lea	(word_1DCC4):l,%a4

loc_1DA7C:
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		bsrw	sub_1D8A0
		movel	#loc_1D886,(%a0)
		moveb	#3,0x22(%a0)
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		bsrw	sub_1DB60
		braw	loc_1D886
/*  End of function sub_1DA08 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1DAA8:
		bclr	#3,0x2A(%a0)
		beqs	loc_1DABC
		bset	#1,(Player_1+status):w
		bclr	#3,(Player_1+status):w

loc_1DABC:
		bclr	#4,0x2A(%a0)
		beqs	locret_1DAD0
		bset	#1,(Player_2+status):w
		bclr	#3,(Player_2+status):w

locret_1DAD0:
		rts
/*  End of function sub_1DAA8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1DAD2:
		moveb	0x2A(%a0),%d3
		andib	#0x60,%d3
		beqw	locret_1DAFA
		movew	0x10(%a0),%d2
		lea	(Player_1):w,%a1
		moveb	0x3A(%a0),%d0
		moveq	#5,%d6
		bsrs	sub_1DAFC
		lea	(Player_2):w,%a1
		moveb	0x3B(%a0),%d0
		moveq	#6,%d6
		bsrs	sub_1DAFC

locret_1DAFA:
		rts
/*  End of function sub_1DAD2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1DAFC:
		btst	%d6,%d3
		beqs	locret_1DB4C
		cmpw	0x10(%a1),%d2
		bccs	locret_1DB4C
		btst	#5,%d0
		beqs	locret_1DB4C
		subqw	#1,0x40(%a0)
		bpls	locret_1DB4C
		movew	#0x10,0x40(%a0)
		tstw	0x42(%a0)
		beqs	locret_1DB4C
		subqw	#1,0x42(%a0)
		subqw	#1,0x10(%a0)
		subqw	#1,0x10(%a1)
		jsr	(ObjCheckFloorDist):l
		addw	%d1,0x14(%a0)
		movew	0x48(%a0),%d0
		beqs	locret_1DB4C
		moveaw	%d0,%a2
		moveb	0x43(%a0),%d0
		subib	#0x40,%d0
		negb	%d0
		moveb	%d0,(%a2)
		bset	#7,(%a2)

locret_1DB4C:
		rts
/*  End of function sub_1DAFC */


/*  =============== S U B R O U T I N E ======================================= */


sub_1DB4E:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		lea	(off_1DC28):l,%a4
		addaw	(%a4,%d0.w),%a4
/*  End of function sub_1DB4E */


/*  =============== S U B R O U T I N E ======================================= */


sub_1DB60:
		lea	(off_1DBEA):l,%a3
		addaw	(%a3,%d0.w),%a3
		movew	(%a3)+,%d1
		movel	(%a0),%d4
		moveb	4(%a0),%d5
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		movew	#3,%d6
		moveal	%a0,%a1
		bras	loc_1DB88
/*  --------------------------------------------------------------------------- */

loc_1DB82:
		bsrw	Create_New_Sprite3
		bnes	loc_1DBE2

loc_1DB88:
		movel	%d4,(%a1)
		movel	0xC(%a0),0xC(%a1)
		moveb	%d5,4(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d2,%d0
		movew	%d0,0x10(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d3,%d0
		movew	%d0,0x14(%a1)
		movew	0xA(%a0),0xA(%a1)
		oriw	#-0x8000,0xA(%a1)
		movew	#0x80,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,7(%a1)
		movew	(%a4)+,0x18(%a1)
		movew	(%a4)+,0x1A(%a1)
		moveb	%d6,0x22(%a1)
		addqb	#1,%d6
		cmpib	#7,%d6
		bcss	loc_1DBDE
		movew	#3,%d6

loc_1DBDE:
		dbf	%d1,loc_1DB82

loc_1DBE2:
		moveq	#sfx_Collapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_1DB60 */

/*  --------------------------------------------------------------------------- */
off_1DBEA:	.word word_1DBF2-off_1DBEA
		.word word_1DC04-off_1DBEA
		.word word_1DC10-off_1DBEA
		.word word_1DC1A-off_1DBEA
word_1DBF2:	.word 7
		.word 0xF8E8
		.word 0xBE4
		.word 0xFCF4
		.word 0xCFC
		.word 0xF404
		.word 0x40C
		.word 0xF41C
		.word 0xC1C
word_1DC04:	.word 4
		.word 0xFCF4
		.word 0xBF4
		.word 0xFCFC
		.word 0xF40C
		.word 0xC0C
word_1DC10:	.word 3
		.word 0xFCFC
		.word 0xCFC
		.word 0xF404
		.word 0xC04
word_1DC1A:	.word 5
		.word 0xF8F8
		.word 0x8F8
		.word 0xF800
		.word 0x800
		.word 0xF808
		.word 0x808
off_1DC28:	.word word_1DC30-off_1DC28
		.word word_1DC70-off_1DC28
		.word word_1DC84-off_1DC28
		.word word_1DC94-off_1DC28
word_1DC30:	.word 0xFD00
		.word 0xFD00
		.word 0xFD40
		.word 0xFD80
		.word 0xFD40
		.word 0xFD80
		.word 0xFD80
		.word 0xFE00
		.word 0xFD80
		.word 0xFE80
		.word 0xFDC0
		.word 0xFE80
		.word 0xFDC0
		.word 0xFF00
		.word 0xFE00
		.word 0xFF00
word_1DC50:	.word 0x300
		.word 0xFD00
		.word 0x2C0
		.word 0xFD80
		.word 0x2C0
		.word 0xFD80
		.word 0x280
		.word 0xFE00
		.word 0x280
		.word 0xFE80
		.word 0x240
		.word 0xFE80
		.word 0x240
		.word 0xFF00
		.word 0x200
		.word 0xFF00
word_1DC70:	.word 0xFE00
		.word 0xFE00
		.word 0x200
		.word 0xFE00
		.word 0xFF00
		.word 0xFE20
		.word 0xFE50
		.word 0xFE40
		.word 0x1C0
		.word 0xFE40
word_1DC84:	.word 0xFF00
		.word 0xFE00
		.word 0x100
		.word 0xFE20
		.word 0xFE50
		.word 0xFE40
		.word 0x1C0
		.word 0xFE40
word_1DC94:	.word 0xFF50
		.word 0xFE20
		.word 0xB0
		.word 0xFE30
		.word 0xFF80
		.word 0xFE00
		.word 0x80
		.word 0xFE20
		.word 0xFF28
		.word 0xFE40
		.word 0xE0
		.word 0xFE40
word_1DCAC:	.word 0xFD40
		.word 0xFD80
		.word 0xFD80
		.word 0xFE00
		.word 0xFD80
		.word 0xFE80
		.word 0xFDC0
		.word 0xFE80
		.word 0xFDC0
		.word 0xFF00
		.word 0xFE00
		.word 0xFF00
word_1DCC4:	.word 0x2C0
		.word 0xFD80
		.word 0x280
		.word 0xFE00
		.word 0x280
		.word 0xFE80
		.word 0x240
		.word 0xFE80
		.word 0x240
		.word 0xFF00
		.word 0x200
		.word 0xFF00
Map_AIZRock:	.include "Levels/AIZ/Misc Object Data/Map - Rock.S"
Map_AIZRock2:	.include "Levels/AIZ/Misc Object Data/Map - Rock 2.S"
Map_EMZRock:	.include "Levels/EMZ/Misc Object Data/Map - Rock.S"
/*  --------------------------------------------------------------------------- */

Obj_CollapsingPlatform:
		movel	#Map_AIZCollapsingPlatform,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		cmpiw	#1,(Current_zone_and_act):w
		bnes	loc_1DE40
		movel	#Map_AIZCollapsingPlatform2,0xC(%a0)
		movew	#0x4001,0xA(%a0)

loc_1DE40:
		movel	#byte_1E49C,0x30(%a0)
		movel	#byte_1E658,0x3C(%a0)
		moveb	#0x3C,7(%a0)
		moveb	#0x20,6(%a0)
		cmpib	#5,(Current_zone):w
		bnes	loc_1DE8E
		movel	#Map_ICZCollapsingBridge,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		movel	#byte_1E4BA,0x30(%a0)
		movel	#byte_1E698,0x3C(%a0)
		moveb	#0x30,7(%a0)
		moveb	#0x30,6(%a0)

loc_1DE8E:
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#7,0x38(%a0)
		moveb	0x2C(%a0),0x22(%a0)
		orib	#0x80,0x2A(%a0)
		movel	#loc_1DEB2,(%a0)

loc_1DEB2:
		tstb	0x3A(%a0)
		beqs	loc_1DEC4
		tstb	0x38(%a0)
		beqw	loc_1E40E
		subqb	#1,0x38(%a0)

loc_1DEC4:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	sub_1DED4
		moveb	#1,0x3A(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_1DED4:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveal	0x3C(%a0),%a2
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTopSloped2):l
		braw	Sprite_OnScreen_Test
/*  End of function sub_1DED4 */

/*  --------------------------------------------------------------------------- */

loc_1DEEC:
		tstb	0x38(%a0)
		beqs	loc_1DF3C
		tstb	0x3A(%a0)
		bnes	loc_1DF00
		subqb	#1,0x38(%a0)
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

loc_1DF00:
		bsrw	sub_1DED4
		subqb	#1,0x38(%a0)
		bnes	locret_1DF3A
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrs	sub_1DF18
		lea	(Player_2):w,%a1
		moveq	#4,%d6

/*  =============== S U B R O U T I N E ======================================= */


sub_1DF18:
		btst	%d6,0x2A(%a0)
		beqs	locret_1DF3A
		bclr	%d6,0x2A(%a0)
		bclr	#3,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x21(%a1)

locret_1DF3A:
		rts
/*  End of function sub_1DF18 */

/*  --------------------------------------------------------------------------- */

loc_1DF3C:
		bsrw	MoveSprite
		tstb	4(%a0)
		bplw	Delete_Current_Sprite
		braw	Draw_Sprite
/*  --------------------------------------------------------------------------- */

Obj_CollapsingBridge:
		movel	#loc_1E150,(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		cmpib	#6,(Current_zone):w
		bnes	loc_1DFD4
		moveb	0x2C(%a0),%d0
		andiw	#0x3F,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		addqw	#8,%d0
		bccs	loc_1DF7A
		moveb	#-1,%d0

loc_1DF7A:
		moveb	%d0,0x38(%a0)
		btst	#6,0x2C(%a0)
		bnes	loc_1DFB2
		movel	#Map_LBZCollapsingBridge,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x10,6(%a0)
		movel	#LBZBridgeCollapse_TimerArray,0x30(%a0)
		movel	#LBZBridgeCollapse_TimerFlipArray,0x34(%a0)
		bras	loc_1DFD4
/*  --------------------------------------------------------------------------- */

loc_1DFB2:
		movel	#Map_LBZCollapsingLedge,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x30,6(%a0)
		movel	#LBZLedgeCollapse_TimerArray,0x30(%a0)

loc_1DFD4:
		cmpib	#1,(Current_zone):w
		bnew	loc_1E06E
		movel	#Map_HCZCollapsingBridge,0xC(%a0)
		movew	#0xC001,0xA(%a0)
		moveb	0x2C(%a0),%d0
		bpls	loc_1E006
		moveb	%d0,%d1
		andib	#0xF,%d1
		moveb	%d1,0x40(%a0)
		movel	#loc_1E2E8,(%a0)
		andib	#0x70,%d0

loc_1E006:
		moveb	%d0,%d1
		andiw	#0xF,%d0
		lslw	#4,%d0
		addqw	#8,%d0
		moveb	%d0,0x38(%a0)
		andiw	#0xF0,%d1
		lsrw	#2,%d1
		lea	byte_1E03E(%pc,%d1.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2C(%a0)
		addw	%d1,%d1
		lea	off_1E04E(%pc,%d1.w),%a1
		movel	(%a1)+,0x30(%a0)
		movel	(%a1)+,0x34(%a0)
		bras	loc_1E06E
/*  --------------------------------------------------------------------------- */
byte_1E03E:	.byte 0x40
		.byte 0x10
		.byte 0
		.byte 0x80
		.byte 0x50
		.byte 0x10
		.byte 3
		.byte 0x80
		.byte 0x40
		.byte 0x10
		.byte 6
		.byte 0
		.byte 0x50
		.byte 0x20
		.byte 9
		.byte 0x80
off_1E04E:	.long byte_1E508
		.long byte_1E518
		.long byte_1E528
		.long byte_1E53C
		.long byte_1E550
		.long byte_1E550
		.long byte_1E55F
		.long byte_1E577
/*  --------------------------------------------------------------------------- */

loc_1E06E:
		cmpib	#2,(Current_zone):w
		bnes	loc_1E0F0
		movel	#Map_MGZCollapsingBridge,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF,%d0
		lslw	#4,%d0
		addqw	#8,%d0
		moveb	%d0,0x38(%a0)
		andiw	#0xF0,%d1
		lsrw	#2,%d1
		lea	byte_1E0CC(%pc,%d1.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x2C(%a0)
		addw	%d1,%d1
		lea	off_1E0D8(%pc,%d1.w),%a1
		movel	(%a1)+,0x30(%a0)
		movel	(%a1)+,0x34(%a0)
		cmpiw	#0x10,%d1
		bnes	loc_1E0F0
		movel	#loc_1E1C2,(%a0)
		rts
/*  --------------------------------------------------------------------------- */
byte_1E0CC:	.byte 0x40
		.byte 0x20
		.byte 0
		.byte 0x80
		.byte 0x30
		.byte 0x20
		.byte 3
		.byte 0x80
		.byte 0x40
		.byte 0x20
		.byte 6
		.byte 0x80
off_1E0D8:	.long byte_1E58F
		.long byte_1E5AF
		.long byte_1E5CF
		.long byte_1E5E7
		.long byte_1E58F
		.long byte_1E5AF
/*  --------------------------------------------------------------------------- */

loc_1E0F0:
		cmpib	#5,(Current_zone):w
		bnes	loc_1E150
		moveb	0x2C(%a0),%d0
		bpls	loc_1E112
		moveb	%d0,%d1
		andib	#0xF,%d1
		moveb	%d1,0x40(%a0)
		movel	#loc_1E2E8,(%a0)
		andib	#0x70,%d0

loc_1E112:
		moveb	%d0,%d1
		andiw	#0xF,%d0
		lslw	#4,%d0
		addqw	#8,%d0
		moveb	%d0,0x38(%a0)
		movel	#Map_ICZCollapsingBridge,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x50,7(%a0)
		moveb	#0x38,6(%a0)
		movel	#byte_1E5FF,0x30(%a0)
		movel	#byte_1E62B,0x34(%a0)
		moveb	#3,0x22(%a0)

loc_1E150:
		tstb	0x3A(%a0)
		beqs	loc_1E19A
		tstb	0x38(%a0)
		bnes	loc_1E196
		moveal	0x30(%a0),%a4
		tstb	0x2C(%a0)
		bpls	loc_1E192
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_1E192
		movew	(Player_1+x_pos):w,%d1
		andib	#8,%d0
		bnes	loc_1E17E
		movew	(Player_2+x_pos):w,%d1

loc_1E17E:
		cmpw	0x10(%a0),%d1
		bccs	loc_1E192
		moveal	0x34(%a0),%a4
		bchg	#0,0x2A(%a0)
		addqb	#1,0x22(%a0)

loc_1E192:
		braw	loc_1E402
/*  --------------------------------------------------------------------------- */

loc_1E196:
		subqb	#1,0x38(%a0)

loc_1E19A:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_1E1AA
		moveb	#1,0x3A(%a0)

loc_1E1AA:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		movew	#0x10,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		braw	Sprite_OnScreen_Test
/*  --------------------------------------------------------------------------- */

loc_1E1C2:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		movew	#0x10,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_1E244
		moveb	(Player_1+status_tertiary):w,%d1
		andib	#8,%d0
		bnes	loc_1E1EE
		moveb	(Player_2+status_tertiary):w,%d1

loc_1E1EE:
		tstb	%d1
		bpls	loc_1E244
		bclr	#3,0x2A(%a0)
		beqs	loc_1E204
		lea	(Player_1):w,%a1
		bclr	#3,0x2A(%a1)

loc_1E204:
		bclr	#4,0x2A(%a0)
		beqs	loc_1E216
		lea	(Player_2):w,%a1
		bclr	#3,0x2A(%a1)

loc_1E216:
		lea	(word_1E268):l,%a4
		addqb	#1,0x22(%a0)
		movew	#0x80,8(%a0)
		movel	#loc_1E248,(%a0)
		jsr	(sub_1F98C):l
		movew	0x48(%a0),%d0
		beqs	loc_1E242
		moveaw	%d0,%a1
		bclr	#7,(%a1)
		clrw	0x48(%a0)

loc_1E242:
		bras	loc_1E248
/*  --------------------------------------------------------------------------- */

loc_1E244:
		braw	Sprite_OnScreen_Test
/*  --------------------------------------------------------------------------- */

loc_1E248:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_1E262
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1E262:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
word_1E268:	.word 0xFC00
		.word 0xF600
		.word 0xFD00
		.word 0xF600
		.word 0xFE00
		.word 0xF600
		.word 0xFF00
		.word 0xF600
		.word 0x100
		.word 0xF600
		.word 0x200
		.word 0xF600
		.word 0x300
		.word 0xF600
		.word 0x400
		.word 0xF600
		.word 0xFC40
		.word 0xF700
		.word 0xFD40
		.word 0xF700
		.word 0xFE40
		.word 0xF700
		.word 0xFF40
		.word 0xF700
		.word 0xC0
		.word 0xF700
		.word 0x1C0
		.word 0xF700
		.word 0x2C0
		.word 0xF700
		.word 0x3C0
		.word 0xF700
		.word 0xFC80
		.word 0xF800
		.word 0xFD80
		.word 0xF800
		.word 0xFE80
		.word 0xF800
		.word 0xFF80
		.word 0xF800
		.word 0x80
		.word 0xF800
		.word 0x180
		.word 0xF800
		.word 0x280
		.word 0xF800
		.word 0x380
		.word 0xF800
		.word 0xFCC0
		.word 0xF900
		.word 0xFDC0
		.word 0xF900
		.word 0xFEC0
		.word 0xF900
		.word 0xFFC0
		.word 0xF900
		.word 0x40
		.word 0xF900
		.word 0x140
		.word 0xF900
		.word 0x240
		.word 0xF900
		.word 0x340
		.word 0xF900
/*  --------------------------------------------------------------------------- */

loc_1E2E8:
		tstb	0x3A(%a0)
		beqs	loc_1E332
		tstb	0x38(%a0)
		bnes	loc_1E32E
		moveal	0x30(%a0),%a4
		tstb	0x2C(%a0)
		bpls	loc_1E32A
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_1E32A
		movew	(Player_1+x_pos):w,%d1
		andib	#8,%d0
		bnes	loc_1E316
		movew	(Player_2+x_pos):w,%d1

loc_1E316:
		cmpw	0x10(%a0),%d1
		bccs	loc_1E32A
		moveal	0x34(%a0),%a4
		bchg	#0,0x2A(%a0)
		addqb	#1,0x22(%a0)

loc_1E32A:
		braw	loc_1E402
/*  --------------------------------------------------------------------------- */

loc_1E32E:
		subqb	#1,0x38(%a0)

loc_1E332:
		moveb	0x40(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		tstb	(%a3)
		beqs	loc_1E350
		moveb	#1,0x3A(%a0)
		clrw	0x48(%a0)

loc_1E350:
		braw	loc_1E1AA
/*  --------------------------------------------------------------------------- */

Obj_PlatformCollapseWait:
		tstb	0x38(%a0)
		beqw	Obj_PlatformCollapseFall
		tstb	0x3A(%a0)
		bnes	Obj_PlatformCollapseWaitHandlePlayer
		subqb	#1,0x38(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_PlatformCollapseFall:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bpls	loc_1E37E
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1E37E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_PlatformCollapseWaitHandlePlayer:
		subqb	#1,0x38(%a0)
		moveb	0x38(%a0),%d3
		moveal	0x30(%a0),%a2
		moveq	#0,%d1
		moveb	7(%a0),%d1
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrs	Check_CollapsePlayerRelease
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrs	Check_CollapsePlayerRelease
		braw	Sprite_OnScreen_Test

/*  =============== S U B R O U T I N E ======================================= */


Check_CollapsePlayerRelease:
		btst	%d6,0x2A(%a0)
		beqs	locret_1E400
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_1E3E4
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_1E3E4
		cmpw	%d2,%d0
		bccs	loc_1E3E4
		btst	#0,0x2A(%a0)
		beqs	loc_1E3D8
		negw	%d0
		addw	%d2,%d0

loc_1E3D8:
		lsrw	#4,%d0
		moveb	(%a2),%d2
		subb	(%a2,%d0.w),%d2
		cmpb	%d2,%d3
		bhis	locret_1E400

loc_1E3E4:
		bclr	%d6,0x2A(%a0)
		bclr	#3,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x21(%a1)

locret_1E400:
		rts
/*  End of function Check_CollapsePlayerRelease */

/*  --------------------------------------------------------------------------- */

loc_1E402:
		movel	#Obj_PlatformCollapseWait,(%a0)
		addqb	#1,0x22(%a0)
		bras	loc_1E41C
/*  --------------------------------------------------------------------------- */

loc_1E40E:
		movel	#loc_1DEEC,(%a0)
		addqb	#2,0x22(%a0)
		moveal	0x30(%a0),%a4

loc_1E41C:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		moveal	0xC(%a0),%a3
		addaw	(%a3,%d0.w),%a3
		movew	(%a3)+,%d1
		subqw	#1,%d1
		bset	#5,4(%a0)
		movel	(%a0),%d4
		moveb	4(%a0),%d5
		moveal	%a0,%a1
		bras	loc_1E448
/*  --------------------------------------------------------------------------- */

loc_1E440:
		bsrw	Create_New_Sprite3
		bnes	loc_1E47E
		addqw	#6,%a3

loc_1E448:
		movel	%d4,(%a1)
		movel	%a3,0xC(%a1)
		moveb	%d5,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0xA(%a0),0xA(%a1)
		movew	8(%a0),8(%a1)
		moveb	7(%a0),7(%a1)
		moveb	6(%a0),6(%a1)
		moveb	(%a4)+,0x38(%a1)
		dbf	%d1,loc_1E440

loc_1E47E:
		jsr	(Draw_Sprite):l
		movew	0x48(%a0),%d0
		beqs	loc_1E494
		moveaw	%d0,%a1
		bclr	#7,(%a1)
		clrw	0x48(%a0)

loc_1E494:
		moveq	#sfx_Collapse,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */
byte_1E49C:	.byte  0x30, 0x2C, 0x28, 0x24, 0x20, 0x1C, 0x2E, 0x2A, 0x26, 0x22, 0x1E, 0x1A, 0x2C, 0x28, 0x24, 0x20, 0x1C, 0x18, 0x2A, 0x26
		.byte  0x22, 0x1E, 0x1A, 0x16, 0x28, 0x24, 0x20, 0x1C, 0x18, 0x14
byte_1E4BA:	.byte  0x30, 0x2C, 0x28, 0x24, 0x20, 0x1C, 0x2E, 0x2A, 0x26, 0x22, 0x1E, 0x1A, 0x2C, 0x28, 0x24, 0x20, 0x1C, 0x18, 0x2A, 0x26
		.byte  0x22, 0x1E, 0x1A, 0x16, 0x28, 0x24, 0x20, 0x1C, 0x18, 0x14, 0x12, 0x10
LBZBridgeCollapse_TimerArray:
		.byte  0x20, 0x1C, 0x18, 0x14, 0x10,  0xC,   8,   4, 0x1E, 0x1A, 0x16, 0x12,  0xE,  0xA,   6,   2
LBZBridgeCollapse_TimerFlipArray:
		.byte  0x20,   4,   8,  0xC, 0x10, 0x14, 0x18, 0x1C,   2,   6,  0xA,  0xE, 0x12, 0x16, 0x1A, 0x1E
LBZLedgeCollapse_TimerArray:
		.byte  0x20, 0x18, 0x10,   8, 0x1E, 0x16,  0xE,   6, 0x1C, 0x14,  0xC,   4, 0x1A, 0x12
byte_1E508:	.byte  0x20, 0x1C, 0x18, 0x14, 0x10,  0xC,   8,   4, 0x1E, 0x1A, 0x16, 0x12,  0xE,  0xA,   6,   2
byte_1E518:	.byte  0x20,   4,   8,  0xC, 0x10, 0x14, 0x18, 0x1C,   2,   6,  0xA,  0xE, 0x12, 0x16, 0x1A, 0x1E
byte_1E528:	.byte  0x28, 0x24, 0x20, 0x1C, 0x18, 0x14, 0x10,  0xC,   8,   4, 0x26, 0x22, 0x1E, 0x1A, 0x16, 0x12,  0xE,  0xA,   6,   2
byte_1E53C:	.byte  0x28,   4,   8,  0xC, 0x10, 0x14, 0x18, 0x1C, 0x20, 0x24,   2,   6,  0xA,  0xE, 0x12, 0x16, 0x1A, 0x1E, 0x22, 0x26
byte_1E550:	.byte  0x1C,   4,   8,  0xC, 0x10, 0x14, 0x18,   2,   6,  0xA,  0xE, 0x12, 0x16, 0x1A, 0x1E
byte_1E55F:	.byte  0x30, 0x2A, 0x24, 0x1E, 0x18, 0x12,  0xC,   6, 0x2E, 0x28, 0x22, 0x1C, 0x16, 0x10,  0xA,   4, 0x2C, 0x26, 0x20, 0x1A
		.byte  0x14,  0xE,   8,   2
byte_1E577:	.byte  0x30,   6,  0xC, 0x12, 0x18, 0x1E, 0x24, 0x2A,   4,  0xA, 0x10, 0x16, 0x1C, 0x22, 0x28, 0x2E,   2,   8,  0xE, 0x14
		.byte  0x1A, 0x20, 0x26, 0x2C
byte_1E58F:	.byte  0x40, 0x38, 0x30, 0x28, 0x20, 0x18, 0x10,   8, 0x3E, 0x36, 0x2E, 0x26, 0x1E, 0x16,  0xE,   6, 0x3C, 0x34, 0x2C, 0x24
		.byte  0x1C, 0x14,  0xC,   4, 0x3A, 0x32, 0x2A, 0x22, 0x1A, 0x12,  0xA,   2
byte_1E5AF:	.byte  0x40,   8, 0x10, 0x18, 0x20, 0x28, 0x30, 0x38,   6,  0xE, 0x16, 0x1E, 0x26, 0x2E, 0x36, 0x3E,   4,  0xC, 0x14, 0x1C
		.byte  0x24, 0x2C, 0x34, 0x3C,   2,  0xA, 0x12, 0x1A, 0x22, 0x2A, 0x32, 0x3A
byte_1E5CF:	.byte  0x30, 0x28, 0x20, 0x18, 0x10,   8, 0x2E, 0x26, 0x1E, 0x16,  0xE,   6, 0x2C, 0x24, 0x1C, 0x14,  0xC,   4, 0x2A, 0x22
		.byte  0x1A, 0x12,  0xA,   2
byte_1E5E7:	.byte  0x30,   8, 0x10, 0x18, 0x20, 0x28,   6,  0xE, 0x16, 0x1E, 0x26, 0x2E,   4,  0xC, 0x14, 0x1C, 0x24, 0x2C,   2,  0xA
		.byte  0x12, 0x1A, 0x22, 0x2A
byte_1E5FF:	.byte  0x28, 0x24, 0x20, 0x1C, 0x18, 0x14, 0x10,  0xC,   8,   4, 0x27, 0x23, 0x1F, 0x1B, 0x17, 0x13,  0xF,  0xB,   7,   3
		.byte  0x26, 0x22, 0x1E, 0x1A, 0x16, 0x12,  0xE,  0xA,   6,   2, 0x25, 0x21, 0x1D, 0x19, 0x15, 0x11,  0xD,   9,   5,   1
		.byte    4,   3,   2,   1
byte_1E62B:	.byte  0x28,   4,   8,  0xC, 0x10, 0x14, 0x18, 0x1C, 0x20, 0x24,   3,   7,  0xB,  0xF, 0x13, 0x17, 0x1B, 0x1F, 0x23, 0x27
		.byte    2,   6,  0xA,  0xE, 0x12, 0x16, 0x1A, 0x1E, 0x22, 0x26,   1,   5,   9,  0xD, 0x11, 0x15, 0x19, 0x1D, 0x21, 0x25
		.byte    1,   2,   3,   4,   0
byte_1E658:	.byte  0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F
		.byte  0x1F, 0x1F, 0x1E, 0x1E, 0x1D, 0x1D, 0x1C, 0x1C, 0x1B, 0x1B, 0x1A, 0x1A, 0x19, 0x19, 0x18, 0x18, 0x17, 0x17, 0x16, 0x16
		.byte  0x15, 0x15, 0x14, 0x14, 0x13, 0x13, 0x12, 0x12, 0x11, 0x11, 0x10, 0x10,  0xF,  0xF,  0xE,  0xE,  0xE,  0xE,  0xE,  0xE
		.byte   0xE,  0xE,  0xE,  0xE
byte_1E698:	.byte  0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x2F, 0x2F, 0x2F, 0x2F, 0x2F, 0x2F, 0x2F, 0x2F
		.byte  0x2F, 0x2F, 0x2F, 0x2F, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2E, 0x2D, 0x2D, 0x2D, 0x2D, 0x2D, 0x2D, 0x2D, 0x2D
		.byte  0x2D, 0x2D, 0x2D, 0x2D, 0x2D, 0x2C, 0x2B, 0x2A
Map_AIZCollapsingPlatform:
		.include "Levels/AIZ/Misc Object Data/Map - Collapsing Platform.S"
Map_AIZCollapsingPlatform2:
		.include "Levels/AIZ/Misc Object Data/Map - Collapsing Platform 2.S"
Map_LBZCollapsingBridge:
		.include "Levels/LBZ/Misc Object Data/Map - Collapsing Bridge.S"
Map_LBZCollapsingLedge:
		.include "Levels/LBZ/Misc Object Data/Map - Collapsing Ledge.S"
Map_HCZCollapsingBridge:
		.include "Levels/HCZ/Misc Object Data/Map - Collapsing Bridge.S"
Map_MGZCollapsingBridge:
		.include "Levels/MGZ/Misc Object Data/Map - Collapsing Bridge.S"
Map_ICZCollapsingBridge:
		.include "Levels/ICZ/Misc Object Data/Map - Collapsing Bridge.S"
/*  --------------------------------------------------------------------------- */

Obj_BreakableWall:
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		movel	#loc_1F844,(%a0)
		moveb	0x2C(%a0),%d0
		bpls	loc_1F6E0
		tstb	(Level_trigger_array):w
		beqs	loc_1F6E0
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1F6E0:
		andib	#0xF,%d0
		moveb	%d0,0x22(%a0)
		movel	#Map_AIZBreakableWall,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x28,6(%a0)
		movel	#word_1FBE2,0x34(%a0)
		movel	#word_1FC0A,0x38(%a0)
		cmpib	#1,(Current_zone):w
		bnes	loc_1F776
		movel	#Map_HCZBreakableWall,0xC(%a0)
		movew	#0x6001,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_1FC32,0x34(%a0)
		movel	#word_1FC52,0x38(%a0)
		cmpib	#2,0x22(%a0)
		bnes	loc_1F776
		movew	#0x4350,0xA(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_1FC32,0x34(%a0)
		movel	#word_1FC52,0x38(%a0)
		movel	#loc_1FAEC,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1F776:
		cmpib	#2,(Current_zone):w
		bnes	loc_1F7C8
		movel	#Map_MGZBreakableWall,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x28,6(%a0)
		movel	#word_1FCC2,0x34(%a0)
		movel	#word_1FC72,0x38(%a0)
		btst	#4,0x2C(%a0)
		beqs	loc_1F7B8
		movel	#loc_1FAEC,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1F7B8:
		cmpib	#2,0x22(%a0)
		bnes	loc_1F7C8
		movel	#loc_1FA02,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1F7C8:
		cmpib	#3,(Current_zone):w
		bnes	loc_1F80A
		movel	#Map_CNZBreakableWall,0xC(%a0)
		movew	#0x4420,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_1FD12,0x34(%a0)
		movel	#word_1FD32,0x38(%a0)
		cmpib	#2,0x22(%a0)
		bnes	loc_1F80A
		movel	#loc_1FAEC,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1F80A:
		cmpib	#6,(Current_zone):w
		bnes	loc_1F844
		movel	#Map_LBZBreakableWall,0xC(%a0)
		movew	#0x22EA,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_1FC32,0x34(%a0)
		movel	#word_1FC52,0x38(%a0)
		movel	#loc_1FAEC,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_1F844:
		movew	(Player_1+x_vel):w,0x30(%a0)
		movew	(Player_2+x_vel):w,0x32(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		tstb	0x2C(%a0)
		bpls	loc_1F880
		tstb	(Level_trigger_array):w
		beqs	loc_1F888
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1F880:
		swap	%d6
		andiw	#3,%d6
		bnes	loc_1F88E

loc_1F888:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_1F88E:
		lea	(Player_1):w,%a1
		movew	0x30(%a0),%d1
		movew	%d6,%d0
		andiw	#1,%d0
		beqs	loc_1F906
		tstb	(Super_Sonic_Knux_flag):w
		bnes	loc_1F8D0
		btst	#4,0x2B(%a1)
		bnes	loc_1F8BC
		cmpib	#2,0x38(%a1)
		beqs	loc_1F8D0
		btst	#5,0x2A(%a0)
		beqs	loc_1F906

loc_1F8BC:
		cmpib	#2,0x20(%a1)
		bnes	loc_1F906
		movew	%d1,%d0
		bpls	loc_1F8CA
		negw	%d0

loc_1F8CA:
		cmpiw	#0x480,%d0
		bcss	loc_1F906

loc_1F8D0:
		bclr	#5,0x2A(%a0)
		bsrs	sub_1F936
		btst	#6,0x2A(%a0)
		beqs	loc_1F888
		lea	(Player_2):w,%a1
		cmpib	#2,0x20(%a1)
		bnes	loc_1F888
		movew	0x32(%a0),0x18(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#6,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		bras	loc_1F888
/*  --------------------------------------------------------------------------- */

loc_1F906:
		lea	(Player_2):w,%a1
		movew	0x32(%a0),%d1
		btst	#6,0x2A(%a0)
		beqw	loc_1F888
		cmpib	#2,0x20(%a1)
		bnew	loc_1F888
		movew	%d1,%d0
		bpls	loc_1F928
		negw	%d0

loc_1F928:
		cmpiw	#0x480,%d0
		bcsw	loc_1F888
		bclr	#6,0x2A(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_1F936:
		movew	%d1,0x18(%a1)
		addqw	#4,0x10(%a1)
		moveal	0x34(%a0),%a4
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_1F956
		subiw	#8,0x10(%a1)
		moveal	0x38(%a0),%a4

loc_1F956:
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		movel	#loc_1F96E,(%a0)
		addqb	#1,0x22(%a0)
		bsrs	sub_1F98C

loc_1F96E:
		jsr	(MoveSprite2):l
		addiw	#0x70,0x1A(%a0)
		tstb	4(%a0)
		bpls	loc_1F986
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1F986:
		jmp	(Delete_Current_Sprite):l
/*  End of function sub_1F936 */


/*  =============== S U B R O U T I N E ======================================= */


sub_1F98C:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		moveal	0xC(%a0),%a3
		addaw	(%a3,%d0.w),%a3
		movew	(%a3)+,%d1
		subqw	#1,%d1
		bset	#5,4(%a0)
		movel	(%a0),%d4
		moveb	4(%a0),%d5
		moveal	%a0,%a1
		bras	loc_1F9BA
/*  --------------------------------------------------------------------------- */

loc_1F9B0:
		jsr	(Create_New_Sprite3):l
		bnes	loc_1F9FA
		addqw	#6,%a3

loc_1F9BA:
		movel	%d4,(%a1)
		movel	%a3,0xC(%a1)
		moveb	%d5,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0xA(%a0),0xA(%a1)
		oriw	#-0x8000,0xA(%a1)
		moveb	8(%a0),8(%a1)
		moveb	7(%a0),7(%a1)
		moveb	6(%a0),6(%a1)
		movew	(%a4)+,0x18(%a1)
		movew	(%a4)+,0x1A(%a1)
		dbf	%d1,loc_1F9B0

loc_1F9FA:
		moveq	#sfx_Collapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_1F98C */

/*  --------------------------------------------------------------------------- */

loc_1FA02:
		movew	(Player_1+x_vel):w,0x30(%a0)
		movew	(Player_2+x_vel):w,0x32(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		swap	%d6
		andib	#3,%d6
		beqw	loc_1FABC
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_1FA90
		lea	(Player_1):w,%a1
		bclr	#6,0x37(%a1)
		beqs	loc_1FA90
		movew	0x30(%a0),0x18(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		bclr	#5,0x2A(%a0)
		bsrs	sub_1FAC2
		andib	#2,%d6
		beqs	loc_1FABC
		lea	(Player_2):w,%a1
		bclr	#6,0x37(%a1)
		beqs	loc_1FABC
		movew	0x32(%a0),0x18(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		bclr	#6,0x2A(%a0)
		bras	loc_1FABC
/*  --------------------------------------------------------------------------- */

loc_1FA90:
		andib	#2,%d6
		beqs	loc_1FABC
		lea	(Player_2):w,%a1
		bclr	#6,0x37(%a1)
		beqs	loc_1FABC
		movew	0x32(%a0),0x18(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		bclr	#6,0x2A(%a0)
		bsrs	sub_1FAC2

loc_1FABC:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_1FAC2:
		moveal	0x34(%a0),%a4
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_1FADA
		subiw	#8,0x10(%a1)
		moveal	0x38(%a0),%a4

loc_1FADA:
		movel	#loc_1F96E,(%a0)
		addqb	#1,0x22(%a0)
		bsrw	sub_1F98C
		braw	loc_1F96E
/*  End of function sub_1FAC2 */

/*  --------------------------------------------------------------------------- */

loc_1FAEC:
		movew	(Player_1+x_vel):w,0x30(%a0)
		movew	(Player_2+x_vel):w,0x32(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		tstb	0x2C(%a0)
		bpls	loc_1FB28
		tstb	(Level_trigger_array):w
		beqs	loc_1FB32
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_1FB28:
		moveb	0x2A(%a0),%d0
		andib	#0x60,%d0
		bnes	loc_1FB38

loc_1FB32:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_1FB38:
		lea	(Player_1):w,%a1
		movew	0x30(%a0),%d1
		btst	#5,0x2A(%a0)
		beqs	loc_1FB86
		cmpib	#2,0x38(%a1)
		bnes	loc_1FB86
		bclr	#5,0x2A(%a0)
		bsrs	sub_1FBA4
		btst	#6,0x2A(%a0)
		beqs	loc_1FB32
		lea	(Player_2):w,%a1
		cmpib	#2,0x38(%a1)
		bnes	loc_1FB32
		movew	0x32(%a0),0x18(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#6,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		bras	loc_1FB32
/*  --------------------------------------------------------------------------- */

loc_1FB86:
		lea	(Player_2):w,%a1
		movew	0x32(%a0),%d1
		btst	#6,0x2A(%a0)
		beqs	loc_1FB32
		cmpib	#2,0x38(%a1)
		bnes	loc_1FB32
		bclr	#6,0x2A(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_1FBA4:
		movew	%d1,0x18(%a1)
		addqw	#4,0x10(%a1)
		moveal	0x34(%a0),%a4
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_1FBC4
		subiw	#8,0x10(%a1)
		moveal	0x38(%a0),%a4

loc_1FBC4:
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a1)
		movel	#loc_1F96E,(%a0)
		addqb	#1,0x22(%a0)
		bsrw	sub_1F98C
		braw	loc_1F96E
/*  End of function sub_1FBA4 */

/*  --------------------------------------------------------------------------- */
word_1FBE2:	.word 0x400
		.word 0xFB00
		.word 0x600
		.word 0xFA00
		.word 0x600
		.word 0xFF00
		.word 0x800
		.word 0xFE00
		.word 0x680
		.word 0
		.word 0x880
		.word 0
		.word 0x600
		.word 0x100
		.word 0x800
		.word 0x200
		.word 0x400
		.word 0x500
		.word 0x600
		.word 0x600
word_1FC0A:	.word 0xFA00
		.word 0xFA00
		.word 0xFC00
		.word 0xFB00
		.word 0xF800
		.word 0xFE00
		.word 0xFA00
		.word 0xFF00
		.word 0xF780
		.word 0
		.word 0xF980
		.word 0
		.word 0xF800
		.word 0x200
		.word 0xFA00
		.word 0x100
		.word 0xFA00
		.word 0x600
		.word 0xFC00
		.word 0x500
word_1FC32:	.word 0x400
		.word 0xFB00
		.word 0x600
		.word 0xFA00
		.word 0x600
		.word 0xFF00
		.word 0x800
		.word 0xFE00
		.word 0x600
		.word 0x100
		.word 0x800
		.word 0x200
		.word 0x400
		.word 0x500
		.word 0x600
		.word 0x600
word_1FC52:	.word 0xFA00
		.word 0xFA00
		.word 0xFC00
		.word 0xFB00
		.word 0xF800
		.word 0xFE00
		.word 0xFA00
		.word 0xFF00
		.word 0xF800
		.word 0x200
		.word 0xFA00
		.word 0x100
		.word 0xFA00
		.word 0x600
		.word 0xFC00
		.word 0x500
word_1FC72:	.word 0x400
		.word 0xFB00
		.word 0x500
		.word 0xFA80
		.word 0x600
		.word 0xFA00
		.word 0x700
		.word 0xF980
		.word 0x600
		.word 0xFF00
		.word 0x700
		.word 0xFE80
		.word 0x800
		.word 0xFE00
		.word 0x900
		.word 0xFD80
		.word 0x680
		.word 0
		.word 0x780
		.word 0
		.word 0x880
		.word 0
		.word 0x980
		.word 0
		.word 0x600
		.word 0x100
		.word 0x700
		.word 0x180
		.word 0x800
		.word 0x200
		.word 0x900
		.word 0x280
		.word 0x400
		.word 0x500
		.word 0x500
		.word 0x580
		.word 0x600
		.word 0x600
		.word 0x700
		.word 0x680
word_1FCC2:	.word 0xF900
		.word 0xF980
		.word 0xFA00
		.word 0xFA00
		.word 0xFB00
		.word 0xFA80
		.word 0xFC00
		.word 0xFB00
		.word 0xF700
		.word 0xFD80
		.word 0xF800
		.word 0xFE00
		.word 0xF900
		.word 0xFE80
		.word 0xFA00
		.word 0xFF00
		.word 0xF680
		.word 0
		.word 0xF780
		.word 0
		.word 0xF880
		.word 0
		.word 0xF980
		.word 0
		.word 0xF700
		.word 0x280
		.word 0xF800
		.word 0x200
		.word 0xF900
		.word 0x180
		.word 0xFA00
		.word 0x100
		.word 0xF900
		.word 0x680
		.word 0xFA00
		.word 0x600
		.word 0xFB00
		.word 0x580
		.word 0xFC00
		.word 0x500
word_1FD12:	.word 0x400
		.word 0xFB00
		.word 0x600
		.word 0xFA00
		.word 0x600
		.word 0xFF00
		.word 0x800
		.word 0xFE00
		.word 0x600
		.word 0x100
		.word 0x800
		.word 0x200
		.word 0x400
		.word 0x500
		.word 0x600
		.word 0x600
word_1FD32:	.word 0xFA00
		.word 0xFA00
		.word 0xFC00
		.word 0xFB00
		.word 0xF800
		.word 0xFE00
		.word 0xFA00
		.word 0xFF00
		.word 0xF800
		.word 0x200
		.word 0xFA00
		.word 0x100
		.word 0xFA00
		.word 0x600
		.word 0xFC00
		.word 0x500
Map_AIZBreakableWall:
		.include "Levels/AIZ/Misc Object Data/Map - Breakable Wall.S"
Map_CNZBreakableWall:
		.include "Levels/CNZ/Misc Object Data/Map - Breakable Wall S3.S"
Map_MGZBreakableWall:
		.include "Levels/MGZ/Misc Object Data/Map - Breakable Wall.S"
Map_HCZBreakableWall:
		.include "Levels/HCZ/Misc Object Data/Map - Breakable Wall.S"
Map_LBZBreakableWall:
		.include "Levels/LBZ/Misc Object Data/Map - Breakable Wall.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZRideVine:
		moveal	%a0,%a1
		movel	#loc_20168,(%a1)
		bsrw	sub_20140
		moveb	#0x21,0x22(%a1)
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		andiw	#0x7F,%d1
		lslw	#4,%d1
		addw	%d2,%d1
		movew	%d1,0x46(%a0)
		moveq	#3,%d1
		addqw	#1,%d1
		jsr	(Create_New_Sprite3):l
		bnew	loc_2013E
		movew	%a1,0x3E(%a0)
		movel	#loc_203C0,(%a1)
		movew	%a0,0x3C(%a1)
		bras	loc_20110
/*  --------------------------------------------------------------------------- */

loc_200F8:
		jsr	(Create_New_Sprite3):l
		bnew	loc_2013E
		movel	#loc_20454,(%a1)
		movew	%a2,0x3C(%a1)
		movew	%a1,0x3E(%a2)

loc_20110:
		moveal	%a1,%a2
		bsrs	sub_20140
		movew	%d2,0x10(%a1)
		movew	%d3,0x14(%a1)
		addiw	#0x10,%d3
		addqw	#1,0x36(%a0)
		movew	0x36(%a0),0x36(%a1)
		dbf	%d1,loc_200F8
		movel	#Obj_AIZRideVineHandle,(%a1)
		moveb	#0x20,0x22(%a1)
		movew	%a1,0x40(%a0)

loc_2013E:
		bras	loc_20168

/*  =============== S U B R O U T I N E ======================================= */


sub_20140:
		moveb	#4,4(%a1)
		moveb	#8,7(%a1)
		moveb	#8,6(%a1)
		movew	#0x200,8(%a1)
		movel	#Map_AIZRideVine,0xC(%a1)
		movew	#0x41B,0xA(%a1)
		rts
/*  End of function sub_20140 */

/*  --------------------------------------------------------------------------- */

loc_20168:
		moveaw	0x40(%a0),%a1
		tstw	0x32(%a1)
		beqs	loc_20188
		movel	#loc_2018C,(%a0)
		moveaw	0x3E(%a0),%a1
		movew	#1,0x2E(%a1)
		movew	#0,0x38(%a1)

loc_20188:
		braw	loc_20378
/*  --------------------------------------------------------------------------- */

loc_2018C:
		addil	#0x80000,0x10(%a0)
		addil	#0x20000,0x14(%a0)
		movew	0x10(%a0),%d0
		cmpw	0x46(%a0),%d0
		bcsw	loc_2022E
		tstb	0x2C(%a0)
		bpls	loc_20202
		movel	#loc_20232,(%a0)
		movew	#0x800,0x18(%a0)
		movew	#0x200,0x1A(%a0)
		movel	#Map_AnimatedStillSprites,0xC(%a0)
		movew	#0x62E9,0xA(%a0)
		moveb	#8,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#0,0x22(%a0)
		movew	#1,0x20(%a0)
		moveaw	0x40(%a0),%a1
		lea	0x32(%a1),%a2
		tstb	(%a2)
		beqs	loc_201F6
		moveb	#-0x7F,(%a2)

loc_201F6:
		addqw	#1,%a2
		tstb	(%a2)
		beqs	loc_20200
		moveb	#-0x7F,(%a2)

loc_20200:
		bras	loc_2022E
/*  --------------------------------------------------------------------------- */

loc_20202:
		movel	#loc_20254,(%a0)
		moveaw	0x3E(%a0),%a1
		movel	#loc_20428,(%a1)
		movew	#0,0x3A(%a1)
		moveaw	0x40(%a0),%a1
		movew	#1,0x30(%a1)
		movew	#0,0x26(%a0)
		movew	#0x400,0x3A(%a0)

loc_2022E:
		braw	loc_20378
/*  --------------------------------------------------------------------------- */

loc_20232:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmis	loc_20244
		movew	#0x7FF0,0x10(%a0)

loc_20244:
		lea	(Ani_AnimatedStillSprites):l,%a1
		jsr	(Animate_Sprite):l
		braw	loc_20378
/*  --------------------------------------------------------------------------- */

loc_20254:
		moveaw	0x40(%a0),%a1
		movew	0x3A(%a0),%d0
		moveb	0x26(%a0),%d1
		extw	%d1
		bpls	loc_20266
		negw	%d1

loc_20266:
		addw	%d1,%d1
		subw	%d1,%d0
		subw	%d0,0x26(%a0)
		tstw	0x32(%a1)
		bnes	loc_202A8
		moveb	0x26(%a0),%d0
		addqb	#8,%d0
		cmpib	#0x10,%d0
		bccs	loc_202A8
		movel	#loc_202AC,(%a0)
		movew	#0,0x42(%a0)
		movew	#-0x300,0x44(%a0)
		movew	#0x1000,0x38(%a0)
		movew	#0,0x2E(%a0)
		moveaw	0x40(%a0),%a1
		movew	#2,0x30(%a1)

loc_202A8:
		braw	loc_20378
/*  --------------------------------------------------------------------------- */

loc_202AC:
		moveq	#0,%d2
		moveb	0x38(%a0),%d2
		movew	0x44(%a0),%d0
		movew	#0,%d1
		tstw	0x2E(%a0)
		bnes	loc_20304
		addw	%d2,%d0
		movew	%d0,0x44(%a0)
		addw	%d0,0x42(%a0)
		cmpb	0x42(%a0),%d1
		bgts	loc_2032E
		asrw	#4,%d0
		subw	%d0,0x44(%a0)
		movew	#1,0x2E(%a0)
		cmpiw	#0xC00,0x38(%a0)
		beqs	loc_202EC
		subiw	#0x40,0x38(%a0)
		bras	loc_2032E
/*  --------------------------------------------------------------------------- */

loc_202EC:
		movel	#loc_2034A,(%a0)
		movew	#0,0x38(%a0)
		moveaw	0x40(%a0),%a1
		movew	#0,0x30(%a1)
		bras	loc_2032E
/*  --------------------------------------------------------------------------- */

loc_20304:
		subw	%d2,%d0
		movew	%d0,0x44(%a0)
		addw	%d0,0x42(%a0)
		cmpb	0x42(%a0),%d1
		bles	loc_2032E
		asrw	#4,%d0
		subw	%d0,0x44(%a0)
		movew	#0,0x2E(%a0)
		cmpiw	#0xC00,0x38(%a0)
		beqs	loc_202EC
		subiw	#0x40,0x38(%a0)

loc_2032E:
		movew	0x42(%a0),%d0
		movew	%d0,0x26(%a0)
		asrw	#3,%d0
		movew	%d0,0x3A(%a0)
		moveaw	0x3E(%a0),%a1
		movew	0x3A(%a0),0x3A(%a1)
		braw	loc_20378
/*  --------------------------------------------------------------------------- */

loc_2034A:
		moveb	0x38(%a0),%d0
		addiw	#0x200,0x38(%a0)
		jsr	(GetSineCosine):l
		aslw	#2,%d0
		cmpiw	#0x400,%d0
		bnes	loc_20366
		movew	#0x3FF,%d0

loc_20366:
		movew	%d0,0x26(%a0)
		movew	%d0,0x3A(%a0)
		moveaw	0x3E(%a0),%a1
		movew	0x3A(%a0),0x3A(%a1)

loc_20378:
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_20392
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_20392:
		movew	0x36(%a0),%d2
		subqw	#1,%d2
		bcss	loc_203AE
		moveaw	0x3E(%a0),%a2

loc_2039E:
		moveal	%a2,%a1
		moveaw	0x3E(%a1),%a2
		jsr	(Delete_Referenced_Sprite):l
		dbf	%d2,loc_2039E

loc_203AE:
		movew	0x48(%a0),%d0
		beqs	loc_203BA
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_203BA:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_203C0:
		tstw	0x2E(%a0)
		bnes	loc_203E8
		moveb	0x38(%a0),%d0
		addiw	#0x200,0x38(%a0)
		jsr	(GetSineCosine):l
		aslw	#2,%d0
		cmpiw	#0x400,%d0
		bnes	loc_203E2
		movew	#0x3FF,%d0

loc_203E2:
		movew	%d0,0x3A(%a0)
		bras	loc_203FE
/*  --------------------------------------------------------------------------- */

loc_203E8:
		moveb	0x38(%a0),%d0
		addiw	#0x100,0x38(%a0)
		jsr	(GetSineCosine):l
		aslw	#3,%d0
		movew	%d0,0x3A(%a0)

loc_203FE:
		movew	0x3A(%a0),%d0
		movew	%d0,0x26(%a0)
		moveb	0x26(%a0),%d0
		addqb	#4,%d0
		lsrb	#3,%d0
		moveb	%d0,0x22(%a0)
		moveaw	0x3C(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_20428:
		moveaw	0x3C(%a0),%a1
		movew	0x26(%a1),0x26(%a0)
		moveb	0x26(%a0),%d0
		addqb	#4,%d0
		lsrb	#3,%d0
		moveb	%d0,0x22(%a0)
		moveaw	0x3C(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_20454:
		moveaw	0x3C(%a0),%a1
		movew	0x3A(%a1),0x3A(%a0)
		movew	0x26(%a1),%d0
		addw	0x3A(%a0),%d0
		movew	%d0,0x26(%a0)
		moveb	0x26(%a0),%d0
		addqb	#4,%d0
		lsrb	#3,%d0
		moveb	%d0,0x22(%a0)
		bsrw	sub_20480
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_20480:
		moveaw	0x3C(%a0),%a1
		moveb	0x26(%a1),%d0
		addqb	#4,%d0
		andib	#-8,%d0
		jsr	(GetSineCosine):l
		negw	%d0
		addiw	#8,%d0
		addiw	#8,%d1
		asrw	#4,%d0
		asrw	#4,%d1
		addw	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		addw	0x14(%a1),%d1
		movew	%d1,0x14(%a0)
		rts
/*  End of function sub_20480 */

/*  --------------------------------------------------------------------------- */

Obj_AIZRideVineHandle:
		movew	0x10(%a0),%d4
		movew	0x14(%a0),%d5
		bsrw	sub_20480
		cmpw	0x10(%a0),%d4
		beqs	loc_204CA
		movew	%d4,0x42(%a0)

loc_204CA:
		cmpw	0x14(%a0),%d5
		beqs	loc_204D4
		movew	%d5,0x44(%a0)

loc_204D4:
		lea	0x32(%a0),%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1_logical):w,%d0
		bsrs	sub_20502
		lea	(Player_2):w,%a1
		addqw	#1,%a2
		movew	(Ctrl_2_logical):w,%d0
		bsrs	sub_20502
		tstw	0x32(%a0)
		beqs	loc_204FA
		tstw	0x30(%a0)
		bnes	locret_20500

loc_204FA:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_20500:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_20502:
		tstb	(%a2)
		beqw	loc_206DE
		bmiw	loc_205BC
		tstb	4(%a1)
		bplw	loc_205CE
		cmpib	#4,5(%a1)
		bccw	loc_205CE
		andib	#0x70,%d0
		beqw	loc_205DC
		clrb	0x2E(%a1)
		clrb	(%a2)
		cmpiw	#1,0x30(%a0)
		beqs	loc_2059A
		movew	0x10(%a0),%d1
		subw	0x42(%a0),%d1
		aslw	#7,%d1
		movew	%d1,0x18(%a1)
		movew	0x14(%a0),%d1
		subw	0x44(%a0),%d1
		aslw	#7,%d1
		movew	%d1,0x1A(%a1)
		moveb	#0x3C,2(%a2)
		btst	#0xA,%d0
		beqs	loc_20562
		movew	#-0x200,0x18(%a1)

loc_20562:
		btst	#0xB,%d0
		beqs	loc_2056E
		movew	#0x200,0x18(%a1)

loc_2056E:
		addiw	#-0x380,0x1A(%a1)

loc_20574:
		bset	#1,0x2A(%a1)
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_2059A:
		moveb	#0x3C,2(%a2)
		moveaw	0x3C(%a0),%a3
		moveb	0x26(%a3),%d0
		jsr	(GetSineCosine):l
		aslw	#3,%d1
		movew	%d1,0x18(%a1)
		aslw	#3,%d0
		movew	%d0,0x1A(%a1)
		bras	loc_20574
/*  --------------------------------------------------------------------------- */

loc_205BC:
		movew	#0x300,0x18(%a1)
		movew	#0x200,0x1A(%a1)
		bset	#1,0x2A(%a1)

loc_205CE:
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_205DC:
		tstw	0x30(%a0)
		bnes	loc_20634
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x14,0x14(%a1)
		moveaw	0x3C(%a0),%a3
		moveq	#0,%d0
		moveb	0x26(%a3),%d0
		btst	#0,0x2A(%a1)
		beqs	loc_20608
		negb	%d0

loc_20608:
		addqb	#8,%d0
		lsrw	#4,%d0
		moveb	byte_20624(%pc,%d0.w),0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  --------------------------------------------------------------------------- */
byte_20624:	.byte 0x91
		.byte 0x91
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x91
		.byte 0x91
/*  --------------------------------------------------------------------------- */

loc_20634:
		moveaw	0x3C(%a0),%a3
		moveq	#0,%d0
		moveb	0x26(%a3),%d0
		btst	#0,0x2A(%a1)
		beqs	loc_20648
		negb	%d0

loc_20648:
		addib	#0x10,%d0
		lsrw	#5,%d0
		addw	%d0,%d0
		moveb	byte_206BE(%pc,%d0.w),0x22(%a1)
		moveb	#0,0x20(%a1)
		andiw	#-2,%d0
		moveb	byte_206CE(%pc,%d0.w),%d2
		moveb	byte_206CF(%pc,%d0.w),%d3
		extw	%d2
		extw	%d3
		btst	#0,0x2A(%a1)
		beqs	loc_20676
		negw	%d2

loc_20676:
		moveaw	0x3C(%a0),%a3
		moveb	0x26(%a3),%d0
		addqb	#4,%d0
		andib	#-8,%d0
		jsr	(GetSineCosine):l
		negw	%d0
		addiw	#8,%d0
		addiw	#8,%d1
		asrw	#4,%d0
		asrw	#4,%d1
		addw	0x10(%a3),%d0
		addw	%d2,%d0
		movew	%d0,0x10(%a1)
		addw	0x14(%a3),%d1
		addw	%d3,%d1
		movew	%d1,0x14(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  --------------------------------------------------------------------------- */
byte_206BE:	.byte 0x78
		.byte 0x78
		.byte 0x7F
		.byte 0x7F
		.byte 0x7E
		.byte 0x7E
		.byte 0x7D
		.byte 0x7D
		.byte 0x7C
		.byte 0x7C
		.byte 0x7B
		.byte 0x7B
		.byte 0x7A
		.byte 0x7A
		.byte 0x79
		.byte 0x79
byte_206CE:	.byte 0
byte_206CF:	.byte 0x18
		.byte 0xEE
		.byte 0x13
		.byte 0xE8
		.byte 0
		.byte 0xEE
		.byte 0xED
		.byte 0
		.byte 0xE8
		.byte 0x12
		.byte 0xED
		.byte 0x18
		.byte 0
		.byte 0x12
		.byte 0x13
/*  --------------------------------------------------------------------------- */

loc_206DE:
		tstb	2(%a2)
		beqs	loc_206EC
		subqb	#1,2(%a2)
		bnew	locret_20766

loc_206EC:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccw	locret_20766
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		cmpiw	#0x18,%d1
		bccw	locret_20766
		tstb	0x2E(%a1)
		bnes	locret_20766
		cmpib	#4,5(%a1)
		bccs	locret_20766
		tstw	(Debug_placement_mode):w
		bnes	locret_20766
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x14,0x14(%a1)
		moveb	#0x14,0x20(%a1)
		moveb	#0,0x3D(%a1)
		moveb	#3,0x2E(%a1)
		andib	#-3,4(%a1)
		moveb	#1,(%a2)
		moveq	#sfx_Grab,%d0
		jsr	(Play_Sound_2):l

locret_20766:
		rts
/*  End of function sub_20502 */

/*  --------------------------------------------------------------------------- */

Obj_AIZGiantRideVine:
		moveal	%a0,%a1
		movel	#loc_2082C,(%a1)
		bsrw	sub_20804
		moveb	#0x21,0x22(%a1)
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		moveb	0x2C(%a0),%d1
		andiw	#0xF,%d1
		jsr	(Create_New_Sprite3):l
		bnew	loc_20802
		movew	#-0x1B0,0x44(%a1)
		movew	#0x800,0x38(%a1)
		movew	%a1,0x3E(%a0)
		movel	#loc_20874,(%a1)
		movew	%a0,0x3C(%a1)
		moveb	0x2C(%a0),%d0
		andib	#-0x10,%d0
		moveb	%d0,0x42(%a1)
		bras	loc_207D4
/*  --------------------------------------------------------------------------- */

loc_207BC:
		jsr	(Create_New_Sprite3):l
		bnew	loc_20802
		movel	#loc_20908,(%a1)
		movew	%a2,0x3C(%a1)
		movew	%a1,0x3E(%a2)

loc_207D4:
		moveal	%a1,%a2
		bsrs	sub_20804
		movew	%d2,0x10(%a1)
		movew	%d3,0x14(%a1)
		addiw	#0x10,%d3
		addqw	#1,0x36(%a0)
		movew	0x36(%a0),0x36(%a1)
		dbf	%d1,loc_207BC
		movel	#loc_20968,(%a1)
		moveb	#0x20,0x22(%a1)
		movew	%a1,0x40(%a0)

loc_20802:
		bras	loc_2082C

/*  =============== S U B R O U T I N E ======================================= */


sub_20804:
		moveb	#4,4(%a1)
		moveb	#8,7(%a1)
		moveb	#8,6(%a1)
		movew	#0x200,8(%a1)
		movel	#Map_AIZRideVine,0xC(%a1)
		movew	#0x41B,0xA(%a1)
		rts
/*  End of function sub_20804 */

/*  --------------------------------------------------------------------------- */

loc_2082C:
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_20846
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_20846:
		movew	0x36(%a0),%d2
		subqw	#1,%d2
		bcss	loc_20862
		moveaw	0x3E(%a0),%a2

loc_20852:
		moveal	%a2,%a1
		moveaw	0x3E(%a1),%a2
		jsr	(Delete_Referenced_Sprite):l
		dbf	%d2,loc_20852

loc_20862:
		movew	0x48(%a0),%d0
		beqs	loc_2086E
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2086E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_20874:
		tstb	(%a0)
		bnes	loc_208A6
		moveb	(AIZ_vine_angle):w,%d0
		addb	0x42(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	#0x2C,%d0
		movew	%d0,0x26(%a0)
		asrw	#3,%d0
		movew	%d0,0x3A(%a0)
		moveb	0x26(%a0),%d0
		addqb	#4,%d0
		lsrb	#3,%d0
		moveb	%d0,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_208A6:
		moveq	#0,%d2
		moveb	0x38(%a0),%d2
		movew	0x44(%a0),%d0
		movew	#0,%d1
		tstw	0x2E(%a0)
		bnes	loc_208D2
		addw	%d2,%d0
		movew	%d0,0x44(%a0)
		addw	%d0,0x42(%a0)
		cmpb	0x42(%a0),%d1
		bgts	loc_208E8
		movew	#1,0x2E(%a0)
		bras	loc_208E8
/*  --------------------------------------------------------------------------- */

loc_208D2:
		subw	%d2,%d0
		movew	%d0,0x44(%a0)
		addw	%d0,0x42(%a0)
		cmpb	0x42(%a0),%d1
		bles	loc_208E8
		movew	#0,0x2E(%a0)

loc_208E8:
		movew	0x42(%a0),%d0
		movew	%d0,0x26(%a0)
		asrw	#3,%d0
		movew	%d0,0x3A(%a0)
		moveb	0x26(%a0),%d0
		addqb	#4,%d0
		lsrb	#3,%d0
		moveb	%d0,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_20908:
		moveaw	0x3C(%a0),%a1
		movew	0x3A(%a1),0x3A(%a0)
		movew	0x26(%a1),%d0
		addw	0x3A(%a0),%d0
		movew	%d0,0x26(%a0)
		moveb	0x26(%a0),%d0
		addqb	#4,%d0
		lsrb	#3,%d0
		moveb	%d0,0x22(%a0)
		bsrw	sub_20934
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_20934:
		moveaw	0x3C(%a0),%a1
		moveb	0x26(%a1),%d0
		addqb	#4,%d0
		andib	#-8,%d0
		jsr	(GetSineCosine):l
		negw	%d0
		addiw	#8,%d0
		addiw	#8,%d1
		asrw	#4,%d0
		asrw	#4,%d1
		addw	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		addw	0x14(%a1),%d1
		movew	%d1,0x14(%a0)
		rts
/*  End of function sub_20934 */

/*  --------------------------------------------------------------------------- */

loc_20968:
		movew	0x10(%a0),%d4
		movew	0x14(%a0),%d5
		bsrw	sub_20934
		cmpw	0x10(%a0),%d4
		beqs	loc_2097E
		movew	%d4,0x42(%a0)

loc_2097E:
		cmpw	0x14(%a0),%d5
		beqs	loc_20988
		movew	%d5,0x44(%a0)

loc_20988:
		lea	0x32(%a0),%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1_logical):w,%d0
		bsrw	sub_20502
		lea	(Player_2):w,%a1
		addqw	#1,%a2
		movew	(Ctrl_2_logical):w,%d0
		bsrw	sub_20502
		tstw	0x32(%a0)
		beqs	loc_209B2
		tstw	0x30(%a0)
		bnes	locret_209B8

loc_209B2:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_209B8:
		rts
/*  --------------------------------------------------------------------------- */
Map_AIZRideVine:.include "Levels/AIZ/Misc Object Data/Map - Ride Vine S3.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZSurfboardIntro:
		movel	#Map_SurfboardIntro,0xC(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#4,4(%a0)
		movew	#0x680,0xA(%a0)
		moveb	#-1,(Player_prev_frame):w
		movel	#Obj_AIZSurfboardIntro_Main,(%a0)
		movew	(Player_1+x_pos):w,0x10(%a0)
		movew	(Player_1+y_pos):w,0x14(%a0)
		subiw	#0x20,0x10(%a0)
		subiw	#0x10,0x14(%a0)
		movew	#0,0x18(%a0)
		movew	#0,0x1A(%a0)
		clrw	(Events_fg_1):w
		tstb	0x2C(%a0)
		bnes	loc_20B78
		lea	(Player_1):w,%a1
		moveb	#0,0x22(%a1)
		moveb	#3,0x2E(%a1)

loc_20B78:
		jsr	(Create_New_Sprite3):l
		bnew	Obj_AIZSurfboardIntro_Main
		movel	#Obj_SurfboardSplash,(%a1)
		movew	%a0,0x30(%a1)

Obj_AIZSurfboardIntro_Main:
		tstb	0x2C(%a0)
		bnes	loc_20BFC
		lea	(Player_1):w,%a1
		addiw	#8,0x10(%a1)
		addiw	#8,0x10(%a0)
		cmpiw	#0x900,0x10(%a1)
		bcss	loc_20BFC
		jsr	(Create_New_Sprite3):l
		bnew	loc_20BD0
		movel	#Obj_Surfboard,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0xC,0x14(%a1)
		movew	%a0,0x30(%a1)

loc_20BD0:
		movew	#0x800,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		movel	#Obj_AIZSurfboardIntro_Jump,(%a0)
		movew	#1,0x20(%a0)
		subiw	#5,0x10(%a0)
		moveb	#7,0x22(%a0)
		jsr	(SurfboardIntro_LoadPLC):l
		bras	loc_20C00
/*  --------------------------------------------------------------------------- */

loc_20BFC:
		bsrw	SurfboardIntro_Move

loc_20C00:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_AIZSurfboardIntro_Jump:
		lea	(Player_1):w,%a1
		addiw	#8,0x10(%a1)
		jsr	(MoveSprite2):l
		addiw	#0x20,0x1A(%a0)
		moveq	#1,%d2
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		beqs	loc_20C30
		blts	loc_20C2C
		negw	%d2

loc_20C2C:
		addw	%d2,0x10(%a0)

loc_20C30:
		tstw	0x1A(%a0)
		bmis	loc_20C74
		cmpiw	#0x440,0x14(%a0)
		bcss	loc_20C74
		movew	#0x440,0x14(%a0)
		movew	#0,0x1A(%a0)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	#1,0x20(%a1)
		movew	#0x800,0x1C(%a1)
		movew	#0x800,0x18(%a1)
		movew	#0,0x1A(%a1)
		movel	#Obj_AIZSurfboardIntro_Run,(%a0)

loc_20C74:
		lea	(Ani_SurfboardIntro):l,%a1
		jsr	(Animate_Sprite):l
		jsr	(SurfboardIntro_LoadPLC):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Ani_SurfboardIntro:
		.include "General/Sprites/Sonic/Anim - Sonic Surfboard.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZSurfboardIntro_Run:
		moveal	%a0,%a3
		lea	(Player_1):w,%a0
		movew	#0,0x1A(%a0)
		cmpiw	#0x1170,0x10(%a0)
		bcss	loc_20CB6
		cmpiw	#0x1270,0x10(%a0)
		bccs	loc_20CB6
		movew	#-0x138,0x1A(%a0)

loc_20CB6:
		jsr	(MoveSprite2):l
		cmpiw	#0x13C0,0x10(%a0)
		bcss	loc_20CE2
		moveb	#0,0x2E(%a0)
		movel	#Obj_AIZSurfboardIntro_Stop,(%a3)
		moveb	#1,(Ctrl_1_locked):w
		movew	#0x400,(Ctrl_1_logical):w
		movew	#0xE,0x2E(%a3)

loc_20CE2:
		jsr	(Animate_Sonic):l
		movel	%a3,-(%sp)
		jsr	(Sonic_Load_PLC):l
		moveal	(%sp)+,%a0
		addiw	#8,0x10(%a0)
		moveb	#0,0x22(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_AIZSurfboardIntro_Stop:
		subqw	#1,0x2E(%a0)
		bpls	loc_20D32
		lea	(Player_1):w,%a1
		movew	#0,0x1C(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		moveb	#0,(Ctrl_1_locked):w
		movew	#0,(Ctrl_1_logical):w
		movel	#Obj_AIZSurfboardIntro_CheckDelete,(%a0)

loc_20D32:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_AIZSurfboardIntro_CheckDelete:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


SurfboardIntro_Move:
		movew	#2,%d1
		movew	(Player_1+x_pos):w,%d0
		cmpw	0x10(%a0),%d0
		bccs	loc_20D4E
		negw	%d1

loc_20D4E:
		addw	%d1,0x18(%a0)
		moveq	#0,%d2
		lea	(SurfboardIntro_DownFrames):l,%a1
		movew	#3,%d1
		movew	(Player_1+y_pos):w,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_20D76
		moveq	#1,%d2
		lea	(SurfboardIntro_UpFrames):l,%a1
		movew	#4,%d1
		negw	%d1

loc_20D76:
		addw	%d1,0x1A(%a0)
		jsr	(MoveSprite2):l
		movew	0x1A(%a0),%d0
		tstw	%d2
		bnes	loc_20D8A
		negw	%d0

loc_20D8A:
		addiw	#0x80,%d0
		cmpiw	#0x100,%d0
		bcss	loc_20D98
		movew	#0x100,%d0

loc_20D98:
		lsrw	#5,%d0
		moveb	(%a1,%d0.w),%d0
		addqb	#1,%d0
		moveb	%d0,0x22(%a0)
		jsr	(SurfboardIntro_LoadPLC):l
		subqw	#1,0x2E(%a0)
		bpls	locret_20DCA
		movew	#5,0x2E(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	locret_20DCA
		movel	#Obj_SurfboardWaves,(%a1)
		movew	%a0,0x30(%a1)

locret_20DCA:
		rts
/*  --------------------------------------------------------------------------- */
SurfboardIntro_DownFrames:
		.byte    2,   1,   1,   0,   0,   0,   0,   1,   2,   2
SurfboardIntro_UpFrames:
		.byte    3,   4,   4,   4,   5,   5,   5,   4,   3,   3
/*  End of function SurfboardIntro_Move */


/*  =============== S U B R O U T I N E ======================================= */


SurfboardIntro_LoadPLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	(Player_prev_frame):w,%d0
		beqs	locret_20E32
		moveb	%d0,(Player_prev_frame):w
		lea	(DPLC_SurfboardIntro):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_20E32
		movew	#-0x3000,%d4

loc_20E06:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addil	#ArtUnc_SurfboardIntro,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_20E06

locret_20E32:
		rts
/*  End of function SurfboardIntro_LoadPLC */

/*  --------------------------------------------------------------------------- */
Map_SurfboardIntro:
		.include "General/Sprites/Sonic/Map - Sonic Surfboarding.S"
DPLC_SurfboardIntro:
		.include "General/Sprites/Sonic/DPLC - Sonic Surfboarding.S"
/*  --------------------------------------------------------------------------- */

Obj_SurfboardWaves:
		movel	#Map_AIZIntroWaves,0xC(%a0)
		movew	#0x100,8(%a0)
		moveb	#0,7(%a0)
		moveb	#4,4(%a0)
		movew	#0x3D1,0xA(%a0)
		movel	#Obj_SurfboardWaves_Main,(%a0)
		movew	#1,0x20(%a0)
		moveb	#0,0x22(%a0)
		moveb	#0,0x23(%a0)
		bset	#0,0x2A(%a0)
		moveaw	0x30(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		addiw	#-0x28,0x10(%a0)
		addiw	#0x18,0x14(%a0)

Obj_SurfboardWaves_Main:
		lea	(Ani_SurfboardWaves):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		tstb	5(%a0)
		beqs	loc_20FE6
		movew	#0x7FFF,0x10(%a0)

loc_20FE6:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Ani_SurfboardWaves:
		.include "General/Sprites/Surfboard/Anim - Surfboard Waves.S"
/*  --------------------------------------------------------------------------- */

Obj_SurfboardSplash:
		moveal	%a0,%a1
		bsrs	SurfboardSplash_Init
		jsr	(Create_New_Sprite3):l
		bnew	loc_2102A
		bsrs	SurfboardSplash2_Init
		movel	#Obj_SurfboardSplash2_Main,(%a1)
		movew	#0x80,8(%a1)
		movew	#-0x14,0x32(%a1)
		movew	#0x10,0x34(%a1)
		movew	0x30(%a0),0x30(%a1)

loc_2102A:
		bras	Obj_SurfboardSplash_Main

/*  =============== S U B R O U T I N E ======================================= */


SurfboardSplash_Init:
		movel	#Obj_SurfboardSplash_Main,(%a1)
		movew	#0x180,8(%a1)
		movew	#8,0x32(%a1)
		movew	#0x18,0x34(%a1)

SurfboardSplash2_Init:
		movel	#Map_SurfboardSplash,0xC(%a1)
		moveb	#0x1C,7(%a1)
		moveb	#4,4(%a1)
		movew	#0x529,0xA(%a1)
		movew	#1,0x20(%a1)
		bset	#0,0x2A(%a1)
		rts
/*  End of function SurfboardSplash_Init */

/*  --------------------------------------------------------------------------- */

Obj_SurfboardSplash_Main:
		moveaw	%110000(%a0),%a1
		lea	(SurfboardSplash_Offsets):l,%a2
		bsrw	SurfboardSplash_SetOffsets
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		movew	0x32(%a0),%d0
		addw	%d0,0x10(%a0)
		movew	0x34(%a0),%d0
		addw	%d0,0x14(%a0)
		cmpib	#7,0x22(%a1)
		bcss	loc_210A4
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_210A4:
		cmpib	#5,0x22(%a1)
		bcss	loc_210BA
		tstw	0x36(%a0)
		beqs	locret_210B8
		subqw	#1,0x36(%a0)
		bras	loc_210C0
/*  --------------------------------------------------------------------------- */

locret_210B8:
		rts
/*  --------------------------------------------------------------------------- */

loc_210BA:
		movew	#3,0x36(%a0)

loc_210C0:
		lea	(Ani_SurfboardSplash):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
SurfboardSplash_Offsets:
		.byte    0, 0x18,   0, 0x11,   0, 0x15, 0xF8, 0x15, 0xF8, 0x13, 0xF8, 0x13, 0xF8, 0x13
/*  --------------------------------------------------------------------------- */

Obj_SurfboardSplash2_Main:
		moveaw	0x30(%a0),%a1
		lea	(SurfboardSplash2_Offsets):l,%a2
		bsrs	SurfboardSplash_SetOffsets
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		movew	0x32(%a0),%d0
		addw	%d0,0x10(%a0)
		movew	0x34(%a0),%d0
		addw	%d0,0x14(%a0)
		cmpib	#7,0x22(%a1)
		bcss	loc_21116
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_21116:
		cmpib	#5,0x22(%a1)
		bccs	loc_2112C
		tstw	0x36(%a0)
		beqs	locret_2112A
		subqw	#1,0x36(%a0)
		bras	loc_21132
/*  --------------------------------------------------------------------------- */

locret_2112A:
		rts
/*  --------------------------------------------------------------------------- */

loc_2112C:
		movew	#3,0x36(%a0)

loc_21132:
		lea	(Ani_SurfboardSplash):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
SurfboardSplash2_Offsets:
		.byte  0xF8, 0x12, 0xF8, 0x12, 0xF8, 0x12, 0xF8, 0x12, 0xF8, 0x12, 0xF1, 0x12, 0xED, 0x17

/*  =============== S U B R O U T I N E ======================================= */


SurfboardSplash_SetOffsets:
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		addw	%d0,%d0
		moveb	(%a2,%d0.w),%d1
		extw	%d1
		moveq	#1,%d2
		cmpw	0x32(%a0),%d1
		beqs	loc_21170
		bgts	loc_2116C
		negw	%d2

loc_2116C:
		addw	%d2,0x32(%a0)

loc_21170:
		moveb	1(%a2,%d0.w),%d1
		extw	%d1
		moveq	#1,%d2
		cmpw	0x34(%a0),%d1
		beqs	locret_21186
		bgts	loc_21182
		negw	%d2

loc_21182:
		addw	%d2,0x34(%a0)

locret_21186:
		rts
/*  End of function SurfboardSplash_SetOffsets */

/*  --------------------------------------------------------------------------- */
Ani_SurfboardSplash:
		.include "General/Sprites/Surfboard/Anim - Surfboard Splash.S"
Map_AIZIntroWaves:
		.include "Levels/AIZ/Misc Object Data/Map - Intro Waves.S"
Map_SurfboardSplash:
		.include "General/Sprites/Surfboard/Map - Surfboard Splash.S"
/*  --------------------------------------------------------------------------- */

Obj_Surfboard:
		movel	#Map_Surfboard,0xC(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#4,4(%a0)
		movew	#0x585,0xA(%a0)
		movel	#Obj_Surfboard_Main,(%a0)
		movew	#1,0x20(%a0)
		movew	#0x800,0x18(%a0)
		movew	#-0x300,0x1A(%a0)

Obj_Surfboard_Main:
		cmpib	#3,0x23(%a0)
		bcss	loc_212FE
		tstw	0x18(%a0)
		beqs	loc_212FE
		subiw	#0x10,0x18(%a0)

loc_212FE:
		jsr	(MoveSprite2):l
		addiw	#0x20,0x1A(%a0)
		lea	(Ani_Surfboard):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		moveb	#0,0x2A(%a0)
		moveb	0x23(%a0),%d0
		andib	#7,%d0
		cmpib	#4,%d0
		bcss	loc_21330
		moveb	#3,0x2A(%a0)

loc_21330:
		tstb	5(%a0)
		beqs	loc_2133C
		movew	#0x7FFF,0x10(%a0)

loc_2133C:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Ani_Surfboard:	.include "General/Sprites/Surfboard/Anim - Surfboard.S"
Map_Surfboard:	.include "General/Sprites/Surfboard/Map - Surfboard.S"

/*  =============== S U B R O U T I N E ======================================= */


Obj_Spring:
		movel	#Map_Spring,0xC(%a0)
		movew	#0x4A4,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x32(%a0)
		movew	0x14(%a0),0x34(%a0)
		moveb	0x2C(%a0),%d0
		lsrw	#3,%d0
		andiw	#0xE,%d0
		movew	off_2141C(%pc,%d0.w),%d0
		jmp	off_2141C(%pc,%d0.w)
/*  End of function Obj_Spring */

/*  --------------------------------------------------------------------------- */
off_2141C:	.word Spring_Up-off_2141C
		.word Spring_Horizontal-off_2141C
		.word Spring_Down-off_2141C
		.word Spring_UpDiag-off_2141C
		.word Spring_DownDiag-off_2141C

/*  =============== S U B R O U T I N E ======================================= */


sub_21426:
		movel	#Map_Spring,0xC(%a0)
		movew	#0x4A4,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x32(%a0)
		movew	0x14(%a0),0x34(%a0)
		moveb	0x2C(%a0),%d0
		lsrw	#3,%d0
		andiw	#0xE,%d0
		movew	off_21472(%pc,%d0.w),%d0
		jsr	off_21472(%pc,%d0.w)
		movew	#-0x800,0x30(%a0)
		rts
/*  End of function sub_21426 */

/*  --------------------------------------------------------------------------- */
off_21472:	.word Spring_Up-off_21472
		.word Spring_Horizontal-off_21472
		.word Spring_Down-off_21472
		.word Spring_Horizontal-off_21472
		.word Spring_Up-off_21472
		.word Spring_Down-off_21472
		.word Spring_Up-off_21472
		.word Spring_Down-off_21472
/*  --------------------------------------------------------------------------- */

Spring_Horizontal:
		moveb	#2,0x20(%a0)
		moveb	#3,0x22(%a0)
		movew	#0x4B4,0xA(%a0)
		moveb	#8,7(%a0)
		movel	#Obj_Spring_Horizontal,(%a0)
		tstw	(Competition_mode):w
		beqw	Spring_Common
		movel	#Map_2PSpring,0xC(%a0)
		movew	#0x3AD,0xA(%a0)
		movel	#Obj_2PSpring_Horizontal,(%a0)
		braw	Spring_Common
/*  --------------------------------------------------------------------------- */

Spring_Down:
		moveb	#6,0x22(%a0)
		bset	#1,0x2A(%a0)
		movel	#Obj_Spring_Down,(%a0)
		tstw	(Competition_mode):w
		beqw	Spring_Common
		movel	#Obj_2PSpring_Down,(%a0)
		movel	#Map_2PSpring,0xC(%a0)
		movew	#0x391,0xA(%a0)
		braw	Spring_Common
/*  --------------------------------------------------------------------------- */

Spring_UpDiag:
		moveb	#4,0x20(%a0)
		moveb	#7,0x22(%a0)
		movew	#0x43A,0xA(%a0)
		cmpib	#2,(Current_zone):w
		bnes	loc_21512
		movew	#0x478,0xA(%a0)

loc_21512:
		movel	#Obj_Spring_UpDiag,(%a0)
		bras	Spring_Common
/*  --------------------------------------------------------------------------- */

Spring_DownDiag:
		moveb	#4,0x20(%a0)
		moveb	#0xA,0x22(%a0)
		movew	#0x43A,0xA(%a0)
		cmpib	#2,(Current_zone):w
		bnes	loc_2153A
		movew	#0x478,0xA(%a0)

loc_2153A:
		bset	#1,0x2A(%a0)
		movel	#Obj_Spring_DownDiag,(%a0)
		bras	Spring_Common
/*  --------------------------------------------------------------------------- */

Spring_Up:
		movel	#Obj_Spring_Up,(%a0)
		tstw	(Competition_mode):w
		beqs	Spring_Common
		movel	#Obj_2PSpring_Up,(%a0)
		movel	#Map_2PSpring,0xC(%a0)
		movew	#0x391,0xA(%a0)
		cmpib	#0x12,(Current_zone):w
		bnes	Spring_Common
		oriw	#-0x8000,0xA(%a0)

Spring_Common:
		moveb	0x2C(%a0),%d0
		andiw	#2,%d0
		movew	word_215A2(%pc,%d0.w),0x30(%a0)
		btst	#1,%d0
		beqs	locret_215A0
		movel	#Map_Spring2,0xC(%a0)
		tstw	(Competition_mode):w
		beqs	locret_215A0
		movel	#Map_Spring3,0xC(%a0)

locret_215A0:
		rts
/*  --------------------------------------------------------------------------- */
word_215A2:	.word 0xF000
		.word 0xF600
/*  --------------------------------------------------------------------------- */

Obj_Spring_Up:
		movew	#0x1B,%d1
		movew	#8,%d2
		movew	#0x10,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObjectFull2_1P
		btst	#3,0x2A(%a0)
		beqs	loc_215CE
		bsrs	sub_2164A

loc_215CE:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObjectFull2_1P
		btst	#4,0x2A(%a0)
		beqs	loc_215E6
		bsrs	sub_2164A

loc_215E6:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_2PSpring_Up:
		movew	#0x13,%d1
		movew	#8,%d2
		movew	#0x10,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObjectFull2_1P
		btst	#3,0x2A(%a0)
		beqs	loc_21620
		bsrs	sub_2164A

loc_21620:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObjectFull2_1P
		btst	#4,0x2A(%a0)
		beqs	loc_21638
		bsrs	sub_2164A

loc_21638:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2164A:
		movew	#0x100,0x20(%a0)
		addqw	#8,0x14(%a1)
		movew	0x30(%a0),0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		clrb	0x40(%a1)
		clrb	0x3D(%a1)
		moveb	#0x10,0x20(%a1)
		moveb	#2,5(%a1)
		moveb	0x2C(%a0),%d0
		bpls	loc_21686
		movew	#0,0x18(%a1)

loc_21686:
		btst	#0,%d0
		beqs	loc_216C6
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		btst	#1,%d0
		bnes	loc_216B6
		moveb	#1,0x30(%a1)

loc_216B6:
		btst	#0,0x2A(%a1)
		beqs	loc_216C6
		negb	0x27(%a1)
		negw	0x1C(%a1)

loc_216C6:
		andib	#0xC,%d0
		cmpib	#4,%d0
		bnes	loc_216DC
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)

loc_216DC:
		cmpib	#8,%d0
		bnes	loc_216EE
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_216EE:
		moveq	#sfx_Spring,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_2164A */

/*  --------------------------------------------------------------------------- */

Obj_Spring_Horizontal:
		movew	#0x13,%d1
		movew	#0xE,%d2
		movew	#0xF,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObjectFull2_1P
		swap	%d6
		andiw	#1,%d6
		beqs	loc_21738
		moveb	0x2A(%a0),%d1
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_2172E
		eorib	#1,%d1

loc_2172E:
		andib	#1,%d1
		bnes	loc_21738
		bsrw	sub_21836

loc_21738:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObjectFull2_1P
		swap	%d6
		andiw	#2,%d6
		beqs	loc_2176A
		moveb	0x2A(%a0),%d1
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_21760
		eorib	#1,%d1

loc_21760:
		andib	#1,%d1
		bnes	loc_2176A
		bsrw	sub_21836

loc_2176A:
		bsrw	sub_2190C
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		movew	0x32(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

Obj_2PSpring_Horizontal:
		movew	#0xF,%d1
		movew	#0xC,%d2
		movew	#0xD,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObjectFull2_1P
		swap	%d6
		andiw	#1,%d6
		beqs	loc_217C4
		moveb	0x2A(%a0),%d1
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_217BC
		eorib	#1,%d1

loc_217BC:
		andib	#1,%d1
		bnes	loc_217C4
		bsrs	sub_21806

loc_217C4:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObjectFull2_1P
		swap	%d6
		andiw	#2,%d6
		beqs	loc_217F4
		moveb	0x2A(%a0),%d1
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_217EC
		eorib	#1,%d1

loc_217EC:
		andib	#1,%d1
		bnes	loc_217F4
		bsrs	sub_21806

loc_217F4:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_21806:
		movew	#0x300,0x20(%a0)
		movew	0x30(%a0),0x18(%a1)
		addqw	#4,0x10(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_21834
		bclr	#0,0x2A(%a1)
		subiw	#8,0x10(%a1)
		negw	0x18(%a1)

loc_21834:
		bras	loc_21864
/*  End of function sub_21806 */


/*  =============== S U B R O U T I N E ======================================= */


sub_21836:
		movew	#0x300,0x20(%a0)
		movew	0x30(%a0),0x18(%a1)
		addqw	#8,0x10(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_21864
		bclr	#0,0x2A(%a1)
		subiw	#0x10,0x10(%a1)
		negw	0x18(%a1)

loc_21864:
		movew	#0xF,0x32(%a1)
		movew	0x18(%a1),0x1C(%a1)
		btst	#2,0x2A(%a1)
		bnes	loc_2187E
		moveb	#0,0x20(%a1)

loc_2187E:
		moveb	0x2C(%a0),%d0
		bpls	loc_2188A
		movew	#0,0x1A(%a1)

loc_2188A:
		btst	#0,%d0
		beqs	loc_218CA
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#1,0x30(%a1)
		moveb	#8,0x31(%a1)
		btst	#1,%d0
		bnes	loc_218BA
		moveb	#3,0x30(%a1)

loc_218BA:
		btst	#0,0x2A(%a1)
		beqs	loc_218CA
		negb	0x27(%a1)
		negw	0x1C(%a1)

loc_218CA:
		andib	#0xC,%d0
		cmpib	#4,%d0
		bnes	loc_218E0
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)

loc_218E0:
		cmpib	#8,%d0
		bnes	loc_218F2
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_218F2:
		bclr	#5,0x2A(%a0)
		bclr	#6,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		moveq	#sfx_Spring,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_21836 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2190C:
		cmpib	#3,0x20(%a0)
		beqw	locret_219C4
		movew	0x10(%a0),%d0
		movew	%d0,%d1
		addiw	#0x28,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_2192E
		movew	%d0,%d1
		subiw	#0x28,%d0

loc_2192E:
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		subiw	#0x18,%d2
		addiw	#0x18,%d3
		lea	(Player_1):w,%a1
		btst	#1,0x2A(%a1)
		bnes	loc_21982
		movew	0x1C(%a1),%d4
		btst	#0,0x2A(%a0)
		beqs	loc_21956
		negw	%d4

loc_21956:
		tstw	%d4
		bmis	loc_21982
		movew	0x10(%a1),%d4
		cmpw	%d0,%d4
		bcsw	loc_21982
		cmpw	%d1,%d4
		bccw	loc_21982
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bcsw	loc_21982
		cmpw	%d3,%d4
		bccw	loc_21982
		movew	%d0,-(%sp)
		bsrw	sub_21836
		movew	(%sp)+,%d0

loc_21982:
		lea	(Player_2):w,%a1
		btst	#1,0x2A(%a1)
		bnes	locret_219C4
		movew	0x1C(%a1),%d4
		btst	#0,0x2A(%a0)
		beqs	loc_2199C
		negw	%d4

loc_2199C:
		tstw	%d4
		bmis	locret_219C4
		movew	0x10(%a1),%d4
		cmpw	%d0,%d4
		bcsw	locret_219C4
		cmpw	%d1,%d4
		bccw	locret_219C4
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bcsw	locret_219C4
		cmpw	%d3,%d4
		bccw	locret_219C4
		bsrw	sub_21836

locret_219C4:
		rts
/*  End of function sub_2190C */

/*  --------------------------------------------------------------------------- */

Obj_Spring_Down:
		movew	#0x1B,%d1
		movew	#8,%d2
		movew	#9,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObjectFull2_1P
		cmpiw	#-2,%d4
		bnes	loc_219EC
		bsrs	sub_21A6A

loc_219EC:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObjectFull2_1P
		cmpiw	#-2,%d4
		bnes	loc_21A02
		bsrs	sub_21A6A

loc_21A02:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_2PSpring_Down:
		movew	#0x13,%d1
		movew	#8,%d2
		movew	#9,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	SolidObjectFull2_1P
		cmpiw	#-2,%d4
		bnes	loc_21A3E
		subqw	#4,0x14(%a1)
		bsrs	loc_21A6E

loc_21A3E:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	SolidObjectFull2_1P
		cmpiw	#-2,%d4
		bnes	loc_21A58
		subqw	#4,0x14(%a1)
		bsrs	loc_21A6E

loc_21A58:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_21A6A:
		subqw	#8,0x14(%a1)

loc_21A6E:
		movew	#0x100,0x20(%a0)
		movew	0x30(%a0),0x1A(%a1)
		negw	0x1A(%a1)
		cmpiw	#0x1000,0x1A(%a1)
		bnes	loc_21A8C
		movew	#0xD00,0x1A(%a1)

loc_21A8C:
		moveb	0x2C(%a0),%d0
		bpls	loc_21A98
		movew	#0,0x18(%a1)

loc_21A98:
		btst	#0,%d0
		beqs	loc_21AD8
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		btst	#1,%d0
		bnes	loc_21AC8
		moveb	#1,0x30(%a1)

loc_21AC8:
		btst	#0,0x2A(%a1)
		beqs	loc_21AD8
		negb	0x27(%a1)
		negw	0x1C(%a1)

loc_21AD8:
		andib	#0xC,%d0
		cmpib	#4,%d0
		bnes	loc_21AEE
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)

loc_21AEE:
		cmpib	#8,%d0
		bnes	loc_21B00
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_21B00:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#2,5(%a1)
		moveq	#sfx_Spring,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_21A6A */

/*  --------------------------------------------------------------------------- */

Obj_Spring_UpDiag:
		movew	#0x1B,%d1
		movew	#0x10,%d2
		movew	0x10(%a0),%d4
		lea	byte_21D78(%pc),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	sub_1BADA
		btst	#3,0x2A(%a0)
		beqs	loc_21B46
		bsrs	sub_21B74

loc_21B46:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	sub_1BADA
		btst	#4,0x2A(%a0)
		beqs	loc_21B5E
		bsrs	sub_21B74

loc_21B5E:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		movew	0x32(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_21B74:
		btst	#0,0x2A(%a0)
		bnes	loc_21B8A
		movew	0x10(%a0),%d0
		subqw	#4,%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_21B98
		rts
/*  --------------------------------------------------------------------------- */

loc_21B8A:
		movew	0x10(%a0),%d0
		addqw	#4,%d0
		cmpw	0x10(%a1),%d0
		bccs	loc_21B98
		rts
/*  --------------------------------------------------------------------------- */

loc_21B98:
		movew	#0x500,0x20(%a0)
		movew	0x30(%a0),0x1A(%a1)
		movew	0x30(%a0),0x18(%a1)
		addqw	#6,0x14(%a1)
		addqw	#6,0x10(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_21BD0
		bclr	#0,0x2A(%a1)
		subiw	#0xC,0x10(%a1)
		negw	0x18(%a1)

loc_21BD0:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#0x10,0x20(%a1)
		moveb	#2,5(%a1)
		moveb	0x2C(%a0),%d0
		btst	#0,%d0
		beqs	loc_21C30
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#1,0x30(%a1)
		moveb	#8,0x31(%a1)
		btst	#1,%d0
		bnes	loc_21C20
		moveb	#3,0x30(%a1)

loc_21C20:
		btst	#0,0x2A(%a1)
		beqs	loc_21C30
		negb	0x27(%a1)
		negw	0x1C(%a1)

loc_21C30:
		andib	#0xC,%d0
		cmpib	#4,%d0
		bnes	loc_21C46
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)

loc_21C46:
		cmpib	#8,%d0
		bnes	loc_21C58
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_21C58:
		moveq	#sfx_Spring,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_21B74 */

/*  --------------------------------------------------------------------------- */

Obj_Spring_DownDiag:
		movew	#0x1B,%d1
		movew	#0x10,%d2
		movew	0x10(%a0),%d4
		lea	byte_21D94(%pc),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrw	sub_1BADA
		cmpiw	#-2,%d4
		bnes	loc_21C86
		bsrs	sub_21CB2

loc_21C86:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	sub_1BADA
		cmpiw	#-2,%d4
		bnes	loc_21C9C
		bsrs	sub_21CB2

loc_21C9C:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		movew	0x32(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_21CB2:
		movew	#0x500,0x20(%a0)
		movew	0x30(%a0),0x1A(%a1)
		negw	0x1A(%a1)
		movew	0x30(%a0),0x18(%a1)
		subqw	#6,0x14(%a1)
		addqw	#6,0x10(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_21CEE
		bclr	#0,0x2A(%a1)
		subiw	#0xC,0x10(%a1)
		negw	0x18(%a1)

loc_21CEE:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#2,5(%a1)
		moveb	0x2C(%a0),%d0
		btst	#0,%d0
		beqs	loc_21D48
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#1,0x30(%a1)
		moveb	#8,0x31(%a1)
		btst	#1,%d0
		bnes	loc_21D38
		moveb	#3,0x30(%a1)

loc_21D38:
		btst	#0,0x2A(%a1)
		beqs	loc_21D48
		negb	0x27(%a1)
		negw	0x1C(%a1)

loc_21D48:
		andib	#0xC,%d0
		cmpib	#4,%d0
		bnes	loc_21D5E
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)

loc_21D5E:
		cmpib	#8,%d0
		bnes	loc_21D70
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_21D70:
		moveq	#sfx_Spring,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_21CB2 */

/*  --------------------------------------------------------------------------- */
byte_21D78:	.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0xE
		.byte 0xC
		.byte 0xA
		.byte 8
		.byte 6
		.byte 4
		.byte 2
		.byte 0
		.byte 0xFE
		.byte 0xFC
		.byte 0xFC
		.byte 0xFC
		.byte 0xFC
		.byte 0xFC
		.byte 0xFC
		.byte 0xFC
byte_21D94:	.byte 0xF4
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF0
		.byte 0xF2
		.byte 0xF4
		.byte 0xF6
		.byte 0xF8
		.byte 0xFA
		.byte 0xFC
		.byte 0xFE
		.byte 0
		.byte 2
		.byte 4
		.byte 4
		.byte 4
		.byte 4
		.byte 4
		.byte 4
		.byte 4
Ani_Spring:	.include "General/Sprites/Level Misc/Anim - Spring.S"
Map_Spring:	.include "General/Sprites/Level Misc/Map - Spring.S"
Map_2PSpring:	.include "General/Sprites/Level Misc/Map - 2P Spring.S"
/*  --------------------------------------------------------------------------- */

Obj_RetractingSpring:
		bsrw	Obj_Spring
		moveb	0x2C(%a0),%d0
		lsrw	#3,%d0
		andiw	#0xE,%d0
		movew	off_22088(%pc,%d0.w),%d1
		jmp	off_22088(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_22088:	.word loc_22092-off_22088
		.word loc_220AE-off_22088
		.word loc_220CA-off_22088
		.word loc_220E6-off_22088
		.word loc_22116-off_22088
/*  --------------------------------------------------------------------------- */

loc_22092:
		movel	#loc_22098,(%a0)

loc_22098:
		bsrw	sub_22146
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		braw	Obj_Spring_Up
/*  --------------------------------------------------------------------------- */

loc_220AE:
		movel	#loc_220B4,(%a0)

loc_220B4:
		bsrw	sub_22146
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)
		braw	Obj_Spring_Horizontal
/*  --------------------------------------------------------------------------- */

loc_220CA:
		movel	#loc_220D0,(%a0)

loc_220D0:
		bsrw	sub_22146
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		braw	Obj_Spring_Down
/*  --------------------------------------------------------------------------- */

loc_220E6:
		movel	#loc_220EC,(%a0)

loc_220EC:
		bsrw	sub_22146
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		movew	%d0,%d1
		btst	#0,0x2A(%a0)
		bnes	loc_22102
		negw	%d0

loc_22102:
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)
		addw	0x34(%a0),%d1
		movew	%d1,0x14(%a0)
		braw	Obj_Spring_UpDiag
/*  --------------------------------------------------------------------------- */

loc_22116:
		movel	#loc_2211C,(%a0)

loc_2211C:
		bsrw	sub_22146
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		movew	%d0,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_22132
		negw	%d0

loc_22132:
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)
		addw	0x34(%a0),%d1
		movew	%d1,0x14(%a0)
		braw	Obj_Spring_DownDiag

/*  =============== S U B R O U T I N E ======================================= */


sub_22146:
		tstw	0x3A(%a0)
		beqs	loc_22162
		subqw	#1,0x3A(%a0)
		bnes	locret_221A4
		tstb	4(%a0)
		bpls	locret_221A4
		moveq	#sfx_SpikeMove,%d0
		jsr	(Play_Sound_2):l
		bras	locret_221A4
/*  --------------------------------------------------------------------------- */

loc_22162:
		tstw	0x38(%a0)
		beqs	loc_22184
		subiw	#0x800,0x36(%a0)
		bccs	locret_221A4
		movew	#0,0x36(%a0)
		movew	#0,0x38(%a0)
		movew	#0x3C,0x3A(%a0)
		bras	locret_221A4
/*  --------------------------------------------------------------------------- */

loc_22184:
		addiw	#0x800,0x36(%a0)
		cmpiw	#0x2000,0x36(%a0)
		bcss	locret_221A4
		movew	#0x2000,0x36(%a0)
		movew	#1,0x38(%a0)
		movew	#0x3C,0x3A(%a0)

locret_221A4:
		rts
/*  End of function sub_22146 */

/*  --------------------------------------------------------------------------- */
byte_221A6:	.byte   0xC,   8,   0,   1
		.byte   0xC,   8,   0,   0
		.byte   0xC,   8,   0,   1
		.byte    8,  0xC,   1,   0
		.byte   0xC,   8,   2,   1
		.byte   0xC,   8,   3,   1
		.byte   0xC,   8,   2,   1
		.byte   0xC,   8,   3,   1
/*  --------------------------------------------------------------------------- */

Obj_2PRetractingSpring:
		jsr	(Create_New_Sprite3):l
		bnew	loc_2229C
		movel	#loc_2255E,(%a1)
		movel	#Map_2PRetractingSpring,0xC(%a1)
		movew	#0x391,0xA(%a1)
		cmpib	#0x12,(Current_zone):w
		bnes	loc_221F4
		movel	#Map_2PRetractingSpring_2,0xC(%a1)

loc_221F4:
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x2C(%a1)
		lsrb	#2,%d0
		andiw	#0x1C,%d0
		lea	byte_221A6(%pc,%d0.w),%a2
		moveb	(%a2)+,7(%a1)
		moveb	(%a2)+,6(%a1)
		moveb	(%a2)+,%d0
		moveb	%d0,0x22(%a1)
		bnes	loc_2221C
		movel	#loc_225B8,(%a1)

loc_2221C:
		andib	#-0x10,0x2C(%a0)
		moveb	(%a2)+,%d1
		orb	%d1,0x2C(%a0)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveq	#0,%d2
		moveq	#0,%d3
		cmpib	#1,%d0
		bnes	loc_2224E
		moveq	#0xC,%d2
		btst	#0,0x2A(%a0)
		bnes	loc_2224A
		negw	%d2

loc_2224A:
		addw	%d2,0x10(%a1)

loc_2224E:
		cmpib	#2,%d0
		bnes	loc_2225A
		moveq	#0xB,%d3
		addw	%d3,0x14(%a1)

loc_2225A:
		cmpib	#3,%d0
		bnes	loc_22266
		moveq	#-0xB,%d3
		addw	%d3,0x14(%a1)

loc_22266:
		movew	%d2,0x30(%a1)
		movew	%d3,0x32(%a1)
		bclr	#1,0x2A(%a0)
		beqs	loc_2227C
		moveb	#1,0x3C(%a0)

loc_2227C:
		moveb	0x2A(%a0),0x2A(%a1)
		moveb	4(%a0),4(%a1)
		orib	#4,4(%a1)
		movew	#0x200,8(%a1)
		movew	%a0,0x3E(%a1)
		movew	%a1,0x3E(%a0)

loc_2229C:
		bsrw	sub_21426

loc_222A0:
		moveb	0x2C(%a0),%d0
		lsrw	#3,%d0
		andiw	#0xE,%d0
		movew	off_222B2(%pc,%d0.w),%d1
		jmp	off_222B2(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_222B2:	.word loc_222C2-off_222B2
		.word loc_222DE-off_222B2
		.word loc_222FA-off_222B2
		.word loc_22316-off_222B2
		.word loc_22332-off_222B2
		.word loc_2234E-off_222B2
		.word loc_22332-off_222B2
		.word loc_2234E-off_222B2
/*  --------------------------------------------------------------------------- */

loc_222C2:
		movel	#loc_222C8,(%a0)

loc_222C8:
		bsrw	sub_2236A
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		braw	Obj_2PSpring_Up
/*  --------------------------------------------------------------------------- */

loc_222DE:
		movel	#loc_222E4,(%a0)

loc_222E4:
		bsrw	sub_2236A
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)
		braw	Obj_2PSpring_Horizontal
/*  --------------------------------------------------------------------------- */

loc_222FA:
		movel	#loc_22300,(%a0)

loc_22300:
		bsrw	sub_2236A
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		braw	Obj_2PSpring_Down
/*  --------------------------------------------------------------------------- */

loc_22316:
		movel	#loc_2231C,(%a0)

loc_2231C:
		bsrw	sub_2236A
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		braw	Obj_2PSpring_Horizontal
/*  --------------------------------------------------------------------------- */

loc_22332:
		movel	#loc_22338,(%a0)

loc_22338:
		bsrw	sub_2236A
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)
		braw	Obj_2PSpring_Up
/*  --------------------------------------------------------------------------- */

loc_2234E:
		movel	#loc_22354,(%a0)

loc_22354:
		bsrw	sub_2236A
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)
		braw	Obj_2PSpring_Down

/*  =============== S U B R O U T I N E ======================================= */


sub_2236A:
		tstb	0x2C(%a0)
		bmis	loc_223D0
		tstw	0x3A(%a0)
		beqs	loc_2238C
		subqw	#1,0x3A(%a0)
		bnes	locret_223CE
		tstb	4(%a0)
		bpls	locret_223CE
		moveq	#sfx_SpikeMove,%d0
		jsr	(Play_Sound_2):l
		bras	locret_223CE
/*  --------------------------------------------------------------------------- */

loc_2238C:
		tstw	0x38(%a0)
		beqs	loc_223AE
		subiw	#0x800,0x36(%a0)
		bccs	locret_223CE
		movew	#0,0x36(%a0)
		movew	#0,0x38(%a0)
		movew	#0x3C,0x3A(%a0)
		bras	locret_223CE
/*  --------------------------------------------------------------------------- */

loc_223AE:
		addiw	#0x800,0x36(%a0)
		cmpiw	#0x1800,0x36(%a0)
		bcss	locret_223CE
		movew	#0x1800,0x36(%a0)
		movew	#1,0x38(%a0)
		movew	#0x3C,0x3A(%a0)

locret_223CE:
		rts
/*  --------------------------------------------------------------------------- */

loc_223D0:
		tstb	0x3C(%a0)
		beqw	loc_2249A
		tstw	0x3A(%a0)
		beqs	loc_223F0
		subqw	#1,0x3A(%a0)
		bnew	locret_22498
		movew	#0,0x38(%a0)
		braw	locret_22498
/*  --------------------------------------------------------------------------- */

loc_223F0:
		tstw	0x38(%a0)
		bnew	loc_2247E
		tstw	0x36(%a0)
		beqw	locret_22498
		subiw	#0x800,0x36(%a0)
		bhiw	locret_22498
		movew	#0,0x36(%a0)
		moveb	0x2C(%a0),%d0
		andib	#-0x10,%d0
		cmpib	#-0x20,%d0
		bnes	loc_2244A
		addiw	#0x16,0x14(%a0)
		bchg	#1,0x2A(%a0)
		bchg	#1,4(%a0)
		andib	#0xF,0x2C(%a0)
		orib	#-0x10,0x2C(%a0)
		movel	#loc_222A0,(%a0)
		moveaw	0x3E(%a0),%a1
		negw	0x32(%a1)

loc_2244A:
		cmpib	#-0x10,%d0
		bnes	loc_2247C
		subiw	#0x16,0x14(%a0)
		bchg	#1,0x2A(%a0)
		bchg	#1,4(%a0)
		andib	#0xF,0x2C(%a0)
		orib	#-0x20,0x2C(%a0)
		movel	#loc_222A0,(%a0)
		moveaw	0x3E(%a0),%a1
		negw	0x32(%a1)

loc_2247C:
		bras	locret_22498
/*  --------------------------------------------------------------------------- */

loc_2247E:
		addiw	#0x800,0x36(%a0)
		cmpiw	#0x1800,0x36(%a0)
		bcss	locret_22498
		movew	#0x1800,0x36(%a0)
		movew	#0xB4,0x3A(%a0)

locret_22498:
		rts
/*  --------------------------------------------------------------------------- */

loc_2249A:
		tstw	0x3A(%a0)
		beqs	loc_224B2
		subqw	#1,0x3A(%a0)
		bnew	locret_2255C
		movew	#0,0x38(%a0)
		braw	locret_2255C
/*  --------------------------------------------------------------------------- */

loc_224B2:
		tstw	0x38(%a0)
		beqs	loc_224D2
		subiw	#0x800,0x36(%a0)
		bccw	locret_2255C
		movew	#0,0x36(%a0)
		movew	#0xB4,0x3A(%a0)
		braw	locret_2255C
/*  --------------------------------------------------------------------------- */

loc_224D2:
		cmpiw	#0x1800,0x36(%a0)
		beqw	locret_2255C
		addiw	#0x800,0x36(%a0)
		cmpiw	#0x1800,0x36(%a0)
		bcss	locret_2255C
		movew	#0x1800,0x36(%a0)
		moveb	0x2C(%a0),%d0
		andib	#-0x10,%d0
		cmpib	#-0x20,%d0
		bnes	loc_2252A
		addiw	#0x16,0x14(%a0)
		bchg	#1,0x2A(%a0)
		bchg	#1,4(%a0)
		andib	#0xF,0x2C(%a0)
		orib	#-0x10,0x2C(%a0)
		movel	#loc_222A0,(%a0)
		moveaw	0x3E(%a0),%a1
		negw	0x32(%a1)

loc_2252A:
		cmpib	#-0x10,%d0
		bnes	locret_2255C
		subiw	#0x16,0x14(%a0)
		bchg	#1,0x2A(%a0)
		bchg	#1,4(%a0)
		andib	#0xF,0x2C(%a0)
		orib	#-0x20,0x2C(%a0)
		movel	#loc_222A0,(%a0)
		moveaw	0x3E(%a0),%a1
		negw	0x32(%a1)

locret_2255C:
		rts
/*  End of function sub_2236A */

/*  --------------------------------------------------------------------------- */

loc_2255E:
		moveaw	0x3E(%a0),%a1
		movew	0x10(%a1),%d2
		movew	0x14(%a1),%d3
		addw	0x30(%a0),%d2
		addw	0x32(%a0),%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		moveb	0x2C(%a0),%d1
		bpls	loc_22594
		andiw	#0xF,%d1
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d1.w)
		beqs	loc_22594
		movew	#1,0x38(%a1)

loc_22594:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_225B8:
		moveb	0x2C(%a0),%d1
		bpls	locret_225D6
		andiw	#0xF,%d1
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d1.w)
		beqs	locret_225D6
		moveaw	0x3E(%a0),%a1
		movew	#1,0x38(%a1)

locret_225D6:
		rts
/*  --------------------------------------------------------------------------- */
Map_2PRetractingSpring:
		.include "General/Sprites/Level Misc/Map - 2P Retracting Spring.S"
byte_22602:	.byte 0x10
		.byte 0x10
		.byte 0x20
		.byte 0x10
		.byte 0x30
		.byte 0x10
		.byte 0x40
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x20
		.byte 0x10
		.byte 0x30
		.byte 0x10
		.byte 0x40
/*  --------------------------------------------------------------------------- */

Obj_Spikes:
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF0,%d0
		lsrw	#3,%d0
		tstw	(Competition_mode):w
		bnes	loc_226A0
		lea	byte_22602(%pc,%d0.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movel	#loc_226FC,(%a0)
		movel	#Map_Spikes,0xC(%a0)
		movew	#0x49C,0xA(%a0)
		lsrw	#1,%d0
		moveb	%d0,0x22(%a0)
		cmpib	#4,%d0
		bcss	loc_22666
		movel	#loc_2274E,(%a0)
		movew	#0x494,0xA(%a0)

loc_22666:
		btst	#1,0x2A(%a0)
		beqs	loc_22674
		movel	#loc_227AA,(%a0)

loc_22674:
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	0x2C(%a0),%d0
		andib	#0xF,%d0
		addb	%d0,%d0
		moveb	%d0,0x2C(%a0)
		rts
/*  --------------------------------------------------------------------------- */
byte_22690:	.byte   0xC,  0xC, 0x18,  0xC, 0x24,  0xC, 0x30,  0xC,  0xC,  0xC,  0xC, 0x18,  0xC, 0x24,  0xC, 0x30
/*  --------------------------------------------------------------------------- */

loc_226A0:
		lea	byte_22690(%pc,%d0.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movel	#loc_227FA,(%a0)
		movel	#Map_2PSpikes,0xC(%a0)
		movew	#0x391,0xA(%a0)
		lsrw	#1,%d0
		moveb	%d0,0x22(%a0)
		cmpib	#4,%d0
		bcss	loc_226D2
		movel	#loc_22848,(%a0)

loc_226D2:
		btst	#1,0x2A(%a0)
		beqs	loc_226E0
		movel	#loc_228A0,(%a0)

loc_226E0:
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	0x2C(%a0),%d0
		andib	#0xF,%d0
		addb	%d0,%d0
		moveb	%d0,0x2C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_226FC:
		bsrw	sub_22922
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		moveb	0x2A(%a0),%d6
		andib	#0x18,%d6
		beqs	loc_22744
		moveb	%d6,%d0
		andib	#8,%d0
		beqs	loc_22736
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_22736:
		andib	#0x10,%d6
		beqs	loc_22744
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_22744:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_2274E:
		bsrw	sub_22922
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		swap	%d6
		andiw	#3,%d6
		beqs	loc_227A0
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_2278C
		lea	(Player_1):w,%a1
		bsrw	sub_228EC
		bclr	#5,0x2A(%a0)

loc_2278C:
		andib	#2,%d6
		beqs	loc_227A0
		lea	(Player_2):w,%a1
		bsrw	sub_228EC
		bclr	#6,0x2A(%a0)

loc_227A0:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_227AA:
		bsrw	sub_22922
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		swap	%d6
		andiw	#0xC,%d6
		beqs	loc_227F0
		moveb	%d6,%d0
		andib	#4,%d0
		beqs	loc_227E2
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_227E2:
		andib	#8,%d6
		beqs	loc_227F0
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_227F0:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_227FA:
		bsrw	sub_229C0
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		moveb	0x2A(%a0),%d6
		andib	#0x18,%d6
		beqs	loc_22842
		moveb	%d6,%d0
		andib	#8,%d0
		beqs	loc_22834
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_22834:
		andib	#0x10,%d6
		beqs	loc_22842
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_22842:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_22848:
		bsrw	sub_229C0
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		swap	%d6
		andiw	#3,%d6
		beqs	loc_2289A
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_22886
		lea	(Player_1):w,%a1
		bsrw	sub_228EC
		bclr	#5,0x2A(%a0)

loc_22886:
		andib	#2,%d6
		beqs	loc_2289A
		lea	(Player_2):w,%a1
		bsrw	sub_228EC
		bclr	#6,0x2A(%a0)

loc_2289A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_228A0:
		bsrw	sub_229C0
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	SolidObjectFull
		swap	%d6
		andiw	#0xC,%d6
		beqs	loc_228E6
		moveb	%d6,%d0
		andib	#4,%d0
		beqs	loc_228D8
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_228D8:
		andib	#8,%d6
		beqs	loc_228E6
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_228E6:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_228EC:
		btst	#1,0x2B(%a1)
		bnes	locret_22920
		tstb	0x34(%a1)
		bnes	locret_22920
		cmpib	#4,5(%a1)
		bccs	locret_22920
		movel	0x14(%a1),%d3
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		subl	%d0,%d3
		movel	%d3,0x14(%a1)
		moveal	%a0,%a2
		moveal	%a1,%a0
		jsr	(HurtCharacter):l
		moveal	%a2,%a0

locret_22920:
		rts
/*  End of function sub_228EC */


/*  =============== S U B R O U T I N E ======================================= */


sub_22922:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	off_22930(%pc,%d0.w),%d1
		jmp	off_22930(%pc,%d1.w)
/*  End of function sub_22922 */

/*  --------------------------------------------------------------------------- */
off_22930:	.word locret_22936-off_22930
		.word loc_22938-off_22930
		.word loc_2294C-off_22930
/*  --------------------------------------------------------------------------- */

locret_22936:
		rts
/*  --------------------------------------------------------------------------- */

loc_22938:
		bsrw	sub_22960
		moveq	#0,%d0
		moveb	0x34(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2294C:
		bsrw	sub_22960
		moveq	#0,%d0
		moveb	0x34(%a0),%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_22960:
		tstw	0x38(%a0)
		beqs	loc_2297C
		subqw	#1,0x38(%a0)
		bnes	locret_229BE
		tstb	4(%a0)
		bpls	locret_229BE
		moveq	#sfx_SpikeMove,%d0
		jsr	(Play_Sound_2):l
		bras	locret_229BE
/*  --------------------------------------------------------------------------- */

loc_2297C:
		tstw	0x36(%a0)
		beqs	loc_2299E
		subiw	#0x800,0x34(%a0)
		bccs	locret_229BE
		movew	#0,0x34(%a0)
		movew	#0,0x36(%a0)
		movew	#0x3C,0x38(%a0)
		bras	locret_229BE
/*  --------------------------------------------------------------------------- */

loc_2299E:
		addiw	#0x800,0x34(%a0)
		cmpiw	#0x2000,0x34(%a0)
		bcss	locret_229BE
		movew	#0x2000,0x34(%a0)
		movew	#1,0x36(%a0)
		movew	#0x3C,0x38(%a0)

locret_229BE:
		rts
/*  End of function sub_22960 */


/*  =============== S U B R O U T I N E ======================================= */


sub_229C0:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	off_229CE(%pc,%d0.w),%d1
		jmp	off_229CE(%pc,%d1.w)
/*  End of function sub_229C0 */

/*  --------------------------------------------------------------------------- */
off_229CE:	.word locret_22936-off_229CE
		.word loc_229D4-off_229CE
		.word loc_229E8-off_229CE
/*  --------------------------------------------------------------------------- */

loc_229D4:
		bsrw	sub_229FC
		moveq	#0,%d0
		moveb	0x34(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_229E8:
		bsrw	sub_229FC
		moveq	#0,%d0
		moveb	0x34(%a0),%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_229FC:
		tstw	0x38(%a0)
		beqs	loc_22A18
		subqw	#1,0x38(%a0)
		bnes	locret_22A5A
		tstb	4(%a0)
		bpls	locret_22A5A
		moveq	#sfx_SpikeMove,%d0
		jsr	(Play_Sound_2):l
		bras	locret_22A5A
/*  --------------------------------------------------------------------------- */

loc_22A18:
		tstw	0x36(%a0)
		beqs	loc_22A3A
		subiw	#0x800,0x34(%a0)
		bccs	locret_22A5A
		movew	#0,0x34(%a0)
		movew	#0,0x36(%a0)
		movew	#0x3C,0x38(%a0)
		bras	locret_22A5A
/*  --------------------------------------------------------------------------- */

loc_22A3A:
		addiw	#0x800,0x34(%a0)
		cmpiw	#0x1800,0x34(%a0)
		bcss	locret_22A5A
		movew	#0x1800,0x34(%a0)
		movew	#1,0x36(%a0)
		movew	#0x3C,0x38(%a0)

locret_22A5A:
		rts
/*  End of function sub_229FC */

/*  --------------------------------------------------------------------------- */
Map_Spikes:	.include "General/Sprites/Level Misc/Map - Spikes.S"
Map_2PSpikes:	.include "General/2P Zone/Map - Spikes.S"

/*  =============== S U B R O U T I N E ======================================= */


Init_ArtScaling:
		moveq	#0,%d1
		movew	%d1,(_unkF740):w
		moveaw	%d1,%a0
		moveaw	%d1,%a1
		moveaw	%d1,%a2
		moveaw	%d1,%a3
		moveaw	%d1,%a4
		moveaw	%d1,%a5
		lea	(H_scroll_buffer):w,%a6
		movew	#0xF,%d1

loc_22C1E:
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a5,-(%a6)
		moveml	%a0-%a3,-(%a6)
		dbf	%d1,loc_22C1E
		rts
/*  End of function Init_ArtScaling */

/*  --------------------------------------------------------------------------- */
word_22C50:	.word 0x100
		.word 0xFC
		.word 0x90
		.word 0x90
		.word 0x40
		.word 0x40
		.word 0x40
		.word 0x3C
		.word 0x3C
		.word 0x3C
		.word 0x3C
		.word 0x3C
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0xC
		.word 0xC
		.word 0xC
		.word 0xC

/*  =============== S U B R O U T I N E ======================================= */


sub_22C90:
		moveq	#0,%d1
		moveb	0x40(%a0),%d1
		cmpib	#0x1C,%d1
		bcss	loc_22CA0
		moveb	#0x1C,%d1

loc_22CA0:
		moveb	%d1,0x22(%a0)
		addw	%d1,%d1
		movew	word_22C50(%pc,%d1.w),%d1
		movew	(_unkF740):w,%d2
		addw	%d1,%d2
		cmpiw	#0x80,%d2
		bhis	loc_22CD8
		subw	%d1,%d2
		moveml	%d1/%d5-%a0/%a2/%a4,-(%sp)
		lea	(Kos_decomp_buffer):w,%a2
		addw	%d2,%d0
		movew	%d0,0xA(%a0)
		lslw	#5,%d2
		addaw	%d2,%a2
		bsrs	sub_22CE0
		moveml	(%sp)+,%d1/%d5-%a0/%a2/%a4
		addw	%d1,(_unkF740):w
		rts
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

loc_22CD8:
		bclr	#7,4(%a0)
		rts
/*  End of function sub_22C90 */


/*  =============== S U B R O U T I N E ======================================= */


sub_22CE0:
		moveq	#0,%d0
		moveb	0x40(%a0),%d0
		moveq	#0,%d1
		moveb	0x20(%a0),%d1
		moveal	0x42(%a0),%a1
		rorw	#4,%d1
		addal	%d1,%a1
		moveal	%a1,%a0
		addaw	#0x1000,%a0
		addiw	#4,%d0
		movew	%d0,%d4
		lsrw	#3,%d4
		movew	%d0,%d5
		rorw	#3,%d5
		andiw	#-0x2000,%d5
		movew	#0xF0,%d6
		swap	%d6
		movew	#0xF,%d7
		swap	%d7
		tstw	%d4
		beqw	loc_22FC0
		cmpiw	#1,%d4
		bnes	loc_22D30
		tstw	%d5
		beqw	loc_22F44
		cmpiw	#0x2000,%d5
		beqw	loc_22EBE

loc_22D30:
		movew	%d4,%d2
		swap	%d2
		movew	%d5,%d2
		lsrl	#8,%d2
		movel	#0x400000,%d0
		divuw	%d2,%d0
		lsrw	#8,%d0
		lsrw	#3,%d0
		subqw	#1,%d0
		moveaw	%d0,%a5
		moveq	#0,%d2
		moveq	#0,%d3
		lea	loc_22DA2(%pc),%a6

loc_22D50:
		movew	#0x1F,%d7

loc_22D54:
		swap	%d7
		swap	%d3
		movew	#0,%d2
		movew	#0,%d3
		moveal	%a2,%a4
		movew	%a5,%d6
		bmis	loc_22D76

loc_22D66:
		swap	%d6
		jsr	(%a6)
		swap	%d6
		dbf	%d6,loc_22D66
		cmpiw	#0x40,%d2
		bccs	loc_22D7E

loc_22D76:
		swap	%d6
		jsr	sub_22E08(%pc)
		swap	%d6

loc_22D7E:
		swap	%d3
		addw	%d5,%d3
		bccs	loc_22D88
		addaw	#0x40,%a1

loc_22D88:
		movew	%d4,%d0
		lslw	#6,%d0
		addaw	%d0,%a1
		cmpal	%a0,%a1
		bccs	locret_22DA0
		addqw	#4,%a2
		swap	%d7
		dbf	%d7,loc_22D54
		lea	0x380(%a2),%a2
		bras	loc_22D50
/*  --------------------------------------------------------------------------- */

locret_22DA0:
		rts
/*  End of function sub_22CE0 */

/*  --------------------------------------------------------------------------- */

loc_22DA2:
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		lea	0x7C(%a4),%a4
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_22E08:
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E1A
		moveb	#0,%d0

loc_22E1A:
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E2C
		moveb	#0,%d1

loc_22E2C:
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E46
		moveb	#0,%d0

loc_22E46:
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E58
		moveb	#0,%d1

loc_22E58:
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E72
		moveb	#0,%d0

loc_22E72:
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E84
		moveb	#0,%d1

loc_22E84:
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a1,%d2.w),%d0
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22E9E
		moveb	#0,%d0

loc_22E9E:
		moveb	(%a1,%d2.w),%d1
		addw	%d5,%d3
		addxw	%d4,%d2
		cmpiw	#0x40,%d2
		bcss	loc_22EB0
		moveb	#0,%d1

loc_22EB0:
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  End of function sub_22E08 */

/*  --------------------------------------------------------------------------- */

loc_22EBE:
		moveq	#0,%d3
		lslw	#6,%d4
		lea	loc_22F0C(%pc),%a6
		movew	#1,%d7

loc_22ECA:
		swap	%d7
		movew	#0x1F,%d6

loc_22ED0:
		swap	%d6
		moveal	%a1,%a3
		moveal	%a2,%a4
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		moveb	(%a3)+,%d0
		andb	%d6,%d0
		moveb	%d0,(%a4)+
		addw	%d5,%d3
		bccs	loc_22EF2
		lea	0x40(%a1),%a1

loc_22EF2:
		addaw	%d4,%a1
		cmpal	%a0,%a1
		bccs	locret_22F0A
		addqw	#4,%a2
		swap	%d6
		dbf	%d6,loc_22ED0
		lea	0x380(%a2),%a2
		swap	%d7
		dbf	%d7,loc_22ECA

locret_22F0A:
		rts
/*  --------------------------------------------------------------------------- */

loc_22F0C:
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		addqw	#1,%a3
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_22F44:
		moveq	#0,%d3
		lslw	#6,%d4
		lea	loc_22F8A(%pc),%a6
		movew	#1,%d7

loc_22F50:
		swap	%d7
		movew	#0x1F,%d6

loc_22F56:
		swap	%d6
		moveal	%a1,%a3
		moveal	%a2,%a4
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		addw	%d5,%d3
		bccs	loc_22F74
		lea	0x40(%a1),%a1

loc_22F74:
		addaw	%d4,%a1
		addqw	#4,%a2
		swap	%d6
		dbf	%d6,loc_22F56
		lea	0x380(%a2),%a2
		swap	%d7
		dbf	%d7,loc_22F50
		rts
/*  --------------------------------------------------------------------------- */

loc_22F8A:
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_22FC0:
		cmpiw	#0xE000,%d5
		bnew	loc_23042
		lea	loc_23016(%pc),%a6
		moveq	#0,%d3
		lslw	#6,%d4
		movew	#2,%d7

loc_22FD4:
		swap	%d7
		movew	#0x1F,%d6

loc_22FDA:
		swap	%d6
		moveal	%a1,%a3
		moveal	%a2,%a4
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		moveb	(%a3),(%a4)
		addw	%d5,%d3
		bccs	loc_22FFC
		lea	0x40(%a1),%a1

loc_22FFC:
		addaw	%d4,%a1
		cmpal	%a0,%a1
		bccs	locret_23014
		addqw	#4,%a2
		swap	%d6
		dbf	%d6,loc_22FDA
		lea	0x580(%a2),%a2
		swap	%d7
		dbf	%d7,loc_22FD4

locret_23014:
		rts
/*  --------------------------------------------------------------------------- */

loc_23016:
		moveb	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_23042:
		cmpiw	#0xC000,%d5
		bnew	loc_230CC
		moveq	#0,%d3
		lslw	#6,%d4
		lea	loc_230AA(%pc),%a6
		movew	#3,%d7

loc_23056:
		swap	%d7
		movew	#0x1F,%d6

loc_2305C:
		swap	%d6
		moveal	%a1,%a3
		moveal	%a2,%a4
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		jsr	(%a6)
		moveb	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3),%d0
		moveb	%d0,(%a4)
		addw	%d5,%d3
		bccs	loc_23090
		lea	0x40(%a1),%a1

loc_23090:
		addaw	%d4,%a1
		cmpal	%a0,%a1
		bccs	locret_230A8
		addqw	#4,%a2
		swap	%d6
		dbf	%d6,loc_2305C
		lea	0x580(%a2),%a2
		swap	%d7
		dbf	%d7,loc_23056

locret_230A8:
		rts
/*  --------------------------------------------------------------------------- */

loc_230AA:
		moveb	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_230CC:
		cmpiw	#0xA000,%d5
		bnew	loc_23166
		moveq	#0,%d3
		lslw	#6,%d4
		lea	loc_23150(%pc),%a5
		lea	loc_23138(%pc),%a6
		movew	#3,%d7

loc_230E4:
		swap	%d7
		movew	#0x1F,%d6

loc_230EA:
		swap	%d6
		moveal	%a1,%a3
		moveal	%a2,%a4
		jsr	(%a5)
		jsr	(%a6)
		jsr	(%a5)
		jsr	(%a6)
		jsr	(%a5)
		jsr	(%a6)
		jsr	(%a5)
		jsr	(%a6)
		jsr	(%a5)
		jsr	(%a6)
		jsr	(%a5)
		jsr	(%a6)
		movew	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		addw	%d5,%d3
		bccs	loc_2311E
		lea	0x40(%a1),%a1

loc_2311E:
		addaw	%d4,%a1
		cmpal	%a0,%a1
		bccs	locret_23136
		addqw	#4,%a2
		swap	%d6
		dbf	%d6,loc_230EA
		lea	0x780(%a2),%a2
		swap	%d7
		dbf	%d7,loc_230E4

locret_23136:
		rts
/*  --------------------------------------------------------------------------- */

loc_23138:
		moveb	(%a3)+,(%a4)+
		moveb	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_23150:
		movew	(%a3)+,(%a4)+
		moveb	(%a3)+,%d0
		moveb	(%a3)+,%d1
		andb	%d6,%d0
		andb	%d7,%d1
		orb	%d1,%d0
		moveb	%d0,(%a4)+
		moveb	(%a3)+,(%a4)+
		lea	0x7C(%a4),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_23166:
		moveq	#0,%d3
		lslw	#6,%d4
		moveq	#3,%d7

loc_2316C:
		movew	#0x1F,%d6

loc_23170:
		moveal	%a1,%a3
		moveal	%a2,%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		movel	(%a3)+,(%a4)
		lea	0x80(%a4),%a4
		addw	%d5,%d3
		bccs	loc_231DC
		lea	0x40(%a1),%a1

loc_231DC:
		addaw	%d4,%a1
		addqw	#4,%a2
		dbf	%d6,loc_23170
		lea	0x780(%a2),%a2
		dbf	%d7,loc_2316C
		rts
/*  --------------------------------------------------------------------------- */
Map_ScaledArt:	.include "General/Sprites/Level Misc/Map - Scaled Art.S"
/*  --------------------------------------------------------------------------- */

Obj_SphereTest:
		lea	(word_2382C):l,%a6
		moveal	%a0,%a1
		movel	#Obj_SphereTest_Main,(%a1)
		cmpib	#1,0x2C(%a0)
		beqw	loc_23398
		cmpib	#2,0x2C(%a0)
		beqw	loc_23556
		tstb	(Ctrl_2):w
		bnew	loc_23556

loc_23398:
		moveq	#0,%d2
		moveq	#0xD,%d3
		tstw	(Sphere_test_address):w
		bnes	loc_233D6
		movew	%a0,(Sphere_test_address):w
		movew	#0,(_unkE412):w
		movew	#0,(_unkE414):w
		movew	#0x200,(_unkE416):w
		movew	#0,(SStage_scalar_index_0):w
		movew	#0,(SStage_scalar_index_1):w
		movew	#0,(SStage_scalar_index_2):w
		bras	loc_233DC
/*  --------------------------------------------------------------------------- */

loc_233CC:
		jsr	(Create_New_Sprite3):l
		bnew	loc_234E0

loc_233D6:
		movel	#Obj_EosianSphere,(%a1)

loc_233DC:
		bsrw	sub_23500
		bsrw	sub_23540
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	%d1,0x34(%a1)
		movew	%d0,0x36(%a1)
		movew	#-0x20,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_233CC
		moveq	#0,%d2
		moveq	#0xD,%d3

loc_23412:
		jsr	(Create_New_Sprite3):l
		bnew	loc_234E0
		movel	#Obj_EosianSphere,(%a1)
		bsrw	sub_23500
		bsrw	sub_23540
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	%d1,0x34(%a1)
		movew	%d0,0x36(%a1)
		movew	#0x20,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_23412
		moveq	#0,%d2
		moveq	#0xD,%d3

loc_23458:
		jsr	(Create_New_Sprite3):l
		bnew	loc_234E0
		movel	#Obj_EosianSphere,(%a1)
		bsrw	sub_23500
		bsrw	sub_23540
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	#0x20,0x34(%a1)
		movew	%d0,0x36(%a1)
		movew	%d1,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_23458
		moveq	#0,%d2
		moveq	#0xD,%d3

loc_2349E:
		jsr	(Create_New_Sprite3):l
		bnew	loc_234E0
		movel	#Obj_EosianSphere,(%a1)
		bsrw	sub_23500
		bsrw	sub_23540
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	#-0x20,0x34(%a1)
		movew	%d0,0x36(%a1)
		movew	%d1,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_2349E

loc_234E0:
		lea	(Pal_SphereTest):l,%a1
		lea	(Normal_palette_line_2):w,%a2
		movew	#0xF,%d0

loc_234EE:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_234EE
		moveq	#9,%d0
		jsr	(Load_PLC):l
		braw	Obj_SphereTest_Main

/*  =============== S U B R O U T I N E ======================================= */


sub_23500:
		moveb	#4,4(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x10,6(%a1)
		movew	#0x200,8(%a1)
		movel	#Map_SphereTest,0xC(%a1)
		movew	#0x24E0,0xA(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x10(%a0),0x30(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0x14(%a0),0x32(%a1)
		rts
/*  End of function sub_23500 */


/*  =============== S U B R O U T I N E ======================================= */


sub_23540:
		cmpiw	#0x40,%d2
		bnes	loc_2354A
		addiw	#0x10,%d2

loc_2354A:
		cmpiw	#0xC0,%d2
		bnes	locret_23554
		addiw	#0x10,%d2

locret_23554:
		rts
/*  End of function sub_23540 */

/*  --------------------------------------------------------------------------- */

loc_23556:
		moveq	#0,%d2
		moveq	#0xF,%d3
		tstw	(Sphere_test_address):w
		bnes	loc_23594
		movew	%a0,(Sphere_test_address):w
		movew	#0,(_unkE412):w
		movew	#0,(_unkE414):w
		movew	#0x200,(_unkE416):w
		movew	#0,(SStage_scalar_index_0):w
		movew	#0,(SStage_scalar_index_1):w
		movew	#0,(SStage_scalar_index_2):w
		bras	loc_2359A
/*  --------------------------------------------------------------------------- */

loc_2358A:
		jsr	(Create_New_Sprite3):l
		bnew	loc_2364C

loc_23594:
		movel	#Obj_EosianSphere,(%a1)

loc_2359A:
		bsrw	sub_2366C
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	%d1,0x34(%a1)
		movew	%d0,0x36(%a1)
		movew	#0,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_2358A
		moveq	#0,%d2
		moveq	#0xF,%d3

loc_235CC:
		jsr	(Create_New_Sprite3):l
		bnew	loc_2364C
		movel	#Obj_EosianSphere,(%a1)
		bsrw	sub_2366C
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	#0,0x34(%a1)
		movew	%d0,0x36(%a1)
		movew	%d1,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_235CC
		moveq	#0,%d2
		moveq	#0xF,%d3

loc_2360E:
		jsr	(Create_New_Sprite3):l
		bnew	loc_2364C
		movel	#Obj_EosianSphere,(%a1)
		bsrw	sub_2366C
		movew	%d2,%d0
		addiw	#0x10,%d2
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		asrw	#1,%d1
		movew	%d0,0x34(%a1)
		movew	#0,0x36(%a1)
		movew	%d1,0x38(%a1)
		movel	%a6,0x3A(%a1)
		addaw	#0x10,%a6
		dbf	%d3,loc_2360E

loc_2364C:
		lea	(Pal_SphereTest):l,%a1
		lea	(Normal_palette_line_2):w,%a2
		movew	#0xF,%d0

loc_2365A:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_2365A
		moveq	#9,%d0
		jsr	(Load_PLC):l
		braw	Obj_SphereTest_Main

/*  =============== S U B R O U T I N E ======================================= */


sub_2366C:
		moveb	#4,4(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x10,6(%a1)
		movew	#0x200,8(%a1)
		movel	#Map_SphereTest,0xC(%a1)
		movew	#0x24E0,0xA(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x10(%a0),0x30(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0x14(%a0),0x32(%a1)
		rts
/*  End of function sub_2366C */

/*  --------------------------------------------------------------------------- */
Pal_SphereTest:	.incbin "General/Special Stage/Palettes/Eosian Spheres.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_SphereTest_Main:
		moveb	(Ctrl_2):w,%d1
		btst	#6,%d1
		beqs	loc_236E2
		cmpiw	#0x800,(_unkE416):w
		bccs	loc_236E2
		addqw	#8,(_unkE416):w

loc_236E2:
		btst	#5,%d1
		beqs	loc_236F4
		cmpiw	#0x81,(_unkE416):w
		bcss	loc_236F4
		subqw	#8,(_unkE416):w

loc_236F4:
		tstw	0x3E(%a0)
		bnes	loc_2371A
		btst	#0,%d1
		bnes	loc_23704
		addqw	#3,(SStage_scalar_index_0):w

loc_23704:
		btst	#3,%d1
		bnes	loc_2370E
		addqw	#2,(SStage_scalar_index_1):w

loc_2370E:
		btst	#4,%d1
		bnes	loc_23718
		addqw	#1,(SStage_scalar_index_2):w

loc_23718:
		bras	loc_23738
/*  --------------------------------------------------------------------------- */

loc_2371A:
		btst	#0,%d1
		beqs	loc_23724
		subqw	#1,(SStage_scalar_index_0):w

loc_23724:
		btst	#3,%d1
		beqs	loc_2372E
		addqw	#1,(SStage_scalar_index_1):w

loc_2372E:
		btst	#4,%d1
		beqs	loc_23738
		addqw	#1,(SStage_scalar_index_2):w

loc_23738:
		btst	#7,(Ctrl_2_pressed):w
		beqs	loc_23758
		eoriw	#-1,0x3E(%a0)
		movew	#0,(SStage_scalar_index_0):w
		movew	#0,(SStage_scalar_index_1):w
		movew	#0,(SStage_scalar_index_2):w

loc_23758:
		btst	#1,%d1
		bnes	loc_23762
		addqw	#8,(_unkE414):w

loc_23762:
		btst	#2,%d1
		bnes	loc_2376C
		subqw	#8,(_unkE414):w

loc_2376C:
		movew	(SStage_scalar_index_2):w,%d0
		lea	(SStage_scalar_result_2):w,%a1
		bsrw	GetScalars
		movew	(SStage_scalar_index_1):w,%d0
		lea	(SStage_scalar_result_1):w,%a1
		bsrw	GetScalars
		movew	(SStage_scalar_index_0):w,%d0
		lea	(SStage_scalar_result_0):w,%a1
		bsrw	GetScalars

Obj_EosianSphere:
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_237A6
		bras	loc_237C4
/*  --------------------------------------------------------------------------- */

loc_237A6:
		movew	0x48(%a0),%d0
		beqs	loc_237B2
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_237B2:
		cmpaw	(Sphere_test_address):w,%a0
		bnes	loc_237BE
		movew	#0,(Sphere_test_address):w

loc_237BE:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_237C4:
		moveal	0x3A(%a0),%a6
		movew	0x34(%a0),%d1
		movew	0x36(%a0),%d2
		movew	0x38(%a0),%d0
		bsrw	sub_2398E
		bsrw	sub_23964
		addw	(_unkE416):w,%d0
		cmpiw	#0x80,%d0
		blts	locret_2382A
		bsrw	sub_2393A
		addw	(_unkE414):w,%d2
		bsrw	sub_2392C
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		addw	0x32(%a0),%d2
		movew	%d2,0x14(%a0)
		subiw	#0x80,%d0
		lsrw	#5,%d0
		addiw	#0,%d0
		cmpiw	#0x10,%d0
		bcss	loc_23816
		movew	#0xF,%d0

loc_23816:
		moveb	%d0,0x22(%a0)
		lslw	#6,%d0
		andiw	#0x380,%d0
		movew	%d0,8(%a0)
		jsr	(Draw_Sprite):l

locret_2382A:
		rts
/*  --------------------------------------------------------------------------- */
word_2382C:	.word   -0x70,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x50,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x30,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x10,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x10,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x30,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x50,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x70,-0x8000,  -0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x70,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x50,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x30,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word   -0x10,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x10,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x30,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x50,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234
		.word    0x70,-0x8000,   0x70,-0x8000,     0,-0x8000,     0,  0x234

/*  =============== S U B R O U T I N E ======================================= */


sub_2392C:
		extl	%d1
		lsll	#8,%d1
		divsw	%d0,%d1
		extl	%d2
		lsll	#8,%d2
		divsw	%d0,%d2
		rts
/*  End of function sub_2392C */


/*  =============== S U B R O U T I N E ======================================= */


sub_2393A:
		swap	%d0
		movew	%d1,%d3
		movew	%d2,%d4
		movew	(SStage_scalar_result_2):w,%d0
		mulsw	%d0,%d3
		mulsw	%d0,%d4
		movew	(SStage_scalar_result_2+2):w,%d0
		mulsw	%d0,%d1
		mulsw	%d0,%d2
		subl	%d4,%d1
		addl	%d1,%d1
		addl	%d1,%d1
		swap	%d1
		addl	%d3,%d2
		addl	%d2,%d2
		addl	%d2,%d2
		swap	%d2
		swap	%d0
		rts
/*  End of function sub_2393A */


/*  =============== S U B R O U T I N E ======================================= */


sub_23964:
		swap	%d2
		movew	%d0,%d3
		movew	%d1,%d4
		movew	(SStage_scalar_result_1):w,%d2
		mulsw	%d2,%d3
		mulsw	%d2,%d4
		movew	(SStage_scalar_result_1+2):w,%d2
		mulsw	%d2,%d0
		mulsw	%d2,%d1
		subl	%d4,%d0
		addl	%d0,%d0
		addl	%d0,%d0
		swap	%d0
		addl	%d3,%d1
		addl	%d1,%d1
		addl	%d1,%d1
		swap	%d1
		swap	%d2
		rts
/*  End of function sub_23964 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2398E:
		swap	%d1
		movew	%d0,%d3
		movew	%d2,%d4
		movew	(SStage_scalar_result_0):w,%d1
		mulsw	%d1,%d3
		mulsw	%d1,%d4
		movew	(SStage_scalar_result_0+2):w,%d1
		mulsw	%d1,%d0
		mulsw	%d1,%d2
		subl	%d4,%d0
		addl	%d0,%d0
		addl	%d0,%d0
		swap	%d0
		addl	%d3,%d2
		addl	%d2,%d2
		addl	%d2,%d2
		swap	%d2
		swap	%d1
		rts
/*  End of function sub_2398E */


/*  =============== S U B R O U T I N E ======================================= */


GetScalars:
		addw	%d0,%d0
		andiw	#0x1FE,%d0
		movew	ScalarTable(%pc,%d0.w),(%a1)+
		addiw	#0x80,%d0
		andiw	#0x1FE,%d0
		movew	ScalarTable(%pc,%d0.w),(%a1)+
		rts
/*  End of function GetScalars */

/*  --------------------------------------------------------------------------- */
ScalarTable:	.word      0,  0x192,  0x324,  0x4B5,  0x646,  0x7D6,  0x964,  0xAF1,  0xC7C,  0xE06,  0xF8D, 0x1112, 0x1294, 0x1413, 0x1590, 0x1709
		.word  0x187E, 0x19EF, 0x1B5D, 0x1CC6, 0x1E2B, 0x1F8C, 0x20E7, 0x223D, 0x238E, 0x24DA, 0x2620, 0x2760, 0x289A, 0x29CE, 0x2AFB, 0x2C21
		.word  0x2D41, 0x2E5A, 0x2F6C, 0x3076, 0x3179, 0x3274, 0x3368, 0x3453, 0x3537, 0x3612, 0x36E5, 0x37B0, 0x3871, 0x392B, 0x39DB, 0x3A82
		.word  0x3B21, 0x3BB6, 0x3C42, 0x3CC5, 0x3D3F, 0x3DAF, 0x3E15, 0x3E72, 0x3EC5, 0x3F0F, 0x3F4F, 0x3F85, 0x3FB1, 0x3FD4, 0x3FEC, 0x3FFB
		.word  0x4000, 0x3FFB, 0x3FEC, 0x3FD4, 0x3FB1, 0x3F85, 0x3F4F, 0x3F0F, 0x3EC5, 0x3E72, 0x3E15, 0x3DAF, 0x3D3F, 0x3CC5, 0x3C42, 0x3BB6
		.word  0x3B21, 0x3A82, 0x39DB, 0x392B, 0x3871, 0x37B0, 0x36E5, 0x3612, 0x3537, 0x3453, 0x3368, 0x3274, 0x3179, 0x3076, 0x2F6C, 0x2E5A
		.word  0x2D41, 0x2C21, 0x2AFB, 0x29CE, 0x289A, 0x2760, 0x2620, 0x24DA, 0x238E, 0x223D, 0x20E7, 0x1F8C, 0x1E2B, 0x1CC6, 0x1B5D, 0x19EF
		.word  0x187E, 0x1709, 0x1590, 0x1413, 0x1294, 0x1112,  0xF8D,  0xE06,  0xC7C,  0xAF1,  0x964,  0x7D6,  0x646,  0x4B5,  0x324,  0x192
		.word      0, 0xFE6E, 0xFCDC, 0xFB4B, 0xF9BA, 0xF82A, 0xF69C, 0xF50F, 0xF384, 0xF1FA, 0xF073, 0xEEEE, 0xED6C, 0xEBED, 0xEA70, 0xE8F7
		.word  0xE782, 0xE611, 0xE4A3, 0xE33A, 0xE1D5, 0xE074, 0xDF19, 0xDDC3, 0xDC72, 0xDB26, 0xD9E0, 0xD8A0, 0xD766, 0xD632, 0xD505, 0xD3DF
		.word  0xD2BF, 0xD1A6, 0xD094, 0xCF8A, 0xCE87, 0xCD8C, 0xCC98, 0xCBAD, 0xCAC9, 0xC9EE, 0xC91B, 0xC850, 0xC78F, 0xC6D5, 0xC625, 0xC57E
		.word  0xC4DF, 0xC44A, 0xC3BE, 0xC33B, 0xC2C1, 0xC251, 0xC1EB, 0xC18E, 0xC13B, 0xC0F1, 0xC0B1, 0xC07B, 0xC04F, 0xC02C, 0xC014, 0xC005
		.word  0xC000, 0xC005, 0xC014, 0xC02C, 0xC04F, 0xC07B, 0xC0B1, 0xC0F1, 0xC13B, 0xC18E, 0xC1EB, 0xC251, 0xC2C1, 0xC33B, 0xC3BE, 0xC44A
		.word  0xC4DF, 0xC57E, 0xC625, 0xC6D5, 0xC78F, 0xC850, 0xC91B, 0xC9EE, 0xCAC9, 0xCBAD, 0xCC98, 0xCD8C, 0xCE87, 0xCF8A, 0xD094, 0xD1A6
		.word  0xD2BF, 0xD3DF, 0xD505, 0xD632, 0xD766, 0xD8A0, 0xD9E0, 0xDB26, 0xDC72, 0xDDC3, 0xDF19, 0xE074, 0xE1D5, 0xE33A, 0xE4A3, 0xE611
		.word  0xE782, 0xE8F7, 0xEA70, 0xEBED, 0xED6C, 0xEEEE, 0xF073, 0xF1FA, 0xF384, 0xF50F, 0xF69C, 0xF82A, 0xF9BA, 0xFB4B, 0xFCDC, 0xFE6E
Map_SphereTest:
		.include "General/Special Stage/Map - Eosian Spheres.S"
/*  --------------------------------------------------------------------------- */

Obj_0E:
		lea	(Player_1):w,%a1
		bsrs	sub_23CA2
		lea	(Player_2):w,%a1
		bsrs	sub_23CA2
		movew	0x10(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_23C90
		rts
/*  --------------------------------------------------------------------------- */

loc_23C90:
		movew	0x48(%a0),%d0
		beqs	loc_23C9C
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_23C9C:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_23CA2:
		btst	#1,0x2A(%a1)
		bnew	locret_23D28
		movew	0x10(%a1),%d0
		addiw	#0x10,%d0
		subw	0x10(%a0),%d0
		bcss	locret_23D28
		cmpiw	#0x20,%d0
		bges	locret_23D28
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		cmpiw	#-0x14,%d0
		blts	locret_23D28
		cmpiw	#0x20,%d0
		bgts	locret_23D28
		cmpiw	#0x400,0x18(%a1)
		blts	locret_23D28
		tstb	0x2E(%a1)
		bnes	locret_23D28
		movew	#-0x700,0x1A(%a1)
		addiw	#0x400,0x18(%a1)
		bset	#1,0x2A(%a1)
		moveb	#2,5(%a1)
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		btst	#0,0x2A(%a1)
		beqs	locret_23D28
		negb	0x27(%a1)
		negw	0x1C(%a1)

locret_23D28:
		rts
/*  End of function sub_23CA2 */

/*  --------------------------------------------------------------------------- */
byte_23D2A:	.byte 0x20
		.byte 8
		.byte 0
		.byte 0
		.byte 0x20
		.byte 8
		.byte 1
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_LBZMovingPlatform:
		movel	#Map_LBZMovingPlatform,0xC(%a0)
		movew	#0x43C3,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x180,8(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		bpls	loc_23D64
		andiw	#0x7F,%d0
		lslw	#4,%d0
		movew	%d0,0x38(%a0)
		moveq	#0x17,%d0
		moveb	%d0,0x2C(%a0)

loc_23D64:
		lsrw	#2,%d0
		andiw	#0x1C,%d0
		lea	byte_23D2A(%pc,%d0.w),%a2
		moveb	(%a2)+,7(%a0)
		moveb	(%a2)+,6(%a0)
		moveb	(%a2)+,0x22(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x10(%a0),0x32(%a0)
		movew	0x14(%a0),0x34(%a0)
		moveb	0x2A(%a0),0x2E(%a0)
		movew	#0x280,0x42(%a0)
		movew	0x10(%a0),0x44(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		subqw	#8,%d0
		bcss	loc_23DD4
		cmpiw	#4,%d0
		bccs	loc_23DC8
		lslw	#2,%d0
		lea	(Oscillating_table+0x2C):w,%a2
		lea	(%a2,%d0.w),%a2
		tstw	(%a2)
		bpls	loc_23DD4
		bchg	#0,0x2E(%a0)
		bras	loc_23DD4
/*  --------------------------------------------------------------------------- */

loc_23DC8:
		movew	#0x380,0x42(%a0)
		addiw	#0x100,0x44(%a0)

loc_23DD4:
		moveb	0x2C(%a0),%d0
		andib	#0xF,%d0
		addb	%d0,%d0
		moveb	%d0,0x2C(%a0)
		movel	#loc_23DE8,(%a0)

loc_23DE8:
		movew	0x10(%a0),-(%sp)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	LBZMovingPlatformIndex(%pc,%d0.w),%d1
		jsr	LBZMovingPlatformIndex(%pc,%d1.w)
		movew	(%sp)+,%d4
		tstb	4(%a0)
		bpls	loc_23E12
		moveq	#0,%d1
		moveb	7(%a0),%d1
		movew	#9,%d3
		jsr	(SolidObjectTop):l

loc_23E12:
		movew	0x44(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpw	0x42(%a0),%d0
		bhiw	loc_23E2C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_23E2C:
		tstb	0x3D(%a0)
		beqs	loc_23E3C
		moveaw	0x3E(%a0),%a1
		jsr	(Delete_Referenced_Sprite):l

loc_23E3C:
		movew	0x48(%a0),%d0
		beqs	loc_23E48
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_23E48:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
LBZMovingPlatformIndex:.word Platform_Stationary-LBZMovingPlatformIndex
		.word Platform_Horizontal64-LBZMovingPlatformIndex
		.word Platform_Horizontal128-LBZMovingPlatformIndex
		.word Platform_Vertical64-LBZMovingPlatformIndex
		.word Platform_Vertical128-LBZMovingPlatformIndex
		.word Platform_DiagonalUp-LBZMovingPlatformIndex
		.word Platform_DiagonalDown-LBZMovingPlatformIndex
		.word Platform_DiagonalLift-LBZMovingPlatformIndex
		.word Platform_Square32-LBZMovingPlatformIndex
		.word Platform_Square96-LBZMovingPlatformIndex
		.word Platform_Square160-LBZMovingPlatformIndex
		.word Platform_Square224-LBZMovingPlatformIndex
		.word Platform_Horizontal256-LBZMovingPlatformIndex
		.word Platform_FallingDelayed-LBZMovingPlatformIndex
		.word Platform_Falling-LBZMovingPlatformIndex
FloatingPlatformIndex:.word Platform_Stationary-FloatingPlatformIndex
		.word Platform_Horizontal64-FloatingPlatformIndex
		.word Platform_Horizontal128-FloatingPlatformIndex
		.word Platform_Vertical64-FloatingPlatformIndex
		.word Platform_Vertical128-FloatingPlatformIndex
		.word Platform_DiagonalUp-FloatingPlatformIndex
		.word Platform_DiagonalDown-FloatingPlatformIndex
		.word Platform_Rising-FloatingPlatformIndex
		.word Platform_Square32-FloatingPlatformIndex
		.word Platform_Square96-FloatingPlatformIndex
		.word Platform_Square160-FloatingPlatformIndex
		.word Platform_Square224-FloatingPlatformIndex
		.word Platform_Horizontal256-FloatingPlatformIndex
/*  --------------------------------------------------------------------------- */

Platform_Stationary:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_23E9C
		tstb	0x3A(%a0)
		beqs	loc_23EA8
		subqb	#4,0x3A(%a0)
		bras	loc_23EA8
/*  --------------------------------------------------------------------------- */

loc_23E9C:
		cmpib	#0x40,0x3A(%a0)
		beqs	loc_23EA8
		addqb	#4,0x3A(%a0)

loc_23EA8:
		moveb	0x3A(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#6,%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Platform_Horizontal64:
		movew	#0x40,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x0A):w,%d0
		bras	sub_23ED4
/*  --------------------------------------------------------------------------- */

Platform_Horizontal128:
		movew	#0x80,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0

/*  =============== S U B R O U T I N E ======================================= */


sub_23ED4:
		btst	#0,0x2A(%a0)
		beqs	loc_23EE0
		negw	%d0
		addw	%d1,%d0

loc_23EE0:
		movew	0x30(%a0),%d1
		addw	%d0,%d1
		movew	%d1,0x10(%a0)
		rts
/*  End of function sub_23ED4 */

/*  --------------------------------------------------------------------------- */

Platform_Vertical64:
		movew	#0x40,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x0A):w,%d0
		bras	loc_23F02
/*  --------------------------------------------------------------------------- */

Platform_Vertical128:
		movew	#0x80,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0

loc_23F02:
		btst	#0,0x2A(%a0)
		beqs	loc_23F0E
		negw	%d0
		addw	%d1,%d0

loc_23F0E:
		movew	0x34(%a0),%d1
		subw	%d0,%d1
		movew	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Platform_DiagonalUp:
		movew	#0x80,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0
		bsrs	sub_23ED4
		movew	#0x40,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0
		lsrb	#1,%d0
		bras	loc_23F02
/*  --------------------------------------------------------------------------- */

Platform_DiagonalDown:
		movew	#0x80,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0
		negw	%d0
		addw	%d1,%d0
		bsrs	sub_23ED4
		movew	#0x40,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0
		lsrb	#1,%d0
		bras	loc_23F02
/*  --------------------------------------------------------------------------- */

Platform_DiagonalLift:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_23F72
		movew	0x38(%a0),%d2
		movew	0x36(%a0),%d1
		beqs	locret_23FA0
		subqw	#4,%d1
		bccs	loc_23F6C
		moveq	#0,%d1

loc_23F6C:
		movew	%d1,0x36(%a0)
		bras	loc_23F86
/*  --------------------------------------------------------------------------- */

loc_23F72:
		movew	0x38(%a0),%d2
		movew	0x36(%a0),%d1
		addqw	#2,%d1
		cmpw	%d2,%d1
		bcss	loc_23F82
		movew	%d2,%d1

loc_23F82:
		movew	%d1,0x36(%a0)

loc_23F86:
		movew	0x32(%a0),%d0
		subw	%d1,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x30(%a0)
		lsrw	#1,%d1
		movew	0x34(%a0),%d0
		subw	%d1,%d0
		movew	%d0,0x14(%a0)

locret_23FA0:
		rts
/*  --------------------------------------------------------------------------- */

Platform_Horizontal256:
		movew	#0x7F,%d2
		tstb	0x3C(%a0)
		bnes	loc_23FC8
		movew	0x40(%a0),%d1
		addqw	#4,%d1
		movew	%d1,0x40(%a0)
		addw	%d1,0x36(%a0)
		cmpb	0x36(%a0),%d2
		bhis	loc_23FE2
		moveb	#1,0x3C(%a0)
		bras	loc_23FE2
/*  --------------------------------------------------------------------------- */

loc_23FC8:
		movew	0x40(%a0),%d1
		subqw	#4,%d1
		movew	%d1,0x40(%a0)
		addw	%d1,0x36(%a0)
		cmpb	0x36(%a0),%d2
		blss	loc_23FE2
		moveb	#0,0x3C(%a0)

loc_23FE2:
		moveq	#0,%d0
		moveb	0x36(%a0),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_23FF4
		negw	%d0
		addw	%d2,%d0

loc_23FF4:
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Platform_FallingDelayed:
		tstw	0x3A(%a0)
		bnes	loc_24016
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	locret_24014
		movew	#0x1E,0x3A(%a0)

locret_24014:
		rts
/*  --------------------------------------------------------------------------- */

loc_24016:
		subqw	#1,0x3A(%a0)
		bnes	locret_24014
		movew	#0x20,0x3A(%a0)
		addqb	#2,0x2C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Platform_Falling:
		tstw	0x3A(%a0)
		beqs	loc_24056
		subqw	#1,0x3A(%a0)
		bnes	loc_24056
		bclr	#3,0x2A(%a0)
		beqs	loc_24042
		lea	(Player_1):w,%a1
		bsrs	sub_2408A

loc_24042:
		bclr	#4,0x2A(%a0)
		beqs	loc_24050
		lea	(Player_2):w,%a1
		bsrs	sub_2408A

loc_24050:
		movel	#Obj_FallingPlatformIntangible,(%a0)

loc_24056:
		movel	0x14(%a0),%d3
		movew	0x1A(%a0),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d3
		movel	%d3,0x14(%a0)
		addiw	#0x38,0x1A(%a0)
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0x120,%d0
		cmpw	0x14(%a0),%d0
		bccs	locret_24088
		movew	#0x7F00,0x10(%a0)
		movew	#0x7F00,0x44(%a0)

locret_24088:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_2408A:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		moveb	#2,5(%a1)
		movew	0x1A(%a0),0x1A(%a1)
		rts
/*  End of function sub_2408A */

/*  --------------------------------------------------------------------------- */

Obj_FallingPlatformIntangible:
		movel	0x14(%a0),%d3
		movew	0x1A(%a0),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d3
		movel	%d3,0x14(%a0)
		addiw	#0x38,0x1A(%a0)
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0x120,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_240D6
		movew	#0x7F00,0x10(%a0)
		movew	#0x7F00,0x44(%a0)

loc_240D6:
		braw	loc_23E12
/*  --------------------------------------------------------------------------- */

Platform_Rising:
		tstb	0x3C(%a0)
		bnes	loc_240F8
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	locret_240F6
		moveb	#1,0x3C(%a0)
		moveb	#0xC,0x1E(%a0)

locret_240F6:
		rts
/*  --------------------------------------------------------------------------- */

loc_240F8:
		jsr	(MoveSprite2):l
		moveq	#8,%d1
		movew	0x34(%a0),%d0
		subiw	#0x80,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_24114
		negw	%d1
		addw	%d1,0x1A(%a0)

loc_24114:
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bpls	loc_2412C
		subw	%d1,0x14(%a0)
		clrb	0x3C(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2412C:
		btst	#3,0x2A(%a0)
		beqs	loc_2414C
		movel	%a0,-(%sp)
		lea	(Player_1):w,%a0
		jsr	(sub_10BA2):l
		tstw	%d1
		bpls	loc_2414A
		jsr	(Kill_Character):l

loc_2414A:
		moveal	(%sp)+,%a0

loc_2414C:
		btst	#4,0x2A(%a0)
		beqs	locret_2416C
		movel	%a0,-(%sp)
		lea	(Player_2):w,%a0
		jsr	(sub_10BA2):l
		tstw	%d1
		bpls	loc_2416A
		jsr	(Kill_Character):l

loc_2416A:
		moveal	(%sp)+,%a0

locret_2416C:
		rts
/*  --------------------------------------------------------------------------- */

Platform_Square32:
		movew	#0x10,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x2A):w,%d0
		lsrw	#1,%d0
		movew	(Oscillating_table+0x2C):w,%d3
		bras	loc_241AE
/*  --------------------------------------------------------------------------- */

Platform_Square96:
		movew	#0x30,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x2E):w,%d0
		movew	(Oscillating_table+0x30):w,%d3
		bras	loc_241AE
/*  --------------------------------------------------------------------------- */

Platform_Square160:
		movew	#0x50,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x32):w,%d0
		movew	(Oscillating_table+0x34):w,%d3
		bras	loc_241AE
/*  --------------------------------------------------------------------------- */

Platform_Square224:
		movew	#0x70,%d1
		moveq	#0,%d0
		moveb	(Oscillating_table+0x36):w,%d0
		movew	(Oscillating_table+0x38):w,%d3

loc_241AE:
		tstw	%d3
		bnes	loc_241BC
		addqb	#1,0x2E(%a0)
		andib	#3,0x2E(%a0)

loc_241BC:
		moveb	0x2E(%a0),%d2
		andib	#3,%d2
		bnes	loc_241DC
		subw	%d1,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		negw	%d1
		addw	0x34(%a0),%d1
		movew	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_241DC:
		subqb	#1,%d2
		bnes	loc_241FA
		subqw	#1,%d1
		subw	%d1,%d0
		negw	%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		addqw	#1,%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_241FA:
		subqb	#1,%d2
		bnes	loc_24218
		subqw	#1,%d1
		subw	%d1,%d0
		negw	%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		addqw	#1,%d1
		addw	0x34(%a0),%d1
		movew	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_24218:
		subw	%d1,%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		negw	%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */
Map_LBZMovingPlatform:
		.include "Levels/LBZ/Misc Object Data/Map - Moving Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_1D_1:
		jsr	(Create_New_Sprite3):l
		bnew	loc_242B4
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	0x2A(%a0),0x2A(%a1)
		movel	#Map_LBZPlatformUndersideUnused,0xC(%a1)
		movew	#0x42EA,0xA(%a1)
		moveb	#4,4(%a1)
		movew	#0x180,8(%a1)
		moveb	#0x20,7(%a1)
		moveb	#0x10,6(%a1)
		movew	%a0,0x3E(%a1)
		movel	#loc_242B8,(%a1)
		movew	%a1,0x3E(%a0)
		moveb	#1,0x3D(%a0)

loc_242B4:
		braw	Obj_LBZMovingPlatform
/*  --------------------------------------------------------------------------- */

loc_242B8:
		movew	0x10(%a0),%d4
		moveaw	0x3E(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		subw	0x10(%a1),%d4
		bsrs	sub_242D8
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_242D8:
		lea	0x33(%a0),%a2
		lea	(Player_2):w,%a1
		movew	(Ctrl_2):w,%d0
		bsrs	i
		lea	(Player_1):w,%a1
		subqw	#1,%a2
		movew	(Ctrl_1):w,%d0
/*  End of function sub_242D8 */


/*  =============== S U B R O U T I N E ======================================= */


i:
		tstb	(%a2)
		beqw	loc_2436C
		tstb	4(%a1)
		bpls	loc_2434C
		cmpib	#4,5(%a1)
		bccs	loc_2434C
		andib	#0x70,%d0
		beqw	loc_2435A
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x12,2(%a2)
		andiw	#0xF00,%d0
		beqw	loc_24326
		moveb	#0x3C,2(%a2)

loc_24326:
		btst	#0xA,%d0
		beqs	loc_24332
		movew	#-0x200,0x18(%a1)

loc_24332:
		btst	#0xB,%d0
		beqs	loc_2433E
		movew	#0x200,0x18(%a1)

loc_2433E:
		movew	#-0x380,0x1A(%a1)
		bset	#1,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_2434C:
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_2435A:
		subw	%d4,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x24,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_2436C:
		tstb	2(%a2)
		beqs	loc_2437A
		subqb	#1,2(%a2)
		bnew	locret_243DE

loc_2437A:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x1C,%d0
		cmpiw	#0x38,%d0
		bccw	locret_243DE
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		subiw	#0x18,%d1
		cmpiw	#0x18,%d1
		bccw	locret_243DE
		tstb	0x2E(%a1)
		bnes	locret_243DE
		cmpib	#4,5(%a1)
		bccs	locret_243DE
		tstw	(Debug_placement_mode):w
		bnes	locret_243DE
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x24,0x14(%a1)
		moveb	#0x14,0x20(%a1)
		moveb	#1,0x2E(%a1)
		moveb	#1,(%a2)

locret_243DE:
		rts
/*  End of function i */

/*  --------------------------------------------------------------------------- */
Map_LBZPlatformUndersideUnused:
		.include "Levels/LBZ/Misc Object Data/Map - Floating Platform Underside (Unused).S"
byte_243F0:	.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
		.byte 0x18
		.byte 0xC
		.byte 0
		.byte 0
		.byte 0x20
		.byte 0x14
		.byte 0
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_FloatingPlatform:
		cmpiw	#0,(Current_zone_and_act):w
		bnes	loc_24412
		movel	#Map_AIZFloatingPlatform,0xC(%a0)
		movew	#0x43F7,0xA(%a0)

loc_24412:
		cmpiw	#1,(Current_zone_and_act):w
		bnes	loc_24428
		movel	#Map_AIZFloatingPlatform,0xC(%a0)
		movew	#0x4440,0xA(%a0)

loc_24428:
		cmpib	#1,(Current_zone):w
		bnes	loc_2443E
		movel	#Map_HCZFloatingPlatform,0xC(%a0)
		movew	#0x441D,0xA(%a0)

loc_2443E:
		cmpib	#2,(Current_zone):w
		bnes	loc_24454
		movel	#Map_MGZFloatingPlatform,0xC(%a0)
		movew	#0x4001,0xA(%a0)

loc_24454:
		moveb	#4,4(%a0)
		movew	#0x180,8(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#2,%d0
		andiw	#0x1C,%d0
		lea	byte_243F0(%pc,%d0.w),%a2
		moveb	(%a2)+,7(%a0)
		moveb	(%a2)+,6(%a0)
		moveb	(%a2)+,0x22(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x10(%a0),0x32(%a0)
		movew	0x14(%a0),0x34(%a0)
		moveb	0x2A(%a0),0x2E(%a0)
		movew	#0x280,0x42(%a0)
		movew	0x10(%a0),0x44(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		subqw	#8,%d0
		bcss	loc_244D6
		cmpiw	#4,%d0
		bccs	loc_244CA
		lslw	#2,%d0
		lea	(Oscillating_table+0x2C):w,%a2
		lea	(%a2,%d0.w),%a2
		tstw	(%a2)
		bpls	loc_244D6
		bchg	#0,0x2E(%a0)
		bras	loc_244D6
/*  --------------------------------------------------------------------------- */

loc_244CA:
		movew	#0x380,0x42(%a0)
		addiw	#0x100,0x44(%a0)

loc_244D6:
		moveb	0x2C(%a0),%d0
		andib	#0xF,%d0
		addb	%d0,%d0
		moveb	%d0,0x2C(%a0)
		movel	#loc_244EA,(%a0)

loc_244EA:
		movew	0x10(%a0),-(%sp)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lea	(FloatingPlatformIndex):l,%a1
		movew	(%a1,%d0.w),%d1
		jsr	(%a1,%d1.w)
		movew	(%sp)+,%d4
		tstb	4(%a0)
		bpls	loc_2451E
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	6(%a0),%d3
		addqw	#1,%d3
		jsr	(SolidObjectTop):l

loc_2451E:
		movew	0x44(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpw	0x42(%a0),%d0
		bhiw	loc_24538
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_24538:
		movew	0x48(%a0),%d0
		beqs	loc_24544
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_24544:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_MGZFloatingPlatform:
		.include "Levels/MGZ/Misc Object Data/Map - Floating Platform.S"
Map_HCZFloatingPlatform:
		.include "Levels/HCZ/Misc Object Data/Map - Floating Platform.S"
Map_AIZFloatingPlatform:
		.include "Levels/AIZ/Misc Object Data/Map - Floating Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZSnakeBlocks:
		movel	#Map_HCZFloatingPlatform,0xC(%a0)
		movew	#0x28,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x180,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		moveb	#1,0x22(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x34(%a0)
		moveb	0x2A(%a0),0x2E(%a0)
		moveq	#1,%d0
		moveb	0x2C(%a0),%d1
		bpls	loc_245FC
		negw	%d0

loc_245FC:
		moveb	%d0,0x40(%a0)
		andib	#0x7F,%d1
		moveb	%d1,0x26(%a0)
		movew	#0x280,0x42(%a0)
		movew	0x10(%a0),0x44(%a0)
		movel	#loc_2461A,(%a0)

loc_2461A:
		bsrs	sub_24666
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		movew	0x44(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpw	0x42(%a0),%d0
		bhiw	loc_24654
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_24654:
		movew	0x48(%a0),%d0
		beqs	loc_24660
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_24660:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_24666:
		moveb	0x40(%a0),%d0
		bpls	loc_24690
		addb	%d0,0x26(%a0)
		bcss	loc_2467C
		subqb	#1,0x2E(%a0)
		andib	#3,0x2E(%a0)

loc_2467C:
		movew	#0x40,%d2
		moveb	0x26(%a0),%d0
		cmpib	#0x80,%d0
		bccs	loc_246B2
		moveb	#0x80,%d0
		bras	loc_246B2
/*  --------------------------------------------------------------------------- */

loc_24690:
		addb	%d0,0x26(%a0)
		bnes	loc_246A0
		addqb	#1,0x2E(%a0)
		andib	#3,0x2E(%a0)

loc_246A0:
		movew	#0x40,%d2
		moveb	0x26(%a0),%d0
		cmpib	#0x80,%d0
		bccs	loc_246B2
		moveb	#0x80,%d0

loc_246B2:
		jsr	(GetSineCosine):l
		asrw	#2,%d1
		moveb	0x2E(%a0),%d3
		andib	#3,%d3
		bnes	loc_246D8
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		negw	%d2
		addw	0x34(%a0),%d2
		movew	%d2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_246D8:
		subqb	#1,%d3
		bnes	loc_246EE
		addw	0x34(%a0),%d1
		movew	%d1,0x14(%a0)
		addw	0x30(%a0),%d2
		movew	%d2,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_246EE:
		subqb	#1,%d3
		bnes	loc_24706
		negw	%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		addw	0x34(%a0),%d2
		movew	%d2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_24706:
		negw	%d1
		addw	0x34(%a0),%d1
		movew	%d1,0x14(%a0)
		negw	%d2
		addw	0x30(%a0),%d2
		movew	%d2,0x10(%a0)
		rts
/*  End of function sub_24666 */

/*  --------------------------------------------------------------------------- */
byte_2471C:	.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte 0x38
		.byte 0x40
		.byte 0x68
/*  --------------------------------------------------------------------------- */

Obj_12_1:
		movel	#Map_LBZUnusedElevator,0xC(%a0)
		movew	#0x43C3,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x30,7(%a0)
		moveb	#8,6(%a0)
		movew	0x14(%a0),0x32(%a0)
		movew	#0x8000,0x16(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#4,%d0
		andiw	#0xF,%d0
		moveb	byte_2471C(%pc,%d0.w),%d0
		lslw	#3,%d0
		movew	%d0,0x38(%a0)
		subw	%d0,0x14(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_24782
		addw	%d0,%d0
		addw	%d0,0x14(%a0)
		moveb	#1,0x34(%a0)

loc_24782:
		movel	#loc_24788,(%a0)

loc_24788:
		movew	0x36(%a0),%d0
		movew	off_247BE(%pc,%d0.w),%d1
		jsr	off_247BE(%pc,%d1.w)
		tstb	4(%a0)
		bpls	loc_247B8
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l

loc_247B8:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
off_247BE:	.word loc_247C6-off_247BE
		.word loc_247E4-off_247BE
		.word loc_24810-off_247BE
		.word loc_2482E-off_247BE
/*  --------------------------------------------------------------------------- */

loc_247C6:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		beqs	locret_247E2
		movew	#0x8000,0x16(%a0)
		addqw	#2,0x36(%a0)

locret_247E2:
		rts
/*  --------------------------------------------------------------------------- */

loc_247E4:
		bsrw	sub_2485A
		tstw	0x1A(%a0)
		bnes	locret_2480E
		addqw	#2,0x36(%a0)
		movew	%d0,0x14(%a0)
		movew	0x38(%a0),%d0
		subw	%d0,0x14(%a0)
		btst	#0,0x2A(%a0)
		bnes	locret_2480E
		addw	%d0,%d0
		addw	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_2480E:
		rts
/*  --------------------------------------------------------------------------- */

loc_24810:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		bnes	locret_2482C
		movew	#0x8000,0x16(%a0)
		addqw	#2,0x36(%a0)

locret_2482C:
		rts
/*  --------------------------------------------------------------------------- */

loc_2482E:
		bsrw	sub_2485A
		tstw	0x1A(%a0)
		bnes	locret_24858
		clrw	0x36(%a0)
		movew	%d0,0x14(%a0)
		movew	0x38(%a0),%d0
		subw	%d0,0x14(%a0)
		btst	#0,0x2A(%a0)
		beqs	locret_24858
		addw	%d0,%d0
		addw	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_24858:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_2485A:
		movew	0x14(%a0),%d2
		moveq	#8,%d1
		tstb	0x34(%a0)
		bnes	loc_248A8
		addw	%d1,0x1A(%a0)
		movew	0x1A(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a0)
		movew	0x32(%a0),%d0
		cmpw	0x14(%a0),%d0
		bhis	locret_248E8
		beqs	loc_24898
		subw	%d0,%d2
		negw	%d2
		addw	%d0,%d2
		movew	%d2,0x14(%a0)
		negw	0x16(%a0)
		moveb	#1,0x34(%a0)
		bras	locret_248E8
/*  --------------------------------------------------------------------------- */

loc_24898:
		negw	0x16(%a0)
		addw	%d1,0x1A(%a0)
		moveb	#1,0x34(%a0)
		bras	locret_248E8
/*  --------------------------------------------------------------------------- */

loc_248A8:
		subw	%d1,0x1A(%a0)
		movew	0x1A(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a0)
		movew	0x32(%a0),%d0
		cmpw	0x14(%a0),%d0
		bcss	locret_248E8
		beqs	loc_248DA
		subw	%d0,%d2
		negw	%d2
		addw	%d0,%d2
		movew	%d2,0x14(%a0)
		negw	0x16(%a0)
		moveb	#0,0x34(%a0)
		bras	locret_248E8
/*  --------------------------------------------------------------------------- */

loc_248DA:
		negw	0x16(%a0)
		subw	%d1,0x1A(%a0)
		moveb	#0,0x34(%a0)

locret_248E8:
		rts
/*  End of function sub_2485A */

/*  --------------------------------------------------------------------------- */
Map_LBZUnusedElevator:
		.include "Levels/LBZ/Misc Object Data/Map - Unused Elevator.S"
/*  --------------------------------------------------------------------------- */

Obj_LBZExplodingTrigger:
		movel	#Map_LBZExplodingTrigger,0xC(%a0)
		movew	#0x4433,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x280,8(%a0)
		moveb	#-0x3A,0x28(%a0)
		movel	#loc_24944,(%a0)

loc_24944:
		moveb	0x29(%a0),%d0
		beqw	loc_2497A
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		moveq	#0,%d3
		lea	(Player_1):w,%a1
		bclr	#0,0x29(%a0)
		beqs	loc_2496C
		bsrs	sub_24980

loc_2496C:
		lea	(Player_2):w,%a1
		bclr	#1,0x29(%a0)
		beqs	loc_2497A
		bsrs	sub_24980

loc_2497A:
		jmp	(loc_19CC4):l

/*  =============== S U B R O U T I N E ======================================= */


sub_24980:
		cmpib	#2,0x20(%a1)
		bnes	locret_249A6
		negw	0x18(%a1)
		negw	0x1A(%a1)
		bchg	%d3,(%a3)
		movel	#Obj_Explosion,(%a0)
		moveb	#2,5(%a0)
		clrb	0x28(%a0)
		clrb	0x29(%a0)

locret_249A6:
		rts
/*  End of function sub_24980 */

/*  --------------------------------------------------------------------------- */
Map_LBZExplodingTrigger:
		.include "Levels/LBZ/Misc Object Data/Map - Exploding Trigger.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZDashTrigger:
		movel	#Map_MGZDashTrigger,0xC(%a0)
		movew	#0x235F,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x280,8(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#0,(%a2)+
		movel	#loc_249FA,(%a0)

loc_249FA:
		movew	#0x1B,%d1
		movew	#0x10,%d2
		movew	0x10(%a0),%d4
		lea	(byte_24B6C):l,%a2
		jsr	(sub_1BAC4):l
		swap	%d6
		andiw	#0x33,%d6
		beqs	loc_24A80
		moveb	%d6,%d0
		andib	#0x11,%d0
		beqs	loc_24A4E
		lea	(Player_1):w,%a1
		cmpib	#9,0x20(%a1)
		bnes	loc_24A4E
		movew	#0x3C,0x30(%a0)
		moveb	#1,0x32(%a0)
		moveb	0x2A(%a1),%d0
		addb	0x2A(%a0),%d0
		andib	#1,%d0
		bnes	loc_24A4E
		moveb	#-1,0x32(%a0)

loc_24A4E:
		andib	#0x22,%d6
		beqs	loc_24A80
		lea	(Player_2):w,%a1
		cmpib	#9,0x20(%a1)
		bnes	loc_24A80
		movew	#0x3C,0x30(%a0)
		moveb	#1,0x32(%a0)
		moveb	0x2A(%a1),%d0
		addb	0x2A(%a0),%d0
		andib	#1,%d0
		bnes	loc_24A80
		moveb	#-1,0x32(%a0)

loc_24A80:
		tstw	0x30(%a0)
		beqs	loc_24AFE
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		subqw	#1,0x30(%a0)
		bnes	loc_24AA8
		moveb	#0,(%a3)
		moveb	#0,0x22(%a0)
		bras	loc_24AFE
/*  --------------------------------------------------------------------------- */

loc_24AA8:
		moveb	#1,(%a3)
		moveb	0x2A(%a0),%d6
		andiw	#0x18,%d6
		beqs	loc_24AD0
		movew	%d6,%d0
		andiw	#8,%d0
		beqs	loc_24AC4
		lea	(Player_1):w,%a1
		bsrs	sub_24B04

loc_24AC4:
		andiw	#0x10,%d6
		beqs	loc_24AD0
		lea	(Player_2):w,%a1
		bsrs	sub_24B04

loc_24AD0:
		subqb	#1,0x24(%a0)
		bpls	loc_24AEA
		moveb	#1,0x24(%a0)
		moveb	0x32(%a0),%d0
		addb	%d0,0x1D(%a0)
		andib	#3,0x1D(%a0)

loc_24AEA:
		tstb	0x22(%a0)
		beqs	loc_24AF8
		moveb	#0,0x22(%a0)
		bras	loc_24AFE
/*  --------------------------------------------------------------------------- */

loc_24AF8:
		moveb	#4,0x22(%a0)

loc_24AFE:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_24B04:
		movew	0x10(%a0),%d1
		subiw	#0x10,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_24B18
		addiw	#0x20,%d1

loc_24B18:
		movew	0x14(%a0),%d2
		addiw	#0x10,%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		jsr	(GetSineCosine):l
		mulsw	#-0x700,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x700,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		clrb	0x40(%a1)
		clrb	0x3D(%a1)
		moveq	#sfx_SmallBumpers,%d0
		jsr	(Play_Sound_2):l
		rts
/*  End of function sub_24B04 */

/*  --------------------------------------------------------------------------- */
byte_24B6C:	.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0x10
		.byte 0xF
		.byte 0xF
		.byte 0xE
		.byte 0xE
		.byte 0xD
		.byte 0xC
		.byte 0xA
		.byte 8
		.byte 6
		.byte 4
		.byte 0
		.byte 0xFC
		.byte 0xF8
		.byte 0xF6
		.byte 0xF6
		.byte 0xF6
		.byte 0xF6
		.byte 0xF6
		.byte 0xF6
Map_MGZDashTrigger:
		.include "Levels/MGZ/Misc Object Data/Map - Dash Trigger.S"
byte_24BE4:	.byte  0x48,   0,   8, 0x40,   0,   0,  0xA,   8
		.byte    0, 0x48, 0x40,   8,   0,   8,  0xA, 0x10
		.byte  0xB8,   0,   8, 0x40,   0,   0,  0xA,   8
		.byte    0, 0x48, 0x40,   8,   0, 0x10,  0xA, 0x18
		.byte    0, 0x48, 0x40,   8,   6,   8,   4, 0x10
		.byte  0x48,   0,   8, 0x40,   6,   0,   4,   8
		.byte    0, 0x48, 0x40,   8,   6, 0x10,   4, 0x18
		.byte  0xB8,   0,   8, 0x40,   6,   0,   4,   8
/*  --------------------------------------------------------------------------- */

Obj_LBZTriggerBridge:
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF,%d1
		tstb	0x34(%a0)
		bnes	loc_24C40
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		beqs	loc_24C40
		addqw	#4,%d0

loc_24C40:
		lsrb	#1,%d0
		andiw	#0x38,%d0
		lea	byte_24BE4(%pc,%d0.w),%a1
		movel	#Map_LBZTriggerBridge,0xC(%a0)
		movew	#0x43C3,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	(%a1)+,%d0
		extw	%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		moveb	(%a1)+,%d0
		extw	%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveq	#0,%d0
		moveb	(%a1)+,%d0
		movew	%d0,0x36(%a0)
		moveb	(%a1)+,0x22(%a0)
		tstb	0x34(%a0)
		beqs	loc_24CB2
		moveb	(%a1)+,%d0
		movew	%d0,0x36(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	#0,0x34(%a0)

loc_24CB2:
		movel	#loc_24CB8,(%a0)

loc_24CB8:
		movew	0x36(%a0),%d0
		movew	off_24CF2(%pc,%d0.w),%d1
		jsr	off_24CF2(%pc,%d1.w)
		tstb	4(%a0)
		bpls	loc_24CE8
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull2):l

loc_24CE8:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */
off_24CF2:	.word loc_24CFE-off_24CF2
		.word loc_24D58-off_24CF2
		.word loc_24D6A-off_24CF2
		.word loc_24D8C-off_24CF2
		.word loc_24D58-off_24CF2
		.word loc_24D7A-off_24CF2
/*  --------------------------------------------------------------------------- */

loc_24CFE:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		beqs	locret_24D56
		addqb	#1,0x22(%a0)
		movew	#7,0x38(%a0)
		addqw	#2,0x36(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	locret_24D56
		movel	#Obj_LBZTriggerBridge,(%a1)
		movew	0x30(%a0),0x10(%a1)
		movew	0x32(%a0),0x14(%a1)
		moveb	0x2C(%a0),%d0
		addib	#0x40,%d0
		andib	#0x7F,%d0
		moveb	%d0,0x2C(%a1)
		movew	#8,0x38(%a1)
		moveb	#1,0x34(%a1)

locret_24D56:
		rts
/*  --------------------------------------------------------------------------- */

loc_24D58:
		addqb	#1,0x22(%a0)
		subqw	#1,0x38(%a0)
		bnes	locret_24D68
		movew	#0x7FFF,0x10(%a0)

locret_24D68:
		rts
/*  --------------------------------------------------------------------------- */

loc_24D6A:
		subqb	#1,0x22(%a0)
		subqw	#1,0x38(%a0)
		bnes	locret_24D78
		addqw	#2,0x36(%a0)

locret_24D78:
		rts
/*  --------------------------------------------------------------------------- */

loc_24D7A:
		subqb	#1,0x22(%a0)
		subqw	#1,0x38(%a0)
		bnes	locret_24D8A
		movew	#0,0x36(%a0)

locret_24D8A:
		rts
/*  --------------------------------------------------------------------------- */

loc_24D8C:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		bnes	locret_24DE4
		addqb	#1,0x22(%a0)
		movew	#7,0x38(%a0)
		addqw	#2,0x36(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	locret_24DE4
		movel	#Obj_LBZTriggerBridge,(%a1)
		movew	0x30(%a0),0x10(%a1)
		movew	0x32(%a0),0x14(%a1)
		moveb	0x2C(%a0),%d0
		addib	#0x40,%d0
		andib	#0x7F,%d0
		moveb	%d0,0x2C(%a1)
		movew	#8,0x38(%a1)
		moveb	#1,0x34(%a1)

locret_24DE4:
		rts
/*  --------------------------------------------------------------------------- */
Map_LBZTriggerBridge:
		.include "Levels/LBZ/Misc Object Data/Map - Trigger Bridge.S"
byte_250CE:	.byte 0x10
		.byte 0
		.byte 0xA
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_LBZPlayerLauncher:
		movel	#Map_LBZPlayerLauncher,0xC(%a0)
		movew	#0x43C3,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x20,7(%a0)
		movew	#0x80,8(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#2,%d0
		movew	byte_250CE(%pc,%d0.w),0x34(%a0)
		movel	#loc_25106,(%a0)

loc_25106:
		movew	0x10(%a0),%d0
		movew	%d0,%d1
		subiw	#0x10,%d0
		addiw	#0x10,%d1
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		subiw	#0x10,%d2
		addiw	#0x10,%d3
		lea	(Player_1):w,%a1
		btst	#1,0x2A(%a1)
		bnes	loc_2515A
		movew	0x10(%a1),%d4
		cmpw	%d0,%d4
		bcsw	loc_2515A
		cmpw	%d1,%d4
		bccw	loc_2515A
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bcsw	loc_2515A
		cmpw	%d3,%d4
		bccw	loc_2515A
		movew	%d0,-(%sp)
		lea	0x38(%a0),%a2
		bsrw	sub_25194
		movew	(%sp)+,%d0

loc_2515A:
		lea	(Player_2):w,%a1
		btst	#1,0x2A(%a1)
		bnes	loc_2518E
		movew	0x10(%a1),%d4
		cmpw	%d0,%d4
		bcsw	loc_2518E
		cmpw	%d1,%d4
		bccw	loc_2518E
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bcsw	loc_2518E
		cmpw	%d3,%d4
		bccw	loc_2518E
		lea	0x3A(%a0),%a2
		bsrw	sub_25194

loc_2518E:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_25194:
		tstw	(%a2)
		bnes	loc_251C2
		movel	%a1,-(%sp)
		jsr	(Create_New_Sprite3):l
		bnew	loc_251C0
		movel	#Obj_2523E,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	4(%a0),4(%a1)
		movew	%a2,0x3C(%a1)

loc_251C0:
		moveal	(%sp)+,%a1

loc_251C2:
		addqw	#1,(%a2)
		cmpiw	#4,(%a2)
		beqs	loc_251E6
		movew	0x18(%a1),%d0
		btst	#0,4(%a0)
		beqs	loc_251D8
		negw	%d0

loc_251D8:
		tstw	%d0
		bpls	locret_251E4
		asr	0x1C(%a1)
		asr	0x18(%a1)

locret_251E4:
		rts
/*  --------------------------------------------------------------------------- */

loc_251E6:
		movew	0x18(%a1),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_251F4
		negw	%d0

loc_251F4:
		cmpiw	#0x1000,%d0
		bges	loc_25236
		movew	0x34(%a0),0x18(%a1)
		bclr	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_25218
		bset	#0,0x2A(%a1)
		negw	0x18(%a1)

loc_25218:
		movew	#0xF,0x32(%a1)
		movew	0x18(%a1),0x1C(%a1)
		bclr	#5,0x2A(%a0)
		bclr	#6,0x2A(%a0)
		bclr	#5,0x2A(%a1)

loc_25236:
		moveq	#sfx_Spring,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_25194 */

/*  --------------------------------------------------------------------------- */

Obj_2523E:
		movel	#Map_LBZPlayerLauncher,0xC(%a0)
		movew	#0x43C3,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#8,7(%a0)
		movew	#0x80,8(%a0)
		movew	0x10(%a0),0x30(%a0)
		addiw	#0x10,0x14(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	#1,0x22(%a0)
		moveb	#-0x80,0x40(%a0)
		bset	#6,4(%a0)
		movew	#4,0x16(%a0)
		movel	#loc_2528E,(%a0)

loc_2528E:
		movew	0x36(%a0),%d0
		movew	off_252A4(%pc,%d0.w),%d1
		jsr	off_252A4(%pc,%d1.w)
		bsrw	sub_252DA
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
off_252A4:	.word loc_252A8-off_252A4
		.word loc_252C4-off_252A4
/*  --------------------------------------------------------------------------- */

loc_252A8:
		addib	#0x10,0x40(%a0)
		cmpib	#-0x30,0x40(%a0)
		bnes	locret_252C2
		moveaw	0x3C(%a0),%a2
		movew	#0,(%a2)
		addqw	#2,0x36(%a0)

locret_252C2:
		rts
/*  --------------------------------------------------------------------------- */

loc_252C4:
		subib	#4,0x40(%a0)
		cmpib	#-0x80,0x40(%a0)
		bnes	locret_252D8
		movew	#0x7F00,0x30(%a0)

locret_252D8:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_252DA:
		moveb	0x40(%a0),%d0
		btst	#0,4(%a0)
		beqs	loc_252EC
		negb	%d0
		addib	#-0x80,%d0

loc_252EC:
		jsr	(GetSineCosine):l
		movew	0x32(%a0),%d2
		movew	0x30(%a0),%d3
		moveq	#0,%d6
		movew	0x16(%a0),%d6
		subqw	#1,%d6
		bcss	locret_2534A
		swap	%d0
		swap	%d1
		asrl	#4,%d0
		asrl	#4,%d1
		moveq	#0,%d4
		moveq	#0,%d5
		addl	%d0,%d4
		addl	%d1,%d5
		lea	0x18(%a0),%a2

loc_25318:
		moveml	%d4-%d5,-(%sp)
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,(%a2)+
		movew	%d4,(%a2)+
		moveml	(%sp)+,%d4-%d5
		addl	%d0,%d4
		addl	%d1,%d5
		addqw	#1,%a2
		moveb	#1,(%a2)+
		dbf	%d6,loc_25318
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,0x10(%a0)
		movew	%d4,0x14(%a0)

locret_2534A:
		rts
/*  End of function sub_252DA */

/*  --------------------------------------------------------------------------- */
Map_LBZPlayerLauncher:
		.include "Levels/LBZ/Misc Object Data/Map - Player Launcher.S"

/*  =============== S U B R O U T I N E ======================================= */


sub_2536C:
		movel	#Map_LBZFlameThrower,0xC(%a1)
		movew	#0x43AC,0xA(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x10,6(%a1)
		orib	#4,4(%a1)
		movew	#0x200,8(%a1)
		rts
/*  End of function sub_2536C */

/*  --------------------------------------------------------------------------- */

Obj_LBZFlameThrower:
		moveal	%a0,%a1
		bsrs	sub_2536C
		movel	#loc_2539E,(%a0)

loc_2539E:
		moveb	(V_int_run_count+3):w,%d0
		addb	0x2C(%a0),%d0
		andib	#0x7F,%d0
		bnes	loc_253FE
		jsr	(Create_New_Sprite3):l
		bnew	loc_253FE
		movel	#loc_25422,(%a1)
		bsrs	sub_2536C
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	0x2A(%a0),0x2A(%a1)
		moveb	#-0x63,0x28(%a1)
		bset	#4,0x2B(%a1)
		addiw	#0x40,0x10(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_253F0
		subiw	#0x80,0x10(%a1)

loc_253F0:
		tstb	4(%a0)
		bpls	loc_253FE
		moveq	#sfx_FireAttack,%d0
		jsr	(Play_Sound_2):l

loc_253FE:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_25422:
		lea	(Ani_LBZFlameThrower):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		beqs	loc_2543A
		movew	#0x7FFF,0x10(%a0)

loc_2543A:
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */
Ani_LBZFlameThrower:
		.include "Levels/LBZ/Misc Object Data/Anim - Flame Thrower.S"
Map_LBZFlameThrower:
		.include "Levels/LBZ/Misc Object Data/Map - Flame Thrower.S"
LBZRideGrapple_Range:
		.word   0xA08,  0xC78
		.word  0x1208, 0x14F8
		.word  0x1A08, 0x1BB8
		.word  0x1C48, 0x2078
		.word  0x2688, 0x2878
		.word  0x2988, 0x2DF8
		.word  0x2F88, 0x3178
		.word   0xE68, 0x1098
		.word   0xCE8, 0x1498
		.word   0xE68, 0x1398
		.word  0x20E8, 0x2418
		.word  0x2B08, 0x2E98
		.word  0x39E8, 0x3C98
/*  --------------------------------------------------------------------------- */

Obj_LBZRideGrapple:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x20,6(%a0)
		movew	0x10(%a0),0x38(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0x7F,%d0
		lslw	#2,%d0
		movel	LBZRideGrapple_Range(%pc,%d0.w),0x34(%a0)
		movel	#Map_LBZRideGrapple,0xC(%a0)
		movew	#0x2433,0xA(%a0)
		jsr	(Create_New_Sprite3):l
		bnes	loc_2562A
		movel	#loc_25752,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	4(%a0),4(%a1)
		movew	8(%a0),8(%a1)
		bset	#6,4(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x20,6(%a1)
		moveq	#6,%d1
		movew	%d1,0x16(%a1)
		subqb	#1,%d1
		lea	0x18(%a1),%a2

loc_25610:
		movew	0x10(%a1),(%a2)+
		movew	0x14(%a1),(%a2)+
		movew	#1,(%a2)+
		dbf	%d1,loc_25610
		moveb	#2,0x22(%a1)
		movew	%a1,0x3C(%a0)

loc_2562A:
		movel	#loc_25630,(%a0)

loc_25630:
		bsrw	sub_258F2
		bsrw	sub_25758
		tstw	0x30(%a0)
		beqs	loc_2564C
		cmpiw	#0x28,0x3A(%a0)
		bnes	loc_2564C
		movel	#loc_256A0,(%a0)

loc_2564C:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_25666
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_25666:
		movew	0x38(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_25680
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_25680:
		movew	0x48(%a0),%d0
		beqs	loc_2568C
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2568C:
		movew	0x3C(%a0),%d0
		beqs	loc_2569A
		moveaw	%d0,%a1
		jsr	(Delete_Referenced_Sprite):l

loc_2569A:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_256A0:
		jsr	(MoveSprite2):l
		btst	#0,0x2A(%a0)
		beqs	loc_256C2
		subiw	#0x20,0x18(%a0)
		tstw	0x18(%a0)
		bmis	loc_256D4
		subiw	#0x60,0x18(%a0)
		bras	loc_256D4
/*  --------------------------------------------------------------------------- */

loc_256C2:
		addiw	#0x20,0x18(%a0)
		tstw	0x18(%a0)
		bpls	loc_256D4
		addiw	#0x60,0x18(%a0)

loc_256D4:
		movew	0x10(%a0),%d0
		movew	0x34(%a0),%d1
		cmpw	%d1,%d0
		bhis	loc_256F2
		movew	%d1,0x10(%a0)
		bsrs	sub_25718
		tstw	0x18(%a0)
		bpls	loc_256F2
		movew	#0,0x18(%a0)

loc_256F2:
		movew	0x36(%a0),%d1
		cmpw	%d1,%d0
		bcss	loc_2570C
		movew	%d1,0x10(%a0)
		bsrs	sub_25718
		tstw	0x18(%a0)
		bmis	loc_2570C
		movew	#0,0x18(%a0)

loc_2570C:
		bsrw	sub_258F2
		bsrw	sub_25758
		braw	loc_2564C

/*  =============== S U B R O U T I N E ======================================= */


sub_25718:
		tstb	0x2C(%a0)
		bmis	locret_25750
		lea	0x30(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_2572E
		lea	(Player_2):w,%a1
		addqw	#1,%a2
/*  End of function sub_25718 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2572E:
		tstb	(%a2)
		beqs	locret_25750
		movew	0x18(%a0),0x18(%a1)
		movew	#0,0x1A(%a1)
		bset	#1,0x2A(%a1)
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)

locret_25750:
		rts
/*  End of function sub_2572E */

/*  --------------------------------------------------------------------------- */

loc_25752:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_25758:
		moveaw	0x3C(%a0),%a3
		lea	0x31(%a0),%a2
		lea	(Player_2):w,%a1
		movew	(Ctrl_2):w,%d0
		bsrs	sub_25774
		lea	(Player_1):w,%a1
		subqw	#1,%a2
		movew	(Ctrl_1):w,%d0
/*  End of function sub_25758 */


/*  =============== S U B R O U T I N E ======================================= */


sub_25774:
		tstb	(%a2)
		beqw	loc_25868
		tstb	4(%a1)
		bpls	loc_257DC
		cmpib	#4,5(%a1)
		bccs	loc_257DC
		andib	#0x70,%d0
		beqw	loc_257EA
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x12,2(%a2)
		andiw	#0xF00,%d0
		beqw	loc_257AA
		moveb	#0x3C,2(%a2)

loc_257AA:
		movew	0x18(%a0),0x18(%a1)
		movew	#-0x380,0x1A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_257DC:
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_257EA:
		btst	#0xA,%d0
		beqs	loc_257F6
		bset	#0,0x2A(%a1)

loc_257F6:
		btst	#0xB,%d0
		beqs	loc_25802
		bclr	#0,0x2A(%a1)

loc_25802:
		moveb	0x2A(%a1),0x2A(%a0)
		moveb	0x2A(%a1),%d0
		andib	#1,%d0
		andib	#-2,4(%a1)
		orb	%d0,4(%a1)
		movew	0x10(%a3),0x10(%a1)
		movew	0x14(%a3),0x14(%a1)
		addiw	#0x24,0x14(%a1)

loc_2582C:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		btst	#0,0x2A(%a1)
		beqs	loc_2583C
		negb	%d0

loc_2583C:
		addqb	#8,%d0
		lsrw	#4,%d0
		moveb	byte_25858(%pc,%d0.w),0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  --------------------------------------------------------------------------- */
byte_25858:	.byte 0x91
		.byte 0x91
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x90
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x92
		.byte 0x91
		.byte 0x91
/*  --------------------------------------------------------------------------- */

loc_25868:
		tstb	2(%a2)
		beqs	loc_25876
		subqb	#1,2(%a2)
		bnew	locret_258F0

loc_25876:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccw	locret_258F0
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		subiw	#0x18,%d1
		cmpiw	#0x18,%d1
		bccw	locret_258F0
		tstb	0x2E(%a1)
		bnes	locret_258F0
		cmpib	#4,5(%a1)
		bccs	locret_258F0
		tstw	(Debug_placement_mode):w
		bnes	locret_258F0
		moveb	0x2A(%a1),0x2A(%a0)
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x24,0x14(%a1)
		moveb	#0x14,0x20(%a1)
		moveb	#0,0x3D(%a1)
		moveb	#3,0x2E(%a1)
		moveb	#1,(%a2)
		braw	loc_2582C
/*  --------------------------------------------------------------------------- */

locret_258F0:
		rts
/*  End of function sub_25774 */


/*  =============== S U B R O U T I N E ======================================= */


sub_258F2:
		tstw	0x30(%a0)
		beqs	loc_25906
		movew	0x3A(%a0),%d2
		cmpiw	#0x28,%d2
		beqs	loc_2592C
		addqw	#1,%d2
		bras	loc_25928
/*  --------------------------------------------------------------------------- */

loc_25906:
		movew	0x3A(%a0),%d2
		beqs	loc_25910
		subqw	#1,%d2
		bnes	loc_25928

loc_25910:
		clrw	0x26(%a0)
		clrb	0x40(%a0)
		clrw	0x3E(%a0)
		movew	#0,0x18(%a0)
		movel	#loc_25630,(%a0)

loc_25928:
		movew	%d2,0x3A(%a0)

loc_2592C:
		muluw	#0x33,%d2
		movew	0x18(%a0),%d0
		bnes	loc_25970
		tstb	0x40(%a0)
		bnes	loc_25956
		movew	0x3E(%a0),%d1
		addiw	#0x40,%d1
		movew	%d1,0x3E(%a0)
		addw	%d1,0x26(%a0)
		bmis	loc_2596E
		moveb	#1,0x40(%a0)
		bras	loc_2596E
/*  --------------------------------------------------------------------------- */

loc_25956:
		movew	0x3E(%a0),%d1
		subiw	#0x40,%d1
		movew	%d1,0x3E(%a0)
		addw	%d1,0x26(%a0)
		bpls	loc_2596E
		moveb	#0,0x40(%a0)

loc_2596E:
		bras	loc_259B0
/*  --------------------------------------------------------------------------- */

loc_25970:
		negw	%d0
		aslw	#2,%d0
		subw	0x26(%a0),%d0
		bges	loc_2598A
		cmpiw	#-0x3000,0x26(%a0)
		bles	loc_2598A
		subiw	#0x180,0x26(%a0)
		bras	loc_25998
/*  --------------------------------------------------------------------------- */

loc_2598A:
		cmpiw	#0x3000,0x26(%a0)
		bges	loc_25998
		addiw	#0x180,0x26(%a0)

loc_25998:
		moveb	#0,0x40(%a0)
		tstw	0x18(%a0)
		bpls	loc_259AA
		moveb	#1,0x40(%a0)

loc_259AA:
		movew	#0,0x3E(%a0)

loc_259B0:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	%d2,%d0
		mulsw	%d2,%d1
		movel	0x10(%a0),%d2
		movel	0x14(%a0),%d3
		moveaw	0x3C(%a0),%a1
		moveq	#5,%d4
		lea	0x18(%a1),%a2

loc_259D0:
		swap	%d2
		swap	%d3
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		addqw	#2,%a2
		swap	%d2
		swap	%d3
		addl	%d0,%d2
		addl	%d1,%d3
		dbf	%d4,loc_259D0
		movew	0x36(%a1),0x10(%a1)
		movew	0x38(%a1),0x14(%a1)
		rts
/*  End of function sub_258F2 */

/*  --------------------------------------------------------------------------- */
Map_LBZRideGrapple:
		.include "Levels/LBZ/Misc Object Data/Map - Ride Grapple.S"
/*  --------------------------------------------------------------------------- */

Obj_LBZCupElevator:
		movel	#Map_LBZCupElevator,0xC(%a0)
		movew	#0x440D,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x10,6(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_25AFE
		movel	#Obj_LBZCupElevatorAttach,(%a1)
		movel	#Map_LBZCupElevator,0xC(%a1)
		movew	#0x440D,0xA(%a1)
		moveb	#4,4(%a1)
		movew	#0x80,8(%a1)
		moveb	#0x20,7(%a1)
		moveb	#0x10,6(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x10(%a0),0x30(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	#1,0x22(%a1)
		addiw	#0x18,0x10(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_25AA6
		subiw	#0x30,0x10(%a1)

loc_25AA6:
		movew	%a0,0x40(%a1)
		movew	%a1,0x42(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_25AFE
		movel	#Obj_LBZCupElevatorBase,(%a1)
		movel	#Map_LBZCupElevator,0xC(%a1)
		movew	#0x440D,0xA(%a1)
		moveb	#4,4(%a1)
		movew	#0x100,8(%a1)
		moveb	#0x20,7(%a1)
		moveb	#0x10,6(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	#2,0x22(%a1)
		movew	%a0,0x40(%a1)
		movew	%a1,0x40(%a0)

loc_25AFE:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lslw	#5,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		movew	%d0,0x38(%a0)
		movew	#0,0x26(%a0)
		addiw	#0x40,0x10(%a0)
		btst	#0,0x2A(%a0)
		bnes	loc_25B34
		subiw	#0x80,0x10(%a0)
		movew	#0x8080,0x26(%a0)

loc_25B34:
		moveb	0x2C(%a0),%d1
		andiw	#0x70,%d1
		beqs	loc_25B5A
		movew	%d0,0x3A(%a0)
		addw	%d0,0x32(%a0)
		movew	#6,0x36(%a0)
		btst	#0,0x2C(%a0)
		beqs	loc_25B5A
		addib	#-0x80,0x27(%a0)

loc_25B5A:
		movel	#Obj_LBZCupElevatorMain,(%a0)

Obj_LBZCupElevatorMain:
		bsrw	LBZCupElevator_Action
		movew	0x10(%a0),%d4
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#2,%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		lea	0x3C(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d0
		moveml	%d1-%d4,-(%sp)
		bsrw	LBZCupElevator_PlayerControl
		moveml	(%sp)+,%d1-%d4
		lea	0x3D(%a0),%a2
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		movew	(Ctrl_2_logical):w,%d0
		bsrw	LBZCupElevator_PlayerControl
		braw	loc_25F26

/*  =============== S U B R O U T I N E ======================================= */


LBZCupElevator_Action:
		movew	0x36(%a0),%d0
		movew	off_25BCC(%pc,%d0.w),%d1
		jmp	off_25BCC(%pc,%d1.w)
/*  End of function LBZCupElevator_Action */

/*  --------------------------------------------------------------------------- */
off_25BCC:	.word LBZCupElev_WaitEnter-off_25BCC
		.word LBZCupElev_MoveUp-off_25BCC
		.word LBZCupElev_WaitExit1-off_25BCC
		.word LBZCupElev_WaitEnter-off_25BCC
		.word LBZCupElev_MoveDown-off_25BCC
		.word LBZCupElev_WaitExit2-off_25BCC
		.word LBZCupElev_Spin1-off_25BCC
		.word LBZCupElev_Fling1-off_25BCC
		.word LBZCupElev_Fling2-off_25BCC
		.word LBZCupElev_Spin2-off_25BCC
		.word LBZCupElev_Fling3-off_25BCC
/*  --------------------------------------------------------------------------- */

LBZCupElev_WaitEnter:
		tstw	0x3C(%a0)
		beqs	locret_25BF2
		movew	#1,0x34(%a0)
		addqw	#2,0x36(%a0)

locret_25BF2:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_MoveUp:
		movew	0x3A(%a0),%d0
		cmpw	0x38(%a0),%d0
		bnes	loc_25C26
		tstb	0x2C(%a0)
		bpls	loc_25C14
		movew	#0xC,0x36(%a0)
		movew	#0x600,0x2E(%a0)
		braw	LBZCupElev_Spin1
/*  --------------------------------------------------------------------------- */

loc_25C14:
		movew	#0x80,8(%a0)
		movew	#0,0x34(%a0)
		addqw	#2,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_25C26:
		addqw	#4,0x3A(%a0)
		movew	0x3A(%a0),%d0
		movew	%d0,%d1
		muluw	#0x155,%d0
		lsrw	#8,%d0
		addb	0x27(%a0),%d0
		moveb	%d0,0x26(%a0)
		movew	0x32(%a0),%d0
		subw	%d1,%d0
		movew	%d0,0x14(%a0)
		cmpiw	#0x200,8(%a0)
		bnes	loc_25C66
		tstb	0x26(%a0)
		bpls	locret_25C64
		movew	#0x80,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25C64:
		rts
/*  --------------------------------------------------------------------------- */

loc_25C66:
		tstb	0x26(%a0)
		bmis	locret_25C7A
		movew	#0x200,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25C7A:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_WaitExit1:
		tstw	0x3C(%a0)
		bnes	locret_25C86
		addqw	#2,0x36(%a0)

locret_25C86:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_MoveDown:
		tstw	0x3A(%a0)
		bnes	loc_25CB6
		tstb	0x2C(%a0)
		bpls	loc_25CA4
		movew	#0x12,0x36(%a0)
		movew	#0x600,0x2E(%a0)
		braw	LBZCupElev_Spin1
/*  --------------------------------------------------------------------------- */

loc_25CA4:
		movew	#0x80,8(%a0)
		movew	#0,0x34(%a0)
		addqw	#2,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_25CB6:
		subqw	#4,0x3A(%a0)
		movew	0x3A(%a0),%d0
		movew	%d0,%d1
		muluw	#0x155,%d0
		lsrw	#8,%d0
		addb	0x27(%a0),%d0
		moveb	%d0,0x26(%a0)
		movew	0x32(%a0),%d0
		subw	%d1,%d0
		movew	%d0,0x14(%a0)
		cmpiw	#0x200,8(%a0)
		bnes	loc_25CF6
		tstb	0x26(%a0)
		bpls	locret_25CF4
		movew	#0x80,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25CF4:
		rts
/*  --------------------------------------------------------------------------- */

loc_25CF6:
		tstb	0x26(%a0)
		bmis	locret_25D0A
		movew	#0x200,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25D0A:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_WaitExit2:
		tstw	0x3C(%a0)
		bnes	locret_25D18
		movew	#0,0x36(%a0)

locret_25D18:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_Spin1:
		cmpiw	#0x1000,0x2E(%a0)
		bnes	loc_25D72
		btst	#0,0x2A(%a0)
		bnes	loc_25D4E
		moveb	0x26(%a0),%d0
		addib	#0x40,%d0
		cmpib	#0xF0,%d0
		bcss	loc_25D78
		moveb	#0xC0,0x26(%a0)
		moveaw	0x42(%a0),%a1
		movew	#0x7FFF,0x30(%a1)
		addqw	#2,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_25D4E:
		moveb	0x26(%a0),%d0
		addib	#0xC0,%d0
		cmpib	#0xF0,%d0
		bcss	loc_25D78
		moveb	#0x40,0x26(%a0)
		moveaw	0x42(%a0),%a1
		movew	#0x7FFF,0x30(%a1)
		addqw	#4,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_25D72:
		addiw	#0x10,0x2E(%a0)

loc_25D78:
		moveb	0x2E(%a0),%d0
		addb	%d0,0x26(%a0)
		cmpiw	#0x200,8(%a0)
		bnes	loc_25D9E
		tstb	0x26(%a0)
		bpls	locret_25D9C
		movew	#0x80,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25D9C:
		rts
/*  --------------------------------------------------------------------------- */

loc_25D9E:
		tstb	0x26(%a0)
		bmis	locret_25DB2
		movew	#0x200,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25DB2:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_Spin2:
		cmpiw	#0x1000,0x2E(%a0)
		bnes	loc_25DE0
		moveb	0x26(%a0),%d0
		addib	#0xB0,%d0
		cmpib	#0xF0,%d0
		bcss	loc_25DE6
		moveb	#0x40,0x26(%a0)
		moveaw	0x42(%a0),%a1
		movew	#0x7FFF,0x30(%a1)
		addqw	#2,0x36(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_25DE0:
		addiw	#0x10,0x2E(%a0)

loc_25DE6:
		moveb	0x2E(%a0),%d0
		subb	%d0,0x26(%a0)
		cmpiw	#0x200,8(%a0)
		bnes	loc_25E0C
		tstb	0x26(%a0)
		bpls	locret_25E0A
		movew	#0x80,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25E0A:
		rts
/*  --------------------------------------------------------------------------- */

loc_25E0C:
		tstb	0x26(%a0)
		bmis	locret_25E20
		movew	#0x200,8(%a0)
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

locret_25E20:
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_Fling1:
		cmpiw	#0x16C0,0x30(%a0)
		bcss	loc_25E3E
		movew	#0x16C0,0x30(%a0)
		movew	#-0x200,0x18(%a0)
		movew	#0,0x1A(%a0)
		bras	loc_25E8E
/*  --------------------------------------------------------------------------- */

loc_25E3E:
		addiw	#0x10,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_Fling2:
		cmpiw	#0x2AE0,0x30(%a0)
		bhis	loc_25E62
		movew	#0x2AE0,0x30(%a0)
		movew	#0x200,0x18(%a0)
		movew	#0,0x1A(%a0)
		bras	loc_25E8E
/*  --------------------------------------------------------------------------- */

loc_25E62:
		subiw	#0x10,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

LBZCupElev_Fling3:
		cmpiw	#0x2B20,0x30(%a0)
		bcss	loc_25E86
		movew	#0x2B20,0x30(%a0)
		movew	#-0x200,0x18(%a0)
		movew	#0,0x1A(%a0)
		bras	loc_25E8E
/*  --------------------------------------------------------------------------- */

loc_25E86:
		addiw	#0x10,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_25E8E:
		movel	#Obj_LBZElevatorCupFlicker,(%a0)
		moveq	#sfx_Death,%d0
		jsr	(Play_Sound_2):l
		lea	0x3C(%a0),%a2
		lea	(Player_1):w,%a1
		movew	#-0x300,%d0
		bsrs	sub_25EB6
		lea	0x3D(%a0),%a2
		lea	(Player_2):w,%a1
		movew	#-0x400,%d0

/*  =============== S U B R O U T I N E ======================================= */


sub_25EB6:
		moveb	#0x12,2(%a2)
		tstb	(%a2)
		beqs	locret_25F00
		moveb	#4,5(%a1)
		bclr	#3,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		movew	%d0,0x1A(%a1)
		movew	#-0x200,0x18(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_25EF4
		negw	0x18(%a1)
		bset	#0,0x2A(%a1)

loc_25EF4:
		movew	#0,0x1C(%a1)
		moveb	#0x1A,0x20(%a1)

locret_25F00:
		rts
/*  End of function sub_25EB6 */

/*  --------------------------------------------------------------------------- */

Obj_LBZElevatorCupFlicker:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmis	loc_25F14
		movew	#0x7FFF,0x10(%a0)

loc_25F14:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		beqs	locret_25F24
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

locret_25F24:
		rts
/*  --------------------------------------------------------------------------- */

loc_25F26:
		movew	0x30(%a0),%d0
		andiw	#0xFF80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_25F40
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_25F40:
		movew	0x48(%a0),%d0
		beqs	loc_25F4C
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_25F4C:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrs	LBZCupElevator_ReleasePlayer
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrs	LBZCupElevator_ReleasePlayer
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


LBZCupElevator_ReleasePlayer:
		bclr	%d6,0x2A(%a0)
		beqw	locret_25F86
		movew	#0x100,8(%a1)
		clrb	0x2E(%a1)
		bclr	#3,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)

locret_25F86:
		rts
/*  End of function LBZCupElevator_ReleasePlayer */


/*  =============== S U B R O U T I N E ======================================= */


LBZCupElevator_PlayerControl:
		tstb	(%a2)
		bnes	loc_25FF4
		tstb	2(%a2)
		beqs	loc_25F98
		subqb	#1,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_25F98:
		moveb	0x26(%a0),%d0
		subib	#0x20,%d0
		cmpib	#0x40,%d0
		bcsw	locret_260DA
		jsr	(SolidObjectFull2_1P):l
		btst	%d6,0x2A(%a0)
		beqw	locret_260DA
		tstw	0x34(%a0)
		bnes	loc_25FD4
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#8,%d0
		bmiw	locret_260DA
		cmpiw	#0x10,%d0
		bccw	locret_260DA

loc_25FD4:
		moveb	#1,(%a2)
		moveb	#3,0x2E(%a1)
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		moveb	#0,0x20(%a1)
		braw	loc_260A2
/*  --------------------------------------------------------------------------- */

loc_25FF4:
		tstb	4(%a1)
		bplw	loc_26082
		cmpib	#4,5(%a1)
		bccs	loc_26082
		andib	#0x70,%d0
		beqw	loc_260A2
		tstb	(_unkFAA9):w
		bnew	loc_260A2
		movew	#0x100,8(%a1)
		clrb	0x2E(%a1)
		bclr	%d6,0x2A(%a0)
		bclr	#3,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		moveb	#0,(%a2)
		moveb	#0x12,2(%a2)
		btst	#0xA,%d0
		beqs	loc_2606E
		movew	#-0x200,0x18(%a1)

loc_2606E:
		btst	#0xB,%d0
		beqs	loc_2607A
		movew	#0x200,0x18(%a1)

loc_2607A:
		movew	#-0x480,0x1A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_26082:
		bclr	%d6,0x2A(%a0)
		bclr	#3,0x2A(%a1)
		movew	#0x100,8(%a1)
		clrb	0x2E(%a1)
		moveb	#0,(%a2)
		moveb	#0x3C,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_260A2:
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),%d0
		subiw	#0x10,%d0
		movew	%d0,0x14(%a1)
		movew	#0x280,8(%a1)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		cmpib	#0xC0,%d0
		bcss	loc_260CE
		movew	#0x100,8(%a1)

loc_260CE:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		jmp	(loc_3176A):l
/*  --------------------------------------------------------------------------- */

locret_260DA:
		rts
/*  End of function LBZCupElevator_PlayerControl */

/*  --------------------------------------------------------------------------- */

Obj_LBZCupElevatorBase:
		moveaw	0x40(%a0),%a1
		movew	0x14(%a1),0x14(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_LBZCupElevatorAttach:
		moveaw	0x40(%a0),%a1
		movew	0x14(%a1),0x14(%a0)
		moveb	0x26(%a1),0x26(%a0)
		movew	#0x180,8(%a0)
		moveb	0x26(%a0),%d0
		bpls	loc_2610E
		movew	#0x100,8(%a0)

loc_2610E:
		andib	#-2,4(%a0)
		subib	#0x40,%d0
		bpls	loc_26120
		orib	#1,4(%a0)

loc_26120:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		movew	%d1,%d2
		addw	%d1,%d1
		addw	%d2,%d1
		asrw	#5,%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

Obj_LBZCupElevatorPole:
		movel	#Map_LBZCupElevator,0xC(%a0)
		movew	#0x440D,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x180,8(%a0)
		moveb	#8,7(%a0)
		moveb	#0x30,6(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	#3,0x22(%a0)
		tstb	0x2C(%a0)
		beqs	loc_2618E
		moveb	#0x60,6(%a0)
		moveb	#4,0x22(%a0)

loc_2618E:
		movel	#loc_26194,(%a0)

loc_26194:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_LBZCupElevator:
		.include "Levels/LBZ/Misc Object Data/Map - Cup Elevator.S"
/*  --------------------------------------------------------------------------- */

Obj_1A_1:
		movel	#Map_LBZUnusedUnknown,0xC(%a0)
		movew	#0x43C3,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x40,6(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x80,0x42(%a0)
		moveb	#1,0x22(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2628C
		movel	#loc_262DC,(%a1)
		movel	#Map_LBZUnusedUnknown,0xC(%a1)
		movew	#0x43C3,0xA(%a1)
		orib	#4,4(%a1)
		moveb	#0x40,7(%a1)
		moveb	#0x40,6(%a1)
		movew	#0x200,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	#0x80,0x42(%a1)
		bset	#6,4(%a1)
		movew	#6,0x16(%a1)
		movew	%a0,0x3C(%a1)

loc_2628C:
		moveb	#0x10,0x42(%a0)
		movel	#loc_26298,(%a0)

loc_26298:
		btst	#4,(Ctrl_2):w
		beqs	loc_262A6
		moveb	#0,0x42(%a0)

loc_262A6:
		btst	#5,(Ctrl_2):w
		beqs	loc_262B4
		addib	#1,0x42(%a0)

loc_262B4:
		btst	#6,(Ctrl_2):w
		beqs	loc_262C2
		subib	#1,0x42(%a0)

loc_262C2:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#8,%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		bsrw	sub_2636C
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_262DC:
		moveaw	0x3C(%a0),%a1
		moveb	0x42(%a1),0x42(%a0)
		bsrw	sub_262F0
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_262F0:
		moveb	0x42(%a0),%d0
		jsr	(GetSineCosine):l
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		swap	%d0
		swap	%d1
		asrl	#5,%d0
		asrl	#5,%d1
		movel	%d0,%d4
		movel	%d1,%d5
		addl	%d0,%d0
		addl	%d1,%d1
		moveml	%d0-%d5,-(%sp)
		addl	%d0,%d4
		addl	%d1,%d5
		lea	0x18(%a0),%a2
		moveq	#2,%d6

loc_26320:
		moveml	%d4-%d5,-(%sp)
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,(%a2)+
		movew	%d4,(%a2)+
		moveml	(%sp)+,%d4-%d5
		addl	%d0,%d4
		addl	%d1,%d5
		addqw	#2,%a2
		dbf	%d6,loc_26320
		moveml	(%sp)+,%d0-%d5
		negl	%d4
		negl	%d5
		subl	%d0,%d4
		subl	%d1,%d5
		moveq	#2,%d6

loc_2634C:
		moveml	%d4-%d5,-(%sp)
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,(%a2)+
		movew	%d4,(%a2)+
		moveml	(%sp)+,%d4-%d5
		subl	%d0,%d4
		subl	%d1,%d5
		addqw	#2,%a2
		dbf	%d6,loc_2634C
		rts
/*  End of function sub_262F0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2636C:
		/*  Bug: probably meant to be 0x30(%a0) */
		lea	0x30,%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d3,-(%sp)
		bsrs	sub_2638A
		moveml	(%sp)+,%d1-%d3
		/*  Bug: probably meant to be 0x34(%a0) */
		lea	0x34,%a2
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function sub_2636C */


/*  =============== S U B R O U T I N E ======================================= */


sub_2638A:
		btst	%d6,0x2A(%a0)
		beqw	loc_26448
		movew	0x1C(%a1),%d0
		moveb	0x42(%a0),%d4
		addib	#0x40,%d4
		bpls	loc_263A2
		negw	%d0

loc_263A2:
		addw	%d0,(%a2)
		btst	#1,0x2A(%a1)
		bnes	loc_263D0
		moveb	0x42(%a0),%d0
		jsr	(GetSineCosine):l
		tstw	%d1
		bmis	loc_263BC
		negw	%d1

loc_263BC:
		asrw	#2,%d1
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		cmpw	%d1,%d0
		blts	loc_263D0
		negw	%d1
		cmpw	%d1,%d0
		blts	loc_263E4

loc_263D0:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_263E4:
		bsrw	sub_263EC
		moveq	#0,%d4
		rts
/*  End of function sub_2638A */


/*  =============== S U B R O U T I N E ======================================= */


sub_263EC:
		movew	%d3,%d5
		moveb	0x42(%a0),%d0
		jsr	(GetSineCosine):l
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		movew	(%a2),%d4
		mulsw	%d4,%d0
		mulsw	%d4,%d1
		swap	%d0
		swap	%d1
		addw	%d0,%d2
		addw	%d1,%d3
		moveb	0x42(%a0),%d0
		moveb	%d0,%d1
		addib	#0x40,%d1
		bpls	loc_2641E
		addib	#0x80,%d0

loc_2641E:
		moveb	%d0,0x26(%a1)
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addw	%d1,%d5
		lslw	#8,%d5
		jsr	(GetSineCosine):l
		mulsw	%d5,%d0
		mulsw	%d5,%d1
		swap	%d0
		swap	%d1
		addw	%d0,%d3
		subw	%d1,%d2
		movew	%d2,0x14(%a1)
		movew	%d3,0x10(%a1)
		rts
/*  End of function sub_263EC */

/*  --------------------------------------------------------------------------- */

loc_26448:
		tstw	0x1A(%a1)
		bmiw	locret_264DE
		moveb	0x42(%a0),%d0
		jsr	(GetSineCosine):l
		movew	%d0,%d4
		movew	%d1,%d2
		tstw	%d1
		bmis	loc_26464
		negw	%d1

loc_26464:
		asrw	#2,%d1
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		cmpw	%d1,%d0
		blts	locret_264DE
		negw	%d1
		cmpw	%d1,%d0
		bges	locret_264DE
		swap	%d0
		divsw	%d2,%d0
		movew	%d0,(%a2)
		negw	%d4
		mulsw	%d4,%d0
		swap	%d0
		movew	%d3,%d5
		addw	%d0,%d3
		movew	0x14(%a0),%d0
		subw	%d3,%d0
		movew	0x14(%a1),%d2
		moveb	0x1E(%a1),%d1
		extw	%d1
		addw	%d2,%d1
		addqw	#4,%d1
		subw	%d1,%d0
		bhis	locret_264DE
		cmpiw	#-0x10,%d0
		bcss	locret_264DE
		tstb	0x2E(%a1)
		bmis	locret_264DE
		cmpib	#6,5(%a1)
		bccs	locret_264DE
		moveb	0x42(%a0),%d0
		moveb	%d0,%d1
		addib	#0x40,%d1
		bpls	loc_264C4
		addib	#0x80,%d0

loc_264C4:
		jsr	(GetSineCosine):l
		mulsw	#0x1B00,%d0
		swap	%d0
		subw	%d0,(%a2)
		movew	%d5,%d3
		bsrw	sub_263EC
		jmp	(RideObject_SetRide):l
/*  --------------------------------------------------------------------------- */

locret_264DE:
		rts
/*  --------------------------------------------------------------------------- */
Map_LBZUnusedUnknown:
		.include "Levels/LBZ/Misc Object Data/Map - Unused Unknown.S"
/*  --------------------------------------------------------------------------- */

Obj_LBZPipePlug:
		moveb	#0x10,0x1E(%a0)
		movel	#Map_LBZPipePlug,0xC(%a0)
		movew	#0x42E6,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_267D4,0x3C(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#7,0x22(%a0)
		movel	#loc_2653A,(%a0)

loc_2653A:
		movew	(Player_1+x_vel):w,0x30(%a0)
		movew	(Player_2+x_vel):w,0x32(%a0)
		movew	#0x1B,%d1
		movew	#0x20,%d2
		movew	#0x21,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveb	0x2A(%a0),%d0
		andib	#0x60,%d0
		bnes	loc_2656C

loc_26566:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2656C:
		lea	(Player_1):w,%a1
		movew	0x30(%a0),%d1
		btst	#5,0x2A(%a0)
		beqs	loc_265B8
		cmpib	#2,0x20(%a1)
		bnes	loc_265B8
		movew	%d1,%d0
		bpls	loc_2658A
		negw	%d0

loc_2658A:
		cmpiw	#0x480,%d0
		bcss	loc_265B8
		bclr	#6,0x2A(%a0)
		beqs	loc_265EC
		lea	(Player_2):w,%a2
		bclr	#5,0x2A(%a2)
		cmpib	#2,0x20(%a2)
		bnes	loc_265EC
		movew	0x32(%a0),0x18(%a2)
		movew	0x18(%a2),0x1C(%a2)
		bras	loc_265EC
/*  --------------------------------------------------------------------------- */

loc_265B8:
		lea	(Player_2):w,%a1
		movew	0x32(%a0),%d1
		btst	#6,0x2A(%a0)
		beqs	loc_26566
		cmpib	#2,0x20(%a1)
		bnes	loc_26566
		movew	%d1,%d0
		bpls	loc_265D6
		negw	%d0

loc_265D6:
		cmpiw	#0x480,%d0
		bcsw	loc_26566
		bclr	#6,0x2A(%a0)
		beqs	loc_265EC
		bclr	#5,(Player_2+status):w

loc_265EC:
		bclr	#5,0x2A(%a0)
		beqs	loc_265FA
		bclr	#5,(Player_1+status):w

loc_265FA:
		movew	%d1,0x18(%a1)
		addqw	#4,0x10(%a1)
		lea	(word_267D4):l,%a4
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		bcss	loc_2661E
		subiw	#8,0x10(%a1)
		lea	(word_26814):l,%a4

loc_2661E:
		movew	0x18(%a1),0x1C(%a1)
		moveb	0x2C(%a0),%d1
		beqs	loc_26686
		cmpib	#0x1F,%d1
		beqs	loc_2665A
		jsr	(Create_New_Sprite3):l
		bnew	loc_26686
		movel	#Obj_AutomaticTunnelDelayed,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addqw	#2,0x14(%a1)
		moveb	#7,0x24(%a1)
		moveb	%d1,0x2C(%a1)

loc_2665A:
		jsr	(Create_New_Sprite3):l
		bnew	loc_26686
		movel	#Obj_TunnelExhaustControl,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x20,0x14(%a1)
		movew	#1,0x1A(%a1)
		moveb	%d1,0x2C(%a1)

loc_26686:
		movel	#loc_2668E,(%a0)
		bsrs	sub_266EE

loc_2668E:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_266A8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_266A8:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_266AE:
		moveq	#0,%d0
		moveb	0x23(%a0),0x22(%a0)
		addqb	#1,0x23(%a0)
		cmpib	#6,0x23(%a0)
		bcss	loc_266C8
		moveb	#0,0x23(%a0)

loc_266C8:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_266A8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
byte_266E2:	.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 5
		.byte 0
		.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 5
		.byte 0

/*  =============== S U B R O U T I N E ======================================= */


sub_266EE:
		lea	(byte_266E2):l,%a5
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		moveal	0xC(%a0),%a3
		lea	0x1A(%a3),%a2
		addaw	(%a3,%d0.w),%a2
		movel	#loc_266AE,%d4
		moveb	4(%a0),%d5
		moveq	#0xB,%d1

loc_26714:
		jsr	(Create_New_Sprite3):l
		bnew	loc_267CC
		movel	%d4,(%a1)
		movel	%a3,0xC(%a1)
		moveb	%d5,4(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	8(%a0),8(%a1)
		moveb	7(%a0),7(%a1)
		movew	(%a4)+,0x18(%a1)
		movew	(%a4)+,0x1A(%a1)
		moveb	(%a5)+,0x22(%a1)
		moveb	0x22(%a1),0x23(%a1)
		moveb	(%a2),%d0
		addqw	#4,%a2
		extw	%d0
		addw	0x14(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	(%a2)+,%d0
		addw	0x10(%a0),%d0
		movew	%d0,0x10(%a1)
		dbf	%d1,loc_26714
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addw	%d0,%d0
		moveal	0xC(%a0),%a3
		addaw	(%a3,%d0.w),%a3
		movew	(%a3)+,%d1
		subqw	#1,%d1
		moveq	#3,%d1
		bset	#5,4(%a0)
		movel	(%a0),%d4
		moveb	4(%a0),%d5
		moveal	%a0,%a1
		bras	loc_26798
/*  --------------------------------------------------------------------------- */

loc_2678E:
		jsr	(Create_New_Sprite3):l
		bnes	loc_267CC
		addqw	#6,%a3

loc_26798:
		movel	%d4,(%a1)
		movel	%a3,0xC(%a1)
		moveb	%d5,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	8(%a0),8(%a1)
		moveb	7(%a0),7(%a1)
		movew	(%a4)+,0x18(%a1)
		movew	(%a4)+,0x1A(%a1)
		dbf	%d1,loc_2678E

loc_267CC:
		moveq	#sfx_Collapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_266EE */

/*  --------------------------------------------------------------------------- */
word_267D4:	.word  0xFC80, 0xFDC0
		.word  0xFD00, 0xFDB0
		.word  0xFD80, 0xFDA0
		.word  0xFE00, 0xFDA0
		.word  0xFE80, 0xFDB0
		.word  0xFF00, 0xFDC0
		.word  0xFC80, 0xFF40
		.word  0xFD00, 0xFF30
		.word  0xFD80, 0xFF20
		.word  0xFE00, 0xFF20
		.word  0xFE80, 0xFF30
		.word  0xFF00, 0xFF40
		.word  0xFC00, 0xFD40
		.word  0xFF00, 0xFD40
		.word  0xFC00, 0xFF80
		.word  0xFF00, 0xFF80
word_26814:	.word   0x100, 0xFDC0
		.word   0x180, 0xFDB0
		.word   0x200, 0xFDA0
		.word   0x280, 0xFDA0
		.word   0x300, 0xFDB0
		.word   0x380, 0xFDC0
		.word   0x100, 0xFF40
		.word   0x180, 0xFF30
		.word   0x200, 0xFF20
		.word   0x280, 0xFF20
		.word   0x300, 0xFF30
		.word   0x380, 0xFF40
		.word   0x100, 0xFD40
		.word   0x400, 0xFD40
		.word   0x100, 0xFF80
		.word   0x400, 0xFF80
Map_LBZPipePlug:.include "Levels/LBZ/Misc Object Data/Map - PipePlug.S"
/*  --------------------------------------------------------------------------- */

Obj_1C_1:
		movel	#Map_LBZUnusedUnknown_2,0xC(%a0)
		movew	#0x42EA,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		movew	0x14(%a0),0x30(%a0)
		movel	#loc_26930,(%a0)

loc_26930:
		tstb	0x2E(%a0)
		beqs	loc_26966
		movew	0x1A(%a0),%d0
		addiw	#8,0x1A(%a0)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a0)
		movew	0x30(%a0),%d0
		addqw	#2,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_26966
		movew	0x30(%a0),0x14(%a0)
		clrw	0x16(%a0)
		clrw	0x1A(%a0)
		clrb	0x2E(%a0)

loc_26966:
		movew	#0x1B,%d1
		movew	#0x10,%d2
		movew	#0x11,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		jsr	(SolidObjectFull2_1P):l
		cmpiw	#-2,%d4
		bnes	loc_2698E
		bsrs	sub_269E0

loc_2698E:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		jsr	(SolidObjectFull2_1P):l
		cmpiw	#-2,%d4
		bnes	loc_269A6
		bsrs	sub_269E0

loc_269A6:
		moveb	0x2A(%a0),%d6
		andib	#0x18,%d6
		beqs	loc_269CE
		moveb	%d6,%d0
		andib	#8,%d0
		beqs	loc_269C0
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_269C0:
		andib	#0x10,%d6
		beqs	loc_269CE
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_269CE:
		lea	(Ani_LBZUnusedUnknown_2):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_269E0:
		movew	#-0x40,0x1A(%a0)
		moveb	#1,0x2E(%a0)
		rts
/*  End of function sub_269E0 */

/*  --------------------------------------------------------------------------- */
Ani_LBZUnusedUnknown_2:
		.include "Levels/LBZ/Misc Object Data/Anim - Unused Unknown 2.S"
Map_LBZUnusedUnknown_2:
		.include "Levels/LBZ/Misc Object Data/Map - Unused Unknown 2.S"

/*  =============== S U B R O U T I N E ======================================= */


Animate_Tiles:
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#5,%d0
		andiw	#0xFC,%d0
		movew	Offs_AniPLC(%pc,%d0.w),%d1
		lea	Offs_AniFunc(%pc,%d1.w),%a2
		movew	Offs_AniFunc(%pc,%d0.w),%d0
		jmp	Offs_AniFunc(%pc,%d0.w)
/*  End of function Animate_Tiles */

/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */
Offs_AniFunc:	.word AnimateTiles_AIZ1-Offs_AniFunc
Offs_AniPLC:	.word AniPLC_AIZ1-Offs_AniFunc
		.word AnimateTiles_AIZ2-Offs_AniFunc
		.word AniPLC_AIZ2-Offs_AniFunc
		.word AnimateTiles_HCZ1-Offs_AniFunc
		.word AniPLC_HCZ1-Offs_AniFunc
		.word AnimateTiles_HCZ2-Offs_AniFunc
		.word AniPLC_HCZ2-Offs_AniFunc
		.word AnimateTiles_MGZ-Offs_AniFunc
		.word AniPLC_MGZ-Offs_AniFunc
		.word AnimateTiles_MGZ-Offs_AniFunc
		.word AniPLC_MGZ-Offs_AniFunc
		.word AnimateTiles_CNZ-Offs_AniFunc
		.word AniPLC_CNZ-Offs_AniFunc
		.word AnimateTiles_CNZ-Offs_AniFunc
		.word AniPLC_CNZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ICZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ICZ-Offs_AniFunc
		.word AnimateTiles_ICZ-Offs_AniFunc
		.word AniPLC_ICZ-Offs_AniFunc
		.word AnimateTiles_ICZ-Offs_AniFunc
		.word AniPLC_ICZ-Offs_AniFunc
		.word AnimateTiles_LBZ1-Offs_AniFunc
		.word AniPLC_LBZ1-Offs_AniFunc
		.word AnimateTiles_LBZ2-Offs_AniFunc
		.word AniPLC_LBZ2-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_LRZ1-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_LRZ1-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_LRZ1-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_LRZ1-Offs_AniFunc
		.word AnimateTiles_LRZ1-Offs_AniFunc
		.word AniPLC_LRZ1-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_DoAniPLC-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_DoAniPLC-Offs_AniFunc
		.word AniPLC_ALZ-Offs_AniFunc
		.word AnimateTiles_DoAniPLC-Offs_AniFunc
		.word AniPLC_BPZ-Offs_AniFunc
		.word AnimateTiles_DoAniPLC-Offs_AniFunc
		.word AniPLC_BPZ-Offs_AniFunc
		.word AnimateTiles_DPZ-Offs_AniFunc
		.word AniPLC_DPZ-Offs_AniFunc
		.word AnimateTiles_DPZ-Offs_AniFunc
		.word AniPLC_DPZ-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_Gumball-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_Gumball-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
		.word AnimateTiles_NULL-Offs_AniFunc
		.word AnimateTiles_NULL3-Offs_AniFunc
/*  --------------------------------------------------------------------------- */

AnimateTiles_NULL:
		rts
/*  --------------------------------------------------------------------------- */

AnimateTiles_AIZ1:
		tstb	(Boss_flag):w
		bnes	locret_26B82
		tstb	(Dynamic_resize_routine):w
		bnew	AnimateTiles_DoAniPLC

locret_26B82:
		rts
/*  --------------------------------------------------------------------------- */

AnimateTiles_AIZ2:
		tstb	(Boss_flag):w
		bnes	locret_26BB8
		cmpiw	#0x1C0,(Camera_X_pos):w
		bccw	AnimateTiles_DoAniPLC
		lea	(Anim_Counters):w,%a3
		addqw	#2,%a2
		moveq	#0,%d6
		bsrw	AnimateTiles_DoAniPLC_Part2
		clrl	(%a3)
		clrl	(%a3)
		movel	#ArtUnc_AniAIZ2_FirstTree,%d1
		movew	#0x1940,%d2
		movew	#0x230,%d3
		jmp	(Add_To_DMA_Queue):l
/*  --------------------------------------------------------------------------- */

locret_26BB8:
		rts
/*  --------------------------------------------------------------------------- */

AnimateTiles_HCZ1:
		tstb	(Events_bg+0x16):w
		beqs	loc_26BC2
		rts
/*  --------------------------------------------------------------------------- */

loc_26BC2:
		lea	(Anim_Counters+4):w,%a3

loc_26BC6:
		moveq	#0,%d1
		movew	(Events_bg+0x10):w,%d1
		cmpw	(%a3),%d1
		beqw	loc_26CB4
		movew	%d1,(%a3)
		tstw	%d1
		beqw	loc_26CB8
		bplw	loc_26C4C
		addiw	#0x60,%d1
		bccw	loc_26CB4
		movew	%d1,%d0
		addw	%d1,%d1
		addw	%d0,%d1
		lslw	#5,%d1
		lea	(Chunk_table+0x7C00):l,%a4
		lea	(HCZ_WaterlineScroll_Data):l,%a5
		addaw	%d1,%a5
		movew	#0x5F,%d1

loc_26C00:
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(ArtUnc_AniHCZ1_WaterlineBelow):l,%a0
		addaw	%d0,%a0
		movel	(%a0),(%a4)
		lea	0x600(%a0),%a0
		lea	0x180(%a4),%a4
		movel	(%a0),(%a4)
		lea	-0x17C(%a4),%a4
		dbf	%d1,loc_26C00
		movel	#Chunk_table+0x7C00,%d1
		movew	#0x5B80,%d2
		movew	#0x180,%d3
		jsr	(Add_To_DMA_Queue):l
		tstw	2(%a3)
		bmis	loc_26C48
		movew	#-1,2(%a3)
		bsrw	AniHCZ_FixLowerBG

loc_26C48:
		braw	loc_26CB4
/*  --------------------------------------------------------------------------- */

loc_26C4C:
		negw	%d1
		addiw	#0x60,%d1
		bccs	loc_26CB4
		movew	%d1,%d0
		addw	%d1,%d1
		addw	%d0,%d1
		lslw	#5,%d1
		lea	(Chunk_table+0x7C00):l,%a4
		lea	(HCZ_WaterlineScroll_Data):l,%a5
		addaw	%d1,%a5
		movew	#0x5F,%d1

loc_26C6E:
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(ArtUnc_AniHCZ1_WaterlineAbove):l,%a0
		addaw	%d0,%a0
		movel	(%a0),(%a4)
		lea	0x600(%a0),%a0
		lea	0x180(%a4),%a4
		movel	(%a0),(%a4)
		lea	-0x17C(%a4),%a4
		dbf	%d1,loc_26C6E
		movel	#Chunk_table+0x7C00,%d1
		movew	#0x5E80,%d2
		movew	#0x180,%d3
		jsr	(Add_To_DMA_Queue):l
		tstw	2(%a3)
		beqs	loc_26CB4
		movew	#0,2(%a3)
		bsrs	AniHCZ_FixUpperBG

loc_26CB4:
		braw	AnimateTiles_DoAniPLC
/*  --------------------------------------------------------------------------- */

loc_26CB8:
		movew	#1,(%a3)
		bsrs	AniHCZ_FixLowerBG

/*  =============== S U B R O U T I N E ======================================= */


AniHCZ_FixUpperBG:
		movel	#ArtUnc_FixHCZ1_UpperBG1,%d1
		movew	#0x5B80,%d2
		movew	#0xC0,%d3
		jsr	(Add_To_DMA_Queue):l
		movel	#ArtUnc_FixHCZ1_UpperBG2,%d1
		movew	#0x5D00,%d2
		movew	#0xC0,%d3
		jmp	(Add_To_DMA_Queue):l
/*  End of function AniHCZ_FixUpperBG */


/*  =============== S U B R O U T I N E ======================================= */


AniHCZ_FixLowerBG:
		movel	#ArtUnc_FixHCZ1_LowerBG1,%d1
		movew	#0x5E80,%d2
		movew	#0xC0,%d3
		jsr	(Add_To_DMA_Queue):l
		movel	#ArtUnc_FixHCZ1_LowerBG2,%d1
		movew	#0x6000,%d2
		movew	#0xC0,%d3
		jmp	(Add_To_DMA_Queue):l
/*  End of function AniHCZ_FixLowerBG */


/*  =============== S U B R O U T I N E ======================================= */


sub_26D0E:
		lea	(AniPLC_HCZ1):l,%a2
		lea	(Anim_Counters+4):w,%a3
		movew	(Events_bg+0x10):w,%d1
		beqs	loc_26CB8
		bpls	loc_26D56
		addiw	#0x60,%d1
		bccs	loc_26D2C
		bsrs	AniHCZ_FixLowerBG
		braw	loc_26BC6
/*  --------------------------------------------------------------------------- */

loc_26D2C:
		bsrs	AniHCZ_FixLowerBG
		movel	#ArtUnc_AniHCZ1_WaterlineBelow,%d1
		movew	#0x5B80,%d2
		movew	#0xC0,%d3
		jsr	(Add_To_DMA_Queue):l
		movel	#ArtUnc_AniHCZ1_WaterlineBelow2,%d1
		movew	#0x5D00,%d2
		movew	#0xC0,%d3
		jmp	(Add_To_DMA_Queue):l
/*  --------------------------------------------------------------------------- */

loc_26D56:
		negw	%d1
		addiw	#0x60,%d1
		bccs	loc_26D66
		bsrw	AniHCZ_FixUpperBG
		braw	loc_26BC6
/*  --------------------------------------------------------------------------- */

loc_26D66:
		bsrw	AniHCZ_FixUpperBG
		movel	#ArtUnc_AniHCZ1_WaterlineAbove,%d1
		movew	#0x5E80,%d2
		movew	#0xC0,%d3
		jsr	(Add_To_DMA_Queue):l
		movel	#ArtUnc_AniHCZ1_WaterlineAbove2,%d1
		movew	#0x6000,%d2
		movew	#0xC0,%d3
		jmp	(Add_To_DMA_Queue):l
/*  End of function sub_26D0E */

/*  --------------------------------------------------------------------------- */

AnimateTiles_HCZ2:
		lea	(Anim_Counters):w,%a3
		moveq	#0,%d1
		movew	(Events_bg+0x12):w,%d1
		andiw	#0x1F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_26DEE
		moveb	%d1,1(%a3)
		movew	%d1,%d2
		andiw	#7,%d1
		lslw	#7,%d1
		movel	%d1,%d5
		andiw	#0x18,%d2
		movew	%d2,%d0
		lslw	#2,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_26DF2(%pc,%d0.w),%a4
		lea	(ArtUnc_AniHCZ2_SmallBGLine):l,%a0
		movew	#0x5A40,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_26DEE
		jsr	(Add_To_DMA_Queue):l

loc_26DEE:
		addqw	#2,%a3
		bras	loc_26E02
/*  --------------------------------------------------------------------------- */
word_26DF2:	.word 0x40
		.word 0
		.word 0x30
		.word 0x10
		.word 0x20
		.word 0x20
		.word 0x10
		.word 0x30
/*  --------------------------------------------------------------------------- */

loc_26E02:
		moveq	#0,%d1
		movew	(Events_bg+0x12):w,%d1
		andiw	#0x1F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_26E5A
		moveb	%d1,1(%a3)
		movew	%d1,%d2
		andiw	#7,%d1
		lslw	#8,%d1
		movel	%d1,%d5
		andiw	#0x18,%d2
		movew	%d2,%d0
		lslw	#3,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_26E5E(%pc,%d0.w),%a4
		lea	(ArtUnc_AniHCZ2_2):l,%a0
		movew	#0x5AC0,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_26E5A
		jsr	(Add_To_DMA_Queue):l

loc_26E5A:
		addqw	#2,%a3
		bras	loc_26E6E
/*  --------------------------------------------------------------------------- */
word_26E5E:	.word 0x80
		.word 0
		.word 0x60
		.word 0x20
		.word 0x40
		.word 0x40
		.word 0x20
		.word 0x60
/*  --------------------------------------------------------------------------- */

loc_26E6E:
		moveq	#0,%d1
		movew	(Events_bg+0x14):w,%d1
		andiw	#0x1F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_26EC6
		moveb	%d1,1(%a3)
		movew	%d1,%d2
		andiw	#7,%d1
		rorw	#7,%d1
		movel	%d1,%d5
		andiw	#0x18,%d2
		movew	%d2,%d0
		lslw	#4,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_26ECA(%pc,%d0.w),%a4
		lea	(ArtUnc_AniHCZ2_3):l,%a0
		movew	#0x5BC0,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_26EC6
		jsr	(Add_To_DMA_Queue):l

loc_26EC6:
		addqw	#2,%a3
		bras	loc_26EDA
/*  --------------------------------------------------------------------------- */
word_26ECA:	.word 0x100
		.word 0
		.word 0xC0
		.word 0x40
		.word 0x80
		.word 0x80
		.word 0x40
		.word 0xC0
/*  --------------------------------------------------------------------------- */

loc_26EDA:
		moveq	#0,%d1
		movew	(Events_bg+0x14):w,%d1
		andiw	#0x3F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_26F40
		moveb	%d1,1(%a3)
		negw	%d1
		movew	%d1,%d2
		andiw	#7,%d1
		rorw	#7,%d1
		movew	%d1,%d0
		addw	%d0,%d0
		addw	%d0,%d1
		movel	%d1,%d5
		notw	%d2
		andiw	#0x38,%d2
		movew	%d2,%d0
		lslw	#3,%d2
		addw	%d2,%d1
		addw	%d2,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_26F46(%pc,%d0.w),%a4
		lea	(ArtUnc_AniHCZ2_4):l,%a0
		movew	#0x5DC0,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_26F40
		jsr	(Add_To_DMA_Queue):l

loc_26F40:
		addqw	#2,%a3
		braw	loc_275F0
/*  --------------------------------------------------------------------------- */
word_26F46:	.word 0x300
		.word 0
		.word 0x2A0
		.word 0x60
		.word 0x240
		.word 0xC0
		.word 0x1E0
		.word 0x120
		.word 0x180
		.word 0x180
		.word 0x120
		.word 0x1E0
		.word 0xC0
		.word 0x240
		.word 0x60
		.word 0x2A0
/*  --------------------------------------------------------------------------- */

AnimateTiles_MGZ:
		tstb	(Boss_flag):w
		beqw	AnimateTiles_DoAniPLC
		rts
/*  --------------------------------------------------------------------------- */

AnimateTiles_CNZ:
		lea	(Anim_Counters):w,%a3
		moveq	#0,%d1
		movew	(Events_bg+0x10):w,%d1
		subw	(Camera_X_pos_BG_copy):w,%d1
		andiw	#0x3F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_26FD0
		moveb	%d1,1(%a3)
		movew	%d1,%d2
		andiw	#7,%d1
		rorw	#6,%d1
		movel	%d1,%d5
		andiw	#0x38,%d2
		movew	%d2,%d0
		lslw	#4,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_26FD6(%pc,%d0.w),%a4
		lea	(ArtUnc_AniCNZ__6):l,%a0
		movew	#0x6100,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_26FD0
		jsr	(Add_To_DMA_Queue):l

loc_26FD0:
		addqw	#2,%a3
		braw	loc_275F0
/*  --------------------------------------------------------------------------- */
word_26FD6:	.word 0x200
		.word 0
		.word 0x1C0
		.word 0x40
		.word 0x180
		.word 0x80
		.word 0x140
		.word 0xC0
		.word 0x100
		.word 0x100
		.word 0xC0
		.word 0x140
		.word 0x80
		.word 0x180
		.word 0x40
		.word 0x1C0
word_26FF6:	.word 0x100
		.word 0
		.word 0xC0
		.word 0x40
		.word 0x80
		.word 0x80
		.word 0x40
		.word 0xC0
/*  --------------------------------------------------------------------------- */

AnimateTiles_ICZ:
		lea	(Anim_Counters):w,%a3
		moveq	#0,%d0
		movew	(Events_bg+0x10):w,%d0
		subw	(Camera_X_pos_BG_copy):w,%d0
		andiw	#0x1F,%d0
		cmpb	1(%a3),%d0
		beqs	loc_2706C
		moveb	%d0,1(%a3)
		movel	%d0,%d1
		movew	%d0,%d2
		andiw	#7,%d1
		rorw	#7,%d1
		movel	%d1,%d5
		andiw	#0x18,%d2
		movew	%d2,%d0
		lslw	#4,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_26FF6(%pc,%d0.w),%a4
		lea	(ArtUnc_AniICZ__1):l,%a0
		movew	#0x21C0,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_2706C
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l

loc_2706C:
		addqw	#2,%a3
		tstb	(Current_act):w
		bnew	loc_27132
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d1
		subw	(Events_bg+0x12):w,%d1
		negw	%d1
		andiw	#0x3F,%d1
		cmpb	1(%a3),%d1
		beqw	loc_27132
		moveb	%d1,1(%a3)
		addw	%d1,%d1
		addw	%d1,%d1
		addil	#ArtUnc_AniICZ__2,%d1
		movew	#0x2440,%d2
		movew	#0x80,%d3
		jsr	(Add_To_DMA_Queue):l
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d1
		movew	(Events_bg+0x12):w,%d0
		asrw	#1,%d0
		subw	%d0,%d1
		asrw	#1,%d0
		subw	%d0,%d1
		negw	%d1
		andiw	#0x1F,%d1
		addw	%d1,%d1
		addw	%d1,%d1
		addil	#ArtUnc_AniICZ__3,%d1
		movew	#0x2540,%d2
		movew	#0x40,%d3
		jsr	(Add_To_DMA_Queue):l
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d1
		movew	(Events_bg+0x12):w,%d0
		asrw	#1,%d0
		subw	%d0,%d1
		negw	%d1
		andiw	#0xF,%d1
		addw	%d1,%d1
		addw	%d1,%d1
		addil	#ArtUnc_AniICZ__4,%d1
		movew	#0x25C0,%d2
		movew	#0x20,%d3
		jsr	(Add_To_DMA_Queue):l
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d1
		movew	(Events_bg+0x12):w,%d0
		asrw	#2,%d0
		subw	%d0,%d1
		negw	%d1
		andiw	#7,%d1
		addw	%d1,%d1
		addw	%d1,%d1
		addil	#ArtUnc_AniICZ__5,%d1
		movew	#0x2600,%d2
		movew	#0x10,%d3
		jsr	(Add_To_DMA_Queue):l

loc_27132:
		addqw	#2,%a3
		braw	loc_275F0
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

AnimateTiles_LBZ1:
		lea	(Anim_Counters):w,%a3
		subqb	#1,(%a3)
		bccs	loc_2716E
		moveb	#3,(%a3)
		moveq	#0,%d0
		moveb	1(%a3),%d0
		addqb	#1,1(%a3)
		andib	#0xF,1(%a3)
		rorw	#7,%d0
		movel	#ArtUnc_AniLBZ__0,%d1
		addl	%d0,%d1
		movew	#0x2C00,%d2
		movew	#0x100,%d3
		jsr	(Add_To_DMA_Queue):l

loc_2716E:
		addqw	#2,%a3
		moveq	#0,%d0
		movew	(Events_bg+0x10):w,%d0
		subw	(Camera_X_pos_BG_copy):w,%d0
		andiw	#0x1F,%d0
		cmpb	1(%a3),%d0
		beqs	loc_271F6
		moveb	%d0,1(%a3)
		moveq	#0,%d1
		movew	%d0,%d2
		andiw	#7,%d0
		movel	%d0,%d6
		lslw	#7,%d0
		movew	%d0,%d1
		lslw	#2,%d0
		addw	%d0,%d1
		movel	%d1,%d5
		andiw	#0x18,%d2
		movew	%d2,%d0
		lslw	#2,%d2
		addw	%d2,%d1
		lslw	#2,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_2721A(%pc,%d0.w),%a4
		lea	(ArtUnc_AniLBZ1_1):l,%a0
		movew	#0x6A00,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_271DE
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l

loc_271DE:
		movel	%d6,%d1
		lslw	#5,%d1
		lea	(ArtUnc_AniLBZ1_2):l,%a0
		addl	%a0,%d1
		movew	%d4,%d2
		movew	#0x10,%d3
		jsr	(Add_To_DMA_Queue):l

loc_271F6:
		addqw	#2,%a3
		tstw	(%a3)+
		bnes	loc_27208
		cmpib	#1,1(%a3)
		beqs	loc_2720C
		movew	#0,(%a3)

loc_27208:
		bsrw	loc_275F0

loc_2720C:
		lea	(Anim_Counters+0xC):w,%a3
		lea	(AniPLC_LBZSpec):l,%a2
		braw	loc_275F0
/*  --------------------------------------------------------------------------- */
word_2721A:	.word 0x140
		.word 0
		.word 0xF0
		.word 0x50
		.word 0xA0
		.word 0xA0
		.word 0x50
		.word 0xF0
/*  --------------------------------------------------------------------------- */

AnimateTiles_LBZ2:
		lea	(Anim_Counters):w,%a3
		tstb	0xF(%a3)
		bnes	loc_2729E
		subqb	#1,(%a3)
		bccs	loc_27264
		moveb	#3,(%a3)
		moveq	#0,%d0
		moveb	1(%a3),%d0
		addqb	#1,1(%a3)
		andib	#0xF,1(%a3)
		rorw	#7,%d0
		movel	#ArtUnc_AniLBZ__0,%d1
		addl	%d0,%d1
		movew	#0x2C00,%d2
		movew	#0x100,%d3
		jsr	(Add_To_DMA_Queue):l

loc_27264:
		addqw	#2,%a3
		moveq	#0,%d1
		movew	(Events_bg+0x12):w,%d1
		subw	(Camera_X_pos_BG_copy):w,%d1
		andiw	#0xF,%d1
		cmpb	1(%a3),%d1
		beqs	loc_27294
		moveb	%d1,1(%a3)
		lslw	#6,%d1
		addil	#ArtUnc_AniLBZ2_2,%d1
		movew	#0x5C60,%d2
		movew	#0x20,%d3
		jsr	(Add_To_DMA_Queue):l

loc_27294:
		addqw	#2,%a3
		bsrs	sub_272A0
		addqw	#4,%a3
		braw	loc_275F0
/*  --------------------------------------------------------------------------- */

loc_2729E:
		addqw	#4,%a3

/*  =============== S U B R O U T I N E ======================================= */


sub_272A0:
		moveq	#0,%d1
		movew	(Events_bg+0x10):w,%d1
		cmpw	(%a3),%d1
		beqw	locret_27382
		movew	%d1,(%a3)
		tstw	%d1
		beqw	loc_27384
		bplw	loc_2731E
		addiw	#0x40,%d1
		bccw	locret_27382
		lslw	#6,%d1
		lea	(Chunk_table+0x7E00):l,%a4
		lea	(LBZ_WaterlineScroll_Data):l,%a5
		addaw	%d1,%a5
		movew	#0x3F,%d1

loc_272D4:
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(ArtUnc_AniLBZ2_WaterlineBelow):l,%a0
		addaw	%d0,%a0
		movel	(%a0),(%a4)
		lea	0x100(%a0),%a0
		lea	0x100(%a4),%a4
		movel	(%a0),(%a4)
		lea	-0xFC(%a4),%a4
		dbf	%d1,loc_272D4
		movel	#Chunk_table+0x7E00,%d1
		movew	#0x5860,%d2
		movew	#0x100,%d3
		jsr	(Add_To_DMA_Queue):l
		tstw	2(%a3)
		beqs	locret_2731C
		movew	#0,2(%a3)
		bsrw	sub_273A0

locret_2731C:
		rts
/*  --------------------------------------------------------------------------- */

loc_2731E:
		negw	%d1
		addiw	#0x40,%d1
		bccs	locret_27382
		lslw	#6,%d1
		lea	(Chunk_table+0x7E00):l,%a4
		lea	(LBZ_WaterlineScroll_Data):l,%a5
		addaw	%d1,%a5
		movew	#0x3F,%d1

loc_2733A:
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(ArtUnc_AniLBZ2_WaterlineAbove):l,%a0
		addaw	%d0,%a0
		movel	(%a0),(%a4)
		lea	0x100(%a0),%a0
		lea	0x100(%a4),%a4
		movel	(%a0),(%a4)
		lea	-0xFC(%a4),%a4
		dbf	%d1,loc_2733A
		movel	#Chunk_table+0x7E00,%d1
		movew	#0x5A60,%d2
		movew	#0x100,%d3
		jsr	(Add_To_DMA_Queue):l
		tstw	2(%a3)
		bmis	locret_27380
		movew	#-1,2(%a3)
		bsrs	sub_2738C

locret_27380:
		rts
/*  --------------------------------------------------------------------------- */

locret_27382:
		rts
/*  --------------------------------------------------------------------------- */

loc_27384:
		movew	#1,2(%a3)
		bsrs	sub_273A0
/*  End of function sub_272A0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2738C:
		movel	#ArtUnc_AniLBZ2_LowerBG,%d1
		movew	#0x5860,%d2
		movew	#0x100,%d3
		jmp	(Add_To_DMA_Queue):l
/*  End of function sub_2738C */


/*  =============== S U B R O U T I N E ======================================= */


sub_273A0:
		movel	#ArtUnc_AniLBZ2_UpperBG,%d1
		movew	#0x5A60,%d2
		movew	#0x100,%d3
		jmp	(Add_To_DMA_Queue):l
/*  End of function sub_273A0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_273B4:
		lea	(Anim_Counters+4):w,%a3
		movew	#1,2(%a3)
		movew	(Events_bg+0x10):w,%d1
		beqs	loc_27384
		bpls	loc_273CC
		bsrs	sub_273A0
		braw	sub_272A0
/*  --------------------------------------------------------------------------- */

loc_273CC:
		bsrs	sub_2738C
		braw	sub_272A0
/*  End of function sub_273B4 */

/*  --------------------------------------------------------------------------- */

AnimateTiles_LRZ1:
		lea	(Anim_Counters):w,%a3
		moveq	#0,%d0
		movew	(Events_bg+0x12):w,%d0
		subw	(Camera_X_pos_BG_copy):w,%d0
		divuw	#0x30,%d0
		swap	%d0
		cmpb	1(%a3),%d0
		beqs	loc_27440
		moveb	%d0,1(%a3)
		moveq	#0,%d1
		movew	%d0,%d2
		andiw	#7,%d0
		lslw	#7,%d0
		movew	%d0,%d1
		lslw	#3,%d0
		addw	%d0,%d1
		movel	%d1,%d5
		andiw	#0x38,%d2
		movew	%d2,%d0
		lslw	#3,%d2
		addw	%d2,%d1
		addw	%d2,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_27446(%pc,%d0.w),%a4
		lea	(ArtUnc_AniLRZ__BG):l,%a0
		movew	#0x6020,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_27440
		jsr	(Add_To_DMA_Queue):l

loc_27440:
		addqw	#2,%a3
		braw	loc_2745E
/*  --------------------------------------------------------------------------- */
word_27446:	.word 0x240
		.word 0
		.word 0x1E0
		.word 0x60
		.word 0x180
		.word 0xC0
		.word 0x120
		.word 0x120
		.word 0xC0
		.word 0x180
		.word 0x60
		.word 0x1E0
/*  --------------------------------------------------------------------------- */

loc_2745E:
		moveq	#0,%d0
		movew	(Events_bg+0x10):w,%d0
		subw	(Camera_X_pos_BG_copy):w,%d0
		andiw	#0x1F,%d0
		cmpb	1(%a3),%d0
		beqs	locret_274BE
		moveb	%d0,1(%a3)
		moveq	#0,%d1
		movew	%d0,%d2
		andiw	#7,%d0
		lslw	#8,%d0
		movew	%d0,%d1
		movel	%d1,%d5
		andiw	#0x18,%d2
		movew	%d2,%d0
		lslw	#3,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_274C0(%pc,%d0.w),%a4
		lea	(ArtUnc_AniLRZ__BG2):l,%a0
		movew	#0x64A0,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	locret_274BE
		jsr	(Add_To_DMA_Queue):l

locret_274BE:
		rts
/*  --------------------------------------------------------------------------- */
word_274C0:	.word 0x80
		.word 0
		.word 0x60
		.word 0x20
		.word 0x40
		.word 0x40
		.word 0x20
		.word 0x60
/*  --------------------------------------------------------------------------- */

AnimateTiles_DPZ:
		lea	(Anim_Counters):w,%a3
		moveq	#0,%d1
		movew	(Events_bg+0x10):w,%d1
		subw	(Camera_X_pos_BG_copy):w,%d1
		andiw	#0x3F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_27530
		moveb	%d1,1(%a3)
		movew	%d1,%d2
		andiw	#7,%d1
		rorw	#6,%d1
		movel	%d1,%d5
		andiw	#0x38,%d2
		movew	%d2,%d0
		lslw	#4,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_27534(%pc,%d0.w),%a4
		lea	(ArtUnc_AniDPZ__BG):l,%a0
		movew	#0x2A60,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_27530
		jsr	(Add_To_DMA_Queue):l

loc_27530:
		addqw	#2,%a3
		bras	loc_27554
/*  --------------------------------------------------------------------------- */
word_27534:	.word 0x200
		.word 0
		.word 0x1C0
		.word 0x40
		.word 0x180
		.word 0x80
		.word 0x140
		.word 0xC0
		.word 0x100
		.word 0x100
		.word 0xC0
		.word 0x140
		.word 0x80
		.word 0x180
		.word 0x40
		.word 0x1C0
/*  --------------------------------------------------------------------------- */

loc_27554:
		moveq	#0,%d1
		movew	(Events_bg+0x12):w,%d1
		subw	(_unkEE70):w,%d1
		andiw	#0x3F,%d1
		cmpb	1(%a3),%d1
		beqs	loc_275B0
		moveb	%d1,1(%a3)
		movew	%d1,%d2
		andiw	#7,%d1
		rorw	#6,%d1
		movel	%d1,%d5
		andiw	#0x38,%d2
		movew	%d2,%d0
		lslw	#4,%d2
		addw	%d2,%d1
		lsrw	#1,%d0
		lea	word_27534(%pc,%d0.w),%a4
		lea	(ArtUnc_AniDPZ__BG):l,%a0
		movew	#0x2E60,%d4
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		movel	%d5,%d1
		addl	%a0,%d1
		movew	%d4,%d2
		movew	(%a4)+,%d3
		beqs	loc_275B0
		jsr	(Add_To_DMA_Queue):l

loc_275B0:
		addqw	#2,%a3
		braw	loc_275F0
/*  --------------------------------------------------------------------------- */

AnimateTiles_Gumball:
		lea	(Anim_Counters):w,%a3
		moveq	#0,%d1
		movew	(Events_bg+0x10):w,%d1
		subw	(Camera_Y_pos_BG_copy):w,%d1
		andiw	#0x1F,%d1
		cmpb	1(%a3),%d1
		beqs	locret_275EA
		moveb	%d1,1(%a3)
		addw	%d1,%d1
		addw	%d1,%d1
		addil	#ArtUnc_AniGumball,%d1
		movew	#0xA80,%d2
		movew	#0x40,%d3
		jsr	(Add_To_DMA_Queue):l

locret_275EA:
		rts

/*  =============== S U B R O U T I N E ======================================= */


AnimateTiles_DoAniPLC:
		lea	(Anim_Counters):w,%a3

loc_275F0:
		movew	(%a2)+,%d6

AnimateTiles_DoAniPLC_Part2:
		subqb	#1,(%a3)
		bccs	loc_27638
		moveq	#0,%d0
		moveb	1(%a3),%d0
		cmpb	6(%a2),%d0
		bcss	loc_27608
		moveq	#0,%d0
		moveb	%d0,1(%a3)

loc_27608:
		addqb	#1,1(%a3)
		moveb	(%a2),(%a3)
		bpls	loc_27616
		addw	%d0,%d0
		moveb	9(%a2,%d0.w),(%a3)

loc_27616:
		moveb	8(%a2,%d0.w),%d0
		lslw	#5,%d0
		movew	4(%a2),%d2
		movel	(%a2),%d1
		andil	#0xFFFFFF,%d1
		addl	%d0,%d1
		moveq	#0,%d3
		moveb	7(%a2),%d3
		lslw	#4,%d3
		jsr	(Add_To_DMA_Queue):l

loc_27638:
		moveb	6(%a2),%d0
		tstb	(%a2)
		bpls	loc_27642
		addb	%d0,%d0

loc_27642:
		addqb	#1,%d0
		andiw	#0xFE,%d0
		lea	8(%a2,%d0.w),%a2
		addqw	#2,%a3
		dbf	%d6,AnimateTiles_DoAniPLC_Part2
		rts
/*  End of function AnimateTiles_DoAniPLC */

/*  --------------------------------------------------------------------------- */
AniPLC_AIZ1:	.word 2
		.long ArtUnc_AniAIZ1_0-0x1000000
		.word 0x5CC0
		.byte 9
		.byte 0xC
		.byte 0x3C,0x4F
		.byte 0x30,  5
		.byte 0x18,  5
		.byte  0xC,  5
		.byte   0,0x4F
		.byte  0xC,  3
		.byte 0x18,  3
		.byte 0x24,  1
		.byte 0x30,  1
		.long ArtUnc_AniAIZ1_0-0x1000000
		.word 0x5E40
		.byte 8
		.byte 0xC
		.byte 0x18,  5
		.byte 0x24,  5
		.byte 0x30,  5
		.byte 0x3C,0x27
		.byte   0,  5
		.byte  0xC,  5
		.byte 0x18,  5
		.byte 0x24,  5
		.long ArtUnc_AniAIZ1_1-0x1000000
		.word 0x5FC0
		.byte 8
		.byte 6
		.byte   0,  7
		.byte   6,  3
		.byte  0xC,  3
		.byte 0x12,  3
		.byte 0x18,  7
		.byte 0x12,  3
		.byte  0xC,  3
		.byte   6,  3
AniPLC_AIZ2:	.word 4
		.long ArtUnc_AniAIZ2_0+0x3000000
		.word 0x1660
		.byte 4
		.byte 0x17
		.byte   0
		.byte 0x17
		.byte 0x2E
		.byte 0x45
		.long ArtUnc_AniAIZ2_1-0x1000000
		.word 0x1940
		.byte 9
		.byte 0xC
		.byte 0x3C,0x4F
		.byte 0x30,  5
		.byte 0x18,  5
		.byte  0xC,  5
		.byte   0,0x4F
		.byte  0xC,  3
		.byte 0x18,  3
		.byte 0x24,  1
		.byte 0x30,  1
		.long ArtUnc_AniAIZ2_1-0x1000000
		.word 0x1AC0
		.byte 8
		.byte 0xC
		.byte 0x18,  5
		.byte 0x24,  5
		.byte 0x30,  5
		.byte 0x3C,0x27
		.byte   0,  5
		.byte  0xC,  5
		.byte 0x18,  5
		.byte 0x24,  5
		.long ArtUnc_AniAIZ2_2+0x3000000
		.word 0x1C40
		.byte 4
		.byte 4
		.byte   0
		.byte   4
		.byte   8
		.byte  0xC
		.long ArtUnc_AniAIZ2_3+0x3000000
		.word 0x1CC0
		.byte 4
		.byte 0x18
		.byte   0
		.byte 0x18
		.byte 0x30
		.byte 0x48
AniPLC_HCZ1:	.word 1
		.long ArtUnc_AniHCZ1_0-0x1000000
		.word 0x6180
		.byte 3
		.byte 0x24
		.byte   0,  2
		.byte 0x24,  1
		.byte 0x48,  2
		.long ArtUnc_AniHCZ__1-0x1000000
		.word 0x22A0
		.byte 0x10
		.byte 6
		.byte   0,  4
		.byte   6,  3
		.byte  0xC,  2
		.byte 0x12,  1
		.byte 0x18,  0
		.byte 0x1E,  1
		.byte 0x24,  2
		.byte 0x2A,  3
		.byte 0x30,  4
		.byte 0x2A,  3
		.byte 0x24,  2
		.byte 0x1E,  1
		.byte 0x18,  0
		.byte 0x12,  1
		.byte  0xC,  2
		.byte   6,  3
AniPLC_HCZ2:	.word 1
		.long ArtUnc_AniHCZ2_0+0x3000000
		.word 0x4BC0
		.byte 4
		.byte 0x15
		.byte   0
		.byte 0x15
		.byte 0x2A
		.byte 0x3F
		.long ArtUnc_AniHCZ__1-0x1000000
		.word 0x22A0
		.byte 0x10
		.byte 6
		.byte   0,  4
		.byte   6,  3
		.byte  0xC,  2
		.byte 0x12,  1
		.byte 0x18,  0
		.byte 0x1E,  1
		.byte 0x24,  2
		.byte 0x2A,  3
		.byte 0x30,  4
		.byte 0x2A,  3
		.byte 0x24,  2
		.byte 0x1E,  1
		.byte 0x18,  0
		.byte 0x12,  1
		.byte  0xC,  2
		.byte   6,  3
AniPLC_MGZ:	.word 1
		.long ArtUnc_AniMGZ__0+0x9000000
		.word 0x4440
		.byte 6
		.byte 0x30
		.byte   0
		.byte 0x30
		.byte 0x60
		.byte 0x90
		.byte 0xC0
		.byte 0xF0
		.long ArtUnc_AniMGZ__1-0x1000000
		.word 0x4A40
		.byte 4
		.byte 1
		.byte   0,  7
		.byte   1, 0xE
		.byte   2,  7
		.byte   1, 0xE
AniPLC_CNZ:	.word 6
		.long ArtUnc_AniCNZ__0+0x3000000
		.word 0x5640
		.byte 0x10
		.byte 9
		.byte   0
		.byte 0x12
		.byte 0x24
		.byte 0x36
		.byte 0x48
		.byte 0x5A
		.byte 0x6C
		.byte 0x7E
		.byte   9
		.byte 0x1B
		.byte 0x2D
		.byte 0x3F
		.byte 0x51
		.byte 0x63
		.byte 0x75
		.byte 0x87
		.long ArtUnc_AniCNZ__0+0x3000000
		.word 0x5760
		.byte 0x10
		.byte 9
		.byte   9
		.byte 0x1B
		.byte 0x2D
		.byte 0x3F
		.byte 0x51
		.byte 0x63
		.byte 0x75
		.byte 0x87
		.byte   0
		.byte 0x12
		.byte 0x24
		.byte 0x36
		.byte 0x48
		.byte 0x5A
		.byte 0x6C
		.byte 0x7E
		.long ArtUnc_AniCNZ__1+0x3000000
		.word 0x5880
		.byte 0x10
		.byte 0x10
		.byte   0
		.byte 0x10
		.byte 0x20
		.byte 0x30
		.byte 0x40
		.byte 0x50
		.byte 0x60
		.byte 0x70
		.byte 0x80
		.byte 0x90
		.byte 0xA0
		.byte 0xB0
		.byte 0xC0
		.byte 0xD0
		.byte 0xE0
		.byte 0xF0
		.long ArtUnc_AniCNZ__2+0x3000000
		.word 0x5A80
		.byte 8
		.byte 0x20
		.byte   0
		.byte 0x20
		.byte 0x40
		.byte 0x60
		.byte 0x80
		.byte 0xA0
		.byte 0xC0
		.byte 0xE0
		.long ArtUnc_AniCNZ__3+0x3000000
		.word 0x5E80
		.byte 8
		.byte 0x10
		.byte   0
		.byte 0x10
		.byte 0x20
		.byte 0x30
		.byte 0x40
		.byte 0x50
		.byte 0x60
		.byte 0x70
		.long ArtUnc_AniCNZ__4+0x3000000
		.word 0x6080
		.byte 6
		.byte 4
		.byte   0
		.byte   4
		.byte   8
		.byte   0
		.byte   4
		.byte   8
		.long ArtUnc_AniCNZ__5+0x1000000
		.word 0x6500
		.byte 4
		.byte 0x14
		.byte   0
		.byte 0x14
		.byte 0x28
		.byte 0x3C
AniPLC_ICZ:	.word 0
		.long ArtUnc_AniICZ__0+0x3000000
		.word 0x23C0
		.byte 8
		.byte 4
		.byte   0
		.byte   4
		.byte   8
		.byte  0xC
		.byte 0x10
		.byte 0x14
		.byte 0x18
		.byte 0x1C
AniPLC_LBZ1:	.word 0
		.long ArtUnc_AniLBZ1_0+0x2000000
		.word 0x6CA0
		.byte 4
		.byte 8
		.byte   0
		.byte   8
		.byte 0x10
		.byte 0x18
AniPLC_LBZSpec:	.word 1
		.long ArtUnc_AniLBZ2_0+0x7000000
		.word 0x2E00
		.byte 4
		.byte 5
		.byte   0
		.byte   5
		.byte  0xA
		.byte  0xF
		.long ArtUnc_AniLBZ2_1+0x7000000
		.word 0x2EA0
		.byte 6
		.byte 4
		.byte   0
		.byte   4
		.byte   8
		.byte  0xC
		.byte 0x10
		.byte 0x14
AniPLC_LBZ2:	.word 1
		.long ArtUnc_AniLBZ2_0+0x7000000
		.word 0x2E00
		.byte 4
		.byte 5
		.byte   0
		.byte   5
		.byte  0xA
		.byte  0xF
		.long ArtUnc_AniLBZ2_1+0x7000000
		.word 0x2EA0
		.byte 6
		.byte 4
		.byte   0
		.byte   4
		.byte   8
		.byte  0xC
		.byte 0x10
		.byte 0x14
AniPLC_LRZ1:
AniPLC_ALZ:	.word 0
		.long ArtUnc_AniALZ+0x9000000
		.word 0x4700
		.byte 3
		.byte 0x10
		.byte   0
		.byte 0x10
		.byte 0x20
		.byte   0
AniPLC_BPZ:	.word 3
		.long ArtUnc_AniBPZ__0+0x7000000
		.word 0x2300
		.byte 6
		.byte 7
		.byte   0
		.byte   7
		.byte  0xE
		.byte 0x15
		.byte 0x1C
		.byte 0x23
		.long ArtUnc_AniBPZ__1+0x5000000
		.word 0x23E0
		.byte 0xA
		.byte 8
		.byte   0
		.byte   8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.byte   0
		.byte   8
		.byte 0x10
		.byte 0x18
		.byte 0x20
		.long ArtUnc_AniBPZ__2+0x2000000
		.word 0x24E0
		.byte 2
		.byte 3
		.byte   0
		.byte   3
		.long ArtUnc_AniBPZ__3+0x4000000
		.word 0x2540
		.byte 2
		.byte 1
		.byte   0
		.byte   1
AniPLC_DPZ:	.word 0
		.long ArtUnc_AniDPZ+0xB000000
		.word 0x28E0
		.byte 5
		.byte 0xC
		.byte   0
		.byte  0xC
		.byte 0x18
		.byte 0x24
		.byte 0x30
		.byte   0
/*  --------------------------------------------------------------------------- */

AnimateTiles_NULL3:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Animate_Init:
		cmpiw	#0x100,(Current_zone_and_act):w
		bnes	loc_278C4
		bsrw	sub_26D0E

loc_278C4:
		cmpiw	#0x101,(Current_zone_and_act):w
		bnes	loc_278D8
		moveb	#0x20,(Anim_Counters+1):w
		moveb	#0x40,(Anim_Counters+3):w

loc_278D8:
		cmpib	#3,(Current_zone):w
		bnes	loc_27910
		moveb	#0x40,(Anim_Counters+1):w
		moveb	#0,(Anim_Counters+2):w
		moveb	#0,(Anim_Counters+4):w
		moveb	#0,(Anim_Counters+6):w
		moveb	#2,(Anim_Counters+8):w
		moveb	#2,(Anim_Counters+0xA):w
		moveb	#2,(Anim_Counters+0xC):w
		moveb	#1,(Anim_Counters+0xE):w

loc_27910:
		cmpiw	#0x600,(Current_zone_and_act):w
		bnes	loc_2791E
		moveb	#0x20,(Anim_Counters+3):w

loc_2791E:
		cmpiw	#0x601,(Current_zone_and_act):w
		bnes	loc_27930
		bsrw	sub_273B4
		moveb	#0x10,(Anim_Counters+1):w

loc_27930:
		cmpiw	#0x900,(Current_zone_and_act):w
		bnes	loc_27944
		moveb	#-1,(Anim_Counters+1):w
		moveb	#-1,(Anim_Counters+3):w

loc_27944:
		cmpiw	#0x1000,(Current_zone_and_act):w
		bnes	locret_27958
		moveb	#0x40,(Anim_Counters+1):w
		moveb	#0x40,(Anim_Counters+3):w

locret_27958:
		rts
/*  End of function Animate_Init */

/*  --------------------------------------------------------------------------- */

Obj_LBZSpinLauncher:
		movel	#Map_LBZSpinLauncher,0xC(%a0)
		movew	#0x42EA,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		orib	#4,4(%a0)
		movew	#0x80,8(%a0)
		movel	#loc_27986,(%a0)

loc_27986:
		movew	#0x2B,%d1
		movew	#0x10,%d2
		movew	0x10(%a0),%d4
		lea	(byte_27B96):l,%a2
		lea	0x2E(%a0),%a4
		tstb	(%a4)
		beqs	loc_279A4
		subqb	#1,(%a4)
		bras	loc_279C0
/*  --------------------------------------------------------------------------- */

loc_279A4:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		jsr	(sub_1BADA):l
		cmpiw	#-2,%d4
		bnes	loc_279BC
		bsrs	sub_27A18

loc_279BC:
		moveml	(%sp)+,%d1-%d4

loc_279C0:
		addqw	#1,%a4
		tstb	(%a4)
		beqs	loc_279CA
		subqb	#1,(%a4)
		bras	loc_279DE
/*  --------------------------------------------------------------------------- */

loc_279CA:
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		jsr	(sub_1BADA):l
		cmpiw	#-2,%d4
		bnes	loc_279DE
		bsrs	sub_27A18

loc_279DE:
		moveb	0x2A(%a0),%d6
		andib	#0x18,%d6
		beqs	loc_27A12
		moveb	%d6,%d0
		andib	#8,%d0
		beqs	loc_279FE
		lea	0x2E(%a0),%a4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrw	sub_27AE2

loc_279FE:
		andib	#0x10,%d6
		beqs	loc_27A12
		lea	0x2F(%a0),%a4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrw	sub_27AE2

loc_27A12:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_27A18:
		btst	#0,0x2A(%a0)
		bnes	loc_27A80
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x18,%d0
		cmpiw	#0x30,%d0
		bccs	locret_27A7E
		movew	0x10(%a0),%d0
		addiw	#0x10,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	#0,0x18(%a1)
		movew	#-0xA00,0x1A(%a1)
		movew	#0x800,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		moveb	#0x10,(%a4)

locret_27A7E:
		rts
/*  --------------------------------------------------------------------------- */

loc_27A80:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		negw	%d0
		addiw	#0x18,%d0
		cmpiw	#0x30,%d0
		bccs	locret_27A7E
		movew	0x10(%a0),%d0
		subiw	#0x10,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	#0,0x18(%a1)
		movew	#-0xA00,0x1A(%a1)
		movew	#0x800,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		moveb	#0x10,(%a4)
		rts
/*  End of function sub_27A18 */


/*  =============== S U B R O U T I N E ======================================= */


sub_27AE2:
		btst	#0,0x2A(%a0)
		bnes	loc_27B3E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x20,%d0
		bccs	locret_27A7E
		movew	0x10(%a0),%d0
		addiw	#0x10,%d0
		movew	%d0,0x10(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		bclr	#3,0x2A(%a1)
		bclr	#2,0x2A(%a1)
		moveb	#0,0x20(%a1)
		bclr	%d6,0x2A(%a0)
		moveb	#0x20,(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_27B3E:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		negw	%d0
		cmpiw	#0x20,%d0
		bccw	locret_27A7E
		movew	0x10(%a0),%d0
		subiw	#0x10,%d0
		movew	%d0,0x10(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		bclr	#3,0x2A(%a1)
		bclr	#2,0x2A(%a1)
		moveb	#0,0x20(%a1)
		bclr	%d6,0x2A(%a0)
		moveb	#0x20,(%a4)
		rts
/*  End of function sub_27AE2 */

/*  --------------------------------------------------------------------------- */
byte_27B96:	.byte 0x11
		.byte 0x11
		.byte 0x11
		.byte 0x11
		.byte 0x11
		.byte 0x11
		.byte 0x11
		.byte 0x12
		.byte 0x13
		.byte 0x14
		.byte 0x15
		.byte 0x16
		.byte 0x17
		.byte 0x18
		.byte 0x19
		.byte 0x1A
		.byte 0x1B
		.byte 0x1C
		.byte 0x1D
		.byte 0x1E
		.byte 0x1F
		.byte 0x20
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
		.byte 0x21
Map_LBZSpinLauncher:
		.include "Levels/LBZ/Misc Object Data/Map - Spin Launcher.S"
/*  --------------------------------------------------------------------------- */

Obj_LBZLoweringGrapple:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		movew	#0x80,8(%a0)
		moveb	#-0x80,6(%a0)
		movew	0x14(%a0),0x3C(%a0)
		movel	#Map_LBZLoweringGrapple,0xC(%a0)
		movew	#0x42EA,0xA(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0x7F,%d0
		lslw	#3,%d0
		movew	%d0,0x2E(%a0)
		movew	#2,0x3A(%a0)
		moveb	0x2C(%a0),%d0
		bpls	loc_27C50
		movew	0x2E(%a0),%d0
		movew	%d0,0x38(%a0)
		moveb	#1,0x36(%a0)
		addw	%d0,0x14(%a0)
		lsrw	#4,%d0
		addqw	#1,%d0
		moveb	%d0,0x22(%a0)

loc_27C50:
		movel	#loc_27C56,(%a0)

loc_27C56:
		tstb	0x36(%a0)
		beqs	loc_27C64
		tstw	0x30(%a0)
		bnes	loc_27C7A
		bras	loc_27C6A
/*  --------------------------------------------------------------------------- */

loc_27C64:
		tstw	0x30(%a0)
		beqs	loc_27C7A

loc_27C6A:
		movew	0x38(%a0),%d2
		cmpw	0x2E(%a0),%d2
		beqs	loc_27C9E
		addw	0x3A(%a0),%d2
		bras	loc_27C84
/*  --------------------------------------------------------------------------- */

loc_27C7A:
		movew	0x38(%a0),%d2
		beqs	loc_27C9E
		subw	0x3A(%a0),%d2

loc_27C84:
		movew	%d2,0x38(%a0)
		movew	0x3C(%a0),%d0
		addw	%d2,%d0
		movew	%d0,0x14(%a0)
		movew	%d2,%d0
		beqs	loc_27C9A
		lsrw	#4,%d0
		addqw	#1,%d0

loc_27C9A:
		moveb	%d0,0x22(%a0)

loc_27C9E:
		lea	0x30(%a0),%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d0
		bsrw	sub_27CC2
		lea	(Player_2):w,%a1
		addqw	#1,%a2
		movew	(Ctrl_2):w,%d0
		bsrw	sub_27CC2
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_27CC2:
		tstb	(%a2)
		beqw	loc_27D3A
		tstb	4(%a1)
		bpls	loc_27D1E
		cmpib	#4,5(%a1)
		bccs	loc_27D1E
		andib	#0x70,%d0
		beqw	loc_27D2C
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x12,2(%a2)
		andiw	#0xF00,%d0
		beqw	loc_27CF8
		moveb	#0x3C,2(%a2)

loc_27CF8:
		btst	#0xA,%d0
		beqs	loc_27D04
		movew	#-0x200,0x18(%a1)

loc_27D04:
		btst	#0xB,%d0
		beqs	loc_27D10
		movew	#0x200,0x18(%a1)

loc_27D10:
		movew	#-0x380,0x1A(%a1)
		bset	#1,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_27D1E:
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_27D2C:
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x94,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_27D3A:
		tstb	2(%a2)
		beqs	loc_27D48
		subqb	#1,2(%a2)
		bnew	locret_27DBA

loc_27D48:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccw	locret_27DBA
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		subiw	#0x88,%d1
		cmpiw	#0x18,%d1
		bccw	locret_27DBA
		tstb	0x2E(%a1)
		bmis	locret_27DBA
		cmpib	#4,5(%a1)
		bccs	locret_27DBA
		tstw	(Debug_placement_mode):w
		bnes	locret_27DBA
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x94,0x14(%a1)
		moveb	#0x14,0x20(%a1)
		moveb	#1,0x2E(%a1)
		moveb	#1,(%a2)
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l

locret_27DBA:
		rts
/*  End of function sub_27CC2 */

/*  --------------------------------------------------------------------------- */
Map_LBZLoweringGrapple:
		.include "Levels/LBZ/Misc Object Data/Map - Lowering Grapple.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZLBZSmashingPillar:
		movel	#Map_LBZSmashingSpikes,0xC(%a0)
		movew	#0x4455,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x80,8(%a0)
		cmpib	#2,(Current_zone):w
		bnes	loc_2815C
		movel	#Map_MGZSmashingPillar,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x28,6(%a0)
		movew	#0x280,8(%a0)

loc_2815C:
		moveb	#4,4(%a0)
		movew	0x14(%a0),0x30(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		movew	%d0,0x38(%a0)
		movel	#loc_2817A,(%a0)

loc_2817A:
		tstb	0x32(%a0)
		bnes	loc_281C6
		movew	0x1A(%a0),%d0
		addiw	#0x80,0x1A(%a0)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x34(%a0)
		movew	0x34(%a0),%d2
		cmpw	0x38(%a0),%d2
		bcss	loc_281DA
		clrw	0x1A(%a0)
		movew	0x38(%a0),0x34(%a0)
		moveb	#1,0x32(%a0)
		tstb	4(%a0)
		bpls	loc_281DA
		moveq	#sfx_Crash,%d0
		cmpib	#2,(Current_zone):w
		beqs	loc_281BE
		moveq	#sfx_MetalLand,%d0

loc_281BE:
		jsr	(Play_Sound_2):l
		bras	loc_281DA
/*  --------------------------------------------------------------------------- */

loc_281C6:
		movew	0x34(%a0),%d2
		beqs	loc_281D4
		subqw	#1,%d2
		movew	%d2,0x34(%a0)
		bras	loc_281DA
/*  --------------------------------------------------------------------------- */

loc_281D4:
		moveb	#0,0x32(%a0)

loc_281DA:
		movew	0x30(%a0),%d0
		addw	0x34(%a0),%d0
		movew	%d0,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		swap	%d6
		andiw	#0xC,%d6
		bnes	loc_28212
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_28212:
		moveb	%d6,%d0
		andib	#4,%d0
		beqs	loc_28222
		lea	(Player_1):w,%a1
		bsrw	sub_228EC

loc_28222:
		andib	#8,%d6
		beqs	loc_28230
		lea	(Player_2):w,%a1
		bsrw	sub_228EC

loc_28230:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_LBZSmashingSpikes:
		.include "Levels/LBZ/Misc Object Data/Map - Smashing Spikes.S"
Map_MGZSmashingPillar:
		.include "Levels/MGZ/Misc Object Data/Map - Smashing Pillar.S"
/*  --------------------------------------------------------------------------- */

Obj_LBZGateLaser:
		movel	#Map_LBZGateLaser,0xC(%a0)
		movew	#0x42EA,0xA(%a0)
		moveb	#0x1C,7(%a0)
		moveb	#4,6(%a0)
		orib	#4,4(%a0)
		movew	#0x180,8(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		andiw	#0xF,%d0
		lslw	#3,%d0
		addw	0x14(%a0),%d0
		movew	%d0,0x2E(%a0)
		lsrb	#1,%d1
		andiw	#0x78,%d1
		addqw	#8,%d1
		movew	%d1,0x32(%a0)
		movel	#loc_282D4,(%a0)

loc_282D4:
		subqw	#1,0x30(%a0)
		bpls	loc_28318
		movew	0x32(%a0),0x30(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_28318
		bsrs	sub_2831E
		jsr	(Create_New_Sprite3):l
		bnew	loc_28318
		bsrs	sub_2831E
		movew	#0x80,8(%a1)
		moveb	#2,0x22(%a1)
		moveb	#-0x68,0x28(%a1)
		movel	#loc_28364,(%a1)
		moveq	#sfx_EnergyZap,%d0
		jsr	(Play_Sound_2):l

loc_28318:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2831E:
		movel	#loc_2836A,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0x2E(%a0),0x2E(%a1)
		movel	#Map_LBZGateLaser,0xC(%a1)
		movew	#0x42EA,0xA(%a1)
		moveb	#0x1C,7(%a1)
		moveb	#4,6(%a1)
		moveb	4(%a0),4(%a1)
		moveb	#1,0x22(%a1)
		movew	#0x180,8(%a1)
		rts
/*  End of function sub_2831E */

/*  --------------------------------------------------------------------------- */

loc_28364:
		jsr	(Add_SpriteToCollisionResponseList):l

loc_2836A:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		bnes	loc_2837A
		bchg	#1,4(%a0)

loc_2837A:
		movew	0x14(%a0),%d0
		addqw	#4,0x14(%a0)
		cmpw	0x2E(%a0),%d0
		bcss	loc_2838E
		movew	#0x7FF0,0x10(%a0)

loc_2838E:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_LBZGateLaser:
		.include "Levels/LBZ/Misc Object Data/Map - Gate Laser.S"
/*  --------------------------------------------------------------------------- */

Obj_22_1:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x280,8(%a0)
		moveb	#-0x29,0x28(%a0)
		movel	#loc_283DC,(%a0)

loc_283DC:
		tstw	0x30(%a0)
		beqs	loc_283F0
		subqw	#1,0x30(%a0)
		bnes	loc_28448
		movew	#0,(Anim_Counters+4):w
		bras	loc_2846E
/*  --------------------------------------------------------------------------- */

loc_283F0:
		tstb	0x29(%a0)
		beqs	loc_2846E
		clrb	0x29(%a0)
		movew	#0x81,0x30(%a0)
		movew	#1,(Anim_Counters+4):w
		btst	#0,0x2C(%a0)
		bnes	locret_28446

/*  =============== S U B R O U T I N E ======================================= */


sub_2840E:
		jsr	(Create_New_Sprite3):l
		bnes	locret_28446
		movel	#Obj_Flybot767,(%a1)
		lea	(Player_1):w,%a2
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		addw	%d0,%d0
		andiw	#0xC,%d0
		movel	word_2847A(%pc,%d0.w),%d0
		addw	%d0,0x14(%a1)
		swap	%d0
		addw	%d0,0x10(%a1)

locret_28446:
		rts
/*  End of function sub_2840E */

/*  --------------------------------------------------------------------------- */

loc_28448:
		btst	#0,0x2C(%a0)
		beqs	loc_2845A
		cmpiw	#0x41,0x30(%a0)
		bnes	loc_2845A
		bsrs	sub_2840E

loc_2845A:
		movew	0x30(%a0),%d0
		andib	#0x1F,%d0
		bnes	locret_2846C
		moveq	#sfx_Alarm,%d0
		jsr	(Play_Sound_2):l

locret_2846C:
		rts
/*  --------------------------------------------------------------------------- */

loc_2846E:
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */
word_2847A:	.word 0xC0, 0xFFA0
		.word 0xC0, 0xFFA0
		.word 0xFF40, 0xFFA0
		.word 0xFF40, 0xFFA0
/*  --------------------------------------------------------------------------- */

Obj_23_1:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#-0x80,6(%a0)
		moveb	#0,8(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		movew	%d0,0x2E(%a0)
		movel	#loc_284B4,(%a0)

loc_284B4:
		movew	0x10(%a0),%d1
		movew	%d1,%d2
		subiw	#0x10,%d1
		addiw	#0x10,%d2
		movew	0x14(%a0),%d3
		movew	%d3,%d4
		subw	0x2E(%a0),%d3
		addw	0x2E(%a0),%d4
		lea	(Player_1):w,%a1
		bsrs	sub_284E2
		lea	(Player_2):w,%a1
		bsrs	sub_284E2
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_284E2:
		movew	0x10(%a1),%d0
		cmpw	%d1,%d0
		bcss	locret_28532
		cmpw	%d2,%d0
		bccs	locret_28532
		movew	0x14(%a1),%d0
		cmpw	%d3,%d0
		bcss	locret_28532
		cmpw	%d4,%d0
		bccs	locret_28532
		cmpib	#0x1A,0x20(%a1)
		beqs	locret_28532
		movew	#0,0x18(%a1)
		movew	#0x400,0x1A(%a1)
		movew	#0,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		bclr	#3,0x2A(%a1)
		bclr	#2,0x2A(%a1)
		moveb	#0x1A,0x20(%a1)

locret_28532:
		rts
/*  End of function sub_284E2 */

/*  --------------------------------------------------------------------------- */

Obj_AutomaticTunnelDelayed:
		subqb	#1,0x24(%a0)
		bmis	loc_2853C
		rts
/*  --------------------------------------------------------------------------- */

loc_2853C:
		moveb	#0,0x24(%a0)

Obj_AutomaticTunnel:
		orib	#4,4(%a0)
		moveb	#0x10,7(%a0)
		movew	#0x280,8(%a0)
		movel	#loc_2855A,(%a0)

loc_2855A:
		lea	(Player_1):w,%a1
		lea	0x30(%a0),%a4
		bsrs	sub_28580
		lea	(Player_2):w,%a1
		lea	0x3A(%a0),%a4
		bsrs	sub_28580
		moveb	0x30(%a0),%d0
		addb	0x3A(%a0),%d0
		beqs	loc_2857A
		rts
/*  --------------------------------------------------------------------------- */

loc_2857A:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_28580:
		moveq	#0,%d0
		moveb	(%a4),%d0
		movew	AutoTunnel_Index(%pc,%d0.w),%d0
		jmp	AutoTunnel_Index(%pc,%d0.w)
/*  End of function sub_28580 */

/*  --------------------------------------------------------------------------- */
AutoTunnel_Index:.word Obj_AutoTunnelInit-AutoTunnel_Index
		.word Obj_AutoTunnelRun-AutoTunnel_Index
		.word Obj_AutoTunnelLastMove-AutoTunnel_Index
/*  --------------------------------------------------------------------------- */

Obj_AutoTunnelInit:
		tstw	(Debug_placement_mode):w
		bnew	locret_28644
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccw	locret_28644
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addiw	#0x18,%d1
		cmpiw	#0x28,%d1
		bccw	locret_28644
		tstb	0x2E(%a1)
		bnes	locret_28644
		addqb	#2,(%a4)
		moveb	#-0x7F,0x2E(%a1)
		moveb	#2,0x20(%a1)
		clrb	0x40(%a1)
		movew	#0x800,0x1C(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		bclr	#5,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		clrb	1(%a4)
		bsrw	AutoTunnel_GetPath
		moveq	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		btst	#5,0x2C(%a0)
		beqs	locret_28644
		tstb	(Current_act):w
		beqs	locret_28644
		bclr	#4,0x2B(%a1)
		beqs	loc_28636
		bclr	#0,0x2B(%a1)

loc_28636:
		bclr	#5,0x2B(%a1)
		beqs	locret_28644
		bclr	#0,0x2B(%a1)

locret_28644:
		rts
/*  --------------------------------------------------------------------------- */

Obj_AutoTunnelRun:
		subqb	#1,2(%a4)
		bhiw	loc_286DA
		moveal	6(%a4),%a2
		movew	(%a2)+,%d4
		movew	%d4,0x10(%a1)
		movew	(%a2)+,%d5
		movew	%d5,0x14(%a1)
		tstb	0x2C(%a0)
		bpls	loc_28666
		subqw	#8,%a2

loc_28666:
		movel	%a2,6(%a4)
		subqw	#4,4(%a4)
		beqs	loc_2867C
		movew	(%a2)+,%d4
		movew	(%a2)+,%d5
		movew	#0x1000,%d2
		braw	AutoTunnel_CalcSpeed
/*  --------------------------------------------------------------------------- */

loc_2867C:
		addqb	#2,(%a4)
		moveb	#2,2(%a4)
		andiw	#0xFFF,0x14(%a1)
		btst	#6,0x2C(%a0)
		bnes	loc_2869E
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)

loc_2869E:
		moveq	#sfx_TubeLauncher,%d0
		jsr	(Play_Sound_2):l
		btst	#5,0x2C(%a0)
		beqs	loc_286DA
		moveal	%a1,%a2
		jsr	(Create_New_Sprite3):l
		bnew	loc_286D8
		movel	#Obj_TunnelExhaustControl,(%a1)
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		movew	0x18(%a2),0x18(%a1)
		movew	0x1A(%a2),0x1A(%a1)

loc_286D8:
		moveal	%a2,%a1

loc_286DA:
		movel	0x10(%a1),%d2
		movel	0x14(%a1),%d3
		movew	0x18(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d2
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d3
		movel	%d2,0x10(%a1)
		movel	%d3,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

Obj_AutoTunnelLastMove:
		subqb	#1,2(%a4)
		bnes	loc_2870C
		clrb	0x2E(%a1)
		clrb	(%a4)

loc_2870C:
		addiw	#0x38,0x1A(%a1)
		bras	loc_286DA

/*  =============== S U B R O U T I N E ======================================= */


AutoTunnel_GetPath:
		moveb	0x2C(%a0),%d0
		bpls	loc_28748
		andiw	#0x1F,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(AutoTunnel_Data):l,%a2
		moveal	(%a2,%d0.w),%a2
		movew	(%a2)+,%d0
		subqw	#4,%d0
		movew	%d0,4(%a4)
		lea	(%a2,%d0.w),%a2
		movew	(%a2)+,%d4
		movew	%d4,0x10(%a1)
		movew	(%a2)+,%d5
		movew	%d5,0x14(%a1)
		subqw	#8,%a2
		bras	loc_2877E
/*  --------------------------------------------------------------------------- */

loc_28748:
		cmpib	#0x10,%d0
		bnes	loc_28758
		cmpiw	#2,(Player_mode):w
		bnes	loc_28758
		moveq	#0,%d0

loc_28758:
		andiw	#0x1F,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(AutoTunnel_Data):l,%a2
		moveal	(%a2,%d0.w),%a2
		movew	(%a2)+,4(%a4)
		subqw	#4,4(%a4)
		movew	(%a2)+,%d4
		movew	%d4,0x10(%a1)
		movew	(%a2)+,%d5
		movew	%d5,0x14(%a1)

loc_2877E:
		movel	%a2,6(%a4)
		movew	(%a2)+,%d4
		movew	(%a2)+,%d5
		movew	#0x1000,%d2

AutoTunnel_CalcSpeed:
		moveq	#0,%d0
		movew	%d2,%d3
		movew	%d4,%d0
		subw	0x10(%a1),%d0
		bges	loc_2879A
		negw	%d0
		negw	%d2

loc_2879A:
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a1),%d1
		bges	loc_287A8
		negw	%d1
		negw	%d3

loc_287A8:
		cmpw	%d0,%d1
		bcss	loc_287DA
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a1),%d1
		swap	%d1
		divsw	%d3,%d1
		moveq	#0,%d0
		movew	%d4,%d0
		subw	0x10(%a1),%d0
		beqs	loc_287C6
		swap	%d0
		divsw	%d1,%d0

loc_287C6:
		movew	%d0,0x18(%a1)
		movew	%d3,0x1A(%a1)
		tstw	%d1
		bpls	loc_287D4
		negw	%d1

loc_287D4:
		movew	%d1,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_287DA:
		moveq	#0,%d0
		movew	%d4,%d0
		subw	0x10(%a1),%d0
		swap	%d0
		divsw	%d2,%d0
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a1),%d1
		beqs	loc_287F4
		swap	%d1
		divsw	%d0,%d1

loc_287F4:
		movew	%d1,0x1A(%a1)
		movew	%d2,0x18(%a1)
		tstw	%d0
		bpls	loc_28802
		negw	%d0

loc_28802:
		movew	%d0,2(%a4)
		rts
/*  End of function AutoTunnel_GetPath */

/*  --------------------------------------------------------------------------- */

Obj_TunnelExhaustControl:
		movel	#Map_TunnelExhaust,0xC(%a0)
		movew	#0x42EA,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		orib	#4,4(%a0)
		movew	#0x180,8(%a0)
		tstb	0x2C(%a0)
		beqs	loc_2883E
		movel	#Obj_TunnelExContinuous,(%a0)
		braw	Obj_TunnelExContinuous
/*  --------------------------------------------------------------------------- */

loc_2883E:
		movew	#0x3C,0x30(%a0)
		tstw	0x1A(%a0)
		beqs	loc_28854
		bmis	loc_28866
		movew	#6,0x26(%a0)
		bras	loc_28866
/*  --------------------------------------------------------------------------- */

loc_28854:
		movew	#0xC,0x26(%a0)
		tstw	0x18(%a0)
		bmis	loc_28866
		movew	#0x12,0x26(%a0)

loc_28866:
		tstb	(Current_act):w
		bnes	loc_28876
		movel	#Obj_TunnelExSmoke,(%a0)
		braw	Obj_TunnelExSmoke
/*  --------------------------------------------------------------------------- */

loc_28876:
		movel	#Obj_TunnelExhaustControlMain,(%a0)

Obj_TunnelExhaustControlMain:
		subqw	#1,0x2E(%a0)
		bpls	loc_288F2
		movew	#3,0x2E(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_288F2
		movel	#Obj_TunnelExhaustUp,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_TunnelExhaust,0xC(%a1)
		movew	#0x42EA,0xA(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x10,6(%a1)
		movew	#0x380,8(%a1)
		movew	0x26(%a0),%d0
		cmpiw	#6,%d0
		bnes	loc_288D4
		movel	#Obj_TunnelExhaustDown,(%a1)

loc_288D4:
		lea	word_28904(%pc,%d0.w),%a2
		movew	(%a2)+,0x18(%a1)
		movew	(%a2)+,0x1A(%a1)
		moveb	(%a2)+,4(%a1)
		moveb	(%a2)+,0x22(%a1)
		bnes	loc_288F2
		movel	#Obj_TunnelExhaustHorz,(%a1)
		bsrs	sub_2891C

loc_288F2:
		subqw	#1,0x30(%a0)
		bpls	loc_288FE
		movew	#0x7FF0,0x10(%a0)

loc_288FE:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */
word_28904:	.word 0
		.word 0xFA00
		.byte 0x86
		.byte 1
		.word 0
		.word 0x400
		.byte 0x84
		.byte 1
		.word 0xFA00
		.word 0
		.byte 0x85
		.byte 0
		.word 0x600
		.word 0
		.byte 0x84
		.byte 0

/*  =============== S U B R O U T I N E ======================================= */


sub_2891C:
		moveq	#0,%d0
		movew	0x30(%a0),%d0
		subiw	#0x3C,%d0
		negw	%d0
		lslw	#4,%d0
		tstw	0x18(%a1)
		bmis	loc_28932
		negw	%d0

loc_28932:
		addw	%d0,0x18(%a1)
		rts
/*  End of function sub_2891C */

/*  --------------------------------------------------------------------------- */

Obj_TunnelExhaustUp:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		bnes	loc_28948
		bchg	#0,4(%a0)

loc_28948:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmis	loc_28960
		tstw	0x1A(%a0)
		bmis	loc_28960
		movew	#0x7FF0,0x10(%a0)

loc_28960:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_TunnelExhaustDown:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		bnes	loc_28976
		bchg	#0,4(%a0)

loc_28976:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmis	loc_28990
		cmpiw	#0xC00,0x1A(%a0)
		blts	loc_28990
		movew	#0x7FF0,0x10(%a0)

loc_28990:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_TunnelExhaustHorz:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		bnes	loc_289A6
		bchg	#1,4(%a0)

loc_289A6:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmis	loc_289C0
		cmpiw	#0x600,0x1A(%a0)
		blts	loc_289C0
		movew	#0x7FF0,0x10(%a0)

loc_289C0:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_TunnelExContinuous:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#3,%d0
		bnes	loc_28A2A
		jsr	(Create_New_Sprite3):l
		bnew	loc_28A2A
		movel	#Obj_TunnelExhaustTimed,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_TunnelExhaust,0xC(%a1)
		movew	#0x42EA,0xA(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x10,6(%a1)
		movew	#0x380,8(%a1)
		movew	#0,0x18(%a1)
		movew	#0x400,0x1A(%a1)
		moveb	#-0x7C,4(%a1)
		moveb	#1,0x22(%a1)
		movew	#0xB,0x2E(%a1)

loc_28A2A:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

Obj_TunnelExhaustTimed:
		subqw	#1,0x2E(%a0)
		bpls	loc_28A42
		movew	#0xB,0x2E(%a0)
		movew	#0x7FF0,0x10(%a0)

loc_28A42:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		bnes	loc_28A52
		bchg	#0,4(%a0)

loc_28A52:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmis	loc_28A64
		movew	#0x7FF0,0x10(%a0)

loc_28A64:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_TunnelExSmoke:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#3,%d0
		bnes	loc_28A9C
		jsr	(Create_New_Sprite3):l
		bnew	loc_28A9C
		movel	#Obj_FireShield_Dissipate,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0x18(%a0),0x18(%a1)
		movew	0x1A(%a0),0x1A(%a1)

loc_28A9C:
		subqw	#1,0x30(%a0)
		bpls	loc_28AA8
		movew	#0x7FF0,0x10(%a0)

loc_28AA8:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */
		movel	#Map_TunnelExhaust,0xC(%a0)
		movew	#0x42EA,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		orib	#4,4(%a0)
		movew	#0x180,8(%a0)
		movew	#0x78,0x30(%a0)
		movel	#loc_28AE0,(%a0)

loc_28AE0:
		tstb	0x32(%a0)
		bnes	loc_28B5A
		subqw	#1,0x2E(%a0)
		bpls	loc_28B5A
		movew	#3,0x2E(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_28B5A
		movel	#loc_28B72,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_TunnelExhaust,0xC(%a1)
		movew	#0x42EA,0xA(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x10,6(%a1)
		movew	#0x380,8(%a1)
		orib	#4,4(%a1)
		bset	#0,4(%a1)
		movew	#-0x800,0x18(%a1)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addqw	#1,%d0
		addw	%d0,%d0
		movew	%d0,0x2E(%a1)
		addiw	#0x10,0x10(%a1)
		moveb	#-0x3A,0x28(%a1)

loc_28B5A:
		subqw	#1,0x30(%a0)
		bpls	loc_28B6C
		movew	#0x78,0x30(%a0)
		eorib	#-1,0x32(%a0)

loc_28B6C:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_28B72:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#1,%d0
		bnes	loc_28B82
		bchg	#1,4(%a0)

loc_28B82:
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bpls	loc_28B94
		movew	#0x7FF0,0x10(%a0)

loc_28B94:
		moveb	0x29(%a0),%d0
		beqw	loc_28BB8
		lea	(Player_1):w,%a1
		bclr	#0,0x29(%a0)
		beqs	loc_28BAA
		bsrs	sub_28BBE

loc_28BAA:
		lea	(Player_2):w,%a1
		bclr	#1,0x29(%a0)
		beqs	loc_28BB8
		bsrs	sub_28BBE

loc_28BB8:
		jmp	(loc_19CC4):l

/*  =============== S U B R O U T I N E ======================================= */


sub_28BBE:
		tstb	0x2E(%a1)
		bnes	locret_28BFA
		movew	0x14(%a0),0x14(%a1)
		cmpiw	#-0x1000,0x18(%a1)
		beqs	locret_28BFA
		moveb	#0x1A,0x20(%a1)
		clrb	0x40(%a1)
		movew	#0,0x1C(%a1)
		movew	#-0x1000,0x18(%a1)
		movew	#0,0x1A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)

locret_28BFA:
		rts
/*  End of function sub_28BBE */

/*  --------------------------------------------------------------------------- */
Map_TunnelExhaust:
		.include "Levels/LBZ/Misc Object Data/Map - (&LRZ) Tunnel Exhaust.S"
/*  --------------------------------------------------------------------------- */

Obj_LBZTubeElevator:
		movel	#Map_LBZTubeElevator,0xC(%a0)
		movew	#0x2455,0xA(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x30,6(%a0)
		orib	#4,4(%a0)
		movew	#0x80,8(%a0)
		movew	0x10(%a0),0x44(%a0)
		movew	0x14(%a0),0x46(%a0)
		btst	#6,0x2C(%a0)
		beqs	loc_28C5E
		moveb	#0,0x22(%a0)
		moveb	#0,0x26(%a0)
		movel	#Obj_LBZTubeElevatorClosed,(%a0)
		bras	Obj_LBZTubeElevatorClosed
/*  --------------------------------------------------------------------------- */

loc_28C5E:
		jsr	(Create_New_Sprite3):l
		bnew	loc_28CAA
		movel	#loc_28D5E,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_LBZTubeElevator,0xC(%a1)
		movew	#0x2455,0xA(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		orib	#4,4(%a1)
		movew	#0x280,8(%a1)
		moveb	#6,0x22(%a1)
		movew	%a0,0x42(%a1)

loc_28CAA:
		moveb	#2,0x22(%a0)
		moveb	#2,0x26(%a0)
		movel	#Obj_LBZTubeElevatorActive,(%a0)

Obj_LBZTubeElevatorActive:
		bsrw	LBZTubeElevator_Action
		lea	(Player_1):w,%a1
		lea	0x38(%a0),%a2
		bsrw	LBZTubeElevator_CheckPlayer
		lea	(Player_2):w,%a1
		addqw	#1,%a2
		bsrw	LBZTubeElevator_CheckPlayer
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_LBZTubeElevatorClosed:
		lea	(Player_1):w,%a1
		btst	#3,0x2A(%a1)
		beqs	loc_28D00
		tstb	0x2E(%a1)
		beqs	loc_28D00
		moveaw	0x42(%a1),%a2
		cmpil	#Obj_LBZTubeElevatorActive,(%a2)
		bnes	loc_28D00
		movew	#0x7FF0,0x10(%a0)

loc_28D00:
		lea	0x2E(%a0),%a4
		addqb	#2,1(%a4)
		moveb	1(%a4),%d0
		cmpib	#-0x50,%d0
		bcss	loc_28D1C
		cmpib	#-0x30,%d0
		bccs	loc_28D1C
		addib	#0x20,%d0

loc_28D1C:
		moveb	%d0,1(%a4)
		jsr	(GetSineCosine):l
		cmpiw	#0x100,%d0
		bnes	loc_28D2E
		subqw	#1,%d0

loc_28D2E:
		asrw	#6,%d0
		movew	0x46(%a0),%d2
		subw	%d0,%d2
		movew	%d2,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_28D5E:
		moveaw	0x42(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		tstb	4(%a1)
		bpls	loc_28D88
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		moveb	byte_28D8E(%pc,%d0.w),%d0
		extw	%d0
		addw	0x10(%a1),%d0
		movew	%d0,0x10(%a0)

loc_28D88:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
byte_28D8E:	.byte 0
		.byte 0xF8
		.byte 0xF8
		.byte 0
		.byte 8
		.byte 8

/*  =============== S U B R O U T I N E ======================================= */


LBZTubeElevator_Action:
		lea	0x2E(%a0),%a4
		moveal	%a0,%a1
		moveq	#0,%d0
		moveb	(%a4),%d0
		movew	LBZTubeElevator_Index(%pc,%d0.w),%d0
		jmp	LBZTubeElevator_Index(%pc,%d0.w)
/*  End of function LBZTubeElevator_Action */

/*  --------------------------------------------------------------------------- */
LBZTubeElevator_Index:.word LBZTubeElevator_WaitPlayer-LBZTubeElevator_Index
		.word LBZTubeElevator_StartSpin-LBZTubeElevator_Index
		.word LBZTubeElevator_MovePath-LBZTubeElevator_Index
		.word LBZTubeElevator_SlowSpin-LBZTubeElevator_Index
		.word LBZTubeElevator_WaitExit-LBZTubeElevator_Index
		.word LBZTubeElevator_EndSpin-LBZTubeElevator_Index
		.word LBZTubeElevator_Closed-LBZTubeElevator_Index
/*  --------------------------------------------------------------------------- */

LBZTubeElevator_WaitPlayer:
		cmpiw	#0x200,0x38(%a0)
		beqs	loc_28DC4
		cmpiw	#0x202,0x38(%a0)
		bnes	loc_28DD0

loc_28DC4:
		addqb	#2,(%a4)
		moveq	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		bras	LBZTubeElevator_StartSpin
/*  --------------------------------------------------------------------------- */

loc_28DD0:
		addqb	#2,1(%a4)
		moveb	1(%a4),%d0
		cmpib	#-0x50,%d0
		bcss	loc_28DE8
		cmpib	#-0x30,%d0
		bccs	loc_28DE8
		addib	#0x20,%d0

loc_28DE8:
		moveb	%d0,1(%a4)
		jsr	(GetSineCosine):l
		cmpiw	#0x100,%d0
		bnes	loc_28DFA
		subqw	#1,%d0

loc_28DFA:
		asrw	#6,%d0
		movew	0x46(%a0),%d2
		subw	%d0,%d2
		movew	%d2,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		movew	#8,%d2
		movew	#0x20,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull_Offset):l
		rts
/*  --------------------------------------------------------------------------- */

LBZTubeElevator_StartSpin:
		movew	0x22(%a0),%d0
		subw	0x3C(%a0),%d0
		bccs	loc_28E32
		addiw	#0x600,%d0

loc_28E32:
		movew	%d0,0x22(%a0)
		movew	0x26(%a0),%d0
		subw	0x3C(%a0),%d0
		bccs	loc_28E44
		addiw	#0xC00,%d0

loc_28E44:
		movew	%d0,0x26(%a0)
		cmpiw	#0x180,0x3C(%a0)
		bccs	loc_28E8E
		addqw	#2,0x3C(%a0)

loc_28E54:
		moveb	1(%a4),%d0
		addqb	#2,1(%a4)
		jsr	(GetSineCosine):l
		asrw	#6,%d0
		movew	0x46(%a0),%d2
		subw	%d0,%d2
		movew	%d2,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		rts
/*  --------------------------------------------------------------------------- */

loc_28E8E:
		addqb	#2,(%a4)
		movew	#0x180,0x3C(%a0)
		clrb	1(%a4)
		bsrw	AutoTunnel_GetPath
		moveb	#1,(Fast_V_scroll_flag):w
		bras	loc_28E54
/*  --------------------------------------------------------------------------- */

LBZTubeElevator_MovePath:
		movew	0x22(%a0),%d0
		subw	0x3C(%a0),%d0
		bccs	loc_28EB4
		addiw	#0x600,%d0

loc_28EB4:
		movew	%d0,0x22(%a0)
		movew	0x26(%a0),%d0
		subw	0x3C(%a0),%d0
		bccs	loc_28EC6
		addiw	#0xC00,%d0

loc_28EC6:
		movew	%d0,0x26(%a0)
		subqb	#1,2(%a4)
		bhiw	loc_28F18
		moveal	6(%a4),%a2
		movew	(%a2)+,%d4
		movew	%d4,0x10(%a1)
		movew	(%a2)+,%d5
		movew	%d5,0x14(%a1)
		movel	%a2,6(%a4)
		subqw	#4,4(%a4)
		beqs	loc_28EF8
		movew	(%a2)+,%d4
		movew	(%a2)+,%d5
		movew	#0x1000,%d2
		braw	AutoTunnel_CalcSpeed
/*  --------------------------------------------------------------------------- */

loc_28EF8:
		addqb	#2,(%a4)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	0x14(%a0),0x46(%a0)
		clrb	1(%a4)
		moveb	#0,(Fast_V_scroll_flag):w
		rts
/*  --------------------------------------------------------------------------- */

loc_28F18:
		movel	0x10(%a1),%d2
		movel	0x14(%a1),%d3
		movew	0x18(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d2
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d3
		movel	%d2,0x10(%a1)
		movel	%d3,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

LBZTubeElevator_SlowSpin:
		movew	0x22(%a0),%d0
		subw	0x3C(%a0),%d0
		bccs	loc_28F4C
		addiw	#0x600,%d0

loc_28F4C:
		movew	%d0,0x22(%a0)
		movew	0x26(%a0),%d0
		subw	0x3C(%a0),%d0
		bccs	loc_28F5E
		addiw	#0xC00,%d0

loc_28F5E:
		movew	%d0,0x26(%a0)
		cmpiw	#8,0x3C(%a0)
		bnes	loc_28F86
		cmpib	#2,0x22(%a0)
		bnes	LBZTubeElevator_WaitExit
		addqb	#2,(%a4)
		movew	0x48(%a0),%d0
		beqs	loc_28F84
		moveaw	%d0,%a2
		bclr	#7,(%a2)
		clrw	0x48(%a0)

loc_28F84:
		bras	LBZTubeElevator_WaitExit
/*  --------------------------------------------------------------------------- */

loc_28F86:
		subqw	#4,0x3C(%a0)

LBZTubeElevator_WaitExit:
		addqb	#2,1(%a4)
		moveb	1(%a4),%d0
		cmpib	#-0x50,%d0
		bcss	loc_28FA2
		cmpib	#-0x30,%d0
		bccs	loc_28FA2
		addib	#0x20,%d0

loc_28FA2:
		moveb	%d0,1(%a4)
		jsr	(GetSineCosine):l
		cmpiw	#0x100,%d0
		bnes	loc_28FB4
		subqw	#1,%d0

loc_28FB4:
		asrw	#6,%d0
		movew	0x46(%a0),%d2
		subw	%d0,%d2
		movew	%d2,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		movew	#8,%d2
		movew	#0x20,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull_Offset):l
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	locret_28FEE
		addqb	#2,(%a4)
		moveb	#0,0x24(%a0)

locret_28FEE:
		rts
/*  --------------------------------------------------------------------------- */

LBZTubeElevator_EndSpin:
		subqb	#1,0x24(%a0)
		bpls	LBZTubeElevator_Closed
		moveb	#0xF,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#6,0x22(%a0)
		bcss	loc_29010
		moveb	#0,0x22(%a0)
		addqb	#2,(%a4)

loc_29010:
		addqb	#1,0x26(%a0)
		cmpib	#6,0x26(%a0)
		bcss	LBZTubeElevator_Closed
		moveb	#0,0x26(%a0)

LBZTubeElevator_Closed:
		addqb	#2,1(%a4)
		moveb	1(%a4),%d0
		cmpib	#-0x50,%d0
		bcss	loc_2903A
		cmpib	#-0x30,%d0
		bccs	loc_2903A
		addib	#0x20,%d0

loc_2903A:
		moveb	%d0,1(%a4)
		jsr	(GetSineCosine):l
		cmpiw	#0x100,%d0
		bnes	loc_2904C
		subqw	#1,%d0

loc_2904C:
		asrw	#6,%d0
		movew	0x46(%a0),%d2
		subw	%d0,%d2
		movew	%d2,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		rts

/*  =============== S U B R O U T I N E ======================================= */


LBZTubeElevator_CheckPlayer:
		moveb	(%a2),%d0
		bnew	loc_29128
		tstw	(Debug_placement_mode):w
		bnew	locret_29126
		cmpaw	#-0x4FB6,%a1
		bnes	loc_2909A
		btst	#4,0x2A(%a0)
		beqs	loc_2909A
		tstb	-1(%a2)
		bnes	loc_290D6

loc_2909A:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addqw	#3,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_290B0
		addiw	#0xA,%d0

loc_290B0:
		cmpiw	#0x10,%d0
		bccs	locret_29126
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addiw	#0x20,%d1
		cmpiw	#0x40,%d1
		bccs	locret_29126
		tstb	0x2E(%a1)
		bnes	locret_29126
		btst	#1,0x2A(%a1)
		bnes	locret_29126

loc_290D6:
		addqb	#2,(%a2)
		moveb	#-0x7D,0x2E(%a1)
		moveb	#0,0x20(%a1)
		clrb	0x40(%a1)
		movew	#0,0x1C(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		bclr	#5,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		bclr	#1,0x2A(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),%d0
		addiw	#0x18,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)

locret_29126:
		rts
/*  --------------------------------------------------------------------------- */

loc_29128:
		subqb	#2,%d0
		bnew	locret_291A2
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),%d0
		addiw	#0x18,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		cmpib	#8,0x2E(%a0)
		bnes	loc_2915E
		bset	#0,0x2A(%a1)
		moveb	#0,0x2E(%a1)
		addqb	#2,(%a2)

loc_2915E:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		moveb	LBZTubeElevator_PlayerFrame(%pc,%d0.w),0x22(%a1)
		andib	#-4,4(%a1)
		moveb	LBZTubeElevator_PlayerFlip(%pc,%d0.w),%d0
		orb	%d0,4(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  --------------------------------------------------------------------------- */
LBZTubeElevator_PlayerFrame:.byte 0x55
		.byte 0x59
		.byte 0x5A
		.byte 0x5B
		.byte 0x5A
		.byte 0x59
		.byte 0x55
		.byte 0x56
		.byte 0x57
		.byte 0x58
		.byte 0x57
		.byte 0x56
LBZTubeElevator_PlayerFlip:.byte	0
		.byte 1
		.byte 1
		.byte 0
		.byte 0
		.byte 0
		.byte 1
		.byte 1
		.byte 1
		.byte 0
		.byte 0
		.byte 0
/*  --------------------------------------------------------------------------- */

locret_291A2:
		rts
/*  End of function LBZTubeElevator_CheckPlayer */

/*  --------------------------------------------------------------------------- */
Map_LBZTubeElevator:
		.include "Levels/LBZ/Misc Object Data/Map - Tube Elevator.S"
word_29316:	.word 1
		.word 3
		.word 7
		.word 0xF
		.word 0x1F
		.word 0x3F
		.word 0x7F
		.word 0xFF
		.word 0x1FF
		.word 0x3FF
		.word 0x7FF
		.word 0xFFF
		.word 0x1FFF
		.word 0x3FFF
		.word 0x7FFF
		.word 0xFFFF
/*  --------------------------------------------------------------------------- */

Obj_AIZDisappearingFloor:
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF,%d0
		movew	%d0,%d2
		addw	%d0,%d0
		movew	word_29316(%pc,%d0.w),0x32(%a0)
		subqw	#3,%d2
		bccs	loc_29350
		moveq	#0,%d2

loc_29350:
		lsrw	#4,%d1
		andiw	#0xF,%d1
		lslw	%d2,%d1
		movew	%d1,0x34(%a0)
		movel	#Map_AIZDisappearingFloor,0xC(%a0)
		movew	#0x42E9,0xA(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		movew	(Level_frame_counter):w,%d0
		addw	0x34(%a0),%d0
		andw	0x32(%a0),%d0
		beqs	loc_293B4
		subiw	#0xC8,%d0
		bccs	loc_293B4
		negw	%d0
		moveb	%d0,0x24(%a0)
		moveb	#0,0x23(%a0)
		movew	#0x202,0x20(%a0)
		moveb	#5,0x22(%a0)

loc_293B4:
		movel	#loc_293BA,(%a0)

loc_293BA:
		movew	(Level_frame_counter):w,%d0
		addw	0x34(%a0),%d0
		andw	0x32(%a0),%d0
		bnew	loc_293E4
		movew	#0x100,0x20(%a0)
		moveb	#0,0x36(%a0)
		tstb	4(%a0)
		bpls	loc_293E4
		moveq	#sfx_WaterfallSplash,%d0
		jsr	(Play_Sound_2):l

loc_293E4:
		lea	(Ani_AIZDisappearingFloor):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		cmpib	#5,0x22(%a0)
		bnes	loc_2944A
		tstb	0x36(%a0)
		bnes	loc_2944A
		moveb	#1,0x36(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2944A
		movel	#loc_29450,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_AIZDisappearingFloor2,0xC(%a1)
		movew	#0x62E9,0xA(%a1)
		moveb	#0x28,7(%a1)
		moveb	#0x20,6(%a1)
		moveb	#4,4(%a1)
		movew	#0x200,8(%a1)
		movew	%a0,0x3C(%a1)

loc_2944A:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_29450:
		moveaw	0x3C(%a0),%a1
		cmpib	#3,0x22(%a1)
		bnes	loc_29462
		movew	#0x7FF0,0x10(%a0)

loc_29462:
		subqb	#1,0x24(%a0)
		bpls	loc_29478
		moveb	#3,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_29478:
		movew	#0x2B,%d1
		movew	#0x18,%d2
		movew	#0x19,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Ani_AIZDisappearingFloor:
		.include "Levels/AIZ/Misc Object Data/Anim - Disappearing Floor.S"
Map_AIZDisappearingFloor:
		.include "Levels/AIZ/Misc Object Data/Map - Disappearing Floor.S"
/*  --------------------------------------------------------------------------- */

Obj_CorkFloor:
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		movel	#Map_AIZCorkFloor,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x28,6(%a0)
		movel	#word_29AF0,0x3C(%a0)
		cmpiw	#1,(Current_zone_and_act):w
		bnes	loc_29684
		movel	#Map_AIZCorkFloor2,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x2C,6(%a0)

loc_29684:
		cmpib	#3,(Current_zone):w
		bnes	loc_296AE
		movel	#Map_CNZCorkFloor,0xC(%a0)
		movew	#0x4430,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_29B20,0x3C(%a0)

loc_296AE:
		cmpib	#5,(Current_zone):w
		bnes	loc_29702
		movel	#Map_ICZCorkFloor,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x24,6(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andib	#0xF,%d0
		moveb	%d0,0x22(%a0)
		andib	#0x10,%d1
		bnes	loc_296EE
		movel	#loc_29914,(%a0)
		braw	loc_29914
/*  --------------------------------------------------------------------------- */

loc_296EE:
		movel	#word_29AC4,0x3C(%a0)
		movew	#0x43B6,0xA(%a0)
		moveb	#0x10,6(%a0)

loc_29702:
		cmpib	#6,(Current_zone):w
		bnes	loc_2972C
		movel	#Map_LBZCorkFloor,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		movel	#word_29B20,0x3C(%a0)

loc_2972C:
		tstb	0x2C(%a0)
		bnes	loc_2973C
		movel	#loc_29858,(%a0)
		braw	loc_29858
/*  --------------------------------------------------------------------------- */

loc_2973C:
		movel	#loc_29742,(%a0)

loc_29742:
		movew	(Chain_bonus_counter):w,0x38(%a0)
		moveb	(Player_1+anim):w,0x34(%a0)
		moveb	(Player_2+anim):w,0x36(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveb	0x2A(%a0),%d0
		andiw	#0x18,%d0
		bnes	loc_29782

loc_2977C:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_29782:
		cmpib	#0x18,%d0
		bnes	loc_297B0
		cmpib	#2,0x34(%a0)
		beqs	loc_29798
		cmpib	#2,0x36(%a0)
		bnes	loc_2977C

loc_29798:
		lea	(Player_1):w,%a1
		moveb	0x34(%a0),%d0
		bsrs	sub_297C8
		lea	(Player_2):w,%a1
		moveb	0x36(%a0),%d0
		bsrs	sub_297C8
		braw	loc_29818
/*  --------------------------------------------------------------------------- */

loc_297B0:
		moveb	%d0,%d1
		andib	#8,%d1
		beqs	loc_29800
		cmpib	#2,0x34(%a0)
		bnes	loc_2977C
		lea	(Player_1):w,%a1
		bsrs	sub_297CE
		bras	loc_29818

/*  =============== S U B R O U T I N E ======================================= */


sub_297C8:
		cmpib	#2,%d0
		bnes	loc_297EC
/*  End of function sub_297C8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_297CE:
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		movew	#-0x300,0x1A(%a1)

loc_297EC:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		moveb	#2,5(%a1)
		rts
/*  End of function sub_297CE */

/*  --------------------------------------------------------------------------- */

loc_29800:
		andib	#0x10,%d0
		beqw	loc_2977C
		cmpib	#2,0x36(%a0)
		bnew	loc_2977C
		lea	(Player_2):w,%a1
		bsrs	sub_297CE

loc_29818:
		movew	0x38(%a0),(Chain_bonus_counter):w
		andib	#-0x19,0x2A(%a0)
		moveal	0x3C(%a0),%a4
		addqb	#1,0x22(%a0)
		movel	#loc_29838,(%a0)
		jsr	(sub_1F98C):l

loc_29838:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_29852
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_29852:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_29858:
		movew	(Player_1+y_vel):w,0x30(%a0)
		movew	(Player_2+y_vel):w,0x32(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		swap	%d6
		andiw	#0xC,%d6
		bnes	loc_29890
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_29890:
		moveb	%d6,%d0
		andib	#4,%d0
		beqs	loc_298B4
		lea	(Player_1):w,%a1
		movew	0x30(%a0),0x1A(%a1)
		andib	#8,%d6
		beqs	loc_298CC
		lea	(Player_2):w,%a1
		movew	0x32(%a0),0x1A(%a1)
		bras	loc_298CC
/*  --------------------------------------------------------------------------- */

loc_298B4:
		andib	#8,%d6
		beqs	loc_298C6
		lea	(Player_2):w,%a1
		movew	0x32(%a0),0x1A(%a1)
		bras	loc_298CC
/*  --------------------------------------------------------------------------- */

loc_298C6:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_298CC:
		btst	#3,0x2A(%a0)
		beqs	loc_298E4
		lea	(Player_1):w,%a1
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)

loc_298E4:
		btst	#4,0x2A(%a0)
		beqs	loc_298FC
		lea	(Player_2):w,%a1
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)

loc_298FC:
		moveal	0x3C(%a0),%a4
		addqb	#1,0x22(%a0)
		movel	#loc_29838,(%a0)
		jsr	(sub_1F98C):l
		braw	loc_29838
/*  --------------------------------------------------------------------------- */

loc_29914:
		movew	(Chain_bonus_counter):w,0x38(%a0)
		moveb	(Player_1+anim):w,0x34(%a0)
		moveb	(Player_2+anim):w,0x36(%a0)
		lea	(byte_29AD4):l,%a2
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	0x10(%a0),%d4
		jsr	(sub_1BB7C):l
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_29956

loc_29950:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_29956:
		cmpib	#0x18,%d0
		bnes	loc_299BA
		cmpib	#2,0x34(%a0)
		bnes	loc_29972
		tstb	0x2C(%a0)
		bmis	loc_299A2
		cmpib	#0xE,(Player_1+top_solid_bit):w
		beqs	loc_299A2

loc_29972:
		moveb	#0xC,(Player_1+top_solid_bit):w
		moveb	#0xD,(Player_1+lrb_solid_bit):w
		cmpib	#2,0x36(%a0)
		bnes	loc_29994
		tstb	0x2C(%a0)
		bmis	loc_299A2
		cmpib	#0xE,(Player_2+top_solid_bit):w
		beqs	loc_299A2

loc_29994:
		moveb	#0xC,(Player_2+top_solid_bit):w
		moveb	#0xD,(Player_2+lrb_solid_bit):w
		bras	loc_29950
/*  --------------------------------------------------------------------------- */

loc_299A2:
		lea	(Player_1):w,%a1
		moveb	0x34(%a0),%d0
		bsrs	sub_299F0
		lea	(Player_2):w,%a1
		moveb	0x36(%a0),%d0
		bsrs	sub_299F0
		braw	loc_29A56
/*  --------------------------------------------------------------------------- */

loc_299BA:
		moveb	%d0,%d1
		andib	#8,%d1
		beqs	loc_29A22
		cmpib	#2,0x34(%a0)
		bnes	loc_299D8
		tstb	0x2C(%a0)
		bmis	loc_299E8
		cmpib	#0xE,(Player_1+top_solid_bit):w
		beqs	loc_299E8

loc_299D8:
		moveb	#0xC,(Player_1+top_solid_bit):w
		moveb	#0xD,(Player_1+lrb_solid_bit):w
		braw	loc_29950
/*  --------------------------------------------------------------------------- */

loc_299E8:
		lea	(Player_1):w,%a1
		bsrs	sub_299F6
		bras	loc_29A56

/*  =============== S U B R O U T I N E ======================================= */


sub_299F0:
		cmpib	#2,%d0
		bnes	loc_29A0E
/*  End of function sub_299F0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_299F6:
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)

loc_29A0E:
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		moveb	#2,5(%a1)
		rts
/*  End of function sub_299F6 */

/*  --------------------------------------------------------------------------- */

loc_29A22:
		andib	#0x10,%d0
		beqw	loc_29950
		cmpib	#2,0x36(%a0)
		bnes	loc_29A40
		tstb	0x2C(%a0)
		bmis	loc_29A50
		cmpib	#0xE,(Player_2+top_solid_bit):w
		beqs	loc_29A50

loc_29A40:
		moveb	#0xC,(Player_2+top_solid_bit):w
		moveb	#0xD,(Player_2+lrb_solid_bit):w
		braw	loc_29950
/*  --------------------------------------------------------------------------- */

loc_29A50:
		lea	(Player_2):w,%a1
		bsrs	sub_299F6

loc_29A56:
		movew	0x38(%a0),(Chain_bonus_counter):w
		andib	#-0x19,0x2A(%a0)
		lea	(word_29A8C):l,%a4
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		addqb	#1,0x22(%a0)
		movel	%d0,%d1
		addw	%d0,%d0
		addw	%d0,%d0
		lea	(%a4,%d0.w),%a4
		movel	#loc_29838,(%a0)
		jsr	(sub_1F98C):l
		braw	loc_29838
/*  --------------------------------------------------------------------------- */
word_29A8C:	.word 0xFEC0,0xF600
		.word  0x140,0xF600
		.word 0xFEE0,0xF700
		.word  0x120,0xF700
		.word 0xFF00,0xF800
		.word  0x100,0xF800
		.word 0xFF20,0xF900
		.word   0xE0,0xF900
		.word 0xFF40,0xFA00
		.word   0xC0,0xFA00
		.word 0xFF60,0xFA80
		.word   0xA0,0xFA80
		.word 0xFF80,0xFB00
		.word   0x80,0xFB00
word_29AC4:	.word 0xFE00,0xFE00
		.word  0x200,0xFE00
		.word 0xFF00,0xFF00
		.word  0x100,0xFF00
byte_29AD4:	.byte 0x23, 0x23
		.byte 0x22, 0x22
		.byte 0x21, 0x21
		.byte 0x20, 0x1F
		.byte 0x1F, 0x1E
		.byte 0x1E, 0x1D
		.byte 0x1D, 0x1C
		.byte 0x1B, 0x1B
		.byte 0x1A, 0x1A
		.byte 0x19, 0x19
		.byte 0x17, 0x16
		.byte 0x15, 0x15
		.byte 0x14, 0x14
		.byte 0x13, 0x13
word_29AF0:	.word 0xFF00,0xFE00
		.word  0x100,0xFE00
		.word 0xFF20,0xFE40
		.word   0xE0,0xFE40
		.word 0xFF40,0xFE80
		.word   0xC0,0xFE80
		.word 0xFF60,0xFEC0
		.word   0xA0,0xFEC0
		.word 0xFF80,0xFF00
		.word   0x80,0xFF00
		.word 0xFFA0,0xFF40
		.word   0x60,0xFF40
word_29B20:	.word 0xFC00,0xFC00
		.word 0xFE00,0xFC00
		.word  0x200,0xFC00
		.word  0x400,0xFC00
		.word 0xFC40,0xFC40
		.word 0xFE40,0xFC40
		.word  0x1C0,0xFC40
		.word  0x3C0,0xFC40
		.word 0xFC80,0xFC80
		.word 0xFE80,0xFC80
		.word  0x180,0xFC80
		.word  0x380,0xFC80
		.word 0xFCC0,0xFCC0
		.word 0xFEC0,0xFCC0
		.word  0x140,0xFCC0
		.word  0x340,0xFCC0
Map_AIZCorkFloor:
		.include "Levels/AIZ/Misc Object Data/Map - Cork Floor.S"
Map_AIZCorkFloor2:
		.include "Levels/AIZ/Misc Object Data/Map - Cork Floor 2.S"
Map_CNZCorkFloor:
		.include "Levels/CNZ/Misc Object Data/Map - Cork Floor.S"
Map_ICZCorkFloor:
		.include "Levels/ICZ/Misc Object Data/Map - Cork Floor.S"
Map_LBZCorkFloor:
		.include "Levels/LBZ/Misc Object Data/Map - Cork Floor.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZFlippingBridge:
		movel	#Map_AIZFlippingBridge,0xC(%a0)
		movew	#0x42E9,0xA(%a0)
		moveb	#-0x80,7(%a0)
		moveb	#4,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		movew	0x14(%a0),0x30(%a0)
		movel	#word_2A126,0x32(%a0)
		moveb	0x2C(%a0),%d0
		bpls	loc_29FC2
		movel	#word_2A1A6,0x32(%a0)

loc_29FC2:
		moveb	%d0,%d1
		andiw	#0xF,%d0
		addiw	#0x10,%d0
		moveb	%d0,0x37(%a0)
		lsrb	#4,%d1
		andiw	#7,%d1
		moveb	%d1,0x25(%a0)
		moveq	#1,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_29FEA
		moveq	#-1,%d1
		subqb	#1,0x37(%a0)

loc_29FEA:
		moveb	%d1,0x36(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2A084
		movel	#loc_2A0AC,(%a1)
		movel	#Map_AIZFlippingBridge,0xC(%a1)
		movew	#0x42E9,0xA(%a1)
		moveb	#4,4(%a1)
		moveb	#-0x80,7(%a1)
		moveb	#0x40,6(%a1)
		movew	#0x200,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		bset	#6,4(%a1)
		movew	#8,0x16(%a1)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		subiw	#0x70,%d3
		addiw	#0x20,%d2
		movew	#8,%d4
		tstb	0x2C(%a0)
		bpls	loc_2A05E
		subiw	#0x10,%d2
		movew	#4,%d4

loc_2A05E:
		moveq	#0,%d1
		lea	0x18(%a1),%a2
		movew	0x16(%a1),%d6
		subqw	#1,%d6

loc_2A06A:
		movew	%d3,(%a2)+
		movew	%d2,(%a2)+
		movew	%d1,(%a2)+
		addqw	#2,%d1
		andiw	#0xF,%d1
		addiw	#0x20,%d3
		subw	%d4,%d2
		dbf	%d6,loc_2A06A
		movew	%a1,0x3C(%a0)

loc_2A084:
		movel	#loc_2A08A,(%a0)

loc_2A08A:
		moveaw	0x3C(%a0),%a3
		bsrw	sub_2A0B2
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveal	0x32(%a0),%a2
		movew	0x10(%a0),%d4
		jsr	(sub_2A226):l
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_2A0AC:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2A0B2:
		subqb	#1,0x24(%a0)
		bpls	locret_2A0FC
		moveb	0x25(%a0),0x24(%a0)
		lea	0x1D(%a3),%a2
		movew	0x16(%a3),%d6
		subqw	#1,%d6
		moveb	0x37(%a0),%d2
		moveb	0x36(%a0),%d1
		bmis	loc_2A0FE

loc_2A0D2:
		addb	%d1,(%a2)
		cmpb	(%a2),%d2
		bhis	loc_2A0DC
		moveb	#0,(%a2)

loc_2A0DC:
		addqw	#6,%a2
		dbf	%d6,loc_2A0D2
		tstb	4(%a3)
		bpls	locret_2A0FC
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#3,%d0
		andib	#7,%d0
		bnes	locret_2A0FC
		moveq	#sfx_GlideLand,%d0
		jsr	(Play_Sound_2):l

locret_2A0FC:
		rts
/*  --------------------------------------------------------------------------- */

loc_2A0FE:
		addb	%d1,(%a2)
		bcss	loc_2A104
		moveb	%d2,(%a2)

loc_2A104:
		addqw	#6,%a2
		dbf	%d6,loc_2A0FE
		tstb	4(%a3)
		bpls	locret_2A124
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#3,%d0
		andib	#7,%d0
		bnes	locret_2A124
		moveq	#sfx_GlideLand,%d0
		jsr	(Play_Sound_2):l

locret_2A124:
		rts
/*  End of function sub_2A0B2 */

/*  --------------------------------------------------------------------------- */
word_2A126:	.word  0xE4E4, 0xE4E4
		.word  0xE4E4, 0xE4E4
		.word  0xE4E4, 0xE4E4
		.word  0xE4E4, 0xE4E4
		.word  0xECEC, 0xECEC
		.word  0xECEC, 0xECEC
		.word  0xECEC, 0xECEC
		.word  0xECEC, 0xECEC
		.word  0xF4F4, 0xF4F4
		.word  0xF4F4, 0xF4F4
		.word  0xF4F4, 0xF4F4
		.word  0xF4F4, 0xF4F4
		.word  0xFCFC, 0xFCFC
		.word  0xFCFC, 0xFCFC
		.word  0xFCFC, 0xFCFC
		.word  0xFCFC, 0xFCFC
		.word   0x404,  0x404
		.word   0x404,  0x404
		.word   0x404,  0x404
		.word   0x404,  0x404
		.word   0xC0C,  0xC0C
		.word   0xC0C,  0xC0C
		.word   0xC0C,  0xC0C
		.word   0xC0C,  0xC0C
		.word  0x1414, 0x1414
		.word  0x1414, 0x1414
		.word  0x1414, 0x1414
		.word  0x1414, 0x1414
		.word  0x1C1C, 0x1C1C
		.word  0x1C1C, 0x1C1C
		.word  0x1C1C, 0x1C1C
		.word  0x1C1C, 0x1C1C
word_2A1A6:	.word  0xF4F4, 0xF4F4
		.word  0xF4F4, 0xF4F4
		.word  0xF4F4, 0xF4F4
		.word  0xF4F4, 0xF4F4
		.word  0xF8F8, 0xF8F8
		.word  0xF8F8, 0xF8F8
		.word  0xF8F8, 0xF8F8
		.word  0xF8F8, 0xF8F8
		.word  0xFCFC, 0xFCFC
		.word  0xFCFC, 0xFCFC
		.word  0xFCFC, 0xFCFC
		.word  0xFCFC, 0xFCFC
		.word      0,     0
		.word      0,     0
		.word      0,     0
		.word      0,     0
		.word   0x404,  0x404
		.word   0x404,  0x404
		.word   0x404,  0x404
		.word   0x404,  0x404
		.word   0x808,  0x808
		.word   0x808,  0x808
		.word   0x808,  0x808
		.word   0x808,  0x808
		.word   0xC0C,  0xC0C
		.word   0xC0C,  0xC0C
		.word   0xC0C,  0xC0C
		.word   0xC0C,  0xC0C
		.word  0x1010, 0x1010
		.word  0x1010, 0x1010
		.word  0x1010, 0x1010
		.word  0x1010, 0x1010

/*  =============== S U B R O U T I N E ======================================= */


sub_2A226:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_2A23C
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		addqb	#1,%d6
/*  End of function sub_2A226 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2A23C:
		btst	%d6,0x2A(%a0)
		beqs	loc_2A292
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_2A25E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_2A25E
		cmpw	%d2,%d0
		bcss	loc_2A272

loc_2A25E:
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_2A272:
		lsrw	#5,%d0
		addw	%d0,%d0
		movew	%d0,%d3
		addw	%d0,%d0
		addw	%d3,%d0
		moveb	0x1D(%a3,%d0.w),%d0
		cmpib	#5,%d0
		bcss	loc_2A25E
		movew	%d4,%d2
		jsr	(SolidObjSloped2):l
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_2A292:
		tstw	0x1A(%a1)
		bmis	locret_2A30E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	locret_2A30E
		addw	%d1,%d1
		cmpw	%d1,%d0
		bccs	locret_2A30E
		btst	#0,4(%a0)
		beqs	loc_2A2B6
		notw	%d0
		addw	%d1,%d0

loc_2A2B6:
		movew	%d0,%d4
		lsrw	#1,%d0
		moveb	(%a2,%d0.w),%d3
		extw	%d3
		movew	0x14(%a0),%d0
		subw	%d3,%d0
		movew	0x14(%a1),%d2
		moveb	0x1E(%a1),%d1
		extw	%d1
		addw	%d2,%d1
		addqw	#4,%d1
		subw	%d1,%d0
		bhis	locret_2A30E
		cmpiw	#-0x10,%d0
		bcss	locret_2A30E
		tstb	0x2E(%a1)
		bnes	locret_2A30E
		cmpib	#6,5(%a1)
		bccs	locret_2A30E
		lsrw	#5,%d4
		addw	%d4,%d4
		movew	%d4,%d1
		addw	%d4,%d4
		addw	%d1,%d4
		moveb	0x1D(%a3,%d4.w),%d4
		cmpib	#5,%d4
		bcss	locret_2A30E
		addw	%d0,%d2
		addqw	#3,%d2
		movew	%d2,0x14(%a1)
		jmp	(RideObject_SetRide):l
/*  --------------------------------------------------------------------------- */

locret_2A30E:
		rts
/*  End of function sub_2A23C */

/*  --------------------------------------------------------------------------- */
Map_AIZFlippingBridge:
		.include "Levels/AIZ/Misc Object Data/Map - Flipping Bridge.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZCollapsingLogBridge:
		moveb	0x2C(%a0),%d0
		bmiw	loc_2A470
		moveb	%d0,0x36(%a0)
		addib	#0x30,%d0
		moveb	%d0,0x35(%a0)
		moveb	#8,0x37(%a0)
		movel	#Map_AIZCollapsingLogBridge,0xC(%a0)
		movew	#0x42E9,0xA(%a0)
		moveb	#0x5A,7(%a0)
		moveb	#8,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2A466
		movel	#loc_2A57C,(%a1)
		movel	#Map_AIZCollapsingLogBridge,0xC(%a1)
		movew	#0x42E9,0xA(%a1)
		orib	#4,4(%a1)
		moveb	#0x5A,7(%a1)
		moveb	#8,6(%a1)
		movew	#0x200,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		bset	#6,4(%a1)
		movew	#6,0x16(%a1)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		subiw	#0x4B,%d3
		lea	0x18(%a1),%a2
		movew	0x16(%a1),%d6
		subqw	#1,%d6
		movew	#1,4(%a2)

loc_2A44E:
		movew	%d3,(%a2)+
		movew	%d2,(%a2)+
		addqw	#2,%a2
		addiw	#0x1E,%d3
		dbf	%d6,loc_2A44E
		movew	#2,-2(%a2)
		movew	%a1,0x3C(%a0)

loc_2A466:
		movel	#loc_2A538,(%a0)
		braw	loc_2A538
/*  --------------------------------------------------------------------------- */

loc_2A470:
		andib	#0x7F,%d0
		moveb	%d0,0x36(%a0)
		addib	#0x30,%d0
		moveb	%d0,0x35(%a0)
		moveb	#8,0x37(%a0)
		movel	#Map_AIZDrawBridgeFire,0xC(%a0)
		movew	#-0x3D17,0xA(%a0)
		moveb	#0x60,7(%a0)
		moveb	#8,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2A52E
		movel	#loc_2A57C,(%a1)
		movel	#Map_AIZDrawBridgeFire,0xC(%a1)
		movew	#-0x3D17,0xA(%a1)
		orib	#4,4(%a1)
		moveb	#0x60,7(%a1)
		moveb	#8,6(%a1)
		movew	#0x200,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		bset	#6,4(%a1)
		movew	#6,0x16(%a1)
		movew	0x14(%a0),%d2
		movew	0x10(%a0),%d3
		subiw	#0x50,%d3
		lea	0x18(%a1),%a2
		movew	0x16(%a1),%d6
		subqw	#1,%d6
		movew	#1,4(%a2)

loc_2A516:
		movew	%d3,(%a2)+
		movew	%d2,(%a2)+
		addqw	#2,%a2
		addiw	#0x20,%d3
		dbf	%d6,loc_2A516
		movew	#2,-2(%a2)
		movew	%a1,0x3C(%a0)

loc_2A52E:
		movel	#loc_2A5AA,(%a0)
		braw	loc_2A5AA
/*  --------------------------------------------------------------------------- */

loc_2A538:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_2A560
		moveb	0x35(%a0),0x34(%a0)
		moveb	0x36(%a0),%d2
		moveb	0x37(%a0),%d3
		movel	#loc_2A638,(%a0)
		movel	#loc_2A582,%d4
		bsrw	sub_2A6C6

loc_2A560:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	6(%a0),%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_2A57C:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2A582:
		tstb	0x34(%a0)
		beqs	loc_2A592
		subqb	#1,0x34(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2A592:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bpls	loc_2A5A4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2A5A4:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2A5AA:
		tstb	(_unkFAA2):w
		beqs	loc_2A5CE
		moveb	0x35(%a0),0x34(%a0)
		moveb	0x36(%a0),%d2
		moveb	0x37(%a0),%d3
		movel	#loc_2A638,(%a0)
		movel	#loc_2A5EA,%d4
		bsrw	sub_2A6C6

loc_2A5CE:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	6(%a0),%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_2A5EA:
		tstb	0x34(%a0)
		beqs	loc_2A602
		subqb	#1,0x34(%a0)
		bnes	loc_2A5FC
		moveb	#3,0x22(%a0)

loc_2A5FC:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2A602:
		subqb	#1,0x24(%a0)
		bpls	loc_2A620
		moveb	#3,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#8,0x22(%a0)
		bcss	loc_2A620
		moveb	#3,0x22(%a0)

loc_2A620:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bpls	loc_2A632
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2A632:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2A638:
		subqb	#1,0x34(%a0)
		bnes	loc_2A644
		movel	#loc_2AB1A,(%a0)

loc_2A644:
		moveb	0x34(%a0),%d3
		moveq	#0,%d1
		moveb	7(%a0),%d1
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrs	sub_2A664
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		bsrs	sub_2A664
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2A664:
		btst	%d6,0x2A(%a0)
		beqs	locret_2A6C4
		movew	%d1,%d2
		addw	%d2,%d2
		btst	#1,0x2A(%a1)
		bnes	loc_2A6A8
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_2A6A8
		cmpw	%d2,%d0
		bccs	loc_2A6A8
		btst	#0,0x2A(%a0)
		beqs	loc_2A692
		negw	%d0
		addw	%d2,%d0

loc_2A692:
		lsrw	#5,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		addw	%d0,%d0
		addb	0x36(%a0),%d0
		moveb	0x35(%a0),%d2
		subb	%d0,%d2
		cmpb	%d2,%d3
		bhis	locret_2A6C4

loc_2A6A8:
		bclr	%d6,0x2A(%a0)
		bclr	#3,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x21(%a1)

locret_2A6C4:
		rts
/*  End of function sub_2A664 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2A6C6:
		moveaw	0x3C(%a0),%a3
		lea	0x18(%a3),%a2
		movew	0x16(%a3),%d6
		subqw	#1,%d6
		bclr	#6,4(%a3)
		moveal	%a3,%a1
		bras	loc_2A6E6
/*  --------------------------------------------------------------------------- */

loc_2A6DE:
		jsr	(Create_New_Sprite3):l
		bnes	loc_2A724

loc_2A6E6:
		movel	%d4,(%a1)
		movel	0xC(%a3),0xC(%a1)
		moveb	4(%a3),4(%a1)
		movew	0xA(%a3),0xA(%a1)
		movew	8(%a3),8(%a1)
		moveb	7(%a3),7(%a1)
		moveb	6(%a3),6(%a1)
		movew	(%a2)+,0x10(%a1)
		movew	(%a2)+,0x14(%a1)
		movew	(%a2)+,%d0
		moveb	%d0,0x22(%a1)
		moveb	%d2,0x34(%a1)
		addb	%d3,%d2
		dbf	%d6,loc_2A6DE

loc_2A724:
		movew	#0,0x18(%a3)
		movew	#0,0x1A(%a3)
		moveq	#sfx_Collapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_2A6C6 */

/*  --------------------------------------------------------------------------- */
Map_AIZCollapsingLogBridge:
		.include "Levels/AIZ/Misc Object Data/Map - Collapsing Log Bridge.S"
Map_AIZDrawBridgeFire:
		.include "Levels/AIZ/Misc Object Data/Map - Draw Bridge Fire.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZDrawBridge:
		movel	#Map_AIZDrawBridge,0xC(%a0)
		movew	#-0x3D17,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#8,7(%a0)
		moveb	#0x60,6(%a0)
		orib	#-0x80,0x2A(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		subiw	#0x68,0x14(%a0)
		moveb	#-0x40,0x38(%a0)
		moveq	#-0x10,%d4
		btst	#1,0x2A(%a0)
		beqs	loc_2A84E
		addiw	#0xD0,0x14(%a0)
		moveb	#0x40,0x38(%a0)
		negw	%d4

loc_2A84E:
		movew	#0x200,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_2A85C
		negw	%d1

loc_2A85C:
		movew	%d1,0x34(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2A92E
		movel	#loc_2AA48,(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		movew	8(%a0),8(%a1)
		moveb	#4,4(%a1)
		bset	#6,4(%a1)
		moveb	#0x40,7(%a1)
		moveb	#0x40,6(%a1)
		movew	0x30(%a0),%d2
		movew	0x32(%a0),%d3
		moveq	#8,%d1
		movew	%d1,0x16(%a1)
		subqw	#1,%d1
		lea	0x18(%a1),%a2

loc_2A8AE:
		addw	%d4,%d3
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	#1,(%a2)+
		dbf	%d1,loc_2A8AE
		movew	0x30(%a1),0x10(%a1)
		movew	0x32(%a1),0x14(%a1)
		movew	%a1,0x3C(%a0)
		jsr	(Create_New_Sprite3):l
		bnes	loc_2A92E
		movel	#loc_2AA48,(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		movew	8(%a0),8(%a1)
		moveb	#4,4(%a1)
		bset	#6,4(%a1)
		moveb	#0x40,7(%a1)
		moveb	#0x40,6(%a1)
		moveq	#4,%d1
		movew	%d1,0x16(%a1)
		subqw	#1,%d1
		lea	0x18(%a1),%a2

loc_2A910:
		addw	%d4,%d3
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	#1,(%a2)+
		dbf	%d1,loc_2A910
		movew	0x18(%a1),0x10(%a1)
		movew	0x1A(%a1),0x14(%a1)
		movew	%a1,0x3E(%a0)

loc_2A92E:
		movel	#loc_2A934,(%a0)

loc_2A934:
		tstb	(_unkFAA3):w
		beqs	loc_2A978
		tstb	0x36(%a0)
		bnes	loc_2A978
		moveb	#1,0x36(%a0)
		moveq	#sfx_FlipBridge,%d0
		jsr	(Play_Sound_2):l
		movew	#0x68,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_2A95C
		negw	%d1

loc_2A95C:
		movew	0x30(%a0),0x10(%a0)
		movew	0x32(%a0),0x14(%a0)
		addw	%d1,0x10(%a0)
		moveb	#0x60,7(%a0)
		moveb	#8,6(%a0)

loc_2A978:
		tstb	0x36(%a0)
		beqs	loc_2A9AA
		tstb	0x38(%a0)
		beqs	loc_2A98C
		cmpib	#-0x80,0x38(%a0)
		bnes	loc_2A9A2

loc_2A98C:
		moveb	#0,0x36(%a0)
		moveq	#sfx_FlipBridge,%d0
		jsr	(Play_Sound_2):l
		movel	#loc_2A9B0,(%a0)
		bras	loc_2A9AA
/*  --------------------------------------------------------------------------- */

loc_2A9A2:
		movew	0x34(%a0),%d0
		addw	%d0,0x38(%a0)

loc_2A9AA:
		bsrw	sub_2AA4E
		bras	loc_2A9CC
/*  --------------------------------------------------------------------------- */

loc_2A9B0:
		tstb	(_unkFAA9):w
		beqs	loc_2A9CC
		movel	#loc_2AB1A,(%a0)
		moveb	#0xE,0x34(%a0)
		movel	#loc_2AAF2,%d4
		braw	loc_2AB60
/*  --------------------------------------------------------------------------- */

loc_2A9CC:
		movew	#0x13,%d1
		movew	#0x60,%d2
		movew	#0x61,%d3
		moveb	0x38(%a0),%d0
		beqs	loc_2A9EA
		cmpib	#0x40,%d0
		beqs	loc_2A9F6
		cmpib	#-0x40,%d0
		beqs	loc_2A9F6

loc_2A9EA:
		movew	#0x6B,%d1
		movew	#8,%d2
		movew	#8,%d3

loc_2A9F6:
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull2):l
		movew	0x30(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_2AA1A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AA1A:
		movew	0x3C(%a0),%d0
		beqs	loc_2AA28
		moveaw	%d0,%a1
		jsr	(Delete_Referenced_Sprite):l

loc_2AA28:
		movew	0x3E(%a0),%d0
		beqs	loc_2AA36
		moveaw	%d0,%a1
		jsr	(Delete_Referenced_Sprite):l

loc_2AA36:
		movew	0x48(%a0),%d0
		beqs	loc_2AA42
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2AA42:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AA48:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2AA4E:
		tstb	0x36(%a0)
		beqw	locret_2AAF0
		moveq	#0,%d0
		moveq	#0,%d1
		moveb	0x38(%a0),%d0
		jsr	(GetSineCosine):l
		movew	0x32(%a0),%d2
		movew	0x30(%a0),%d3
		moveq	#0,%d6
		moveaw	0x3C(%a0),%a1
		movew	0x16(%a1),%d6
		subqw	#1,%d6
		bcss	locret_2AAF0
		swap	%d0
		swap	%d1
		asrl	#4,%d0
		asrl	#4,%d1
		movel	%d0,%d4
		movel	%d1,%d5
		lea	0x18(%a1),%a2

loc_2AA8A:
		moveml	%d4-%d5,-(%sp)
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,(%a2)+
		movew	%d4,(%a2)+
		moveml	(%sp)+,%d4-%d5
		addl	%d0,%d4
		addl	%d1,%d5
		addqw	#2,%a2
		dbf	%d6,loc_2AA8A
		movew	0x30(%a1),0x10(%a1)
		movew	0x32(%a1),0x14(%a1)
		moveq	#0,%d6
		moveaw	0x3E(%a0),%a1
		movew	0x16(%a1),%d6
		subqw	#1,%d6
		bcss	locret_2AAF0
		lea	0x18(%a1),%a2

loc_2AAC6:
		moveml	%d4-%d5,-(%sp)
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,(%a2)+
		movew	%d4,(%a2)+
		moveml	(%sp)+,%d4-%d5
		addl	%d0,%d4
		addl	%d1,%d5
		addqw	#2,%a2
		dbf	%d6,loc_2AAC6
		movew	0x18(%a1),0x10(%a1)
		movew	0x1A(%a1),0x14(%a1)

locret_2AAF0:
		rts
/*  End of function sub_2AA4E */

/*  --------------------------------------------------------------------------- */

loc_2AAF2:
		tstb	0x34(%a0)
		beqs	loc_2AB02
		subqb	#1,0x34(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AB02:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bpls	loc_2AB14
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AB14:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AB1A:
		tstb	0x34(%a0)
		beqs	loc_2AB26
		subqb	#1,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2AB26:
		bclr	#3,0x2A(%a0)
		beqs	loc_2AB40
		bclr	#3,(Player_1+status):w
		bset	#1,(Player_1+status):w
		moveb	#0x1B,(Player_1+anim):w

loc_2AB40:
		bclr	#4,0x2A(%a0)
		beqs	loc_2AB5A
		bclr	#3,(Player_2+status):w
		bset	#1,(Player_2+status):w
		moveb	#0x1B,(Player_2+anim):w

loc_2AB5A:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AB60:
		movew	0x3C(%a0),%d0
		beqs	loc_2AB6A
		moveaw	%d0,%a3
		bsrs	sub_2AB76

loc_2AB6A:
		movew	0x3E(%a0),%d0
		beqs	locret_2AB74
		moveaw	%d0,%a3
		bsrs	sub_2AB76

locret_2AB74:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_2AB76:
		lea	(byte_2AC10):l,%a4
		lea	0x18(%a3),%a2
		movew	0x16(%a3),%d6
		subqw	#1,%d6
		bclr	#6,4(%a3)
		moveal	%a3,%a1
		bras	loc_2AB98
/*  --------------------------------------------------------------------------- */

loc_2AB90:
		jsr	(Create_New_Sprite3):l
		bnes	loc_2ABFC

loc_2AB98:
		movel	%d4,(%a1)
		movel	0xC(%a3),0xC(%a1)
		moveb	4(%a3),4(%a1)
		movew	0xA(%a3),0xA(%a1)
		movew	8(%a3),8(%a1)
		moveb	7(%a3),7(%a1)
		moveb	6(%a3),6(%a1)
		movew	8(%a3),8(%a1)
		movew	(%a2)+,0x10(%a1)
		movew	(%a2)+,0x14(%a1)
		movew	(%a2)+,%d0
		moveb	%d0,0x22(%a1)
		moveb	(%a4)+,0x34(%a1)
		moveal	%a1,%a5
		jsr	(Create_New_Sprite3):l
		bnes	loc_2ABFC
		movel	#loc_1C31E,(%a1)
		movew	0x10(%a5),0x10(%a1)
		movew	0x14(%a5),0x14(%a1)
		moveb	-1(%a4),0x24(%a1)
		dbf	%d6,loc_2AB90

loc_2ABFC:
		movew	#0,0x18(%a3)
		movew	#0,0x1A(%a3)
		moveq	#sfx_BridgeCollapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_2AB76 */

/*  --------------------------------------------------------------------------- */
byte_2AC10:	.byte 8
		.byte 0x10
		.byte 0xC
		.byte 0xE
		.byte 6
		.byte 0xA
		.byte 4
		.byte 2
		.byte 8
		.byte 0x10
		.byte 0xC
		.byte 0xE
		.byte 6
		.byte 0xA
		.byte 4
		.byte 2
Map_AIZDrawBridge:
		.include "Levels/AIZ/Misc Object Data/Map - Drawbridge.S"
word_2AC2E:	.word 1
		.word 3
		.word 7
		.word 0xF
		.word 0x1F
		.word 0x3F
		.word 0x7F
		.word 0xFF
		.word 0x1FF
		.word 0x3FF
		.word 0x7FF
		.word 0xFFF
		.word 0x1FFF
		.word 0x3FFF
		.word 0x7FFF
		.word 0xFFFF
/*  --------------------------------------------------------------------------- */

Obj_AIZFallingLog:
		cmpiw	#0x26B0,0x10(%a0)
		beqs	loc_2AC5E
		cmpiw	#0x2700,0x10(%a0)
		bnes	loc_2AC6A

loc_2AC5E:
		tstb	(Level_trigger_array):w
		beqs	loc_2AC6A
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2AC6A:
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF,%d0
		movew	%d0,%d2
		addw	%d0,%d0
		movew	word_2AC2E(%pc,%d0.w),0x32(%a0)
		subqw	#3,%d2
		bccs	loc_2AC84
		moveq	#0,%d2

loc_2AC84:
		lsrw	#4,%d1
		andiw	#0xF,%d1
		lslw	%d2,%d1
		movew	%d1,0x34(%a0)
		moveb	#4,4(%a0)
		movel	#loc_2AC9C,(%a0)

loc_2AC9C:
		movew	(Level_frame_counter):w,%d0
		addw	0x34(%a0),%d0
		andw	0x32(%a0),%d0
		bnew	loc_2AD62
		jsr	(Create_New_Sprite3):l
		bnew	loc_2AD62
		movel	#loc_2AD68,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_AIZFallingLog2,0xC(%a1)
		movew	#0x42E9,0xA(%a1)
		tstb	(Current_act):w
		bnes	loc_2ACEA
		movel	#Map_AIZFallingLog,0xC(%a1)
		movew	#0x43CF,0xA(%a1)

loc_2ACEA:
		moveb	#0x18,7(%a1)
		moveb	#8,6(%a1)
		moveb	#4,4(%a1)
		movew	#0x280,8(%a1)
		moveal	%a1,%a2
		jsr	(Create_New_Sprite3):l
		bnew	loc_2AD62
		movel	#loc_2ADF4,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	#Map_AIZFallingLogSplash2,0xC(%a1)
		movew	#0x62E9,0xA(%a1)
		tstb	(Current_act):w
		bnes	loc_2AD42
		movel	#Map_AIZFallingLogSplash,0xC(%a1)
		movew	#0x43CF,0xA(%a1)

loc_2AD42:
		moveb	#0x20,7(%a1)
		moveb	#0x10,6(%a1)
		moveb	#4,4(%a1)
		movew	#0x200,8(%a1)
		movew	%a2,0x3C(%a1)
		movew	%a1,0x3C(%a2)

loc_2AD62:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_2AD68:
		addqw	#1,0x14(%a0)
		movew	0x14(%a0),%d0
		cmpw	(Water_level):w,%d0
		bcss	loc_2AD82
		movel	#loc_2AD84,(%a0)
		moveb	#0x3B,0x24(%a0)

loc_2AD82:
		bras	loc_2ADA0
/*  --------------------------------------------------------------------------- */

loc_2AD84:
		subqb	#1,0x24(%a0)
		bpls	loc_2AD90
		movew	#0x7FF0,0x10(%a0)

loc_2AD90:
		moveb	0x24(%a0),%d0
		andib	#3,%d0
		bnes	loc_2ADA0
		bchg	#0,0x36(%a0)

loc_2ADA0:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#8,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_2ADD4
		tstb	0x36(%a0)
		bnes	locret_2ADD2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_2ADD2:
		rts
/*  --------------------------------------------------------------------------- */

loc_2ADD4:
		movew	0x3C(%a0),%d0
		beqs	loc_2ADE2
		moveaw	%d0,%a1
		jsr	(Delete_Referenced_Sprite):l

loc_2ADE2:
		movew	0x48(%a0),%d0
		beqs	loc_2ADEE
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2ADEE:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2ADF4:
		moveaw	0x3C(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		subqb	#1,0x24(%a0)
		bpls	loc_2AE1A
		moveb	#3,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_2AE1A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_AIZFallingLog2:
		.include "Levels/AIZ/Misc Object Data/Map - Falling Log 2.S"
Map_AIZFallingLog:
		.include "Levels/AIZ/Misc Object Data/Map - Falling Log.S"
Map_AIZFallingLogSplash2:
		.include "Levels/AIZ/Misc Object Data/Map - Falling Log Splash 2.S"
Map_AIZFallingLogSplash:
		.include "Levels/AIZ/Misc Object Data/Map - Falling Log Splash.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZSpikedLog:
		movel	#Map_AIZSpikedLog,0xC(%a0)
		movew	#0x42E9,0xA(%a0)
		moveb	#0x18,7(%a0)
		moveb	#8,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x200,8(%a0)
		movew	0x14(%a0),0x30(%a0)
		moveb	(Water_entered_counter):w,0x36(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2AF76
		movel	#loc_2B0B6,(%a1)
		moveb	#4,4(%a1)
		moveb	#-0x64,0x28(%a1)
		movew	%a0,0x3C(%a1)
		movew	%a1,0x3C(%a0)

loc_2AF76:
		movel	#loc_2AF7C,(%a0)

loc_2AF7C:
		tstb	0x34(%a0)
		bmis	loc_2AFB0
		moveb	0x36(%a0),%d0
		cmpb	(Water_entered_counter):w,%d0
		beqs	loc_2AF9A
		moveb	(Water_entered_counter):w,0x36(%a0)
		moveb	#-0x7F,0x34(%a0)
		bras	loc_2AFB0
/*  --------------------------------------------------------------------------- */

loc_2AF9A:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_2AFB0
		tstb	0x32(%a0)
		beqs	loc_2AFE2
		subqb	#4,0x32(%a0)
		bras	loc_2AFE2
/*  --------------------------------------------------------------------------- */

loc_2AFB0:
		tstb	0x34(%a0)
		bnes	loc_2AFCE
		moveb	0x23(%a0),0x35(%a0)
		moveb	#0,0x23(%a0)
		moveb	#0,0x24(%a0)
		moveb	#1,0x34(%a0)

loc_2AFCE:
		cmpib	#0x40,0x32(%a0)
		beqs	loc_2AFDC
		addqb	#4,0x32(%a0)
		bras	loc_2AFE2
/*  --------------------------------------------------------------------------- */

loc_2AFDC:
		andib	#0x7F,0x34(%a0)

loc_2AFE2:
		moveb	0x32(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#5,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)
		tstb	0x34(%a0)
		beqs	loc_2B02C
		subqb	#1,0x24(%a0)
		bpls	loc_2B05E
		moveb	#3,0x24(%a0)
		subqb	#1,0x22(%a0)
		andib	#0xF,0x22(%a0)
		addqb	#1,0x23(%a0)
		cmpib	#0x10,0x23(%a0)
		bcss	loc_2B05E
		moveb	0x35(%a0),0x23(%a0)
		moveb	#0,0x34(%a0)
		bras	loc_2B05E
/*  --------------------------------------------------------------------------- */

loc_2B02C:
		subqb	#1,0x24(%a0)
		bpls	loc_2B05E
		moveb	#0x17,0x24(%a0)
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqb	#1,0x23(%a0)
		moveb	byte_2B056(%pc,%d0.w),0x22(%a0)
		moveb	byte_2B057(%pc,%d0.w),%d0
		bpls	loc_2B054
		moveb	#0,0x23(%a0)

loc_2B054:
		bras	loc_2B05E
/*  --------------------------------------------------------------------------- */
byte_2B056:	.byte 7
byte_2B057:	.byte 8
		.byte 9
		.byte 0xA
		.byte 9
		.byte 8
		.byte 0xFF
		.byte 0
/*  --------------------------------------------------------------------------- */

loc_2B05E:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_2B096
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2B096:
		movew	0x3C(%a0),%d0
		beqs	loc_2B0A4
		moveaw	%d0,%a1
		jsr	(Delete_Referenced_Sprite):l

loc_2B0A4:
		movew	0x48(%a0),%d0
		beqs	loc_2B0B0
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2B0B0:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2B0B6:
		moveaw	0x3C(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		moveb	byte_2B0E0(%pc,%d0.w),%d0
		beqs	locret_2B0DE
		extw	%d0
		addw	%d0,0x14(%a0)
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

locret_2B0DE:
		rts
/*  --------------------------------------------------------------------------- */
byte_2B0E0:	.byte 0xF4
		.byte 0xF4
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0xC
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0xF4
Map_AIZSpikedLog:
		.include "Levels/AIZ/Misc Object Data/Map - Spiked Log.S"
/*  --------------------------------------------------------------------------- */

Obj_StillSprite:
		movel	#Map_StillSprites,0xC(%a0)
		orib	#4,4(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	word_2B31A(%pc,%d0.w),%a1
		movew	(%a1)+,0xA(%a0)
		movew	(%a1)+,8(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movel	#loc_2B314,(%a0)

loc_2B314:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
word_2B31A:	.word 0x42E9
		.word 0x300
		.byte 0xC
		.byte 0xC
		.word 0x42E9
		.word 0x300
		.byte 0x10
		.byte 8
		.word 0x42E9
		.word 0x300
		.byte 8
		.byte 4
		.word 0x4001
		.word 0x300
		.byte 8
		.byte 8
		.word 0x6001
		.word 0x300
		.byte 8
		.byte 0x20
		.word 0xC2E9
		.word 0x300
		.byte 0xC
		.byte 0xC
		.word 0xC001
		.word 0
		.byte 0x40
		.byte 0x40
		.word 0xC001
		.word 0
		.byte 0x40
		.byte 0x20
		.word 0x4001
		.word 0x300
		.byte 0x40
		.byte 0x10
		.word 0xC001
		.word 0
		.byte 0x40
		.byte 0x40
		.word 0xC001
		.word 0
		.byte 0x40
		.byte 0x60
		.word 0x4451
		.word 0x300
		.byte 0x10
		.byte 0x18
		.word 0x4451
		.word 0x300
		.byte 0x10
		.byte 0x18
		.word 0x4451
		.word 0x300
		.byte 0x10
		.byte 0x18
		.word 0x4451
		.word 0x300
		.byte 0x10
		.byte 0x18
		.word 0xC368
		.word 0
		.byte 8
		.byte 0x30
		.word 0xC379
		.word 0
		.byte 0x30
		.byte 0x18
		.word 0xC399
		.word 0
		.byte 0xC
		.byte 0x10
		.word 0xC3A4
		.word 0
		.byte 0x20
		.byte 0x34
		.word 0x4038
		.word 0x300
		.byte 4
		.byte 0x10
		.word 0x440D
		.word 0x300
		.byte 8
		.byte 8
		.word 0x2433
		.word 0x300
		.byte 0x10
		.byte 0x40
		.word 0x2433
		.word 0x300
		.byte 0x10
		.byte 0x80
		.word 0x2433
		.word 0x80
		.byte 0x10
		.byte 0x40
Map_StillSprites:
		.include "Levels/Misc/Map - Still Sprites S3.S"
/*  --------------------------------------------------------------------------- */

Obj_AnimatedStillSprite:
		movel	#Map_AnimatedStillSprites,0xC(%a0)
		orib	#4,4(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x20(%a0)
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	word_2B6B6(%pc,%d0.w),%a1
		movew	(%a1)+,0xA(%a0)
		movew	(%a1)+,8(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movel	#loc_2B6A4,(%a0)

loc_2B6A4:
		lea	(Ani_AnimatedStillSprites):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
word_2B6B6:	.word 0x62E9
		.word 0x300
		.byte 8
		.byte 0xC
		.word 0x62E9
		.word 0x300
		.byte 8
		.byte 0xC
Ani_AnimatedStillSprites:
		.include "Levels/Misc/Anim - Animated Still Sprites S3.S"
Map_AnimatedStillSprites:
		.include "Levels/Misc/Map - Animated Still Sprites S3.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZForegroundPlant:
		movel	#Map_AIZForegroundPlant,0xC(%a0)
		orib	#4,4(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	word_2B780(%pc,%d0.w),%a1
		movew	(%a1)+,0xA(%a0)
		movew	(%a1)+,8(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	0x2C(%a0),%d0
		lsrw	#2,%d0
		andiw	#0x3C,%d0
		movel	off_2B78C(%pc,%d0.w),(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_2B780:	.word 0xC333
		.word 0
		.byte 0x20
		.byte 0x30
		.word 0xC333
		.word 0
		.byte 0x20
		.byte 0x3C
off_2B78C:	.long loc_2B7A8
		.long loc_2B7AE
		.long loc_2B7E4
		.long loc_2B81A
		.long loc_2B850
		.long loc_2B886
		.long loc_2B8B8
/*  --------------------------------------------------------------------------- */

loc_2B7A8:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2B7AE:
		movew	0x30(%a0),%d1
		movew	%d1,%d2
		subiw	#0xA0,%d1
		subw	(Camera_X_pos):w,%d1
		asrw	#4,%d1
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	0x32(%a0),%d1
		movew	%d1,%d2
		subiw	#0x70,%d1
		subw	(Camera_Y_pos):w,%d1
		asrw	#4,%d1
		addw	%d2,%d1
		movew	%d1,0x14(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_2B7E4:
		movew	0x30(%a0),%d1
		movew	%d1,%d2
		subiw	#0xA0,%d1
		subw	(Camera_X_pos):w,%d1
		asrw	#3,%d1
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	0x32(%a0),%d1
		movew	%d1,%d2
		subiw	#0x70,%d1
		subw	(Camera_Y_pos):w,%d1
		asrw	#3,%d1
		addw	%d2,%d1
		movew	%d1,0x14(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_2B81A:
		movew	0x30(%a0),%d1
		movew	%d1,%d2
		subiw	#0xA0,%d1
		subw	(Camera_X_pos):w,%d1
		asrw	#2,%d1
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	0x32(%a0),%d1
		movew	%d1,%d2
		subiw	#0x70,%d1
		subw	(Camera_Y_pos):w,%d1
		asrw	#2,%d1
		addw	%d2,%d1
		movew	%d1,0x14(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_2B850:
		movew	0x30(%a0),%d1
		movew	%d1,%d2
		subiw	#0xA0,%d1
		subw	(Camera_X_pos):w,%d1
		asrw	#1,%d1
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	0x32(%a0),%d1
		movew	%d1,%d2
		subiw	#0x70,%d1
		subw	(Camera_Y_pos):w,%d1
		asrw	#1,%d1
		addw	%d2,%d1
		movew	%d1,0x14(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_2B886:
		movew	0x30(%a0),%d1
		movew	%d1,%d2
		subiw	#0xA0,%d1
		subw	(Camera_X_pos):w,%d1
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	0x32(%a0),%d1
		movew	%d1,%d2
		subiw	#0x70,%d1
		subw	(Camera_Y_pos):w,%d1
		addw	%d2,%d1
		movew	%d1,0x14(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_2B8B8:
		movew	0x30(%a0),%d1
		movew	%d1,%d2
		subiw	#0xA0,%d1
		subw	(Camera_X_pos):w,%d1
		addw	%d1,%d1
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	0x32(%a0),%d1
		movew	%d1,%d2
		subiw	#0x70,%d1
		subw	(Camera_Y_pos):w,%d1
		addw	%d2,%d1
		movew	%d1,0x14(%a0)
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */
Map_AIZForegroundPlant:
		.include "Levels/AIZ/Misc Object Data/Map - Foreground Plant.S"
/*  --------------------------------------------------------------------------- */

Obj_AIZ2FGTree:
		movel	#Map_AIZ2FGTree,0xC(%a0)
		orib	#4,4(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		lea	word_2B994(%pc,%d0.w),%a1
		movew	(%a1)+,0xA(%a0)
		movew	(%a1)+,8(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movel	#loc_2B98E,(%a0)

loc_2B98E:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
word_2B994:	.word 0x4438
		.word 0x300
		.byte 8
		.byte 0x40
Map_AIZ2FGTree:	.include "Levels/AIZ/Misc Object Data/Map - Act 2 Foreground Tree.S"
/*  --------------------------------------------------------------------------- */

Obj_31_1:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,0x32(%a0)
		negw	%d0
		movew	%d0,0x30(%a0)
		moveb	#-0x80,7(%a0)
		movel	#loc_2B9D2,(%a0)

loc_2B9D2:
		lea	(Player_1):w,%a1
		lea	(_unkF7B0+2):w,%a2
		moveq	#3,%d6
		bsrs	sub_2B9F0
		lea	(Player_2):w,%a1
		lea	(_unkF7B0+3):w,%a2
		addqb	#1,%d6
		bsrs	sub_2B9F0
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2B9F0:
		btst	%d6,0x2A(%a0)
		bnew	loc_2BA76
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		cmpw	0x30(%a0),%d0
		blts	locret_2BA74
		cmpw	0x32(%a0),%d0
		bges	locret_2BA74
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addiw	#0x53,%d0
		cmpiw	#0xA6,%d0
		bccs	locret_2BA74
		cmpiw	#0x53,%d0
		bccs	loc_2BA2C
		tstw	0x1A(%a1)
		bmis	locret_2BA74
		bras	loc_2BA34
/*  --------------------------------------------------------------------------- */

loc_2BA2C:
		cmpiw	#0x38,0x1A(%a1)
		bgts	locret_2BA74

loc_2BA34:
		cmpib	#6,5(%a1)
		bccs	locret_2BA74
		tstw	(Debug_placement_mode):w
		bnes	locret_2BA74
		cmpiw	#8,%d0
		bccs	loc_2BA4C
		moveb	#-0x7F,(%a2)

loc_2BA4C:
		cmpiw	#0x9E,%d0
		bcss	loc_2BA56
		moveb	#1,(%a2)

loc_2BA56:
		jsr	(RideObject_SetRide):l
		moveb	#-0x80,0x2D(%a1)
		movew	#1,0x20(%a1)
		tstw	0x1C(%a1)
		bnes	locret_2BA74
		movew	#1,0x1C(%a1)

locret_2BA74:
		rts
/*  --------------------------------------------------------------------------- */

loc_2BA76:
		btst	#1,0x2A(%a1)
		bnes	loc_2BAB0
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		cmpw	0x30(%a0),%d0
		blts	loc_2BA92
		cmpw	0x32(%a0),%d0
		blts	loc_2BAC2

loc_2BA92:
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		bset	#1,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_2BAB0:
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		bmis	loc_2BA92
		movew	#0x400,0x1A(%a1)
		bras	loc_2BA92
/*  --------------------------------------------------------------------------- */

loc_2BAC2:
		btst	#3,0x2A(%a1)
		beqs	locret_2BA74
		moveb	(%a2),%d0
		jsr	(GetSineCosine):l
		moveq	#0,%d2
		moveb	0x1E(%a1),%d2
		lslw	#8,%d2
		addiw	#0x4000,%d2
		mulsw	%d2,%d1
		swap	%d1
		addw	0x14(%a0),%d1
		movew	%d1,0x14(%a1)
		moveb	(%a2),%d0
		addib	#-0x80,%d0
		moveb	%d0,0x27(%a1)
		addqb	#2,(%a2)
		moveb	#-0x80,0x2D(%a1)
		tstw	0x1C(%a1)
		bnes	loc_2BB0E
		movew	#1,0x1C(%a1)
		moveb	#-0x7F,0x2D(%a1)

loc_2BB0E:
		bset	#7,0xA(%a1)
		tstb	%d0
		bpls	locret_2BB1E
		bclr	#7,0xA(%a1)

locret_2BB1E:
		rts
/*  End of function sub_2B9F0 */

/*  --------------------------------------------------------------------------- */

Obj_Button:
		tstw	(Competition_mode):w
		bnew	loc_2BC68
		movel	#Map_Button,0xC(%a0)
		movew	#0x456,0xA(%a0)
		cmpib	#1,(Current_zone):w
		bnes	loc_2BB4C
		movel	#Map_Button2,0xC(%a0)
		movew	#0x2426,0xA(%a0)

loc_2BB4C:
		cmpib	#3,(Current_zone):w
		bnes	loc_2BB62
		movel	#Map_CNZButton,0xC(%a0)
		movew	#0x441A,0xA(%a0)

loc_2BB62:
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		movew	#0x200,8(%a0)
		addqw	#4,0x14(%a0)
		btst	#5,0x2C(%a0)
		beqs	loc_2BB8A
		movel	#loc_2BBFE,(%a0)
		braw	loc_2BBFE
/*  --------------------------------------------------------------------------- */

loc_2BB8A:
		movel	#loc_2BB90,(%a0)

loc_2BB90:
		tstb	4(%a0)
		bpls	loc_2BBF8
		movew	#0x1B,%d1
		movew	#4,%d2
		movew	#5,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveb	#0,0x22(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		moveq	#0,%d3
		btst	#6,0x2C(%a0)
		beqs	loc_2BBCE
		moveq	#7,%d3

loc_2BBCE:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_2BBE4
		btst	#4,0x2C(%a0)
		bnes	loc_2BBF8
		bclr	%d3,(%a3)
		bras	loc_2BBF8
/*  --------------------------------------------------------------------------- */

loc_2BBE4:
		tstb	(%a3)
		bnes	loc_2BBF0
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l

loc_2BBF0:
		bset	%d3,(%a3)
		moveb	#1,0x22(%a0)

loc_2BBF8:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2BBFE:
		tstb	4(%a0)
		bpls	loc_2BC62
		movew	#0x10,%d1
		movew	#6,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		moveb	#0,0x22(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		moveq	#0,%d3
		btst	#6,0x2C(%a0)
		beqs	loc_2BC38
		moveq	#7,%d3

loc_2BC38:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_2BC4E
		btst	#4,0x2C(%a0)
		bnes	loc_2BC62
		bclr	%d3,(%a3)
		bras	loc_2BC62
/*  --------------------------------------------------------------------------- */

loc_2BC4E:
		tstb	(%a3)
		bnes	loc_2BC5A
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l

loc_2BC5A:
		bset	%d3,(%a3)
		moveb	#1,0x22(%a0)

loc_2BC62:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2BC68:
		movel	#Map_2PButton,0xC(%a0)
		movew	#0x3AD,0xA(%a0)
		moveb	#4,4(%a0)
		moveb	#0xC,7(%a0)
		movew	#0x200,8(%a0)
		addqw	#4,0x14(%a0)
		movel	#loc_2BC92,(%a0)

loc_2BC92:
		movew	#0x13,%d1
		movew	#4,%d2
		movew	#5,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveb	#0,0x22(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		moveq	#0,%d3
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_2BCD6
		btst	#4,0x2C(%a0)
		bnes	loc_2BCEA
		bclr	%d3,(%a3)
		bras	loc_2BCEA
/*  --------------------------------------------------------------------------- */

loc_2BCD6:
		tstb	(%a3)
		bnes	loc_2BCE2
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l

loc_2BCE2:
		bset	%d3,(%a3)
		moveb	#1,0x22(%a0)

loc_2BCEA:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_Button:	.include "General/Sprites/Buttons/Map - Button.S"
Map_Button2:	.include "General/Sprites/Buttons/Map - Button 2.S"
Map_CNZButton:	.include "Levels/CNZ/Misc Object Data/Map - Button.S"
Map_2PButton:	.include "General/2P Zone/Map - 2P Button.S"
/*  --------------------------------------------------------------------------- */

Obj_Animal:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_2BDA6(%pc,%d0.w),%d1
		jmp	off_2BDA6(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_2BDA6:	.word loc_2BEC2-off_2BDA6
		.word loc_2BFEA-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C086-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C086-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C086-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C046-off_2BDA6
		.word loc_2C10C-off_2BDA6
		.word loc_2C12E-off_2BDA6
		.word loc_2C12E-off_2BDA6
		.word loc_2C14E-off_2BDA6
		.word loc_2C18A-off_2BDA6
		.word loc_2C1E6-off_2BDA6
		.word loc_2C206-off_2BDA6
		.word loc_2C1E6-off_2BDA6
		.word loc_2C206-off_2BDA6
		.word loc_2C1E6-off_2BDA6
		.word loc_2C246-off_2BDA6
		.word loc_2C1A6-off_2BDA6
byte_2BDDA:	.byte 5, 1
		.byte 0, 3
		.byte 5, 1
		.byte 0, 5
		.byte 6, 5
		.byte 2, 3
		.byte 6, 1
		.byte 6, 5
		.byte 6, 5
		.byte 6, 5
		.byte 6, 5
		.byte 6, 5
		.byte 6, 5
word_2BDF4:	.word 0xFE00
		.word 0xFC00
		.long Map_Animals5
		.word 0xFE00
		.word 0xFD00
		.long Map_Animals1
		.word 0xFE80
		.word 0xFD00
		.long Map_Animals5
		.word 0xFEC0
		.word 0xFE80
		.long Map_Animals4
		.word 0xFE40
		.word 0xFD00
		.long Map_Animals3
		.word 0xFD00
		.word 0xFC00
		.long Map_Animals1
		.word 0xFD80
		.word 0xFC80
		.long Map_Animals2
		.word 0xFD80
		.word 0xFD00
		.long Map_Animals1
		.word 0xFE00
		.word 0xFC80
		.long Map_Animals2
		.word 0xFD40
		.word 0xFD00
		.long Map_Animals2
		.word 0xFEC0
		.word 0xFE00
		.long Map_Animals2
		.word 0xFE00
		.word 0xFD00
		.long Map_Animals2
word_2BE54:	.word 0xFBC0, 0xFC00
		.word 0xFBC0, 0xFC00
		.word 0xFBC0, 0xFC00
		.word 0xFD00, 0xFC00
		.word 0xFD00, 0xFC00
		.word 0xFE80, 0xFD00
		.word 0xFE80, 0xFD00
		.word 0xFEC0, 0xFE80
		.word 0xFE40, 0xFD00
		.word 0xFE00, 0xFD00
		.word 0xFD80, 0xFC80
off_2BE80:	.long Map_Animals1
		.long Map_Animals1
		.long Map_Animals1
		.long Map_Animals5
		.long Map_Animals5
		.long Map_Animals5
		.long Map_Animals5
		.long Map_Animals4
		.long Map_Animals3
		.long Map_Animals1
		.long Map_Animals2
word_2BEAC:	.word 0x5A5
		.word 0x5A5
		.word 0x5A5
		.word 0x553
		.word 0x553
		.word 0x573
		.word 0x573
		.word 0x585
		.word 0x593
		.word 0x565
		.word 0x5B3
/*  --------------------------------------------------------------------------- */

loc_2BEC2:
		tstb	0x2C(%a0)
		beqw	loc_2BF2E
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		moveb	%d0,5(%a0)
		subiw	#0x14,%d0
		movew	word_2BEAC(%pc,%d0.w),0xA(%a0)
		addw	%d0,%d0
		movel	off_2BE80(%pc,%d0.w),0xC(%a0)
		lea	word_2BE54(%pc),%a1
		movew	(%a1,%d0.w),0x32(%a0)
		movew	(%a1,%d0.w),0x18(%a0)
		movew	2(%a1,%d0.w),0x34(%a0)
		movew	2(%a1,%d0.w),0x1A(%a0)
		moveb	#0xC,0x1E(%a0)
		moveb	#4,4(%a0)
		bset	#0,4(%a0)
		movew	#0x300,8(%a0)
		moveb	#8,7(%a0)
		moveb	#7,0x24(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2BF2E:
		addqb	#2,5(%a0)
		jsr	(Random_Number):l
		movew	#0x580,0xA(%a0)
		andiw	#1,%d0
		beqs	loc_2BF4A
		movew	#0x592,0xA(%a0)

loc_2BF4A:
		moveq	#0,%d1
		moveb	(Current_zone):w,%d1
		addw	%d1,%d1
		addw	%d0,%d1
		lea	byte_2BDDA(%pc),%a1
		moveb	(%a1,%d1.w),%d0
		moveb	%d0,0x30(%a0)
		lslw	#3,%d0
		lea	word_2BDF4(%pc),%a1
		addaw	%d0,%a1
		movew	(%a1)+,0x32(%a0)
		movew	(%a1)+,0x34(%a0)
		movel	(%a1)+,0xC(%a0)
		moveb	#0xC,0x1E(%a0)
		moveb	#4,4(%a0)
		bset	#0,4(%a0)
		movew	#0x300,8(%a0)
		moveb	#8,7(%a0)
		moveb	#7,0x24(%a0)
		moveb	#2,0x22(%a0)
		movew	#-0x400,0x1A(%a0)
		tstb	0x38(%a0)
		bnes	loc_2BFD4
		jsr	(Create_New_Sprite):l
		bnes	loc_2BFCE
		movel	#Obj_EnemyScore,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	0x3E(%a0),%d0
		lsrw	#1,%d0
		moveb	%d0,0x22(%a1)

loc_2BFCE:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2BFD4:
		moveb	#0x1C,5(%a0)
		clrw	0x18(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2BFE4:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2BFEA:
		tstb	4(%a0)
		bpls	loc_2BFE4
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmis	loc_2C040
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_2C040
		addw	%d1,0x14(%a0)
		movew	0x32(%a0),0x18(%a0)
		movew	0x34(%a0),0x1A(%a0)
		moveb	#1,0x22(%a0)
		moveb	0x30(%a0),%d0
		addb	%d0,%d0
		addqb	#4,%d0
		moveb	%d0,5(%a0)
		tstb	0x38(%a0)
		beqs	loc_2C040
		btst	#4,(V_int_run_count+3):w
		beqs	loc_2C040
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_2C040:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C046:
		jsr	(MoveSprite):l
		moveb	#1,0x22(%a0)
		tstw	0x1A(%a0)
		bmis	loc_2C072
		moveb	#0,0x22(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_2C072
		addw	%d1,0x14(%a0)
		movew	0x34(%a0),0x1A(%a0)

loc_2C072:
		tstb	0x2C(%a0)
		bnes	loc_2C0EE
		tstb	4(%a0)
		bplw	loc_2BFE4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C086:
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstw	0x1A(%a0)
		bmis	loc_2C0C4
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_2C0C4
		addw	%d1,0x14(%a0)
		movew	0x34(%a0),0x1A(%a0)
		tstb	0x2C(%a0)
		beqs	loc_2C0C4
		cmpib	#0xA,0x2C(%a0)
		beqs	loc_2C0C4
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_2C0C4:
		subqb	#1,0x24(%a0)
		bpls	loc_2C0DA
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#1,0x22(%a0)

loc_2C0DA:
		tstb	0x2C(%a0)
		bnes	loc_2C0EE
		tstb	4(%a0)
		bplw	loc_2BFE4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C0EE:
		movew	0x10(%a0),%d0
		subw	(Player_1+x_pos):w,%d0
		bcss	loc_2C106
		subiw	#0x180,%d0
		bpls	loc_2C106
		tstb	4(%a0)
		bplw	loc_2BFE4

loc_2C106:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C10C:
		tstb	4(%a0)
		bplw	loc_2BFE4
		subqw	#1,0x36(%a0)
		bnew	loc_2C128
		moveb	#2,5(%a0)
		movew	#0x80,8(%a0)

loc_2C128:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C12E:
		bsrw	sub_2C2DC
		bccs	loc_2C14A
		movew	0x32(%a0),0x18(%a0)
		movew	0x34(%a0),0x1A(%a0)
		moveb	#0xE,5(%a0)
		braw	loc_2C086
/*  --------------------------------------------------------------------------- */

loc_2C14A:
		braw	loc_2C0EE
/*  --------------------------------------------------------------------------- */

loc_2C14E:
		bsrw	sub_2C2DC
		bpls	loc_2C186
		clrw	0x18(%a0)
		clrw	0x32(%a0)
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		bsrw	sub_2C29C
		bsrw	sub_2C2C4
		subqb	#1,0x24(%a0)
		bpls	loc_2C186
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#1,0x22(%a0)

loc_2C186:
		braw	loc_2C0EE
/*  --------------------------------------------------------------------------- */

loc_2C18A:
		bsrw	sub_2C2DC
		bpls	loc_2C1E2
		movew	0x32(%a0),0x18(%a0)
		movew	0x34(%a0),0x1A(%a0)
		moveb	#4,5(%a0)
		braw	loc_2C046
/*  --------------------------------------------------------------------------- */

loc_2C1A6:
		jsr	(MoveSprite):l
		moveb	#1,0x22(%a0)
		tstw	0x1A(%a0)
		bmis	loc_2C1E2
		moveb	#0,0x22(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_2C1E2
		notb	0x2D(%a0)
		bnes	loc_2C1D8
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_2C1D8:
		addw	%d1,0x14(%a0)
		movew	0x34(%a0),0x1A(%a0)

loc_2C1E2:
		braw	loc_2C0EE
/*  --------------------------------------------------------------------------- */

loc_2C1E6:
		bsrw	sub_2C2DC
		bpls	loc_2C202
		clrw	0x18(%a0)
		clrw	0x32(%a0)
		jsr	(MoveSprite):l
		bsrw	sub_2C29C
		bsrw	sub_2C2C4

loc_2C202:
		braw	loc_2C0EE
/*  --------------------------------------------------------------------------- */

loc_2C206:
		bsrw	sub_2C2DC
		bpls	loc_2C242
		jsr	(MoveSprite):l
		moveb	#1,0x22(%a0)
		tstw	0x1A(%a0)
		bmis	loc_2C242
		moveb	#0,0x22(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_2C242
		negw	0x18(%a0)
		bchg	#0,4(%a0)
		addw	%d1,0x14(%a0)
		movew	0x34(%a0),0x1A(%a0)

loc_2C242:
		braw	loc_2C0EE
/*  --------------------------------------------------------------------------- */

loc_2C246:
		bsrw	sub_2C2DC
		bpls	loc_2C298
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		tstw	0x1A(%a0)
		bmis	loc_2C282
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_2C282
		notb	0x2D(%a0)
		bnes	loc_2C278
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_2C278:
		addw	%d1,0x14(%a0)
		movew	0x34(%a0),0x1A(%a0)

loc_2C282:
		subqb	#1,0x24(%a0)
		bpls	loc_2C298
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#1,0x22(%a0)

loc_2C298:
		braw	loc_2C0EE

/*  =============== S U B R O U T I N E ======================================= */


sub_2C29C:
		moveb	#1,0x22(%a0)
		tstw	0x1A(%a0)
		bmis	locret_2C2C2
		moveb	#0,0x22(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	locret_2C2C2
		addw	%d1,0x14(%a0)
		movew	0x34(%a0),0x1A(%a0)

locret_2C2C2:
		rts
/*  End of function sub_2C29C */


/*  =============== S U B R O U T I N E ======================================= */


sub_2C2C4:
		bset	#0,4(%a0)
		movew	0x10(%a0),%d0
		subw	(Player_1+x_pos):w,%d0
		bccs	locret_2C2DA
		bclr	#0,4(%a0)

locret_2C2DA:
		rts
/*  End of function sub_2C2C4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2C2DC:
		movew	(Player_1+x_pos):w,%d0
		subw	0x10(%a0),%d0
		subiw	#0xB8,%d0
		rts
/*  End of function sub_2C2DC */

/*  --------------------------------------------------------------------------- */

Obj_EnemyScore:
		movel	#Map_EnemyScore,0xC(%a0)
		movew	#-0x7A1C,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#8,7(%a0)
		movew	#-0x300,0x1A(%a0)
		movel	#loc_2C316,(%a0)

loc_2C316:
		tstw	0x1A(%a0)
		bplw	loc_2BFE4
		jsr	(MoveSprite2):l
		addiw	#0x18,0x1A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_Animals1:	.include "General/Sprites/Animals/Map - Animals 1.S"
Map_Animals2:	.include "General/Sprites/Animals/Map - Animals 2.S"
Map_Animals3:	.include "General/Sprites/Animals/Map - Animals 3.S"
Map_Animals4:	.include "General/Sprites/Animals/Map - Animals 4.S"
Map_Animals5:	.include "General/Sprites/Animals/Map - Animals 5.S"
Map_EnemyScore:	.include "General/Sprites/Enemy Misc/Map - Enemy Points.S"
/*  --------------------------------------------------------------------------- */

Obj_StarPost:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_2C42C(%pc,%d0.w),%d1
		jmp	off_2C42C(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_2C42C:	.word loc_2C436-off_2C42C
		.word loc_2C488-off_2C42C
		.word loc_2C56E-off_2C42C
		.word loc_2C580-off_2C42C
		.word loc_2C8AE-off_2C42C
/*  --------------------------------------------------------------------------- */

loc_2C436:
		addqb	#2,5(%a0)
		movel	#Map_StarPost,0xC(%a0)
		movew	#0x5EC,0xA(%a0)
		moveb	#4,4(%a0)
		moveb	#8,7(%a0)
		moveb	#0x28,6(%a0)
		movew	#0x280,8(%a0)
		moveaw	0x48(%a0),%a2
		btst	#0,(%a2)
		bnes	loc_2C47E
		moveb	(Last_star_post_hit):w,%d1
		andib	#0x7F,%d1
		moveb	0x2C(%a0),%d2
		andib	#0x7F,%d2
		cmpb	%d2,%d1
		bcss	loc_2C488

loc_2C47E:
		bset	#0,(%a2)
		moveb	#2,0x20(%a0)

loc_2C488:
		tstw	(Debug_placement_mode):w
		bnew	loc_2C56E
		lea	(Player_1):w,%a3
		moveb	(Last_star_post_hit):w,%d1
		bsrs	sub_2C49E
		braw	loc_2C56E

/*  =============== S U B R O U T I N E ======================================= */


sub_2C49E:
		andib	#0x7F,%d1
		moveb	0x2C(%a0),%d2
		andib	#0x7F,%d2
		cmpb	%d2,%d1
		bccw	loc_2C560
		movew	0x10(%a3),%d0
		subw	0x10(%a0),%d0
		addiw	#8,%d0
		cmpiw	#0x10,%d0
		bccw	locret_2C55E
		movew	0x14(%a3),%d0
		subw	0x14(%a0),%d0
		addiw	#0x40,%d0
		cmpiw	#0x68,%d0
		bccw	locret_2C55E
		moveq	#sfx_Starpost,%d0
		jsr	(Play_Sound_2):l
		jsr	(Create_New_Sprite):l
		bnes	loc_2C546
		movel	#Obj_StarPost,(%a1)
		moveb	#6,5(%a1)
		movew	0x10(%a0),0x30(%a1)
		movew	0x14(%a0),0x32(%a1)
		subiw	#0x14,0x32(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	#4,4(%a1)
		moveb	#8,7(%a1)
		moveb	#8,6(%a1)
		movew	#0x200,8(%a1)
		moveb	#2,0x22(%a1)
		movew	#0x20,0x36(%a1)
		movew	%a0,0x3E(%a1)
		cmpiw	#0x32,(Ring_count):w
		bcss	loc_2C546
		bsrw	sub_2C83E

loc_2C546:
		moveb	#1,0x20(%a0)
		bsrw	sub_2C5DA
		moveb	#4,5(%a0)
		moveaw	0x48(%a0),%a2
		bset	#0,(%a2)

locret_2C55E:
		rts
/*  --------------------------------------------------------------------------- */

loc_2C560:
		tstb	0x20(%a0)
		bnes	locret_2C56C
		moveb	#2,0x20(%a0)

locret_2C56C:
		rts
/*  End of function sub_2C49E */

/*  --------------------------------------------------------------------------- */

loc_2C56E:
		lea	(Ani_Starpost):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2C580:
		subqw	#1,0x36(%a0)
		bpls	loc_2C5A4
		moveaw	0x3E(%a0),%a1
		cmpil	#Obj_StarPost,(%a1)
		bnes	loc_2C59E
		moveb	#2,0x20(%a1)
		moveb	#0,0x22(%a1)

loc_2C59E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C5A4:
		moveb	0x26(%a0),%d0
		subib	#0x10,0x26(%a0)
		subib	#0x40,%d0
		jsr	(GetSineCosine):l
		mulsw	#0xC00,%d1
		swap	%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x10(%a0)
		mulsw	#0xC00,%d0
		swap	%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2C5DA:
		moveb	0x2C(%a0),(Last_star_post_hit):w
		movew	0x10(%a0),(Saved_X_pos):w
		movew	0x14(%a0),(Saved_Y_pos):w
/*  End of function sub_2C5DA */


/*  =============== S U B R O U T I N E ======================================= */


Save_Level_Data:
		moveb	(Last_star_post_hit):w,(Saved_last_star_post_hit):w
		movew	(Current_zone_and_act):w,(Saved_zone_and_act):w
		movew	(Apparent_zone_and_act):w,(Saved_apparent_zone_and_act):w
		movew	(Player_1+art_tile):w,(Saved_art_tile):w
		movew	(Player_1+top_solid_bit):w,(Saved_solid_bits):w
		movew	(Ring_count):w,(Saved_ring_count):w
		moveb	(Extra_life_flags):w,(Saved_extra_life_flags):w
		movel	(Timer):w,(Saved_timer):w
		moveb	(Dynamic_resize_routine):w,(Saved_dynamic_resize_routine):w
		movew	(Camera_max_Y_pos):w,(Saved_camera_max_Y_pos):w
		movew	(Camera_X_pos):w,(Saved_camera_X_pos):w
		movew	(Camera_Y_pos):w,(Saved_camera_Y_pos):w
		movew	(Mean_water_level):w,(Saved_mean_water_level):w
		moveb	(Water_full_screen_flag):w,(Saved_water_full_screen_flag):w
		rts
/*  End of function Save_Level_Data */


/*  =============== S U B R O U T I N E ======================================= */


Save_Level_Data2:
		moveb	(Last_star_post_hit):w,(Saved2_last_star_post_hit):w
		movew	(Current_zone_and_act):w,(Saved2_zone_and_act):w
		movew	(Apparent_zone_and_act):w,(Saved2_apparent_zone_and_act):w
		movew	0x10(%a0),(Saved2_X_pos):w
		movew	0x14(%a0),(Saved2_Y_pos):w
		movew	(Player_1+art_tile):w,(Saved2_art_tile):w
		movew	(Player_1+top_solid_bit):w,(Saved2_solid_bits):w
		movew	(Ring_count):w,(Saved2_ring_count):w
		moveb	(Extra_life_flags):w,(Saved2_extra_life_flags):w
		movel	(Timer):w,(Saved2_timer):w
		moveb	(Dynamic_resize_routine):w,(Saved2_dynamic_resize_routine):w
		movew	(Camera_max_Y_pos):w,(Saved2_camera_max_Y_pos):w
		movew	(Camera_X_pos):w,(Saved2_camera_X_pos):w
		movew	(Camera_Y_pos):w,(Saved2_camera_Y_pos):w
		movew	(Mean_water_level):w,(Saved2_mean_water_level):w
		moveb	(Water_full_screen_flag):w,(Saved2_water_full_screen_flag):w
		moveb	(Player_1+status_secondary):w,(Saved2_status_secondary):w
		rts
/*  End of function Save_Level_Data2 */


/*  =============== S U B R O U T I N E ======================================= */


Load_Starpost_Settings:
		tstb	(Special_bonus_entry_flag):w
		bnew	loc_2C738
		moveb	(Saved_last_star_post_hit):w,(Last_star_post_hit):w
		movew	(Saved_zone_and_act):w,(Current_zone_and_act):w
		movew	(Saved_apparent_zone_and_act):w,(Apparent_zone_and_act):w
		movew	(Saved_X_pos):w,(Player_1+x_pos):w
		movew	(Saved_Y_pos):w,(Player_1+y_pos):w
		movew	(Saved_ring_count):w,(Ring_count):w
		moveb	(Saved_extra_life_flags):w,(Extra_life_flags):w
		tstb	(Respawn_table_keep):w
		bnes	loc_2C6EA
		clrw	(Ring_count):w
		clrb	(Extra_life_flags):w

loc_2C6EA:
		movel	(Saved_timer):w,(Timer):w
		moveb	#59,(Timer_frame):w
		subqb	#1,(Timer_second):w
		movew	(Saved_art_tile):w,(Player_1+art_tile):w
		movew	(Saved_solid_bits):w,(Player_1+top_solid_bit):w
		moveb	(Saved_dynamic_resize_routine):w,(Dynamic_resize_routine):w
		movew	(Saved_camera_max_Y_pos):w,(Camera_max_Y_pos):w
		movew	(Saved_camera_max_Y_pos):w,(Camera_target_max_Y_pos):w
		movew	(Saved_camera_X_pos):w,(Camera_X_pos):w
		movew	(Saved_camera_Y_pos):w,(Camera_Y_pos):w
		tstb	(Water_flag):w
		beqs	locret_2C736
		movew	(Saved_mean_water_level):w,(Mean_water_level):w
		moveb	(Saved_water_full_screen_flag):w,(Water_full_screen_flag):w

locret_2C736:
		rts
/*  --------------------------------------------------------------------------- */

loc_2C738:
		clrb	(Special_bonus_entry_flag):w
		movew	(Saved2_zone_and_act):w,(Current_zone_and_act):w
		movew	(Saved2_apparent_zone_and_act):w,(Apparent_zone_and_act):w
		movew	(Saved2_X_pos):w,(Player_1+x_pos):w
		movew	(Saved2_Y_pos):w,(Player_1+y_pos):w
		movew	(Saved2_ring_count):w,(Ring_count):w
		moveb	(Saved2_extra_life_flags):w,(Extra_life_flags):w
		movel	(Saved2_timer):w,(Timer):w
		moveb	#59,(Timer_frame):w
		subqb	#1,(Timer_second):w
		movew	(Saved2_art_tile):w,(Player_1+art_tile):w
		movew	(Saved2_solid_bits):w,(Player_1+top_solid_bit):w
		moveb	(Saved2_dynamic_resize_routine):w,(Dynamic_resize_routine):w
		movew	(Saved2_camera_max_Y_pos):w,(Camera_max_Y_pos):w
		movew	(Saved2_camera_max_Y_pos):w,(Camera_target_max_Y_pos):w
		movew	(Saved2_camera_X_pos):w,(Camera_X_pos):w
		movew	(Saved2_camera_Y_pos):w,(Camera_Y_pos):w
		tstb	(Water_flag):w
		beqs	locret_2C7AC
		movew	(Saved2_mean_water_level):w,(Mean_water_level):w
		moveb	(Saved2_water_full_screen_flag):w,(Water_full_screen_flag):w

locret_2C7AC:
		rts
/*  End of function Load_Starpost_Settings */

/*  --------------------------------------------------------------------------- */
Ani_Starpost:	.include "General/Sprites/Starpost/Anim - Starpost.S"
Map_StarPost:	.include "General/Sprites/Starpost/Map - Starpost.S"
Map_StarpostStars:
		.include "General/Sprites/Starpost/Map - Starpost Stars.S"

/*  =============== S U B R O U T I N E ======================================= */


sub_2C83E:
		moveq	#3,%d1
		moveq	#0,%d2

loc_2C842:
		jsr	(Create_New_Sprite):l
		bnes	locret_2C8AC
		movel	(%a0),(%a1)
		movel	#Map_StarpostStars,0xC(%a1)
		movew	#0x5EC,0xA(%a1)
		moveb	#4,4(%a1)
		moveb	#8,5(%a1)
		movew	0x10(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	%d0,0x30(%a1)
		movew	0x14(%a0),%d0
		subiw	#0x30,%d0
		movew	%d0,0x14(%a1)
		movew	%d0,0x32(%a1)
		movew	8(%a0),8(%a1)
		moveb	#8,7(%a1)
		moveb	#1,0x22(%a1)
		movew	#-0x400,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	%d2,0x34(%a1)
		addiw	#0x40,%d2
		dbf	%d1,loc_2C842

locret_2C8AC:
		rts
/*  End of function sub_2C83E */

/*  --------------------------------------------------------------------------- */

loc_2C8AE:
		moveb	0x29(%a0),%d0
		beqw	loc_2C8F0
		andib	#1,%d0
		beqs	loc_2C8EC
		moveb	#2,(Special_bonus_entry_flag):w
		movew	#0x1300,(Current_zone_and_act):w
		movew	#0x1300,(Apparent_zone_and_act):w
		moveb	#0,(Last_star_post_hit):w
		moveb	#1,(Restart_level_flag):w
		moveb	(Player_1+status_secondary):w,(Saved2_status_secondary):w
		moveb	#1,(Respawn_table_keep):w
		jsr	(Clear_SpriteRingMem):l

loc_2C8EC:
		clrb	0x29(%a0)

loc_2C8F0:
		addiw	#0xA,0x34(%a0)
		movew	0x34(%a0),%d0
		andiw	#0xFF,%d0
		jsr	(GetSineCosine):l
		asrw	#5,%d0
		asrw	#3,%d1
		movew	%d1,%d3
		movew	0x34(%a0),%d2
		andiw	#0x3E0,%d2
		lsrw	#5,%d2
		moveq	#2,%d5
		moveq	#0,%d4
		cmpiw	#0x10,%d2
		bles	loc_2C920
		negw	%d1

loc_2C920:
		andiw	#0xF,%d2
		cmpiw	#8,%d2
		bles	loc_2C930
		negw	%d2
		andiw	#7,%d2

loc_2C930:
		lsrw	#1,%d2
		beqs	loc_2C936
		addw	%d1,%d4

loc_2C936:
		aslw	#1,%d1
		dbf	%d5,loc_2C930
		asrw	#4,%d4
		addw	%d4,%d0
		addqw	#1,0x36(%a0)
		movew	0x36(%a0),%d1
		cmpiw	#0x80,%d1
		beqs	loc_2C95A
		bgts	loc_2C960

loc_2C950:
		mulsw	%d1,%d0
		mulsw	%d1,%d3
		asrw	#7,%d0
		asrw	#7,%d3
		bras	loc_2C972
/*  --------------------------------------------------------------------------- */

loc_2C95A:
		moveb	#-0x28,0x28(%a0)

loc_2C960:
		cmpiw	#0x180,%d1
		bles	loc_2C972
		negw	%d1
		addiw	#0x200,%d1
		bmiw	loc_2C9A6
		bras	loc_2C950
/*  --------------------------------------------------------------------------- */

loc_2C972:
		movew	0x30(%a0),%d2
		addw	%d3,%d2
		movew	%d2,0x10(%a0)
		movew	0x32(%a0),%d2
		addw	%d0,%d2
		movew	%d2,0x14(%a0)
		addqb	#1,0x23(%a0)
		moveb	0x23(%a0),%d0
		andiw	#6,%d0
		lsrw	#1,%d0
		cmpib	#3,%d0
		bnes	loc_2C99C
		moveq	#1,%d0

loc_2C99C:
		moveb	%d0,0x22(%a0)
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */

loc_2C9A6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2C9AC:
		tstl	(Nem_decomp_queue):w
		beqs	loc_2C9B4
		rts
/*  --------------------------------------------------------------------------- */

loc_2C9B4:
		movew	#0x50,0x10(%a0)
		btst	#0,0x22(%a0)
		beqs	loc_2C9C8
		movew	#0x1F0,0x10(%a0)

loc_2C9C8:
		movew	#0xF0,0x14(%a0)
		movel	#Map_GameOver,0xC(%a0)
		movew	#make_art_tile(ArtTile_Shield,0,1),0xA(%a0)
		movew	#0,8(%a0)
		movel	#loc_2C9E8,(%a0)

loc_2C9E8:
		moveq	#0x10,%d1
		cmpiw	#0x120,0x10(%a0)
		beqs	loc_2CA00
		bcss	loc_2C9F6
		negw	%d1

loc_2C9F6:
		addw	%d1,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CA00:
		movew	#0x1E0,0x24(%a0)
		movel	#loc_2CA0E,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2CA0E:
		movew	#0,(Collision_response_list):w
		btst	#0,0x22(%a0)
		bnew	loc_2CA60
		moveb	(Ctrl_1_pressed):w,%d0
		orb	(Ctrl_2_pressed):w,%d0
		andib	#-0x10,%d0
		bnes	loc_2CA3C
		tstw	0x24(%a0)
		beqs	loc_2CA3C
		subqw	#1,0x24(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CA3C:
		tstb	(Time_over_flag):w
		bnes	loc_2CA56
		moveb	#0x14,(Game_mode):w
		tstb	(Continue_count):w
		bnes	loc_2CA60
		moveb	#0,(Game_mode):w
		bras	loc_2CA60
/*  --------------------------------------------------------------------------- */

loc_2CA56:
		clrl	(Saved_timer):w
		movew	#1,(Restart_level_flag):w

loc_2CA60:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleCard:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	TitleCard_Index(%pc,%d0.w),%d1
		jmp	TitleCard_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
TitleCard_Index:.word Obj_TitleCardInit-TitleCard_Index
		.word Obj_TitleCardCreate-TitleCard_Index
		.word Obj_TitleCardWait-TitleCard_Index
		.word Obj_TitleCardWait2-TitleCard_Index
/*  --------------------------------------------------------------------------- */

Obj_TitleCardInit:
		cmpib	#0xE,(Current_zone):w
		bcss	loc_2CA96
		cmpib	#0x12,(Current_zone):w
		bhis	loc_2CA96
		st	0x44(%a0)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CA96:
		lea	(ArtKosM_TitleCardRedAct):l,%a1
		movew	#0xA000,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_TitleCardNum1):l,%a1
		tstb	(Apparent_act):w
		beqs	loc_2CAB8
		lea	(ArtKosM_TitleCardNum2):l,%a1

loc_2CAB8:
		movew	#0xA7A0,%d2
		jsr	(Queue_Kos_Module):l
		lea	TitleCard_LevelGfx(%pc),%a1
		moveq	#0,%d0
		moveb	(Apparent_zone):w,%d0
		lslw	#2,%d0
		moveal	(%a1,%d0.w),%a1
		movew	#0xA9A0,%d2
		jsr	(Queue_Kos_Module):l
		movew	#0x5A,0x2E(%a0)
		clrw	0x32(%a0)
		st	0x48(%a0)
		addqb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_TitleCardCreate:
		tstb	(Kos_modules_left):w
		bnew	locret_2CB76
		jsr	(Create_New_Sprite3):l
		bnes	locret_2CB76
		lea	ObjArray_TtlCardBonus(%pc),%a2
		moveq	#1,%d1
		cmpib	#0x13,(Current_zone):w
		bccs	loc_2CB20
		lea	ObjArray_TtlCard(%pc),%a2
		moveq	#3,%d1
		tstb	0x44(%a0)
		beqs	loc_2CB20
		lea	ObjArray_TtlCard2(%pc),%a2
		moveq	#0,%d1

loc_2CB20:
		addqw	#1,0x30(%a0)
		movel	(%a2)+,(%a1)
		movew	(%a2)+,0x46(%a1)
		movew	(%a2)+,0x10(%a1)
		movew	(%a2)+,0x14(%a1)
		moveb	(%a2)+,0x22(%a1)
		moveb	(%a2)+,7(%a1)
		movew	(%a2)+,%d2
		moveb	%d2,0x28(%a1)
		moveb	#0x40,4(%a1)
		movel	#Map_TitleCard,0xC(%a1)
		movew	%a0,0x48(%a1)
		jsr	(CreateNewSprite4):l
		dbne	%d1,loc_2CB20
		tstb	0x3E(%a0)
		beqs	loc_2CB72
		cmpib	#6,(Apparent_zone):w
		bnes	loc_2CB72
		moveq	#0x25,%d0
		jsr	(Load_PLC):l

loc_2CB72:
		addqb	#2,5(%a0)

locret_2CB76:
		rts
/*  --------------------------------------------------------------------------- */

Obj_TitleCardWait:
		tstw	0x34(%a0)
		beqs	loc_2CB84
		clrw	0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2CB84:
		tstw	0x3E(%a0)
		beqs	loc_2CBC0
		clrl	(Timer):w
		clrw	(Ring_count):w
		clrw	(Total_ring_count):w
		clrb	(Extra_life_flags):w
		clrl	(Timer_P2):w
		clrw	(Ring_count_P2):w
		clrw	(Total_ring_count_P2):w
		st	(Update_HUD_timer):w
		st	(Update_HUD_ring_count):w
		moveb	#0x1E,(Player_1+air_left):w
		moveb	#0x1E,(Player_2+air_left):w
		jsr	(Obj_PlayLevelMusic):l

loc_2CBC0:
		clrw	0x48(%a0)
		addqb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_TitleCardWait2:
		tstw	0x2E(%a0)
		beqs	loc_2CBD6
		subqw	#1,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2CBD6:
		tstw	0x30(%a0)
		beqs	loc_2CBE2
		addqw	#1,0x32(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2CBE2:
		tstb	0x44(%a0)
		bnes	loc_2CC12
		cmpib	#0x13,(Current_zone):w
		bccs	loc_2CC12
		tstw	0x3E(%a0)
		beqs	loc_2CBFC
		st	(End_of_level_flag):w
		bras	loc_2CC08
/*  --------------------------------------------------------------------------- */

loc_2CBFC:
		lea	(PLC_SpikesSprings):l,%a1
		jsr	(Load_PLC_Raw):l

loc_2CC08:
		jsr	LoadEnemyArt(%pc)
		jsr	(PLCLoad_AnimalsAndExplosion):l

loc_2CC12:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleCardRedBanner:
		moveaw	0x48(%a0),%a1
		movew	0x32(%a1),%d0
		beqs	loc_2CC40
		tstb	4(%a0)
		bmis	loc_2CC32
		subqw	#1,0x30(%a1)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CC32:
		cmpb	0x28(%a0),%d0
		bcss	loc_2CC56
		subiw	#0x20,0x14(%a0)
		bras	loc_2CC56
/*  --------------------------------------------------------------------------- */

loc_2CC40:
		movew	0x14(%a0),%d0
		cmpw	0x46(%a0),%d0
		beqs	loc_2CC56
		addiw	#0x10,%d0
		movew	%d0,0x14(%a0)
		st	0x34(%a1)

loc_2CC56:
		moveb	#0x70,6(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleCardName:
		moveb	(Apparent_zone):w,%d0
		addb	%d0,0x22(%a0)
		movel	#Obj_TitleCardElement,(%a0)

Obj_TitleCardElement:
		moveaw	0x48(%a0),%a1
		movew	0x32(%a1),%d0
		beqs	loc_2CC98
		tstb	4(%a0)
		bmis	loc_2CC8A
		subqw	#1,0x30(%a1)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CC8A:
		cmpb	0x28(%a0),%d0
		bcss	loc_2CCAE
		addiw	#0x20,0x10(%a0)
		bras	loc_2CCAE
/*  --------------------------------------------------------------------------- */

loc_2CC98:
		movew	0x10(%a0),%d0
		cmpw	0x46(%a0),%d0
		beqs	loc_2CCAE
		subiw	#0x10,%d0
		movew	%d0,0x10(%a0)
		st	0x34(%a1)

loc_2CCAE:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleCardAct:
		movel	#Obj_TitleCardElement,(%a0)
		moveb	(Apparent_zone):w,%d0
		cmpib	#0xA,%d0
		beqs	loc_2CCCA
		cmpib	#0xC,%d0
		bnes	Obj_TitleCardElement

loc_2CCCA:
		moveaw	0x48(%a0),%a1
		subqw	#1,0x30(%a1)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_TitleCardElement2:
		clrb	4(%a0)
		moveaw	0x48(%a0),%a1
		movew	0x32(%a1),%d0
		beqs	loc_2CD06
		cmpiw	#0x20C,0x10(%a0)
		bcss	loc_2CCF8
		subqw	#1,0x30(%a1)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CCF8:
		cmpb	0x28(%a0),%d0
		bcss	loc_2CD1C
		addiw	#0x20,0x10(%a0)
		bras	loc_2CD1C
/*  --------------------------------------------------------------------------- */

loc_2CD06:
		movew	0x10(%a0),%d0
		cmpw	0x46(%a0),%d0
		beqs	loc_2CD1C
		subiw	#0x10,%d0
		movew	%d0,0x10(%a0)
		st	0x34(%a1)

loc_2CD1C:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
TitleCard_LevelGfx:.long	ArtKosM_AIZTitleCard
		.long ArtKosM_HCZTitleCard
		.long ArtKosM_MGZTitleCard
		.long ArtKosM_CNZTitleCard
		.long ArtKosM_FBZTitleCard
		.long ArtKosM_ICZTitleCard
		.long ArtKosM_LBZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_AIZTitleCard
		.long ArtKosM_ALZTitleCard
		.long ArtKosM_BPZTitleCard
		.long ArtKosM_CGZTitleCard
		.long ArtKosM_DPZTitleCard
		.long ArtKosM_EMZTitleCard
		.long ArtKosM_BonusTitleCard
		.long ArtKosM_BonusTitleCard
		.long ArtKosM_BonusTitleCard
ObjArray_TtlCard:.long Obj_TitleCardName
		.word 0x120
		.word 0x260
		.word 0xE0
		.byte 4
		.byte 0x80
		.word 3
		.long Obj_TitleCardElement
		.word 0x17C
		.word 0x2FC
		.word 0x100
		.byte 3
		.byte 0x24
		.word 5
		.long Obj_TitleCardAct
		.word 0x184
		.word 0x344
		.word 0x120
		.byte 2
		.byte 0x1C
		.word 7
		.long Obj_TitleCardRedBanner
		.word 0xC0
		.word 0xE0
		.word 0x10
		.byte 1
		.byte 0
		.word 1
ObjArray_TtlCard2:.long Obj_TitleCardElement2
		.word 0x15C
		.word 0x21C
		.word 0xBC
		.byte 0x12
		.byte 0x80
		.word 1
ObjArray_TtlCardBonus:.long Obj_TitleCardElement
		.word 0xC8
		.word 0x188
		.word 0xE8
		.byte 0x13
		.byte 0x80
		.word 1
		.long Obj_TitleCardElement
		.word 0x128
		.word 0x1E8
		.word 0xE8
		.byte 0x14
		.byte 0x80
		.word 1
/*  --------------------------------------------------------------------------- */

Obj_LevelResults:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	LevelResults_Index(%pc,%d0.w),%d1
		jmp	LevelResults_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
LevelResults_Index:.word	Obj_LevelResultsInit-LevelResults_Index
		.word Obj_LevelResultsCreate-LevelResults_Index
		.word Obj_LevelResultsWait-LevelResults_Index
		.word Obj_LevelResultsWait2-LevelResults_Index
/*  --------------------------------------------------------------------------- */

Obj_LevelResultsInit:
		lea	(ArtKosM_ResultsGeneral):l,%a1
		movew	#-0x5C00,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_TitleCardNum1):l,%a1
		tstb	(Apparent_act):w
		beqs	loc_2CE14
		lea	(ArtKosM_TitleCardNum2):l,%a1

loc_2CE14:
		movew	#-0x5200,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_ResultsSONIC):l,%a1
		cmpiw	#1,(Player_mode):w
		blss	loc_2CE4C
		lea	(ArtKosM_ResultsKNUCKLES):l,%a1
		cmpiw	#3,(Player_mode):w
		beqs	loc_2CE4C
		lea	(ArtKosM_ResultsMILES):l,%a1
		tstb	(Graphics_flags):w
		bpls	loc_2CE4C
		lea	(ArtKosM_ResultsTAILS):l,%a1

loc_2CE4C:
		movew	#-0x5000,%d2
		tstb	(Apparent_act):w
		beqs	loc_2CE5A
		movew	#-0x4C00,%d2

loc_2CE5A:
		jsr	(Queue_Kos_Module):l
		moveq	#0,%d0
		moveb	(Timer_minute):w,%d0
		muluw	#60,%d0
		moveq	#0,%d1
		moveb	(Timer_second):w,%d1
		addw	%d1,%d0
		cmpiw	#0x257,%d0
		bnes	loc_2CE80
		movew	#10000,(Time_bonus_countdown):w
		bras	loc_2CE98
/*  --------------------------------------------------------------------------- */

loc_2CE80:
		divuw	#0x1E,%d0
		moveq	#7,%d1
		cmpw	%d1,%d0
		bcss	loc_2CE8C
		movew	%d1,%d0

loc_2CE8C:
		addw	%d0,%d0
		lea	TimeBonus(%pc),%a1
		movew	(%a1,%d0.w),(Time_bonus_countdown):w

loc_2CE98:
		movew	(Ring_count):w,%d0
		muluw	#0xA,%d0
		movew	%d0,(Ring_bonus_countdown):w
		clrw	(Total_bonus_countup):w
		movew	#360,0x2E(%a0)
		movew	#0xC,0x30(%a0)
		addqb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_LevelResultsCreate:
		tstb	(Kos_modules_left):w
		bnes	locret_2CF24
		jsr	(Create_New_Sprite3):l
		bnes	locret_2CF24
		lea	ObjArray_LevResults(%pc),%a2
		moveq	#0xB,%d1

loc_2CECE:
		movel	(%a2)+,(%a1)
		movew	(%a2)+,0x46(%a1)
		movew	(%a2)+,0x10(%a1)
		%spl	5(%a1)
		movew	(%a2)+,0x14(%a1)
		moveb	(%a2)+,0x22(%a1)
		moveb	(%a2)+,7(%a1)
		movew	(%a2)+,%d2
		moveb	%d2,0x28(%a1)
		moveb	#0x40,4(%a1)
		movel	#Map_Results,0xC(%a1)
		movew	%a0,0x48(%a1)
		jsr	(CreateNewSprite4):l
		dbne	%d1,loc_2CECE
		addqb	#2,5(%a0)
		tstb	(Apparent_act):w
		bnes	locret_2CF24
		moveb	(Apparent_zone):w,%d0
		beqs	locret_2CF24
		cmpib	#5,%d0
		beqs	locret_2CF24
		st	(Events_fg_5):w

locret_2CF24:
		rts
/*  --------------------------------------------------------------------------- */

Obj_LevelResultsWait:
		tstw	0x2E(%a0)
		beqs	loc_2CF4C
		subqw	#1,0x2E(%a0)
		cmpiw	#0x121,0x2E(%a0)
		bnes	locret_2CF8E
		moveb	#0x1E,(Player_1+air_left):w
		moveb	#0x1E,(Player_2+air_left):w
		moveq	#mus_GotThroughAct,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_2CF4C:
		moveq	#0,%d0
		tstw	(Time_bonus_countdown):w
		beqs	loc_2CF5E
		addiw	#0xA,%d0
		subiw	#0xA,(Time_bonus_countdown):w

loc_2CF5E:
		tstw	(Ring_bonus_countdown):w
		beqs	loc_2CF6E
		addiw	#0xA,%d0
		subiw	#0xA,(Ring_bonus_countdown):w

loc_2CF6E:
		addw	%d0,(Total_bonus_countup):w
		tstw	%d0
		beqs	loc_2CF90
		jsr	(HUD_AddToScore):l
		movew	(Level_frame_counter):w,%d0
		andiw	#3,%d0
		bnes	locret_2CF8E
		moveq	#sfx_Switch,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

locret_2CF8E:
		rts
/*  --------------------------------------------------------------------------- */

loc_2CF90:
		moveq	#sfx_Register,%d0
		jsr	(Play_Sound_2):l
		jsr	(SaveGame):l
		movew	#0x5A,0x2E(%a0)
		addqb	#2,5(%a0)

Obj_LevelResultsWait2:
		tstw	0x2E(%a0)
		beqs	loc_2CFB4
		subqw	#1,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2CFB4:
		tstw	0x30(%a0)
		beqs	loc_2CFC0
		addqw	#1,0x32(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2CFC0:
		tstb	(Apparent_act):w
		beqs	loc_2CFD4
		clrb	(_unkFAA8):w
		st	(End_of_level_flag):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2CFD4:
		moveb	#1,(Apparent_act):w
		clrb	(Last_star_post_hit):w
		clrb	(Special_bonus_entry_flag):w
		clrb	(_unkFAA8):w
		movel	#Obj_TitleCard,(%a0)
		clrb	5(%a0)
		st	0x3E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_LevResultsCharName:
		cmpiw	#2,(Player_mode):w
		beqs	loc_2D01A
		cmpiw	#3,(Player_mode):w
		bnes	loc_2D036
		addqb	#3,0x22(%a0)
		moveq	#0x30,%d0
		subw	%d0,0x10(%a0)
		subw	%d0,0x46(%a0)
		addb	%d0,7(%a0)
		bras	loc_2D036
/*  --------------------------------------------------------------------------- */

loc_2D01A:
		addqb	#1,0x22(%a0)
		tstb	(Graphics_flags):w
		bpls	loc_2D036
		addqb	#1,0x22(%a0)
		moveq	#8,%d0
		addw	%d0,0x10(%a0)
		addw	%d0,0x46(%a0)
		subb	%d0,7(%a0)

loc_2D036:
		moveq	#0,%d0
		tstb	(Apparent_act):w
		beqs	loc_2D042
		movew	#0x20,%d0

loc_2D042:
		movew	%d0,0xA(%a0)
		movel	#Obj_LevResultsGeneral,(%a0)

Obj_LevResultsGeneral:
		jsr	LevelResults_MoveElement(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_LevelResultsTimeBonus:
		jsr	LevelResults_MoveElement(%pc)
		movew	(Time_bonus_countdown):w,%d0
		bras	loc_2D072
/*  --------------------------------------------------------------------------- */

Obj_LevelResultsRingBonus:
		jsr	LevelResults_MoveElement(%pc)
		movew	(Ring_bonus_countdown):w,%d0
		bras	loc_2D072
/*  --------------------------------------------------------------------------- */

Obj_LevelResultsTotal:
		jsr	LevelResults_MoveElement(%pc)
		movew	(Total_bonus_countup):w,%d0

loc_2D072:
		bsrs	LevResults_DisplayScore
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


LevResults_DisplayScore:
		movew	#7,0x16(%a0)
		jsr	LevResults_GetDecimalScore(%pc)
		roll	#4,%d1
		lea	0x18(%a0),%a1
		movew	0x10(%a0),%d2
		subiw	#0x38,%d2
		movew	0x14(%a0),%d3
		moveq	#0,%d4
		moveq	#6,%d5

loc_2D09A:
		movew	%d2,(%a1)+
		movew	%d3,(%a1)+
		addqw	#1,%a1
		roll	#4,%d1
		movew	%d1,%d0
		andiw	#0xF,%d0
		beqs	loc_2D0AC
		moveq	#1,%d4

loc_2D0AC:
		addw	%d4,%d0
		moveb	%d0,(%a1)+
		addqw	#8,%d2
		dbf	%d5,loc_2D09A
		rts
/*  End of function LevResults_DisplayScore */


/*  =============== S U B R O U T I N E ======================================= */


LevelResults_MoveElement:
		moveaw	0x48(%a0),%a1
		movew	0x32(%a1),%d0
		beqs	loc_2D0EC
		tstb	4(%a0)
		bmis	loc_2D0D4
		subqw	#1,0x30(%a1)
		addqw	#4,%sp
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2D0D4:
		cmpb	0x28(%a0),%d0
		bcss	locret_2D102
		movew	#-0x20,%d0
		tstb	5(%a0)
		beqs	loc_2D0E6
		negw	%d0

loc_2D0E6:
		addw	0x10(%a0),%d0
		bras	loc_2D0FE
/*  --------------------------------------------------------------------------- */

loc_2D0EC:
		moveq	#0x10,%d1
		movew	0x10(%a0),%d0
		cmpw	0x46(%a0),%d0
		beqs	loc_2D0FE
		blts	loc_2D0FC
		negw	%d1

loc_2D0FC:
		addw	%d1,%d0

loc_2D0FE:
		movew	%d0,0x10(%a0)

locret_2D102:
		rts
/*  End of function LevelResults_MoveElement */


/*  =============== S U B R O U T I N E ======================================= */


LevResults_GetDecimalScore:
		clrl	(_unkEF40_1):w
		lea	TimeBonus(%pc),%a1
		moveq	#0xF,%d2

loc_2D10E:
		rorw	#1,%d0
		bcss	loc_2D116
		subqw	#3,%a1
		bras	loc_2D124
/*  --------------------------------------------------------------------------- */

loc_2D116:
		lea	(_unkEF44_2):w,%a2
		addiw	#0,%d0
		abcd	-(%a1),-(%a2)
		abcd	-(%a1),-(%a2)
		abcd	-(%a1),-(%a2)

loc_2D124:
		dbf	%d2,loc_2D10E
		movel	(_unkEF40_1):w,%d1
		rts
/*  End of function LevResults_GetDecimalScore */

/*  --------------------------------------------------------------------------- */
		.byte 3, 0x27, 0x68
		.byte 1, 0x63, 0x84
		.byte 0, 0x81, 0x92
		.byte 0, 0x40, 0x96
		.byte 0, 0x20, 0x48
		.byte 0, 0x10, 0x24
		.byte 0, 5, 0x12
		.byte 0, 2, 0x56
		.byte 0, 1, 0x28
		.byte 0, 0, 0x64
		.byte 0, 0, 0x32
		.byte 0, 0, 0x16
		.byte 0, 0, 8
		.byte 0, 0, 4
		.byte 0, 0, 2
		.byte 0, 0, 1
TimeBonus:	.word  0x1388, 0x1388,  0x3E8,  0x1F4,  0x190,  0x12C,   0x64,    0xA
ObjArray_LevResults:.long Obj_LevResultsCharName
		.word 0xE0
		.word 0xFDE0
		.word 0xB8
		.byte 0x13
		.byte 0x48
		.word 1
		.long Obj_LevResultsGeneral
		.word 0x130
		.word 0xFE30
		.word 0xB8
		.byte 0x11
		.byte 0x30
		.word 1
		.long Obj_LevResultsGeneral
		.word 0xE8
		.word 0x468
		.word 0xCC
		.byte 0x10
		.byte 0x70
		.word 3
		.long Obj_LevResultsGeneral
		.word 0x160
		.word 0x4E0
		.word 0xBC
		.byte 0xF
		.byte 0x38
		.word 3
		.long Obj_LevResultsGeneral
		.word 0xC0
		.word 0x4C0
		.word 0xF0
		.byte 0xE
		.byte 0x20
		.word 5
		.long Obj_LevResultsGeneral
		.word 0xE8
		.word 0x4E8
		.word 0xF0
		.byte 0xC
		.byte 0x30
		.word 5
		.long Obj_LevelResultsTimeBonus
		.word 0x178
		.word 0x578
		.word 0xF0
		.byte 1
		.byte 0x40
		.word 5
		.long Obj_LevResultsGeneral
		.word 0xC0
		.word 0x500
		.word 0x100
		.byte 0xD
		.byte 0x20
		.word 7
		.long Obj_LevResultsGeneral
		.word 0xE8
		.word 0x528
		.word 0x100
		.byte 0xC
		.byte 0x30
		.word 7
		.long Obj_LevelResultsRingBonus
		.word 0x178
		.word 0x5B8
		.word 0x100
		.byte 1
		.byte 0x40
		.word 7
		.long Obj_LevResultsGeneral
		.word 0xD4
		.word 0x554
		.word 0x11C
		.byte 0xB
		.byte 0x30
		.word 9
		.long Obj_LevelResultsTotal
		.word 0x178
		.word 0x5F8
		.word 0x11C
		.byte 1
		.byte 0x40
		.word 9
/*  --------------------------------------------------------------------------- */

locret_2D216:
		rts
/*  --------------------------------------------------------------------------- */

SpecialStage_Results:
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#-0x41,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(VDP_control_port):l,%a6
		movew	#-0x7FFC,(%a6)
		movew	#-0x7DD0,(%a6)
		movew	#-0x7BF9,(%a6)
		movew	#-0x7500,(%a6)
		movew	#-0x737F,(%a6)
		movew	#-0x6FEF,(%a6)
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_2D260:
		movel	%d0,(%a1)+
		dbf	%d1,loc_2D260
		lea	(Object_RAM):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Object_RAM)/4-1,%d1

loc_2D270:
		movel	%d0,(%a1)+
		dbf	%d1,loc_2D270
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		jsr	(SaveGame_SpecialStage):l
		clrw	(Competition_mode):w
		clrw	(Plane_buffer):w
		clrw	(Special_V_int_routine):w
		clrb	(Update_HUD_timer):w
		moveq	#0,%d0
		jsr	(Load_PLC_2):l
		lea	(ArtKosM_ResultsGeneral):l,%a1
		movew	#-0x5C00,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_ResultsSONIC):l,%a1
		cmpiw	#1,(Player_mode):w
		blss	loc_2D2DE
		lea	(ArtKosM_ResultsKNUCKLES):l,%a1
		cmpiw	#3,(Player_mode):w
		beqs	loc_2D2DE
		lea	(ArtKosM_ResultsMILES):l,%a1
		tstb	(Graphics_flags):w
		bpls	loc_2D2DE
		lea	(ArtKosM_ResultsTAILS):l,%a1

loc_2D2DE:
		movew	#-0x5000,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_SSResults):l,%a1
		movew	#0x20,%d2
		jsr	(Queue_Kos_Module):l
		movel	#locret_2D216,(_unkEF44_1):w

loc_2D300:
		moveb	#0x1E,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		jsr	(Wait_VSync):l
		jsr	(Process_Nem_Queue_Init):l
		jsr	(Process_Kos_Module_Queue):l
		tstb	(Kos_modules_left):w
		bnes	loc_2D300
		tstl	(Nem_decomp_queue):w
		bnes	loc_2D300
		jsr	(HUD_DrawInitial):l
		moveb	#1,(Update_HUD_score):w
		lea	Pal_Results(%pc),%a0
		lea	(Normal_palette):w,%a1
		moveq	#0x1F,%d0

loc_2D340:
		movel	(%a0)+,(%a1)+
		dbf	%d0,loc_2D340
		cmpiw	#3,(Player_mode):w
		bnes	loc_2D35C
		movel	#0x84E040C,(Normal_palette+4):w
		movew	#0x206,(Normal_palette+8):w

loc_2D35C:
		jsr	(Init_SpriteTable):l
		movel	#loc_2D41E,(Dynamic_object_RAM+object_size):w
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l

loc_2D378:
		moveb	#8,(V_int_routine):w
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		cmpib	#0x48,(Game_mode):w
		beqs	loc_2D378
		rts
/*  --------------------------------------------------------------------------- */
Pal_Results:	.incbin "General/Special Stage/Palettes/Results S3.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

loc_2D41E:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_2D42C(%pc,%d0.w),%d1
		jmp	off_2D42C(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_2D42C:	.word loc_2D438-off_2D42C
		.word loc_2D49A-off_2D42C
		.word loc_2D506-off_2D42C
		.word loc_2D53A-off_2D42C
		.word loc_2D590-off_2D42C
		.word loc_2D5DC-off_2D42C
/*  --------------------------------------------------------------------------- */

loc_2D438:
		lea	0x4A(%a0),%a1
		lea	ObjDat2_2D5F0(%pc),%a2
		moveq	#0x12,%d1

loc_2D442:
		movel	(%a2)+,(%a1)
		movew	(%a2)+,0x46(%a1)
		movew	(%a2)+,0x10(%a1)
		movew	(%a2)+,0x14(%a1)
		moveb	(%a2)+,0x22(%a1)
		moveb	(%a2)+,7(%a1)
		moveb	#0x40,4(%a1)
		movel	#Map_Results,0xC(%a1)
		movew	%a0,0x48(%a1)
		lea	0x4A(%a1),%a1
		dbf	%d1,loc_2D442
		movew	(Special_stage_ring_count):w,%d0
		muluw	#0xA,%d0
		movew	%d0,(Ring_bonus_countdown):w
		clrw	(Time_bonus_countdown):w
		tstw	(Special_stage_rings_left):w
		bnes	loc_2D48E
		movew	#0x1388,(Time_bonus_countdown):w

loc_2D48E:
		movew	#0x168,0x2E(%a0)
		addqb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2D49A:
		tstw	0x2E(%a0)
		beqs	loc_2D4B4
		subqw	#1,0x2E(%a0)
		cmpiw	#0x121,0x2E(%a0)
		bnes	locret_2D4F2
		moveq	#mus_GotThroughAct,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_2D4B4:
		moveq	#0,%d0
		tstw	(Time_bonus_countdown):w
		beqs	loc_2D4C6
		addiw	#0xA,%d0
		subiw	#0xA,(Time_bonus_countdown):w

loc_2D4C6:
		tstw	(Ring_bonus_countdown):w
		beqs	loc_2D4D6
		addiw	#0xA,%d0
		subiw	#0xA,(Ring_bonus_countdown):w

loc_2D4D6:
		tstw	%d0
		beqs	loc_2D4F4
		jsr	(HUD_AddToScore):l
		movew	(Level_frame_counter):w,%d0
		andiw	#3,%d0
		bnes	locret_2D4F2
		moveq	#sfx_Switch,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

locret_2D4F2:
		rts
/*  --------------------------------------------------------------------------- */

loc_2D4F4:
		moveq	#sfx_Register,%d0
		jsr	(Play_Sound_2):l
		movew	#0x78,0x2E(%a0)
		addqb	#2,5(%a0)

loc_2D506:
		tstw	0x2E(%a0)
		beqs	loc_2D512
		subqw	#1,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2D512:
		cmpiw	#50,(Special_stage_ring_count):w
		bcss	loc_2D536
		jsr	(Create_New_Sprite3):l
		bnes	loc_2D536
		movel	#loc_2D83C,(%a1)
		movew	#0x10E,0x2E(%a0)
		moveq	#sfx_Continue,%d0
		jsr	(Play_Sound_2):l

loc_2D536:
		addqb	#2,5(%a0)

loc_2D53A:
		tstw	0x2E(%a0)
		beqs	loc_2D546
		subqw	#1,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2D546:
		cmpiw	#1,(Player_mode):w
		bhis	loc_2D588
		tstw	(Special_stage_%spheres_left):w
		bnes	loc_2D588
		cmpib	#7,(Emerald_count+1):w
		bcss	loc_2D588
		lea	(Dynamic_object_RAM+(object_size*16)).w,%a1
		moveq	#4,%d0

loc_2D562:
		movel	#loc_2D872,(%a1)
		lea	0x4A(%a1),%a1
		dbf	%d0,loc_2D562
		movew	#4,(Dynamic_object_RAM+(object_size*18)+objoff_2E).w
		movew	#4,(Dynamic_object_RAM+(object_size*20)+objoff_2E).w
		movew	#5,0x30(%a0)
		addqb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2D588:
		moveb	#0xC,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_2D590:
		tstw	0x30(%a0)
		bnes	locret_2D5DA
		lea	(Dynamic_object_RAM+(object_size*16)).w,%a1
		lea	ObjDat2_2D6D4(%pc),%a2
		moveq	#4,%d1

loc_2D5A0:
		movel	(%a2)+,(%a1)
		movew	(%a2)+,0x46(%a1)
		movew	(%a2)+,0x10(%a1)
		movew	(%a2)+,0x14(%a1)
		moveb	(%a2)+,0x22(%a1)
		moveb	(%a2)+,7(%a1)
		moveb	#0x40,4(%a1)
		movel	#Map_Results,0xC(%a1)
		movew	%a0,0x48(%a1)
		lea	0x4A(%a1),%a1
		dbf	%d1,loc_2D5A0
		movew	#0xF0,0x2E(%a0)
		addqb	#2,5(%a0)

locret_2D5DA:
		rts
/*  --------------------------------------------------------------------------- */

loc_2D5DC:
		tstw	0x2E(%a0)
		beqs	loc_2D5E8
		subqw	#1,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2D5E8:
		moveb	#0xC,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */
ObjDat2_2D5F0:	.long loc_2D710
		.word 0x120
		.word 0x4E0
		.word 0x100
		.byte 0x17
		.byte 0x60
		.long loc_2D710
		.word 0xC0
		.word 0x4C0
		.word 0x118
		.byte 0x18
		.byte 0x58
		.long loc_2D71A
		.word 0x178
		.word 0x578
		.word 0x118
		.byte 1
		.byte 0x40
		.long loc_2D710
		.word 0xC0
		.word 0x500
		.word 0x128
		.byte 0x19
		.byte 0x40
		.long loc_2D724
		.word 0x178
		.word 0x5B8
		.word 0x128
		.byte 1
		.byte 0x40
		.long loc_2D736
		.word 0xC0
		.word 0x540
		.word 0x138
		.byte 0x1A
		.byte 0x48
		.long loc_2D74A
		.word 0x120
		.word 0x120
		.word 0xD0
		.byte 0x1B
		.byte 0
		.long loc_2D74A
		.word 0x110
		.word 0x110
		.word 0xE8
		.byte 0x1C
		.byte 1
		.long loc_2D74A
		.word 0x130
		.word 0x130
		.word 0xE8
		.byte 0x1D
		.byte 2
		.long loc_2D74A
		.word 0x100
		.word 0x100
		.word 0xD0
		.byte 0x1E
		.byte 3
		.long loc_2D74A
		.word 0x140
		.word 0x140
		.word 0xD0
		.byte 0x1F
		.byte 4
		.long loc_2D74A
		.word 0xF0
		.word 0xF0
		.word 0xE8
		.byte 0x20
		.byte 5
		.long loc_2D74A
		.word 0x150
		.word 0x150
		.word 0xE8
		.byte 0x21
		.byte 6
		.long loc_2D76C
		.word 0x120
		.word 0x460
		.word 0xA0
		.byte 0x22
		.byte 0x60
		.long loc_2D776
		.word 0xD4
		.word 0x394
		.word 0x98
		.byte 0x13
		.byte 0x48
		.long loc_2D7AC
		.word 0x124
		.word 0x3E4
		.word 0x98
		.byte 0x23
		.byte 0x48
		.long loc_2D7DE
		.word 0x120
		.word 0x460
		.word 0xB0
		.byte 0x24
		.byte 0x64
		.long loc_2D800
		.word 0x114
		.word 0x3D4
		.word 0x98
		.byte 0x25
		.byte 0x20
		.long loc_2D828
		.word 0x118
		.word 0x458
		.word 0xB0
		.byte 0x26
		.byte 0x10
ObjDat2_2D6D4:	.long loc_2D710
		.word 0x120
		.word 0x420
		.word 0x98
		.byte 0x27
		.byte 0x60
		.long loc_2D710
		.word 0x100
		.word 0x400
		.word 0x98
		.byte 0x13
		.byte 0x48
		.long loc_2D710
		.word 0xC0
		.word 0x440
		.word 0xB0
		.byte 0x28
		.byte 0x20
		.long loc_2D710
		.word 0xE8
		.word 0x468
		.word 0xB0
		.byte 0x12
		.byte 0x50
		.long loc_2D710
		.word 0x138
		.word 0x4B8
		.word 0xB0
		.byte 0x13
		.byte 0x48
/*  --------------------------------------------------------------------------- */

loc_2D710:
		jsr	LevelResults_MoveElement(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2D71A:
		jsr	LevelResults_MoveElement(%pc)
		movew	(Ring_bonus_countdown):w,%d0
		bras	loc_2D72C
/*  --------------------------------------------------------------------------- */

loc_2D724:
		jsr	LevelResults_MoveElement(%pc)
		movew	(Time_bonus_countdown):w,%d0

loc_2D72C:
		jsr	LevResults_DisplayScore(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2D736:
		cmpiw	#50,(Special_stage_ring_count):w
		bcsw	loc_2D89E
		jsr	LevelResults_MoveElement(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2D74A:
		lea	(Collected_emeralds_array):w,%a1
		moveq	#0,%d0
		moveb	7(%a0),%d0
		tstb	(%a1,%d0.w)
		beqw	loc_2D89E
		btst	#0,(Level_frame_counter+1):w
		beqs	locret_2D76A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_2D76A:
		rts
/*  --------------------------------------------------------------------------- */

loc_2D76C:
		tstw	(Special_stage_%spheres_left):w
		beqw	loc_2D89E
		bras	loc_2D710
/*  --------------------------------------------------------------------------- */

loc_2D776:
		tstw	(Special_stage_%spheres_left):w
		bnew	loc_2D89E
		jsr	sub_2D8A4(%pc)
		addw	%d0,0x10(%a0)
		addw	%d0,0x46(%a0)
		addb	%d1,0x22(%a0)
		cmpib	#7,(Emerald_count+1):w
		bcss	loc_2D7A2
		subiw	#0x10,0x10(%a0)
		subiw	#0x10,0x46(%a0)

loc_2D7A2:
		lea	(loc_2D710):l,%a1
		movel	%a1,(%a0)
		jmp	(%a1)
/*  --------------------------------------------------------------------------- */

loc_2D7AC:
		tstw	(Special_stage_%spheres_left):w
		bnew	loc_2D89E
		jsr	sub_2D8A4(%pc)
		subw	%d0,0x10(%a0)
		subw	%d0,0x46(%a0)
		cmpib	#7,(Emerald_count+1):w
		bcss	loc_2D7D4
		subiw	#0x10,0x10(%a0)
		subiw	#0x10,0x46(%a0)

loc_2D7D4:
		lea	(loc_2D710):l,%a1
		movel	%a1,(%a0)
		jmp	(%a1)
/*  --------------------------------------------------------------------------- */

loc_2D7DE:
		tstw	(Special_stage_%spheres_left):w
		bnew	loc_2D89E
		cmpib	#7,(Emerald_count+1):w
		bcss	loc_2D7F6
		subqw	#8,0x10(%a0)
		subqw	#8,0x46(%a0)

loc_2D7F6:
		lea	(loc_2D710):l,%a1
		movel	%a1,(%a0)
		jmp	(%a1)
/*  --------------------------------------------------------------------------- */

loc_2D800:
		tstw	(Special_stage_%spheres_left):w
		bnew	loc_2D89E
		cmpib	#7,(Emerald_count+1):w
		bcsw	loc_2D89E
		jsr	sub_2D8A4(%pc)
		subw	%d0,0x10(%a0)
		subw	%d0,0x46(%a0)
		lea	(loc_2D710):l,%a1
		movel	%a1,(%a0)
		jmp	(%a1)
/*  --------------------------------------------------------------------------- */

loc_2D828:
		tstw	(Special_stage_%spheres_left):w
		bnew	loc_2D89E
		cmpib	#7,(Emerald_count+1):w
		bcss	loc_2D89E
		braw	loc_2D710
/*  --------------------------------------------------------------------------- */

loc_2D83C:
		movel	#Map_Results,0xC(%a0)
		movew	#0x17C,0x10(%a0)
		movew	#0x14C,0x14(%a0)
		movew	(Player_mode):w,%d0
		subqw	#1,%d0
		bccs	loc_2D85A
		moveq	#0,%d0

loc_2D85A:
		addiw	#0x29,%d0
		moveb	%d0,0x22(%a0)
		btst	#3,(Level_frame_counter+1):w
		beqs	locret_2D870
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_2D870:
		rts
/*  --------------------------------------------------------------------------- */

loc_2D872:
		tstw	0x2E(%a0)
		beqs	loc_2D87E
		subqw	#1,0x2E(%a0)
		bras	loc_2D898
/*  --------------------------------------------------------------------------- */

loc_2D87E:
		tstb	4(%a0)
		bmis	loc_2D892
		moveaw	0x48(%a0),%a1
		subqw	#1,0x30(%a1)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2D892:
		addiw	#0x20,0x10(%a0)

loc_2D898:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2D89E:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2D8A4:
		moveq	#0,%d0
		moveq	#0,%d1
		cmpiw	#1,(Player_mode):w
		blss	locret_2D8CA
		moveq	#-0x18,%d0
		moveq	#3,%d1
		cmpiw	#3,(Player_mode):w
		beqs	locret_2D8CA
		moveq	#0,%d0
		moveq	#1,%d1
		tstb	(Graphics_flags):w
		bpls	locret_2D8CA
		moveq	#4,%d0
		moveq	#2,%d1

locret_2D8CA:
		rts
/*  End of function sub_2D8A4 */

/*  --------------------------------------------------------------------------- */
Map_GameOver:	.include "General/Sprites/Game Over/Map - Game Over.S"
Map_TitleCard:	.include "General/Sprites/Title Card/Map - Title Card S3.S"
Map_Results:	.include "General/Sprites/Results/Map - Results S3.S"

/*  =============== S U B R O U T I N E ======================================= */


LoadEnemyArt:
		lea	off_2DF60(%pc),%a6
		movew	(Apparent_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		addaw	(%a6,%d0.w),%a6
		movew	(%a6)+,%d6
		bmis	locret_2DF5E

loc_2DF50:
		moveal	(%a6)+,%a1
		movew	(%a6)+,%d2
		jsr	(Queue_Kos_Module):l
		dbf	%d6,loc_2DF50

locret_2DF5E:
		rts
/*  End of function LoadEnemyArt */

/*  --------------------------------------------------------------------------- */
off_2DF60:	.word PLCKosM_AIZ-off_2DF60
		.word PLCKosM_AIZ-off_2DF60
		.word PLCKosM_HCZ1-off_2DF60
		.word PLCKosM_HCZ2-off_2DF60
		.word PLCKosM_MGZ1-off_2DF60
		.word PLCKosM_MGZ2-off_2DF60
		.word PLCKosM_CNZ-off_2DF60
		.word PLCKosM_CNZ-off_2DF60
		.word PLCKosM_FBZ-off_2DF60
		.word PLCKosM_FBZ-off_2DF60
		.word PLCKosM_ICZ-off_2DF60
		.word PLCKosM_ICZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
		.word PLCKosM_LBZ-off_2DF60
PLCKosM_AIZ:	.word 2
		.long ArtKosM_AIZ_MonkeyDude
		.word 0xA900
		.long ArtKosM_AIZ_Tulipon
		.word 0xA540
		.long ArtKosM_AIZ_CaterkillerJr
		.word 0xABE0
PLCKosM_HCZ1:	.word 3
		.long ArtKosM_Blastoid
		.word 0xA720
		.long ArtKosM_TurboSpiker
		.word 0xA000
		.long ArtKosM_MegaChopper
		.word 0xA9A0
		.long ArtKosM_Pointdexter
		.word 0xAB20
PLCKosM_HCZ2:	.word 3
		.long ArtKosM_Jawz
		.word 0xA720
		.long ArtKosM_TurboSpiker
		.word 0xA000
		.long ArtKosM_MegaChopper
		.word 0xA9A0
		.long ArtKosM_Pointdexter
		.word 0xAB20
PLCKosM_MGZ1:	.word 2
		.long ArtKosM_Spiker
		.word 0xA600
		.long ArtKosM_MGZMiniboss
		.word 0xA9E0
		.long ArtKosM_MGZEndBossDebris
		.word 0xAE00
PLCKosM_MGZ2:	.word 1
		.long ArtKosM_Spiker
		.word 0xA600
		.long ArtKosM_Mantis
		.word 0xA9E0
PLCKosM_CNZ:	.word 3
		.long ArtKosM_Sparkle
		.word 0xA480
		.long ArtKosM_Batbot
		.word 0xAA40
		.long ArtKosM_ClamerShot
		.word 0xAE00
		.long ArtKosM_CNZBalloon
		.word 0xAE80
PLCKosM_FBZ:	.word 1
		.long ArtKosM_Blaster
		.word 0xA000
		.long ArtKosM_Technosqueek
		.word 0xA500
PLCKosM_ICZ:	.word 1
		.long ArtKosM_ICZSnowdust
		.word 0xAB00
		.long ArtKosM_StarPointer
		.word 0xA900
PLCKosM_LBZ:	.word 3
		.long ArtKosM_SnailBlaster
		.word 0xA480
		.long ArtKosM_Orbinaut
		.word 0xADC0
		.long ArtKosM_Ribot
		.word 0xA8E0
		.long ArtKosM_Corkey
		.word 0xAB00
/*  --------------------------------------------------------------------------- */

Obj_Bubbler:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_2E05C(%pc,%d0.w),%d1
		jmp	off_2E05C(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_2E05C:	.word loc_2E068-off_2E05C
		.word loc_2E0C6-off_2E05C
		.word loc_2E0E0-off_2E05C
		.word loc_2E142-off_2E05C
		.word loc_2E160-off_2E05C
		.word loc_2E166-off_2E05C
/*  --------------------------------------------------------------------------- */

loc_2E068:
		addqb	#2,5(%a0)
		movel	#Map_Bubbler,0xC(%a0)
		movew	#0x45C,0xA(%a0)
		moveb	#-0x7C,4(%a0)
		moveb	#0x10,7(%a0)
		movew	#0x80,8(%a0)
		moveb	0x2C(%a0),%d0
		bpls	loc_2E0AC
		addqb	#8,5(%a0)
		andiw	#0x7F,%d0
		moveb	%d0,0x32(%a0)
		moveb	%d0,0x33(%a0)
		moveb	#8,0x20(%a0)
		braw	loc_2E166
/*  --------------------------------------------------------------------------- */

loc_2E0AC:
		moveb	%d0,0x20(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	#-0x88,0x1A(%a0)
		jsr	(Random_Number):l
		moveb	%d0,0x26(%a0)

loc_2E0C6:
		lea	(Ani_Bubbler):l,%a1
		jsr	(Animate_Sprite):l
		cmpib	#6,0x22(%a0)
		bnes	loc_2E0E0
		moveb	#1,0x2E(%a0)

loc_2E0E0:
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_2E0F8
		moveb	#6,5(%a0)
		addqb	#4,0x20(%a0)
		braw	loc_2E142
/*  --------------------------------------------------------------------------- */

loc_2E0F8:
		moveb	0x26(%a0),%d0
		addqb	#1,0x26(%a0)
		andiw	#0x7F,%d0
		lea	(AirCountdown_WobbleData):l,%a1
		moveb	(%a1,%d0.w),%d0
		extw	%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		tstb	0x2E(%a0)
		beqs	loc_2E12A
		bsrw	sub_2E2BE
		cmpib	#6,5(%a0)
		beqs	loc_2E142

loc_2E12A:
		jsr	(MoveSprite2):l
		tstb	4(%a0)
		bpls	loc_2E13C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E13C:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E142:
		lea	(Ani_Bubbler):l,%a1
		jsr	(Animate_Sprite):l
		tstb	4(%a0)
		bpls	loc_2E15A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E15A:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E160:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E166:
		tstw	0x36(%a0)
		bnes	loc_2E1C8
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bccw	loc_2E272
		tstb	4(%a0)
		bplw	loc_2E272
		subqw	#1,0x38(%a0)
		bplw	loc_2E266
		movew	#1,0x36(%a0)

loc_2E18E:
		jsr	(Random_Number):l
		movew	%d0,%d1
		andiw	#7,%d0
		cmpiw	#6,%d0
		bccs	loc_2E18E
		moveb	%d0,0x34(%a0)
		andiw	#0xC,%d1
		lea	(byte_2E2AC):l,%a1
		addaw	%d1,%a1
		movel	%a1,0x3C(%a0)
		subqb	#1,0x32(%a0)
		bpls	loc_2E1C6
		moveb	0x33(%a0),0x32(%a0)
		bset	#7,0x36(%a0)

loc_2E1C6:
		bras	loc_2E1D0
/*  --------------------------------------------------------------------------- */

loc_2E1C8:
		subqw	#1,0x38(%a0)
		bplw	loc_2E266

loc_2E1D0:
		jsr	(Random_Number):l
		andiw	#0x1F,%d0
		movew	%d0,0x38(%a0)
		jsr	(Create_New_Sprite):l
		bnes	loc_2E24A
		movel	(%a0),(%a1)
		movew	0x10(%a0),0x10(%a1)
		jsr	(Random_Number):l
		andiw	#0xF,%d0
		subqw	#8,%d0
		addw	%d0,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveq	#0,%d0
		moveb	0x34(%a0),%d0
		moveal	0x3C(%a0),%a2
		moveb	(%a2,%d0.w),0x2C(%a1)
		btst	#7,0x36(%a0)
		beqs	loc_2E24A
		jsr	(Random_Number):l
		andiw	#3,%d0
		bnes	loc_2E236
		bset	#6,0x36(%a0)
		bnes	loc_2E24A
		moveb	#2,0x2C(%a1)

loc_2E236:
		tstb	0x34(%a0)
		bnes	loc_2E24A
		bset	#6,0x36(%a0)
		bnes	loc_2E24A
		moveb	#2,0x2C(%a1)

loc_2E24A:
		subqb	#1,0x34(%a0)
		bpls	loc_2E266
		jsr	(Random_Number):l
		andiw	#0x7F,%d0
		addiw	#0x80,%d0
		addw	%d0,0x38(%a0)
		clrw	0x36(%a0)

loc_2E266:
		lea	(Ani_Bubbler):l,%a1
		jsr	(Animate_Sprite):l

loc_2E272:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_2E294
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bcsw	loc_2E2A6
		rts
/*  --------------------------------------------------------------------------- */

loc_2E294:
		movew	0x48(%a0),%d0
		beqs	loc_2E2A0
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2E2A0:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E2A6:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
byte_2E2AC:	.byte 0
		.byte 1
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 1
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 1
		.byte 0
		.byte 1
		.byte 0
		.byte 0
		.byte 1
		.byte 0

/*  =============== S U B R O U T I N E ======================================= */


sub_2E2BE:
		lea	(Player_1):w,%a1
		bsrs	sub_2E2C8
		lea	(Player_2):w,%a1
/*  End of function sub_2E2BE */


/*  =============== S U B R O U T I N E ======================================= */


sub_2E2C8:
		tstb	0x2E(%a1)
		bmiw	locret_2E392
		movew	0x10(%a1),%d0
		movew	0x10(%a0),%d1
		subiw	#0x10,%d1
		cmpw	%d0,%d1
		bccw	locret_2E392
		addiw	#0x20,%d1
		cmpw	%d0,%d1
		bcsw	locret_2E392
		movew	0x14(%a1),%d0
		movew	0x14(%a0),%d1
		cmpw	%d0,%d1
		bccw	locret_2E392
		addiw	#0x10,%d1
		cmpw	%d0,%d1
		bcsw	locret_2E392
		btst	#6,0x2B(%a1)
		bnew	locret_2E392
		jsr	(Player_ResetAirTimer):l
		moveq	#sfx_Bubble,%d0
		jsr	(Play_Sound_2):l
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		moveb	#0x15,0x20(%a1)
		movew	#0x23,0x32(%a1)
		moveb	#0,0x40(%a1)
		bclr	#5,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		btst	#2,0x2A(%a1)
		beqw	loc_2E380
		cmpil	#Obj_Sonic,(%a1)
		bnes	loc_2E370
		bclr	#2,0x2A(%a1)
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		subqw	#5,0x14(%a1)
		bras	loc_2E380
/*  --------------------------------------------------------------------------- */

loc_2E370:
		moveb	#0xF,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		subqw	#1,0x14(%a1)

loc_2E380:
		cmpib	#6,5(%a0)
		beqs	locret_2E392
		moveb	#6,5(%a0)
		addqb	#4,0x20(%a0)

locret_2E392:
		rts
/*  End of function sub_2E2C8 */

/*  --------------------------------------------------------------------------- */
Ani_Bubbler:	.include "General/Sprites/Bubbles/Anim - Bubbler.S"
Map_Bubbler:	.include "General/Sprites/Bubbles/Map - Bubbler.S"
/*  --------------------------------------------------------------------------- */

Obj_37_1:
		movel	#Map_HCZWaterRush,0xC(%a0)
		orib	#4,4(%a0)
		movew	#0x437A,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x20,6(%a0)
		moveb	#2,0x22(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2E53E
		movel	#loc_2E5C8,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x30,0x10(%a1)
		movel	#Map_HCZWaterRushBlock,0xC(%a1)
		movew	#0x43D4,0xA(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0x20,6(%a1)
		moveb	#4,4(%a1)
		movew	#0x280,8(%a1)
		moveb	#1,0x22(%a1)
		movew	%a1,0x3C(%a0)

loc_2E53E:
		moveb	#3,(_unkF7C7):w
		movel	#loc_2E54A,(%a0)

loc_2E54A:
		tstb	(Level_trigger_array):w
		beqs	loc_2E56E
		moveb	#3,0x22(%a0)
		moveb	#1,0x24(%a0)
		movel	#loc_2E574,(%a0)
		moveb	#0,(_unkF7C7):w
		moveb	#1,(Palette_cycle_counters+0x00):w

loc_2E56E:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2E574:
		subqb	#1,0x24(%a0)
		bpls	loc_2E5B4
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#2,0x22(%a0)
		bnes	loc_2E5AE
		addiw	#0x20,0x10(%a0)
		cmpiw	#0x580,0x10(%a0)
		bnes	loc_2E5AE
		cmpiw	#0x5A0,0x14(%a0)
		bnes	loc_2E5AE
		subiw	#0x20,0x10(%a0)
		subiw	#0x20,0x14(%a0)

loc_2E5AE:
		andib	#1,0x22(%a0)

loc_2E5B4:
		cmpiw	#0x980,0x10(%a0)
		bcss	loc_2E5C2
		movew	#0x7F00,0x10(%a0)

loc_2E5C2:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2E5C8:
		tstb	(Level_trigger_array):w
		beqs	loc_2E5E8
		movel	#loc_2E5D4,(%a0)

loc_2E5D4:
		subiw	#0x10,0x14(%a0)
		cmpiw	#0x560,0x14(%a0)
		bnes	loc_2E5E8
		movew	#0x7F00,0x10(%a0)

loc_2E5E8:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_HCZWaterRush:
		.include "Levels/HCZ/Misc Object Data/Map - Water Rush.S"
Map_HCZWaterRushBlock:
		.include "Levels/HCZ/Misc Object Data/Map - Water Rush Block.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZWaterWall:
		tstb	0x2C(%a0)
		beqs	loc_2E794
		movel	#loc_2EB24,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2E794:
		movew	(Player_1+y_pos):w,%d0
		cmpiw	#0x500,%d0
		bccs	loc_2E7A4
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E7A4:
		lea	(ArtKosM_HCZGeyserHorz):l,%a1
		movew	#-0x6000,%d2
		jsr	(Queue_Kos_Module):l
		movel	#loc_2E7BA,(%a0)

loc_2E7BA:
		tstb	(Kos_modules_left):w
		beqs	loc_2E7C2
		rts
/*  --------------------------------------------------------------------------- */

loc_2E7C2:
		orib	#4,4(%a0)
		movew	#0x300,8(%a0)
		movel	#Map_HCZWaterWall,0xC(%a0)
		movew	#0x4500,0xA(%a0)
		moveb	#-0x80,7(%a0)
		moveb	#0x20,6(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#0x20,0x30(%a0)
		movel	#loc_2E80C,(%a0)

loc_2E80C:
		movew	(Player_1+x_pos):w,%d0
		subiw	#0x60,%d0
		cmpw	0x10(%a0),%d0
		bcsw	loc_2E896
		movel	#loc_2E8CC,(%a0)
		moveq	#sfx_Geyser,%d0
		jsr	(Play_Sound_2):l
		lea	(byte_2E89C):l,%a3
		movew	0x10(%a0),%d2
		addiw	#0x60,%d2
		movew	0x14(%a0),%d3
		moveq	#7,%d1

loc_2E83E:
		jsr	(Create_New_Sprite3):l
		bnes	loc_2E896
		movel	#loc_2E9AA,(%a1)
		movel	#Map_HCZWaterWallDebris,0xC(%a1)
		movew	#0x4558,0xA(%a1)
		moveb	#-0x7C,4(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d2,%d0
		movew	%d0,0x10(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d3,%d0
		movew	%d0,0x14(%a1)
		movew	#0x380,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		movew	(%a3)+,0x18(%a1)
		movew	(%a3)+,0x1A(%a1)
		moveb	%d1,0x22(%a1)
		dbf	%d1,loc_2E83E

loc_2E896:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
byte_2E89C:	.byte 0
		.byte 0xE8
		.word 0x400
		.word 0xFF80
		.byte 0
		.byte 0xF8
		.word 0x600
		.word 0xFFC0
		.byte 0
		.byte 8
		.word 0x600
		.word 0x40
		.byte 0
		.byte 0x18
		.word 0x400
		.word 0x80
		.byte 0
		.byte 0xE8
		.word 0x300
		.word 0xFC80
		.byte 0
		.byte 0xF8
		.word 0x400
		.word 0xFCC0
		.byte 0
		.byte 8
		.word 0x300
		.word 0x100
		.byte 0
		.byte 0x18
		.word 0x500
		.word 0xFF00
/*  --------------------------------------------------------------------------- */

loc_2E8CC:
		tstw	0x30(%a0)
		beqs	loc_2E8DA
		subqw	#1,0x30(%a0)
		addqw	#8,0x10(%a0)

loc_2E8DA:
		jsr	(Create_New_Sprite3):l
		bnew	loc_2E958
		movel	#loc_2EA6E,(%a1)
		movel	0xC(%a0),0xC(%a1)
		moveb	#-0x7C,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	(Level_frame_counter):w,%d0
		jsr	(Random_Number):l
		movew	%d0,%d1
		andiw	#0xF,%d0
		lslw	#3,%d0
		subiw	#0x50,%d0
		addw	%d0,0x10(%a1)
		addiw	#0x18,0x14(%a1)
		movew	#0x4530,0xA(%a1)
		lsrw	#4,%d1
		andiw	#3,%d1
		bnes	loc_2E936
		movew	#0x45C,0xA(%a1)

loc_2E936:
		moveb	%d1,0x20(%a1)
		movew	#0x380,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		movew	#0x400,0x18(%a1)
		movew	#0,0x1A(%a1)

loc_2E958:
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		tstb	4(%a0)
		bmis	loc_2E990
		clrb	(Palette_cycle_counters+0x00):w
		movew	#0xFF00|mus_MutePSG,%d0
		jsr	(Play_Sound_2):l
		movew	#0xFF00|mus_StopSFX,%d0
		jsr	(Play_Sound_2):l
		movew	#0x96,0x30(%a0)
		movel	#loc_2E996,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2E990:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2E996:
		subqw	#1,0x30(%a0)
		bmis	loc_2E99E
		rts
/*  --------------------------------------------------------------------------- */

loc_2E99E:
		jsr	(LoadEnemyArt):l
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2E9AA:
		subqb	#1,0x24(%a0)
		bpls	loc_2E9C0
		moveb	#2,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#7,0x22(%a0)

loc_2E9C0:
		jsr	(MoveSprite2):l
		addiw	#0x38,0x1A(%a0)
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_2EA32
		movew	#0,0x1A(%a0)
		asr	0x18(%a0)
		asr	0x18(%a0)
		movel	#loc_2EA38,(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2EA32
		movel	#loc_2EACE,(%a1)
		movel	#Map_HCZWaterWall,0xC(%a1)
		movew	#0x2530,0xA(%a1)
		moveb	#-0x7C,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	(Water_level):w,0x14(%a1)
		movew	#0x200,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		moveb	#8,0x20(%a1)

loc_2EA32:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2EA38:
		subqb	#1,0x24(%a0)
		bpls	loc_2EA4E
		moveb	#9,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#7,0x22(%a0)

loc_2EA4E:
		jsr	(MoveSprite2):l
		addiw	#8,0x1A(%a0)
		tstb	4(%a0)
		bplw	loc_2EA68
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2EA68:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2EA6E:
		jsr	(MoveSprite2):l
		addiw	#0x28,0x1A(%a0)
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_2EA92
		movew	%d0,0x14(%a0)
		movel	#loc_2EAAC,(%a0)
		addqb	#4,0x20(%a0)

loc_2EA92:
		tstb	4(%a0)
		bplw	loc_2EA68
		lea	(Ani_HCZWaterWall):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2EAAC:
		tstb	4(%a0)
		bplw	loc_2EA68
		lea	(Ani_HCZWaterWall):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		bnew	loc_2EA68
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2EACE:
		tstb	4(%a0)
		bplw	loc_2EA68
		lea	(Ani_HCZWaterWall):l,%a1
		jsr	(Animate_SpriteIrregularDelay):l
		tstb	5(%a0)
		bnew	loc_2EA68
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_HCZWaterWall:
		.include "Levels/HCZ/Misc Object Data/Anim - Water Wall.S"
/*  --------------------------------------------------------------------------- */

loc_2EB24:
		movew	(Player_1+x_pos):w,%d0
		addiw	#0x30,%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x60,%d0
		bccs	loc_2EB48
		movew	(Player_1+y_pos):w,%d0
		addiw	#0x40,%d0
		subw	0x14(%a0),%d0
		cmpiw	#0x10,%d0
		bcss	loc_2EB4E

loc_2EB48:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_2EB4E:
		lea	(ArtKosM_HCZGeyserVert):l,%a1
		movew	#-0x6000,%d2
		jsr	(Queue_Kos_Module):l
		moveb	#1,0x22(%a0)
		moveb	#-0x7F,(Player_1+object_control):w
		moveb	#-0x7F,(Player_2+object_control):w
		movel	#loc_2EB76,(%a0)

loc_2EB76:
		tstb	(Kos_modules_left):w
		beqs	loc_2EB8A
		subiw	#8,(Player_1+y_pos):w
		subiw	#8,(Player_2+y_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_2EB8A:
		orib	#4,4(%a0)
		movew	#0x300,8(%a0)
		movel	#Map_HCZWaterWall,0xC(%a0)
		movew	#0x4500,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x60,6(%a0)
		movew	#0x60,0x30(%a0)
		moveb	#0x1C,(Player_1+anim):w
		moveb	#0x1C,(Player_2+anim):w
		movel	#loc_2EBC8,(%a0)

loc_2EBC8:
		tstw	0x30(%a0)
		beqs	loc_2EBD6
		subqw	#1,0x30(%a0)
		subqw	#8,0x14(%a0)

loc_2EBD6:
		subiw	#8,(Player_1+y_pos):w
		subiw	#8,(Player_2+y_pos):w
		cmpiw	#0x28,0x30(%a0)
		bhiw	locret_2EC78
		moveb	#0x1A,(Player_1+anim):w
		moveb	#0x1A,(Player_2+anim):w
		movel	#loc_2ECAA,(%a0)
		moveq	#sfx_Geyser,%d0
		jsr	(Play_Sound_2):l
		moveb	#1,(Palette_cycle_counters+0x00):w
		lea	(byte_2EC7A):l,%a3
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x80,%d3
		moveq	#7,%d1

loc_2EC20:
		jsr	(Create_New_Sprite3):l
		bnes	locret_2EC78
		movel	#loc_2E9AA,(%a1)
		movel	#Map_HCZWaterWallDebris,0xC(%a1)
		movew	#0x4558,0xA(%a1)
		moveb	#-0x7C,4(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d2,%d0
		movew	%d0,0x10(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d3,%d0
		movew	%d0,0x14(%a1)
		movew	#0x280,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		movew	(%a3)+,0x18(%a1)
		movew	(%a3)+,0x1A(%a1)
		moveb	%d1,0x22(%a1)
		dbf	%d1,loc_2EC20

locret_2EC78:
		rts
/*  --------------------------------------------------------------------------- */
byte_2EC7A:	.byte 0xE8
		.byte 0
		.word 0xFE00
		.word 0xF500
		.byte 0xF8
		.byte 0
		.word 0xFF00
		.word 0xF400
		.byte 0xE8
		.byte 0
		.word 0xFC00
		.word 0xF800
		.byte 0xF8
		.byte 0
		.word 0xFD00
		.word 0xF600
		.byte 8
		.byte 0
		.word 0x300
		.word 0xF400
		.byte 0x18
		.byte 0
		.word 0x400
		.word 0xF500
		.byte 8
		.byte 0
		.word 0x100
		.word 0xF600
		.byte 0x18
		.byte 0
		.word 0x200
		.word 0xF800
/*  --------------------------------------------------------------------------- */

loc_2ECAA:
		tstw	0x30(%a0)
		beqs	loc_2ED00
		movew	#-0xA00,0x1A(%a0)
		subqw	#1,0x30(%a0)
		bnes	loc_2ED00
		movel	#loc_2EDBA,(%a0)
		lea	(Player_1):w,%a1
		moveb	#0,0x2E(%a1)
		movew	#0,0x18(%a1)
		movew	#-0xC00,0x1A(%a1)
		moveb	#0,0x40(%a1)
		lea	(Player_2):w,%a1
		moveb	#0,0x2E(%a1)
		movew	#0,0x18(%a1)
		movew	#-0xC00,0x1A(%a1)
		moveb	#0,0x40(%a1)
		movew	#-0x800,0x1A(%a0)

loc_2ED00:
		subiw	#0xA,(Player_1+y_pos):w
		subiw	#0xA,(Player_2+y_pos):w
		jsr	(MoveSprite2):l
		addiw	#0x48,0x1A(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_2ED64
		jsr	(Random_Number):l
		movew	%d0,%d1
		movew	%d0,%d2
		bsrs	sub_2ED6A
		addiw	#0x10,0x10(%a1)
		andiw	#0xF,%d1
		lslw	#6,%d1
		movew	%d1,0x18(%a1)
		movew	#-0x700,0x1A(%a1)
		movew	%d0,%d2
		jsr	(Create_New_Sprite3):l
		bnew	loc_2ED64
		bsrs	sub_2ED6A
		subiw	#0x10,0x10(%a1)
		negw	%d1
		movew	%d1,0x18(%a1)
		movew	#-0x700,0x1A(%a1)

loc_2ED64:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2ED6A:
		movel	#loc_2EA6E,(%a1)
		movel	0xC(%a0),0xC(%a1)
		moveb	#-0x7C,4(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x50,0x14(%a1)
		movew	#0x380,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		movew	#0x4530,0xA(%a1)
		lsrw	#4,%d2
		andiw	#3,%d2
		bnes	loc_2EDB4
		movew	#0x45C,0xA(%a1)

loc_2EDB4:
		moveb	%d2,0x20(%a1)
		rts
/*  End of function sub_2ED6A */

/*  --------------------------------------------------------------------------- */

loc_2EDBA:
		tstb	4(%a0)
		bmis	loc_2EDFE
		movew	#0xFF00|mus_StopSFX,%d0
		jsr	(Play_Sound_2):l
		movew	#0xFF00|mus_MutePSG,%d0
		jsr	(Play_Sound_2):l
		movew	#0xFF00|mus_StopSFX,%d0
		jsr	(Play_Sound_2):l
		moveb	#0,(Palette_cycle_counters+0x00):w
		movew	0x48(%a0),%d0
		beqs	loc_2EDF0
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2EDF0:
		movew	#0x1E,0x30(%a0)
		movel	#loc_2E996,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2EDFE:
		jsr	(MoveSprite2):l
		addiw	#0x48,0x1A(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_HCZWaterWall:
		.include "Levels/HCZ/Misc Object Data/Map - Waterfall.S"
Map_HCZWaterWallDebris:
		.include "Levels/HCZ/Misc Object Data/Map - Water Wall Debris.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZCGZFan:
		tstw	(Competition_mode):w
		bnew	loc_2F51C
		moveal	%a0,%a1
		tstb	0x2C(%a0)
		bpls	loc_2EFE0
		jsr	(Create_New_Sprite3):l
		bnew	locret_2F02A
		movel	#loc_2F22E,(%a0)
		movew	0x10(%a0),0x10(%a1)
		movew	0x10(%a0),0x40(%a0)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x1C,0x14(%a0)
		movel	#Map_HCZWaterRushBlock,0xC(%a0)
		movew	#0x43D4,0xA(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		movew	%a1,0x3C(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0x30,%d0
		addw	%d0,%d0
		movew	%d0,0x3A(%a0)
		moveb	0x2C(%a0),0x2C(%a1)
		bclr	#5,0x2C(%a1)
		bset	#4,0x2C(%a1)

loc_2EFE0:
		movel	#Map_HCZFan,0xC(%a1)
		movew	#0x240B,0xA(%a1)
		orib	#4,4(%a1)
		movew	#0x200,8(%a1)
		moveb	#0x10,7(%a1)
		moveb	#0xC,6(%a1)
		movew	0x10(%a1),0x40(%a1)
		moveb	0x2C(%a1),%d0
		andiw	#0xF,%d0
		addqw	#8,%d0
		lslw	#4,%d0
		movew	%d0,0x36(%a1)
		addiw	#0x30,%d0
		movew	%d0,0x38(%a1)
		movel	#loc_2F02C,(%a1)

locret_2F02A:
		rts
/*  --------------------------------------------------------------------------- */

loc_2F02C:
		moveb	0x2C(%a0),%d0
		btst	#5,%d0
		beqs	loc_2F04A
		tstb	(Level_trigger_array):w
		beqw	loc_2F152
		bclr	#5,0x2C(%a0)
		bset	#4,0x2C(%a0)

loc_2F04A:
		tstb	0x42(%a0)
		bnes	loc_2F080
		btst	#4,0x2C(%a0)
		bnes	loc_2F0A0
		subqw	#1,0x30(%a0)
		bpls	loc_2F078
		movew	#0,0x34(%a0)
		movew	#0x78,0x30(%a0)
		bchg	#0,0x32(%a0)
		beqs	loc_2F078
		movew	#0xB4,0x30(%a0)

loc_2F078:
		tstb	0x32(%a0)
		beqw	loc_2F0A0

loc_2F080:
		subqb	#1,0x24(%a0)
		bplw	loc_2F152
		cmpiw	#0x400,0x34(%a0)
		bccw	loc_2F152
		addiw	#0x2A,0x34(%a0)
		moveb	0x34(%a0),0x24(%a0)
		bras	loc_2F0BE
/*  --------------------------------------------------------------------------- */

loc_2F0A0:
		lea	(Player_1):w,%a1
		bsrw	sub_2F15C
		lea	(Player_2):w,%a1
		bsrw	sub_2F15C
		subqb	#1,0x24(%a0)
		bplw	loc_2F0D0
		moveb	#0,0x24(%a0)

loc_2F0BE:
		addqb	#1,0x22(%a0)
		cmpib	#5,0x22(%a0)
		bcss	loc_2F0D0
		moveb	#0,0x22(%a0)

loc_2F0D0:
		tstb	4(%a0)
		bpls	loc_2F0EA
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#1,%d0
		andib	#0xF,%d0
		bnes	loc_2F0EA
		moveq	#sfx_FanSmall,%d0
		jsr	(Play_Sound_2):l

loc_2F0EA:
		btst	#6,0x2C(%a0)
		beqs	loc_2F152
		moveb	(Level_frame_counter+1):w,%d0
		andib	#3,%d0
		bnes	loc_2F152
		jsr	(Create_New_Sprite):l
		bnes	loc_2F152
		movel	#loc_2F212,(%a1)
		movel	#Map_Bubbler,0xC(%a1)
		movew	#0x45C,0xA(%a1)
		moveb	#-0x7C,4(%a1)
		moveb	#4,7(%a1)
		moveb	#4,7(%a1)
		movew	#0x300,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		jsr	(Random_Number):l
		andiw	#0xF,%d0
		subqw	#8,%d0
		addw	%d0,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	#-0x800,0x1A(%a1)

loc_2F152:
		movew	0x40(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2F15C:
		cmpib	#4,5(%a1)
		bccw	locret_2F1FA
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x18,%d0
		cmpiw	#0x30,%d0
		bccw	locret_2F1FA
		moveq	#0,%d1
		moveb	(Oscillating_table+0x16):w,%d1
		addw	0x14(%a1),%d1
		addw	0x36(%a0),%d1
		subw	0x14(%a0),%d1
		bcss	locret_2F1FA
		cmpw	0x38(%a0),%d1
		bccs	locret_2F1FA
		tstb	0x2E(%a1)
		bnes	loc_2F1FC
		subw	0x36(%a0),%d1
		bcss	loc_2F1A4
		notw	%d1
		addw	%d1,%d1

loc_2F1A4:
		addw	0x36(%a0),%d1
		negw	%d1
		asrw	#6,%d1
		addw	%d1,0x14(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		movew	#0,0x1A(%a1)
		moveb	#0,0x2F(%a1)
		moveb	#0,0x40(%a1)
		btst	#6,0x2C(%a0)
		bnes	loc_2F204
		movew	#1,0x1C(%a1)
		tstb	0x27(%a1)
		bnes	locret_2F1FA
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#0x7F,0x30(%a1)
		moveb	#8,0x31(%a1)

locret_2F1FA:
		rts
/*  --------------------------------------------------------------------------- */

loc_2F1FC:
		movew	#1,0x1C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_2F204:
		movew	#1,0x1C(%a1)
		moveb	#0xF,0x20(%a1)
		rts
/*  End of function sub_2F15C */

/*  --------------------------------------------------------------------------- */

loc_2F212:
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_2F228
		jsr	(MoveSprite2):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2F228:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2F22E:
		moveaw	0x3C(%a0),%a1
		movew	(Player_1+y_pos):w,%d0
		subw	0x14(%a0),%d0
		bcss	loc_2F26C
		cmpiw	#0x20,%d0
		blts	loc_2F296
		tstb	0x42(%a1)
		bnes	loc_2F25C
		moveb	#1,0x42(%a1)
		movew	#0,0x34(%a1)
		moveq	#sfx_FanLatch,%d0
		jsr	(Play_Sound_2):l

loc_2F25C:
		movew	0x3A(%a0),%d1
		cmpw	0x30(%a0),%d1
		beqs	loc_2F296
		addqw	#8,0x30(%a0)
		bras	loc_2F296
/*  --------------------------------------------------------------------------- */

loc_2F26C:
		cmpiw	#-0x30,%d0
		bges	loc_2F296
		tstb	0x42(%a1)
		beqs	loc_2F28C
		moveb	#0,0x42(%a1)
		moveb	#0,0x24(%a1)
		moveq	#sfx_FanLatch,%d0
		jsr	(Play_Sound_2):l

loc_2F28C:
		tstw	0x30(%a0)
		beqs	loc_2F296
		subqw	#8,0x30(%a0)

loc_2F296:
		movew	0x30(%a0),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_2F2A4
		negw	%d0

loc_2F2A4:
		addw	0x40(%a0),%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x10(%a1)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		movew	0x40(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

Obj_HCZLargeFan:
		movew	(Player_1+x_pos):w,%d0
		subiw	#0x20,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_2F2F8
		movew	(Player_1+y_pos):w,%d0
		subiw	#0x20,%d0
		subw	0x14(%a0),%d0
		cmpiw	#0x40,%d0
		bcss	loc_2F304

loc_2F2F8:
		moveb	#3,(_unkF7C7):w
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_2F304:
		lea	(ArtKosM_HCZLargeFan):l,%a1
		movew	#-0x6000,%d2
		jsr	(Queue_Kos_Module):l
		movel	#loc_2F31A,(%a0)

loc_2F31A:
		tstb	(Kos_modules_left):w
		beqs	loc_2F322
		rts
/*  --------------------------------------------------------------------------- */

loc_2F322:
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		movel	#Map_HCZLargeFan,0xC(%a0)
		movew	#0x2500,0xA(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x20,6(%a0)
		movew	#8,0x30(%a0)
		moveq	#sfx_FanLatch,%d0
		jsr	(Play_Sound_2):l
		movel	#loc_2F35C,(%a0)

loc_2F35C:
		tstw	0x30(%a0)
		beqs	loc_2F372
		addqw	#8,0x14(%a0)
		subqw	#1,0x30(%a0)
		bnes	loc_2F372
		moveb	#0,(_unkF7C7):w

loc_2F372:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0xF,%d0
		bnes	loc_2F384
		moveq	#sfx_FanBig,%d0
		jsr	(Play_Sound_2):l

loc_2F384:
		subqb	#1,0x24(%a0)
		bplw	loc_2F3A4
		moveb	#0,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#5,0x22(%a0)
		bcss	loc_2F3A4
		moveb	#0,0x22(%a0)

loc_2F3A4:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_HCZFan:	.include "Levels/HCZ/Misc Object Data/Map - Fan.S"
Map_HCZLargeFan:.include "Levels/HCZ/Misc Object Data/Map - Large Fan.S"
/*  --------------------------------------------------------------------------- */

loc_2F51C:
		movel	#Map_CGZFan,0xC(%a0)
		movew	#0x6300,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#4,6(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		addqw	#8,%d0
		lslw	#4,%d0
		movew	%d0,0x36(%a0)
		addiw	#0x30,%d0
		movew	%d0,0x38(%a0)
		movel	#loc_2F560,(%a0)

loc_2F560:
		lea	(Player_1):w,%a1
		bsrw	sub_2F588
		lea	(Player_2):w,%a1
		bsrw	sub_2F588
		addqb	#1,0x22(%a0)
		cmpib	#3,0x22(%a0)
		bcss	loc_2F582
		moveb	#0,0x22(%a0)

loc_2F582:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2F588:
		cmpib	#4,5(%a1)
		bccw	locret_2F61E
		tstb	0x2E(%a1)
		bnew	locret_2F61E
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x14,%d0
		cmpiw	#0x28,%d0
		bccs	locret_2F61E
		moveq	#0,%d1
		moveb	(Oscillating_table+0x16):w,%d1
		addw	0x14(%a1),%d1
		addw	0x36(%a0),%d1
		subw	0x14(%a0),%d1
		bcss	locret_2F61E
		cmpw	0x38(%a0),%d1
		bccs	locret_2F61E
		subw	0x36(%a0),%d1
		bcss	loc_2F5D0
		notw	%d1
		addw	%d1,%d1

loc_2F5D0:
		addw	0x36(%a0),%d1
		negw	%d1
		asrw	#6,%d1
		addw	%d1,0x14(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		movew	#0,0x1A(%a1)
		moveb	#0,0x2F(%a1)
		moveb	#0,0x40(%a1)
		movew	#1,0x1C(%a1)
		tstb	0x27(%a1)
		bnes	locret_2F61E
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#0x7F,0x30(%a1)
		moveb	#8,0x31(%a1)

locret_2F61E:
		rts
/*  End of function sub_2F588 */

/*  --------------------------------------------------------------------------- */
Map_CGZFan:	.include "Levels/CGZ/Misc Object Data/Map - Fan.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZHandLauncher:
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		movel	#Map_HCZHandLauncher,0xC(%a0)
		movew	#0x23E4,0xA(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x40,6(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	#6,0x22(%a0)
		movew	#0x50,0x30(%a0)
		bset	#7,0x2A(%a0)
		jsr	(Create_New_Sprite3):l
		bnes	loc_2F6D2
		movel	#loc_2F96C,(%a1)
		movel	#Map_HCZHandLauncher,0xC(%a1)
		movew	#0x23E4,0xA(%a1)
		moveb	4(%a0),4(%a1)
		moveb	#0x20,7(%a1)
		moveb	#0x30,7(%a1)
		movew	#0x280,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	%a0,0x3C(%a1)

loc_2F6D2:
		movel	#loc_2F6D8,(%a0)

loc_2F6D8:
		movew	0x10(%a0),%d1
		subiw	#0x20,%d1
		movew	(Player_1+x_pos):w,%d0
		subw	%d1,%d0
		cmpiw	#0x40,%d0
		bcss	loc_2F6F8
		movew	(Player_2+x_pos):w,%d0
		subw	%d1,%d0
		cmpiw	#0x40,%d0
		bccs	loc_2F756

loc_2F6F8:
		tstb	0x34(%a0)
		beqs	loc_2F730
		moveb	#7,0x22(%a0)
		movew	#0x80,8(%a0)
		tstw	0x36(%a0)
		beqs	loc_2F716
		subqw	#1,0x36(%a0)
		bras	loc_2F750
/*  --------------------------------------------------------------------------- */

loc_2F716:
		tstw	0x30(%a0)
		beqs	loc_2F722
		subqw	#8,0x30(%a0)
		bras	loc_2F750
/*  --------------------------------------------------------------------------- */

loc_2F722:
		movel	#loc_2F786,(%a0)
		movew	#0x3B,0x36(%a0)
		bras	loc_2F750
/*  --------------------------------------------------------------------------- */

loc_2F730:
		movew	#0x13,0x36(%a0)
		moveb	#6,0x22(%a0)
		movew	#0x200,8(%a0)
		cmpiw	#0x18,0x30(%a0)
		blss	loc_2F750
		subqw	#8,0x30(%a0)
		bras	loc_2F762
/*  --------------------------------------------------------------------------- */

loc_2F750:
		bsrw	sub_2F860
		bras	loc_2F762
/*  --------------------------------------------------------------------------- */

loc_2F756:
		cmpiw	#0x50,0x30(%a0)
		beqs	loc_2F762
		addqw	#8,0x30(%a0)

loc_2F762:
		movew	0x30(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		movew	#0x20,%d1
		movew	#0x11,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_2F786:
		tstw	0x36(%a0)
		beqs	loc_2F796
		subqw	#1,0x36(%a0)
		bsrw	sub_2F860
		bras	loc_2F7D0
/*  --------------------------------------------------------------------------- */

loc_2F796:
		cmpiw	#0x50,0x30(%a0)
		bnes	loc_2F7B4
		moveb	#0,0x34(%a0)
		movel	#loc_2F6D8,(%a0)
		moveq	#sfx_Dash,%d0
		jsr	(Play_Sound_2):l
		bras	loc_2F7D0
/*  --------------------------------------------------------------------------- */

loc_2F7B4:
		cmpiw	#0x18,0x30(%a0)
		bnes	loc_2F7CC
		bsrw	sub_2F7FC
		moveb	#6,0x22(%a0)
		movew	#0x200,8(%a0)

loc_2F7CC:
		addqw	#8,0x30(%a0)

loc_2F7D0:
		movew	0x30(%a0),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		cmpiw	#0x18,0x30(%a0)
		bhis	loc_2F7F6
		movew	#0x20,%d1
		movew	#0x11,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l

loc_2F7F6:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2F7FC:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrw	sub_2F80C
		lea	(Player_2):w,%a1
		moveq	#4,%d6
/*  End of function sub_2F7FC */


/*  =============== S U B R O U T I N E ======================================= */


sub_2F80C:
		bclr	%d6,0x35(%a0)
		beqs	loc_2F84C
		movew	#0x1000,0x1C(%a1)
		movew	#0x1000,0x18(%a1)
		movew	#0,0x1A(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_2F834
		negw	0x1C(%a1)
		negw	0x18(%a1)

loc_2F834:
		moveb	#0,0x20(%a1)
		moveb	#0,0x2E(%a1)
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_2F84C:
		bclr	%d6,0x2A(%a0)
		beqs	locret_2F85E
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)

locret_2F85E:
		rts
/*  End of function sub_2F80C */


/*  =============== S U B R O U T I N E ======================================= */


sub_2F860:
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveb	(Ctrl_1_pressed_logical):w,%d0
		bsrw	sub_2F878
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		moveb	(Ctrl_2_pressed_logical):w,%d0
/*  End of function sub_2F860 */


/*  =============== S U B R O U T I N E ======================================= */


sub_2F878:
		btst	%d6,0x35(%a0)
		beqs	loc_2F8CE
		andib	#0x70,%d0
		beqs	locret_2F8CC
		bclr	%d6,0x35(%a0)
		bclr	%d6,0x2A(%a0)
		movew	#0x800,0x1C(%a1)
		movew	#0x800,0x18(%a1)
		movew	#-0x400,0x1A(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_2F8AE
		negw	0x1C(%a1)
		negw	0x18(%a1)

loc_2F8AE:
		moveb	#0,0x2E(%a1)
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		tstb	0x35(%a0)
		bnes	locret_2F8CC
		moveb	#0,0x34(%a0)

locret_2F8CC:
		rts
/*  --------------------------------------------------------------------------- */

loc_2F8CE:
		btst	%d6,0x2A(%a0)
		beqw	locret_2F96A
		tstb	0x34(%a0)
		bnes	loc_2F8EE
		movew	0x10(%a1),%d0
		addiw	#8,%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x10,%d0
		bccs	locret_2F96A

loc_2F8EE:
		tstb	0x2E(%a1)
		bnes	locret_2F96A
		tstw	(Debug_placement_mode):w
		bnes	locret_2F96A
		bset	%d6,0x35(%a0)
		moveq	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		moveb	#0,0x20(%a1)
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		bclr	#2,0x2A(%a1)
		cmpil	#Obj_Sonic,(%a1)
		beqs	loc_2F92C
		moveb	#0xF,0x1E(%a1)

loc_2F92C:
		moveb	#1,0x2E(%a1)
		bclr	#5,0x2A(%a1)
		movew	0x10(%a0),0x10(%a1)
		subqw	#2,0x10(%a1)
		movew	#0x1000,0x1C(%a1)
		bclr	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_2F964
		addqw	#4,0x10(%a1)
		negw	0x1C(%a1)
		bset	#0,0x2A(%a1)

loc_2F964:
		moveb	#1,0x34(%a0)

locret_2F96A:
		rts
/*  End of function sub_2F878 */

/*  --------------------------------------------------------------------------- */

loc_2F96C:
		moveaw	0x3C(%a0),%a1
		movew	0x14(%a1),0x14(%a0)
		cmpiw	#0x18,0x30(%a1)
		blss	loc_2F980
		rts
/*  --------------------------------------------------------------------------- */

loc_2F980:
		addqb	#1,0x22(%a0)
		cmpib	#6,0x22(%a0)
		bcss	loc_2F992
		moveb	#0,0x22(%a0)

loc_2F992:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_HCZHandLauncher:
		.include "Levels/HCZ/Misc Object Data/Map - Hand Launcher.S"
byte_2FAA8:	.byte 0x10
		.byte 0x20
		.word 0x43D4
		.byte 8
		.byte 0x20
		.word 0x4416
/*  --------------------------------------------------------------------------- */

Obj_Door:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		bmiw	loc_2FC2C
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		addw	%d0,%d0
		lea	byte_2FAA8(%pc,%d0.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movew	(%a1)+,0xA(%a0)
		movel	#Map_HCZCNZDoor,0xC(%a0)
		orib	#4,4(%a0)
		movew	#0x300,8(%a0)
		movew	0x14(%a0),0x32(%a0)
		movew	0x10(%a0),%d2
		movew	%d2,%d3
		subiw	#0x200,%d2
		addiw	#0x18,%d3
		btst	#0,0x2A(%a0)
		beqs	loc_2FB0A
		subiw	#-0x1E8,%d2
		addiw	#0x1E8,%d3

loc_2FB0A:
		movew	%d2,0x34(%a0)
		movew	%d3,0x36(%a0)
		movel	#loc_2FB18,(%a0)

loc_2FB18:
		btst	#0,0x2A(%a0)
		bnes	loc_2FB34
		movew	0x34(%a0),%d2
		movew	0x10(%a0),%d3
		tstb	0x38(%a0)
		beqs	loc_2FB46
		movew	0x36(%a0),%d3
		bras	loc_2FB46
/*  --------------------------------------------------------------------------- */

loc_2FB34:
		movew	0x10(%a0),%d2
		movew	0x36(%a0),%d3
		tstb	0x38(%a0)
		beqs	loc_2FB46
		movew	0x34(%a0),%d2

loc_2FB46:
		movew	0x32(%a0),%d4
		movew	%d4,%d5
		subiw	#0x20,%d4
		addiw	#0x20,%d5
		moveb	#0,0x38(%a0)
		lea	(Player_1):w,%a1
		bsrs	sub_2FBCE
		lea	(Player_2):w,%a1
		bsrs	sub_2FBCE
		tstb	0x38(%a0)
		beqs	loc_2FB8A
		cmpiw	#0x40,0x30(%a0)
		beqs	loc_2FBAA
		addqw	#8,0x30(%a0)
		cmpiw	#0x40,0x30(%a0)
		bnes	loc_2FB9E
		moveq	#sfx_FanLatch,%d0
		jsr	(Play_Sound_2):l
		bras	loc_2FB9E
/*  --------------------------------------------------------------------------- */

loc_2FB8A:
		tstw	0x30(%a0)
		beqs	loc_2FBAA
		subqw	#8,0x30(%a0)
		bnes	loc_2FB9E
		moveq	#sfx_FanLatch,%d0
		jsr	(Play_Sound_2):l

loc_2FB9E:
		movew	0x32(%a0),%d0
		subw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)

loc_2FBAA:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2FBCE:
		movew	0x10(%a1),%d0
		cmpw	%d2,%d0
		bltw	locret_2FBFA
		cmpw	%d3,%d0
		bccw	locret_2FBFA
		movew	0x14(%a1),%d0
		cmpw	%d4,%d0
		bcsw	locret_2FBFA
		cmpw	%d5,%d0
		bccw	locret_2FBFA
		tstb	0x2E(%a1)
		bmis	locret_2FBFA
		moveb	#1,0x38(%a0)

locret_2FBFA:
		rts
/*  End of function sub_2FBCE */

/*  --------------------------------------------------------------------------- */
Map_HCZCNZDoor:	.include "Levels/HCZ/Misc Object Data/Map - (&CNZ) Door S3.S"
byte_2FC28:	.byte 0x20
		.byte 8
		.word 0x4416
/*  --------------------------------------------------------------------------- */

loc_2FC2C:
		andiw	#0x7F,%d0
		moveb	%d0,0x22(%a0)
		addw	%d0,%d0
		addw	%d0,%d0
		lea	byte_2FC28(%pc,%d0.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		movew	(%a1)+,0xA(%a0)
		movel	#Map_CNZDoorHorizontal,0xC(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x32(%a0)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		subiw	#0x100,%d2
		addiw	#0x18,%d3
		btst	#1,0x2A(%a0)
		beqs	loc_2FC80
		subiw	#-0xE8,%d2
		addiw	#0xE8,%d3

loc_2FC80:
		movew	%d2,0x34(%a0)
		movew	%d3,0x36(%a0)
		movel	#loc_2FC8E,(%a0)

loc_2FC8E:
		btst	#1,0x2A(%a0)
		bnes	loc_2FCAA
		movew	0x34(%a0),%d2
		movew	0x14(%a0),%d3
		tstb	0x38(%a0)
		beqs	loc_2FCBC
		movew	0x36(%a0),%d3
		bras	loc_2FCBC
/*  --------------------------------------------------------------------------- */

loc_2FCAA:
		movew	0x14(%a0),%d2
		movew	0x36(%a0),%d3
		tstb	0x38(%a0)
		beqs	loc_2FCBC
		movew	0x34(%a0),%d2

loc_2FCBC:
		movew	0x32(%a0),%d4
		movew	%d4,%d5
		subiw	#0x20,%d4
		addiw	#0x20,%d5
		moveb	#0,0x38(%a0)
		lea	(Player_1):w,%a1
		bsrs	sub_2FD34
		lea	(Player_2):w,%a1
		bsrs	sub_2FD34
		tstb	0x38(%a0)
		beqs	loc_2FCF0
		cmpiw	#0x40,0x30(%a0)
		beqs	loc_2FD10
		addqw	#8,0x30(%a0)
		bras	loc_2FCFA
/*  --------------------------------------------------------------------------- */

loc_2FCF0:
		tstw	0x30(%a0)
		beqs	loc_2FD10
		subqw	#8,0x30(%a0)

loc_2FCFA:
		movew	0x30(%a0),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_2FD08
		negw	%d0

loc_2FD08:
		addw	0x32(%a0),%d0
		movew	%d0,0x10(%a0)

loc_2FD10:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2FD34:
		movew	0x14(%a1),%d0
		cmpw	%d2,%d0
		bltw	locret_2FD60
		cmpw	%d3,%d0
		bccw	locret_2FD60
		movew	0x10(%a1),%d0
		cmpw	%d4,%d0
		bcsw	locret_2FD60
		cmpw	%d5,%d0
		bccw	locret_2FD60
		tstb	0x2E(%a1)
		bmis	locret_2FD60
		moveb	#1,0x38(%a0)

locret_2FD60:
		rts
/*  End of function sub_2FD34 */

/*  --------------------------------------------------------------------------- */
Map_CNZDoorHorizontal:
		.include "Levels/CNZ/Misc Object Data/Map - Door Horizontal.S"
word_2FD7E:	.word   0xB28,  0xCD8
		.word   0xBA8,  0xCD8
		.word   0xBA8,  0xCD8
		.word   0xEA8, 0x1058
		.word  0x11A8, 0x12D8
		.word  0x1928, 0x19D8
		.word  0x21A8, 0x2358
		.word  0x21A8, 0x2358
		.word  0x22A8, 0x2458
		.word  0x23A8, 0x2558
		.word  0x2528, 0x26D8
		.word  0x26A8, 0x27D8
		.word  0x26A8, 0x2958
		.word  0x2728, 0x28D8
		.word  0x3328, 0x3458
		.word  0x3328, 0x33D8
/*  --------------------------------------------------------------------------- */

Obj_HCZConveyorBelt:
		lea	(Conveyor_belt_load_array):w,%a1
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		tstb	(%a1,%d0.w)
		beqs	loc_2FDE0
		movew	0x48(%a0),%d0
		beqs	loc_2FDDA
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2FDDA:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_2FDE0:
		moveb	#1,(%a1,%d0.w)
		andiw	#0xF,%d0
		lslw	#2,%d0
		lea	word_2FD7E(%pc,%d0.w),%a1
		movew	(%a1)+,%d0
		movew	%d0,0x3C(%a0)
		btst	#0,0x2A(%a0)
		bnes	loc_2FE00
		subqw	#8,%d0

loc_2FE00:
		movew	%d0,0x40(%a0)
		movew	(%a1)+,%d0
		movew	%d0,0x3E(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_2FE14
		addqw	#8,%d0

loc_2FE14:
		movew	%d0,0x42(%a0)
		movel	#loc_2FE1E,(%a0)

loc_2FE1E:
		lea	0x32(%a0),%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1_logical):w,%d1
		moveq	#0,%d2
		bsrs	sub_2FE80
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		movew	(Ctrl_2_logical):w,%d1
		moveq	#1,%d2
		bsrs	sub_2FE80
		movew	(Camera_X_pos_coarse_back):w,%d1
		movew	0x3C(%a0),%d0
		andiw	#-0x80,%d0
		subiw	#0x280,%d0
		cmpw	%d0,%d1
		bcss	loc_2FE5E
		movew	0x3E(%a0),%d0
		andiw	#-0x80,%d0
		cmpw	%d0,%d1
		bhis	loc_2FE5E
		rts
/*  --------------------------------------------------------------------------- */

loc_2FE5E:
		lea	(Conveyor_belt_load_array):w,%a1
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	#0,(%a1,%d0.w)
		movew	0x48(%a0),%d0
		beqs	loc_2FE7A
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_2FE7A:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_2FE80:
		tstb	(%a2)
		beqw	loc_2FF7C
		tstw	(Debug_placement_mode):w
		bnew	loc_2FF2E
		cmpib	#4,5(%a1)
		bccw	loc_2FF2E
		btst	#0xA,%d1
		beqs	loc_2FEBA
		subqw	#1,0x10(%a1)
		subqb	#1,6(%a2)
		bpls	loc_2FEBA
		moveb	#7,6(%a2)
		addib	#0x10,8(%a2)
		andib	#0x10,8(%a2)

loc_2FEBA:
		btst	#0xB,%d1
		beqs	loc_2FEDC
		addqw	#1,0x10(%a1)
		subqb	#1,6(%a2)
		bpls	loc_2FEDC
		moveb	#7,6(%a2)
		addib	#0x10,8(%a2)
		andib	#0x10,8(%a2)

loc_2FEDC:
		andiw	#0x70,%d1
		bnew	loc_2FF1A
		moveq	#2,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_2FEF0
		negw	%d0

loc_2FEF0:
		addw	%d0,0x10(%a1)
		movew	0x10(%a1),%d0
		cmpw	0x40(%a0),%d0
		bcss	loc_2FF2E
		cmpw	0x42(%a0),%d0
		bccs	loc_2FF2E
		bsrw	sub_300B4
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  --------------------------------------------------------------------------- */

loc_2FF1A:
		movew	#-0x500,0x1A(%a1)
		btst	#6,0x2A(%a1)
		beqs	loc_2FF2E
		movew	#-0x200,0x1A(%a1)

loc_2FF2E:
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		btst	#6,0x2A(%a1)
		beqs	loc_2FF44
		moveb	#0x5A,2(%a2)

loc_2FF44:
		andib	#-4,0x2E(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		moveb	#0,0x27(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_2FF7C:
		tstb	2(%a2)
		beqs	loc_2FF88
		subqb	#1,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_2FF88:
		movew	0x10(%a1),%d0
		cmpw	0x40(%a0),%d0
		bcsw	locret_3002E
		cmpw	0x42(%a0),%d0
		bccw	locret_3002E
		cmpiw	#1,0x1C(%a1)
		beqw	loc_30030
		movew	0x14(%a0),%d0
		addiw	#0x14,%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_3002E
		addiw	#0x10,%d0
		cmpw	0x14(%a1),%d0
		bcss	locret_3002E
		tstw	(Debug_placement_mode):w
		bnes	locret_3002E
		cmpib	#4,5(%a1)
		bccs	locret_3002E
		tstb	0x2E(%a1)
		bnes	locret_3002E
		tstw	0x1A(%a1)
		bmis	locret_3002E
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		andib	#-4,4(%a1)
		movew	0x14(%a0),%d0
		addiw	#0x14,%d0
		movew	%d0,0x14(%a1)
		moveb	#0,0x20(%a1)
		moveb	#3,0x2E(%a1)
		moveb	#0x63,0x22(%a1)
		moveb	#0,4(%a2)
		moveb	#0,6(%a2)
		moveb	#0,8(%a2)
		moveb	#1,(%a2)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2

locret_3002E:
		rts
/*  --------------------------------------------------------------------------- */

loc_30030:
		movew	0x14(%a0),%d0
		subiw	#0x14,%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_3002E
		addiw	#0x10,%d0
		cmpw	0x14(%a1),%d0
		bcss	locret_3002E
		tstw	(Debug_placement_mode):w
		bnes	locret_3002E
		cmpib	#4,5(%a1)
		bccs	locret_3002E
		tstb	0x2E(%a1)
		bnes	locret_3002E
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		andib	#-4,4(%a1)
		movew	0x14(%a0),%d0
		subiw	#0x14,%d0
		movew	%d0,0x14(%a1)
		moveb	#0,0x20(%a1)
		moveb	#3,0x2E(%a1)
		moveb	#0x65,0x22(%a1)
		moveb	#-0x80,4(%a2)
		moveb	#0,6(%a2)
		moveb	#0,8(%a2)
		moveb	#1,(%a2)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  End of function sub_2FE80 */


/*  =============== S U B R O U T I N E ======================================= */


sub_300B4:
		tstw	0x1C(%a1)
		bnes	loc_300DA
		moveb	4(%a2),%d0
		beqs	loc_300D8
		bpls	loc_300CC
		addib	#6,%d0
		bccs	loc_300CA
		moveq	#0,%d0

loc_300CA:
		bras	loc_300D4
/*  --------------------------------------------------------------------------- */

loc_300CC:
		subib	#6,%d0
		bccs	loc_300D4
		moveq	#0,%d0

loc_300D4:
		moveb	%d0,4(%a2)

loc_300D8:
		bras	loc_30104
/*  --------------------------------------------------------------------------- */

loc_300DA:
		clrw	0x1C(%a1)
		moveb	4(%a2),%d0
		subib	#-0x80,%d0
		beqs	loc_30104
		bpls	loc_300F4
		addib	#6,%d0
		bccs	loc_300F2
		moveq	#0,%d0

loc_300F2:
		bras	loc_300FC
/*  --------------------------------------------------------------------------- */

loc_300F4:
		subib	#6,%d0
		bccs	loc_300FC
		moveq	#0,%d0

loc_300FC:
		addib	#-0x80,%d0
		moveb	%d0,4(%a2)

loc_30104:
		moveq	#0,%d0
		moveb	4(%a2),%d0
		lsrb	#4,%d0
		addb	8(%a2),%d0
		moveb	byte_3012C(%pc,%d0.w),%d1
		moveb	%d1,0x22(%a1)
		andiw	#0xF,%d0
		moveb	byte_3014C(%pc,%d0.w),%d1
		extw	%d1
		addw	0x14(%a0),%d1
		movew	%d1,0x14(%a1)
		rts
/*  End of function sub_300B4 */

/*  --------------------------------------------------------------------------- */
byte_3012C:	.byte  0x94, 0x63, 0x64, 0x64, 0x65, 0x65, 0x65, 0x66, 0x66, 0x66, 0x66, 0x67, 0x67, 0x67, 0x68, 0x68, 0x95, 0x63, 0x64, 0x64
		.byte  0x65, 0x65, 0x65, 0x66, 0x66, 0x66, 0x66, 0x67, 0x67, 0x67, 0x68, 0x68
byte_3014C:	.byte  0x14, 0x14,  0xB,  0xB, 0xF1, 0xF1, 0xF1, 0xEC, 0xEC, 0xEC, 0xEC, 0xF4, 0xF4, 0xF4, 0xFE, 0xFE
/*  --------------------------------------------------------------------------- */

Obj_HCZConveryorSpike:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lslw	#2,%d0
		lea	word_2FD7E(%pc),%a1
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,0x3C(%a0)
		movew	(%a1)+,0x3E(%a0)
		movel	#Map_HCZConveyorSpike,0xC(%a0)
		movew	#0x243E,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#-0x75,0x28(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_301C8
		addiw	#0x18,0x14(%a0)
		movel	#loc_3022C,(%a0)
		braw	loc_3022C
/*  --------------------------------------------------------------------------- */

loc_301C8:
		subiw	#0x18,0x14(%a0)
		movew	#0x40,0x26(%a0)
		movel	#loc_301DA,(%a0)

loc_301DA:
		addqw	#2,0x10(%a0)
		movew	0x10(%a0),%d0
		cmpw	0x3E(%a0),%d0
		bnes	loc_301F4
		movel	#loc_301F8,(%a0)
		movew	0x10(%a0),0x30(%a0)

loc_301F4:
		braw	loc_30280
/*  --------------------------------------------------------------------------- */

loc_301F8:
		subqw	#2,0x26(%a0)
		andiw	#0x7E,0x26(%a0)
		movew	0x26(%a0),%d0
		bnes	loc_3020E
		movel	#loc_3022C,(%a0)

loc_3020E:
		lea	word_302BE(%pc),%a1
		movew	(%a1,%d0.w),%d1
		movew	0x20(%a1,%d0.w),%d2
		addw	0x30(%a0),%d1
		addw	0x32(%a0),%d2
		movew	%d1,0x10(%a0)
		movew	%d2,0x14(%a0)
		bras	loc_30280
/*  --------------------------------------------------------------------------- */

loc_3022C:
		subqw	#2,0x10(%a0)
		movew	0x10(%a0),%d0
		cmpw	0x3C(%a0),%d0
		bnes	loc_30246
		movel	#loc_30248,(%a0)
		movew	0x10(%a0),0x30(%a0)

loc_30246:
		bras	loc_30280
/*  --------------------------------------------------------------------------- */

loc_30248:
		subqw	#2,0x26(%a0)
		andiw	#0x7E,0x26(%a0)
		movew	0x26(%a0),%d0
		cmpiw	#0x40,0x26(%a0)
		bnes	loc_30264
		movel	#loc_301DA,(%a0)

loc_30264:
		lea	word_302BE(%pc),%a1
		movew	(%a1,%d0.w),%d1
		movew	0x20(%a1,%d0.w),%d2
		addw	0x30(%a0),%d1
		addw	0x32(%a0),%d2
		movew	%d1,0x10(%a0)
		movew	%d2,0x14(%a0)

loc_30280:
		movew	(Camera_X_pos_coarse_back):w,%d1
		movew	0x3C(%a0),%d0
		andiw	#-0x80,%d0
		subiw	#0x280,%d0
		cmpw	%d0,%d1
		bcss	loc_302AC
		movew	0x3E(%a0),%d0
		andiw	#-0x80,%d0
		cmpw	%d0,%d1
		bhis	loc_302AC
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_302AC:
		movew	0x48(%a0),%d0
		beqs	loc_302B8
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_302B8:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
word_302BE:	.word 0
		.word 2
		.word 4
		.word 6
		.word 9
		.word 0xB
		.word 0xD
		.word 0xF
		.word 0x10
		.word 0x12
		.word 0x13
		.word 0x15
		.word 0x16
		.word 0x16
		.word 0x17
		.word 0x17
		.word 0x18
		.word 0x17
		.word 0x17
		.word 0x16
		.word 0x16
		.word 0x15
		.word 0x13
		.word 0x12
		.word 0x10
		.word 0xF
		.word 0xD
		.word 0xB
		.word 9
		.word 6
		.word 4
		.word 2
		.word 0
		.word 0xFFFD
		.word 0xFFFB
		.word 0xFFF9
		.word 0xFFF6
		.word 0xFFF4
		.word 0xFFF2
		.word 0xFFF0
		.word 0xFFEF
		.word 0xFFED
		.word 0xFFEC
		.word 0xFFEA
		.word 0xFFE9
		.word 0xFFE9
		.word 0xFFE8
		.word 0xFFE8
		.word 0xFFE8
		.word 0xFFE8
		.word 0xFFE8
		.word 0xFFE9
		.word 0xFFE9
		.word 0xFFEA
		.word 0xFFEC
		.word 0xFFED
		.word 0xFFEF
		.word 0xFFF0
		.word 0xFFF2
		.word 0xFFF4
		.word 0xFFF6
		.word 0xFFF9
		.word 0xFFFB
		.word 0xFFFD
		.word 0
		.word 2
		.word 4
		.word 6
		.word 9
		.word 0xB
		.word 0xD
		.word 0xF
		.word 0x10
		.word 0x12
		.word 0x13
		.word 0x15
		.word 0x16
		.word 0x16
		.word 0x17
		.word 0x17
Map_HCZConveyorSpike:
		.include "Levels/HCZ/Misc Object Data/Map - Conveyor Spike.S"
/*  --------------------------------------------------------------------------- */

Obj_CNZBalloon:
		movel	#Map_CNZBalloon,0xC(%a0)
		movew	#0x351,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x20,6(%a0)
		moveb	#-0x29,0x28(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	0x2C(%a0),%d0
		addb	%d0,%d0
		andib	#0xE,%d0
		moveb	%d0,0x20(%a0)
		jsr	(Random_Number):l
		moveb	%d0,0x26(%a0)
		movel	#loc_303B8,(%a0)

loc_303B8:
		tstb	0x29(%a0)
		beqs	loc_303DA
		lea	(Player_1):w,%a1
		bclr	#0,0x29(%a0)
		beqs	loc_303CC
		bsrs	sub_30412

loc_303CC:
		lea	(Player_2):w,%a1
		bclr	#1,0x29(%a0)
		beqs	loc_303DA
		bsrs	sub_30412

loc_303DA:
		lea	(Ani_CNZBalloon):l,%a1
		jsr	(Animate_Sprite):l
		/*  Bug: probably meant to be 5(%a0), and at some point the animation terminated */
		/*  with code 0xFC (increment routine counter) rather than 0xFB (move offscreen) */
		tstb	5
		beqs	loc_303F2
		movew	#0x7F00,0x10(%a0)

loc_303F2:
		moveq	#0,%d0
		moveb	0x26(%a0),%d0
		addqb	#1,0x26(%a0)
		jsr	(GetSineCosine):l
		asrw	#5,%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		jmp	(loc_19CC4):l

/*  =============== S U B R O U T I N E ======================================= */


sub_30412:
		movew	#-0x700,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#0,0x2E(%a1)
		bset	#0,0x20(%a0)
		tstb	0x2C(%a0)
		bpls	loc_30466
		movew	#-0x380,0x1A(%a1)
		tstb	0x34(%a0)
		bnes	loc_30466
		lea	(word_304B8):l,%a2
		bsrs	sub_3047C
		bsrs	sub_3047C
		bsrs	sub_3047C
		bsrs	sub_3047C
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)

loc_30466:
		tstb	0x34(%a0)
		bnes	locret_3047A
		moveq	#sfx_Balloon,%d0
		jsr	(Play_Sound_2):l
		moveb	#1,0x34(%a0)

locret_3047A:
		rts
/*  End of function sub_30412 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3047C:
		jsr	(Create_New_Sprite):l
		bnes	locret_304B6
		movel	#Obj_Bubbler,(%a1)
		movew	0x10(%a0),0x10(%a1)
		jsr	(Random_Number):l
		movew	%d0,%d1
		andiw	#0xF,%d0
		subqw	#8,%d0
		addw	%d0,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		andiw	#0xF,%d1
		subqw	#8,%d1
		addw	%d1,0x14(%a1)
		moveb	(%a2)+,0x2C(%a1)

locret_304B6:
		rts
/*  End of function sub_3047C */

/*  --------------------------------------------------------------------------- */
word_304B8:	.word      0,  0x103
Ani_CNZBalloon:	.include "Levels/CNZ/Misc Object Data/Anim - Balloon.S"
Map_CNZBalloon:	.include "Levels/CNZ/Misc Object Data/Map - Balloon.S"
/*  --------------------------------------------------------------------------- */

Obj_CNZCannon:
		movel	#Map_CNZCannon,0xC(%a0)
		movew	#0x4374,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x30,7(%a0)
		moveb	#0x30,6(%a0)
		moveb	#9,0x22(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#4,(%a2)
		movel	#loc_307B2,(%a0)

loc_307B2:
		bsrs	sub_307EC
		lea	0x30(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d1
		bsrw	sub_308B4
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		movew	(Ctrl_2_logical):w,%d1
		cmpiw	#2,(Tails_CPU_routine):w
		bnes	loc_307DE
		moveb	#0,(%a2)

loc_307DE:
		bsrw	sub_308B4
		bsrw	sub_309D8
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_307EC:
		movew	0x34(%a0),%d0
		bnes	loc_30804
		movew	#0x10,%d1
		movew	#0x29,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectTop):l
/*  --------------------------------------------------------------------------- */

loc_30804:
		subqw	#1,%d0
		bnes	loc_30834
		moveb	0x26(%a0),%d0
		addqb	#2,0x26(%a0)
		jsr	(GetSineCosine):l
		addiw	#0x120,%d0
		lsrw	#6,%d0
		moveb	%d0,0x1D(%a0)
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x1F,%d0
		bnes	locret_30832
		moveq	#sfx_CannonTurn,%d0
		jsr	(Play_Sound_2):l

locret_30832:
		rts
/*  --------------------------------------------------------------------------- */

loc_30834:
		subqw	#1,%d0
		bnes	loc_3088E
		subqw	#1,0x36(%a0)
		bpls	loc_30844
		movew	#3,0x34(%a0)

loc_30844:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#3,%d0
		bnes	locret_3088C
		jsr	(Create_New_Sprite3):l
		bnew	locret_3088C
		movel	#Obj_FireShield_Dissipate,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x18,0x14(%a1)
		moveb	0x1D(%a0),%d0
		lslb	#4,%d0
		addib	#-0x80,%d0
		jsr	(GetSineCosine):l
		aslw	#3,%d1
		aslw	#3,%d0
		movew	%d1,0x18(%a1)
		movew	%d0,0x1A(%a1)

locret_3088C:
		rts
/*  --------------------------------------------------------------------------- */

loc_3088E:
		moveb	0x26(%a0),%d0
		addqb	#2,0x26(%a0)
		jsr	(GetSineCosine):l
		addiw	#0x120,%d0
		lsrw	#6,%d0
		moveb	%d0,0x1D(%a0)
		cmpib	#4,%d0
		bnes	locret_308B2
		movew	#0,0x34(%a0)

locret_308B2:
		rts
/*  End of function sub_307EC */


/*  =============== S U B R O U T I N E ======================================= */


sub_308B4:
		moveb	(%a2),%d0
		bnes	loc_3090C
		bclr	%d6,0x2A(%a0)
		beqs	locret_3090A
		bclr	#3,0x2A(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	#0x380,8(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		moveb	#-0x7F,0x2E(%a1)
		bset	#2,0x2A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		moveb	#1,(%a2)

locret_3090A:
		rts
/*  --------------------------------------------------------------------------- */

loc_3090C:
		subqb	#1,%d0
		bnes	loc_3093C
		movew	0x1A(%a1),%d0
		addiw	#0x38,0x1A(%a1)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a1)
		movew	0x14(%a0),%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_3093A
		movew	%d0,0x14(%a1)
		moveb	#0x1C,0x20(%a1)
		moveb	#2,(%a2)

locret_3093A:
		rts
/*  --------------------------------------------------------------------------- */

loc_3093C:
		subqb	#1,%d0
		bnew	loc_309C6
		cmpiw	#2,0x34(%a0)
		beqs	loc_30966
		cmpiw	#0x200,0x30(%a0)
		beqs	loc_3095A
		cmpiw	#0x202,0x30(%a0)
		bnes	loc_30960

loc_3095A:
		movew	#1,0x34(%a0)

loc_30960:
		andiw	#0x70,%d1
		beqs	locret_309C4

loc_30966:
		moveb	0x1D(%a0),%d0
		lslb	#4,%d0
		addib	#-0x80,%d0
		jsr	(GetSineCosine):l
		aslw	#4,%d1
		aslw	#4,%d0
		movew	%d1,0x18(%a1)
		movew	%d0,0x1A(%a1)
		movew	%d1,0x1C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x18,0x14(%a1)
		moveb	#0,0x2E(%a1)
		bset	#1,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#2,0x20(%a1)
		movew	#2,0x34(%a0)
		movew	#0xF,0x36(%a0)
		moveb	#3,(%a2)
		moveb	#8,2(%a2)

locret_309C4:
		rts
/*  --------------------------------------------------------------------------- */

loc_309C6:
		subqb	#1,2(%a2)
		bnes	locret_309D6
		movew	#0x100,8(%a1)
		moveb	#0,(%a2)

locret_309D6:
		rts
/*  End of function sub_308B4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_309D8:
		tstb	4(%a0)
		bpls	locret_30A30
		moveq	#0,%d0
		moveb	0x1D(%a0),%d0
		cmpb	0x2E(%a0),%d0
		beqs	locret_30A30
		moveb	%d0,0x2E(%a0)
		lea	(DPLC_CNZCannon):l,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_30A30
		movew	#-0x7700,%d4

loc_30A04:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addil	#ArtUnc_CNZCannon,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_30A04

locret_30A30:
		rts
/*  End of function sub_309D8 */

/*  --------------------------------------------------------------------------- */
Map_CNZCannon:	.include "General/Sprites/CNZ Cannon/Map - CNZ Cannon.S"
DPLC_CNZCannon:	.include "General/Sprites/CNZ Cannon/DPLC - CNZ Cannon.S"
/*  --------------------------------------------------------------------------- */

Obj_CNZRisingPlatform:
		movel	#Map_CNZRisingPlatform,0xC(%a0)
		movew	#0x43BE,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x30,7(%a0)
		moveb	#0x10,6(%a0)
		moveb	#6,0x1E(%a0)
		movel	#loc_30C0E,(%a0)

loc_30C0E:
		bsrs	sub_30C48

loc_30C10:
		movew	#0x30,%d1
		movew	#0x11,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		lea	(Ani_CNZRisingPlatform):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Ani_CNZRisingPlatform:
		.include "Levels/CNZ/Misc Object Data/Anim - Rising Platform.S"

/*  =============== S U B R O U T I N E ======================================= */


sub_30C48:
		moveb	0x30(%a0),%d0
		bnes	loc_30C8A
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_30C64
		moveb	#1,0x30(%a0)
		movew	#0x100,0x20(%a0)

loc_30C64:
		tstw	0x1A(%a0)
		beqs	locret_30C88
		jsr	(MoveSprite2):l
		addiw	#8,0x1A(%a0)
		tstw	0x1A(%a0)
		bmis	locret_30C88
		movew	#0,0x1A(%a0)
		movew	#0x200,0x20(%a0)

locret_30C88:
		rts
/*  --------------------------------------------------------------------------- */

loc_30C8A:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_30CC4
		jsr	(MoveSprite2):l
		cmpiw	#0x200,0x1A(%a0)
		bges	loc_30CA8
		addiw	#0x18,0x1A(%a0)

loc_30CA8:
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	locret_30CC2
		addw	%d1,0x14(%a0)
		movel	#loc_30C10,(%a0)
		movew	#0x200,0x20(%a0)

locret_30CC2:
		rts
/*  --------------------------------------------------------------------------- */

loc_30CC4:
		negw	0x1A(%a0)
		subiw	#0x80,0x1A(%a0)
		moveb	#0,0x30(%a0)
		moveq	#sfx_BalloonPlatform,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_30C48 */

/*  --------------------------------------------------------------------------- */
Map_CNZRisingPlatform:
		.include "Levels/CNZ/Misc Object Data/Map - Rising Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_CNZTrapDoor:
		movel	#Map_CNZTrapDoor,0xC(%a0)
		movew	#0x43F0,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#8,6(%a0)
		movel	#loc_30D5C,(%a0)

loc_30D5C:
		lea	(Player_1):w,%a1
		bsrs	sub_30D8C
		lea	(Player_2):w,%a1
		bsrs	sub_30D8C
		movew	#0x20,%d1
		movew	#9,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		lea	(Ani_CNZTrapDoor):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_30D8C:
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		addiw	#0x20,%d0
		cmpiw	#0x40,%d0
		bccs	locret_30DBE
		movew	0x14(%a0),%d0
		subw	0x14(%a1),%d0
		addiw	#0x20,%d0
		cmpiw	#0x20,%d0
		bccs	locret_30DBE
		moveb	#1,0x20(%a0)
		moveq	#sfx_TrapDoor,%d0
		jsr	(Play_Sound_2):l

locret_30DBE:
		rts
/*  End of function sub_30D8C */

/*  --------------------------------------------------------------------------- */
Ani_CNZTrapDoor:.include "Levels/CNZ/Misc Object Data/Anim - Trap Door.S"
Map_CNZTrapDoor:.include "Levels/CNZ/Misc Object Data/Map - Trap Door.S"
/*  --------------------------------------------------------------------------- */

Obj_CNZLightBulb:
		movel	#Map_CNZLightBulb,0xC(%a0)
		movew	#0x4404,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		tstb	(Water_flag):w
		bnes	loc_30E30
		movel	#loc_30E4C,(%a0)
		bras	loc_30E4C
/*  --------------------------------------------------------------------------- */

loc_30E30:
		movel	#loc_30E36,(%a0)

loc_30E36:
		movew	(Water_level):w,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_30E4C
		moveb	#1,0x22(%a0)
		movel	#loc_30E4C,(%a0)

loc_30E4C:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_CNZLightBulb:
		.include "Levels/CNZ/Misc Object Data/Map - Light Bulb.S"
/*  --------------------------------------------------------------------------- */

Obj_CNZHoverFan:
		movel	#Map_CNZHoverFan,0xC(%a0)
		movew	#0x43E8,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	0x10(%a0),0x30(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andiw	#0xF,%d0
		addqw	#4,%d0
		lslw	#4,%d0
		movew	%d0,0x36(%a0)
		addiw	#0x30,%d0
		movew	%d0,0x38(%a0)
		andiw	#0x70,%d1
		addiw	#0x18,%d1
		movew	%d1,0x32(%a0)
		addw	%d1,%d1
		movew	%d1,0x34(%a0)
		moveb	0x2C(%a0),%d0
		bmis	loc_30EE6
		movel	#loc_30F56,(%a0)
		braw	loc_30F56
/*  --------------------------------------------------------------------------- */

loc_30EE6:
		andiw	#0x70,%d0
		movew	%d0,%d1
		lsrw	#4,%d0
		moveb	%d0,0x22(%a0)
		addib	#0x10,%d1
		moveb	%d1,7(%a0)
		btst	#0,0x2A(%a0)
		bnes	loc_30F0C
		movel	#loc_30F24,(%a0)
		braw	loc_30F24
/*  --------------------------------------------------------------------------- */

loc_30F0C:
		movel	#loc_30F12,(%a0)

loc_30F12:
		moveq	#0,%d0
		moveb	(Oscillating_table+0x0E):w,%d0
		subiw	#0x30,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)

loc_30F24:
		moveq	#0,%d6
		lea	(Player_1):w,%a1
		bsrw	sub_30F84
		lea	(Player_2):w,%a1
		bsrw	sub_30F84
		tstw	%d6
		beqs	loc_30F4C
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x1F,%d0
		bnes	loc_30F4C
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

loc_30F4C:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_30F56:
		moveq	#0,%d6
		lea	(Player_1):w,%a1
		bsrw	sub_30F84
		lea	(Player_2):w,%a1
		bsrw	sub_30F84
		tstw	%d6
		beqs	loc_30F7E
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x1F,%d0
		bnes	loc_30F7E
		moveq	#sfx_Hoverpad,%d0
		jsr	(Play_Sound_2):l

loc_30F7E:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_30F84:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	0x32(%a0),%d0
		cmpw	0x34(%a0),%d0
		bccs	locret_3100E
		moveq	#0,%d1
		moveb	(Oscillating_table+0x16):w,%d1
		addw	0x14(%a1),%d1
		addw	0x36(%a0),%d1
		subw	0x14(%a0),%d1
		bcss	locret_3100E
		cmpw	0x38(%a0),%d1
		bccs	locret_3100E
		cmpib	#4,5(%a1)
		bccw	locret_3100E
		tstb	0x2E(%a1)
		bnes	locret_3100E
		subw	0x36(%a0),%d1
		bcss	loc_30FCA
		notw	%d1
		addw	%d1,%d1

loc_30FCA:
		addw	0x36(%a0),%d1
		negw	%d1
		asrw	#4,%d1
		addw	%d1,0x14(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		movew	#0,0x1A(%a1)
		moveq	#1,%d6
		movew	#1,0x1C(%a1)
		tstb	0x27(%a1)
		bnes	locret_3100E
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#0x7F,0x30(%a1)
		moveb	#8,0x31(%a1)

locret_3100E:
		rts
/*  End of function sub_30F84 */

/*  --------------------------------------------------------------------------- */
Map_CNZHoverFan:.include "Levels/CNZ/Misc Object Data/Map - Hover Fan.S"
/*  --------------------------------------------------------------------------- */

Obj_48_1:
		moveb	0x2C(%a0),%d0
		beqs	loc_310B6
		addb	%d0,%d0
		moveb	%d0,0x34(%a0)
		movel	#loc_31164,(%a0)
		braw	loc_31164
/*  --------------------------------------------------------------------------- */

loc_310B6:
		movel	#loc_310BC,(%a0)

loc_310BC:
		lea	(Player_1):w,%a1
		bsrw	sub_310D2
		lea	(Player_2):w,%a1
		bsrw	sub_310D2
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_310D2:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		btst	#0,0x2A(%a0)
		bnes	loc_310E4
		negw	%d0

loc_310E4:
		addiw	#0x50,%d0
		cmpiw	#0xA0,%d0
		bccs	locret_31162
		movew	0x14(%a1),%d1
		addiw	#0x20,%d1
		subw	0x14(%a0),%d1
		bcss	locret_31162
		cmpiw	#0x40,%d1
		bccs	locret_31162
		cmpib	#4,5(%a1)
		bccs	locret_31162
		tstb	0x2E(%a1)
		bnes	locret_31162
		subiw	#0x50,%d0
		bccs	loc_31132
		notw	%d0
		movew	#0x1000,0x1C(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_3112A
		negw	0x1C(%a1)

loc_3112A:
		movew	0x1C(%a1),0x18(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_31132:
		addw	%d0,%d0
		addiw	#0x60,%d0
		btst	#0,0x2A(%a0)
		bnes	loc_31142
		negw	%d0

loc_31142:
		negb	%d0
		asrw	#4,%d0
		addw	%d0,0x10(%a1)
		movew	0x36(%a0),%d0
		bnes	loc_31158
		moveq	#sfx_TunnelBooster,%d0
		jsr	(Play_Sound_2):l

loc_31158:
		addqw	#1,0x36(%a0)
		andiw	#0x1F,0x36(%a0)

locret_31162:
		rts
/*  End of function sub_310D2 */

/*  --------------------------------------------------------------------------- */

loc_31164:
		lea	0x30(%a0),%a2
		lea	(Player_1):w,%a1
		bsrw	sub_31180
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		bsrw	sub_31180
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_31180:
		moveb	(%a2),%d0
		bnew	loc_3120C
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x18,%d0
		cmpiw	#0x30,%d0
		bccs	locret_3120A
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addiw	#0x30,%d1
		cmpiw	#0x50,%d1
		bccs	locret_3120A
		cmpib	#4,5(%a1)
		bccs	locret_3120A
		tstb	0x2E(%a1)
		bnes	locret_3120A
		subiw	#0x50,%d1
		negw	%d1
		cmpiw	#0x40,%d1
		bcss	loc_311DA
		moveb	#1,(%a2)
		moveb	0x34(%a0),2(%a2)
		movew	%d0,-(%sp)
		moveq	#sfx_Transporter,%d0
		jsr	(Play_Sound_2):l
		movew	(%sp)+,%d0

loc_311DA:
		asrw	#2,%d1
		cmpib	#1,0x38(%a1)
		beqs	loc_311E6
		asrw	#1,%d1

loc_311E6:
		subw	%d1,0x14(%a1)
		moveq	#1,%d2
		cmpiw	#0x18,%d0
		beqs	loc_311FA
		bcss	loc_311F6
		negw	%d2

loc_311F6:
		addw	%d2,0x10(%a1)

loc_311FA:
		bset	#1,0x2A(%a1)
		moveb	#0xF,0x20(%a1)
		clrb	0x40(%a1)

locret_3120A:
		rts
/*  --------------------------------------------------------------------------- */

loc_3120C:
		subqb	#1,%d0
		bnes	locret_31250
		subqb	#1,2(%a2)
		beqs	loc_31244
		subiw	#8,0x14(%a1)
		moveq	#1,%d2
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		beqs	loc_31230
		bcss	loc_3122C
		negw	%d2

loc_3122C:
		addw	%d2,0x10(%a1)

loc_31230:
		movew	#0,0x18(%a1)
		movew	#0,0x1C(%a1)
		movew	#0,0x1A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_31244:
		movew	#-0x800,0x1A(%a1)
		moveb	#0,(%a2)
		rts
/*  --------------------------------------------------------------------------- */

locret_31250:
		rts
/*  End of function sub_31180 */

/*  --------------------------------------------------------------------------- */
word_31252:	.word 0x4E0
		.word 0x6F0
		.word 0x870
		.word 0x9C0
		.word 0xAE0
		.word 0xC00
		.word 0xCF0
		.word 0xDE0
/*  --------------------------------------------------------------------------- */

Obj_CNZCylinder:
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		lsrb	#3,%d1
		andiw	#0xE,%d1
		movew	word_31252(%pc,%d1.w),%d1
		movew	%d1,0x3E(%a0)
		addw	%d0,%d0
		andiw	#0x1E,%d0
		movew	%d0,0x3A(%a0)
		movel	#Map_CNZCylinder,0xC(%a0)
		movew	#0x438E,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		movew	0x10(%a0),0x2E(%a0)
		movew	0x14(%a0),0x30(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,%d1
		andib	#0xF,%d0
		subib	#0xA,%d0
		andib	#3,%d0
		moveb	%d0,0x44(%a0)
		andiw	#0xF0,%d1
		lslw	#2,%d1
		btst	#0,0x2A(%a0)
		beqs	loc_312D8
		negw	%d1

loc_312D8:
		movew	%d1,0x46(%a0)
		movel	#loc_312E2,(%a0)

loc_312E2:
		bsrs	sub_3133C
		lea	0x32(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d5
		bsrw	sub_3161A
		addqw	#4,%a2
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		movew	(Ctrl_2_logical):w,%d5
		bsrw	sub_3161A
		movew	#0x2B,%d1
		movew	#0x20,%d2
		movew	#0x21,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		subqb	#1,0x24(%a0)
		bpls	loc_31332
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_31332:
		movew	0x2E(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_3133C:
		movew	0x3A(%a0),%d0
		movew	off_31348(%pc,%d0.w),%d0
		jmp	off_31348(%pc,%d0.w)
/*  End of function sub_3133C */

/*  --------------------------------------------------------------------------- */
off_31348:	.word loc_31362-off_31348
		.word loc_3144A-off_31348
		.word loc_31468-off_31348
		.word loc_31486-off_31348
		.word loc_314AA-off_31348
		.word loc_314C8-off_31348
		.word loc_314E6-off_31348
		.word loc_31504-off_31348
		.word loc_31528-off_31348
		.word loc_31546-off_31348
		.word loc_31546-off_31348
		.word loc_31546-off_31348
		.word loc_31546-off_31348
/*  --------------------------------------------------------------------------- */

loc_31362:
		movew	0x3C(%a0),%d1
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		cmpw	%d1,%d0
		beqs	loc_313AE
		movew	%d0,0x3C(%a0)
		subw	%d1,%d0
		bcss	loc_313AE
		movew	0x1A(%a0),%d0
		bpls	loc_31382
		negw	%d0

loc_31382:
		cmpiw	#0x200,%d0
		bccs	loc_313AE
		movew	0x14(%a0),%d0
		subw	0x30(%a0),%d0
		addiw	#0x40,%d0
		cmpiw	#0x80,%d0
		bccs	loc_313AE
		addiw	#0x400,0x1A(%a0)
		movew	0x3E(%a0),%d0
		cmpw	0x1A(%a0),%d0
		bgts	loc_313AE
		movew	%d0,0x1A(%a0)

loc_313AE:
		jsr	(MoveSprite2):l
		moveq	#0,%d5
		btst	#3,0x2A(%a0)
		beqs	loc_313C2
		moveb	(Ctrl_1_held_logical):w,%d5

loc_313C2:
		btst	#4,0x2A(%a0)
		beqs	loc_313CE
		orb	(Ctrl_2_held_logical):w,%d5

loc_313CE:
		movew	0x14(%a0),%d0
		subw	0x30(%a0),%d0
		beqs	loc_31434
		bccs	loc_31406
		movew	0x3E(%a0),%d0
		cmpw	0x1A(%a0),%d0
		bles	locret_31448
		addiw	#0x20,0x1A(%a0)
		tstw	0x1A(%a0)
		bmis	loc_313FE
		btst	#1,%d5
		beqs	loc_31404
		addiw	#0x20,0x1A(%a0)
		bras	loc_31404
/*  --------------------------------------------------------------------------- */

loc_313FE:
		addiw	#0x10,0x1A(%a0)

loc_31404:
		bras	locret_31448
/*  --------------------------------------------------------------------------- */

loc_31406:
		movew	0x3E(%a0),%d0
		negw	%d0
		cmpw	0x1A(%a0),%d0
		bges	locret_31448
		subiw	#0x20,0x1A(%a0)
		tstw	0x1A(%a0)
		bpls	loc_3142C
		btst	#0,%d5
		beqs	loc_31432
		subiw	#0x20,0x1A(%a0)
		bras	loc_31432
/*  --------------------------------------------------------------------------- */

loc_3142C:
		subiw	#0x10,0x1A(%a0)

loc_31432:
		bras	locret_31448
/*  --------------------------------------------------------------------------- */

loc_31434:
		movew	0x1A(%a0),%d0
		bpls	loc_3143C
		negw	%d0

loc_3143C:
		cmpiw	#0x80,%d0
		bccs	locret_31448
		movew	#0,0x1A(%a0)

locret_31448:
		rts
/*  --------------------------------------------------------------------------- */

loc_3144A:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#3,%d0
		addw	0x2E(%a0),%d0
		movew	%d0,0x10(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31468:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#2,%d0
		addw	0x2E(%a0),%d0
		movew	%d0,0x10(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31486:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#2,%d0
		movew	%d0,%d1
		asrw	#1,%d0
		addw	%d1,%d0
		addw	0x2E(%a0),%d0
		movew	%d0,0x10(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_314AA:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		addw	0x2E(%a0),%d0
		movew	%d0,0x10(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_314C8:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#3,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_314E6:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#2,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31504:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#2,%d0
		movew	%d0,%d1
		asrw	#1,%d0
		addw	%d1,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31528:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#1,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)
		movew	0x46(%a0),%d0
		addw	%d0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31546:
		movew	0x46(%a0),%d0
		bpls	loc_31588
		addw	%d0,0x26(%a0)
		moveb	0x26(%a0),%d0
		cmpib	#-0x80,%d0
		bccs	loc_31570
		andib	#0x7F,%d0
		addib	#-0x80,%d0
		moveb	%d0,0x26(%a0)
		subqb	#1,0x44(%a0)
		andib	#3,0x44(%a0)

loc_31570:
		movew	#0x20,%d2
		moveb	0x26(%a0),%d0
		cmpib	#-0x80,%d0
		bccs	loc_315B0
		moveb	#-0x80,%d0
		moveb	%d0,0x26(%a0)
		bras	loc_315B0
/*  --------------------------------------------------------------------------- */

loc_31588:
		addw	%d0,0x26(%a0)
		moveb	0x26(%a0),%d0
		cmpib	#-0x80,%d0
		bccs	loc_315AC
		andib	#0x7F,%d0
		addib	#-0x80,%d0
		moveb	%d0,0x26(%a0)
		addqb	#1,0x44(%a0)
		andib	#3,0x44(%a0)

loc_315AC:
		movew	#0x20,%d2

loc_315B0:
		jsr	(GetSineCosine):l
		asrw	#3,%d1
		moveb	0x44(%a0),%d3
		andib	#3,%d3
		bnes	loc_315D6
		addw	0x2E(%a0),%d1
		movew	%d1,0x10(%a0)
		negw	%d2
		addw	0x30(%a0),%d2
		movew	%d2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_315D6:
		subqb	#1,%d3
		bnes	loc_315EC
		addw	0x30(%a0),%d1
		movew	%d1,0x14(%a0)
		addw	0x2E(%a0),%d2
		movew	%d2,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_315EC:
		subqb	#1,%d3
		bnes	loc_31604
		negw	%d1
		addw	0x2E(%a0),%d1
		movew	%d1,0x10(%a0)
		addw	0x30(%a0),%d2
		movew	%d2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31604:
		negw	%d1
		addw	0x30(%a0),%d1
		movew	%d1,0x14(%a0)
		negw	%d2
		addw	0x2E(%a0),%d2
		movew	%d2,0x10(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_3161A:
		moveb	(%a2),%d0
		bnes	loc_31692
		btst	%d6,0x2A(%a0)
		beqs	locret_31690
		moveb	#0,1(%a2)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bpls	loc_3163C
		negw	%d0
		moveb	#-0x80,1(%a2)

loc_3163C:
		moveb	%d0,2(%a2)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		moveb	#3,0x2E(%a1)
		moveb	0x44(%a1),0x1E(%a1)
		moveb	0x45(%a1),0x1F(%a1)
		bclr	#2,0x2A(%a1)
		bclr	#1,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		moveb	#0,0x40(%a1)
		moveb	#0,0x20(%a1)
		moveb	#1,(%a2)
		braw	loc_31764
/*  --------------------------------------------------------------------------- */

locret_31690:
		rts
/*  --------------------------------------------------------------------------- */

loc_31692:
		tstb	4(%a1)
		bplw	loc_3174C
		cmpib	#4,5(%a1)
		bccw	loc_3174C
		btst	%d6,0x2A(%a0)
		beqw	loc_3175E
		moveq	#0,%d0
		moveb	1(%a2),%d0
		jsr	(GetSineCosine):l
		addiw	#0x100,%d0
		asrw	#2,%d0
		moveb	%d0,3(%a2)
		moveq	#0,%d2
		movew	2(%a2),%d2
		mulsw	%d2,%d1
		swap	%d1
		addw	0x10(%a0),%d1
		movew	%d1,0x10(%a1)
		addqb	#2,1(%a2)
		movew	#0x100,8(%a1)
		moveb	0x35(%a0),%d0
		cmpb	3(%a2),%d0
		blss	loc_316EE
		movew	#0x80,8(%a1)

loc_316EE:
		movew	#0,0x1C(%a1)
		movew	0x1A(%a0),%d0
		bpls	loc_316FC
		negw	%d0

loc_316FC:
		btst	#1,0x2A(%a1)
		bnes	loc_31710
		cmpiw	#0x480,%d0
		bcss	loc_31710
		movew	#0x800,0x1C(%a1)

loc_31710:
		andib	#0x70,%d5
		beqs	loc_31764
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		movew	0x1A(%a0),0x1A(%a1)
		addiw	#-0x680,0x1A(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1C(%a1)

loc_3174C:
		bset	#1,0x2A(%a1)
		movew	#0x100,8(%a1)
		moveb	#0,0x2E(%a1)

loc_3175E:
		moveb	#0,(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_31764:
		moveq	#0,%d0
		moveb	1(%a2),%d0

loc_3176A:
		addib	#0xB,%d0
		divuw	#0x16,%d0
		moveb	PlayerTwistFrames(%pc,%d0.w),0x22(%a1)
		andib	#-4,4(%a1)
		moveb	PlayerTwistFlip(%pc,%d0.w),%d0
		orb	%d0,4(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		movel	%a2,-(%sp)
		jsr	(Perform_Player_DPLC):l
		moveal	(%sp)+,%a2
		rts
/*  End of function sub_3161A */

/*  --------------------------------------------------------------------------- */
PlayerTwistFrames:.byte 0x55
		.byte 0x59
		.byte 0x5A
		.byte 0x5B
		.byte 0x5A
		.byte 0x59
		.byte 0x55
		.byte 0x56
		.byte 0x57
		.byte 0x58
		.byte 0x57
		.byte 0x56
PlayerTwistFlip:.byte 0
		.byte 1
		.byte 1
		.byte 0
		.byte 0
		.byte 0
		.byte 1
		.byte 1
		.byte 1
		.byte 0
		.byte 0
		.byte 0
Map_CNZCylinder:.include "Levels/CNZ/Misc Object Data/Map - Cylinder.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZSpinningColumn:
		movel	#Map_HCZSpinningColumn,0xC(%a0)
		movew	#0x4040,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x20,6(%a0)
		movew	0x10(%a0),0x2E(%a0)
		movew	0x14(%a0),0x30(%a0)
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		addw	%d0,%d0
		andiw	#6,%d0
		movew	%d0,0x3A(%a0)
		andiw	#0xF0,%d1
		movew	%d1,0x40(%a0)
		movew	#1,0x42(%a0)
		cmpiw	#0xE0,%d1
		bnes	loc_318DA
		negw	0x42(%a0)

loc_318DA:
		movel	#loc_318E0,(%a0)

loc_318E0:
		bsrs	sub_3193C
		lea	0x32(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d5
		bsrw	sub_319AE
		addqw	#4,%a2
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		movew	(Ctrl_2_logical):w,%d5
		bsrw	sub_319AE
		movew	#0x1B,%d1
		movew	#0x20,%d2
		movew	#0x21,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		subqb	#1,0x24(%a0)
		bpls	loc_31932
		moveb	#7,0x24(%a0)
		subqb	#1,0x22(%a0)
		bccs	loc_31932
		moveb	#2,0x22(%a0)

loc_31932:
		movew	0x2E(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_3193C:
		movew	0x3A(%a0),%d0
		movew	off_31948(%pc,%d0.w),%d0
		jmp	off_31948(%pc,%d0.w)
/*  End of function sub_3193C */

/*  --------------------------------------------------------------------------- */
off_31948:	.word locret_3194E-off_31948
		.word loc_31950-off_31948
		.word loc_31990-off_31948
/*  --------------------------------------------------------------------------- */

locret_3194E:
		rts
/*  --------------------------------------------------------------------------- */

loc_31950:
		movew	0x42(%a0),%d1
		bmis	loc_31968
		movew	0x40(%a0),%d0
		addw	%d1,%d0
		cmpiw	#0xE0,%d0
		bnes	loc_31966
		negw	0x42(%a0)

loc_31966:
		bras	loc_31974
/*  --------------------------------------------------------------------------- */

loc_31968:
		movew	0x40(%a0),%d0
		addw	%d1,%d0
		bnes	loc_31974
		negw	0x42(%a0)

loc_31974:
		movew	%d0,0x40(%a0)
		subiw	#0x70,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_31986
		negw	%d0

loc_31986:
		addw	0x2E(%a0),%d0
		movew	%d0,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_31990:
		moveq	#0,%d0
		moveb	(Oscillating_table+0x1E):w,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_319A4
		negw	%d0
		addiw	#0x80,%d0

loc_319A4:
		addw	0x30(%a0),%d0
		movew	%d0,0x14(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_319AE:
		moveb	(%a2),%d0
		bnes	loc_31A26
		btst	%d6,0x2A(%a0)
		beqs	locret_31A24
		moveb	#0,1(%a2)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bpls	loc_319D0
		negw	%d0
		moveb	#-0x80,1(%a2)

loc_319D0:
		moveb	%d0,2(%a2)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		moveb	#3,0x2E(%a1)
		moveb	0x44(%a1),0x1E(%a1)
		moveb	0x45(%a1),0x1F(%a1)
		bclr	#2,0x2A(%a1)
		bclr	#1,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		moveb	#0,0x40(%a1)
		moveb	#0,0x20(%a1)
		moveb	#1,(%a2)
		braw	loc_31764
/*  --------------------------------------------------------------------------- */

locret_31A24:
		rts
/*  --------------------------------------------------------------------------- */

loc_31A26:
		tstb	4(%a1)
		bplw	loc_31AD6
		cmpib	#4,5(%a1)
		bccw	loc_31AD6
		btst	%d6,0x2A(%a0)
		beqw	loc_31AE8
		tstb	2(%a2)
		beqs	loc_31A4A
		subqb	#1,2(%a2)

loc_31A4A:
		moveq	#0,%d0
		moveb	1(%a2),%d0
		jsr	(GetSineCosine):l
		addiw	#0x100,%d0
		asrw	#2,%d0
		moveb	%d0,3(%a2)
		moveq	#0,%d2
		movew	2(%a2),%d2
		mulsw	%d2,%d1
		swap	%d1
		addw	0x10(%a0),%d1
		movew	%d1,0x10(%a1)
		addqb	#2,1(%a2)
		movew	#0,0x1C(%a1)
		movew	0x1A(%a0),%d0
		bpls	loc_31A84
		negw	%d0

loc_31A84:
		btst	#1,0x2A(%a1)
		bnes	loc_31A98
		cmpiw	#0x480,%d0
		bcss	loc_31A98
		movew	#0x800,0x1C(%a1)

loc_31A98:
		andib	#0x70,%d5
		beqw	loc_31764
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		movew	0x1A(%a0),0x1A(%a1)
		addiw	#-0x680,0x1A(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1C(%a1)

loc_31AD6:
		bset	#1,0x2A(%a1)
		movew	#0x100,8(%a1)
		moveb	#0,0x2E(%a1)

loc_31AE8:
		moveb	#0,(%a2)
		rts
/*  End of function sub_319AE */

/*  --------------------------------------------------------------------------- */
Map_HCZSpinningColumn:
		.include "Levels/HCZ/Misc Object Data/Map - Spinning Column.S"
/*  --------------------------------------------------------------------------- */

Obj_49_1:
		moveb	#0x60,0x32(%a0)
		movel	#loc_31B60,(%a0)

loc_31B60:
		lea	0x36(%a0),%a2
		lea	(Player_1):w,%a1
		bsrs	sub_31B78
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		bsrs	sub_31B78
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_31B78:
		moveq	#0,%d2
		moveb	0x32(%a0),%d2
		movew	%d2,%d3
		addw	%d3,%d3
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d2,%d0
		cmpw	%d3,%d0
		bccs	loc_31BAA
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addw	%d2,%d1
		cmpw	%d3,%d1
		bccs	loc_31BAA
		btst	#1,0x2A(%a1)
		beqs	loc_31BB6
		clrb	(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_31BAA:
		tstb	(%a2)
		beqs	locret_31BB4
		clrb	0x3C(%a1)
		clrb	(%a2)

locret_31BB4:
		rts
/*  --------------------------------------------------------------------------- */

loc_31BB6:
		tstb	(%a2)
		bnes	loc_31BDC
		moveb	#1,(%a2)
		btst	#2,0x2A(%a1)
		bnes	loc_31BCA
		clrb	0x20(%a1)

loc_31BCA:
		bclr	#5,0x2A(%a1)
		moveb	#1,0x21(%a1)
		moveb	#1,0x3C(%a1)

loc_31BDC:
		movew	0x1C(%a1),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_31C04
		cmpiw	#-0x400,%d0
		bles	loc_31BF6
		movew	#-0x400,0x1C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_31BF6:
		cmpiw	#-0xF00,%d0
		bges	locret_31C02
		movew	#-0xF00,0x1C(%a1)

locret_31C02:
		rts
/*  --------------------------------------------------------------------------- */

loc_31C04:
		cmpiw	#0x400,%d0
		bges	loc_31C12
		movew	#0x400,0x1C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_31C12:
		cmpiw	#0xF00,%d0
		bles	locret_31C1E
		movew	#0xF00,0x1C(%a1)

locret_31C1E:
		rts
/*  End of function sub_31B78 */

/*  --------------------------------------------------------------------------- */

Obj_4B_1:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,0x34(%a0)
		addw	%d0,%d0
		movew	%d0,0x32(%a0)
		movel	#loc_31C36,(%a0)

loc_31C36:
		lea	(Player_1):w,%a1
		bsrs	sub_31C48
		lea	(Player_2):w,%a1
		bsrs	sub_31C48
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_31C48:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	0x34(%a0),%d0
		cmpw	0x32(%a0),%d0
		bccs	locret_31C74
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addiw	#0x14,%d1
		cmpiw	#0x28,%d1
		bccs	locret_31C74
		cmpib	#4,5(%a1)
		bcss	loc_31C76

locret_31C74:
		rts
/*  --------------------------------------------------------------------------- */

loc_31C76:
		movew	#-0x800,0x18(%a1)
		movew	#-0x800,0x1A(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_31C9A
		bclr	#0,0x2A(%a1)
		negw	0x18(%a1)

loc_31C9A:
		btst	#1,0x2A(%a0)
		beqs	loc_31CA6
		negw	0x1A(%a1)

loc_31CA6:
		movew	#0xF,0x32(%a1)
		movew	0x18(%a1),0x1C(%a1)
		btst	#2,0x2A(%a1)
		bnes	loc_31CC0
		moveb	#0,0x20(%a1)

loc_31CC0:
		tstb	0x27(%a1)
		bnes	loc_31CEA
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#3,0x30(%a1)
		moveb	#8,0x31(%a1)
		btst	#0,0x2A(%a1)
		beqs	loc_31CEA
		negb	0x27(%a1)

loc_31CEA:
		clrb	0x40(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		moveq	#sfx_SmallBumpers,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_31C48 */

/*  --------------------------------------------------------------------------- */

Obj_4F_1:
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		moveb	%d0,7(%a0)
		movew	0x14(%a0),0x30(%a0)
		moveb	#0x30,0x38(%a0)
		moveb	#0x30,0x3A(%a0)
		bset	#7,0x2A(%a0)
		movel	#loc_31E1C,(%a0)
		tstw	(Competition_mode):w
		bnew	loc_31E1C
		movel	#loc_31D3E,(%a0)

loc_31D3E:
		tstw	(Debug_placement_mode):w
		bnew	loc_31DF2
		lea	(Player_1):w,%a1
		btst	#3,0x2A(%a0)
		bnes	loc_31D7A
		cmpib	#0x30,0x38(%a0)
		bccs	loc_31D5E
		addqb	#2,0x38(%a0)

loc_31D5E:
		btst	#3,0x2A(%a1)
		beqs	loc_31D84
		moveaw	0x42(%a1),%a2
		cmpil	#loc_31D3E,(%a2)
		bnes	loc_31D84
		moveb	0x38(%a2),0x38(%a0)
		bras	loc_31D84
/*  --------------------------------------------------------------------------- */

loc_31D7A:
		tstb	0x38(%a0)
		beqs	loc_31DF8
		subqb	#1,0x38(%a0)

loc_31D84:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	0x38(%a0),%d3
		moveq	#3,%d6
		movew	0x10(%a0),%d4
		jsr	(sub_1BFC2):l
		lea	(Player_2):w,%a1
		btst	#4,0x2A(%a0)
		bnes	loc_31DD0
		cmpib	#0x30,0x3A(%a0)
		bccs	loc_31DB4
		addqb	#2,0x3A(%a0)

loc_31DB4:
		btst	#3,0x2A(%a1)
		beqs	loc_31DDA
		moveaw	0x42(%a1),%a2
		cmpil	#loc_31D3E,(%a2)
		bnes	loc_31DDA
		moveb	0x3A(%a2),0x3A(%a0)
		bras	loc_31DDA
/*  --------------------------------------------------------------------------- */

loc_31DD0:
		tstb	0x3A(%a0)
		beqs	loc_31E00
		subqb	#1,0x3A(%a0)

loc_31DDA:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	0x3A(%a0),%d3
		moveq	#4,%d6
		movew	0x10(%a0),%d4
		jsr	(sub_1BFC2):l

loc_31DF2:
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_31DF8:
		moveb	#0x30,0x38(%a0)
		bras	loc_31E06
/*  --------------------------------------------------------------------------- */

loc_31E00:
		moveb	#0x30,0x3A(%a0)

loc_31E06:
		notb	%d1
		andb	%d1,0x2A(%a0)
		movel	%a0,-(%sp)
		moveal	%a0,%a2
		moveal	%a1,%a0
		jsr	(Kill_Character):l
		moveal	(%sp)+,%a0
		rts
/*  --------------------------------------------------------------------------- */

loc_31E1C:
		tstw	(Debug_placement_mode):w
		bnew	locret_31ED4
		lea	(Player_1):w,%a1
		btst	#3,0x2A(%a0)
		bnes	loc_31E58
		cmpib	#0x30,0x38(%a0)
		bccs	loc_31E3C
		addqb	#2,0x38(%a0)

loc_31E3C:
		btst	#3,0x2A(%a1)
		beqs	loc_31E62
		moveaw	0x42(%a1),%a2
		cmpil	#loc_31D3E,(%a2)
		bnes	loc_31E62
		moveb	0x38(%a2),0x38(%a0)
		bras	loc_31E62
/*  --------------------------------------------------------------------------- */

loc_31E58:
		tstb	0x38(%a0)
		beqs	loc_31ED6
		subqb	#1,0x38(%a0)

loc_31E62:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	0x38(%a0),%d3
		lsrw	#1,%d3
		moveq	#3,%d6
		movew	0x10(%a0),%d4
		jsr	(sub_1BFC2):l
		lea	(Player_2):w,%a1
		btst	#4,0x2A(%a0)
		bnes	loc_31EB0
		cmpib	#0x30,0x3A(%a0)
		bccs	loc_31E94
		addqb	#2,0x3A(%a0)

loc_31E94:
		btst	#3,0x2A(%a1)
		beqs	loc_31EBA
		moveaw	0x42(%a1),%a2
		cmpil	#loc_31D3E,(%a2)
		bnes	loc_31EBA
		moveb	0x3A(%a2),0x3A(%a0)
		bras	loc_31EBA
/*  --------------------------------------------------------------------------- */

loc_31EB0:
		tstb	0x3A(%a0)
		beqs	loc_31EDE
		subqb	#1,0x3A(%a0)

loc_31EBA:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	0x3A(%a0),%d3
		lsrw	#1,%d3
		moveq	#4,%d6
		movew	0x10(%a0),%d4
		jsr	(sub_1BFC2):l

locret_31ED4:
		rts
/*  --------------------------------------------------------------------------- */

loc_31ED6:
		moveb	#0x30,0x38(%a0)
		bras	loc_31EE4
/*  --------------------------------------------------------------------------- */

loc_31EDE:
		moveb	#0x30,0x3A(%a0)

loc_31EE4:
		notb	%d1
		andb	%d1,0x2A(%a0)
		movel	%a0,-(%sp)
		moveal	%a0,%a2
		moveal	%a1,%a0
		jsr	(Kill_Character):l
		moveal	(%sp)+,%a0
		rts
/*  --------------------------------------------------------------------------- */

Obj_5D_1:
		moveb	#8,7(%a0)
		moveb	#0x40,6(%a0)
		moveb	0x2C(%a0),%d0
		lsrb	#4,%d0
		andib	#7,%d0
		moveb	%d0,0x22(%a0)
		beqs	loc_31F1C
		moveb	#-0x80,6(%a0)

loc_31F1C:
		movel	#loc_31F22,(%a0)

loc_31F22:
		movew	#0x10,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		jsr	(SolidObjectFull2_1P):l
		cmpib	#1,%d4
		bnes	loc_31F6C
		btst	#1,0x2A(%a1)
		beqs	loc_31F6C
		moveb	0x2A(%a0),%d1
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_31F64
		eorib	#1,%d1

loc_31F64:
		andib	#1,%d1
		bnes	loc_31F6C
		bsrs	sub_31FA6

loc_31F6C:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		jsr	(SolidObjectFull2_1P):l
		cmpib	#1,%d4
		bnes	locret_31FA4
		btst	#1,0x2A(%a1)
		beqs	locret_31FA4
		moveb	0x2A(%a0),%d1
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bcss	loc_31F9C
		eorib	#1,%d1

loc_31F9C:
		andib	#1,%d1
		bnes	locret_31FA4
		bsrs	sub_31FA6

locret_31FA4:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_31FA6:
		cmpib	#4,5(%a1)
		bcss	loc_31FB0
		rts
/*  --------------------------------------------------------------------------- */

loc_31FB0:
		movew	#-0x800,0x18(%a1)
		movew	#0x400,0x1A(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		bnes	loc_31FD4
		bclr	#0,0x2A(%a1)
		negw	0x18(%a1)

loc_31FD4:
		movew	#0xF,0x32(%a1)
		movew	0x18(%a1),0x1C(%a1)
		btst	#2,0x2A(%a1)
		bnes	loc_31FEE
		moveb	#0,0x20(%a1)

loc_31FEE:
		moveb	0x2C(%a0),%d0
		bpls	loc_31FFA
		movew	#0,0x1A(%a1)

loc_31FFA:
		btst	#0,%d0
		beqs	loc_3203A
		movew	#1,0x1C(%a1)
		moveb	#1,0x27(%a1)
		moveb	#0,0x20(%a1)
		moveb	#1,0x30(%a1)
		moveb	#8,0x31(%a1)
		btst	#1,%d0
		bnes	loc_3202A
		moveb	#3,0x30(%a1)

loc_3202A:
		btst	#0,0x2A(%a1)
		beqs	loc_3203A
		negb	0x27(%a1)
		negw	0x1C(%a1)

loc_3203A:
		andib	#0xC,%d0
		cmpib	#4,%d0
		bnes	loc_32050
		moveb	#0xC,0x46(%a1)
		moveb	#0xD,0x47(%a1)

loc_32050:
		cmpib	#8,%d0
		bnes	loc_32062
		moveb	#0xE,0x46(%a1)
		moveb	#0xF,0x47(%a1)

loc_32062:
		bclr	#5,0x2A(%a0)
		bclr	#6,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		moveq	#sfx_SmallBumpers,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_31FA6 */

/*  --------------------------------------------------------------------------- */

Obj_Bumper:
		movel	#Map_Bumper,0xC(%a0)
		movew	#0x4364,0xA(%a0)
		moveb	#4,4(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x80,8(%a0)
		moveb	#-0x29,0x28(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		tstw	(Competition_mode):w
		beqs	loc_320D8
		movel	#Map_2PBumper,0xC(%a0)
		movew	#0x2300,0xA(%a0)
		movel	#loc_3221C,(%a0)
		braw	loc_3221C
/*  --------------------------------------------------------------------------- */

loc_320D8:
		movel	#loc_3211A,(%a0)
		moveb	0x2C(%a0),%d0
		beqs	loc_3211A
		moveb	%d0,0x26(%a0)
		movel	#loc_320EE,(%a0)

loc_320EE:
		moveb	(Level_frame_counter+1):w,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_320FC
		negb	%d0

loc_320FC:
		addb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	#2,%d1
		asrw	#2,%d0
		addw	0x30(%a0),%d1
		addw	0x32(%a0),%d0
		movew	%d1,0x10(%a0)
		movew	%d0,0x14(%a0)

loc_3211A:
		tstb	0x29(%a0)
		beqw	loc_321E0
		lea	(Player_1):w,%a1
		bclr	#0,0x29(%a0)
		beqs	loc_32130
		bsrs	sub_32146

loc_32130:
		lea	(Player_2):w,%a1
		bclr	#1,0x29(%a0)
		beqs	loc_3213E
		bsrs	sub_32146

loc_3213E:
		clrb	0x29(%a0)
		braw	loc_321E0

/*  =============== S U B R O U T I N E ======================================= */


sub_32146:
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		moveb	(Level_frame_counter):w,%d1
		andiw	#3,%d1
		addw	%d1,%d0
		jsr	(GetSineCosine):l
		mulsw	#-0x700,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x700,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#1,0x20(%a0)
		moveq	#sfx_Bumper,%d0
		jsr	(Play_Sound_2):l
		movew	0x48(%a0),%d0
		beqs	loc_321B4
		moveaw	%d0,%a2
		cmpib	#-0x76,(%a2)
		bccs	locret_321DE
		addqb	#1,(%a2)

loc_321B4:
		moveq	#1,%d0
		moveaw	%a1,%a3
		jsr	(HUD_AddToScore):l
		jsr	(Create_New_Sprite):l
		bnes	locret_321DE
		movel	#Obj_EnemyScore,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	#4,0x22(%a1)

locret_321DE:
		rts
/*  End of function sub_32146 */

/*  --------------------------------------------------------------------------- */

loc_321E0:
		lea	(Ani_Bumper):l,%a1
		jsr	(Animate_Sprite):l
		movew	0x30(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_3220A
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3220A:
		movew	0x48(%a0),%d0
		beqs	loc_32216
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_32216:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3221C:
		tstb	0x29(%a0)
		beqw	loc_322A8
		lea	(Player_1):w,%a1
		bclr	#0,0x29(%a0)
		beqs	loc_32232
		bsrs	sub_32248

loc_32232:
		lea	(Player_2):w,%a1
		bclr	#1,0x29(%a0)
		beqs	loc_32240
		bsrs	sub_32248

loc_32240:
		clrb	0x29(%a0)
		braw	loc_322A8

/*  =============== S U B R O U T I N E ======================================= */


sub_32248:
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		moveb	(Level_frame_counter):w,%d1
		andiw	#3,%d1
		addw	%d1,%d0
		jsr	(GetSineCosine):l
		mulsw	#-0x700,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x700,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#1,0x20(%a0)
		moveq	#sfx_SmallBumpers,%d0
		jsr	(Play_Sound_2):l
		rts
/*  End of function sub_32248 */

/*  --------------------------------------------------------------------------- */

loc_322A8:
		lea	(Ani_Bumper):l,%a1
		jsr	(Animate_Sprite):l
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_Bumper:	.include "General/Sprites/Level Misc/Anim - Bumper.S"
Map_Bumper:	.include "General/Sprites/Level Misc/Map - Bumper.S"
Map_2PBumper:	.include "General/2P Zone/Map - 2P Bumper.S"
/*  --------------------------------------------------------------------------- */

Obj_4C_1:
		lea	(Player_1):w,%a1
		lea	0x30(%a0),%a4
		bsrs	sub_32328
		lea	(Player_2):w,%a1
		lea	0x3A(%a0),%a4
		bsrs	sub_32328
		moveb	0x30(%a0),%d0
		addb	0x3A(%a0),%d0
		beqs	loc_32322
		rts
/*  --------------------------------------------------------------------------- */

loc_32322:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_32328:
		moveq	#0,%d0
		moveb	(%a4),%d0
		movew	off_32334(%pc,%d0.w),%d0
		jmp	off_32334(%pc,%d0.w)
/*  End of function sub_32328 */

/*  --------------------------------------------------------------------------- */
off_32334:	.word loc_3233C-off_32334
		.word loc_323C8-off_32334
		.word loc_32404-off_32334
		.word loc_32448-off_32334
/*  --------------------------------------------------------------------------- */

loc_3233C:
		tstw	(Debug_placement_mode):w
		bnew	locret_323C6
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x40,%d0
		cmpiw	#0x80,%d0
		bccs	locret_323C6
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addiw	#0x10,%d1
		cmpiw	#0x20,%d1
		bccs	locret_323C6
		tstb	0x2E(%a1)
		bnes	locret_323C6
		addqb	#2,(%a4)
		moveb	#-0x7F,0x2E(%a1)
		moveb	#2,0x20(%a1)
		movew	#0x800,0x1C(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		bclr	#5,0x2A(%a1)
		bset	#1,0x2A(%a1)
		clrb	1(%a4)
		moveq	#0x30,%d1
		cmpiw	#0x40,%d0
		bccs	loc_323AE
		negw	%d1
		moveb	#-0x80,1(%a4)

loc_323AE:
		addw	0x10(%a0),%d1
		movew	%d1,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l

locret_323C6:
		rts
/*  --------------------------------------------------------------------------- */

loc_323C8:
		moveb	1(%a4),%d0
		addqb	#8,1(%a4)
		jsr	(GetSineCosine):l
		asrw	#3,%d1
		movew	%d1,%d0
		asrw	#1,%d1
		addw	%d1,%d0
		addw	0x10(%a0),%d0
		movew	%d0,0x10(%a1)
		moveq	#0,%d0
		btst	#0,(Ring_count+1):w
		beqs	loc_323F4
		movew	#0x80,%d0

loc_323F4:
		cmpb	1(%a4),%d0
		bnes	locret_32402
		addqb	#2,(%a4)
		movew	#0xC0,2(%a4)

locret_32402:
		rts
/*  --------------------------------------------------------------------------- */

loc_32404:
		moveb	1(%a4),%d0
		addib	#0xC,1(%a4)
		jsr	(GetSineCosine):l
		asrw	#3,%d1
		movew	%d1,%d0
		asrw	#1,%d1
		addw	%d1,%d0
		addw	0x10(%a0),%d0
		movew	%d0,0x10(%a1)
		addqw	#2,0x14(%a1)
		subqw	#1,2(%a4)
		bnes	locret_32446
		moveq	#0,%d0
		movew	0x10(%a0),%d1
		subw	0x10(%a1),%d1
		bccs	loc_3243C
		moveq	#1,%d0

loc_3243C:
		addb	0x2C(%a0),%d0
		bsrw	sub_324AC
		addqb	#2,(%a4)

locret_32446:
		rts
/*  --------------------------------------------------------------------------- */

loc_32448:
		subqb	#1,2(%a4)
		bpls	loc_32474
		moveal	6(%a4),%a2
		movew	(%a2)+,%d4
		movew	%d4,0x10(%a1)
		movew	(%a2)+,%d5
		movew	%d5,0x14(%a1)
		movel	%a2,6(%a4)
		subqw	#4,4(%a4)
		beqs	loc_3249A
		movew	(%a2)+,%d4
		movew	(%a2)+,%d5
		movew	#0xC00,%d2
		braw	loc_324DC
/*  --------------------------------------------------------------------------- */

loc_32474:
		movel	0x10(%a1),%d2
		movel	0x14(%a1),%d3
		movew	0x18(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d2
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d3
		movel	%d2,0x10(%a1)
		movel	%d3,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_3249A:
		andiw	#0xFFF,0x14(%a1)
		clrb	(%a4)
		clrb	0x2E(%a1)
		clrb	0x40(%a1)
		bras	loc_32474

/*  =============== S U B R O U T I N E ======================================= */


sub_324AC:
		andiw	#0xF,%d0
		addw	%d0,%d0
		lea	(off_3255A):l,%a2
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,4(%a4)
		subqw	#4,4(%a4)
		movew	(%a2)+,%d4
		movew	%d4,0x10(%a1)
		movew	(%a2)+,%d5
		movew	%d5,0x14(%a1)
		movel	%a2,6(%a4)
		movew	(%a2)+,%d4
		movew	(%a2)+,%d5
		movew	#0xC00,%d2

loc_324DC:
		moveq	#0,%d0
		movew	%d2,%d3
		movew	%d4,%d0
		subw	0x10(%a1),%d0
		bges	loc_324EC
		negw	%d0
		negw	%d2

loc_324EC:
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a1),%d1
		bges	loc_324FA
		negw	%d1
		negw	%d3

loc_324FA:
		cmpw	%d0,%d1
		bcss	loc_3252C
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a1),%d1
		swap	%d1
		divsw	%d3,%d1
		moveq	#0,%d0
		movew	%d4,%d0
		subw	0x10(%a1),%d0
		beqs	loc_32518
		swap	%d0
		divsw	%d1,%d0

loc_32518:
		movew	%d0,0x18(%a1)
		movew	%d3,0x1A(%a1)
		tstw	%d1
		bpls	loc_32526
		negw	%d1

loc_32526:
		movew	%d1,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_3252C:
		moveq	#0,%d0
		movew	%d4,%d0
		subw	0x10(%a1),%d0
		swap	%d0
		divsw	%d2,%d0
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a1),%d1
		beqs	loc_32546
		swap	%d1
		divsw	%d0,%d1

loc_32546:
		movew	%d1,0x1A(%a1)
		movew	%d2,0x18(%a1)
		tstw	%d0
		bpls	loc_32554
		negw	%d0

loc_32554:
		movew	%d0,2(%a4)
		rts
/*  End of function sub_324AC */

/*  --------------------------------------------------------------------------- */
off_3255A:	.word word_32562-off_3255A
		.word word_32570-off_3255A
		.word word_3257E-off_3255A
		.word word_3258C-off_3255A
word_32562:	.word 0xC
		.word 0x1390
		.word 0x2D0
		.word 0x1230
		.word 0x2D0
		.word 0x1230
		.word 0x300
word_32570:	.word 0xC
		.word 0x13F0
		.word 0x2D0
		.word 0x1560
		.word 0x2D0
		.word 0x1560
		.word 0x280
word_3257E:	.word 0xC
		.word 0x2090
		.word 0x650
		.word 0x2030
		.word 0x650
		.word 0x2030
		.word 0x680
word_3258C:	.word 0xC
		.word 0x20F0
		.word 0x650
		.word 0x21E0
		.word 0x650
		.word 0x21E0
		.word 0x600
/*  --------------------------------------------------------------------------- */

Obj_CNZBarberPoleSprite:
		tstb	0x2C(%a0)
		beqs	loc_325AA
		movel	#loc_327E2,(%a0)
		braw	loc_327E2
/*  --------------------------------------------------------------------------- */

loc_325AA:
		movel	#loc_325B0,(%a0)

loc_325B0:
		lea	0x30(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrs	sub_325CC
		addqw	#6,%a2
		lea	(Player_2):w,%a1
		addqb	#1,%d6
		bsrs	sub_325CC
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_325CC:
		btst	%d6,0x2A(%a0)
		bnew	loc_326F0
		btst	#3,0x2A(%a1)
		bnew	loc_32664
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		negw	%d0
		addw	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x40,%d0
		cmpiw	#0xA0,%d0
		bccs	locret_32662
		subiw	#0x61,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addw	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		subw	%d0,%d1
		cmpiw	#0x10,%d1
		bccs	locret_32662
		tstb	0x2E(%a1)
		bnes	locret_32662
		tstw	(Debug_placement_mode):w
		bnes	locret_32662
		btst	#1,0x2A(%a1)
		beqs	loc_3262C
		tstw	0x1A(%a1)
		bmis	locret_32662

loc_3262C:
		movel	0x10(%a1),(%a2)
		movew	(%a2),%d0
		subw	0x10(%a0),%d0
		addiw	#0x40,%d0
		movew	%d0,(%a2)
		movew	#0,4(%a2)
		subiw	#0x18,%d0
		cmpiw	#0x70,%d0
		bccs	loc_32652
		movew	#1,4(%a2)

loc_32652:
		bsrw	sub_32A12
		moveb	#0x20,0x26(%a1)
		moveb	#2,0x2D(%a1)

locret_32662:
		rts
/*  --------------------------------------------------------------------------- */

loc_32664:
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		negw	%d0
		addw	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x30,%d0
		cmpiw	#0x80,%d0
		bccs	locret_326EE
		subiw	#0x51,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addw	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		subw	%d0,%d1
		cmpiw	#0x10,%d1
		bccs	locret_326EE
		tstb	0x2E(%a1)
		bnes	locret_326EE
		btst	#1,0x2A(%a1)
		beqs	loc_326AC
		tstw	0x1A(%a1)
		bmis	locret_326EE

loc_326AC:
		moveaw	0x42(%a1),%a3
		cmpil	#loc_325B0,(%a3)
		bnes	locret_326EE
		movel	0x10(%a1),(%a2)
		movew	(%a2),%d0
		subw	0x10(%a0),%d0
		addiw	#0x40,%d0
		movew	%d0,(%a2)
		movew	#0,4(%a2)
		subiw	#0x20,%d0
		cmpiw	#0x60,%d0
		bccs	loc_326DE
		movew	#1,4(%a2)

loc_326DE:
		bsrw	sub_32A12
		moveb	#0x20,0x26(%a1)
		moveb	#2,0x2D(%a1)

locret_326EE:
		rts
/*  --------------------------------------------------------------------------- */

loc_326F0:
		tstw	4(%a2)
		bnes	loc_3270C
		movew	0x1C(%a1),%d0
		bpls	loc_326FE
		negw	%d0

loc_326FE:
		cmpiw	#0x118,%d0
		bccs	loc_3270C
		bset	#1,0x2A(%a1)
		bras	loc_32734
/*  --------------------------------------------------------------------------- */

loc_3270C:
		btst	#1,0x2A(%a1)
		bnes	loc_32734
		movew	0x18(%a1),%d0
		extl	%d0
		lsll	#6,%d0
		movel	%d0,%d1
		addl	%d0,%d0
		addl	%d1,%d0
		addl	%d0,(%a2)
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		negw	%d0
		addw	(%a2),%d0
		cmpiw	#0xA0,%d0
		bcss	loc_32752

loc_32734:
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		andiw	#0x7FFF,0xA(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_32752:
		btst	#3,0x2A(%a1)
		beqw	locret_327E0
		movew	%d0,%d2
		subib	#0x10,%d0
		bccs	loc_3276C
		movew	#0,4(%a2)
		moveq	#0,%d0

loc_3276C:
		cmpib	#-0x80,%d0
		bcss	loc_3277C
		movew	#0,4(%a2)
		movew	#0x80,%d0

loc_3277C:
		andiw	#0x7FFF,0xA(%a1)
		cmpib	#0x34,%d0
		bccs	loc_3278E
		oriw	#-0x8000,0xA(%a1)

loc_3278E:
		tstw	4(%a2)
		beqs	loc_32796
		moveq	#0,%d0

loc_32796:
		addw	%d0,%d0
		moveb	%d0,0x27(%a1)
		jsr	(GetSineCosine):l
		movew	%d1,%d4
		asrw	#4,%d1
		movew	%d1,%d3
		addw	%d2,%d1
		addw	0x10(%a0),%d1
		subiw	#0x50,%d1
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		mulsw	%d4,%d0
		asrw	#8,%d0
		addw	%d0,%d1
		movew	%d1,0x10(%a1)
		movew	%d2,%d0
		subiw	#0x51,%d0
		movew	0x14(%a0),%d2
		subw	%d3,%d2
		addw	%d0,%d2
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		mulsw	%d4,%d1
		asrw	#8,%d1
		subw	%d1,%d2
		movew	%d2,0x14(%a1)

locret_327E0:
		rts
/*  End of function sub_325CC */

/*  --------------------------------------------------------------------------- */

loc_327E2:
		lea	0x30(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		bsrs	sub_327FE
		addqw	#6,%a2
		lea	(Player_2):w,%a1
		addqb	#1,%d6
		bsrs	sub_327FE
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_327FE:
		btst	%d6,0x2A(%a0)
		bnew	loc_3291E
		btst	#3,0x2A(%a1)
		bnew	loc_32894
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		addw	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x60,%d0
		cmpiw	#0xA0,%d0
		bccs	locret_32892
		subiw	#0x3E,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addw	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addw	%d0,%d1
		cmpiw	#0x10,%d1
		bccs	locret_32892
		tstb	0x2E(%a1)
		bnes	locret_32892
		tstw	(Debug_placement_mode):w
		bnes	locret_32892
		btst	#1,0x2A(%a1)
		beqs	loc_3285C
		tstw	0x1A(%a1)
		bmis	locret_32892

loc_3285C:
		movel	0x10(%a1),(%a2)
		movew	(%a2),%d0
		subw	0x10(%a0),%d0
		addiw	#0x60,%d0
		movew	%d0,(%a2)
		movew	#0,4(%a2)
		subiw	#0x18,%d0
		cmpiw	#0x70,%d0
		bccs	loc_32882
		movew	#1,4(%a2)

loc_32882:
		bsrw	sub_32A12
		moveb	#-0x20,0x26(%a1)
		moveb	#3,0x2D(%a1)

locret_32892:
		rts
/*  --------------------------------------------------------------------------- */

loc_32894:
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		addw	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x50,%d0
		cmpiw	#0x80,%d0
		bccs	locret_3291C
		subiw	#0x2E,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addw	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addw	%d0,%d1
		cmpiw	#0x10,%d1
		bccs	locret_3291C
		tstb	0x2E(%a1)
		bnes	locret_3291C
		btst	#1,0x2A(%a1)
		beqs	loc_328DA
		tstw	0x1A(%a1)
		bmis	locret_3291C

loc_328DA:
		moveaw	0x42(%a1),%a3
		cmpil	#loc_327E2,(%a3)
		bnes	locret_3291C
		movel	0x10(%a1),(%a2)
		movew	(%a2),%d0
		subw	0x10(%a0),%d0
		addiw	#0x60,%d0
		movew	%d0,(%a2)
		movew	#0,4(%a2)
		subiw	#0x20,%d0
		cmpiw	#0x60,%d0
		bccs	loc_3290C
		movew	#1,4(%a2)

loc_3290C:
		bsrw	sub_32A12
		moveb	#-0x20,0x26(%a1)
		moveb	#3,0x2D(%a1)

locret_3291C:
		rts
/*  --------------------------------------------------------------------------- */

loc_3291E:
		tstw	4(%a2)
		bnes	loc_3293A
		movew	0x1C(%a1),%d0
		bpls	loc_3292C
		negw	%d0

loc_3292C:
		cmpiw	#0x118,%d0
		bccs	loc_3293A
		bset	#1,0x2A(%a1)
		bras	loc_32960
/*  --------------------------------------------------------------------------- */

loc_3293A:
		btst	#1,0x2A(%a1)
		bnes	loc_32960
		movew	0x18(%a1),%d0
		extl	%d0
		lsll	#6,%d0
		movel	%d0,%d1
		addl	%d0,%d0
		addl	%d1,%d0
		addl	%d0,(%a2)
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		addw	(%a2),%d0
		cmpiw	#0xA0,%d0
		bcss	loc_3297E

loc_32960:
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveb	#0,0x30(%a1)
		moveb	#4,0x31(%a1)
		andiw	#0x7FFF,0xA(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_3297E:
		btst	#3,0x2A(%a1)
		beqw	locret_32A10
		movew	%d0,%d2
		subib	#0x10,%d0
		bccs	loc_32998
		movew	#0,4(%a2)
		moveq	#0,%d0

loc_32998:
		cmpib	#-0x80,%d0
		bcss	loc_329A8
		movew	#0,4(%a2)
		movew	#0x80,%d0

loc_329A8:
		andiw	#0x7FFF,0xA(%a1)
		cmpib	#0x4C,%d0
		bcss	loc_329BA
		oriw	#-0x8000,0xA(%a1)

loc_329BA:
		tstw	4(%a2)
		beqs	loc_329C2
		moveq	#0,%d0

loc_329C2:
		negb	%d0
		addw	%d0,%d0
		moveb	%d0,0x27(%a1)
		jsr	(GetSineCosine):l
		movew	%d1,%d4
		asrw	#4,%d1
		movew	%d1,%d3
		negw	%d1
		addw	%d2,%d1
		addw	0x10(%a0),%d1
		subiw	#0x50,%d1
		moveq	#0,%d0
		moveb	0x1F(%a1),%d0
		mulsw	%d4,%d0
		asrw	#8,%d0
		subw	%d0,%d1
		movew	%d1,0x10(%a1)
		movew	%d2,%d0
		subiw	#0x4E,%d0
		movew	0x14(%a0),%d2
		subw	%d3,%d2
		subw	%d0,%d2
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		mulsw	%d4,%d1
		asrw	#8,%d1
		subw	%d1,%d2
		movew	%d2,0x14(%a1)

locret_32A10:
		rts
/*  End of function sub_327FE */


/*  =============== S U B R O U T I N E ======================================= */


sub_32A12:
		btst	#3,0x2A(%a1)
		beqs	loc_32A22
		moveaw	0x42(%a1),%a3
		bclr	%d6,0x2A(%a3)

loc_32A22:
		movew	%a0,0x42(%a1)
		btst	#1,0x2A(%a1)
		beqs	loc_32A5E
		movew	#0,0x1A(%a1)
		movew	0x18(%a1),0x1C(%a1)
		movel	%a0,-(%sp)
		moveal	%a1,%a0
		movew	%a0,%d1
		subiw	#-0x5000,%d1
		bnes	loc_32A56
		cmpiw	#2,(Player_mode):w
		beqs	loc_32A56
		jsr	(Player_TouchFloor):l
		bras	loc_32A5C
/*  --------------------------------------------------------------------------- */

loc_32A56:
		jsr	(Tails_TouchFloor):l

loc_32A5C:
		moveal	(%sp)+,%a0

loc_32A5E:
		bset	#3,0x2A(%a1)
		bclr	#1,0x2A(%a1)
		bset	%d6,0x2A(%a0)
		rts
/*  End of function sub_32A12 */

/*  --------------------------------------------------------------------------- */

Obj_4E_1:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		movew	%d0,0x38(%a0)
		addw	%d0,%d0
		movew	%d0,0x3A(%a0)
		moveq	#1,%d1
		btst	#0,0x2A(%a0)
		bnes	loc_32A8E
		negw	%d1

loc_32A8E:
		movew	%d1,0x1A(%a0)
		movel	#loc_32A98,(%a0)

loc_32A98:
		lea	(Player_1):w,%a1
		lea	0x30(%a0),%a2
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d5
		bsrs	sub_32AFE
		lea	(Player_2):w,%a1
		lea	0x34(%a0),%a2
		/*  Bug: if player 1 was riding the object, then %d6 may have become dirty from */
		/*  a call to Perform_Player_DPLC, causing player 2 to behave erratically */
		addqb	#1,%d6
		movew	(Ctrl_2_logical):w,%d5
		bsrs	sub_32AFE
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0x3F,%d0
		bnes	loc_32AF8
		movew	0x10(%a0),%d0
		subw	(Camera_X_pos):w,%d0
		addiw	#0x40,%d0
		cmpiw	#0x1C0,%d0
		bccs	loc_32AF8
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addw	0x38(%a0),%d0
		addiw	#0x40,%d0
		movew	0x3A(%a0),%d1
		addiw	#0x80,%d1
		cmpw	%d1,%d0
		bccs	loc_32AF8
		moveq	#sfx_WaveHover,%d0
		jsr	(Play_Sound_2):l

loc_32AF8:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_32AFE:
		btst	%d6,0x2A(%a0)
		bnew	loc_32BDA
		tstb	1(%a2)
		beqs	loc_32B12
		subqb	#1,1(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_32B12:
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addiw	#0x44,%d1
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		addw	%d1,%d1
		cmpw	%d1,%d0
		bccw	locret_32BD8
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addw	0x38(%a0),%d0
		cmpw	0x3A(%a0),%d0
		bccw	locret_32BD8
		tstb	0x2E(%a1)
		bnew	locret_32BD8
		tstw	(Debug_placement_mode):w
		bnew	locret_32BD8
		subiw	#0x10,%d0
		bccs	loc_32B5C
		subw	%d0,0x14(%a1)

loc_32B5C:
		btst	#1,0x2A(%a1)
		beqw	loc_32B92
		tstb	0x26(%a1)
		beqs	loc_32B86
		bclr	#1,0x2A(%a1)
		movew	0x1C(%a1),%d0
		bpls	loc_32B7A
		negw	%d0

loc_32B7A:
		cmpiw	#0x400,%d0
		bccs	loc_32B92
		bset	#1,0x2A(%a1)

loc_32B86:
		moveb	#1,1(%a2)
		bset	#0,0x2E(%a1)

loc_32B92:
		bsrw	sub_32E68
		moveb	#-0x80,(%a2)
		moveb	#-0x40,0x26(%a1)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bcss	loc_32BB4
		moveb	#0x40,0x26(%a1)
		moveb	#0,(%a2)

loc_32BB4:
		bclr	#0,0x2A(%a1)
		bclr	#0,4(%a1)
		bclr	#1,4(%a1)
		bset	#6,0x2E(%a1)
		bset	#1,0x2E(%a1)
		moveb	#0,0x20(%a1)

locret_32BD8:
		rts
/*  --------------------------------------------------------------------------- */

loc_32BDA:
		tstb	1(%a2)
		bnew	loc_32D18
		tstw	(Debug_placement_mode):w
		bnes	loc_32C48
		movew	0x1C(%a1),%d0
		bpls	loc_32BF0
		negw	%d0

loc_32BF0:
		cmpiw	#0x300,%d0
		bccs	loc_32C06
		moveb	#1,1(%a2)
		bset	#0,0x2E(%a1)
		braw	loc_32D18
/*  --------------------------------------------------------------------------- */

loc_32C06:
		btst	#1,0x2A(%a1)
		beqs	loc_32C36
		movew	#-0x800,0x18(%a1)
		movew	#-0x200,0x1A(%a1)
		bset	#0,0x2A(%a1)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bcss	loc_32C48
		negw	0x18(%a1)
		bclr	#0,0x2A(%a1)
		bras	loc_32C48
/*  --------------------------------------------------------------------------- */

loc_32C36:
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addw	0x38(%a0),%d0
		cmpw	0x3A(%a0),%d0
		bcss	loc_32C8A

loc_32C48:
		moveb	#0,0x26(%a1)
		bclr	#2,0x2A(%a1)
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		movew	#1,0x20(%a1)
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		bclr	#6,0x2E(%a1)
		bclr	#1,0x2E(%a1)
		andiw	#0x7FFF,0xA(%a1)
		moveb	#0x10,1(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_32C8A:
		movew	0x1A(%a0),%d1
		bpls	loc_32C96
		cmpiw	#0x10,%d0
		blss	loc_32C9A

loc_32C96:
		addw	%d1,0x14(%a1)

loc_32C9A:
		subiw	#0x10,%d0
		bccs	loc_32CA4
		subw	%d0,0x14(%a1)

loc_32CA4:
		moveq	#0,%d0
		moveb	(%a2),%d0
		addqb	#4,(%a2)
		jsr	(GetSineCosine):l
		movew	%d1,%d3
		asrw	#2,%d1
		addw	0x10(%a0),%d1
		moveq	#0,%d0
		moveb	0x1E(%a1),%d0
		mulsw	%d3,%d0
		asrw	#8,%d0
		addw	%d0,%d1
		movew	%d1,0x10(%a1)
		moveq	#0,%d0
		moveb	(%a2),%d0
		andiw	#0x7FFF,0xA(%a1)
		cmpib	#-0x80,%d0
		bcss	loc_32CDE
		oriw	#-0x8000,0xA(%a1)

loc_32CDE:
		addib	#0x40,%d0
		negb	%d0
		andiw	#0xFF,%d0
		divuw	#0xB,%d0
		moveb	RawAni_32D00(%pc,%d0.w),0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		jmp	(Perform_Player_DPLC):l
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */
RawAni_32D00:	.byte  0x76, 0x76, 0x77, 0x77, 0x6C, 0x6C, 0x6D, 0x6D, 0x6E, 0x6E, 0x6F, 0x6F, 0x70, 0x70, 0x71, 0x71, 0x72, 0x72, 0x73, 0x73
		.byte  0x74, 0x74, 0x75, 0x75
/*  --------------------------------------------------------------------------- */

loc_32D18:
		tstw	(Debug_placement_mode):w
		bnes	loc_32D9C
		andiw	#0x70,%d5
		beqs	loc_32D58
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		movew	#-0x800,0x18(%a1)
		movew	#-0x200,0x1A(%a1)
		bset	#0,0x2A(%a1)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bcss	loc_32D9C
		negw	0x18(%a1)
		bclr	#0,0x2A(%a1)
		bras	loc_32D9C
/*  --------------------------------------------------------------------------- */

loc_32D58:
		btst	#1,0x2A(%a1)
		bnes	loc_32D9C
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addw	0x38(%a0),%d0
		cmpw	0x3A(%a0),%d0
		bcss	loc_32DE4
		bnes	loc_32D9C
		moveb	(%a2),%d0
		andib	#0x7F,%d0
		bnes	loc_32DF4
		movew	#-0x100,0x18(%a1)
		movew	#0,0x1A(%a1)
		tstb	(%a2)
		bmis	loc_32D90
		negw	0x18(%a1)

loc_32D90:
		movew	0x18(%a1),0x1C(%a1)
		bset	#1,0x2A(%a1)

loc_32D9C:
		moveb	#0,0x26(%a1)
		bclr	#2,0x2A(%a1)
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		movew	#1,0x20(%a1)
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		bclr	#6,0x2E(%a1)
		bclr	#1,0x2E(%a1)
		bclr	#0,0x2E(%a1)
		andiw	#0x7FFF,0xA(%a1)
		moveb	#0x10,1(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_32DE4:
		movew	0x1A(%a0),%d1
		bpls	loc_32DF0
		cmpiw	#0x10,%d0
		blss	loc_32DF4

loc_32DF0:
		addw	%d1,0x14(%a1)

loc_32DF4:
		moveq	#0,%d0
		moveb	(%a2),%d0
		addqb	#4,(%a2)
		jsr	(GetSineCosine):l
		movew	%d1,%d3
		asrw	#2,%d1
		addw	0x10(%a0),%d1
		moveq	#0,%d0
		moveb	0x1E(%a1),%d0
		mulsw	%d3,%d0
		asrw	#8,%d0
		addw	%d0,%d1
		movew	%d1,0x10(%a1)
		moveq	#0,%d0
		moveb	(%a2),%d0
		andiw	#0x7FFF,0xA(%a1)
		cmpib	#-0x80,%d0
		bcss	loc_32E2E
		oriw	#-0x8000,0xA(%a1)

loc_32E2E:
		addib	#0x40,%d0
		negb	%d0
		andiw	#0xFF,%d0
		divuw	#0xB,%d0
		moveb	RawAni_32E50(%pc,%d0.w),0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		jmp	(Perform_Player_DPLC):l
/*  End of function sub_32AFE */

/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */
RawAni_32E50:	.byte  0x5E, 0x5E, 0x5E, 0x5F, 0x5F, 0x5F, 0x5F, 0x60, 0x60, 0x60, 0x60, 0x60, 0x61, 0x61, 0x61, 0x61, 0x5C, 0x5C, 0x5C, 0x5C
		.byte  0x5D, 0x5D, 0x5D, 0x5D

/*  =============== S U B R O U T I N E ======================================= */


sub_32E68:
		btst	#3,0x2A(%a1)
		beqs	loc_32E78
		moveaw	0x42(%a1),%a3
		bclr	%d6,0x2A(%a3)

loc_32E78:
		movew	%a0,0x42(%a1)
		btst	#1,0x2A(%a1)
		beqs	loc_32EAE
		movew	#0,0x18(%a1)
		movel	%a0,-(%sp)
		moveal	%a1,%a0
		movew	%a0,%d1
		subiw	#-0x5000,%d1
		bnes	loc_32EA6
		cmpiw	#2,(Player_mode):w
		beqs	loc_32EA6
		jsr	(Player_TouchFloor):l
		bras	loc_32EAC
/*  --------------------------------------------------------------------------- */

loc_32EA6:
		jsr	(Tails_TouchFloor):l

loc_32EAC:
		moveal	(%sp)+,%a0

loc_32EAE:
		bset	#3,0x2A(%a1)
		bclr	#1,0x2A(%a1)
		bset	%d6,0x2A(%a0)
		rts
/*  End of function sub_32E68 */

/*  --------------------------------------------------------------------------- */

Obj_50_1:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#4,%d0
		movew	%d0,0x3A(%a0)
		movel	#loc_32ED2,(%a0)

loc_32ED2:
		lea	(Player_1):w,%a1
		lea	0x30(%a0),%a2
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d5
		bsrs	sub_32EFE
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */
		lea	(Player_2):w,%a1
		lea	0x36(%a0),%a2
		addqb	#1,%d6
		movew	(Ctrl_2_logical):w,%d5
		bsrs	sub_32EFE
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_32EFE:
		btst	%d6,0x2A(%a0)
		bnew	loc_32FD6
		tstb	4(%a2)
		beqs	loc_32F38
		subqb	#1,4(%a2)
		bnes	loc_32F18
		bclr	#0,0x2E(%a1)

loc_32F18:
		movew	0x18(%a1),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x10(%a1)
		movew	0x1A(%a1),%d0
		addiw	#0x38,0x1A(%a1)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_32F38:
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addiw	#0x24,%d1
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		addw	%d1,%d1
		cmpw	%d1,%d0
		bccw	locret_32FD4
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		cmpiw	#0x20,%d0
		bccs	locret_32FD4
		tstb	0x2E(%a1)
		bnes	locret_32FD4
		tstw	(Debug_placement_mode):w
		bnes	locret_32FD4
		btst	#1,0x2A(%a1)
		bnes	locret_32FD4
		moveb	0x26(%a1),%d0
		andib	#0x7F,%d0
		cmpiw	#0x40,%d0
		bnes	locret_32FD4
		movel	0x14(%a1),(%a2)
		movew	(%a2),%d0
		subw	0x14(%a0),%d0
		movew	%d0,(%a2)
		bsrw	sub_32E68
		moveb	#-0x40,0x26(%a1)
		bclr	#0,4(%a1)
		moveb	#-0x80,5(%a2)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bcss	loc_32FC2
		moveb	#0x40,0x26(%a1)
		bset	#0,4(%a1)
		moveb	#0,5(%a2)

loc_32FC2:
		bset	#1,4(%a1)
		bset	#6,0x2E(%a1)
		bset	#1,0x2E(%a1)

locret_32FD4:
		rts
/*  --------------------------------------------------------------------------- */

loc_32FD6:
		tstw	(Debug_placement_mode):w
		bnew	loc_330C6
		andiw	#0x70,%d5
		beqs	loc_33028
		moveb	#8,4(%a2)
		bset	#0,0x2E(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		movew	#-0x800,0x18(%a1)
		movew	#-0x200,0x1A(%a1)
		bset	#0,0x2A(%a1)
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		bcsw	loc_330C6
		negw	0x18(%a1)
		bclr	#0,0x2A(%a1)
		braw	loc_330C6
/*  --------------------------------------------------------------------------- */

loc_33028:
		movew	0x1C(%a1),%d0
		bpls	loc_3303E
		negw	%d0
		cmpiw	#0x400,%d0
		bccs	loc_3304A
		movew	#-0x400,0x1C(%a1)
		bras	loc_3304A
/*  --------------------------------------------------------------------------- */

loc_3303E:
		cmpiw	#0x400,%d0
		bccs	loc_3304A
		movew	#0x400,0x1C(%a1)

loc_3304A:
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		cmpw	0x3A(%a0),%d0
		bcsw	loc_3310A
		movew	0x1C(%a1),%d0
		bpls	loc_33076
		negw	%d0
		cmpiw	#0xC00,%d0
		bcss	loc_33088
		movew	#-0xC00,0x1C(%a1)
		movew	#0xC00,0x1A(%a1)
		bras	loc_33088
/*  --------------------------------------------------------------------------- */

loc_33076:
		cmpiw	#0xC00,%d0
		bcss	loc_33088
		movew	#0xC00,0x1C(%a1)
		movew	#0xC00,0x1A(%a1)

loc_33088:
		movew	0x1A(%a1),%d0
		extl	%d0
		lsll	#6,%d0
		movel	%d0,%d1
		addl	%d0,%d0
		addl	%d1,%d0
		addl	(%a2),%d0
		swap	%d0
		moveq	#0,%d2
		muluw	#0x155,%d0
		lsrl	#8,%d0
		movew	%d0,%d2
		addb	5(%a2),%d0
		jsr	(GetSineCosine):l
		movew	%d1,%d3
		asrw	#3,%d1
		addw	0x10(%a0),%d1
		moveq	#0,%d0
		moveb	0x1E(%a1),%d0
		mulsw	%d3,%d0
		asrw	#8,%d0
		addw	%d0,%d1
		movew	%d1,0x10(%a1)

loc_330C6:
		btst	#0,0x2A(%a0)
		beqs	loc_330D4
		addib	#-0x80,0x26(%a1)

loc_330D4:
		bclr	#2,0x2A(%a1)
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)
		movew	#1,0x20(%a1)
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		bclr	#6,0x2E(%a1)
		bclr	#1,0x2E(%a1)
		andiw	#0x7FFF,0xA(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_3310A:
		movew	0x1C(%a1),%d0
		bpls	loc_33126
		negw	%d0
		cmpiw	#0xC00,%d0
		bcss	loc_33138
		movew	#-0xC00,0x1C(%a1)
		movew	#0xC00,0x1A(%a1)
		bras	loc_33138
/*  --------------------------------------------------------------------------- */

loc_33126:
		cmpiw	#0xC00,%d0
		bcss	loc_33138
		movew	#0xC00,0x1C(%a1)
		movew	#0xC00,0x1A(%a1)

loc_33138:
		movew	0x1A(%a1),%d0
		extl	%d0
		lsll	#6,%d0
		movel	%d0,%d1
		addl	%d0,%d0
		addl	%d1,%d0
		addl	%d0,(%a2)
		moveq	#0,%d0
		moveq	#0,%d2
		movew	(%a2),%d0
		muluw	#0x155,%d0
		lsrl	#8,%d0
		movew	%d0,%d2
		addb	5(%a2),%d0
		jsr	(GetSineCosine):l
		movew	%d1,%d3
		asrw	#3,%d1
		addw	0x10(%a0),%d1
		moveq	#0,%d0
		moveb	0x1E(%a1),%d0
		mulsw	%d3,%d0
		asrw	#8,%d0
		addw	%d0,%d1
		movew	%d1,0x10(%a1)
		movew	(%a2),%d0
		addw	0x14(%a0),%d0
		movew	%d0,0x14(%a1)
		moveq	#0,%d0
		andiw	#0x7FFF,0xA(%a1)
		cmpib	#-0x80,%d2
		bccs	loc_33196
		oriw	#-0x8000,0xA(%a1)

loc_33196:
		subib	#0x40,%d2
		negb	%d2
		andiw	#0xFF,%d2
		divuw	#0xB,%d2
		moveb	byte_331B8(%pc,%d2.w),0x22(%a1)
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		jmp	(Perform_Player_DPLC):l
/*  End of function sub_32EFE */

/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */
byte_331B8:	.byte  0x76, 0x76, 0x77, 0x77, 0x6C, 0x6C, 0x6D, 0x6D, 0x6E, 0x6E, 0x6F, 0x6F, 0x70, 0x70, 0x71, 0x71, 0x72, 0x72, 0x73, 0x73
		.byte  0x74, 0x74, 0x75, 0x75
/*  --------------------------------------------------------------------------- */

Obj_MGZSwingingPlatform:
		movel	#Map_MGZSwingingPlatform,0xC(%a0)
		movew	#0x435F,0xA(%a0)
		moveb	#4,4(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0xC,6(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	#2,0x22(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_33268
		movel	#loc_332BA,(%a1)
		movel	#Map_MGZSwingingPlatform,0xC(%a1)
		movew	#0x435F,0xA(%a1)
		moveb	#4,4(%a1)
		moveb	#0x50,7(%a1)
		moveb	#0x50,6(%a1)
		movew	#0x280,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		btst	#1,0x2A(%a0)
		bnes	loc_33258
		moveb	#1,0x22(%a1)

loc_33258:
		bset	#6,4(%a1)
		movew	#4,0x16(%a1)
		movew	%a1,0x3C(%a0)

loc_33268:
		moveq	#1,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_33274
		negw	%d0

loc_33274:
		moveb	%d0,0x36(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x34(%a0)
		movel	#loc_33286,(%a0)

loc_33286:
		movew	0x10(%a0),-(%sp)
		moveaw	0x3C(%a0),%a1
		bsrw	sub_332C0
		moveb	0x36(%a0),%d0
		addb	%d0,0x34(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		moveq	#0,%d3
		moveb	6(%a0),%d3
		addqw	#1,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectTop):l
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_332BA:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_332C0:
		moveb	0x34(%a0),%d0
		jsr	(GetSineCosine):l
		movew	0x32(%a0),%d2
		movew	0x30(%a0),%d3
		swap	%d0
		swap	%d1
		asrl	#4,%d0
		asrl	#4,%d1
		movel	%d0,%d4
		movel	%d1,%d5
		lea	0x18(%a1),%a2
		movew	0x16(%a1),%d6
		subqw	#1,%d6

loc_332E8:
		moveml	%d4-%d5,-(%sp)
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,(%a2)+
		movew	%d4,(%a2)+
		moveml	(%sp)+,%d4-%d5
		addl	%d0,%d4
		addl	%d1,%d5
		addqw	#2,%a2
		dbf	%d6,loc_332E8
		swap	%d4
		swap	%d5
		addw	%d2,%d4
		addw	%d3,%d5
		movew	%d5,0x10(%a0)
		movew	%d4,0x14(%a0)
		rts
/*  End of function sub_332C0 */

/*  --------------------------------------------------------------------------- */
Map_MGZSwingingPlatform:
		.include "Levels/MGZ/Misc Object Data/Map - Swinging Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZSwingingSpikeBall:
		movel	#Map_MGZSwingingSpikeBall,0xC(%a0)
		movew	#0x235F,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		movew	#0x200,8(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	#3,0x22(%a0)
		moveb	#-0x71,0x28(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_333F0
		movel	#loc_334B4,(%a1)
		movel	#Map_MGZSwingingSpikeBall,0xC(%a1)
		movew	#0x235F,0xA(%a1)
		moveb	4(%a0),4(%a1)
		moveb	#0x50,7(%a1)
		moveb	#0x50,6(%a1)
		movew	#0x280,8(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		bset	#6,4(%a1)
		movew	#4,0x16(%a1)
		lea	0x18(%a1),%a2
		movew	0x16(%a1),%d0

loc_333D0:
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#0,(%a2)+
		dbf	%d0,loc_333D0
		movew	#1,-2(%a2)
		moveb	#1,0x22(%a1)
		movew	%a1,0x3C(%a0)

loc_333F0:
		moveb	0x2C(%a0),%d0
		beqs	loc_33416
		movew	#2,-2(%a2)
		moveb	#2,0x22(%a1)
		movew	#-0x8000,0x34(%a0)
		movew	#0x100,0x36(%a0)
		movel	#loc_3346A,(%a0)
		bras	loc_3346A
/*  --------------------------------------------------------------------------- */

loc_33416:
		moveq	#2,%d0
		btst	#1,0x2A(%a0)
		beqs	loc_33422
		negw	%d0

loc_33422:
		moveb	%d0,0x36(%a0)
		movel	#loc_3342C,(%a0)

loc_3342C:
		moveaw	0x3C(%a0),%a1
		bsrw	sub_334BA
		moveb	0x34(%a0),%d2
		moveb	0x36(%a0),%d0
		addb	%d0,0x34(%a0)
		tstb	4(%a0)
		bpls	loc_33460
		moveb	0x34(%a0),%d0
		eorb	%d0,%d2
		andib	#0x40,%d2
		beqs	loc_33460
		andib	#0x40,%d0
		beqs	loc_33460
		moveq	#sfx_SpikeBalls,%d0
		jsr	(Play_Sound_2):l

loc_33460:
		movew	0x30(%a0),%d0
		jmp	(loc_19CC8):l
/*  --------------------------------------------------------------------------- */

loc_3346A:
		moveaw	0x3C(%a0),%a1
		bsrw	sub_33516
		moveb	0x34(%a0),%d2
		bpls	loc_33480
		addiw	#0x10,0x36(%a0)
		bras	loc_33486
/*  --------------------------------------------------------------------------- */

loc_33480:
		subiw	#0x10,0x36(%a0)

loc_33486:
		movew	0x36(%a0),%d0
		addw	%d0,0x34(%a0)
		tstb	4(%a0)
		bpls	loc_334AE
		moveb	0x34(%a0),%d0
		eorb	%d0,%d2
		andib	#0x40,%d2
		beqs	loc_334AE
		andib	#0x40,%d0
		beqs	loc_334AE
		moveq	#sfx_SpikeBalls,%d0
		jsr	(Play_Sound_2):l

loc_334AE:
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */

loc_334B4:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_334BA:
		movew	#0x200,8(%a0)
		moveb	#0,0x22(%a1)
		movew	#5,0x16(%a1)
		moveb	0x34(%a0),%d0
		bpls	loc_334E4
		movew	#0x300,8(%a0)
		moveb	#1,0x22(%a1)
		movew	#4,0x16(%a1)

loc_334E4:
		jsr	(GetSineCosine):l
		movew	0x30(%a0),%d3
		swap	%d1
		asrl	#4,%d1
		movel	%d1,%d5
		lea	0x18(%a1),%a2
		moveq	#3,%d6

loc_334FA:
		movel	%d5,%d4
		swap	%d4
		addw	%d3,%d4
		movew	%d4,(%a2)+
		addl	%d1,%d5
		addqw	#4,%a2
		dbf	%d6,loc_334FA
		addl	%d1,%d5
		swap	%d5
		addw	%d3,%d5
		movew	%d5,0x10(%a0)
		rts
/*  End of function sub_334BA */


/*  =============== S U B R O U T I N E ======================================= */


sub_33516:
		movew	#0x200,8(%a0)
		moveb	#0,0x22(%a1)
		movew	#5,0x16(%a1)
		moveb	0x34(%a0),%d0
		bpls	loc_33540
		movew	#0x300,8(%a0)
		moveb	#2,0x22(%a1)
		movew	#4,0x16(%a1)

loc_33540:
		jsr	(GetSineCosine):l
		movew	0x32(%a0),%d3
		swap	%d1
		asrl	#4,%d1
		movel	%d1,%d5
		lea	0x1A(%a1),%a2
		moveq	#3,%d6

loc_33556:
		movel	%d5,%d4
		swap	%d4
		addw	%d3,%d4
		movew	%d4,(%a2)+
		addl	%d1,%d5
		addqw	#4,%a2
		dbf	%d6,loc_33556
		addl	%d1,%d5
		swap	%d5
		addw	%d3,%d5
		movew	%d5,0x14(%a0)
		rts
/*  End of function sub_33516 */

/*  --------------------------------------------------------------------------- */
Map_MGZSwingingSpikeBall:
		.include "Levels/MGZ/Misc Object Data/Map - Swinging Spike Ball.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZHeadTrigger:
		movel	#Map_MGZHeadTrigger,0xC(%a0)
		movew	#-0x5C01,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x38,6(%a0)
		moveb	#2,0x22(%a0)
		moveb	#0x17,0x28(%a0)
		moveb	#3,0x29(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#6,(%a2)+
		btst	#0,0x2A(%a0)
		bnes	loc_3360E
		movew	#0xC0,0x30(%a0)

loc_3360E:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		beqs	loc_33632
		moveb	#1,0x34(%a0)
		moveb	#0,0x22(%a0)
		moveb	#0,0x28(%a0)

loc_33632:
		movel	#loc_33638,(%a0)

loc_33638:
		tstb	0x34(%a0)
		bnew	loc_337BC
		movew	(Player_1+x_pos):w,%d0
		subw	0x10(%a0),%d0
		addw	0x30(%a0),%d0
		cmpiw	#0xC0,%d0
		bccs	loc_33670
		movew	(Player_1+y_pos):w,%d0
		subw	0x14(%a0),%d0
		addiw	#0x80,%d0
		cmpiw	#0xC0,%d0
		bccs	loc_33670
		tstb	0x20(%a0)
		bnes	loc_33670
		movew	#0x100,0x20(%a0)

loc_33670:
		tstb	0x28(%a0)
		bnew	loc_33726
		tstw	0x32(%a0)
		beqs	loc_33690
		subqw	#1,0x32(%a0)
		bnew	loc_33726
		moveb	#0x17,0x28(%a0)
		braw	loc_33726
/*  --------------------------------------------------------------------------- */

loc_33690:
		movew	#0x3C,0x32(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_3371E
		movel	#loc_337E0,(%a1)
		tstb	0x29(%a0)
		bnes	loc_336DC
		movel	#Obj_Explosion,(%a1)
		movew	#-0x8000,0xA(%a1)
		moveb	#2,5(%a1)
		moveb	#1,0x34(%a0)
		moveb	#0,0x22(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		moveb	#1,(%a3,%d0.w)

loc_336DC:
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	4(%a0),4(%a1)
		andib	#-0x41,4(%a1)
		moveb	0x2A(%a0),0x2A(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		movew	#0x200,8(%a1)
		moveb	#8,7(%a1)
		moveb	#8,6(%a1)
		moveb	#2,0x20(%a1)

loc_3371E:
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_33726:
		lea	(Ani_MGZHeadTrigger):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		beqw	loc_337BC
		clrb	5(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_337BC
		movel	#loc_337C2,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x10,0x10(%a1)
		addiw	#0x20,0x14(%a1)
		moveb	4(%a0),4(%a1)
		andib	#-0x41,4(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		andiw	#0x7FFF,0xA(%a1)
		movew	#0x300,8(%a1)
		moveb	#0x10,7(%a1)
		moveb	#4,6(%a1)
		moveb	#-0x65,0x28(%a1)
		movew	#-0x400,0x18(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_337B4
		negw	0x18(%a1)
		subiw	#0x20,0x10(%a1)

loc_337B4:
		moveq	#sfx_LevelProjectile,%d0
		jsr	(Play_Sound_2):l

loc_337BC:
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */

loc_337C2:
		tstb	4(%a0)
		bpls	loc_337DA
		jsr	(MoveSprite2):l
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_337DA:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_337E0:
		lea	(Ani_MGZHeadTrigger):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Ani_MGZHeadTrigger:
		.include "Levels/MGZ/Misc Object Data/Anim - Head Trigger.S"
Map_MGZHeadTrigger:
		.include "Levels/MGZ/Misc Object Data/Map - Head Trigger.S"
byte_33868:	.byte  0x40, 0x1E,   0, 0x40, 0x20, 0x40,   1, 0x40, 0x20, 0x40,   1, 0x40
/*  --------------------------------------------------------------------------- */

Obj_MGZTriggerPlatform:
		moveb	0x2C(%a0),%d1
		andiw	#0xF0,%d1
		lsrw	#2,%d1
		lea	byte_33868(%pc,%d1.w),%a1
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveq	#0,%d0
		moveb	(%a1)+,%d0
		movew	%d0,0x30(%a0)
		lsrw	#2,%d1
		movew	%d1,0x34(%a0)
		movel	#Map_MGZTriggerPlatform,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		movew	0x10(%a0),0x36(%a0)
		tstw	%d1
		beqs	loc_338CA
		movel	#loc_3393E,(%a0)
		braw	loc_3393E
/*  --------------------------------------------------------------------------- */

loc_338CA:
		movel	#loc_338D0,(%a0)

loc_338D0:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		beqs	loc_33916
		moveq	#2,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_338EE
		negw	%d0

loc_338EE:
		addw	%d0,0x10(%a0)
		movew	#-1,(Screen_shake_flag):w
		subqw	#1,0x30(%a0)
		bnes	loc_33916
		movew	#0x7F00,0x10(%a0)
		movew	#0x7F00,0x36(%a0)
		movew	#0,0x48(%a0)
		movew	#0,(Screen_shake_flag):w

loc_33916:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		movew	0x36(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_3393E:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		tstb	(%a3,%d0.w)
		beqs	loc_3395C
		tstb	0x32(%a0)
		bmis	loc_3398E
		moveb	#1,0x32(%a0)

loc_3395C:
		tstb	0x32(%a0)
		beqs	loc_3398E
		bmis	loc_3398E
		movew	0x34(%a0),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_33972
		negw	%d0

loc_33972:
		addw	%d0,0x14(%a0)
		movew	#-1,(Screen_shake_flag):w
		subqw	#1,0x30(%a0)
		bnes	loc_3398E
		moveb	#-1,0x32(%a0)
		movew	#0,(Screen_shake_flag):w

loc_3398E:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_MGZTriggerPlatform:
		.include "Levels/MGZ/Misc Object Data/Map - Trigger Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZMovingSpikePlatform:
		movel	#Map_MGZMovingSpikePlatform,0xC(%a0)
		movew	#0x4001,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x30,6(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_33ABA
		moveb	#1,0x34(%a0)

loc_33ABA:
		movel	#loc_33AC0,(%a0)

loc_33AC0:
		movew	0x10(%a0),-(%sp)
		tstb	0x34(%a0)
		bnes	loc_33AE4
		addqw	#1,0x10(%a0)
		movew	0x30(%a0),%d0
		addiw	#0x50,%d0
		cmpw	0x10(%a0),%d0
		bnes	loc_33AFC
		moveb	#1,0x34(%a0)
		bras	loc_33AFC
/*  --------------------------------------------------------------------------- */

loc_33AE4:
		subqw	#1,0x10(%a0)
		movew	0x30(%a0),%d0
		subiw	#0x50,%d0
		cmpw	0x10(%a0),%d0
		bnes	loc_33AFC
		moveb	#0,0x34(%a0)

loc_33AFC:
		moveq	#0,%d0
		moveb	(Oscillating_table+0x12):w,%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		swap	%d6
		andiw	#3,%d6
		beqs	loc_33B78
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_33B54
		bclr	#5,0x2A(%a0)
		lea	(Player_1):w,%a1
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addiw	#0x28,%d0
		bmis	loc_33B54
		jsr	(sub_228EC):l

loc_33B54:
		andib	#2,%d6
		beqs	loc_33B78
		bclr	#6,0x2A(%a0)
		lea	(Player_2):w,%a1
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addiw	#0x28,%d0
		bmis	loc_33B78
		jsr	(sub_228EC):l

loc_33B78:
		subqb	#1,0x24(%a0)
		bpls	loc_33B8E
		moveb	#7,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_33B8E:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */
Map_MGZMovingSpikePlatform:
		.include "Levels/MGZ/Misc Object Data/Map - Moving Spike Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZPulley:
		movel	#Map_MGZPulley,0xC(%a0)
		movew	#0x235F,0xA(%a0)
		orib	#4,4(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		movew	#0x280,8(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#0,(%a2)+
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		movew	%d0,0x40(%a0)
		movew	%d0,0x3C(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_33DC2
		movel	#loc_340B6,(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	4(%a0),4(%a1)
		moveb	#0x60,7(%a1)
		moveb	#-0x40,6(%a1)
		movew	#0x300,8(%a1)
		movew	0x10(%a0),0x12(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x78,0x10(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_33D74
		addiw	#0xF0,0x10(%a1)

loc_33D74:
		addiw	#0xD0,0x14(%a1)
		bset	#6,4(%a1)
		movew	#8,0x16(%a1)
		lea	0x18(%a1),%a2
		moveq	#7,%d0
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0xC,%d2
		subiw	#8,%d3
		subiw	#0x18,%d2
		addiw	#0x30,%d3

loc_33DA4:
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	#5,(%a2)+
		subiw	#0x18,%d2
		addiw	#0x30,%d3
		dbf	%d0,loc_33DA4
		movew	#6,-2(%a2)
		movew	%a1,0x3E(%a0)

loc_33DC2:
		movel	#loc_33DC8,(%a0)

loc_33DC8:
		moveq	#0,%d4
		tstb	0x38(%a0)
		bnes	loc_33DF0
		movew	0x3C(%a0),%d0
		cmpw	0x40(%a0),%d0
		beqs	loc_33E56
		bccs	loc_33DE6
		addqw	#2,0x3C(%a0)
		moveb	#-1,%d4
		bras	loc_33E2E
/*  --------------------------------------------------------------------------- */

loc_33DE6:
		moveb	#1,%d4
		subqw	#2,0x3C(%a0)
		bras	loc_33E2E
/*  --------------------------------------------------------------------------- */

loc_33DF0:
		tstw	0x34(%a0)
		bnes	loc_33E0E
		tstw	0x3C(%a0)
		beqs	loc_33E56
		moveb	#1,%d4
		subqw	#4,0x3C(%a0)
		bccs	loc_33E2E
		movew	#0,0x3C(%a0)
		bras	loc_33E2E
/*  --------------------------------------------------------------------------- */

loc_33E0E:
		subqw	#1,0x34(%a0)
		cmpiw	#0xC,0x34(%a0)
		bcss	loc_33E56
		movew	0x40(%a0),%d0
		addqw	#8,%d0
		cmpw	0x3C(%a0),%d0
		beqs	loc_33E56
		addqw	#2,0x3C(%a0)
		moveb	#-1,%d4

loc_33E2E:
		subqb	#1,0x24(%a0)
		bpls	loc_33E44
		moveb	#1,0x24(%a0)
		addb	%d4,0x1D(%a0)
		andib	#3,0x1D(%a0)

loc_33E44:
		tstb	0x22(%a0)
		bnes	loc_33E56
		tstw	%d4
		beqs	loc_33E5C
		moveb	#4,0x22(%a0)
		bras	loc_33E5C
/*  --------------------------------------------------------------------------- */

loc_33E56:
		moveb	#0,0x22(%a0)

loc_33E5C:
		bsrw	sub_33FEA
		bsrw	sub_33E6A
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_33E6A:
		lea	0x38(%a0),%a2
		lea	(Player_1):w,%a1
		movew	(Ctrl_1):w,%d0
		bsrs	sub_33E82
		addqw	#1,%a2
		lea	(Player_2):w,%a1
		movew	(Ctrl_2):w,%d0
/*  End of function sub_33E6A */


/*  =============== S U B R O U T I N E ======================================= */


sub_33E82:
		tstb	(%a2)
		beqw	loc_33F22
		tstb	4(%a1)
		bpls	loc_33EE2
		cmpib	#4,5(%a1)
		bccs	loc_33EE2
		andib	#0x70,%d0
		beqw	loc_33EF0
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		movew	#-0x400,0x18(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_33EBC
		negw	0x18(%a1)

loc_33EBC:
		movew	#-0x600,0x1A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_33EE2:
		clrb	0x2E(%a1)
		clrb	(%a2)
		moveb	#0x3C,2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_33EF0:
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x26,%d2
		addiw	#0x2E,%d3
		movew	0x3C(%a0),%d0
		addw	%d0,%d3
		lsrw	#1,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_33F16
		addiw	#0x4C,%d2
		negw	%d0

loc_33F16:
		subw	%d0,%d2
		movew	%d2,0x10(%a1)
		movew	%d3,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_33F22:
		tstb	2(%a2)
		beqs	loc_33F30
		subqb	#1,2(%a2)
		bnew	locret_33FE8

loc_33F30:
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x26,%d2
		addiw	#0x2E,%d3
		movew	0x3C(%a0),%d0
		addw	%d0,%d3
		lsrw	#1,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_33F56
		addiw	#0x4C,%d2
		negw	%d0

loc_33F56:
		subw	%d0,%d2
		movew	0x10(%a1),%d0
		subw	%d2,%d0
		addiw	#0xC,%d0
		cmpiw	#0x18,%d0
		bccw	locret_33FE8
		movew	0x14(%a1),%d1
		subw	%d3,%d1
		addiw	#0xC,%d1
		cmpiw	#0x18,%d1
		bccw	locret_33FE8
		tstb	0x2E(%a1)
		bnes	locret_33FE8
		cmpib	#4,5(%a1)
		bccs	locret_33FE8
		tstw	(Debug_placement_mode):w
		bnes	locret_33FE8
		movew	0x18(%a1),%d0
		btst	#0,0x2A(%a0)
		beqs	loc_33F9E
		negw	%d0

loc_33F9E:
		tstw	%d0
		bpls	locret_33FE8
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		movew	%d2,0x10(%a1)
		movew	%d3,0x14(%a1)
		moveb	#0xB,0x20(%a1)
		moveb	#1,0x2E(%a1)
		bclr	#0,0x2A(%a1)
		btst	#0,0x2A(%a0)
		beqs	loc_33FD6
		bset	#0,0x2A(%a1)

loc_33FD6:
		movew	#0x10,0x34(%a0)
		moveb	#1,(%a2)
		moveq	#sfx_PulleyGrab,%d0
		jsr	(Play_Sound_2):l

locret_33FE8:
		rts
/*  End of function sub_33E82 */


/*  =============== S U B R O U T I N E ======================================= */


sub_33FEA:
		btst	#0,0x2A(%a0)
		bnes	loc_34054
		moveaw	0x3E(%a0),%a1
		moveq	#0,%d0
		movew	0x3C(%a0),%d0
		addiw	#0x18,%d0
		divuw	#0x30,%d0
		movew	%d0,0x16(%a1)
		movew	%d0,%d1
		lea	0x18(%a1),%a2
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0xC,%d2
		subiw	#8,%d3
		swap	%d0
		cmpiw	#8,%d1
		bnes	loc_3402E
		movew	#0x30,%d0
		moveq	#7,%d1
		bras	loc_34032
/*  --------------------------------------------------------------------------- */

loc_3402E:
		addqw	#1,0x16(%a1)

loc_34032:
		addw	%d0,%d3
		lsrw	#1,%d0
		subw	%d0,%d2

loc_34038:
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	#5,(%a2)+
		subiw	#0x18,%d2
		addiw	#0x30,%d3
		dbf	%d1,loc_34038
		movew	#6,-2(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_34054:
		moveaw	0x3E(%a0),%a1
		moveq	#0,%d0
		movew	0x3C(%a0),%d0
		addiw	#0x18,%d0
		divuw	#0x30,%d0
		movew	%d0,0x16(%a1)
		movew	%d0,%d1
		lea	0x18(%a1),%a2
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		addiw	#0xC,%d2
		subiw	#8,%d3
		swap	%d0
		cmpiw	#8,%d1
		bnes	loc_34090
		movew	#0x30,%d0
		moveq	#7,%d1
		bras	loc_34094
/*  --------------------------------------------------------------------------- */

loc_34090:
		addqw	#1,0x16(%a1)

loc_34094:
		addw	%d0,%d3
		lsrw	#1,%d0
		addw	%d0,%d2

loc_3409A:
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		movew	#5,(%a2)+
		addiw	#0x18,%d2
		addiw	#0x30,%d3
		dbf	%d1,loc_3409A
		movew	#6,-2(%a2)
		rts
/*  End of function sub_33FEA */

/*  --------------------------------------------------------------------------- */

loc_340B6:
		movew	0x12(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */
Map_MGZPulley:	.include "Levels/MGZ/Misc Object Data/Map - Pulley.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZTopPlatform:
		movel	#Map_MGZTopPlatform,0xC(%a0)
		movew	#0x235F,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#0x1F,0x1E(%a0)
		moveb	#0x18,0x1F(%a0)
		moveb	#0x1F,0x44(%a0)
		moveb	#0x18,0x45(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	#0xC,0x46(%a0)
		moveb	#0xD,0x47(%a0)
		movel	#loc_341EC,(%a0)

loc_341EC:
		lea	(Player_1):w,%a1
		lea	0x40(%a0),%a4
		movew	(Ctrl_1_logical):w,%d5
		moveq	#3,%d6
		bsrw	sub_34484
		lea	(Player_2):w,%a1
		lea	0x42(%a0),%a4
		movew	(Ctrl_2_logical):w,%d5
		moveq	#4,%d6
		bsrw	sub_34484
		tstb	0x2C(%a0)
		bnew	loc_342FA
		btst	#1,0x2A(%a0)
		beqw	loc_342A6
		cmpiw	#0x200,0x1A(%a0)
		bges	loc_34230
		addiw	#8,0x1A(%a0)

loc_34230:
		jsr	(MoveSprite2):l
		subiw	#0x13,0x14(%a0)
		movel	%a1,-(%sp)
		jsr	(sub_347FC):l
		moveal	(%sp)+,%a1
		addiw	#0x13,0x14(%a0)
		tstb	0x2D(%a0)
		beqs	loc_34268
		movew	#0,0x1A(%a0)
		movew	#0,0x18(%a0)
		bclr	#1,0x2A(%a0)
		braw	loc_342FA
/*  --------------------------------------------------------------------------- */

loc_34268:
		btst	#1,0x2A(%a0)
		bnew	loc_342FA
		movew	0x18(%a0),%d0
		bpls	loc_3427A
		negw	%d0

loc_3427A:
		cmpiw	#0x40,%d0
		bcss	loc_342FA
		movew	#0x800,%d1
		cmpiw	#0x100,%d0
		bcss	loc_3428E
		movew	#0xC00,%d1

loc_3428E:
		tstw	0x18(%a0)
		bpls	loc_34296
		negw	%d1

loc_34296:
		movew	%d1,0x18(%a0)
		movew	%d1,0x1C(%a0)
		moveb	#1,0x34(%a0)
		bras	loc_342FA
/*  --------------------------------------------------------------------------- */

loc_342A6:
		tstb	0x35(%a0)
		beqs	loc_342B6
		bsrw	sub_34DFA
		addqw	#4,0x24(%a0)
		bras	loc_342FA
/*  --------------------------------------------------------------------------- */

loc_342B6:
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a0),%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a0)
		mulsw	0x1C(%a0),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)
		bsrs	h
		jsr	(MoveSprite2):l
		tstb	0x2D(%a0)
		bnes	loc_342E6
		bsrw	sub_34406

loc_342E6:
		addqw	#4,0x24(%a0)
		tstw	0x1C(%a0)
		bnes	loc_342F6
		moveb	#0,0x34(%a0)

loc_342F6:
		bsrw	sub_34BF8

loc_342FA:
		lea	(Player_1):w,%a1
		lea	0x40(%a0),%a4
		moveq	#3,%d6
		bsrw	sub_34794
		lea	(Player_2):w,%a1
		lea	0x42(%a0),%a4
		moveq	#4,%d6
		bsrw	sub_34794
		movew	0x24(%a0),%d0
		asrw	#3,%d0
		andiw	#1,%d0
		moveb	%d0,0x22(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_3432A:
		jsr	(MoveSprite):l
		addqw	#4,0x24(%a0)
		movew	0x24(%a0),%d0
		asrw	#3,%d0
		andiw	#1,%d0
		moveb	%d0,0x22(%a0)
		tstb	4(%a0)
		bmis	loc_3434E
		movew	#0x7F00,0x10(%a0)

loc_3434E:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


h:
		moveb	#0x40,%d1
		tstw	0x1C(%a0)
		beqs	locret_343CE
		bmis	loc_34362
		negw	%d1

loc_34362:
		moveb	0x26(%a0),%d0
		addb	%d1,%d0
		movew	%d0,-(%sp)
		moveb	#0x13,0x1E(%a0)
		moveb	#0x18,0x1F(%a0)
		subiw	#0xC,0x14(%a0)
		jsr	(sub_10A10):l
		addiw	#0xC,0x14(%a0)
		movew	(%sp)+,%d0
		tstw	%d1
		bpls	locret_343CE
		aslw	#8,%d1
		addib	#0x20,%d0
		andib	#-0x40,%d0
		beqs	loc_34400
		cmpib	#0x40,%d0
		beqs	loc_343D6
		cmpib	#-0x80,%d0
		beqs	loc_343D0
		addib	#0x30,%d3
		cmpib	#0x60,%d3
		bcss	locret_343CE
		addw	%d1,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		btst	#0,0x2A(%a0)
		bnes	locret_343CE
		bset	#5,0x2A(%a0)

locret_343CE:
		rts
/*  --------------------------------------------------------------------------- */

loc_343D0:
		subw	%d1,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_343D6:
		addib	#0x30,%d3
		cmpib	#0x60,%d3
		bcss	locret_343CE
		subw	%d1,0x18(%a0)
		movew	#0,0x1A(%a0)
		movew	#0,0x1C(%a0)
		btst	#0,0x2A(%a0)
		beqs	locret_343CE
		bset	#5,0x2A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34400:
		addw	%d1,0x1A(%a0)
		rts
/*  End of function h */


/*  =============== S U B R O U T I N E ======================================= */


sub_34406:
		moveb	#0xC,0x1E(%a0)
		moveb	#0xA,0x1F(%a0)
		moveq	#3,%d0
		moveb	%d0,(Primary_Angle):w
		moveb	%d0,(Secondary_Angle):w
		jsr	(Sonic_CheckFloor):l
		tstb	%d3
		bpls	loc_34432
		cmpib	#-0x1E,%d3
		bccs	loc_3443C
		moveb	#-0x1E,%d3
		bras	loc_3443C
/*  --------------------------------------------------------------------------- */

loc_34432:
		cmpib	#0x1E,%d3
		blss	loc_3443C
		moveb	#0x1E,%d3

loc_3443C:
		moveb	%d3,0x26(%a0)
		tstw	%d1
		beqs	locret_34450
		bpls	loc_34452
		cmpiw	#-0xE,%d1
		blts	locret_34450
		addw	%d1,0x14(%a0)

locret_34450:
		rts
/*  --------------------------------------------------------------------------- */

loc_34452:
		moveb	0x18(%a0),%d0
		bpls	loc_3445A
		negb	%d0

loc_3445A:
		addqb	#4,%d0
		cmpib	#0xE,%d0
		bcss	loc_34466
		moveb	#0xE,%d0

loc_34466:
		cmpb	%d0,%d1
		bgts	loc_34470
		addw	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34470:
		bset	#1,0x2A(%a0)
		bclr	#5,0x2A(%a0)
		moveb	#0,0x34(%a0)
		rts
/*  End of function sub_34406 */


/*  =============== S U B R O U T I N E ======================================= */


sub_34484:
		moveq	#0,%d0
		moveb	(%a4),%d0
		movew	off_34490(%pc,%d0.w),%d0
		jmp	off_34490(%pc,%d0.w)
/*  End of function sub_34484 */

/*  --------------------------------------------------------------------------- */
off_34490:	.word loc_3449C-off_34490
		.word loc_344E4-off_34490
		.word loc_34554-off_34490
		.word loc_34498-off_34490
/*  --------------------------------------------------------------------------- */

loc_34498:
		clrw	(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_3449C:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(sub_1BA2A):l
		btst	%d6,0x2A(%a0)
		bnes	loc_344C2
		rts
/*  --------------------------------------------------------------------------- */

loc_344C2:
		tstb	0x37(%a1)
		bmis	locret_344E2
		addqb	#2,(%a4)
		moveb	#0,1(%a4)
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bccs	loc_344E0
		moveb	#1,1(%a4)

loc_344E0:
		bras	loc_34502
/*  --------------------------------------------------------------------------- */

locret_344E2:
		rts
/*  --------------------------------------------------------------------------- */

loc_344E4:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(sub_1BA2A):l

loc_34502:
		btst	%d6,0x2A(%a0)
		bnes	loc_3450A
		clrb	(%a4)

loc_3450A:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		tstb	1(%a4)
		beqs	loc_3451C
		addiw	#0xF,%d0

loc_3451C:
		cmpiw	#0x10,%d0
		bccs	locret_34552
		movew	0x10(%a0),0x10(%a1)
		moveb	0x44(%a1),%d0
		addib	#0x18,%d0
		moveb	%d0,0x1E(%a1)
		bset	#0,0x2E(%a1)
		moveb	#-0x80,0x37(%a1)
		bclr	%d6,0x2A(%a0)
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)
		addqb	#2,(%a4)

locret_34552:
		rts
/*  --------------------------------------------------------------------------- */

loc_34554:
		cmpib	#4,5(%a1)
		bccw	sub_3472C
		tstw	(Debug_placement_mode):w
		bnes	loc_3459C
		movew	%d5,%d0
		andiw	#0x70,%d0
		beqw	loc_345BA
		movew	#-0x680,0x1A(%a1)
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		movew	#sfx_Jump,%d0
		jsr	(Play_Sound_2):l

loc_3459C:
		bclr	#0,0x2E(%a1)
		moveb	#0,0x37(%a1)
		bset	#1,0x2A(%a1)
		clrb	(%a4)
		cmpaw	#Player_1,%a1
		beqw	sub_3472C

locret_345B8:
		rts
/*  --------------------------------------------------------------------------- */

loc_345BA:
		movew	%d5,%d0
		andiw	#0xC00,%d0
		bnes	loc_345DA
		tstw	0x18(%a0)
		beqs	loc_345DA
		bclr	#0,0x2A(%a1)
		tstw	0x18(%a0)
		bpls	loc_345DA
		bset	#0,0x2A(%a1)

loc_345DA:
		moveb	0x44(%a1),%d0
		addib	#0x18,%d0
		moveb	%d0,0x1E(%a1)
		cmpaw	#Player_2,%a1
		bnes	loc_345EE
		rts
/*  --------------------------------------------------------------------------- */

loc_345EE:
		movel	%a0,-(%sp)
		moveal	%a1,%a0
		movew	%d5,%d3
		cmpib	#0x10,0x20(%a0)
		beqs	loc_34602
		jsr	(sub_34A96):l

loc_34602:
		jsr	(Player_LevelBound):l
		jsr	(MoveSprite2):l
		moveal	(%sp)+,%a0
		cmpib	#0x10,0x20(%a1)
		bnes	loc_34638
		movew	0x18(%a1),0x18(%a0)
		movew	0x1A(%a1),0x1A(%a0)
		addiw	#0x38,0x1A(%a1)
		bset	#1,0x2A(%a0)
		moveb	#0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34638:
		bclr	#6,0x37(%a1)
		beqs	loc_3464C
		movew	#0,0x1C(%a0)
		movew	#0,0x18(%a0)

loc_3464C:
		bclr	#5,0x37(%a1)
		beqs	loc_3465A
		movew	#0,0x1A(%a0)

loc_3465A:
		movew	0x18(%a0),0x18(%a1)
		movew	0x1A(%a0),0x1A(%a1)
		movew	0x46(%a1),0x46(%a0)
		tstb	0x34(%a0)
		bnew	locret_345B8
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		beqw	loc_34702
		bccw	loc_346C2
		cmpiw	#-0x200,0x18(%a0)
		bles	loc_3469C
		addw	%d0,0x18(%a0)
		addw	%d0,0x18(%a0)
		addw	%d0,0x18(%a0)
		addw	%d0,0x18(%a0)

loc_3469C:
		addw	%d0,0x24(%a0)
		movew	0x18(%a0),%d0
		bpls	loc_346BA
		asrw	#4,%d0
		subiw	#8,0x1A(%a0)
		cmpiw	#-0x100,0x1A(%a0)
		bles	loc_346BA
		addw	%d0,0x1A(%a0)

loc_346BA:
		bset	#1,0x2A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_346C2:
		cmpiw	#0x200,0x18(%a0)
		bges	loc_346DA
		addw	%d0,0x18(%a0)
		addw	%d0,0x18(%a0)
		addw	%d0,0x18(%a0)
		addw	%d0,0x18(%a0)

loc_346DA:
		addw	%d0,0x24(%a0)
		movew	0x18(%a0),%d0
		bmis	loc_346FA
		negw	%d0
		asrw	#4,%d0
		subiw	#8,0x1A(%a0)
		cmpiw	#-0x100,0x1A(%a0)
		bles	loc_346FA
		addw	%d0,0x1A(%a0)

loc_346FA:
		bset	#1,0x2A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34702:
		moveq	#1,%d0
		tstw	0x18(%a0)
		beqs	loc_34712
		bmis	loc_3470E
		negw	%d0

loc_3470E:
		addw	%d0,0x18(%a0)

loc_34712:
		addw	%d0,0x24(%a0)
		tstw	0x1A(%a0)
		bpls	locret_34720
		clrw	0x1A(%a0)

locret_34720:
		rts
/*  --------------------------------------------------------------------------- */
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_3472C:
		movel	#loc_3432A,(%a0)
		lea	(Player_1):w,%a2
		cmpib	#4,0x40(%a0)
		bnes	loc_34750
		bclr	#0,0x2E(%a2)
		moveb	#0,0x37(%a2)
		bset	#1,0x2A(%a2)

loc_34750:
		tstb	0x40(%a0)
		beqs	loc_3475C
		bclr	#3,0x2A(%a2)

loc_3475C:
		lea	(Player_2):w,%a2
		cmpib	#4,0x42(%a0)
		bnes	loc_3477A
		bclr	#0,0x2E(%a2)
		moveb	#0,0x37(%a2)
		bset	#1,0x2A(%a2)

loc_3477A:
		tstb	0x42(%a0)
		beqs	loc_34786
		bclr	#3,0x2A(%a2)

loc_34786:
		moveb	#6,0x40(%a0)
		moveb	#6,0x42(%a0)
		rts
/*  End of function sub_3472C */


/*  =============== S U B R O U T I N E ======================================= */


sub_34794:
		btst	#3,0x2A(%a1)
		bnes	loc_347C4
		cmpib	#4,(%a4)
		bcss	locret_347C2
		movew	0x14(%a0),%d0
		subiw	#0xC,%d0
		moveq	#0,%d1
		moveb	0x44(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		movew	0x10(%a0),0x10(%a1)
		moveb	#0,0x2D(%a0)

locret_347C2:
		rts
/*  --------------------------------------------------------------------------- */

loc_347C4:
		cmpib	#4,(%a4)
		bcss	locret_347FA
		moveaw	0x42(%a1),%a2
		cmpil	#loc_31D3E,(%a2)
		bnes	loc_347DA
		bsrw	sub_3472C

loc_347DA:
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a1),%d0
		moveq	#0,%d1
		moveb	0x44(%a1),%d1
		addw	%d1,%d0
		addiw	#0xD,%d0
		movew	%d0,0x14(%a0)
		moveb	#1,0x2D(%a0)

locret_347FA:
		rts
/*  End of function sub_34794 */


/*  =============== S U B R O U T I N E ======================================= */


sub_347FC:
		movel	(Primary_collision_addr):w,(Collision_addr):w
		cmpib	#0xC,0x46(%a0)
		beqs	loc_34810
		movel	(Secondary_collision_addr):w,(Collision_addr):w

loc_34810:
		moveb	0x47(%a0),%d5
		movew	0x18(%a0),%d1
		movew	0x1A(%a0),%d2
		jsr	(GetArcTan):l
		subib	#0x20,%d0
		andib	#-0x40,%d0
		cmpib	#0x40,%d0
		beqw	loc_34900
		cmpib	#-0x80,%d0
		beqw	loc_3498A
		cmpib	#-0x40,%d0
		beqw	loc_34A0C
		moveb	#0xC,0x1E(%a0)
		moveb	#0x18,0x1F(%a0)
		jsr	(sub_1100E):l
		tstw	%d1
		bpls	loc_34862
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_34862:
		jsr	(sub_10D76):l
		tstw	%d1
		bpls	loc_34876
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_34876:
		moveb	#0x1F,0x1E(%a0)
		moveb	#0xA,0x1F(%a0)
		jsr	(Sonic_CheckFloor):l
		tstw	%d1
		bpls	locret_348FE
		moveb	0x1A(%a0),%d2
		addqb	#8,%d2
		negb	%d2
		cmpb	%d2,%d1
		bges	loc_3489C
		cmpb	%d2,%d0
		blts	locret_348FE

loc_3489C:
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		bclr	#1,0x2A(%a0)
		moveb	#0,0x2D(%a0)
		moveb	%d3,%d0
		addib	#0x20,%d0
		andib	#0x40,%d0
		bnes	loc_348DC
		moveb	%d3,%d0
		addib	#0x10,%d0
		andib	#0x20,%d0
		beqs	loc_348CE
		asr	0x1A(%a0)
		bras	loc_348F0
/*  --------------------------------------------------------------------------- */

loc_348CE:
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_348DC:
		movew	#0,0x18(%a0)
		cmpiw	#0xFC0,0x1A(%a0)
		bles	loc_348F0
		movew	#0xFC0,0x1A(%a0)

loc_348F0:
		movew	0x1A(%a0),0x1C(%a0)
		tstb	%d3
		bpls	locret_348FE
		negw	0x1C(%a0)

locret_348FE:
		rts
/*  --------------------------------------------------------------------------- */

loc_34900:
		moveb	#0xC,0x1E(%a0)
		moveb	#0x18,0x1F(%a0)
		jsr	(sub_1100E):l
		tstw	%d1
		bpls	loc_34930
		subw	%d1,0x10(%a0)
		addib	#0x30,%d3
		cmpib	#0x60,%d3
		bcss	loc_34930
		movew	#0,0x18(%a0)
		movew	0x1A(%a0),0x1C(%a0)

loc_34930:
		moveb	#0x1F,0x1E(%a0)
		moveb	#0xA,0x1F(%a0)
		jsr	(sub_10EB6):l
		tstw	%d1
		bpls	loc_34958
		subw	%d1,0x14(%a0)
		tstw	0x1A(%a0)
		bpls	locret_34956
		movew	#0,0x1A(%a0)

locret_34956:
		rts
/*  --------------------------------------------------------------------------- */

loc_34958:
		tstw	0x1A(%a0)
		bmis	locret_34988
		jsr	(Sonic_CheckFloor):l
		tstw	%d1
		bpls	locret_34988
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		bclr	#1,0x2A(%a0)
		moveb	#0,0x2D(%a0)
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)

locret_34988:
		rts
/*  --------------------------------------------------------------------------- */

loc_3498A:
		moveb	#0xC,0x1E(%a0)
		moveb	#0x18,0x1F(%a0)
		jsr	(sub_1100E):l
		tstw	%d1
		bpls	loc_349AA
		subw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_349AA:
		jsr	(sub_10D76):l
		tstw	%d1
		bpls	loc_349BE
		addw	%d1,0x10(%a0)
		movew	#0,0x18(%a0)

loc_349BE:
		moveb	#0x1F,0x1E(%a0)
		moveb	#0xA,0x1F(%a0)
		jsr	(sub_10EB6):l
		tstw	%d1
		bpls	locret_34A0A
		subw	%d1,0x14(%a0)
		moveb	%d3,%d0
		addib	#0x20,%d0
		andib	#0x40,%d0
		bnes	loc_349EC
		movew	#0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_349EC:
		moveb	%d3,0x26(%a0)
		bclr	#1,0x2A(%a0)
		moveb	#0,0x2D(%a0)
		movew	0x1A(%a0),0x1C(%a0)
		tstb	%d3
		bpls	locret_34A0A
		negw	0x1C(%a0)

locret_34A0A:
		rts
/*  --------------------------------------------------------------------------- */

loc_34A0C:
		moveb	#0xC,0x1E(%a0)
		moveb	#0x18,0x1F(%a0)
		jsr	(sub_10D76):l
		tstw	%d1
		bpls	loc_34A3C
		addw	%d1,0x10(%a0)
		addib	#0x30,%d3
		cmpib	#0x60,%d3
		bcss	loc_34A3C
		movew	#0,0x18(%a0)
		movew	0x1A(%a0),0x1C(%a0)

loc_34A3C:
		moveb	#0x1F,0x1E(%a0)
		moveb	#0xA,0x1F(%a0)
		jsr	(sub_10EB6):l
		tstw	%d1
		bpls	loc_34A64
		subw	%d1,0x14(%a0)
		tstw	0x1A(%a0)
		bpls	locret_34A62
		movew	#0,0x1A(%a0)

locret_34A62:
		rts
/*  --------------------------------------------------------------------------- */

loc_34A64:
		tstw	0x1A(%a0)
		bmis	locret_34A94
		jsr	(Sonic_CheckFloor):l
		tstw	%d1
		bpls	locret_34A94
		addw	%d1,0x14(%a0)
		moveb	%d3,0x26(%a0)
		bclr	#1,0x2A(%a0)
		moveb	#0,0x2D(%a0)
		movew	#0,0x1A(%a0)
		movew	0x18(%a0),0x1C(%a0)

locret_34A94:
		rts
/*  End of function sub_347FC */


/*  =============== S U B R O U T I N E ======================================= */


sub_34A96:
		movew	#0x600,%d6
		movew	#0xC,%d5
		movew	#0x80,%d4
		btst	#0xA,%d3
		beqs	loc_34AAC
		bsrw	sub_34AEE

loc_34AAC:
		btst	#0xB,%d3
		beqs	loc_34AB6
		bsrw	sub_34B76

loc_34AB6:
		movew	%d3,%d0
		andiw	#0xC00,%d0
		bnes	loc_34AE0
		movew	0x1C(%a0),%d0
		beqs	loc_34AE0
		bmis	loc_34AD4
		subw	%d5,%d0
		bccs	loc_34ACE
		movew	#0,%d0

loc_34ACE:
		movew	%d0,0x1C(%a0)
		bras	loc_34AE0
/*  --------------------------------------------------------------------------- */

loc_34AD4:
		addw	%d5,%d0
		bccs	loc_34ADC
		movew	#0,%d0

loc_34ADC:
		movew	%d0,0x1C(%a0)

loc_34AE0:
		movew	0x1C(%a0),0x18(%a0)
		movew	#0,0x1A(%a0)
		rts
/*  End of function sub_34A96 */


/*  =============== S U B R O U T I N E ======================================= */


sub_34AEE:
		movew	0x1C(%a0),%d0
		beqs	loc_34AF6
		bpls	loc_34B28

loc_34AF6:
		bset	#0,0x2A(%a0)
		bnes	loc_34B0A
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)

loc_34B0A:
		subw	%d5,%d0
		movew	%d6,%d1
		negw	%d1
		cmpw	%d1,%d0
		bgts	loc_34B1C
		addw	%d5,%d0
		cmpw	%d1,%d0
		bles	loc_34B1C
		movew	%d1,%d0

loc_34B1C:
		movew	%d0,0x1C(%a0)
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34B28:
		subw	%d4,%d0
		bccs	loc_34B30
		movew	#-0x80,%d0

loc_34B30:
		movew	%d0,0x1C(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnes	locret_34B74
		cmpiw	#0x400,%d0
		blts	locret_34B74
		moveb	#0xD,0x20(%a0)
		bclr	#0,0x2A(%a0)
		movew	#sfx_Skid,%d0
		jsr	(Play_Sound_2):l
		moveal	%a0,%a2
		subaw	#-0x5000,%a2
		addaw	#-0x33AC,%a2
		moveb	#6,5(%a2)
		moveb	#0x15,0x22(%a2)

locret_34B74:
		rts
/*  End of function sub_34AEE */


/*  =============== S U B R O U T I N E ======================================= */


sub_34B76:
		movew	0x1C(%a0),%d0
		bmis	loc_34BAA
		bclr	#0,0x2A(%a0)
		beqs	loc_34B90
		bclr	#5,0x2A(%a0)
		moveb	#1,0x21(%a0)

loc_34B90:
		addw	%d5,%d0
		cmpw	%d6,%d0
		blts	loc_34B9E
		subw	%d5,%d0
		cmpw	%d6,%d0
		bges	loc_34B9E
		movew	%d6,%d0

loc_34B9E:
		movew	%d0,0x1C(%a0)
		moveb	#0,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34BAA:
		addw	%d4,%d0
		bccs	loc_34BB2
		movew	#0x80,%d0

loc_34BB2:
		movew	%d0,0x1C(%a0)
		moveb	0x26(%a0),%d0
		addib	#0x20,%d0
		andib	#-0x40,%d0
		bnes	locret_34BF6
		cmpiw	#-0x400,%d0
		bgts	locret_34BF6
		moveb	#0xD,0x20(%a0)
		bset	#0,0x2A(%a0)
		movew	#sfx_Skid,%d0
		jsr	(Play_Sound_2):l
		moveal	%a0,%a2
		subaw	#-0x5000,%a2
		addaw	#-0x33AC,%a2
		moveb	#6,5(%a2)
		moveb	#0x15,0x22(%a2)

locret_34BF6:
		rts
/*  End of function sub_34B76 */


/*  =============== S U B R O U T I N E ======================================= */


sub_34BF8:
		tstw	(Debug_placement_mode):w
		bnes	locret_34C5A
		tstb	0x34(%a0)
		beqs	locret_34C5A
		lea	(word_34D16):l,%a1
		tstb	(Current_act):w
		beqs	loc_34C16
		lea	(word_34D88):l,%a1

loc_34C16:
		movew	(%a1)+,%d6
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3

loc_34C20:
		movew	(%a1),%d0
		subw	%d2,%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccs	loc_34C52
		movew	2(%a1),%d1
		subw	%d3,%d1
		addiw	#0x10,%d1
		cmpiw	#0x20,%d1
		bccs	loc_34C52
		movew	0x1C(%a0),%d0
		moveb	4(%a1),%d2
		andib	#0x7F,%d2
		beqs	loc_34C4E
		negw	%d0

loc_34C4E:
		tstw	%d0
		bpls	loc_34C5C

loc_34C52:
		addaw	#0x10,%a1
		dbf	%d6,loc_34C20

locret_34C5A:
		rts
/*  --------------------------------------------------------------------------- */

loc_34C5C:
		moveb	#1,0x35(%a0)
		movew	4(%a1),0x3E(%a0)
		addqw	#6,%a1
		movew	(%a1)+,%d4
		movew	%d4,0x30(%a0)
		movew	(%a1)+,%d5
		movew	%d5,%d0
		moveb	0x3F(%a0),%d1
		andib	#0x7F,%d1
		beqs	loc_34C80
		subw	(%a1),%d0

loc_34C80:
		movew	%d0,0x32(%a0)
		movel	%a1,0x36(%a0)
		movew	0x1C(%a0),%d2
		bpls	loc_34C90
		negw	%d2

loc_34C90:
		tstw	%d2
		bnes	loc_34C98
		movew	#0x800,%d2

loc_34C98:
		moveq	#0,%d0
		movew	%d2,%d3
		movew	%d4,%d0
		subw	0x10(%a0),%d0
		bges	loc_34CA8
		negw	%d0
		negw	%d2

loc_34CA8:
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a0),%d1
		bges	loc_34CB6
		negw	%d1
		negw	%d3

loc_34CB6:
		cmpw	%d0,%d1
		bcss	loc_34CE8
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a0),%d1
		swap	%d1
		divsw	%d3,%d1
		moveq	#0,%d0
		movew	%d4,%d0
		subw	0x10(%a0),%d0
		beqs	loc_34CD4
		swap	%d0
		divsw	%d1,%d0

loc_34CD4:
		movew	%d0,0x18(%a0)
		movew	%d3,0x1A(%a0)
		tstw	%d1
		bpls	loc_34CE2
		negw	%d1

loc_34CE2:
		movew	%d1,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34CE8:
		moveq	#0,%d0
		movew	%d4,%d0
		subw	0x10(%a0),%d0
		swap	%d0
		divsw	%d2,%d0
		moveq	#0,%d1
		movew	%d5,%d1
		subw	0x14(%a0),%d1
		beqs	loc_34D02
		swap	%d1
		divsw	%d0,%d1

loc_34D02:
		movew	%d1,0x1A(%a0)
		movew	%d2,0x18(%a0)
		tstw	%d0
		bpls	loc_34D10
		negw	%d0

loc_34D10:
		movew	%d0,0x3A(%a0)
		rts
/*  End of function sub_34BF8 */

/*  --------------------------------------------------------------------------- */
word_34D16:	.word 6
		.word  0x1BA0,   0xC6,     0, 0x1C40
		.word    0xE6,  0x280, 0x1CE0,  0x385
		.word  0x1BA0,  0x3C4, 0x8001, 0x1C40
		.word   0x3A6,  0x2C0, 0x1BA0,   0xC6
		.word  0x1CE0,  0x385,  0x101, 0x1C40
		.word   0x366,  0x280, 0x1BA0,   0xC6
		.word  0x2720,  0x846,     0, 0x27C0
		.word   0x866,  0x200, 0x2860,  0xA86
		.word  0x2860,  0x846,  0x180, 0x27C0
		.word   0x866,  0x200, 0x2720,  0xA86
		.word  0x2720,  0xA86,   0x81, 0x27C0
		.word   0xA66,  0x200, 0x2860,  0x846
		.word  0x2860,  0xA86,  0x101, 0x27C0
		.word   0xA66,  0x200, 0x2720,  0x846
word_34D88:	.word 6
		.word  0x1760,  0x546, 0x8180, 0x16C0
		.word   0x566,  0x140, 0x1760,  0x6C5
		.word  0x1760,  0x6C5, 0x8181, 0x16C0
		.word   0x6A6,  0x140, 0x1760,  0x546
		.word  0x1620,  0x6C4,   0x81, 0x16C0
		.word   0x6C6,  0x180, 0x1760,  0x546
		.word  0x2AA0,  0x444, 0x8000, 0x2B40
		.word   0x466,  0x2C0, 0x2AA0,  0x744
		.word  0x2BE0,  0x446, 0x8180, 0x2B40
		.word   0x466,  0x2C0, 0x2BE0,  0x746
		.word  0x2AA0,  0x744, 0x8001, 0x2B40
		.word   0x726,  0x2C0, 0x2AA0,  0x444
		.word  0x2BE0,  0x746, 0x8181, 0x2B40
		.word   0x726,  0x2C0, 0x2BE0,  0x446

/*  =============== S U B R O U T I N E ======================================= */


sub_34DFA:
		cmpib	#2,0x35(%a0)
		beqs	loc_34E72
		subqb	#1,0x3A(%a0)
		bpls	loc_34E3A
		cmpib	#3,0x35(%a0)
		beqs	loc_34E60
		movew	#0,0x3C(%a0)
		moveb	#2,0x35(%a0)
		moveal	0x36(%a0),%a1
		movew	(%a1)+,%d0
		movew	%d0,0x2E(%a0)
		moveb	0x3F(%a0),%d1
		andib	#0x7F,%d1
		beqs	loc_34E34
		movew	%d0,0x3C(%a0)

loc_34E34:
		movel	%a1,0x36(%a0)
		bras	loc_34E72
/*  --------------------------------------------------------------------------- */

loc_34E3A:
		movel	0x10(%a0),%d2
		movel	0x14(%a0),%d3
		movew	0x18(%a0),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d2
		movew	0x1A(%a0),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,%d3
		movel	%d2,0x10(%a0)
		movel	%d3,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34E60:
		tstb	0x3E(%a0)
		bpls	loc_34E6A
		negw	0x1C(%a0)

loc_34E6A:
		moveb	#0,0x35(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_34E72:
		movew	0x3C(%a0),%d0
		addw	%d0,%d0
		tstb	0x3F(%a0)
		bpls	loc_34E80
		negw	%d0

loc_34E80:
		jsr	(GetSineCosine):l
		mulsw	#0x5800,%d0
		swap	%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a0)
		movew	0x32(%a0),%d0
		addw	0x3C(%a0),%d0
		movew	%d0,0x14(%a0)
		moveq	#2,%d1
		movew	0x1C(%a0),%d0
		bpls	loc_34EAA
		negw	%d0

loc_34EAA:
		cmpiw	#0xC00,%d0
		bnes	loc_34EB2
		moveq	#3,%d1

loc_34EB2:
		moveb	0x3F(%a0),%d0
		andib	#0x7F,%d0
		beqs	loc_34EC4
		subw	%d1,0x3C(%a0)
		bgts	locret_34EF4
		bras	loc_34ED2
/*  --------------------------------------------------------------------------- */

loc_34EC4:
		addw	%d1,0x3C(%a0)
		movew	0x2E(%a0),%d0
		cmpw	0x3C(%a0),%d0
		bhis	locret_34EF4

loc_34ED2:
		moveb	#3,0x35(%a0)
		moveal	0x36(%a0),%a2
		movew	(%a2)+,%d4
		movew	(%a2)+,%d5
		movew	0x1C(%a0),%d2
		bpls	loc_34EE8
		negw	%d2

loc_34EE8:
		tstw	%d2
		bnes	loc_34EF0
		movew	#0x800,%d2

loc_34EF0:
		braw	loc_34C98
/*  --------------------------------------------------------------------------- */

locret_34EF4:
		rts
/*  End of function sub_34DFA */

/*  --------------------------------------------------------------------------- */
Map_MGZTopPlatform:
		.include "Levels/MGZ/Misc Object Data/Map - Top Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_MGZTopLauncher:
		movel	#Map_MGZTopPlatform,0xC(%a0)
		movew	#0x43FF,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#8,6(%a0)
		moveb	#2,0x22(%a0)
		movew	#0x10,0x30(%a0)
		movew	#0xC00,%d0
		btst	#0,0x2A(%a0)
		beqs	loc_34F60
		negw	%d0

loc_34F60:
		movew	%d0,0x18(%a0)
		jsr	(Create_New_Sprite3):l
		bnes	loc_34F7C
		movel	#Obj_MGZTopPlatform,(%a1)
		moveb	#1,0x2C(%a1)
		movew	%a1,0x3E(%a0)

loc_34F7C:
		movel	#loc_34F82,(%a0)

loc_34F82:
		moveaw	0x3E(%a0),%a1
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addqw	#4,0x24(%a1)
		cmpib	#4,0x40(%a1)
		beqs	loc_34FA6
		cmpib	#4,0x42(%a1)
		bnes	loc_34FAC

loc_34FA6:
		movel	#loc_34FB2,(%a0)

loc_34FAC:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_34FB2:
		moveaw	0x3E(%a0),%a1
		addqw	#1,0x14(%a0)
		subqw	#1,0x30(%a0)
		bnes	loc_34FCC
		movel	#loc_35006,(%a0)
		movew	#0x7F00,0x10(%a0)

loc_34FCC:
		cmpiw	#4,0x30(%a0)
		beqs	loc_34FE8
		bcss	loc_35006
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addqw	#4,0x24(%a1)
		bras	loc_35006
/*  --------------------------------------------------------------------------- */

loc_34FE8:
		movew	0x18(%a0),%d1
		movew	%d1,0x18(%a1)
		movew	%d1,0x1C(%a1)
		moveb	#1,0x34(%a1)
		bclr	#1,0x2A(%a1)
		moveb	#0,0x2C(%a1)

loc_35006:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_CGZBladePlatform:
		movel	#Map_CGZBladePlatform,0xC(%a0)
		movew	#0x6300,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#8,6(%a0)
		movew	0x14(%a0),0x32(%a0)
		bset	#7,0x2A(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_350A2
		movel	#loc_35122,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subiw	#0x10,0x10(%a1)
		addiw	#0xC,0x14(%a1)
		moveb	#-0x5A,0x28(%a1)
		movew	%a0,0x3E(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_350A2
		movel	#loc_35138,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addiw	#0x10,0x10(%a1)
		addiw	#0x14,0x14(%a1)
		moveb	#-0x5A,0x28(%a1)
		movew	%a0,0x3E(%a1)

loc_350A2:
		movel	#loc_350A8,(%a0)

loc_350A8:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_350D4
		movew	#0x80,%d1
		cmpib	#0x18,%d0
		bnes	loc_350C0
		movew	#0x100,%d1

loc_350C0:
		addw	%d1,0x36(%a0)
		cmpiw	#-0x8000,0x36(%a0)
		bcss	loc_350D2
		movew	#-0x8000,0x36(%a0)

loc_350D2:
		bras	loc_350E8
/*  --------------------------------------------------------------------------- */

loc_350D4:
		tstw	0x36(%a0)
		beqs	loc_350E8
		subiw	#0x100,0x36(%a0)
		bccs	loc_350E8
		movew	#0,0x36(%a0)

loc_350E8:
		movew	0x32(%a0),%d0
		addb	0x36(%a0),%d0
		movew	%d0,0x14(%a0)
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_35122:
		moveaw	0x3E(%a0),%a1
		movew	0x14(%a1),0x14(%a0)
		addiw	#8,0x14(%a0)
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

loc_35138:
		moveaw	0x3E(%a0),%a1
		movew	0x14(%a1),0x14(%a0)
		addiw	#0x10,0x14(%a0)
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */
Map_CGZBladePlatform:
		.include "Levels/CGZ/Misc Object Data/Map - Blade Platform.S"
/*  --------------------------------------------------------------------------- */

Obj_BPZElephantBlock:
		movel	#Map_BPZElephantBlock,0xC(%a0)
		movew	#0x300,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x30,7(%a0)
		moveb	#0x10,6(%a0)
		movew	0x10(%a0),0x30(%a0)
		bset	#6,4(%a0)
		movew	#1,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#0,(%a2)+
		moveb	0x2C(%a0),%d0
		lslw	#8,%d0
		movew	%d0,0x38(%a0)
		bset	#7,0x2A(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_351FE
		movew	%d0,0x34(%a0)
		moveb	#1,0x3A(%a0)
		movel	#loc_3525C,(%a0)
		braw	loc_3525C
/*  --------------------------------------------------------------------------- */

loc_351FE:
		movel	#loc_35204,(%a0)

loc_35204:
		bsrw	sub_352B4
		lea	0x18(%a0),%a2
		movew	0x30(%a0),%d0
		moveb	0x34(%a0),%d1
		extw	%d1
		subw	%d1,%d0
		movew	%d0,(%a2)
		movew	0x30(%a0),%d0
		asrw	#1,%d1
		subw	%d1,%d0
		movew	%d0,0x10(%a0)
		addqw	#8,%d1
		moveb	%d1,7(%a0)
		movew	#0,4(%a2)
		cmpiw	#0x20,%d1
		bcss	loc_3523E
		movew	#1,4(%a2)

loc_3523E:
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3525C:
		bsrw	sub_352B4
		lea	0x18(%a0),%a2
		movew	0x30(%a0),%d0
		moveb	0x34(%a0),%d1
		extw	%d1
		addw	%d1,%d0
		movew	%d0,(%a2)
		movew	0x30(%a0),%d0
		asrw	#1,%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a0)
		addqw	#8,%d1
		moveb	%d1,7(%a0)
		movew	#0,4(%a2)
		cmpiw	#0x20,%d1
		bcss	loc_35296
		movew	#1,4(%a2)

loc_35296:
		addiw	#7,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_352B4:
		tstb	0x3A(%a0)
		bnes	loc_352D6
		movew	0x38(%a0),%d0
		addiw	#0x80,0x34(%a0)
		cmpw	0x34(%a0),%d0
		bhis	loc_352D4
		movew	%d0,0x34(%a0)
		moveb	#1,0x3A(%a0)

loc_352D4:
		bras	locret_352EA
/*  --------------------------------------------------------------------------- */

loc_352D6:
		subiw	#0x80,0x34(%a0)
		bhis	locret_352EA
		movew	#0,0x34(%a0)
		moveb	#0,0x3A(%a0)

locret_352EA:
		rts
/*  End of function sub_352B4 */

/*  --------------------------------------------------------------------------- */
Map_BPZElephantBlock:
		.include "Levels/BPZ/Misc Object Data/Map - Elephant Block.S"
/*  --------------------------------------------------------------------------- */

Obj_BPZBalloon:
		movel	#Map_BPZBalloon,0xC(%a0)
		movew	#0x6300,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		moveb	#-0x29,0x28(%a0)
		movel	#loc_35344,(%a0)

loc_35344:
		tstb	0x29(%a0)
		beqw	loc_353DE
		lea	(Player_1):w,%a1
		bclr	#0,0x29(%a0)
		beqs	loc_3535A
		bsrs	sub_35370

loc_3535A:
		lea	(Player_2):w,%a1
		bclr	#1,0x29(%a0)
		beqs	loc_35368
		bsrs	sub_35370

loc_35368:
		clrb	0x29(%a0)
		braw	loc_353DE

/*  =============== S U B R O U T I N E ======================================= */


sub_35370:
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		moveb	%d0,%d1
		subib	#0x20,%d1
		cmpib	#0x40,%d1
		bccs	loc_353A0
		movew	#-0x900,0x1A(%a1)
		moveb	#1,0x20(%a0)
		bras	loc_353C0
/*  --------------------------------------------------------------------------- */

loc_353A0:
		jsr	(GetSineCosine):l
		mulsw	#-0x480,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x480,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		moveb	#2,0x20(%a0)

loc_353C0:
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		clrb	0x40(%a1)
		moveq	#sfx_SmallBumpers,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_35370 */

/*  --------------------------------------------------------------------------- */

loc_353DE:
		lea	(Ani_BPZBalloon):l,%a1
		jsr	(Animate_Sprite):l
		cmpib	#5,0x22(%a0)
		bcss	loc_35400
		cmpib	#7,0x22(%a0)
		bccs	loc_35400
		jsr	(Add_SpriteToCollisionResponseList):l

loc_35400:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_BPZBalloon:	.include "Levels/BPZ/Misc Object Data/Anim - Balloon.S"
Map_BPZBalloon:	.include "Levels/BPZ/Misc Object Data/Map - Balloon.S"
/*  --------------------------------------------------------------------------- */

Obj_DPZDisolvingSandBar:
		movel	#Map_DPZDissolvingSandBar,0xC(%a0)
		movew	#0x4280,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x10,6(%a0)
		tstb	0x2C(%a0)
		beqs	loc_3550C
		movel	#Map_DPZDissolvingSandBar2,0xC(%a0)
		moveb	#0x30,7(%a0)
		moveb	#0xF,0x3D(%a0)

loc_3550C:
		moveb	0x3D(%a0),0x3C(%a0)
		bset	#7,0x2A(%a0)
		movel	#loc_3551E,(%a0)

loc_3551E:
		tstb	0x20(%a0)
		bnes	loc_35558
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_35534
		moveb	#1,0x3A(%a0)

loc_35534:
		tstb	0x3A(%a0)
		beqs	loc_35558
		subqb	#1,0x3C(%a0)
		bpls	loc_35558
		tstb	0x20(%a0)
		bnes	loc_35558
		moveb	0x3D(%a0),0x3C(%a0)
		moveb	#0,0x3A(%a0)
		moveb	#1,0x20(%a0)

loc_35558:
		lea	(Ani_DPZDissolvingSandBar):l,%a1
		jsr	(Animate_Sprite):l
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		moveb	byte_355B8(%pc,%d0.w),%d3
		bnes	loc_355A2
		lea	(Player_1):w,%a1
		bclr	#3,0x2A(%a0)
		beqs	loc_35588
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)

loc_35588:
		lea	(Player_2):w,%a1
		bclr	#4,0x2A(%a0)
		beqs	loc_355A0
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)

loc_355A0:
		bras	loc_355B2
/*  --------------------------------------------------------------------------- */

loc_355A2:
		moveq	#0,%d1
		moveb	7(%a0),%d1
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l

loc_355B2:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
byte_355B8:	.byte  0x11, 0x11, 0x11, 0x11, 0x10,  0xF,  0xE,  0xD,  0xC,  0xB,  0xA,   9,   8,   7,   6,   5,   4,   3,   2,   1
		.byte    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
Ani_DPZDissolvingSandBar:
		.include "Levels/DPZ/Misc Object Data/Anim - Dissolving Sand Bar.S"
Map_DPZDissolvingSandBar:
		.include "Levels/DPZ/Misc Object Data/Map - Dissolving Sand Bar.S"
/*  --------------------------------------------------------------------------- */

Obj_DPZButton:
		movel	#Map_DPZButton,0xC(%a0)
		movew	#0x4280,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#8,6(%a0)
		movel	#loc_35860,(%a0)

loc_35860:
		movew	#0xC,%d1
		movew	#2,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		lea	(Normal_palette_line_3+0x1C):w,%a2
		moveb	#0,0x22(%a0)
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		moveq	#0,%d3
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_358A2
		bclr	%d3,(%a3)
		movel	#0x2E000A,(%a2)
		bras	loc_358DC
/*  --------------------------------------------------------------------------- */

loc_358A2:
		tstb	(%a3)
		bnes	loc_358B4
		moveq	#sfx_Switch,%d0
		jsr	(Play_Sound_2):l
		moveb	#0,0x24(%a0)

loc_358B4:
		bset	%d3,(%a3)
		moveb	#1,0x22(%a0)
		subqb	#1,0x24(%a0)
		bpls	loc_358DC
		moveb	#3,0x24(%a0)
		movew	(%a2),%d0
		movel	#0x2E000A,(%a2)
		cmpiw	#0x2E,%d0
		bnes	loc_358DC
		movel	#0xC2E0A0E,(%a2)

loc_358DC:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_DPZButton:	.include "Levels/DPZ/Misc Object Data/Map - Button.S"
/*  --------------------------------------------------------------------------- */

Obj_2PItem:
		movel	#Map_2PItem,0xC(%a0)
		movew	#0x3C6,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		moveb	#4,0x1F(%a0)
		moveb	#8,0x1E(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveb	0x2C(%a0),0x26(%a0)
		moveq	#1,%d0
		bclr	#0,0x2A(%a0)
		beqs	loc_35946
		negb	%d0

loc_35946:
		moveb	%d0,0x27(%a0)
		moveb	#3,0x20(%a0)
		moveb	#7,0x20(%a0)
		moveb	#-0x39,0x28(%a0)
		movel	#loc_35962,(%a0)

loc_35962:
		bsrs	sub_359CE
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		aslw	#3,%d1
		movew	%d1,%d2
		addw	%d1,%d1
		addw	%d1,%d2
		addw	%d1,%d1
		addw	%d2,%d1
		asrw	#8,%d1
		addw	0x30(%a0),%d1
		andw	(Screen_X_wrap_value):w,%d1
		addiw	#0x400,%d1
		movew	%d1,0x10(%a0)
		aslw	#3,%d0
		movew	%d0,%d2
		addw	%d0,%d0
		addw	%d0,%d2
		addw	%d0,%d0
		addw	%d2,%d0
		asrw	#8,%d0
		addw	0x32(%a0),%d0
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_359AA
		andw	(Screen_Y_wrap_value):w,%d0

loc_359AA:
		movew	%d0,0x14(%a0)
		moveb	0x27(%a0),%d0
		addb	%d0,0x26(%a0)
		lea	(Ani_2PItem):l,%a1
		jsr	(Animate_Sprite):l
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_359CE:
		tstb	0x29(%a0)
		beqs	locret_359F4
		lea	(Player_1):w,%a2
		bclr	#0,0x29(%a0)
		beqs	loc_359E2
		bsrs	sub_359F6

loc_359E2:
		lea	(Player_2):w,%a2
		bclr	#1,0x29(%a0)
		beqs	loc_359F0
		bsrs	sub_359F6

loc_359F0:
		clrb	0x29(%a0)

locret_359F4:
		rts
/*  End of function sub_359CE */


/*  =============== S U B R O U T I N E ======================================= */


sub_359F6:
		moveq	#0,%d0
		moveb	0x20(%a0),%d0
		addw	%d0,%d0
		movew	off_35A08(%pc,%d0.w),%d0
		jsr	off_35A08(%pc,%d0.w)
		rts
/*  End of function sub_359F6 */

/*  --------------------------------------------------------------------------- */
off_35A08:	.word loc_35A18-off_35A08
		.word loc_35A6A-off_35A08
		.word loc_35ABC-off_35A08
		.word loc_35B7A-off_35A08
		.word loc_35BA4-off_35A08
		.word loc_35BE4-off_35A08
		.word loc_35C08-off_35A08
		.word locret_35C2C-off_35A08
/*  --------------------------------------------------------------------------- */

loc_35A18:
		bset	#2,0x2B(%a2)
		moveb	#0x4B,0x36(%a2)
		cmpaw	#Player_1,%a2
		bnes	loc_35A3E
		movew	#0xC00,(Max_%speed):w
		movew	#0x18,(Acceleration):w
		movew	#0x80,(Deceleration):w
		bras	loc_35A50
/*  --------------------------------------------------------------------------- */

loc_35A3E:
		movew	#0xC00,(Max_%speed_P2):w
		movew	#0x18,(Acceleration_P2):w
		movew	#0x80,(Deceleration_P2):w

loc_35A50:
		moveb	#7,0x20(%a0)
		moveb	#0,0x28(%a0)
		movel	#loc_35FAC,%d1
		moveq	#9,%d2
		bsrw	sub_35FCA
		rts
/*  --------------------------------------------------------------------------- */

loc_35A6A:
		bset	#2,0x2B(%a2)
		moveb	#0x4B,0x36(%a2)
		cmpaw	#Player_1,%a2
		bnes	loc_35A90
		movew	#0x300,(Max_%speed):w
		movew	#8,(Acceleration):w
		movew	#0x20,(Deceleration):w
		bras	loc_35AA2
/*  --------------------------------------------------------------------------- */

loc_35A90:
		movew	#0x300,(Max_%speed_P2):w
		movew	#8,(Acceleration_P2):w
		movew	#0x20,(Deceleration_P2):w

loc_35AA2:
		moveb	#7,0x20(%a0)
		moveb	#0,0x28(%a0)
		movel	#loc_35FAC,%d1
		moveq	#9,%d2
		bsrw	sub_35FCA
		rts
/*  --------------------------------------------------------------------------- */

loc_35ABC:
		lea	(Player_1):w,%a2
		lea	(Player_2):w,%a3
		moveb	0x2B(%a2),%d0
		moveb	0x2B(%a3),0x2B(%a2)
		moveb	%d0,0x2B(%a3)
		moveb	0x36(%a2),%d0
		moveb	0x36(%a3),0x36(%a2)
		moveb	%d0,0x36(%a3)
		movew	(Max_%speed):w,%d0
		movew	(Acceleration):w,%d1
		movew	(Deceleration):w,%d2
		movew	(Max_%speed_P2):w,%d3
		movew	(Acceleration_P2):w,%d4
		movew	(Deceleration_P2):w,%d5
		movew	%d0,-(%sp)
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a2),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(Max_%speed):w
		movew	(%a1)+,(Acceleration):w
		movew	(%a1)+,(Deceleration):w
		lea	(Character_Speeds):l,%a1
		moveq	#0,%d0
		moveb	0x38(%a3),%d0
		lslw	#3,%d0
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,(Max_%speed_P2):w
		movew	(%a1)+,(Acceleration_P2):w
		movew	(%a1)+,(Deceleration_P2):w
		movew	(%sp)+,%d0
		btst	#2,0x2B(%a2)
		beqs	loc_35B4C
		movew	%d3,(Max_%speed):w
		movew	%d4,(Acceleration):w
		movew	%d5,(Deceleration):w

loc_35B4C:
		btst	#2,0x2B(%a3)
		beqs	loc_35B60
		movew	%d0,(Max_%speed_P2):w
		movew	%d1,(Acceleration_P2):w
		movew	%d2,(Deceleration_P2):w

loc_35B60:
		moveb	#7,0x20(%a0)
		moveb	#0,0x28(%a0)
		movel	#loc_35FAC,%d1
		moveq	#9,%d2
		bsrw	sub_35FCA
		rts
/*  --------------------------------------------------------------------------- */

loc_35B7A:
		moveb	#7,0x20(%a0)
		moveb	#0,0x28(%a0)
		movel	#loc_35FAC,%d1
		moveq	#8,%d2
		bsrw	sub_35FCA
		cmpaw	#Player_1,%a2
		bnes	loc_35B9E
		jmp	(GiveRing):l
/*  --------------------------------------------------------------------------- */

loc_35B9E:
		jmp	(loc_18DCC):l
/*  --------------------------------------------------------------------------- */

loc_35BA4:
		moveb	#7,0x20(%a0)
		clrb	0x28(%a0)
		clrb	0x29(%a0)
		lea	(Breathing_bubbles):w,%a1
		tstl	(%a1)
		moveq	#0x2C,%d0

loc_35BBA:
		movew	(%a0,%d0.w),(%a1,%d0.w)
		subqw	#2,%d0
		bccs	loc_35BBA
		movel	#loc_35C2E,(%a1)
		moveb	#4,0x20(%a1)
		movew	0x46(%a2),0x46(%a1)
		tstw	0xA(%a2)
		bpls	locret_35BE2
		oriw	#-0x8000,0xA(%a1)

locret_35BE2:
		rts
/*  --------------------------------------------------------------------------- */

loc_35BE4:
		moveb	#7,0x20(%a0)
		clrb	0x28(%a0)
		clrb	0x29(%a0)
		movel	#loc_35C48,%d1
		moveq	#5,%d2
		bsrw	sub_35FCA
		bnes	locret_35C06
		movew	0x46(%a2),0x46(%a1)

locret_35C06:
		rts
/*  --------------------------------------------------------------------------- */

loc_35C08:
		moveb	#7,0x20(%a0)
		clrb	0x28(%a0)
		clrb	0x29(%a0)
		movel	#loc_35C50,%d1
		moveq	#6,%d2
		bsrw	sub_35FCA
		bnes	locret_35C2A
		movew	0x46(%a2),0x46(%a1)

locret_35C2A:
		rts
/*  --------------------------------------------------------------------------- */

locret_35C2C:
		rts
/*  --------------------------------------------------------------------------- */

loc_35C2E:
		movew	#-0x400,0x1C(%a0)
		moveb	#0,0x26(%a0)
		moveb	#0,0x2A(%a0)
		movel	#loc_35E3C,%d2
		bras	loc_35C56
/*  --------------------------------------------------------------------------- */

loc_35C48:
		movel	#loc_35D54,%d2
		bras	loc_35C56
/*  --------------------------------------------------------------------------- */

loc_35C50:
		movel	#loc_35C9E,%d2

loc_35C56:
		movel	%d2,-(%sp)
		jsr	(MoveSprite):l
		jsr	(ObjCheckFloorDist):l
		movel	(%sp)+,%d2
		tstw	%d1
		bpls	loc_35C76
		addw	%d1,0x14(%a0)
		movel	%d2,(%a0)
		moveb	#-0x39,0x28(%a0)

loc_35C76:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_35C86
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_35C86:
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0x60,%d0
		cmpw	0x14(%a0),%d0
		bges	loc_35C9A
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_35C9A:
		braw	loc_35FAC
/*  --------------------------------------------------------------------------- */

loc_35C9E:
		tstb	0x29(%a0)
		beqs	loc_35CC4
		lea	(Player_1):w,%a2
		bclr	#0,0x29(%a0)
		beqs	loc_35CB2
		bsrs	sub_35CF0

loc_35CB2:
		lea	(Player_2):w,%a2
		bclr	#1,0x29(%a0)
		beqs	loc_35CC0
		bsrs	sub_35CF0

loc_35CC0:
		clrb	0x29(%a0)

loc_35CC4:
		lea	(Ani_2PItem):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		beqs	loc_35CDC
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_35CDC:
		cmpib	#9,0x20(%a0)
		beqs	loc_35CEA
		jsr	(Add_SpriteToCollisionResponseList):l

loc_35CEA:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_35CF0:
		movew	0x46(%a2),%d0
		cmpw	0x46(%a0),%d0
		beqs	loc_35CFC
		rts
/*  --------------------------------------------------------------------------- */

loc_35CFC:
		moveb	#0xA,0x20(%a0)
		movew	#-0xA00,0x1A(%a2)
		bset	#1,0x2A(%a2)
		bclr	#4,0x2A(%a2)
		bclr	#5,0x2A(%a2)
		clrb	0x40(%a2)
		movew	#1,0x1C(%a2)
		moveb	#1,0x27(%a2)
		moveb	#0,0x20(%a2)
		moveb	#0,0x30(%a2)
		moveb	#4,0x31(%a2)
		btst	#0,0x2A(%a2)
		beqs	loc_35D4C
		negb	0x27(%a2)
		negw	0x1C(%a2)

loc_35D4C:
		moveq	#sfx_SmallBumpers,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_35CF0 */

/*  --------------------------------------------------------------------------- */

loc_35D54:
		tstb	0x29(%a0)
		beqs	loc_35D7A
		lea	(Player_1):w,%a2
		bclr	#0,0x29(%a0)
		beqs	loc_35D68
		bsrs	sub_35DDE

loc_35D68:
		lea	(Player_2):w,%a2
		bclr	#1,0x29(%a0)
		beqs	loc_35D76
		bsrs	sub_35DDE

loc_35D76:
		clrb	0x29(%a0)

loc_35D7A:
		lea	(Ani_2PItem):l,%a1
		jsr	(Animate_Sprite):l
		tstb	0x3C(%a0)
		beqs	loc_35DC6
		moveaw	0x3E(%a0),%a1
		subqb	#1,0x3C(%a0)
		beqs	loc_35DBA
		movew	#0x20,%d1
		movew	0x1C(%a1),%d0
		bpls	loc_35DAE
		addw	%d1,0x1C(%a1)
		bccs	loc_35DD2
		movew	#0,0x1C(%a1)
		bras	loc_35DBA
/*  --------------------------------------------------------------------------- */

loc_35DAE:
		subw	%d1,0x1C(%a1)
		bccs	loc_35DD2
		movew	#0,0x1C(%a1)

loc_35DBA:
		movew	#5,0x32(%a1)
		andib	#0x7F,0x2B(%a1)

loc_35DC6:
		tstb	5(%a0)
		beqs	loc_35DD2
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_35DD2:
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_35DDE:
		movew	0x46(%a2),%d0
		cmpw	0x46(%a0),%d0
		bnes	locret_35E3A
		tstb	0x2B(%a2)
		bmis	locret_35E3A
		btst	#1,0x2A(%a2)
		bnes	locret_35E3A
		tstw	0x1C(%a2)
		beqs	locret_35E3A
		moveb	#9,0x20(%a0)
		moveb	#0,0x28(%a0)
		movew	#0x200,%d1
		movew	0x1C(%a2),%d0
		bpls	loc_35E16
		negw	%d0
		negw	%d1

loc_35E16:
		cmpiw	#0x200,%d0
		bccs	loc_35E20
		addw	%d1,0x1C(%a2)

loc_35E20:
		asl	0x1C(%a2)
		moveb	#0x1B,0x20(%a2)
		orib	#-0x80,0x2B(%a2)
		movew	%a2,0x3E(%a0)
		moveb	#0x3C,0x3C(%a0)

locret_35E3A:
		rts
/*  End of function sub_35DDE */

/*  --------------------------------------------------------------------------- */

loc_35E3C:
		tstb	0x29(%a0)
		beqs	loc_35E62
		lea	(Player_1):w,%a2
		bclr	#0,0x29(%a0)
		beqs	loc_35E50
		bsrs	sub_35E98

loc_35E50:
		lea	(Player_2):w,%a2
		bclr	#1,0x29(%a0)
		beqs	loc_35E5E
		bsrs	sub_35E98

loc_35E5E:
		clrb	0x29(%a0)

loc_35E62:
		bsrw	sub_35EB8
		moveb	0x26(%a0),%d0
		addib	#0x10,%d0
		lsrb	#5,%d0
		addib	#0x11,%d0
		moveb	%d0,0x22(%a0)
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0x60,%d0
		cmpw	0x14(%a0),%d0
		bges	loc_35E8C
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_35E8C:
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_35E98:
		movew	0x46(%a2),%d0
		cmpw	0x46(%a0),%d0
		beqs	loc_35EA4
		rts
/*  --------------------------------------------------------------------------- */

loc_35EA4:
		movel	#loc_35FAC,(%a0)
		moveb	#0xB,0x20(%a0)
		moveal	%a2,%a1
		jmp	(sub_228EC):l
/*  End of function sub_35E98 */


/*  =============== S U B R O U T I N E ======================================= */


sub_35EB8:
		btst	#1,0x2A(%a0)
		bnes	loc_35F22
		moveb	0x26(%a0),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a0),%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a0)
		mulsw	0x1C(%a0),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a0)
		jsr	(MoveSprite2):l
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)
		movew	(Screen_X_wrap_value):w,%d0
		andw	%d0,0x10(%a0)
		addiw	#0x400,0x10(%a0)
		jsr	(Player_AnglePos):l
		moveb	0x26(%a0),%d0
		bnes	locret_35F20
		jsr	(sub_110C8):l
		tstw	%d1
		bpls	locret_35F20
		subw	%d1,0x10(%a0)
		movel	#loc_35FAC,(%a0)
		moveb	#0xB,0x20(%a0)

locret_35F20:
		rts
/*  --------------------------------------------------------------------------- */

loc_35F22:
		subiw	#0x10,0x18(%a0)
		cmpiw	#-0x400,0x18(%a0)
		bgts	loc_35F36
		movew	#-0x400,0x18(%a0)

loc_35F36:
		jsr	(MoveSprite):l
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)
		movew	(Screen_X_wrap_value):w,%d0
		andw	%d0,0x10(%a0)
		addiw	#0x400,0x10(%a0)
		jsr	(ChkFloorEdge):l
		tstw	%d1
		bpls	loc_35F6E
		addw	%d1,0x14(%a0)
		bclr	#1,0x2A(%a0)
		moveb	#0,0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_35F6E:
		moveb	0x26(%a0),%d0
		beqs	loc_35F88
		bpls	loc_35F7E
		addqb	#2,%d0
		bccs	loc_35F84
		moveq	#0,%d0
		bras	loc_35F84
/*  --------------------------------------------------------------------------- */

loc_35F7E:
		subqb	#2,%d0
		bccs	loc_35F84
		moveq	#0,%d0

loc_35F84:
		moveb	%d0,0x26(%a0)

loc_35F88:
		moveb	0x26(%a0),%d0
		bnes	locret_35FAA
		jsr	(sub_110C8):l
		tstw	%d1
		bpls	locret_35FAA
		subw	%d1,0x10(%a0)
		movel	#loc_35FAC,(%a0)
		moveb	#0xB,0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_35FAA:
		rts
/*  --------------------------------------------------------------------------- */

loc_35FAC:
		lea	(Ani_2PItem):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		beqs	loc_35FC4
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_35FC4:
		jmp	(Draw_Sprite):l
/*  End of function sub_35EB8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_35FCA:
		jsr	(Create_New_Sprite3):l
		bnew	locret_35FE8
		moveq	#0x2C,%d0

loc_35FD6:
		movew	(%a0,%d0.w),(%a1,%d0.w)
		subqw	#2,%d0
		bccs	loc_35FD6
		movel	%d1,(%a1)
		moveb	%d2,0x20(%a1)
		moveq	#0,%d0

locret_35FE8:
		rts
/*  End of function sub_35FCA */

/*  --------------------------------------------------------------------------- */
Ani_2PItem:	.include "General/2P Zone/Anim - Item.S"
Map_2PItem:	.include "General/2P Zone/Map - Item.S"
/*  --------------------------------------------------------------------------- */

Obj_2PGoalMarker:
		movel	#Map_2PGoalMarker,0xC(%a0)
		movew	#0x6BC,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#8,7(%a0)
		moveb	#0x20,6(%a0)
		movew	0x10(%a0),0x30(%a0)
		movew	0x14(%a0),0x32(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		subiw	#0x14,%d0
		movew	%d0,0x38(%a0)
		moveb	#5,(_unkFEDA):w
		clrw	(_unkFEDC):w
		clrw	(Events_bg+0x14):w
		clrb	(Update_HUD_timer):w
		clrl	(Timer):w
		clrb	(_unkFEC7):w
		clrl	(Timer_P2):w
		clrw	(Ring_count):w
		clrw	(Ring_count_P2):w
		jsr	sub_364EC(%pc)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_37454,(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_37454,(%a1)
		moveb	#1,0x2C(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_365CC,(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_365CC,(%a1)
		moveb	#1,0x2C(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_366CC,(%a1)
		movew	#0x120,0x10(%a1)
		movew	#0xB8,0x14(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_37220,(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#loc_37292,(%a1)
		jsr	(Create_New_Sprite3):l
		bnew	loc_36276
		movel	#locret_3780C,(%a1)

loc_36276:
		movel	#loc_3627C,(%a0)

loc_3627C:
		movew	0x10(%a0),%d1
		lea	0x34(%a0),%a2
		lea	(Player_1):w,%a1
		lea	(_unkFEDC):w,%a3
		lea	(_unkF74A):w,%a4
		lea	(Timer):w,%a5
		lea	(0xFF7828):l,%a6
		bsrw	sub_3638E
		lea	(Player_2):w,%a1
		lea	(_unkFEDD):w,%a3
		lea	(_unkF74B):w,%a4
		lea	(Timer_P2):w,%a5
		lea	(0xFF7840):l,%a6
		bsrw	sub_3638E
		lea	(Ani_2PGoalMarker):l,%a1
		jsr	(Animate_Sprite):l
		movew	0x36(%a0),(_unkEE5C):w
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_362D0:
		subqw	#1,0x3C(%a0)
		bnew	loc_3637C
		lea	(Player_1):w,%a1
		movew	(Saved_X_pos):w,0x10(%a1)
		movew	(Saved_Y_pos):w,0x14(%a1)
		movew	(Saved_art_tile):w,0xA(%a1)
		movew	(Saved_solid_bits):w,0x46(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		moveb	#2,0x2A(%a1)
		movew	#0,0x32(%a1)
		tstb	(Not_ghost_flag):w
		beqs	loc_36352
		lea	(Player_2):w,%a1
		movew	(Saved2_X_pos):w,0x10(%a1)
		movew	(Saved2_Y_pos):w,0x14(%a1)
		movew	(Saved2_art_tile):w,0xA(%a1)
		movew	(Saved2_solid_bits):w,0x46(%a1)
		movew	#0,0x18(%a1)
		movew	#0,0x1A(%a1)
		movew	#0,0x1C(%a1)
		moveb	#2,0x2A(%a1)
		movew	#0,0x32(%a1)

loc_36352:
		clrw	(_unkFEDC):w
		clrb	(Update_HUD_timer):w
		clrl	(Timer):w
		clrb	(_unkFEC7):w
		clrl	(Timer_P2):w
		clrb	(Ctrl_1_locked):w
		clrb	(Ctrl_2_locked):w
		jsr	sub_364EC(%pc)
		clrw	(Events_bg+0x14):w
		movel	#loc_3627C,(%a0)

loc_3637C:
		lea	(Ani_2PGoalMarker):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_3638E:
		tstb	(%a4)
		bnew	loc_3648E
		tstb	(%a2)+
		bnew	loc_3649E
		cmpw	0x10(%a1),%d1
		bhiw	locret_364EA
		moveb	#1,-1(%a2)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		subw	0x38(%a0),%d2
		addiw	#0x14,%d3
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bltw	locret_364EA
		cmpw	%d3,%d4
		bgew	locret_364EA
		movew	0x10(%a1),%d2
		subw	%d1,%d2
		bccs	loc_363D0
		negw	%d2

loc_363D0:
		cmpiw	#0x20,%d2
		bccw	locret_364EA
		cmpib	#0xC,0x46(%a1)
		bnes	locret_3642C
		moveb	(%a3),%d0
		beqs	loc_3642E
		cmpb	1(%a2),%d0
		blss	loc_3642A
		moveb	%d0,1(%a2)
		subqb	#1,%d0
		bmis	loc_3640E
		cmpib	#5,%d0
		bccs	loc_3640E
		extw	%d0
		lslw	#2,%d0
		movel	(%a6,%d0.w),%d5
		movel	0x14(%a6),%d6
		jsr	sub_36508(%pc)
		movel	%d6,0x14(%a6)
		clrl	(%a5)

loc_3640E:
		subw	0x14(%a0),%d4
		negw	%d4
		cmpiw	#0x14,%d4
		bges	loc_3642A
		movew	0x3A(%a0),%d0
		andiw	#0xF,%d0
		bsrw	sub_3653C
		addqw	#2,0x3A(%a0)

loc_3642A:
		addqb	#1,(%a3)

locret_3642C:
		rts
/*  --------------------------------------------------------------------------- */

loc_3642E:
		tstb	1(%a2)
		bnes	loc_3642A
		tstb	(Update_HUD_timer):w
		bnes	loc_3642A
		moveb	#1,(Ctrl_1_locked):w
		moveb	#1,(Ctrl_2_locked):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_2_logical):w
		movel	#loc_362D0,(%a0)
		movew	#0x78,0x3C(%a0)
		st	(Events_bg+0x14):w
		moveal	%a1,%a6
		jsr	(Create_New_Sprite3):l
		bnes	locret_3648C
		movel	#loc_36A4A,(%a1)
		moveb	#8,4(%a1)
		cmpaw	#Player_1,%a6
		beqs	loc_36484
		eorib	#0x18,4(%a1)

loc_36484:
		moveq	#sfx_Error,%d0
		jmp	(Play_Sound_2):l
/*  --------------------------------------------------------------------------- */

locret_3648C:
		rts
/*  --------------------------------------------------------------------------- */

loc_3648E:
		clrb	(%a4)
		moveb	#0,(%a2)+
		subqb	#1,(%a3)
		bccs	locret_3649C
		moveb	#0,(%a3)

locret_3649C:
		rts
/*  --------------------------------------------------------------------------- */

loc_3649E:
		cmpw	0x10(%a1),%d1
		blsw	locret_364EA
		moveb	#0,-1(%a2)
		movew	0x14(%a0),%d2
		movew	%d2,%d3
		subw	0x38(%a0),%d2
		addiw	#0x14,%d3
		movew	0x14(%a1),%d4
		cmpw	%d2,%d4
		bltw	locret_364EA
		cmpw	%d3,%d4
		bgew	locret_364EA
		movew	0x10(%a1),%d2
		subw	%d1,%d2
		bccs	loc_364D4
		negw	%d2

loc_364D4:
		cmpiw	#0x20,%d2
		bccs	locret_364EA
		cmpib	#0xC,0x46(%a1)
		bnes	locret_364EA
		subqb	#1,(%a3)
		bccs	locret_364EA
		moveb	#0,(%a3)

locret_364EA:
		rts
/*  End of function sub_3638E */


/*  =============== S U B R O U T I N E ======================================= */


sub_364EC:
		lea	(0xFF7828):l,%a1
		moveq	#0xB,%d0

loc_364F4:
		clrl	(%a1)+
		dbf	%d0,loc_364F4
		clrl	(_unkEE52):w
		clrl	(_unkEE56):w
		st	(_unkEE5A):w
		rts
/*  End of function sub_364EC */


/*  =============== S U B R O U T I N E ======================================= */


sub_36508:
		addb	%d5,%d6
		moveq	#0,%d3
		cmpib	#0x64,%d6
		bcss	loc_36518
		subib	#0x64,%d6
		moveq	#1,%d3

loc_36518:
		rorl	#8,%d5
		rorl	#8,%d6
		addb	%d3,%d6
		addb	%d5,%d6
		moveq	#0,%d3
		cmpib	#0x3C,%d6
		bcss	loc_3652E
		subib	#0x3C,%d6
		moveq	#1,%d3

loc_3652E:
		rorl	#8,%d5
		rorl	#8,%d6
		addb	%d3,%d6
		addb	%d5,%d6
		swap	%d5
		swap	%d6
		rts
/*  End of function sub_36508 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3653C:
		tstb	(Competition_mode_monitors):w
		bnes	locret_3656A
		lea	(byte_3656C):l,%a4
		addaw	%d0,%a4
		lea	(Dynamic_object_RAM):w,%a1
		moveq	#(Dynamic_object_RAM_end-Dynamic_object_RAM)/object_size-1,%d0

loc_36550:
		lea	next_object(%a1),%a1
		cmpil	#loc_35962,(%a1)
		bnes	loc_36566
		moveb	(%a4)+,0x20(%a1)
		moveb	#-0x39,0x28(%a1)

loc_36566:
		dbf	%d0,loc_36550

locret_3656A:
		rts
/*  End of function sub_3653C */

/*  --------------------------------------------------------------------------- */
byte_3656C:	.byte    0,   1,   2,   3,   4,   5,   6,   0,   1,   2,   3,   4,   5,   6,   2,   3,   0,   1,   2,   3
		.byte    4,   5,   6,   0
Ani_2PGoalMarker:
		.include "General/2P Zone/Anim - Goal Marker.S"
Map_2PGoalMarker:
		.include "General/2P Zone/Map - Goal Marker.S"
/*  --------------------------------------------------------------------------- */

loc_365CC:
		movel	#Map_2PLapNumbers,0xC(%a0)
		movew	#-0x7900,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#8,7(%a0)
		moveb	#0xC,6(%a0)
		movew	#0x190,0x10(%a0)
		movew	#0x98,0x14(%a0)
		tstb	0x2C(%a0)
		beqs	loc_36618
		tstb	(Not_ghost_flag):w
		bnes	loc_3660A
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3660A:
		bset	#4,4(%a0)
		movel	#loc_36646,(%a0)
		bras	loc_36646
/*  --------------------------------------------------------------------------- */

loc_36618:
		bset	#3,4(%a0)
		movel	#loc_36624,(%a0)

loc_36624:
		moveb	(_unkFEDC):w,%d0
		cmpb	(_unkFEDA):w,%d0
		bles	loc_36632
		moveb	(_unkFEDA):w,%d0

loc_36632:
		subib	#0xA,%d0
		bccs	loc_36632
		addib	#0xA,%d0
		moveb	%d0,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_36646:
		moveb	(_unkFEDD):w,%d0
		cmpb	(_unkFEDA):w,%d0
		bles	loc_36654
		moveb	(_unkFEDA):w,%d0

loc_36654:
		subib	#0xA,%d0
		bccs	loc_36654
		addib	#0xA,%d0
		moveb	%d0,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_2PLapNumbers:
		.include "General/2P Zone/Map - Lap Numbers.S"
/*  --------------------------------------------------------------------------- */

loc_366CC:
		movel	#Map_2PNeonDisplay,0xC(%a0)
		movew	#-0x78AA,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#-0x80,7(%a0)
		moveb	#0x28,6(%a0)
		movel	#loc_366FE,(%a0)
		tstb	(Not_ghost_flag):w
		bnes	loc_366FE
		bset	#3,4(%a0)

loc_366FE:
		lea	(Ani_2PNeonDisplay):l,%a1
		jsr	(Animate_Sprite):l
		cmpib	#1,0x20(%a0)
		bnes	loc_36740
		cmpib	#5,0x24(%a0)
		bnes	loc_36740
		moveq	#sfx_LaunchReady,%d0
		moveb	0x23(%a0),%d1
		cmpib	#1,%d1
		beqs	loc_3673A
		cmpib	#0xB,%d1
		beqs	loc_3673A
		cmpib	#0x15,%d1
		beqs	loc_3673A
		moveq	#sfx_LaunchGo,%d0
		cmpib	#0x1F,%d1
		bnes	loc_36740

loc_3673A:
		jsr	(Play_Sound_2):l

loc_36740:
		bsrs	sub_36750
		tstw	(Events_bg+0x14):w
		bnes	locret_3674E
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_3674E:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_36750:
		moveb	0x3A(%a0),%d0
		bnes	loc_36786
		tstb	(Ctrl_1_locked):w
		beqs	loc_3676A
		movew	#1,0x20(%a0)
		moveb	#0xA,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_3676A:
		cmpib	#3,0x22(%a0)
		bnes	locret_36784
		moveb	#1,(Update_HUD_timer):w
		moveb	#1,(_unkFEC7):w
		moveb	#1,0x3A(%a0)

locret_36784:
		rts
/*  --------------------------------------------------------------------------- */

loc_36786:
		subqb	#1,%d0
		bnew	loc_36862
		movel	#0x93B63,%d0
		cmpl	(_unkEE52):w,%d0
		blss	loc_3679E
		cmpl	(_unkEE56):w,%d0
		bhis	loc_367AA

loc_3679E:
		moveb	#2,0x3A(%a0)
		movew	#0x78,(Events_bg+0x16):w

loc_367AA:
		moveb	(_unkFEDA):w,%d0
		cmpb	(_unkFEDC):w,%d0
		bccs	loc_36824
		moveb	#3,0x20(%a0)
		tstb	(Not_ghost_flag):w
		beqs	loc_367C4
		addqb	#1,0x20(%a0)

loc_367C4:
		bset	#3,4(%a0)
		moveb	#2,0x3A(%a0)
		movew	#0x78,(Events_bg+0x16):w
		tstb	(Not_ghost_flag):w
		beqs	loc_367E8
		tstb	(Competition_mode_type):w
		bnes	loc_367E8
		movew	#0x168,(Events_bg+0x16):w

loc_367E8:
		moveb	#-0x80,(Update_HUD_timer):w
		jsr	sub_369C2(%pc)
		moveq	#sfx_Goal,%d0
		jsr	(Play_Sound_2):l
		moveb	(_unkFEDA):w,%d0
		cmpb	(_unkFEDD):w,%d0
		bccs	loc_3681E
		moveb	#6,0x20(%a0)
		bclr	#3,4(%a0)
		movew	#0x78,(Events_bg+0x16):w
		moveb	#-0x80,(_unkFEC7):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3681E:
		bsrw	sub_36998
		rts
/*  --------------------------------------------------------------------------- */

loc_36824:
		cmpb	(_unkFEDD):w,%d0
		bccs	locret_36860
		moveb	#4,0x20(%a0)
		bset	#4,4(%a0)
		moveb	#2,0x3A(%a0)
		movew	#0x78,(Events_bg+0x16):w
		tstb	(Competition_mode_type):w
		bnes	loc_3684E
		movew	#0x168,(Events_bg+0x16):w

loc_3684E:
		moveb	#-0x80,(_unkFEC7):w
		bsrw	sub_36998
		moveq	#sfx_Goal,%d0
		jsr	(Play_Sound_2):l

locret_36860:
		rts
/*  --------------------------------------------------------------------------- */

loc_36862:
		subqb	#1,%d0
		bnew	loc_36936
		tstb	(Competition_mode_type):w
		beqs	loc_3689A
		tstb	(Update_HUD_timer):w
		bpls	locret_36898
		tstb	(Not_ghost_flag):w
		beqs	loc_36880
		tstb	(_unkFEC7):w
		bpls	locret_36898

loc_36880:
		subqw	#1,(Events_bg+0x16):w
		bpls	locret_36898
		moveb	#0x40,(Game_mode):w
		tstb	(Competition_mode_type):w
		bpls	locret_36898
		moveb	#0x50,(Game_mode):w

locret_36898:
		rts
/*  --------------------------------------------------------------------------- */

loc_3689A:
		moveb	(_unkFEDC):w,%d0
		tstb	(Update_HUD_timer):w
		bpls	loc_368AE
		moveb	(_unkFEDD):w,%d0
		tstb	(Update_HUD_timer):w
		bmis	loc_368B4

loc_368AE:
		cmpb	(_unkFEDA):w,%d0
		beqs	loc_368BA

loc_368B4:
		subqw	#1,(Events_bg+0x16):w
		bmis	loc_368CE

loc_368BA:
		cmpil	#0x93B63,(_unkEE52):w
		bccs	loc_368CE
		cmpil	#0x93B63,(_unkEE56):w
		bcss	locret_3692A

loc_368CE:
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		subib	#0xE,%d0
		moveb	byte_36931(%pc,%d0.w),%d0
		lea	(0xFF7800):l,%a1
		movel	(_unkEE52):w,(%a1,%d0.w)
		movel	(_unkEE56):w,0x14(%a1,%d0.w)
		tstb	(Update_HUD_timer):w
		bmis	loc_368FC
		movel	#0x93B63,(%a1,%d0.w)

loc_368FC:
		tstb	(_unkFEC7):w
		bmis	loc_3690A
		movel	#0x93B63,0x14(%a1,%d0.w)

loc_3690A:
		moveb	(Current_zone):w,%d0
		subib	#0xE,%d0
		moveb	byte_3692C(%pc,%d0.w),%d0
		beqs	loc_36924
		moveb	%d0,(Current_zone):w
		moveb	#1,(Restart_level_flag):w
		rts
/*  --------------------------------------------------------------------------- */

loc_36924:
		moveb	#0x44,(Game_mode):w

locret_3692A:
		rts
/*  --------------------------------------------------------------------------- */
byte_3692C:	.byte 0xF
		.byte 0x11
		.byte 0x12
		.byte 0x10
		.byte 0
byte_36931:	.byte 0
		.byte 4
		.byte 0xC
		.byte 8
		.byte 0x10
/*  --------------------------------------------------------------------------- */

loc_36936:
		moveb	(_unkFEDA):w,%d0
		cmpb	(_unkFEDC):w,%d0
		bccs	loc_36966
		tstb	(Update_HUD_timer):w
		bmis	loc_36966
		moveb	#5,0x20(%a0)
		bset	#3,4(%a0)
		moveb	#-0x80,(Update_HUD_timer):w
		movew	#0x78,(Events_bg+0x16):w
		moveq	#sfx_Goal,%d0
		jsr	(Play_Sound_2):l

loc_36966:
		moveb	(_unkFEDA):w,%d0
		cmpb	(_unkFEDD):w,%d0
		bccs	locret_36996
		tstb	(_unkFEC7):w
		bmis	locret_36996
		moveb	#5,0x20(%a0)
		bset	#4,4(%a0)
		moveb	#-0x80,(_unkFEC7):w
		movew	#0x78,(Events_bg+0x16):w
		moveq	#sfx_Goal,%d0
		jsr	(Play_Sound_2):l

locret_36996:
		rts
/*  End of function sub_36750 */


/*  =============== S U B R O U T I N E ======================================= */


sub_36998:
		jsr	(Create_New_Sprite3):l
		bnew	locret_369C0
		movel	#loc_366CC,(%a1)
		movew	#0x120,0x10(%a1)
		movew	#0xB8,0x14(%a1)
		moveb	#2,0x20(%a1)
		moveb	#3,0x3A(%a1)

locret_369C0:
		rts
/*  End of function sub_36998 */


/*  =============== S U B R O U T I N E ======================================= */


sub_369C2:
		tstb	(Competition_mode_type):w
		bplw	locret_36A48
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		subiw	#0xE,%d0
		lslw	#4,%d0
		lea	(Competition_saved_data):w,%a1
		addaw	%d0,%a1
		movel	(_unkEE52):w,%d0
		cmpl	(%a1),%d0
		bccs	loc_36A08
		moveb	0xD(%a1),0xE(%a1)
		moveb	0xC(%a1),0xD(%a1)
		moveb	(P1_character):w,0xC(%a1)
		movel	4(%a1),8(%a1)
		movel	(%a1),4(%a1)
		movel	%d0,(%a1)
		clrb	(_unkEE5A):w
		bras	loc_36A42
/*  --------------------------------------------------------------------------- */

loc_36A08:
		cmpl	4(%a1),%d0
		bccs	loc_36A2C
		moveb	0xD(%a1),0xE(%a1)
		moveb	(P1_character):w,0xD(%a1)
		movel	4(%a1),8(%a1)
		movel	%d0,4(%a1)
		moveb	#1,(_unkEE5A):w
		bras	loc_36A42
/*  --------------------------------------------------------------------------- */

loc_36A2C:
		cmpl	8(%a1),%d0
		bccs	locret_36A48
		moveb	(P1_character):w,0xE(%a1)
		movel	%d0,8(%a1)
		moveb	#2,(_unkEE5A):w

loc_36A42:
		jsr	(Write_SaveGeneral):l

locret_36A48:
		rts
/*  End of function sub_369C2 */

/*  --------------------------------------------------------------------------- */

loc_36A4A:
		movel	#Map_2PNeonDisplay,0xC(%a0)
		movew	#-0x78AA,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#-0x80,7(%a0)
		moveb	#0x28,6(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0xB8,0x14(%a0)
		moveb	#7,0x20(%a0)
		movel	#loc_36A82,(%a0)

loc_36A82:
		tstw	(Events_bg+0x14):w
		bnes	loc_36A8E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_36A8E:
		lea	(Ani_2PNeonDisplay):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_2PNeonDisplay:
		.include "General/2P Zone/Anim - Neon Display.S"
Map_2PNeonDisplay:
		.include "General/2P Zone/Map - Neon Display.S"
/*  --------------------------------------------------------------------------- */

loc_37220:
		movel	#0xFF7000,0xC(%a0)
		movew	#-0x7A00,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0xC8,0x10(%a0)
		movew	#0x90,0x14(%a0)
		bset	#3,4(%a0)
		lea	(word_37420):l,%a1
		lea	(0xFF7000):l,%a2
		movew	#0x19,%d0

loc_37262:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_37262
		movel	#loc_3726E,(%a0)

loc_3726E:
		lea	(Score):w,%a1
		lea	(0xFF700A):l,%a2
		lea	(Timer_minute):w,%a3
		moveq	#0,%d1
		moveb	(_unkEE5C):w,%d1
		lea	(Update_HUD_timer):w,%a4
		lea	(_unkEE52):w,%a5
		lea	(0xFF7828):l,%a6
		bras	loc_3730E
/*  --------------------------------------------------------------------------- */

loc_37292:
		tstb	(Not_ghost_flag):w
		bnes	loc_3729E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3729E:
		movel	#0xFF7080,0xC(%a0)
		movew	#-0x7A00,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0xC8,0x10(%a0)
		movew	#0x90,0x14(%a0)
		bset	#4,4(%a0)
		lea	(word_37420):l,%a1
		lea	(0xFF7080):l,%a2
		movew	#0x19,%d0

loc_372E0:
		movew	(%a1)+,(%a2)+
		dbf	%d0,loc_372E0
		movel	#loc_372EC,(%a0)

loc_372EC:
		lea	(Score_P2):w,%a1
		lea	(0xFF708A):l,%a2
		lea	(Timer_minute_P2):w,%a3
		moveq	#0,%d1
		moveb	(_unkEE5C+1):w,%d1
		lea	(_unkFEC7):w,%a4
		lea	(_unkEE56):w,%a5
		lea	(0xFF7840):l,%a6

loc_3730E:
		tstb	(%a4)
		beqs	loc_37342
		bmis	loc_37342
		cmpil	#0x93B63,(%a5)
		bcss	loc_37328
		moveb	#-0x80,(%a4)
		movel	#0x93B63,(%a5)
		bras	loc_37362
/*  --------------------------------------------------------------------------- */

loc_37328:
		addqb	#1,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	loc_37342
		moveb	#0,(%a1)
		addqb	#1,-(%a1)
		cmpib	#0x3C,(%a1)
		bcss	loc_37342
		moveb	#0,(%a1)
		addqb	#1,-(%a1)

loc_37342:
		movel	-1(%a3),%d6
		jsr	(sub_9F48):l
		cmpiw	#5,%d1
		bccs	loc_37362
		lslw	#2,%d1
		movel	%d6,(%a6,%d1.w)
		movel	0x14(%a6),%d5
		jsr	sub_36508(%pc)
		movel	%d6,(%a5)

loc_37362:
		addqw	#1,%a5
		lea	word_373BC(%pc),%a1
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		lslw	#2,%d0
		movel	(%a1,%d0.w),(%a2)+
		addqw	#8,%a2
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		moveq	#0,%d2

loc_3737A:
		subiw	#0xA,%d0
		bcss	loc_37384
		addqw	#4,%d2
		bras	loc_3737A
/*  --------------------------------------------------------------------------- */

loc_37384:
		addiw	#0xA,%d0
		movel	(%a1,%d2.w),(%a2)+
		addqw	#2,%a2
		lslw	#2,%d0
		movel	(%a1,%d0.w),(%a2)+
		addqw	#8,%a2
		moveq	#0,%d0
		moveb	(%a5)+,%d0
		moveq	#0,%d2

loc_3739C:
		subiw	#0xA,%d0
		bcss	loc_373A6
		addqw	#4,%d2
		bras	loc_3739C
/*  --------------------------------------------------------------------------- */

loc_373A6:
		addiw	#0xA,%d0
		movel	(%a1,%d2.w),(%a2)+
		addqw	#2,%a2
		lslw	#2,%d0
		movel	(%a1,%d0.w),(%a2)+
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
word_373BC:	.word  0xF805,     8
		.word  0xF801,    0xC
		.word  0xF805,    0xE
		.word  0xF805,   0x12
		.word  0xF805,   0x16
		.word  0xF805,   0x1A
		.word  0xF805,   0x1E
		.word  0xF805,   0x22
		.word  0xF805,   0x26
		.word  0xF805,   0x2A
byte_373E4:	.byte    0,   1,   3,   5,   6,   8,  0xA,  0xB,  0xD,  0xF, 0x10, 0x12, 0x14, 0x15, 0x17, 0x19, 0x1A, 0x1C, 0x1E, 0x1F
		.byte  0x21, 0x23, 0x24, 0x26, 0x28, 0x29, 0x2B, 0x2D, 0x2E, 0x30, 0x32, 0x33, 0x35, 0x37, 0x38, 0x3A, 0x3C, 0x3D, 0x3F, 0x41
		.byte  0x42, 0x44, 0x46, 0x47, 0x49, 0x4B, 0x4C, 0x4E, 0x50, 0x51, 0x53, 0x55, 0x56, 0x58, 0x5A, 0x5B, 0x5D, 0x5F, 0x60, 0x62
word_37420:	.word 2
		.word 8
		.word 0xF80D
		.word 0
		.word 0xFFC0
		.word 0xF805
		.word 8
		.word 0xFFE8
		.word 0xF000
		.word 0x2E
		.word 0xFFF4
		.word 0xF805
		.word 8
		.word 0xFFFC
		.word 0xF805
		.word 8
		.word 8
		.word 0xF000
		.word 0x2F
		.word 0x14
		.word 0xF805
		.word 8
		.word 0x1C
		.word 0xF805
		.word 8
		.word 0x28
/*  --------------------------------------------------------------------------- */

loc_37454:
		movel	#Map_2PItemIcon,0xC(%a0)
		movew	#-0x78B0,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x10,6(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0xE0,0x14(%a0)
		tstb	0x2C(%a0)
		beqs	loc_374A0
		tstb	(Not_ghost_flag):w
		bnes	loc_37492
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37492:
		bset	#4,4(%a0)
		movel	#loc_374D4,(%a0)
		bras	loc_374D4
/*  --------------------------------------------------------------------------- */

loc_374A0:
		bset	#3,4(%a0)
		movel	#loc_374AC,(%a0)

loc_374AC:
		moveq	#0,%d0
		tstw	(Ring_count):w
		beqs	loc_374B6
		moveq	#3,%d0

loc_374B6:
		btst	#2,(Player_1+status_secondary):w
		beqs	loc_374CA
		moveq	#1,%d0
		cmpiw	#0xC00,(Max_%speed):w
		beqs	loc_374CA
		moveq	#2,%d0

loc_374CA:
		moveb	%d0,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_374D4:
		moveq	#0,%d0
		tstw	(Ring_count_P2):w
		beqs	loc_374DE
		moveq	#3,%d0

loc_374DE:
		btst	#2,(Player_2+status_secondary):w
		beqs	loc_374F2
		moveq	#1,%d0
		cmpiw	#0xC00,(Max_%speed_P2):w
		beqs	loc_374F2
		moveq	#2,%d0

loc_374F2:
		moveb	%d0,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_2PItemIcon:	.include "General/2P Zone/Map - Item Icon.S"
/*  --------------------------------------------------------------------------- */
		movel	#Map_2PPosition,0xC(%a0)
		movew	#-0x78A2,0xA(%a0)
		movew	#0,8(%a0)
		moveb	#4,7(%a0)
		moveb	#4,6(%a0)
		tstb	0x2C(%a0)
		beqs	loc_375D6
		tstb	(Not_ghost_flag):w
		bnes	loc_375B0
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_375B0:
		movew	#0x90,0x10(%a0)
		movew	#0x84,0x14(%a0)
		movew	(Player_2+x_pos):w,0x30(%a0)
		bset	#4,4(%a0)
		moveb	#2,0x22(%a0)
		movel	#loc_3764E,(%a0)
		bras	loc_3764E
/*  --------------------------------------------------------------------------- */

loc_375D6:
		movew	#0x90,0x10(%a0)
		movew	#0xE8,0x14(%a0)
		movew	(Player_1+x_pos):w,0x30(%a0)
		bset	#3,4(%a0)
		moveb	#1,0x22(%a0)
		movel	#loc_375FA,(%a0)

loc_375FA:
		movew	(Player_1+x_pos):w,%d0
		movew	(Saved_X_pos):w,%d1

loc_37602:
		tstw	(Events_bg+0x14):w
		beqs	loc_37612
		movew	#0,0x34(%a0)
		movew	%d1,0x30(%a0)

loc_37612:
		movew	%d0,%d1
		subw	0x30(%a0),%d0
		beqs	loc_3763A
		bccs	loc_37628
		cmpiw	#-0x200,%d0
		bges	loc_37632
		addiw	#0x400,%d0
		bras	loc_37632
/*  --------------------------------------------------------------------------- */

loc_37628:
		cmpiw	#0x200,%d0
		blts	loc_37632
		subiw	#0x400,%d0

loc_37632:
		addw	%d0,0x34(%a0)
		movew	%d1,0x30(%a0)

loc_3763A:
		movew	0x34(%a0),%d0
		asrw	#6,%d0
		addiw	#0x90,%d0
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3764E:
		movew	(Player_2+x_pos):w,%d0
		movew	(Saved2_X_pos):w,%d1
		bras	loc_37602
/*  --------------------------------------------------------------------------- */
Map_2PPosition:	.include "General/2P Zone/Map - Position Icons (Unused).S"
/*  --------------------------------------------------------------------------- */

Obj_EMZDripper:
		movel	#Map_EMZDripper,0xC(%a0)
		movew	#0x6300,0xA(%a0)
		moveb	#4,4(%a0)
		movew	#0x280,8(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		moveb	#4,0x1F(%a0)
		moveb	#4,0x1E(%a0)
		btst	#0,0x2A(%a0)
		beqs	loc_376DC
		movew	#-0x3D00,0xA(%a0)
		moveb	#3,0x22(%a0)
		movel	#Draw_Sprite,(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_376DC:
		movel	#loc_376E2,(%a0)

loc_376E2:
		moveb	(Level_frame_counter+1):w,%d0
		addb	0x2C(%a0),%d0
		andib	#0x7F,%d0
		bnes	loc_3771A
		jsr	(Create_New_Sprite3):l
		bnew	loc_3771A
		moveq	#0x2C,%d0

loc_376FC:
		movew	(%a0,%d0.w),(%a1,%d0.w)
		subqw	#2,%d0
		bccs	loc_376FC
		movel	#loc_37720,(%a1)
		movew	#0x4300,0xA(%a1)
		moveb	#1,0x22(%a1)
		moveq	#0,%d0

loc_3771A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37720:
		jsr	(MoveSprite2):l
		addiw	#8,0x1A(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_3775A
		movel	#loc_377C6,(%a0)
		movew	#0x100,0x18(%a0)
		negw	0x1A(%a0)
		asr	0x1A(%a0)
		asr	0x1A(%a0)
		moveb	#2,0x22(%a0)
		bsrs	sub_37784
		bsrs	sub_37784
		bsrs	sub_37784

loc_3775A:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_3776A
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_3776A:
		movew	(Camera_max_Y_pos):w,%d0
		addiw	#0x60,%d0
		cmpw	0x14(%a0),%d0
		bges	loc_3777E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3777E:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_37784:
		jsr	(Create_New_Sprite3):l
		bnew	locret_377C4
		moveq	#0x2C,%d0

loc_37790:
		movew	(%a0,%d0.w),(%a1,%d0.w)
		subqw	#2,%d0
		bccs	loc_37790
		jsr	(Random_Number):l
		movew	%d0,%d1
		andiw	#0x1FF,%d0
		subiw	#0x100,%d0
		movew	%d0,0x18(%a1)
		rolw	#4,%d1
		andiw	#0xF,%d1
		addiw	#0x1A,%d1
		moveb	%d1,0x3C(%a1)
		subiw	#0x10,0x1A(%a0)
		moveq	#0,%d0

locret_377C4:
		rts
/*  End of function sub_37784 */

/*  --------------------------------------------------------------------------- */

loc_377C6:
		jsr	(MoveSprite2):l
		addiw	#8,0x1A(%a0)
		subqb	#1,0x3C(%a0)
		bnes	loc_377DE
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_377DE:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Map_EMZDripper:	.include "Levels/EMZ/Misc Object Data/Map - Dripper.S"
/*  --------------------------------------------------------------------------- */

locret_3780C:
		rts
/*  --------------------------------------------------------------------------- */

Obj_WaterDrop:
		movel	#Map_HCZWaterDrop,0xC(%a0)
		movew	#0x235C,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0,8(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		moveb	#8,0x1F(%a0)
		moveb	#7,0x1E(%a0)
		moveb	#6,0x22(%a0)
		movel	#loc_3784C,(%a0)

loc_3784C:
		subqw	#1,0x30(%a0)
		bpls	loc_37888
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#2,%d0
		movew	%d0,0x30(%a0)
		tstb	4(%a0)
		bpls	loc_37888
		jsr	(Create_New_Sprite3):l
		bnew	loc_37888
		moveq	#0x2C,%d0

loc_37870:
		movew	(%a0,%d0.w),(%a1,%d0.w)
		subqw	#2,%d0
		bccs	loc_37870
		movel	#loc_3788E,(%a1)
		moveb	#-0x39,0x28(%a1)
		moveq	#0,%d0

loc_37888:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_3788E:
		tstb	5(%a0)
		beqs	loc_378C8
		jsr	(MoveSprite2):l
		addiw	#8,0x1A(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_378C8
		addw	%d1,0x14(%a0)
		clrw	0x1A(%a0)
		movew	#0x101,0x20(%a0)
		movel	#loc_378C8,(%a0)
		moveb	#1,0x24(%a0)
		clrb	0x23(%a0)

loc_378C8:
		lea	(Ani_HCZWaterDrop):l,%a1
		jsr	(Animate_Sprite):l
		cmpib	#4,5(%a0)
		bnes	loc_378E2
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_378E2:
		tstb	0x29(%a0)
		beqs	loc_37908
		lea	(Player_1):w,%a2
		bclr	#0,0x29(%a0)
		beqs	loc_378F6
		bsrs	sub_37914

loc_378F6:
		lea	(Player_2):w,%a2
		bclr	#1,0x29(%a0)
		beqs	loc_37904
		bsrs	sub_37914

loc_37904:
		clrb	0x29(%a0)

loc_37908:
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_37914:
		cmpib	#5,0x20(%a2)
		bnes	loc_37922
		moveb	#0,0x21(%a2)

loc_37922:
		moveb	#1,0x20(%a0)
		movel	#loc_378C8,(%a0)
		moveb	#0,0x28(%a0)
		moveb	#2,5(%a0)
		rts
/*  End of function sub_37914 */

/*  --------------------------------------------------------------------------- */
Ani_HCZWaterDrop:
		.include "Levels/HCZ/Misc Object Data/Anim - Water Drop.S"
Map_HCZWaterDrop:
		.include "Levels/HCZ/Misc Object Data/Map - Water Drop.S"
/*  --------------------------------------------------------------------------- */

Obj_HCZWaterSplash:
		tstb	0x2C(%a0)
		beqs	loc_37A0A
		movel	#Map_HCZWaterSplash2,0xC(%a0)
		movew	#0x36E,0xA(%a0)
		tstb	(Current_act):w
		beqs	loc_379B4
		movew	#0x344,0xA(%a0)

loc_379B4:
		orib	#4,4(%a0)
		movew	#0x300,8(%a0)
		moveb	#-0x60,7(%a0)
		moveb	#-0x80,6(%a0)
		moveb	#-1,0x31(%a0)
		moveb	#0,0x2A(%a0)
		bset	#6,4(%a0)
		movew	#2,0x16(%a0)
		lea	0x18(%a0),%a2
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#5,(%a2)+
		movew	0x10(%a0),(%a2)+
		movew	0x14(%a0),(%a2)+
		movew	#0x505,(%a2)+
		movel	#loc_37A8A,(%a0)
		braw	loc_37A8A
/*  --------------------------------------------------------------------------- */

loc_37A0A:
		movel	#Map_HCZWaterSplash,0xC(%a0)
		movew	#0x43B2,0xA(%a0)
		orib	#4,4(%a0)
		movew	#0x300,8(%a0)
		moveb	#0x28,7(%a0)
		moveb	#0x20,6(%a0)
		moveb	#-1,0x30(%a0)
		movel	#loc_37A3C,(%a0)

loc_37A3C:
		subqb	#1,0x24(%a0)
		bpls	loc_37A52
		moveb	#7,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_37A52:
		tstb	4(%a0)
		bpls	loc_37A84
		moveq	#0,%d1
		moveb	0x22(%a0),%d1
		cmpb	0x30(%a0),%d1
		beqs	loc_37A84
		moveb	%d1,0x30(%a0)
		lslw	#8,%d1
		movew	%d1,%d0
		addw	%d0,%d0
		addw	%d0,%d1
		addil	#ArtUnc_HCZWaterSplash,%d1
		movew	#0x7640,%d2
		movew	#0x180,%d3
		jsr	(Add_To_DMA_Queue):l

loc_37A84:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_37A8A:
		movew	(Player_1+x_pos):w,0x10(%a0)
		movew	(Water_level):w,0x14(%a0)
		bsrs	sub_37B0C
		tstb	0x2A(%a0)
		beqs	loc_37AD0
		moveb	(Level_frame_counter+1):w,%d0
		addqb	#2,%d0
		andib	#0xF,%d0
		bnes	loc_37AB2
		moveq	#sfx_WaterSkid,%d0
		jsr	(Play_Sound_2):l

loc_37AB2:
		subqb	#1,0x24(%a0)
		bpls	loc_37AD0
		moveb	#2,0x24(%a0)
		addqb	#1,0x30(%a0)
		cmpib	#5,0x30(%a0)
		bcss	loc_37AD0
		moveb	#0,0x30(%a0)

loc_37AD0:
		moveq	#0,%d1
		moveb	0x30(%a0),%d1
		cmpb	0x31(%a0),%d1
		beqs	loc_37B06
		moveb	%d1,0x31(%a0)
		lslw	#7,%d1
		movew	%d1,%d0
		addw	%d0,%d0
		addw	%d0,%d1
		addil	#ArtUnc_HCZWaterSplash2,%d1
		movew	#0x6DC0,%d2
		tstb	(Current_act):w
		beqs	loc_37AFC
		movew	#0x6880,%d2

loc_37AFC:
		movew	#0xC0,%d3
		jsr	(Add_To_DMA_Queue):l

loc_37B06:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_37B0C:
		lea	(Player_1):w,%a1
		lea	0x18(%a0),%a2
		moveq	#3,%d6
		movew	(Ctrl_1_logical):w,%d5
		bsrs	sub_37B56
		bclr	#0,4(%a0)
		btst	#0,0x2A(%a1)
		beqs	loc_37B30
		bset	#0,4(%a0)

loc_37B30:
		lea	(Player_2):w,%a1
		lea	0x1E(%a0),%a2
		moveq	#4,%d6
		movew	(Ctrl_2_logical):w,%d5
		bsrs	sub_37B56
		moveb	4(%a0),%d0
		addb	0x2A(%a1),%d0
		andib	#1,%d0
		beqs	locret_37B54
		moveb	#5,5(%a2)

locret_37B54:
		rts
/*  End of function sub_37B0C */


/*  =============== S U B R O U T I N E ======================================= */


sub_37B56:
		btst	%d6,0x2A(%a0)
		bnes	loc_37BAA
		tstw	0x1A(%a1)
		bnes	locret_37BA8
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		addw	0x14(%a1),%d1
		addqw	#1,%d1
		cmpw	(Water_level):w,%d1
		bnes	locret_37BA8
		movew	0x18(%a1),%d0
		bpls	loc_37B7C
		negw	%d0

loc_37B7C:
		cmpiw	#0x700,%d0
		bcss	locret_37BA8
		bset	%d6,0x2A(%a0)
		movew	0x10(%a1),(%a2)
		movew	(Water_level):w,2(%a2)
		moveb	#0,5(%a2)
		bclr	#0,0x2A(%a1)
		tstw	0x18(%a1)
		bpls	locret_37BA8
		bset	#0,0x2A(%a1)

locret_37BA8:
		rts
/*  --------------------------------------------------------------------------- */

loc_37BAA:
		movew	%d5,%d0
		andiw	#0x70,%d0
		bnes	loc_37C2A
		movew	(Water_level):w,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		subqw	#1,%d0
		cmpw	0x14(%a1),%d0
		bhis	loc_37C1E
		movew	0x18(%a1),%d1
		bpls	loc_37BCE
		negw	%d1

loc_37BCE:
		cmpiw	#0x700,%d1
		bcss	loc_37C1E
		movew	%d0,0x14(%a1)
		movew	#0,0x1A(%a1)
		movew	0x10(%a1),(%a2)
		movew	(Water_level):w,2(%a2)
		btst	#1,0x2A(%a1)
		beqs	locret_37C28
		andiw	#0xC00,%d5
		bnes	locret_37C28
		movew	#0xC,%d1
		movew	0x18(%a1),%d0
		beqs	loc_37C1E
		bmis	loc_37C10
		subw	%d1,%d0
		bccs	loc_37C0A
		movew	#0,%d0

loc_37C0A:
		movew	%d0,0x18(%a1)
		bras	locret_37C28
/*  --------------------------------------------------------------------------- */

loc_37C10:
		addw	%d1,%d0
		bccs	loc_37C18
		movew	#0,%d0

loc_37C18:
		movew	%d0,0x18(%a1)
		bras	locret_37C28
/*  --------------------------------------------------------------------------- */

loc_37C1E:
		bclr	%d6,0x2A(%a0)
		moveb	#5,5(%a2)

locret_37C28:
		rts
/*  --------------------------------------------------------------------------- */

loc_37C2A:
		bclr	%d6,0x2A(%a0)
		moveb	#5,5(%a2)
		movew	#-0x680,0x1A(%a1)
		bset	#1,0x2A(%a1)
		moveb	#1,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		rts
/*  End of function sub_37B56 */

/*  --------------------------------------------------------------------------- */
Map_HCZWaterSplash:
		.include "Levels/HCZ/Misc Object Data/Map - Water Splash.S"
Map_HCZWaterSplash2:
		.include "Levels/HCZ/Misc Object Data/Map - Water Splash 2.S"
/*  --------------------------------------------------------------------------- */

Obj_TensionBridge:
		movel	#loc_37DDE,(%a0)
		movel	#Map_TensionBridge,0xC(%a0)
		movew	#0x4038,0xA(%a0)
		movew	#0x200,8(%a0)
		cmpib	#5,(Current_zone):w
		bnes	loc_37CDC
		movel	#loc_37E80,(%a0)
		movel	#Map_ICZTensionBridge,0xC(%a0)
		movew	#0x43B6,0xA(%a0)
		tstb	0x2C(%a0)
		bpls	loc_37CDC
		movel	#loc_37F44,(%a0)
		andib	#0x7F,0x2C(%a0)

loc_37CDC:
		tstb	0x2C(%a0)
		bpls	loc_37CEE
		movel	#loc_37DB4,(%a0)
		andib	#0x7F,0x2C(%a0)

loc_37CEE:
		moveb	#4,4(%a0)
		moveb	#-0x80,7(%a0)
		moveb	#8,6(%a0)
		movew	0x14(%a0),%d2
		movew	%d2,0x3C(%a0)
		movew	0x10(%a0),%d3
		lea	0x2C(%a0),%a2
		moveq	#0,%d1
		moveb	(%a2),%d1
		movew	%d1,%d0
		lsrw	#1,%d0
		lslw	#4,%d0
		subw	%d0,%d3
		swap	%d1
		movew	#8,%d1
		bsrs	sub_37D54
		movew	0x30(%a1),%d0
		subqw	#8,%d0
		movew	%d0,0x10(%a1)
		movel	%a1,0x30(%a0)
		swap	%d1
		subqw	#8,%d1
		blss	loc_37D50
		movew	%d1,%d4
		bsrs	sub_37D54
		movel	%a1,0x34(%a0)
		movew	%d4,%d0
		addw	%d0,%d0
		addw	%d4,%d0
		movew	0x18(%a1,%d0.w),%d0
		subqw	#8,%d0
		movew	%d0,0x10(%a1)

loc_37D50:
		braw	loc_37DDE

/*  =============== S U B R O U T I N E ======================================= */


sub_37D54:
		jsr	(Create_New_Sprite3):l
		bnes	locret_37DB2
		movel	#loc_37E7A,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movel	0xC(%a0),0xC(%a1)
		movew	0xA(%a0),0xA(%a1)
		moveb	4(%a0),4(%a1)
		movew	8(%a0),8(%a1)
		bset	#6,4(%a1)
		moveb	#0x40,7(%a1)
		moveb	#8,6(%a1)
		movew	%d1,0x16(%a1)
		subqb	#1,%d1
		lea	0x18(%a1),%a2

loc_37DA2:
		movew	%d3,(%a2)+
		movew	%d2,(%a2)+
		movew	#0,(%a2)+
		addiw	#0x10,%d3
		dbf	%d1,loc_37DA2

locret_37DB2:
		rts
/*  End of function sub_37D54 */

/*  --------------------------------------------------------------------------- */

loc_37DB4:
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		lea	(%a3,%d0.w),%a3
		tstb	(%a3)
		beqs	loc_37DDE
		movel	#loc_37F0A,(%a0)
		moveb	#0xE,0x34(%a0)
		movel	#loc_37EE2,%d4
		braw	loc_37FC6
/*  --------------------------------------------------------------------------- */

loc_37DDE:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_37DF4
		tstb	0x3E(%a0)
		beqs	loc_37E20
		subqb	#4,0x3E(%a0)
		bras	loc_37E1C
/*  --------------------------------------------------------------------------- */

loc_37DF4:
		andib	#0x10,%d0
		beqs	loc_37E10
		moveb	0x3F(%a0),%d0
		subb	0x3B(%a0),%d0
		beqs	loc_37E10
		bccs	loc_37E0C
		addqb	#1,0x3F(%a0)
		bras	loc_37E10
/*  --------------------------------------------------------------------------- */

loc_37E0C:
		subqb	#1,0x3F(%a0)

loc_37E10:
		cmpib	#0x40,0x3E(%a0)
		beqs	loc_37E1C
		addqb	#4,0x3E(%a0)

loc_37E1C:
		bsrw	sub_382C0

loc_37E20:
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		lslw	#3,%d1
		movew	%d1,%d2
		addqw	#8,%d1
		addw	%d2,%d2
		moveq	#8,%d3
		movew	0x10(%a0),%d4
		bsrw	sub_38086

loc_37E38:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_37E4C
		rts
/*  --------------------------------------------------------------------------- */

loc_37E4C:
		moveal	0x30(%a0),%a1
		jsr	(Delete_Referenced_Sprite):l
		cmpib	#8,0x2C(%a0)
		blss	loc_37E68
		moveal	0x34(%a0),%a1
		jsr	(Delete_Referenced_Sprite):l

loc_37E68:
		movew	0x48(%a0),%d0
		beqs	loc_37E74
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_37E74:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37E7A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37E80:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_37E96
		tstb	0x3E(%a0)
		beqs	loc_37EC2
		subqb	#4,0x3E(%a0)
		bras	loc_37EBE
/*  --------------------------------------------------------------------------- */

loc_37E96:
		andib	#0x10,%d0
		beqs	loc_37EB2
		moveb	0x3F(%a0),%d0
		subb	0x3B(%a0),%d0
		beqs	loc_37EB2
		bccs	loc_37EAE
		addqb	#1,0x3F(%a0)
		bras	loc_37EB2
/*  --------------------------------------------------------------------------- */

loc_37EAE:
		subqb	#1,0x3F(%a0)

loc_37EB2:
		cmpib	#0x40,0x3E(%a0)
		beqs	loc_37EBE
		addqb	#4,0x3E(%a0)

loc_37EBE:
		bsrw	sub_382C0

loc_37EC2:
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		lslw	#3,%d1
		movew	%d1,%d2
		addqw	#8,%d1
		addw	%d2,%d2
		moveq	#8,%d3
		movew	0x10(%a0),%d4
		bsrw	sub_38086
		bsrw	sub_38210
		braw	loc_37E38
/*  --------------------------------------------------------------------------- */

loc_37EE2:
		tstb	0x34(%a0)
		beqs	loc_37EF2
		subqb	#1,0x34(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37EF2:
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bpls	loc_37F04
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37F04:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37F0A:
		tstb	0x34(%a0)
		beqs	loc_37F16
		subqb	#1,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_37F16:
		bclr	#3,0x2A(%a0)
		beqs	loc_37F2A
		bclr	#3,(Player_1+status):w
		bset	#1,(Player_1+status):w

loc_37F2A:
		bclr	#4,0x2A(%a0)
		beqs	loc_37F3E
		bclr	#3,(Player_2+status):w
		bset	#1,(Player_2+status):w

loc_37F3E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_37F44:
		bsrw	sub_38372
		movel	#loc_37F4E,(%a0)

loc_37F4E:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_37F64
		tstb	0x3E(%a0)
		beqs	loc_37FA6
		subqb	#4,0x3E(%a0)
		bras	loc_37FA2
/*  --------------------------------------------------------------------------- */

loc_37F64:
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		lslw	#3,%d1
		movew	%d1,%d2
		addqw	#8,%d1
		addw	%d2,%d2
		bsrw	sub_381D6
		moveb	0x2A(%a0),%d0
		andib	#0x10,%d0
		beqs	loc_37F96
		moveb	0x3F(%a0),%d0
		subb	0x3B(%a0),%d0
		beqs	loc_37F96
		bccs	loc_37F92
		addqb	#1,0x3F(%a0)
		bras	loc_37F96
/*  --------------------------------------------------------------------------- */

loc_37F92:
		subqb	#1,0x3F(%a0)

loc_37F96:
		cmpib	#0x40,0x3E(%a0)
		beqs	loc_37FA2
		addqb	#4,0x3E(%a0)

loc_37FA2:
		bsrw	sub_38372

loc_37FA6:
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		lslw	#3,%d1
		movew	%d1,%d2
		addqw	#8,%d1
		addw	%d2,%d2
		moveq	#8,%d3
		movew	0x10(%a0),%d4
		bsrw	sub_38128
		bsrw	sub_38210
		braw	loc_37E38
/*  --------------------------------------------------------------------------- */

loc_37FC6:
		moveal	0x30(%a0),%a3
		bsrs	sub_37FDC
		cmpib	#8,0x2C(%a0)
		blss	locret_37FDA
		moveal	0x34(%a0),%a3
		bsrs	sub_37FDC

locret_37FDA:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_37FDC:
		lea	(byte_38076):l,%a4
		lea	0x18(%a3),%a2
		movew	0x16(%a3),%d6
		subqw	#1,%d6
		bclr	#6,4(%a3)
		moveal	%a3,%a1
		bras	loc_37FFE
/*  --------------------------------------------------------------------------- */

loc_37FF6:
		jsr	(Create_New_Sprite3):l
		bnes	loc_38062

loc_37FFE:
		movel	%d4,(%a1)
		movel	0xC(%a3),0xC(%a1)
		moveb	4(%a3),4(%a1)
		movew	0xA(%a3),0xA(%a1)
		movew	8(%a3),8(%a1)
		moveb	7(%a3),7(%a1)
		moveb	6(%a3),6(%a1)
		movew	8(%a3),8(%a1)
		movew	(%a2)+,0x10(%a1)
		movew	(%a2)+,0x14(%a1)
		movew	(%a2)+,%d0
		moveb	%d0,0x22(%a1)
		moveb	(%a4)+,0x34(%a1)
		moveal	%a1,%a5
		jsr	(Create_New_Sprite3):l
		bnes	loc_38062
		movel	#loc_1C31E,(%a1)
		movew	0x10(%a5),0x10(%a1)
		movew	0x14(%a5),0x14(%a1)
		moveb	-1(%a4),0x24(%a1)
		dbf	%d6,loc_37FF6

loc_38062:
		movew	#0,0x18(%a3)
		movew	#0,0x1A(%a3)
		moveq	#sfx_BridgeCollapse,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_37FDC */

/*  --------------------------------------------------------------------------- */
byte_38076:	.byte    8, 0x10,  0xC,  0xE,   6,  0xA,   4,   2
		.byte    8, 0x10,  0xC,  0xE,   6,  0xA,   4,   2

/*  =============== S U B R O U T I N E ======================================= */


sub_38086:
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		moveq	#0x3B,%d5
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_380A0
		moveml	(%sp)+,%d1-%d4
		lea	(Player_1):w,%a1
		subqb	#1,%d6
		moveq	#0x3F,%d5
/*  End of function sub_38086 */


/*  =============== S U B R O U T I N E ======================================= */


sub_380A0:
		btst	%d6,0x2A(%a0)
		beqs	loc_38104
		btst	#1,0x2A(%a1)
		bnes	loc_380C0
		moveq	#0,%d0
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_380C0
		cmpw	%d2,%d0
		bcss	loc_380CE

loc_380C0:
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_380CE:
		lsrw	#4,%d0
		moveb	%d0,(%a0,%d5.w)
		moveal	0x30(%a0),%a2
		cmpiw	#8,%d0
		bcss	loc_380E6
		moveal	0x34(%a0),%a2
		subiw	#8,%d0

loc_380E6:
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		movew	0x1A(%a2,%d0.w),%d0
		subqw	#8,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_38104:
		movew	%d1,-(%sp)
		jsr	(sub_1C0BE):l
		movew	(%sp)+,%d1
		btst	%d6,0x2A(%a0)
		beqs	locret_38126
		moveq	#0,%d0
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		lsrw	#4,%d0
		moveb	%d0,(%a0,%d5.w)

locret_38126:
		rts
/*  End of function sub_380A0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_38128:
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		moveq	#0x3B,%d5
		moveml	%d1-%d4,-(%sp)
		bsrs	sub_38142
		moveml	(%sp)+,%d1-%d4
		lea	(Player_1):w,%a1
		subqb	#1,%d6
		moveq	#0x3F,%d5
/*  End of function sub_38128 */


/*  =============== S U B R O U T I N E ======================================= */


sub_38142:
		btst	%d6,0x2A(%a0)
		beqs	loc_381A2
		btst	#1,0x2A(%a1)
		bnes	loc_38162
		moveq	#0,%d0
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	loc_38162
		cmpw	%d2,%d0
		bcss	loc_38170

loc_38162:
		bclr	#3,0x2A(%a1)
		bclr	%d6,0x2A(%a0)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_38170:
		lsrw	#4,%d0
		moveal	0x30(%a0),%a2
		cmpiw	#8,%d0
		bcss	loc_38184
		moveal	0x34(%a0),%a2
		subiw	#8,%d0

loc_38184:
		addw	%d0,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		movew	0x1A(%a2,%d0.w),%d0
		subqw	#8,%d0
		moveq	#0,%d1
		moveb	0x1E(%a1),%d1
		subw	%d1,%d0
		movew	%d0,0x14(%a1)
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_381A2:
		bsrs	sub_381A6
		rts
/*  End of function sub_38142 */


/*  =============== S U B R O U T I N E ======================================= */


sub_381A6:
		tstw	0x1A(%a1)
		bmis	locret_381D4
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	locret_381D4
		cmpw	%d2,%d0
		bccs	locret_381D4
		lsrw	#4,%d0
		movew	%d0,%d3
		addw	%d0,%d0
		addw	%d0,%d3
		negw	%d3
		addqw	#8,%d3
		movew	0x14(%a0),%d0
		subw	%d3,%d0
		jmp	(loc_1C100):l
/*  --------------------------------------------------------------------------- */

locret_381D4:
		rts
/*  End of function sub_381A6 */


/*  =============== S U B R O U T I N E ======================================= */


sub_381D6:
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		moveq	#0x3B,%d5
		bsrs	sub_381E8
		lea	(Player_1):w,%a1
		subqb	#1,%d6
		moveq	#0x3F,%d5
/*  End of function sub_381D6 */


/*  =============== S U B R O U T I N E ======================================= */


sub_381E8:
		btst	%d6,0x2A(%a0)
		beqs	locret_3820E
		btst	#1,0x2A(%a1)
		bnes	locret_3820E
		moveq	#0,%d0
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addw	%d1,%d0
		bmis	locret_3820E
		cmpw	%d2,%d0
		bccs	locret_3820E
		lsrw	#4,%d0
		moveb	%d0,(%a0,%d5.w)

locret_3820E:
		rts
/*  End of function sub_381E8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_38210:
		moveal	0x30(%a0),%a1
		lea	0x1D(%a1),%a1
		moveal	0x34(%a0),%a2
		lea	0x1D(%a2),%a2
		moveq	#-2,%d3
		moveq	#-2,%d4
		moveb	0x2A(%a0),%d0
		andiw	#8,%d0
		beqs	loc_3823C
		tstw	(Player_1+x_vel):w
		beqs	loc_3823C
		moveb	0x3F(%a0),%d0
		bsrw	sub_3828C

loc_3823C:
		moveb	0x2A(%a0),%d0
		andiw	#0x10,%d0
		beqs	loc_38254
		tstw	(Player_2+x_vel):w
		beqs	loc_38254
		moveb	0x3B(%a0),%d0
		bsrw	sub_3828C

loc_38254:
		moveal	0x30(%a0),%a1
		lea	0x4D(%a1),%a2
		lea	0x1D(%a1),%a1
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		subqb	#1,%d1

loc_38268:
		tstb	(%a1)
		beqs	loc_38278
		addqb	#1,(%a1)
		cmpib	#0xC,(%a1)
		bcss	loc_38278
		moveb	#0,(%a1)

loc_38278:
		addqw	#6,%a1
		cmpaw	%a2,%a1
		bnes	loc_38286
		moveal	0x34(%a0),%a1
		lea	0x1D(%a1),%a1

loc_38286:
		dbf	%d1,loc_38268
		rts
/*  End of function sub_38210 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3828C:
		cmpib	#8,%d0
		bccs	loc_382A8
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		addw	%d0,%d0
		tstb	(%a1,%d0.w)
		bnes	locret_382A6
		moveb	#1,(%a1,%d0.w)

locret_382A6:
		rts
/*  --------------------------------------------------------------------------- */

loc_382A8:
		subqw	#8,%d0
		movew	%d0,%d1
		addw	%d0,%d0
		addw	%d1,%d0
		addw	%d0,%d0
		tstb	(%a2,%d0.w)
		bnes	locret_382BE
		moveb	#1,(%a2,%d0.w)

locret_382BE:
		rts
/*  End of function sub_3828C */


/*  =============== S U B R O U T I N E ======================================= */


sub_382C0:
		moveb	0x3E(%a0),%d0
		jsr	(GetSineCosine):l
		movew	%d0,%d4
		lea	(BridgeBendData):l,%a4
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#4,%d0
		moveq	#0,%d3
		moveb	0x3F(%a0),%d3
		movew	%d3,%d2
		addw	%d0,%d3
		moveq	#0,%d5
		lea	(loc_383A8):l,%a5
		moveb	(%a5,%d3.w),%d5
		andiw	#0xF,%d3
		lslw	#4,%d3
		lea	(%a4,%d3.w),%a3
		moveal	0x30(%a0),%a1
		lea	0x4A(%a1),%a2
		lea	0x1A(%a1),%a1

loc_38306:
		moveq	#0,%d0
		moveb	(%a3)+,%d0
		addqw	#1,%d0
		muluw	%d5,%d0
		muluw	%d4,%d0
		swap	%d0
		addw	0x3C(%a0),%d0
		movew	%d0,(%a1)
		addqw	#6,%a1
		cmpaw	%a2,%a1
		bnes	loc_38326
		moveal	0x34(%a0),%a1
		lea	0x1A(%a1),%a1

loc_38326:
		dbf	%d2,loc_38306
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveq	#0,%d3
		moveb	0x3F(%a0),%d3
		addqb	#1,%d3
		subb	%d0,%d3
		negb	%d3
		bmis	locret_38370
		movew	%d3,%d2
		lslw	#4,%d3
		lea	(%a4,%d3.w),%a3
		addaw	%d2,%a3
		subqw	#1,%d2
		bcss	locret_38370

loc_3834C:
		moveq	#0,%d0
		moveb	-(%a3),%d0
		addqw	#1,%d0
		muluw	%d5,%d0
		muluw	%d4,%d0
		swap	%d0
		addw	0x3C(%a0),%d0
		movew	%d0,(%a1)
		addqw	#6,%a1
		cmpaw	%a2,%a1
		bnes	loc_3836C
		moveal	0x34(%a0),%a1
		lea	0x1A(%a1),%a1

loc_3836C:
		dbf	%d2,loc_3834C

locret_38370:
		rts
/*  End of function sub_382C0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_38372:
		moveb	0x3E(%a0),%d0
		jsr	(GetSineCosine):l
		movew	%d0,%d4
		lea	(BridgeBendData):l,%a4
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#4,%d0
		moveq	#0,%d3
		moveb	0x3F(%a0),%d3
		movew	%d3,%d2
		addw	%d0,%d3
		moveq	#0,%d5
		lea	(loc_383A8):l,%a5
		moveb	(%a5,%d3.w),%d5
		andiw	#0xF,%d3
		lslw	#4,%d3

loc_383A8:
		lea	(%a4,%d3.w),%a3
		movew	0x3C(%a0),%d6
		moveal	0x30(%a0),%a1
		lea	0x4A(%a1),%a2
		lea	0x1A(%a1),%a1

loc_383BC:
		moveq	#0,%d0
		moveb	(%a3)+,%d0
		addqw	#1,%d0
		muluw	%d5,%d0
		muluw	%d4,%d0
		swap	%d0
		addw	%d6,%d0
		addqw	#3,%d6
		movew	%d0,(%a1)
		addqw	#6,%a1
		cmpaw	%a2,%a1
		bnes	loc_383DC
		moveal	0x34(%a0),%a1
		lea	0x1A(%a1),%a1

loc_383DC:
		dbf	%d2,loc_383BC
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveq	#0,%d3
		moveb	0x3F(%a0),%d3
		addqb	#1,%d3
		subb	%d0,%d3
		negb	%d3
		bmis	locret_38426
		movew	%d3,%d2
		lslw	#4,%d3
		lea	(%a4,%d3.w),%a3
		addaw	%d2,%a3
		subqw	#1,%d2
		bcss	locret_38426

loc_38402:
		moveq	#0,%d0
		moveb	-(%a3),%d0
		addqw	#1,%d0
		muluw	%d5,%d0
		muluw	%d4,%d0
		swap	%d0
		addw	%d6,%d0
		addqw	#3,%d6
		movew	%d0,(%a1)
		addqw	#6,%a1
		cmpaw	%a2,%a1
		bnes	loc_38422
		moveal	0x34(%a0),%a1
		lea	0x1A(%a1),%a1

loc_38422:
		dbf	%d2,loc_38402

locret_38426:
		rts
/*  End of function sub_38372 */

/*  --------------------------------------------------------------------------- */
		.byte    2,   4,   6,   8,   8,   6,   4,   2,   0,   0,   0,   0,   0,   0,   0,   0
		.byte    2,   4,   6,   8,  0xA,   8,   6,   4,   2,   0,   0,   0,   0,   0,   0,   0
		.byte    2,   4,   6,   8,  0xA,  0xA,   8,   6,   4,   2,   0,   0,   0,   0,   0,   0
		.byte    2,   4,   6,   8,  0xA,  0xC,  0xA,   8,   6,   4,   2,   0,   0,   0,   0,   0
		.byte    2,   4,   6,   8,  0xA,  0xC,  0xC,  0xA,   8,   6,   4,   2,   0,   0,   0,   0
		.byte    2,   4,   6,   8,  0xA,  0xC,  0xE,  0xC,  0xA,   8,   6,   4,   2,   0,   0,   0
		.byte    2,   4,   6,   8,  0xA,  0xC,  0xE,  0xE,  0xC,  0xA,   8,   6,   4,   2,   0,   0
		.byte    2,   4,   6,   8,  0xA,  0xC,  0xE, 0x10,  0xE,  0xC,  0xA,   8,   6,   4,   2,   0
		.byte    2,   4,   6,   8,  0xA,  0xC,  0xE, 0x10, 0x10,  0xE,  0xC,  0xA,   8,   6,   4,   2
BridgeBendData:	.byte  0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0xB5, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x7E, 0xDB, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x61, 0xB5, 0xEC, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x4A, 0x93, 0xCD, 0xF3, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x3E, 0x7E, 0xB0, 0xDB, 0xF6, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x38, 0x6D, 0x9D, 0xC5, 0xE4, 0xF8, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x31, 0x61, 0x8E, 0xB5, 0xD4, 0xEC, 0xFB, 0xFF,   0,   0,   0,   0,   0,   0,   0,   0
		.byte  0x2B, 0x56, 0x7E, 0xA2, 0xC1, 0xDB, 0xEE, 0xFB, 0xFF,   0,   0,   0,   0,   0,   0,   0
		.byte  0x25, 0x4A, 0x73, 0x93, 0xB0, 0xCD, 0xE1, 0xF3, 0xFC, 0xFF,   0,   0,   0,   0,   0,   0
		.byte  0x1F, 0x44, 0x67, 0x88, 0xA7, 0xBD, 0xD4, 0xE7, 0xF4, 0xFD, 0xFF,   0,   0,   0,   0,   0
		.byte  0x1F, 0x3E, 0x5C, 0x7E, 0x98, 0xB0, 0xC9, 0xDB, 0xEA, 0xF6, 0xFD, 0xFF,   0,   0,   0,   0
		.byte  0x19, 0x38, 0x56, 0x73, 0x8E, 0xA7, 0xBD, 0xD1, 0xE1, 0xEE, 0xF8, 0xFE, 0xFF,   0,   0,   0
		.byte  0x19, 0x38, 0x50, 0x6D, 0x83, 0x9D, 0xB0, 0xC5, 0xD8, 0xE4, 0xF1, 0xF8, 0xFE, 0xFF,   0,   0
		.byte  0x19, 0x31, 0x4A, 0x67, 0x7E, 0x93, 0xA7, 0xBD, 0xCD, 0xDB, 0xE7, 0xF3, 0xF9, 0xFE, 0xFF,   0
		.byte  0x19, 0x31, 0x4A, 0x61, 0x78, 0x8E, 0xA2, 0xB5, 0xC5, 0xD4, 0xE1, 0xEC, 0xF4, 0xFB, 0xFE, 0xFF
Map_ICZTensionBridge:
		.include "Levels/ICZ/Misc Object Data/Map - ICZ Tension Bridge.S"
Map_TensionBridge:
		.include "Levels/Misc/Map - Tension Bridge.S"
byte_38604:	.byte    2,   4,   4,   4,   4,   4,  0xC,   0
byte_3860C:	.byte    2,   4,   6,   6,   6,   6,   8,   8,   8,   8,  0xA,  0xA,   0,   0
byte_3861A:	.byte    2,   4,   6,   6,   6,   6,   8,   8,   8,   8,  0xA,   0
byte_38626:	.byte    2,   4,   6,   6,   6,   6,   8,   8,   8,   8,   8,   8,   8,   8,   8,   8,   8,   8,  0xE,   0
word_3863A:	.word 0x840
		.word 0x120
		.long byte_38604
		.word 0x1540
		.word 0x620
		.long byte_3860C
		.word 0x1740
		.word 0x3A0
		.long byte_3860C
		.word 0x1CC0
		.word 0x620
		.long byte_38604
		.word 0x1FC0
		.word 0x2A0
		.long byte_3861A
		.word 0x24C0
		.word 0x220
		.long byte_38626
		.word 0x26C0
		.word 0x120
		.long byte_38604
		.word 0x3040
		.word 0x620
		.long byte_3860C
/*  --------------------------------------------------------------------------- */

Obj_69_1:
		moveb	0x2C(%a0),%d0
		andiw	#0x7F,%d0
		lslw	#3,%d0
		lea	word_3863A(%pc,%d0.w),%a1
		movew	(%a1)+,0x30(%a0)
		movew	(%a1)+,0x32(%a0)
		movel	(%a1)+,0x40(%a0)
		movel	#loc_3869A,(%a0)

loc_3869A:
		lea	(Player_1):w,%a1
		lea	0x34(%a0),%a4
		bsrs	sub_386C0
		lea	(Player_2):w,%a1
		lea	0x3A(%a0),%a4
		bsrs	sub_386C0
		moveb	0x34(%a0),%d0
		addb	0x3A(%a0),%d0
		beqs	loc_386BA
		rts
/*  --------------------------------------------------------------------------- */

loc_386BA:
		jmp	(Delete_Sprite_If_Not_In_Range):l

/*  =============== S U B R O U T I N E ======================================= */


sub_386C0:
		moveq	#0,%d0
		moveb	(%a4),%d0
		movew	off_386F0(%pc,%d0.w),%d0
		jsr	off_386F0(%pc,%d0.w)
		tstb	(%a4)
		beqs	locret_386EE
		bsrw	sub_38806
		moveq	#0,%d0
		movew	2(%a4),%d0
		divuw	#0x60,%d0
		moveal	0x40(%a0),%a2
		moveb	(%a2,%d0.w),(%a4)
		bnes	locret_386EE
		moveb	#0,0x2E(%a1)

locret_386EE:
		rts
/*  End of function sub_386C0 */

/*  --------------------------------------------------------------------------- */
off_386F0:	.word loc_38700-off_386F0
		.word loc_3885A-off_386F0
		.word loc_388B4-off_386F0
		.word loc_388EC-off_386F0
		.word loc_3891C-off_386F0
		.word loc_3895C-off_386F0
		.word loc_3898C-off_386F0
		.word loc_389BC-off_386F0
/*  --------------------------------------------------------------------------- */

loc_38700:
		tstw	(Debug_placement_mode):w
		bnew	locret_38794
		tstb	0x2C(%a0)
		bmiw	loc_38796
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#8,%d0
		cmpiw	#0x10,%d0
		bccs	locret_38794
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		cmpiw	#0x30,%d1
		bccs	locret_38794
		tstb	0x2E(%a1)
		bnes	locret_38794
		btst	#0,0x2A(%a0)
		beqs	loc_38750
		tstw	0x1C(%a1)
		bpls	locret_38794
		tstw	0x18(%a1)
		bpls	locret_38794
		negw	0x1C(%a1)
		bras	loc_38756
/*  --------------------------------------------------------------------------- */

loc_38750:
		tstw	0x1C(%a1)
		bmis	locret_38794

loc_38756:
		addqb	#2,(%a4)
		moveb	#1,0x2E(%a1)
		moveb	#2,0x20(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		moveb	#0x28,0x26(%a1)
		movew	0x14(%a1),%d1
		subw	0x32(%a0),%d1
		movew	%d1,2(%a4)

locret_38794:
		rts
/*  --------------------------------------------------------------------------- */

loc_38796:
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccs	locret_38794
		movew	0x14(%a1),%d1
		subw	0x14(%a0),%d1
		addiw	#0x10,%d1
		cmpiw	#0x10,%d1
		bccs	locret_38794
		tstb	0x2E(%a1)
		bnes	locret_38794
		tstw	0x1C(%a1)
		bpls	locret_38794
		addqb	#2,(%a4)
		moveb	#1,0x2E(%a1)
		moveb	#2,0x20(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		moveb	#0x28,0x26(%a1)
		movew	0x14(%a1),%d1
		subw	0x32(%a0),%d1
		movew	%d1,2(%a4)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_38806:
		moveb	0x26(%a1),%d0
		jsr	(GetSineCosine):l
		mulsw	0x1C(%a1),%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	0x1C(%a1),%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		moveb	0x26(%a1),%d0
		jsr	(GetSineCosine):l
		mulsw	#0x50,%d0
		asrl	#8,%d0
		tstw	0x1C(%a1)
		bmis	loc_3884E
		tstw	%d0
		bpls	loc_38840
		asrl	#2,%d0

loc_38840:
		cmpiw	#0x1800,0x1C(%a1)
		bges	locret_38858
		addw	%d0,0x1C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_3884E:
		tstw	%d0
		bmis	loc_38854
		asrl	#2,%d0

loc_38854:
		addw	%d0,0x1C(%a1)

locret_38858:
		rts
/*  End of function sub_38806 */

/*  --------------------------------------------------------------------------- */

loc_3885A:
		movew	2(%a4),%d0
		subiw	#0x16,%d0
		bccs	loc_38880
		tstw	0x1C(%a1)
		bpls	loc_3887E
		moveb	#0,(%a4)
		moveb	#0,0x2E(%a1)
		moveb	#0x70,0x26(%a1)
		braw	sub_38806
/*  --------------------------------------------------------------------------- */

loc_3887E:
		moveq	#0,%d0

loc_38880:
		muluw	#0xDD,%d0
		lsrw	#8,%d0
		jsr	(GetSineCosine):l
		mulsw	#-0x2800,%d0
		swap	%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_388B4:
		movew	2(%a4),%d0
		muluw	#0xAA,%d0
		asrw	#8,%d0
		jsr	(GetSineCosine):l
		mulsw	#-0x2800,%d0
		swap	%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_388EC:
		movew	2(%a4),%d0
		subiw	#0xC0,%d0
		mulsw	#0xAA,%d0
		asrl	#8,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_3891C:
		movew	2(%a4),%d0
		subiw	#0x180,%d0
		muluw	#0xAA,%d0
		asrw	#8,%d0
		jsr	(GetSineCosine):l
		mulsw	#-0x2800,%d0
		swap	%d0
		addiw	#0x100,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_3895C:
		movew	2(%a4),%d0
		subiw	#0x240,%d0
		mulsw	#0xAA,%d0
		asrl	#8,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_3898C:
		movew	2(%a4),%d0
		subiw	#0x240,%d0
		mulsw	#0xAA,%d0
		asrl	#8,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_389BC:
		movew	2(%a4),%d0
		subiw	#0x540,%d0
		mulsw	#0xAA,%d0
		asrl	#8,%d0
		addw	0x30(%a0),%d0
		movew	%d0,0x10(%a1)
		movew	2(%a4),%d0
		addw	0x32(%a0),%d0
		movew	%d0,0x14(%a1)
		movew	0x1A(%a1),%d0
		extl	%d0
		asll	#8,%d0
		addl	%d0,2(%a4)
		rts
/*  --------------------------------------------------------------------------- */

loc_389EC:
		movew	#ArtTile_Player_1,0xA(%a0)
		movel	#Map_SonicSnowboard,0xC(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		moveb	#4,4(%a0)
		moveb	#6,0x22(%a0)
		movew	#1,0x20(%a0)
		jsr	(Create_New_Sprite3):l
		bnew	loc_38A32
		movel	#loc_38EDE,(%a1)
		movew	%a0,0x30(%a1)

loc_38A32:
		movel	#loc_38A38,(%a0)

loc_38A38:
		lea	(Player_1):w,%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		btst	#1,0x2A(%a1)
		bnes	loc_38A5C
		moveb	#1,0x20(%a0)
		movel	#loc_38A9E,(%a0)

loc_38A5C:
		lea	(Ani_SonicSnowboard):l,%a1
		jsr	(Animate_Sprite):l
		jsr	(sub_38C8C):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_SonicSnowboard:
		.include "General/Sprites/Sonic/Anim - Sonic Snowboard.S"
/*  --------------------------------------------------------------------------- */

loc_38A9E:
		lea	(Player_1):w,%a2
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		moveq	#0,%d0
		moveb	0x26(%a2),%d0
		addqb	#5,%d0
		lsrw	#4,%d0
		moveb	byte_38AF0(%pc,%d0.w),0x20(%a0)
		btst	#1,0x2A(%a2)
		beqs	loc_38B00
		moveb	#0,0x20(%a0)
		tstw	0x18(%a2)
		beqs	loc_38AE0
		cmpiw	#0x1000,0x18(%a2)
		blts	loc_38AE0
		movew	#0x1000,0x18(%a2)

loc_38AE0:
		cmpiw	#-0x200,0x1A(%a2)
		bges	loc_38B52
		movew	#-0x200,0x1A(%a2)
		bras	loc_38B52
/*  --------------------------------------------------------------------------- */
byte_38AF0:	.byte    4,   5,   2,   1,   1,   1,   1,   1,   0,   1,   2,   0,   1,   2,   0,   4
/*  --------------------------------------------------------------------------- */

loc_38B00:
		moveb	(Level_frame_counter+1):w,%d0
		andib	#0xF,%d0
		bnes	loc_38B12
		moveq	#sfx_SlideSkidQuiet,%d0
		jsr	(Play_Sound_2):l

loc_38B12:
		cmpiw	#0x1310,0x10(%a2)
		bcss	loc_38B52
		moveq	#1,%d0
		cmpiw	#0x1330,0x10(%a2)
		bcss	loc_38B36
		cmpiw	#0x2210,0x10(%a2)
		bcss	loc_38B52
		cmpiw	#0x2230,0x10(%a2)
		bccs	loc_38B52
		moveq	#2,%d0

loc_38B36:
		cmpb	0x36(%a0),%d0
		beqs	loc_38B52
		moveb	%d0,0x36(%a0)
		moveb	#3,0x2E(%a2)
		movel	#loc_38BFC,(%a0)
		movew	#0,0x34(%a0)

loc_38B52:
		lea	(Ani_SonicSnowboard):l,%a1
		jsr	(Animate_Sprite):l
		cmpib	#8,0x22(%a0)
		bnes	loc_38B76
		cmpiw	#0x1000,0x1C(%a2)
		blts	loc_38B76
		subiw	#8,0x1C(%a2)
		bras	loc_38B84
/*  --------------------------------------------------------------------------- */

loc_38B76:
		cmpiw	#0x1000,0x1C(%a2)
		bges	loc_38B84
		movew	#0x1000,0x1C(%a2)

loc_38B84:
		cmpiw	#0x3880,0x10(%a2)
		bcss	loc_38BCA
		tstw	0x18(%a2)
		bnes	loc_38BCA
		movel	#loc_38C74,(%a0)
		bset	#1,0x2A(%a2)
		movew	#-0x200,0x18(%a2)
		movew	#-0x400,0x1A(%a2)
		moveb	#0x19,0x20(%a2)
		moveb	#0,0x2E(%a2)
		movew	#0x14,(Screen_shake_flag):w
		moveq	#sfx_Crash,%d0
		jsr	(Play_Sound_2):l
		movew	#2,(Tails_CPU_routine):w

loc_38BCA:
		btst	#1,0x2A(%a2)
		bnes	loc_38BF0
		moveb	0x22(%a0),%d0
		cmpb	0x32(%a0),%d0
		beqs	loc_38BF0
		cmpib	#7,%d0
		beqs	loc_38BE8
		cmpib	#8,%d0
		bnes	loc_38BF0

loc_38BE8:
		moveq	#sfx_GroundSlide,%d0
		jsr	(Play_Sound_2):l

loc_38BF0:
		jsr	(sub_38C8C):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_38BFC:
		lea	(Player_1):w,%a2
		movew	0x34(%a0),%d0
		addqw	#6,0x34(%a0)
		lea	(ICZSnowboard_Slope1):l,%a1
		cmpib	#1,0x36(%a0)
		beqs	loc_38C1C
		lea	(ICZSnowboard_Slope2):l,%a1

loc_38C1C:
		lea	(%a1,%d0.w),%a1
		movew	(%a1)+,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x10(%a2)
		movew	(%a1)+,%d0
		movew	%d0,0x14(%a0)
		movew	%d0,0x14(%a2)
		movew	(%a1)+,%d0
		moveb	%d0,0x22(%a0)
		tstw	(%a1)
		bpls	loc_38C56
		moveb	#0xE,0x46(%a2)
		moveb	#0xF,0x47(%a2)
		moveb	#2,0x2E(%a2)
		movel	#loc_38A9E,(%a0)

loc_38C56:
		moveb	0x22(%a0),%d0
		cmpb	0x32(%a0),%d0
		beqs	loc_38C68
		moveq	#sfx_GroundSlide,%d0
		jsr	(Play_Sound_2):l

loc_38C68:
		jsr	(sub_38C8C):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_38C74:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_38C7A:
		movew	#0xD480,%d4
		movel	#ArtUnc_Snowboard,%d6
		lea	(DPLC_Snowboard):l,%a2
		bras	loc_38C9C
/*  End of function sub_38C7A */


/*  =============== S U B R O U T I N E ======================================= */


sub_38C8C:
		movew	#-0x3000,%d4
		movel	#ArtUnc_SonicSnowboard,%d6
		lea	(DPLC_SonicSnowboard):l,%a2

loc_38C9C:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	0x32(%a0),%d0
		beqs	locret_38CE0
		moveb	%d0,0x32(%a0)
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		subqw	#1,%d5
		bmis	locret_38CE0

loc_38CB8:
		moveq	#0,%d1
		movew	(%a2)+,%d1
		movew	%d1,%d3
		lsrw	#8,%d3
		andiw	#0xF0,%d3
		addiw	#0x10,%d3
		andiw	#0xFFF,%d1
		lsll	#5,%d1
		addl	%d6,%d1
		movew	%d4,%d2
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_38CB8

locret_38CE0:
		rts
/*  End of function sub_38C8C */

/*  --------------------------------------------------------------------------- */

Obj_LevelIntroICZ1:
		lea	(Player_1):w,%a1
		movew	#0x800,0x18(%a1)
		movew	#0x280,0x1A(%a1)
		movew	#0x800,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		moveb	#1,(Ctrl_1_locked):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_1):w
		moveb	#0,0x22(%a1)
		moveb	#3,0x2E(%a1)
		moveb	#0x1E,0x24(%a0)
		movel	#Map_Snowboard,0xC(%a0)
		movew	#0x6A4,0xA(%a0)
		movew	#0x80,8(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		moveb	#4,4(%a0)
		moveb	#8,0x22(%a0)
		movew	#0xC0,0x10(%a0)
		movew	#0x170,0x14(%a0)
		movel	#loc_38D7E,(%a0)

loc_38D7E:
		subqb	#1,0x24(%a0)
		bnes	loc_38D94
		lea	(Player_1):w,%a2
		moveb	#0,0x2E(%a2)
		movel	#loc_38D94,(%a0)

loc_38D94:
		moveb	#1,(Ctrl_1_locked):w
		movew	#0,(Ctrl_1_logical):w
		lea	(Player_1):w,%a2
		cmpiw	#0xC0,0x10(%a2)
		bcss	loc_38DC4
		movew	#-0x600,0x1A(%a0)
		movew	#0x400,0x18(%a2)
		movew	#-0x800,0x1A(%a2)
		movel	#loc_38DD0,(%a0)

loc_38DC4:
		jsr	(sub_38C7A):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_38DD0:
		lea	(Player_1):w,%a2
		movew	0x10(%a2),0x10(%a0)
		subqb	#1,0x24(%a0)
		bpls	loc_38DF8
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#9,0x22(%a0)
		bcss	loc_38DF8
		moveb	#1,0x22(%a0)

loc_38DF8:
		cmpiw	#0x184,0x10(%a2)
		bcss	loc_38E3C
		moveb	#0,0x22(%a2)
		moveb	#2,0x2E(%a2)
		jsr	(Create_New_Sprite3):l
		bnew	loc_38E34
		movel	#loc_389EC,(%a1)
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		movew	0x18(%a2),0x18(%a1)
		movew	0x1A(%a2),0x1A(%a1)

loc_38E34:
		movel	#loc_38E4C,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_38E3C:
		jsr	(MoveSprite2):l
		addiw	#0x28,0x1A(%a0)
		braw	loc_38DC4
/*  --------------------------------------------------------------------------- */

loc_38E4C:
		lea	(Player_1):w,%a2
		movew	0x10(%a2),0x10(%a0)
		movew	0x14(%a2),0x14(%a0)
		movew	(Ctrl_1):w,%d0
		andiw	#-0xF10,%d0
		movew	%d0,(Ctrl_1_logical):w
		tstb	0x2E(%a2)
		bnes	locret_38EA2
		moveb	#0,(Ctrl_1_locked):w
		movel	#loc_38EA4,(%a0)
		addiw	#0x14,0x14(%a0)
		movew	#-0x200,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		moveb	#-0x7C,4(%a0)
		moveb	#1,0x22(%a0)
		moveb	#1,0x24(%a0)
		braw	loc_38DC4
/*  --------------------------------------------------------------------------- */

locret_38EA2:
		rts
/*  --------------------------------------------------------------------------- */

loc_38EA4:
		tstb	4(%a0)
		bmis	loc_38EB0
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_38EB0:
		subqb	#1,0x24(%a0)
		bpls	loc_38ECE
		moveb	#1,0x24(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#9,0x22(%a0)
		bcss	loc_38ECE
		moveb	#1,0x22(%a0)

loc_38ECE:
		jsr	(MoveSprite2):l
		addiw	#0x28,0x1A(%a0)
		braw	loc_38DC4
/*  --------------------------------------------------------------------------- */

loc_38EDE:
		movel	#loc_38EE4,(%a0)

loc_38EE4:
		moveaw	0x30(%a0),%a3
		lea	(Player_1):w,%a2
		tstb	0x2E(%a2)
		bnes	loc_38EF8
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_38EF8:
		btst	#1,0x2A(%a2)
		bnes	locret_38F20
		bsrs	sub_38F22
		bsrs	sub_38F22
		cmpib	#7,0x22(%a3)
		beqs	loc_38F14
		cmpib	#8,0x22(%a3)
		bnes	locret_38F20

loc_38F14:
		bsrs	sub_38F22
		bsrs	sub_38F22
		bsrs	sub_38F22
		bsrs	sub_38F22
		bsrs	sub_38F22
		bsrs	sub_38F22

locret_38F20:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_38F22:
		jsr	(Create_New_Sprite3):l
		bnew	locret_38FA2
		movel	#loc_38FA4,(%a1)
		movew	#0x6B8,0xA(%a1)
		movel	#Map_SnowboardDust,0xC(%a1)
		movew	#0x100,8(%a1)
		moveb	#4,7(%a1)
		moveb	#4,6(%a1)
		moveb	#-0x7C,4(%a1)
		movew	#1,0x20(%a1)
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)
		addiw	#0x14,0x14(%a1)
		jsr	(Random_Number):l
		movel	%d0,%d1
		andiw	#0x1FF,%d0
		negw	%d0
		subiw	#0x200,0x1A(%a1)
		movew	%d0,0x1A(%a1)
		movew	#-0x100,0x18(%a1)
		movel	%d1,%d0
		andiw	#0xF,%d0
		subw	%d0,0x10(%a1)
		swap	%d0
		andiw	#0xF,%d0
		subw	%d0,0x14(%a1)

locret_38FA2:
		rts
/*  End of function sub_38F22 */

/*  --------------------------------------------------------------------------- */

loc_38FA4:
		tstb	4(%a0)
		bpls	loc_38FC8
		jsr	(MoveSprite2):l
		lea	(Ani_SnowboardDust):l,%a1
		jsr	(Animate_Sprite):l
		tstb	5(%a0)
		bnes	loc_38FC8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_38FC8:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
Ani_SnowboardDust:
		.include "General/Sprites/Snowboard/Anim - Snowboard Dust.S"
Map_SnowboardDust:
		.include "General/Sprites/Snowboard/Map - Snowboard Dust.S"
ArtNem_SnowboardDust:
		.incbin "General/Sprites/Snowboard/Snowboard Dust.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_LevelIntro_PlayerLaunchFromGround:
		movel	#loc_3907E,(%a0)
		moveb	#1,(Ctrl_1_locked):w
		moveb	#1,(Ctrl_2_locked):w
		moveq	#0,%d0
		movew	%d0,(Ctrl_1_logical):w
		movew	%d0,(Ctrl_1):w
		movew	%d0,(Ctrl_2_logical):w
		movew	%d0,(Ctrl_2):w
		moveb	#0x1E,0x24(%a0)
		lea	(Player_1):w,%a1
		bsrs	sub_39076
		lea	(Player_2):w,%a1
		tstl	(%a1)
		beqs	locret_3907C

/*  =============== S U B R O U T I N E ======================================= */


sub_39076:
		moveb	#3,0x2E(%a1)

locret_3907C:
		rts
/*  End of function sub_39076 */

/*  --------------------------------------------------------------------------- */

loc_3907E:
		moveb	#1,(Ctrl_1_locked):w
		moveb	#1,(Ctrl_2_locked):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_2_logical):w
		subqb	#1,0x24(%a0)
		beqs	loc_3909E
		rts
/*  --------------------------------------------------------------------------- */

loc_3909E:
		movel	#loc_390D0,(%a0)
		lea	(Player_1):w,%a1
		bsrs	sub_390B2
		lea	(Player_2):w,%a1
		tstl	(%a1)
		beqs	locret_390CE

/*  =============== S U B R O U T I N E ======================================= */


sub_390B2:
		movew	#-0xB00,0x1A(%a1)
		bset	#1,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#0x10,0x20(%a1)
		moveb	#1,0x2E(%a1)

locret_390CE:
		rts
/*  End of function sub_390B2 */

/*  --------------------------------------------------------------------------- */

loc_390D0:
		moveb	#1,(Ctrl_1_locked):w
		moveb	#1,(Ctrl_2_locked):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_2_logical):w
		lea	(Player_1):w,%a2
		cmpiw	#0x5C0,0x14(%a2)
		bccs	loc_3913A
		moveb	#0,0x2E(%a2)
		movew	#0x400,(Dust+anim):w
		movew	#0x5C0,(Dust+y_pos):w
		lea	(Player_2):w,%a2
		tstl	(%a2)
		beqs	loc_39120
		moveb	#0,0x2E(%a2)
		movew	#0x400,(Dust_P2+anim):w
		movew	#0x5C0,(Dust_P2+y_pos):w

loc_39120:
		moveq	#sfx_SandSplash,%d0
		jsr	(Play_Sound_2):l
		moveb	#0,(Ctrl_1_locked):w
		moveb	#0,(Ctrl_2_locked):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3913A:
		bsrs	sub_39144
		lea	(Player_2):w,%a2
		tstl	(%a2)
		beqs	locret_39162

/*  =============== S U B R O U T I N E ======================================= */


sub_39144:
		movew	0x18(%a2),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x10(%a2)
		movew	0x1A(%a2),%d0
		addiw	#0x38,0x1A(%a2)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a2)

locret_39162:
		rts
/*  End of function sub_39144 */

/*  --------------------------------------------------------------------------- */

Obj_LevelIntroICZ1Tails:
		lea	(Player_1):w,%a1
		movew	#0x800,0x18(%a1)
		movew	#0x480,0x1A(%a1)
		movew	#0x800,0x1C(%a1)
		bset	#1,0x2A(%a1)
		moveb	#0,0x40(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		bset	#2,0x2A(%a1)
		moveb	#3,0x2E(%a1)
		moveb	#1,(Ctrl_1_locked):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_1):w
		moveb	#0x1E,0x24(%a0)
		movel	#loc_391C2,(%a0)

loc_391C2:
		moveb	#1,(Ctrl_1_locked):w
		movew	#0,(Ctrl_1_logical):w
		movew	#0,(Ctrl_2_logical):w
		subqb	#1,0x24(%a0)
		beqs	loc_391DC
		rts
/*  --------------------------------------------------------------------------- */

loc_391DC:
		lea	(Player_1):w,%a2
		moveb	#0,0x2E(%a2)
		movel	#loc_391EC,(%a0)

loc_391EC:
		moveb	#1,(Ctrl_1_locked):w
		movew	#0,(Ctrl_1_logical):w
		lea	(Player_1):w,%a2
		cmpiw	#0x38F0,0x10(%a2)
		bcss	locret_3923C
		bset	#1,0x2A(%a2)
		movew	#-0x200,0x18(%a2)
		movew	#-0x400,0x1A(%a2)
		moveb	#0x19,0x20(%a2)
		moveb	#0,0x2E(%a2)
		moveb	#0,(Ctrl_1_locked):w
		movew	#0x14,(Screen_shake_flag):w
		moveq	#sfx_Crash,%d0
		jsr	(Play_Sound_2):l
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_3923C:
		rts
/*  --------------------------------------------------------------------------- */

LevelSetup:
		clrb	(Background_collision_flag):w
		clrl	(Plane_double_update_flag):w
		clrw	(Special_.balign 2ts_routine):w
		clrl	(Level_repeat_offset):w
		clrl	(Events_routine_fg):w
		clrl	(Events_fg_4):w
		clrw	(Screen_shake_flag):w
		clrl	(Screen_shake_offset):w
		clrl	(Events_bg+0x00):w
		clrl	(Events_bg+0x04):w
		clrl	(Events_bg+0x08):w
		clrl	(Events_bg+0x0C):w
		movew	#0xFFF,(Screen_Y_wrap_value):w
		movew	#0xFF0,(Camera_Y_pos_mask):w
		movew	#0x7C,(Layout_row_index_mask):w
		movew	(Camera_X_pos):w,(Camera_X_pos_copy):w
		movew	(Camera_Y_pos):w,(Camera_Y_pos_copy):w
		lea	(Plane_buffer):w,%a0
		lea	(Block_table):w,%a2
		lea	(Level_layout_main):w,%a3
		movew	#0xC000,%d7
		movew	(Current_zone_and_act):w,%d0
		rorb	#2,%d0
		lsrw	#3,%d0
		moveal	Offs_ScreenInit(%pc,%d0.w),%a1
		jsr	(%a1)
		addqw	#2,%a3
		movew	#0xE000,%d7
		movew	(Current_zone_and_act):w,%d0
		rorb	#2,%d0
		lsrw	#3,%d0
		moveal	Offs_BackgroundInit(%pc,%d0.w),%a1
		jsr	(%a1)
		movew	(Camera_Y_pos_copy):w,(V_scroll_value):w
		movew	(Camera_Y_pos_BG_copy):w,(V_scroll_value_BG):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


ScreenEvents:
		movew	(Camera_X_pos):w,(Camera_X_pos_copy):w
		movew	(Camera_Y_pos):w,(Camera_Y_pos_copy):w
		lea	(Plane_buffer):w,%a0
		lea	(Block_table):w,%a2
		lea	(Level_layout_main):w,%a3
		movew	#0xC000,%d7
		movew	(Current_zone_and_act):w,%d0
		rorb	#2,%d0
		lsrw	#3,%d0
		moveal	Offs_ScreenEvent(%pc,%d0.w),%a1
		jsr	(%a1)
		addqw	#2,%a3
		movew	#0xE000,%d7
		movew	(Current_zone_and_act):w,%d0
		rorb	#2,%d0
		lsrw	#3,%d0
		moveal	Offs_BackgroundEvent(%pc,%d0.w),%a1
		jsr	(%a1)
		movew	(Camera_Y_pos_copy):w,(V_scroll_value):w
		movew	(Camera_Y_pos_BG_copy):w,(V_scroll_value_BG):w
		rts
/*  End of function ScreenEvents */

/*  --------------------------------------------------------------------------- */
Offs_ScreenInit:.long AIZ1_ScreenInit
Offs_BackgroundInit:.long AIZ1_BackgroundInit
		.long AIZ2_ScreenInit
		.long AIZ2_BackgroundInit
Offs_ScreenEvent:.long AIZ1_ScreenEvent
Offs_BackgroundEvent:.long AIZ1_BackgroundEvent
		.long AIZ2_ScreenEvent
		.long AIZ2_BackgroundEvent
		.long HCZ1_ScreenInit
		.long HCZ1_BackgroundInit
		.long HCZ2_ScreenInit
		.long HCZ2_BackgroundInit
		.long HCZ1_ScreenEvent
		.long HCZ1_BackgroundEvent
		.long HCZ2_ScreenEvent
		.long HCZ2_BackgroundEvent
		.long MGZ1_ScreenInit
		.long MGZ1_BackgroundInit
		.long MGZ2_ScreenInit
		.long MGZ2_BackgroundInit
		.long MGZ1_ScreenEvent
		.long MGZ1_BackgroundEvent
		.long MGZ2_ScreenEvent
		.long MGZ2_BackgroundEvent
		.long CNZ1_ScreenInit
		.long CNZ1_BackgroundInit
		.long CNZ2_ScreenInit
		.long CNZ2_BackgroundInit
		.long CNZ1_ScreenEvent
		.long CNZ1_BackgroundEvent
		.long CNZ2_ScreenEvent
		.long CNZ2_BackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long ICZ1_ScreenInit
		.long ICZ1_BackgroundInit
		.long ICZ2_ScreenInit
		.long ICZ2_BackgroundInit
		.long ICZ1_ScreenEvent
		.long ICZ1_BackgroundEvent
		.long ICZ2_ScreenEvent
		.long ICZ2_BackgroundEvent
		.long LBZ1_ScreenInit
		.long LBZ1_BackgroundInit
		.long LBZ2_ScreenInit
		.long LBZ2_BackgroundInit
		.long LBZ1_ScreenEvent
		.long LBZ1_BackgroundEvent
		.long LBZ2_ScreenEvent
		.long LBZ2_BackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long Comp_ScreenInit
		.long ALZ_BackgroundInit
		.long Comp_ScreenInit
		.long ALZ_BackgroundInit
		.long Comp_ScreenEvent
		.long ALZ_BackgroundEvent
		.long Comp_ScreenEvent
		.long ALZ_BackgroundEvent
		.long Comp_ScreenInit
		.long BPZ_BackgroundInit
		.long Comp_ScreenInit
		.long BPZ_BackgroundInit
		.long Comp_ScreenEvent
		.long BPZ_BackgroundEvent
		.long Comp_ScreenEvent
		.long BPZ_BackgroundEvent
		.long Comp_ScreenInit
		.long DPZ_BackgroundInit
		.long Comp_ScreenInit
		.long DPZ_BackgroundInit
		.long Comp_ScreenEvent
		.long DPZ_BackgroundEvent
		.long Comp_ScreenEvent
		.long DPZ_BackgroundEvent
		.long Comp_ScreenInit
		.long CGZ_BackgroundInit
		.long Comp_ScreenInit
		.long CGZ_BackgroundInit
		.long CGZ_ScreenEvent
		.long CGZ_BackgroundEvent
		.long CGZ_ScreenEvent
		.long CGZ_BackgroundEvent
		.long Comp_ScreenInit
		.long EMZ_BackgroundInit
		.long Comp_ScreenInit
		.long EMZ_BackgroundInit
		.long Comp_ScreenEvent
		.long EMZ_BackgroundEvent
		.long Comp_ScreenEvent
		.long EMZ_BackgroundEvent
		.long Gumball_ScreenInit
		.long Gumball_BackgroundInit
		.long Gumball_ScreenInit
		.long Gumball_BackgroundInit
		.long Gumball_ScreenEvent
		.long Gumball_BackgroundEvent
		.long Gumball_ScreenEvent
		.long Gumball_BackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenInit
		.long NoBackgroundInit
		.long NoScreenEvent
		.long NoBackgroundEvent
		.long NoScreenEvent
		.long NoBackgroundEvent

/*  =============== S U B R O U T I N E ======================================= */


VInt_DrawLevel:
		lea	(VDP_data_port):l,%a6
		lea	(Plane_buffer):w,%a0
/*  End of function VInt_DrawLevel */


/*  =============== S U B R O U T I N E ======================================= */


VInt_DrawLevel_2:
		movew	(%a0),%d0
		beqs	VInt_DrawLevel_Done
		clrw	(%a0)+
		movew	(%a0)+,%d1
		bmis	VInt_DrawLevel_Col
		movew	#0x8F02,%d2
		movew	#0x80,%d3
		bras	VInt_DrawLevel_Draw
/*  --------------------------------------------------------------------------- */

VInt_DrawLevel_Col:
		movew	#0x8F80,%d2
		moveq	#2,%d3
		andiw	#0x7FFF,%d1

VInt_DrawLevel_Draw:
		movew	%d2,VDP_control_port-VDP_data_port(%a6)
		movew	%d0,%d2
		movew	%d1,%d4
		bsrs	VInt_VRAMWrite
		movew	%d2,%d0
		addw	%d3,%d0
		movew	%d4,%d1
		bsrs	VInt_VRAMWrite
		bras	VInt_DrawLevel_2
/*  --------------------------------------------------------------------------- */

VInt_DrawLevel_Done:
		movew	#0x8F02,VDP_control_port-VDP_data_port(%a6)
		rts
/*  End of function VInt_DrawLevel_2 */


/*  =============== S U B R O U T I N E ======================================= */


VInt_VRAMWrite:
		swap	%d0
		clrw	%d0
		swap	%d0
		lsll	#2,%d0
		lsrw	#2,%d0
		oriw	#0x4000,%d0
		swap	%d0
		movel	%d0,4(%a6)

loc_39670:
		movel	(%a0)+,(%a6)
		dbf	%d1,loc_39670
		rts
/*  End of function VInt_VRAMWrite */


/*  =============== S U B R O U T I N E ======================================= */


SpecialVInt_VRAMRead:
		swap	%d0
		clrw	%d0
		swap	%d0
		lsll	#2,%d0
		lsrw	#2,%d0
		swap	%d0
		movel	%d0,4(%a6)

loc_39688:
		movel	(%a6),(%a0)+
		dbf	%d1,loc_39688
		rts
/*  End of function SpecialVInt_VRAMRead */


/*  =============== S U B R O U T I N E ======================================= */


sub_39690:
		lea	(VDP_data_port):l,%a6
		lea	(Plane_buffer):w,%a0

loc_3969A:
		movew	(%a0),%d0
		beqs	locret_396B4
		clrw	(%a0)+
		movew	(%a0)+,%d1
		movew	%d0,%d2
		movew	%d1,%d4
		bsrs	VInt_VRAMWrite
		movew	%d2,%d0
		addw	(_unkEEB0):w,%d0
		movew	%d4,%d1
		bsrs	VInt_VRAMWrite
		bras	loc_3969A
/*  --------------------------------------------------------------------------- */

locret_396B4:
		rts
/*  End of function sub_39690 */


/*  =============== S U B R O U T I N E ======================================= */


SpecialVInt_Function:
		lea	(VDP_data_port):l,%a6
		movew	(Special_V_int_routine):w,%d0
		jmp	SpecialVInt_Array(%pc,%d0.w)
/*  End of function SpecialVInt_Function */

/*  --------------------------------------------------------------------------- */

SpecialVInt_Array:
		rts
/*  --------------------------------------------------------------------------- */
		nop
		braw	SpecialVInt_VScrollOn
/*  --------------------------------------------------------------------------- */
		braw	SpecialVInt_VScrollCopy
/*  --------------------------------------------------------------------------- */
		braw	SpecialVInt_VScrollOff
/*  --------------------------------------------------------------------------- */
		braw	SpecialVInt_LBZ2WindowCopy
/*  --------------------------------------------------------------------------- */
		braw	SpecialVInt_LBZ2ScrollAClear
/*  --------------------------------------------------------------------------- */
		braw	SpecialVInt_LBZ2ScrollAClear2
/*  --------------------------------------------------------------------------- */
		braw	SpecialVInt_LBZ2WindowClear
/*  --------------------------------------------------------------------------- */

SpecialVInt_VScrollOn:
		movew	#0x8B07,VDP_control_port-VDP_data_port(%a6)
		addqw	#4,(Special_V_int_routine):w

SpecialVInt_VScrollCopy:
		lea	(Vscroll_buffer):w,%a0
		movel	#0x40000010,VDP_control_port-VDP_data_port(%a6)
		moveq	#0x13,%d0

loc_396FC:
		movel	(%a0)+,(%a6)
		dbf	%d0,loc_396FC
		rts
/*  --------------------------------------------------------------------------- */

SpecialVInt_VScrollOff:
		movew	#0x8B03,VDP_control_port-VDP_data_port(%a6)
		clrw	(Special_V_int_routine):w
		rts
/*  --------------------------------------------------------------------------- */

SpecialVInt_LBZ2WindowCopy:
		lea	(VRAM_buffer):w,%a0
		movew	(Draw_delayed_rowcount):w,%d0
		addiw	#0xD,%d0
		andiw	#0x1F,%d0
		lslw	#7,%d0
		addiw	#0xC000,%d0
		movew	%d0,%d2
		addiw	#0x64,%d0
		moveq	#6,%d1
		jsr	SpecialVInt_VRAMRead(%pc)
		movew	%d2,%d0
		moveq	#0x18,%d1
		jsr	SpecialVInt_VRAMRead(%pc)
		lea	(VRAM_buffer):w,%a0
		movew	(Draw_delayed_rowcount):w,%d0
		lslw	#7,%d0
		addiw	#0x8000,%d0
		moveq	#0x1F,%d1
		jsr	VInt_VRAMWrite(%pc)
		subqw	#1,(Draw_delayed_rowcount):w
		bpls	locret_39758
		addqw	#4,(Special_V_int_routine):w

locret_39758:
		rts
/*  --------------------------------------------------------------------------- */

SpecialVInt_LBZ2ScrollAClear:
		movel	#0x49000003,(VDP_control_port):l
		moveq	#0,%d0
		moveq	#0x5F,%d1

loc_39768:
		movel	%d0,(%a6)
		movel	%d0,(%a6)
		dbf	%d1,loc_39768
		movew	#0x8320,VDP_control_port-VDP_data_port(%a6)
		movew	#0x9285,VDP_control_port-VDP_data_port(%a6)
		clrw	(Special_V_int_routine):w
		rts
/*  --------------------------------------------------------------------------- */

SpecialVInt_LBZ2ScrollAClear2:
		movel	#0x46000003,(VDP_control_port):l
		moveq	#0,%d0
		moveq	#0x5F,%d1

loc_39790:
		movel	%d0,(%a6)
		movel	%d0,(%a6)
		dbf	%d1,loc_39790
		addqw	#4,(Special_V_int_routine):w
		rts
/*  --------------------------------------------------------------------------- */

SpecialVInt_LBZ2WindowClear:
		lea	(VRAM_buffer):w,%a0
		movew	#0x829C,%d0
		moveq	#0x18,%d1
		jsr	SpecialVInt_VRAMRead(%pc)
		movew	#0x8280,%d0
		moveq	#6,%d1
		jsr	SpecialVInt_VRAMRead(%pc)
		movel	#0x49000003,(VDP_control_port):l
		moveq	#5,%d0

loc_397C2:
		lea	(VRAM_buffer):w,%a0
		moveq	#0xF,%d1

loc_397C8:
		movel	(%a0)+,(%a6)
		movel	(%a0)+,(%a6)
		dbf	%d1,loc_397C8
		dbf	%d0,loc_397C2
		movew	#0x9200,VDP_control_port-VDP_data_port(%a6)
		clrw	(Special_V_int_routine):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


Draw_TileColumn:
		movew	(%a6),%d0
		andiw	#-0x10,%d0
		movew	(%a5),%d2
		movew	%d0,(%a5)
		movew	%d2,%d3
		subw	%d0,%d2
		beqw	locret_3996C
		tstb	%d2
		bpls	loc_397FE
		negw	%d2
		movew	%d3,%d0
		addiw	#0x150,%d0

loc_397FE:
		andiw	#0x30,%d2
		cmpiw	#0x10,%d2
		sne	(Plane_double_update_flag):w
		movemw	%d1/%d6,-(%sp)
		bsrs	Setup_TileColumnDraw
		movemw	(%sp)+,%d1/%d6
		tstb	(Plane_double_update_flag):w
		beqw	locret_3996C
		addiw	#0x10,%d0
		bras	Setup_TileColumnDraw
/*  End of function Draw_TileColumn */


/*  =============== S U B R O U T I N E ======================================= */


Draw_TileColumn2:
		movew	(%a6),%d0
		andiw	#-0x10,%d0
		movew	(%a5),%d2
		movew	%d0,(%a5)
		movew	%d2,%d3
		subw	%d0,%d2
		beqw	locret_3996C
		tstb	%d2
		bpls	loc_39842
		negw	%d2
		movew	%d3,%d0
		addiw	#0x150,%d0
		swap	%d1

loc_39842:
		andiw	#0x30,%d2
		cmpiw	#0x10,%d2
		sne	(Plane_double_update_flag):w
		movemw	%d1/%d6,-(%sp)
		bsrs	Setup_TileColumnDraw
		movemw	(%sp)+,%d1/%d6
		tstb	(Plane_double_update_flag):w
		beqw	locret_3996C
		addiw	#0x10,%d0
/*  End of function Draw_TileColumn2 */


/*  =============== S U B R O U T I N E ======================================= */


Setup_TileColumnDraw:
		movew	%d1,%d2
		andiw	#0x70,%d2
		movew	%d1,%d3
		lslw	#4,%d3
		andiw	#0xF00,%d3
		asrw	#4,%d1
		movew	%d1,%d4
		asrw	#1,%d1
		andw	(Layout_row_index_mask):w,%d1
		andiw	#0xF,%d4
		moveq	#0x10,%d5
		subw	%d4,%d5
		movew	%d5,%d4
		subw	%d6,%d5
		bmis	loc_398B2
		movew	%d0,%d5
		asrw	#2,%d5
		andiw	#0x7C,%d5
		addw	%d7,%d5
		addw	%d3,%d5
		movew	%d5,(%a0)+
		movew	%d6,%d5
		subqw	#1,%d6
		movew	%d6,(%a0)+
		bset	#7,-2(%a0)
		lea	(%a0),%a1
		addw	%d5,%d5
		addw	%d5,%d5
		addaw	%d5,%a0
		jsr	Get_LevelChunkColumn(%pc)
		bras	loc_39900
/*  --------------------------------------------------------------------------- */

loc_398B2:
		negw	%d5
		movew	%d5,-(%sp)
		movew	%d0,%d5
		asrw	#2,%d5
		andiw	#0x7C,%d5
		addw	%d7,%d5
		addw	%d3,%d5
		movew	%d5,(%a0)+
		movew	%d4,%d6
		subqw	#1,%d6
		movew	%d6,(%a0)+
		bset	#7,-2(%a0)
		lea	(%a0),%a1
		addw	%d4,%d4
		addw	%d4,%d4
		addaw	%d4,%a0
		jsr	Get_LevelChunkColumn(%pc)
		bsrs	loc_39900
		movew	(%sp)+,%d6
		movew	%d0,%d5
		asrw	#2,%d5
		andiw	#0x7C,%d5
		addw	%d7,%d5
		movew	%d5,(%a0)+
		movew	%d6,%d5
		subqw	#1,%d6
		movew	%d6,(%a0)+
		bset	#7,-2(%a0)
		lea	(%a0),%a1
		addw	%d5,%d5
		addw	%d5,%d5
		addaw	%d5,%a0

loc_39900:
		swap	%d7

loc_39902:
		movew	(%a5,%d2.w),%d3
		movew	%d3,%d4
		andiw	#0x3FF,%d3
		lslw	#3,%d3
		movew	(%a2,%d3.w),%d5
		swap	%d5
		movew	4(%a2,%d3.w),%d5
		movew	6(%a2,%d3.w),%d7
		movew	2(%a2,%d3.w),%d3
		swap	%d3
		movew	%d7,%d3
		btst	#0xB,%d4
		beqs	loc_3993A
		eoril	#0x10001000,%d5
		eoril	#0x10001000,%d3
		swap	%d5
		swap	%d3

loc_3993A:
		btst	#0xA,%d4
		beqs	loc_3994E
		eoril	#0x8000800,%d5
		eoril	#0x8000800,%d3
		exg	%d3,%d5

loc_3994E:
		movel	%d5,(%a1)+
		movel	%d3,(%a0)+
		addiw	#0x10,%d2
		andiw	#0x70,%d2
		bnes	loc_39964
		addqw	#4,%d1
		andw	(Layout_row_index_mask):w,%d1
		bsrs	Get_LevelChunkColumn

loc_39964:
		dbf	%d6,loc_39902
		swap	%d7
		clrw	(%a0)

locret_3996C:
		rts
/*  End of function Setup_TileColumnDraw */


/*  =============== S U B R O U T I N E ======================================= */


Get_LevelChunkColumn:
		moveaw	(%a3,%d1.w),%a4
		movew	%d0,%d3
		asrw	#7,%d3
		addaw	%d3,%a4
		moveq	#-1,%d3
		clrw	%d3
		moveb	(%a4),%d3
		lslw	#7,%d3
		movew	%d0,%d4
		asrw	#3,%d4
		andiw	#0xE,%d4
		addw	%d4,%d3
		moveal	%d3,%a5
		rts
/*  End of function Get_LevelChunkColumn */


/*  =============== S U B R O U T I N E ======================================= */


Draw_TileRow:
		movew	(%a6),%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	(%a5),%d2
		movew	%d0,(%a5)
		movew	%d2,%d3
		subw	%d0,%d2
		beqw	locret_39AFC
		tstb	%d2
		bpls	loc_399B0
		negw	%d2
		movew	%d3,%d0
		addiw	#0xF0,%d0
		andw	(Camera_Y_pos_mask):w,%d0

loc_399B0:
		andiw	#0x30,%d2
		cmpiw	#0x10,%d2
		sne	(Plane_double_update_flag):w
		movemw	%d1/%d6,-(%sp)
		bsrs	Setup_TileRowDraw
		movemw	(%sp)+,%d1/%d6
		tstb	(Plane_double_update_flag):w
		beqw	locret_39AFC
		addiw	#0x10,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		bras	Setup_TileRowDraw
/*  End of function Draw_TileRow */


/*  =============== S U B R O U T I N E ======================================= */


Draw_TileRow2:
		movew	(%a6),%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	(%a5),%d2
		movew	%d0,(%a5)
		movew	%d2,%d3
		subw	%d0,%d2
		beqw	locret_39AFC
		tstb	%d2
		bpls	loc_399FC
		negw	%d2
		movew	%d3,%d0
		addiw	#0xF0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		swap	%d1

loc_399FC:
		andiw	#0x30,%d2
		cmpiw	#0x10,%d2
		sne	(Plane_double_update_flag):w
		movemw	%d1/%d6,-(%sp)
		bsrs	Setup_TileRowDraw
		movemw	(%sp)+,%d1/%d6
		tstb	(Plane_double_update_flag):w
		beqw	locret_39AFC
		addiw	#0x10,%d0
		andw	(Camera_Y_pos_mask):w,%d0
/*  End of function Draw_TileRow2 */


/*  =============== S U B R O U T I N E ======================================= */


Setup_TileRowDraw:
		asrw	#4,%d1
		movew	%d1,%d2
		movew	%d1,%d4
		asrw	#3,%d1
		addw	%d2,%d2
		movew	%d2,%d3
		andiw	#0xE,%d2
		addw	%d3,%d3
		andiw	#0x7C,%d3
		andiw	#0x1F,%d4
		moveq	#0x20,%d5
		subw	%d4,%d5
		movew	%d5,%d4
		subw	%d6,%d5
		bmis	loc_39A68
		movew	%d0,%d5
		andiw	#0xF0,%d5
		lslw	#4,%d5
		addw	%d7,%d5
		addw	%d3,%d5
		movew	%d5,(%a0)+
		movew	%d6,%d5
		subqw	#1,%d6
		movew	%d6,(%a0)+
		lea	(%a0),%a1
		addw	%d5,%d5
		addw	%d5,%d5
		addaw	%d5,%a0
		jsr	Get_LevelAddrChunkRow(%pc)
		bras	loc_39AA8
/*  --------------------------------------------------------------------------- */

loc_39A68:
		negw	%d5
		movew	%d5,-(%sp)
		movew	%d0,%d5
		andiw	#0xF0,%d5
		lslw	#4,%d5
		addw	%d7,%d5
		addw	%d3,%d5
		movew	%d5,(%a0)+
		movew	%d4,%d6
		subqw	#1,%d6
		movew	%d6,(%a0)+
		lea	(%a0),%a1
		addw	%d4,%d4
		addw	%d4,%d4
		addaw	%d4,%a0
		bsrs	Get_LevelAddrChunkRow
		bsrs	loc_39AA8
		movew	(%sp)+,%d6
		movew	%d0,%d5
		andiw	#0xF0,%d5
		lslw	#4,%d5
		addw	%d7,%d5
		movew	%d5,(%a0)+
		movew	%d6,%d5
		subqw	#1,%d6
		movew	%d6,(%a0)+
		lea	(%a0),%a1
		addw	%d5,%d5
		addw	%d5,%d5
		addaw	%d5,%a0

loc_39AA8:
		movew	(%a5,%d2.w),%d3
		movew	%d3,%d4
		andiw	#0x3FF,%d3
		lslw	#3,%d3
		movel	(%a2,%d3.w),%d5
		movel	4(%a2,%d3.w),%d3
		btst	#0xB,%d4
		beqs	loc_39AD0
		eoril	#0x10001000,%d5
		eoril	#0x10001000,%d3
		exg	%d3,%d5

loc_39AD0:
		btst	#0xA,%d4
		beqs	loc_39AE6
		eoril	#0x8000800,%d5
		eoril	#0x8000800,%d3
		swap	%d5
		swap	%d3

loc_39AE6:
		movel	%d5,(%a1)+
		movel	%d3,(%a0)+
		addqw	#2,%d2
		andiw	#0xE,%d2
		bnes	loc_39AF6
		addqw	#1,%d1
		bsrs	Get_ChunkRow

loc_39AF6:
		dbf	%d6,loc_39AA8
		clrw	(%a0)

locret_39AFC:
		rts
/*  End of function Setup_TileRowDraw */


/*  =============== S U B R O U T I N E ======================================= */


Get_LevelAddrChunkRow:
		movew	%d0,%d3
		asrw	#5,%d3
		andw	(Layout_row_index_mask):w,%d3
		moveaw	(%a3,%d3.w),%a4

Get_ChunkRow:
		moveq	#-1,%d3
		clrw	%d3
		moveb	(%a4,%d1.w),%d3
		lslw	#7,%d3
		movew	%d0,%d4
		andiw	#0x70,%d4
		addw	%d4,%d3
		moveal	%d3,%a5
		rts
/*  End of function Get_LevelAddrChunkRow */


/*  =============== S U B R O U T I N E ======================================= */


sub_39B20:
		asrw	#3,%d1
		movew	%d1,%d2
		asrw	#4,%d1
		andiw	#0xE,%d2
		cmpiw	#0x100,(_unkEEB0):w
		beqs	loc_39B3A
		moveq	#4,%d3
		movew	#0x1F80,%d4
		bras	loc_39B40
/*  --------------------------------------------------------------------------- */

loc_39B3A:
		moveq	#5,%d3
		movew	#0x1F00,%d4

loc_39B40:
		movew	%d0,%d5
		lslw	%d3,%d5
		andw	%d4,%d5
		addw	%d7,%d5
		movew	%d5,(%a0)+
		movew	%d6,%d5
		subqw	#1,%d6
		movew	%d6,(%a0)+
		lea	(%a0),%a1
		addw	%d5,%d5
		addw	%d5,%d5
		addaw	%d5,%a0
		jsr	Get_LevelAddrChunkRow(%pc)
		braw	loc_39AA8
/*  End of function sub_39B20 */


/*  =============== S U B R O U T I N E ======================================= */


Refresh_PlaneFull:
		moveq	#0xF,%d2

loc_39B62:
		moveml	%d0-%d2/%a0,-(%sp)
		moveq	#0x20,%d6
		jsr	Setup_TileRowDraw(%pc)
		jsr	VInt_DrawLevel(%pc)
		moveml	(%sp)+,%d0-%d2/%a0
		addiw	#0x10,%d0
		dbf	%d2,loc_39B62
		rts
/*  End of function Refresh_PlaneFull */


/*  =============== S U B R O U T I N E ======================================= */


Refresh_PlaneTileDeform:
		movew	(%a4)+,%d2
		moveq	#0xF,%d3

loc_39B82:
		cmpw	%d2,%d0
		bmis	loc_39B8C
		addw	(%a4)+,%d2
		addqw	#4,%a5
		bras	loc_39B82
/*  --------------------------------------------------------------------------- */

loc_39B8C:
		movew	(%a5),%d1
		moveq	#0x20,%d6
		moveml	%d0/%d2-%d3/%a0/%a4-%a5,-(%sp)
		jsr	Setup_TileRowDraw(%pc)
		jsr	VInt_DrawLevel(%pc)
		moveml	(%sp)+,%d0/%d2-%d3/%a0/%a4-%a5
		addiw	#0x10,%d0
		dbf	%d3,loc_39B82
		rts
/*  End of function Refresh_PlaneTileDeform */

/*  --------------------------------------------------------------------------- */

RefreshPlaneDirectVScroll:
		movew	(%a4)+,%d2
		moveq	#0x1F,%d3

loc_39BAE:
		cmpw	%d2,%d0
		bmis	loc_39BB8
		addw	(%a4)+,%d2
		addqw	#4,%a5
		bras	loc_39BAE
/*  --------------------------------------------------------------------------- */

loc_39BB8:
		movew	(%a5),%d1
		moveq	#0x10,%d6
		moveml	%d0/%d2-%d3/%a0/%a4-%a5,-(%sp)
		jsr	Setup_TileColumnDraw(%pc)
		jsr	VInt_DrawLevel(%pc)
		moveml	(%sp)+,%d0/%d2-%d3/%a0/%a4-%a5
		addiw	#0x10,%d0
		dbf	%d3,loc_39BAE
		rts
/*  --------------------------------------------------------------------------- */

loc_39BD6:
		moveml	%d0-%d2/%d6/%a0,-(%sp)
		jsr	sub_39B20(%pc)
		jsr	sub_39690(%pc)
		moveml	(%sp)+,%d0-%d2/%d6/%a0
		addiw	#0x10,%d0
		dbf	%d2,loc_39BD6
		rts
/*  --------------------------------------------------------------------------- */

Refresh_PlaneScreenDirect:
		move	#0x2700,sr
		movew	(Camera_Y_pos_copy):w,%d0
		movew	(Camera_X_pos_copy):w,%d1
		moveq	#0xE,%d2

loc_39BFE:
		moveml	%d0-%d2/%a0,-(%sp)
		moveq	#0x15,%d6
		jsr	Setup_TileRowDraw(%pc)
		jsr	VInt_DrawLevel(%pc)
		moveml	(%sp)+,%d0-%d2/%a0
		addiw	#0x10,%d0
		dbf	%d2,loc_39BFE
		move	#0x2300,sr
		rts

/*  =============== S U B R O U T I N E ======================================= */


DrawTilesAsYouMove:
		lea	(Camera_X_pos_copy):w,%a6
		lea	(Camera_X_pos_rounded):w,%a5
		movew	(Camera_Y_pos_copy):w,%d1
		moveq	#0xF,%d6
		jsr	Draw_TileColumn(%pc)
		lea	(Camera_Y_pos_copy):w,%a6
		lea	(Camera_Y_pos_rounded):w,%a5
		movew	(Camera_X_pos_copy):w,%d1
		moveq	#0x15,%d6
		jmp	Draw_TileRow(%pc)
/*  End of function DrawTilesAsYouMove */


/*  =============== S U B R O U T I N E ======================================= */


DrawBGAsYouMove:
		lea	(Camera_X_pos_BG_copy):w,%a6
		lea	(Camera_X_pos_BG_rounded):w,%a5
		movew	(Camera_Y_pos_BG_copy):w,%d1
		moveq	#0xF,%d6
		jsr	Draw_TileColumn(%pc)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		movew	(Camera_X_pos_BG_copy):w,%d1
		moveq	#0x15,%d6
		jmp	Draw_TileRow(%pc)
/*  End of function DrawBGAsYouMove */

/*  --------------------------------------------------------------------------- */
		moveml	%d5/%a4-%a5,-(%sp)
		lea	(Camera_Y_pos_copy):w,%a6
		jsr	Get_DeformDrawPosVert(%pc)
		lea	(Camera_Y_pos_rounded):w,%a5
		jsr	Draw_TileRow2(%pc)
		moveml	(%sp)+,%d5/%a4/%a6
		movew	(Camera_Y_pos_rounded):w,%d6
		bras	Draw_BGNoVert

/*  =============== S U B R O U T I N E ======================================= */


Draw_BG:
		moveml	%d5/%a4-%a5,-(%sp)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		jsr	Get_DeformDrawPosVert(%pc)
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		jsr	Draw_TileRow2(%pc)
		moveml	(%sp)+,%d5/%a4/%a6
		movew	(Camera_Y_pos_BG_rounded):w,%d6

Draw_BGNoVert:
		movew	%d6,%d1

loc_39CA2:
		subw	(%a4)+,%d6
		bmis	loc_39CB2
		movew	(%a6)+,%d0
		andiw	#-0x10,%d0
		movew	%d0,(%a6)+
		subqw	#1,%d5
		bras	loc_39CA2
/*  --------------------------------------------------------------------------- */

loc_39CB2:
		negw	%d6
		lsrw	#4,%d6
		moveq	#0xF,%d4
		subw	%d6,%d4
		bccs	loc_39CC0
		moveq	#0,%d4
		moveq	#0xF,%d6

loc_39CC0:
		movemw	%d1/%d4-%d6,-(%sp)
		moveml	%a4/%a6,-(%sp)
		lea	2(%a6),%a5
		jsr	Draw_TileColumn(%pc)
		moveml	(%sp)+,%a4/%a6
		movemw	(%sp)+,%d1/%d4-%d6
		addqw	#4,%a6
		tstw	%d4
		beqs	loc_39CF4
		lslw	#4,%d6
		addw	%d6,%d1
		subqw	#1,%d5
		movew	(%a4)+,%d6
		lsrw	#4,%d6
		movew	%d4,%d0
		subw	%d6,%d4
		bpls	loc_39CC0
		movew	%d0,%d6
		moveq	#0,%d4
		bras	loc_39CC0
/*  --------------------------------------------------------------------------- */

loc_39CF4:
		subqw	#1,%d5
		beqs	locret_39D02
		movew	(%a6)+,%d0
		andiw	#-0x10,%d0
		movew	%d0,(%a6)+
		bras	loc_39CF4
/*  --------------------------------------------------------------------------- */

locret_39D02:
		rts
/*  End of function Draw_BG */


/*  =============== S U B R O U T I N E ======================================= */


Get_DeformDrawPosVert:
		movew	(%a4)+,%d2
		movew	(%a6),%d0
		bsrs	sub_39D0E
		addiw	#0xE0,%d0
/*  End of function Get_DeformDrawPosVert */


/*  =============== S U B R O U T I N E ======================================= */


sub_39D0E:
		cmpw	%d2,%d0
		bmis	loc_39D18
		addw	(%a4)+,%d2
		addqw	#4,%a5
		bras	sub_39D0E
/*  --------------------------------------------------------------------------- */

loc_39D18:
		movew	(%a5),%d1
		swap	%d1
		rts
/*  End of function sub_39D0E */

/*  --------------------------------------------------------------------------- */

DrawTilesVDeform:
		moveml	%d5/%a4-%a5,-(%sp)
		lea	(Camera_X_pos_copy):w,%a6
		jsr	Get_XDeformRange(%pc)
		lea	(Camera_X_pos_rounded):w,%a5
		jsr	Draw_TileColumn2(%pc)
		moveml	(%sp)+,%d5/%a4/%a6
		movew	(Camera_X_pos_rounded):w,%d6
		bras	loc_39D58
/*  --------------------------------------------------------------------------- */

DrawTilesVDeform2:
		moveml	%d5/%a4-%a5,-(%sp)
		lea	(Camera_X_pos_BG_copy):w,%a6
		jsr	Get_XDeformRange(%pc)
		lea	(Camera_X_pos_BG_rounded):w,%a5
		jsr	Draw_TileColumn2(%pc)
		moveml	(%sp)+,%d5/%a4/%a6
		movew	(Camera_X_pos_BG_rounded):w,%d6

loc_39D58:
		movew	%d6,%d1

loc_39D5A:
		subw	(%a4)+,%d6
		bcss	loc_39D6A
		movew	(%a6)+,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(%a6)+
		subqw	#1,%d5
		bras	loc_39D5A
/*  --------------------------------------------------------------------------- */

loc_39D6A:
		negw	%d6
		lsrw	#4,%d6
		moveq	#0x15,%d4
		subw	%d6,%d4
		bccs	loc_39D78
		moveq	#0,%d4
		moveq	#0x15,%d6

loc_39D78:
		movemw	%d1/%d4-%d6,-(%sp)
		moveml	%a4/%a6,-(%sp)
		lea	2(%a6),%a5
		jsr	Draw_TileRow(%pc)
		moveml	(%sp)+,%a4/%a6
		movemw	(%sp)+,%d1/%d4-%d6
		addqw	#4,%a6
		tstw	%d4
		beqs	loc_39DAC
		lslw	#4,%d6
		addw	%d6,%d1
		subqw	#1,%d5
		movew	(%a4)+,%d6
		lsrw	#4,%d6
		movew	%d4,%d0
		subw	%d6,%d4
		bccs	loc_39D78
		movew	%d0,%d6
		moveq	#0,%d4
		bras	loc_39D78
/*  --------------------------------------------------------------------------- */

loc_39DAC:
		subqw	#1,%d5
		beqs	locret_39DBA
		movew	(%a6)+,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(%a6)+
		bras	loc_39DAC
/*  --------------------------------------------------------------------------- */

locret_39DBA:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Get_XDeformRange:
		movew	(%a4)+,%d2
		movew	(%a6),%d0
		bsrs	sub_39DC6
		addiw	#0x140,%d0
/*  End of function Get_XDeformRange */


/*  =============== S U B R O U T I N E ======================================= */


sub_39DC6:
		cmpw	%d2,%d0
		bcss	loc_39DD0
		addw	(%a4)+,%d2
		addqw	#4,%a5
		bras	sub_39DC6
/*  --------------------------------------------------------------------------- */

loc_39DD0:
		movew	(%a5),%d1
		swap	%d1
		rts
/*  End of function sub_39DC6 */


/*  =============== S U B R O U T I N E ======================================= */


Draw_PlaneVertBottomUp:
		movemw	%d1-%d2,-(%sp)
		bsrs	Draw_PlaneVertSingleBottomUp
		movemw	(%sp)+,%d1-%d2
		bpls	Draw_PlaneVertSingleBottomUp
		rts
/*  End of function Draw_PlaneVertBottomUp */


/*  =============== S U B R O U T I N E ======================================= */


Draw_PlaneVertSingleBottomUp:
		andw	(Camera_Y_pos_mask):w,%d2
		movew	%d2,%d3
		addiw	#0xF0,%d3
		andw	(Camera_Y_pos_mask):w,%d3
		movew	(Draw_delayed_position):w,%d0
		cmpw	%d2,%d0
		bcss	loc_39E04
		cmpw	%d3,%d0
		bhis	loc_39E04
		moveq	#0x20,%d6
		jsr	Setup_TileRowDraw(%pc)

loc_39E04:
		subiw	#0x10,(Draw_delayed_position):w
		subqw	#1,(Draw_delayed_rowcount):w
		rts
/*  End of function Draw_PlaneVertSingleBottomUp */


/*  =============== S U B R O U T I N E ======================================= */


Draw_PlaneVertBottomUpComplex:
		moveml	%d1/%a4-%a5,-(%sp)
		bsrs	sub_39E1E
		moveml	(%sp)+,%d1/%a4-%a5
		bpls	sub_39E1E
		rts
/*  End of function Draw_PlaneVertBottomUpComplex */


/*  =============== S U B R O U T I N E ======================================= */


sub_39E1E:
		andw	(Camera_Y_pos_mask):w,%d1
		movew	%d1,%d2
		addiw	#0xF0,%d2
		andw	(Camera_Y_pos_mask):w,%d2
		movew	(Draw_delayed_position):w,%d0
		cmpw	%d1,%d0
		bcss	loc_39E46
		cmpw	%d2,%d0
		bhis	loc_39E46

loc_39E38:
		addqw	#4,%a5
		cmpw	(%a4)+,%d0
		bpls	loc_39E38
		movew	(%a5),%d1
		moveq	#0x20,%d6
		jsr	Setup_TileRowDraw(%pc)

loc_39E46:
		subiw	#0x10,(Draw_delayed_position):w
		subqw	#1,(Draw_delayed_rowcount):w
		rts
/*  End of function sub_39E1E */


/*  =============== S U B R O U T I N E ======================================= */


PlainDeformation:
		lea	(H_scroll_buffer):w,%a1
		movew	(Camera_X_pos_copy):w,%d0
		negw	%d0
		swap	%d0
		movew	(Camera_X_pos_BG_copy):w,%d0
		negw	%d0
		moveq	#0x37,%d1

loc_39E66:
		movel	%d0,(%a1)+
		movel	%d0,(%a1)+
		movel	%d0,(%a1)+
		movel	%d0,(%a1)+
		dbf	%d1,loc_39E66
		rts
/*  End of function PlainDeformation */


/*  =============== S U B R O U T I N E ======================================= */


MakeFGDeformArray:
		movew	%d1,%d0
		lsrw	#1,%d0
		bccs	loc_39E80

loc_39E7A:
		movew	(%a6)+,%d5
		addw	%d6,%d5
		movew	%d5,(%a1)+

loc_39E80:
		movew	(%a6)+,%d5
		addw	%d6,%d5
		movew	%d5,(%a1)+
		dbf	%d0,loc_39E7A
		rts
/*  End of function MakeFGDeformArray */


/*  =============== S U B R O U T I N E ======================================= */


ApplyDeformation:
		movew	#0xDF,%d1

ApplyDeformation3:
		lea	(H_scroll_buffer):w,%a1
		movew	(Camera_Y_pos_BG_copy):w,%d0
		movew	(Camera_X_pos_copy):w,%d3

ApplyDeformation2:
		movew	(%a4)+,%d2
		smi	%d4
		bpls	loc_39EA6
		andiw	#0x7FFF,%d2

loc_39EA6:
		subw	%d2,%d0
		bmis	loc_39EB8
		addqw	#2,%a5
		tstb	%d4
		beqs	ApplyDeformation2
		subqw	#2,%a5
		addw	%d2,%d2
		addaw	%d2,%a5
		bras	ApplyDeformation2
/*  --------------------------------------------------------------------------- */

loc_39EB8:
		tstb	%d4
		beqs	loc_39EC2
		addw	%d0,%d2
		addw	%d2,%d2
		addaw	%d2,%a5

loc_39EC2:
		negw	%d0
		movew	%d1,%d2
		subw	%d0,%d2
		bccs	loc_39ECE
		movew	%d1,%d0
		addqw	#1,%d0

loc_39ECE:
		negw	%d3
		swap	%d3

loc_39ED2:
		subqw	#1,%d0

loc_39ED4:
		tstb	%d4
		beqs	loc_39EEE
		lsrw	#1,%d0
		bccs	loc_39EE2

loc_39EDC:
		movew	(%a5)+,%d3
		negw	%d3
		movel	%d3,(%a1)+

loc_39EE2:
		movew	(%a5)+,%d3
		negw	%d3
		movel	%d3,(%a1)+
		dbf	%d0,loc_39EDC
		bras	loc_39EFE
/*  --------------------------------------------------------------------------- */

loc_39EEE:
		movew	(%a5)+,%d3
		negw	%d3
		lsrw	#1,%d0
		bccs	loc_39EF8

loc_39EF6:
		movel	%d3,(%a1)+

loc_39EF8:
		movel	%d3,(%a1)+
		dbf	%d0,loc_39EF6

loc_39EFE:
		tstw	%d2
		bmis	locret_39F16
		movew	(%a4)+,%d0
		smi	%d4
		bpls	loc_39F0C
		andiw	#0x7FFF,%d0

loc_39F0C:
		movew	%d2,%d3
		subw	%d0,%d2
		bpls	loc_39ED2
		movew	%d3,%d0
		bras	loc_39ED4
/*  --------------------------------------------------------------------------- */

locret_39F16:
		rts
/*  End of function ApplyDeformation */


/*  =============== S U B R O U T I N E ======================================= */


ApplyFGandBGDeformation:
		swap	%d7
		swap	%d3

loc_39F1C:
		movew	(%a4)+,%d3
		smi	%d7
		bpls	loc_39F26
		andiw	#0x7FFF,%d3

loc_39F26:
		subw	%d3,%d0
		bmis	loc_39F38
		addqw	#2,%a5
		tstb	%d7
		beqs	loc_39F1C
		subqw	#2,%a5
		addw	%d3,%d3
		addaw	%d3,%a5
		bras	loc_39F1C
/*  --------------------------------------------------------------------------- */

loc_39F38:
		tstb	%d7
		beqs	loc_39F42
		addw	%d0,%d3
		addw	%d3,%d3
		addaw	%d3,%a5

loc_39F42:
		swap	%d3
		negw	%d0
		movew	%d1,%d4
		subw	%d0,%d4
		bccs	loc_39F50
		movew	%d1,%d0
		addqw	#1,%d0

loc_39F50:
		subqw	#1,%d0

loc_39F52:
		tstb	%d7
		beqs	loc_39F78
		lsrw	#1,%d0
		bccs	loc_39F66

loc_39F5A:
		movew	(%a2)+,%d6
		swap	%d6
		movew	(%a5)+,%d6
		negw	%d6
		addw	(%a6)+,%d6
		movel	%d6,(%a1)+

loc_39F66:
		movew	(%a2)+,%d6
		swap	%d6
		movew	(%a5)+,%d6
		negw	%d6
		addw	(%a6)+,%d6
		movel	%d6,(%a1)+
		dbf	%d0,loc_39F5A
		bras	loc_39F98
/*  --------------------------------------------------------------------------- */

loc_39F78:
		movew	(%a5)+,%d5
		negw	%d5
		lsrw	#1,%d0
		bccs	loc_39F8A

loc_39F80:
		movew	(%a2)+,%d6
		swap	%d6
		movew	(%a6)+,%d6
		addw	%d5,%d6
		movel	%d6,(%a1)+

loc_39F8A:
		movew	(%a2)+,%d6
		swap	%d6
		movew	(%a6)+,%d6
		addw	%d5,%d6
		movel	%d6,(%a1)+
		dbf	%d0,loc_39F80

loc_39F98:
		tstw	%d4
		bmis	loc_39FB0
		movew	(%a4)+,%d0
		smi	%d7
		bpls	loc_39FA6
		andiw	#0x7FFF,%d0

loc_39FA6:
		movew	%d4,%d5
		subw	%d0,%d4
		bpls	loc_39F50
		movew	%d5,%d0
		bras	loc_39F52
/*  --------------------------------------------------------------------------- */

loc_39FB0:
		swap	%d7
		rts
/*  End of function ApplyFGandBGDeformation */


/*  =============== S U B R O U T I N E ======================================= */


Apply_FGVScroll:
		lea	(Vscroll_buffer):w,%a1
		movew	(Camera_Y_pos_BG_copy):w,%d1
		movew	(Camera_X_pos_copy):w,%d0
		movew	%d0,%d2
		andiw	#0xF,%d2
		beqs	loc_39FCC
		addiw	#0x10,%d0

loc_39FCC:
		lsrw	#4,%d0

loc_39FCE:
		addqw	#2,%a5
		movew	(%a4)+,%d2
		lsrw	#4,%d2
		subw	%d2,%d0
		bpls	loc_39FCE
		negw	%d0
		moveq	#0x13,%d2
		subw	%d0,%d2
		bccs	loc_39FE2
		moveq	#0x14,%d0

loc_39FE2:
		subqw	#1,%d0

loc_39FE4:
		movew	(%a5)+,%d3

loc_39FE6:
		movew	%d3,(%a1)+
		movew	%d1,(%a1)+
		dbf	%d0,loc_39FE6
		tstw	%d2
		bmis	locret_3A000
		movew	(%a4)+,%d0
		lsrw	#4,%d0
		movew	%d2,%d3
		subw	%d0,%d2
		bpls	loc_39FE2
		movew	%d3,%d0
		bras	loc_39FE4
/*  --------------------------------------------------------------------------- */

locret_3A000:
		rts
/*  End of function Apply_FGVScroll */


/*  =============== S U B R O U T I N E ======================================= */


Reset_TileOffsetPositionActual:
		movew	(Camera_X_pos_copy):w,%d0
		movew	%d0,%d1
		andiw	#0xFFF0,%d0
		movew	%d0,(Camera_X_pos_rounded):w
		movew	(Camera_Y_pos_copy):w,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Camera_Y_pos_rounded):w
		rts
/*  End of function Reset_TileOffsetPositionActual */


/*  =============== S U B R O U T I N E ======================================= */


Reset_TileOffsetPositionEff:
		movew	(Camera_X_pos_BG_copy):w,%d0
		movew	%d0,%d1
		andiw	#-0x10,%d0
		movew	%d0,%d2
		movew	%d0,(Camera_X_pos_BG_rounded):w
		movew	(Camera_Y_pos_BG_copy):w,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Camera_Y_pos_BG_rounded):w
		rts
/*  End of function Reset_TileOffsetPositionEff */


/*  =============== S U B R O U T I N E ======================================= */


Update_CameraPositionP2:
		movew	(Camera_X_pos_P2):w,(Camera_X_pos_P2_copy):w
		movew	(Camera_Y_pos_P2):w,(Camera_Y_pos_P2_copy):w
		rts
/*  End of function Update_CameraPositionP2 */

/*  --------------------------------------------------------------------------- */

Update_VScrollValueP2:
		movew	(Camera_Y_pos_P2_copy):w,%d0
		subiw	#0x70,%d0
		movew	%d0,(V_scroll_value_P2):w
		movew	(_unkEE74):w,%d0
		subiw	#0x70,%d0
		movew	%d0,(V_scroll_value_BG_P2):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


SpecialEvents:
		cmpib	#6,(Player_1+routine):w
		bccs	locret_3A07E
		movew	(Special_.balign 2ts_routine):w,%d0
		moveal	off_3A076(%pc,%d0.w),%a0
		jmp	(%a0)
/*  --------------------------------------------------------------------------- */
off_3A076:	.long locret_3A07E
		.long AIZ2_DoShipLoop
/*  --------------------------------------------------------------------------- */

locret_3A07E:
		rts
/*  End of function SpecialEvents */


/*  =============== S U B R O U T I N E ======================================= */


Adjust_BGDuringLoop:
		movew	(%a1),%d1
		movew	%d0,(%a1)+
		subw	%d1,%d0
		bpls	loc_3A094
		negw	%d0
		cmpw	%d2,%d0
		bcss	loc_3A090
		subw	%d3,%d0

loc_3A090:
		subw	%d0,(%a1)+
		rts
/*  --------------------------------------------------------------------------- */

loc_3A094:
		cmpw	%d2,%d0
		bcss	loc_3A09A
		subw	%d3,%d0

loc_3A09A:
		addw	%d0,(%a1)+
		rts
/*  End of function Adjust_BGDuringLoop */


/*  =============== S U B R O U T I N E ======================================= */


Get_BGActualEffectiveDiff:
		movew	(Camera_X_pos_copy):w,%d0
		subw	(Camera_X_pos_BG_copy):w,%d0
		movew	%d0,(Camera_X_diff):w
		movew	(Camera_Y_pos_copy):w,%d0
		subw	(Camera_Y_pos_BG_copy):w,%d0
		movew	%d0,(Camera_Y_diff):w
		rts
/*  End of function Get_BGActualEffectiveDiff */


/*  =============== S U B R O U T I N E ======================================= */


ShakeScreen_Setup:
		movew	(Screen_shake_offset):w,(Screen_shake_last_offset):w
		cmpib	#6,(Player_1+routine):w
		bccs	loc_3A0F2
		movew	(Screen_shake_flag):w,%d0
		beqs	loc_3A0F2
		bmis	loc_3A0E0
		subqw	#1,%d0
		movew	%d0,(Screen_shake_flag):w
		moveb	ScreenShakeArray(%pc,%d0.w),%d0
		extw	%d0
		movew	%d0,(Screen_shake_offset):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3A0E0:
		movew	(Level_frame_counter):w,%d0
		andiw	#0x3F,%d0
		moveb	ScreenShakeArray2(%pc,%d0.w),%d0
		movew	%d0,(Screen_shake_offset):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3A0F2:
		clrw	(Screen_shake_offset):w
		rts
/*  End of function ShakeScreen_Setup */


/*  =============== S U B R O U T I N E ======================================= */


Offset_ObjectsDuringTransition:
		lea	(Dynamic_object_RAM+object_size):w,%a1
		moveq	#((Breathing_bubbles)-(Dynamic_object_RAM+object_size))/object_size-1,%d2

loc_3A0FE:
		tstl	(%a1)
		beqs	loc_3A112
		btst	#2,4(%a1)
		beqs	loc_3A112
		subw	%d0,0x10(%a1)
		subw	%d1,0x14(%a1)

loc_3A112:
		lea	0x4A(%a1),%a1
		dbf	%d2,loc_3A0FE
		rts
/*  End of function Offset_ObjectsDuringTransition */

/*  --------------------------------------------------------------------------- */
ScreenShakeArray:
		.byte   1, -1,  1, -1,  2, -2,  2, -2,  3, -3,  3, -3,  4, -4,  4, -4
		.byte   5, -5,  5, -5
ScreenShakeArray2:
		.byte   1,  2,  1,  3,  1,  2,  2,  1,  2,  3,  1,  2,  1,  2,  0,  0
		.byte   2,  0,  3,  2,  2,  3,  2,  2,  1,  3,  0,  0,  1,  0,  1,  3
		.byte   1,  2,  1,  3,  1,  2,  2,  1,  2,  3,  1,  2,  1,  2,  0,  0
		.byte   2,  0,  3,  2,  2,  3,  2,  2,  1,  3,  0,  0,  1,  0,  1,  3
AIZ1_WaterFGDeformDelta:
		.word   1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
		.word  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1
		.word   1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
		.word  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1
		.word   1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
		.word  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1
		.word   1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
		.word  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1
		.word   1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0,  0,  0
		.word   0,  0,  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
AIZ1_WaterBGDeformDelta:
		.word   0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1,  1,  1
		.word   1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1
		.word   1,  1,  1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1
		.word   1,  1,  1,  1,  1,  0, -1, -2, -2, -1,  0,  2,  2,  2,  2,  0
		.word   0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1,  1,  1
		.word   1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1
LBZ_WaterWaveArray2:
		.word   1,  1,  1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1
		.word   1,  1,  1,  1,  1,  0, -1, -2, -2, -1,  0,  2,  2,  2,  2,  0
		.word   0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1,  1,  1
		.word   1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1
		.word   1,  1,  1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1
		.word   1,  1,  1,  1,  1,  0, -1, -2, -2, -1,  0,  2,  2,  2,  2,  0
		.word   0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1,  1,  1
		.word   1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1
LBZ_WaterWaveArray:
		.word   1,  1,  1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1
		.word   1,  1,  1,  1,  1,  0, -1, -2, -2, -1,  0,  2,  2,  2,  2,  0
		.word   0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1,  1,  1
		.word   1,  0,  0,  0, -1, -1, -1, -1, -1, -1,  0,  0,  0,  1,  1,  1

/*  =============== S U B R O U T I N E ======================================= */


Clear_Switches:
		lea	(Level_trigger_array):w,%a1
		moveq	#7,%d0

loc_3A5F6:
		clrl	(%a1)+
		dbf	%d0,loc_3A5F6
		rts
/*  End of function Clear_Switches */

/*  --------------------------------------------------------------------------- */

NoScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

NoScreenEvent:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

NoBackgroundInit:
		jsr	sub_3A626(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		jsr	Refresh_PlaneFull(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

NoBackgroundEvent:
		jsr	sub_3A626(%pc)
		jsr	DrawBGAsYouMove(%pc)
		jmp	PlainDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_3A626:
		movew	(Camera_X_pos_copy):w,%d0
		asrw	#3,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		movew	(Camera_Y_pos_copy):w,%d0
		asrw	#3,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		rts
/*  End of function sub_3A626 */

/*  --------------------------------------------------------------------------- */

Comp_ScreenInit:
		jsr	Update_CameraPositionP2(%pc)
		movew	(Camera_X_pos_copy):w,%d0
		movew	%d0,(Events_fg_0):w
		movew	%d0,(Events_fg_1):w
		movew	(Camera_X_pos_P2_copy):w,%d0
		movew	%d0,(Events_fg_2):w
		movew	%d0,(_unkEEBA):w
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		lslw	#4,%d0
		lea	Comp_ScreenInitArray-0xE0(%pc),%a1
		addaw	%d0,%a1
		movew	(%a1)+,(Screen_X_wrap_value):w
		movew	(%a1)+,(Screen_Y_wrap_value):w
		movew	(%a1)+,(Camera_Y_pos_mask):w
		movew	(%a1)+,(Layout_row_index_mask):w
		movew	(%a1)+,(_unkEEB0):w
		movew	(%a1)+,%d0
		movew	(%a1)+,%d2
		movew	(%a1)+,%d6
		moveq	#0,%d1
		movew	#0x8000,%d7
		jmp	loc_39BD6(%pc)

/*  =============== S U B R O U T I N E ======================================= */


Comp_ScreenEvent:
		jsr	Update_CameraPositionP2(%pc)
		movew	(Screen_X_wrap_value):w,%d2
		addqw	#1,%d2
		movew	%d2,%d3
		lsrw	#1,%d2
		lea	(Events_fg_0):w,%a1
		movew	(Camera_X_pos_copy):w,%d0
		jsr	Adjust_BGDuringLoop(%pc)
		movew	(Camera_X_pos_P2_copy):w,%d0
		jmp	Adjust_BGDuringLoop(%pc)
/*  End of function Comp_ScreenEvent */

/*  --------------------------------------------------------------------------- */

CGZ_ScreenEvent:
		bsrs	Comp_ScreenEvent
		movew	(Screen_Y_wrap_value):w,%d2
		addqw	#1,%d2
		movew	%d2,%d3
		lsrw	#1,%d2
		lea	(Events_bg+0x00):w,%a1
		movew	(Camera_Y_pos_copy):w,%d0
		jsr	Adjust_BGDuringLoop(%pc)
		movew	(Camera_Y_pos_P2_copy):w,%d0
		jmp	Adjust_BGDuringLoop(%pc)
/*  --------------------------------------------------------------------------- */

ALZ_BackgroundInit:
		jsr	ALZ_BackgroundEvent(%pc)
		bras	Comp_BackgroundInit
/*  --------------------------------------------------------------------------- */

BPZ_BackgroundInit:
		jsr	BPZ_BackgroundEvent(%pc)
		bras	Comp_BackgroundInit
/*  --------------------------------------------------------------------------- */

DPZ_BackgroundInit:
		jsr	DPZ_BackgroundEvent(%pc)
		bras	Comp_BackgroundInit
/*  --------------------------------------------------------------------------- */

CGZ_BackgroundInit:
		movew	(Camera_Y_pos_copy):w,%d0
		movew	%d0,(Events_bg+0x00):w
		movew	%d0,(Events_bg+0x02):w
		movew	(Camera_Y_pos_P2_copy):w,%d0
		movew	%d0,(Events_bg+0x04):w
		movew	%d0,(Events_bg+0x06):w
		moveq	#0,%d0
		moveb	(_unkFEDA):w,%d0
		addqw	#1,%d0
		lslw	#8,%d0
		subiw	#0x70,%d0
		movel	#0x900000,%d1
		divuw	%d0,%d1
		movew	%d1,(Events_bg+0x08):w
		jsr	CGZ_BackgroundEvent(%pc)
		bras	Comp_BackgroundInit
/*  --------------------------------------------------------------------------- */

EMZ_BackgroundInit:
		jsr	EMZ_BackgroundEvent(%pc)

Comp_BackgroundInit:
		movel	(V_scroll_value_P2):w,(V_scroll_value_P2_copy):w
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		lslw	#4,%d0
		lea	Comp_ScreenInitArray-0xD4(%pc),%a1
		addaw	%d0,%a1
		movew	(%a1)+,%d2
		movew	(%a1)+,%d6
		moveq	#0,%d0
		moveq	#0,%d1
		movew	#0xA000,%d7
		jmp	loc_39BD6(%pc)

/*  =============== S U B R O U T I N E ======================================= */


ALZ_BackgroundEvent:
		jsr	ALZ_Deformation(%pc)
		lea	ALZ_BGDeformArray(%pc),%a4
		bras	loc_3A764
/*  --------------------------------------------------------------------------- */

BPZ_BackgroundEvent:
		jsr	BPZ_Deformation(%pc)
		lea	BPZ_DeformArray(%pc),%a4
		bras	loc_3A764
/*  --------------------------------------------------------------------------- */

CGZ_BackgroundEvent:
		jsr	CGZ_Deformation(%pc)
		lea	CGZ_DeformArray(%pc),%a4
		bras	loc_3A764
/*  --------------------------------------------------------------------------- */

EMZ_BackgroundEvent:
		jsr	EMZ_Deformation(%pc)
		lea	EMZ_DeformArray(%pc),%a4

loc_3A764:
		lea	(H_scroll_buffer):w,%a1
		moveal	%a4,%a6
		lea	(HScroll_table):w,%a5
		movew	(Camera_Y_pos_BG_copy):w,%d0
		movew	(Camera_X_pos_copy):w,%d3
		moveq	#0x6B,%d1
		jsr	ApplyDeformation2(%pc)
		moveal	%a6,%a4
		lea	(HScroll_table+0x100):w,%a5
		movew	(_unkEE74):w,%d0
		subqw	#4,%d0
		movew	(Camera_X_pos_P2_copy):w,%d3
		moveq	#0x73,%d1
		jsr	ApplyDeformation2(%pc)
		jmp	Update_VScrollValueP2(%pc)
/*  End of function ALZ_BackgroundEvent */


/*  =============== S U B R O U T I N E ======================================= */


DPZ_BackgroundEvent:
		jsr	DPZ_Deformation(%pc)
		lea	(H_scroll_buffer):w,%a1
		movew	(Camera_X_pos_copy):w,%d0
		movew	(Camera_X_pos_BG_copy):w,%d1
		moveq	#0x1A,%d2
		bsrs	sub_3A7BA
		movew	(Camera_X_pos_P2_copy):w,%d0
		movew	(_unkEE70):w,%d1
		moveq	#0x1C,%d2
		bsrs	sub_3A7BA
		jmp	Update_VScrollValueP2(%pc)
/*  End of function DPZ_BackgroundEvent */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A7BA:
		negw	%d0
		swap	%d0
		negw	%d1
		movew	%d1,%d0

loc_3A7C2:
		movel	%d0,(%a1)+
		movel	%d0,(%a1)+
		movel	%d0,(%a1)+
		movel	%d0,(%a1)+
		dbf	%d2,loc_3A7C2
		rts
/*  End of function sub_3A7BA */


/*  =============== S U B R O U T I N E ======================================= */


ALZ_Deformation:
		movew	(Camera_Y_pos_copy):w,%d0
		bsrs	sub_3A808
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_Y_pos_P2_copy):w,%d0
		bsrs	sub_3A808
		movew	%d0,(_unkEE74):w
		addqw	#3,(Events_bg+0x00):w
		addil	#0x1000,(Events_bg+0x02):w
		lea	ALZ_AIZ2_BGDeformDelta(%pc),%a4
		lea	(HScroll_table):w,%a1
		movew	(Events_fg_1):w,%d0
		bsrs	sub_3A81E
		lea	(HScroll_table+0x100):w,%a1
		movew	(_unkEEBA):w,%d0
		bras	sub_3A81E
/*  End of function ALZ_Deformation */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A808:
		subiw	#0x148,%d0
		swap	%d0
		clrw	%d0
		movel	%d0,%d1
		asrl	#2,%d1
		subl	%d1,%d0
		swap	%d0
		addiw	#0x48,%d0
		rts
/*  End of function sub_3A808 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A81E:
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,0x90(%a1)
		asrl	#3,%d0
		lea	0xC(%a1),%a5
		movel	%d0,%d1
		asrl	#2,%d1
		movel	%d1,%d2
		movel	(Events_bg+0x02):w,%d3
		moveq	#5,%d4

loc_3A83A:
		addl	%d3,%d1
		swap	%d1
		movew	%d1,-(%a5)
		swap	%d1
		addl	%d2,%d1
		dbf	%d4,loc_3A83A
		movemw	(%a5),%d1-%d6
		movew	%d2,(%a5)+
		movew	%d6,(%a5)+
		movew	%d1,(%a5)+
		movew	%d4,(%a5)+
		movew	%d3,(%a5)+
		movew	%d5,(%a5)
		lea	0xC(%a1),%a5
		movel	%d0,%d1
		movel	%d1,%d2
		asrl	#1,%d2
		moveq	#2,%d3

loc_3A864:
		swap	%d1
		movew	%d1,(%a5)+
		swap	%d1
		addl	%d2,%d1
		dbf	%d3,loc_3A864
		movew	(Events_bg+0x00):w,%d1
		lsrw	#3,%d1
		andiw	#0x3E,%d1
		lea	(%a4,%d1.w),%a6
		swap	%d0
		moveq	#0x3E,%d1

loc_3A882:
		movew	(%a6)+,%d2
		addw	%d0,%d2
		movew	%d2,(%a5)+
		dbf	%d1,loc_3A882
		rts
/*  End of function sub_3A81E */


/*  =============== S U B R O U T I N E ======================================= */


BPZ_Deformation:
		movew	(Camera_Y_pos_copy):w,%d0
		bsrs	sub_3A8B6
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_Y_pos_P2_copy):w,%d0
		bsrs	sub_3A8B6
		movew	%d0,(_unkEE74):w
		lea	(HScroll_table+0x00E):w,%a1
		movew	(Events_fg_1):w,%d0
		bsrs	sub_3A8C2
		lea	(HScroll_table+0x10E):w,%a1
		movew	(_unkEEBA):w,%d0
		bsrs	sub_3A8C2
/*  End of function BPZ_Deformation */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A8B6:
		subiw	#0x2C8,%d0
		asrw	#1,%d0
		addiw	#0x90,%d0
		rts
/*  End of function sub_3A8B6 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A8C2:
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#3,%d1
		moveq	#6,%d2

loc_3A8CE:
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		dbf	%d2,loc_3A8CE
		rts
/*  End of function sub_3A8C2 */


/*  =============== S U B R O U T I N E ======================================= */


DPZ_Deformation:
		movew	(Camera_Y_pos_copy):w,%d0
		bsrs	sub_3A912
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_Y_pos_P2_copy):w,%d0
		bsrs	sub_3A912
		addiw	#0x80,%d0
		movew	%d0,(_unkEE74):w
		movew	(Events_fg_1):w,%d0
		bsrs	sub_3A91C
		movew	%d0,(Camera_X_pos_BG_copy):w
		movew	%d1,(Events_bg+0x10):w
		movew	(_unkEEBA):w,%d0
		bsrs	sub_3A91C
		movew	%d0,(_unkEE70):w
		movew	%d1,(Events_bg+0x12):w
		rts
/*  End of function DPZ_Deformation */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A912:
		subiw	#0x148,%d0
		asrw	#4,%d0
		addqw	#8,%d0
		rts
/*  End of function sub_3A912 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A91C:
		asrw	#1,%d0
		movew	%d0,%d1
		asrw	#2,%d1
		rts
/*  End of function sub_3A91C */


/*  =============== S U B R O U T I N E ======================================= */


CGZ_Deformation:
		movew	(Events_bg+0x02):w,%d0
		bsrs	sub_3A94C
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Events_bg+0x06):w,%d0
		bsrs	sub_3A94C
		movew	%d0,(_unkEE74):w
		lea	(HScroll_table+0x00A):w,%a1
		movew	(Events_fg_1):w,%d0
		bsrs	sub_3A95C
		lea	(HScroll_table+0x10A):w,%a1
		movew	(_unkEEBA):w,%d0
		bsrs	sub_3A95C
/*  End of function CGZ_Deformation */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A94C:
		bmis	loc_3A958
		movew	(Events_bg+0x08):w,%d1
		muluw	%d1,%d0
		swap	%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_3A958:
		moveq	#0,%d0
		rts
/*  End of function sub_3A94C */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A95C:
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#2,%d1
		moveq	#3,%d2

loc_3A968:
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		dbf	%d2,loc_3A968
		asrl	#2,%d1
		swap	%d1
		addiw	#0x100,%d1
		movew	%d1,-(%a1)
		rts
/*  End of function sub_3A95C */


/*  =============== S U B R O U T I N E ======================================= */


EMZ_Deformation:
		movew	(Camera_Y_pos_copy):w,%d0
		bsrs	sub_3A9A8
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_Y_pos_P2_copy):w,%d0
		bsrs	sub_3A9A8
		movew	%d0,(_unkEE74):w
		lea	(HScroll_table):w,%a1
		movew	(Events_fg_1):w,%d0
		bsrs	sub_3A9BE
		lea	(HScroll_table+0x100):w,%a1
		movew	(_unkEEBA):w,%d0
		bsrs	sub_3A9BE
/*  End of function EMZ_Deformation */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A9A8:
		subiw	#0x148,%d0
		swap	%d0
		clrw	%d0
		movel	%d0,%d1
		asrl	#2,%d1
		subl	%d1,%d0
		swap	%d0
		addiw	#0x48,%d0
		rts
/*  End of function sub_3A9A8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3A9BE:
		swap	%d0
		clrw	%d0
		asrl	#3,%d0
		movel	%d0,%d1
		swap	%d0
		movew	%d0,0xE(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,0xC(%a1)
		movew	%d0,0x10(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,6(%a1)
		movew	%d0,0xA(%a1)
		movew	%d0,0x12(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,(%a1)
		movew	%d0,4(%a1)
		movew	%d0,8(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,2(%a1)
		rts
/*  End of function sub_3A9BE */

/*  --------------------------------------------------------------------------- */
Comp_ScreenInitArray:
		.word  0x3FF, 0x1FF, 0x1F0,   0xC, 0x100, 0x100,   0xF,  0x40
		.word  0x1FF, 0x3FF, 0x3F0,  0x1C,  0x80, 0x200,  0x1F,  0x20
		.word  0x3FF, 0x1FF, 0x1F0,   0xC, 0x100, 0x100,   0xF,  0x40
		.word  0x3FF,  0xFF,  0xF0,    4, 0x100, 0x100,   0xF,  0x40
		.word  0x3FF, 0x1FF, 0x1F0,   0xC, 0x100, 0x100,   0xF,  0x40
ALZ_BGDeformArray:
		.word  0x18,   8,   8,   8,   8,   8, 0x2E,   6,  0xD,0x803F,0x7FFF
BPZ_DeformArray:.word  0x88, 0x16,  0xA, 0x28, 0x10,   8,0x7FFF
CGZ_DeformArray:.word  0x50,   8, 0x10, 0x10,0x7FFF
EMZ_DeformArray:.word  0x10, 0x10, 0x10, 0x10,   8,  0xC, 0x24, 0x38, 0x20,0x7FFF
/*  --------------------------------------------------------------------------- */

AIZ1_ScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

AIZ1_ScreenEvent:
		jsr	DrawTilesAsYouMove(%pc)
		movew	(Events_fg_4):w,%d0
		beqw	locret_3AB48
		cmpiw	#0x2D30,(Camera_X_pos_copy):w
		bccw	AIZ1SE_ChangeChunk1
		cmpiw	#0x39,%d0
		bccw	AIZ1SE_ChangeChunk1
		cmpiw	#0x34,%d0
		bcss	loc_3AACC
		bsrw	AIZ1SE_ChangeChunk2
		bras	loc_3AAE2
/*  --------------------------------------------------------------------------- */

loc_3AACC:
		cmpiw	#0x24,%d0
		bcss	loc_3AAD8
		bsrw	AIZ1SE_ChangeChunk3
		bras	loc_3AAE2
/*  --------------------------------------------------------------------------- */

loc_3AAD8:
		cmpiw	#0x14,%d0
		bcss	loc_3AAE2
		bsrw	AIZ1SE_ChangeChunk4

loc_3AAE2:
		lea	AIZ_TreeRevealArray(%pc),%a6
		btst	#0,%d0
		bnes	loc_3AAF0
		lea	0x10(%a6),%a6

loc_3AAF0:
		subqw	#1,%d0
		lsrw	#1,%d0
		movew	%d0,(Events_bg+0x00):w
		cmpiw	#3,%d0
		bcss	loc_3AB04
		movew	#2,(Events_bg+0x00):w

loc_3AB04:
		lslw	#4,%d0
		negw	%d0
		addiw	#0x470,%d0

loc_3AB0C:
		cmpw	(Camera_Y_pos_rounded):w,%d0
		bccs	loc_3AB22
		lea	0x20(%a6),%a6
		addiw	#0x10,%d0
		subqw	#1,(Events_bg+0x00):w
		bpls	loc_3AB0C
		bras	AIZ1SE_ChangeChunk1
/*  --------------------------------------------------------------------------- */

loc_3AB22:
		movew	#0x2C80,%d1
		moveq	#0x10,%d6
		movel	%a0,-(%sp)
		jsr	Setup_TileRowDraw(%pc)
		moveal	(%sp)+,%a0
		subiw	#0x280,%d0
		moveq	#0,%d1
		moveq	#0xF,%d6
		bsrs	AIZ_TreeReveal
		lea	0x10(%a6),%a6
		addiw	#0x290,%d0
		subqw	#1,(Events_bg+0x00):w
		bpls	loc_3AB0C

locret_3AB48:
		rts
/*  --------------------------------------------------------------------------- */

AIZ1SE_ChangeChunk1:
		clrw	(Events_fg_4):w
		moveaw	0x14(%a3),%a1
		moveaw	(%a3),%a5
		moveb	(%a5),0x59(%a1)
		moveb	1(%a5),0x5A(%a1)

/*  =============== S U B R O U T I N E ======================================= */


AIZ1SE_ChangeChunk2:
		moveaw	0x18(%a3),%a1
		moveaw	4(%a3),%a5
		moveb	(%a5),0x59(%a1)
		moveb	1(%a5),0x5A(%a1)
/*  End of function AIZ1SE_ChangeChunk2 */


/*  =============== S U B R O U T I N E ======================================= */


AIZ1SE_ChangeChunk3:
		moveaw	0x1C(%a3),%a1
		moveaw	8(%a3),%a5
		moveb	(%a5),0x59(%a1)
		moveb	1(%a5),0x5A(%a1)
/*  End of function AIZ1SE_ChangeChunk3 */


/*  =============== S U B R O U T I N E ======================================= */


AIZ1SE_ChangeChunk4:
		moveaw	0x20(%a3),%a1
		moveaw	0xC(%a3),%a5
		moveb	(%a5),0x59(%a1)
		moveb	1(%a5),0x5A(%a1)
		rts
/*  End of function AIZ1SE_ChangeChunk4 */


/*  =============== S U B R O U T I N E ======================================= */


AIZ_TreeReveal:
		asrw	#4,%d1
		movew	%d1,%d2
		asrw	#3,%d1
		addw	%d2,%d2
		andiw	#0xE,%d2
		addqw	#4,%a0
		moveal	%a0,%a1
		lea	0x40(%a0),%a0
		jsr	Get_LevelAddrChunkRow(%pc)

loc_3ABAE:
		movew	(%a5,%d2.w),%d3
		movew	%d3,%d4
		andiw	#0x3FF,%d3
		lslw	#3,%d3
		movel	(%a2,%d3.w),%d5
		movel	4(%a2,%d3.w),%d3
		btst	#0xB,%d4
		beqs	loc_3ABD6
		eoril	#0x10001000,%d5
		eoril	#0x10001000,%d3
		exg	%d3,%d5

loc_3ABD6:
		btst	#0xA,%d4
		beqs	loc_3ABEC
		eoril	#0x8000800,%d5
		eoril	#0x8000800,%d3
		swap	%d5
		swap	%d3

loc_3ABEC:
		tstb	(%a6)+
		beqs	loc_3ABF2
		movel	%d5,(%a1)

loc_3ABF2:
		addqw	#4,%a1
		tstb	0xF(%a6)
		beqs	loc_3ABFC
		movel	%d3,(%a0)

loc_3ABFC:
		addqw	#4,%a0
		addqw	#2,%d2
		andiw	#0xE,%d2
		bnes	loc_3AC0C
		addqw	#1,%d1
		jsr	Get_ChunkRow(%pc)

loc_3AC0C:
		dbf	%d6,loc_3ABAE
		clrw	(%a0)
		rts
/*  End of function AIZ_TreeReveal */

/*  --------------------------------------------------------------------------- */

Obj_AIZ1TreeRevealControl:
		tstw	0x2E(%a0)
		beqs	loc_3AC26
		tstw	(Events_fg_4):w
		bnes	loc_3AC26
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3AC26:
		subqw	#1,0x2E(%a0)
		movew	#0x480,%d0
		subw	(Player_1+y_pos):w,%d0
		lsrw	#3,%d0
		addqw	#3,%d0
		cmpw	(Events_fg_4):w,%d0
		bccs	loc_3AC44
		btst	#0,0x2F(%a0)
		beqs	locret_3AC48

loc_3AC44:
		addqw	#1,(Events_fg_4):w

locret_3AC48:
		rts
/*  --------------------------------------------------------------------------- */
AIZ_TreeRevealArray:
		.byte  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
		.byte  0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0
		.byte  0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0
		.byte  0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0
		.byte  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0
		.byte  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
		.byte  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
/*  --------------------------------------------------------------------------- */

AIZ1_BackgroundInit:
		cmpiw	#0x1300,(Camera_X_pos_copy):w
		bccs	loc_3ACE6
		lea	(HScroll_table):w,%a1
		moveq	#9,%d0

loc_3ACC8:
		clrl	(%a1)+
		dbf	%d0,loc_3ACC8
		jsr	AIZ1_IntroDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		jsr	Refresh_PlaneFull(%pc)
		lea	AIZ1_IntroDeformArray(%pc),%a4
		lea	(HScroll_table+0x028):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3ACE6:
		movew	#8,(Events_routine_bg):w
		jsr	AIZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		clrl	(HScroll_table):w
		movew	%d2,(HScroll_table+0x006):w
		lea	AIZ1_BGDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	Refresh_PlaneTileDeform(%pc)
		jmp	AIZ1_ApplyDeformWater(%pc)
/*  --------------------------------------------------------------------------- */

AIZ1_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3AD14(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3AD14:
		braw	AIZ1BGE_Intro
/*  --------------------------------------------------------------------------- */
		braw	AIZ1BGE_NormalRefresh
/*  --------------------------------------------------------------------------- */
		braw	AIZ1BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	AIZ1BGE_FireTransition
/*  --------------------------------------------------------------------------- */
		braw	AIZ1BGE_FireRefresh
/*  --------------------------------------------------------------------------- */
		braw	AIZ1BGE_Finish
/*  --------------------------------------------------------------------------- */

AIZ1BGE_Intro:
		tstw	(Events_fg_5):w
		beqs	loc_3AD66
		tstw	(Kos_decomp_queue_count):w
		bnew	loc_3AD66
		clrw	(Events_fg_5):w
		jsr	AIZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		clrl	(HScroll_table):w
		movew	%d2,(HScroll_table+0x006):w
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3AD8A
/*  --------------------------------------------------------------------------- */

loc_3AD66:
		jsr	AIZ1_IntroDeform(%pc)
		lea	AIZ1_IntroDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		moveq	#0x20,%d6
		moveq	#0xA,%d5
		jsr	Draw_BG(%pc)
		lea	AIZ1_IntroDeformArray(%pc),%a4
		lea	(HScroll_table+0x028):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

AIZ1BGE_NormalRefresh:
		jsr	AIZ1_Deform(%pc)

loc_3AD8A:
		lea	AIZ1_BGDrawArray(%pc),%a4
		lea	(HScroll_table-0x04):w,%a5
		movew	(Camera_Y_pos_BG_copy):w,%d1
		jsr	Draw_PlaneVertBottomUpComplex(%pc)
		bpls	loc_3ADAC
		addqw	#4,(Events_routine_bg):w
		bras	loc_3ADAC
/*  --------------------------------------------------------------------------- */

AIZ1BGE_Normal:
		tstw	(Events_fg_5):w
		bnes	AIZ1_AIZ2_Transition
		jsr	AIZ1_Deform(%pc)

loc_3ADAC:
		lea	AIZ1_BGDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		moveq	#0x20,%d6
		moveq	#2,%d5
		jsr	Draw_BG(%pc)
		jmp	AIZ1_ApplyDeformWater(%pc)
/*  --------------------------------------------------------------------------- */

AIZ1_AIZ2_Transition:
		clrw	(Events_fg_5):w
		lea	(Normal_palette_line_4+2):w,%a1
		movel	#0x4E006E,(%a1)+
		movel	#0xAE00CE,(%a1)+
		movel	#0x2EE0AEE,(%a1)
		movel	#0x200000,(Camera_Y_pos_BG_copy):w
		movew	#0x10,(Camera_Y_pos_BG_rounded):w
		movew	#0x68,(Events_bg+0x00):w
		movew	#4,(Special_V_int_routine):w
		addqw	#4,(Events_routine_bg):w

AIZ1BGE_FireTransition:
		tstw	(Events_bg+0x02):w
		bnes	loc_3AE18
		movew	(Events_bg+0x00):w,%d0
		swap	%d0
		clrw	%d0
		subl	(Camera_Y_pos_BG_copy):w,%d0
		asrl	#5,%d0
		addl	%d0,(Camera_Y_pos_BG_copy):w
		cmpil	#0x1400,%d0
		bccs	loc_3AE1C

loc_3AE18:
		jsr	AIZ1_FireRise(%pc)

loc_3AE1C:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		movew	#0x1000,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		cmpiw	#0x190,(Camera_Y_pos_BG_copy):w
		bcsw	loc_3AECA
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		lea	(AIZ2_128x128_Kos):l,%a1
		lea	(RAM_start):l,%a2
		jsr	(Queue_Kos):l
		lea	(AIZ2_16x16_Primary_Kos):l,%a1
		lea	(Block_table):w,%a2
		jsr	(Queue_Kos):l
		lea	(AIZ2_16x16_Secondary_Kos):l,%a1
		lea	(Block_table+0xAB8):w,%a2
		jsr	(Queue_Kos):l
		lea	(AIZ2_8x8_Primary_KosM):l,%a1
		movew	#0,%d2
		jsr	(Queue_Kos_Module):l
		lea	(AIZ2_8x8_Secondary_KosM):l,%a1
		movew	#0x3F80,%d2
		jsr	(Queue_Kos_Module):l
		lea	(PLC_SpikesSprings):l,%a1
		jsr	(Load_PLC_Raw):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		jsr	(Create_New_Sprite):l
		bnes	loc_3AEB8
		movel	#Obj_AIZTransitionFloor,(%a1)
		movew	#0x2FB0,0x10(%a1)
		movew	#0x3A0,0x14(%a1)

loc_3AEB8:
		movew	#0xF0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3AED6
/*  --------------------------------------------------------------------------- */

loc_3AECA:
		jsr	AIZTrans_WavyFlame(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

AIZ1BGE_FireRefresh:
		jsr	AIZ1_FireRise(%pc)

loc_3AED6:
		lea	(Level_layout_main):w,%a3
		movew	#0xC000,%d7
		movew	#0x180,%d1
		moveq	#0,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3AEF6
		addqw	#2,%a3
		movew	#0xE000,%d7
		addqw	#4,(Events_routine_bg):w
		bras	loc_3AF02
/*  --------------------------------------------------------------------------- */

loc_3AEF6:
		jsr	AIZTrans_WavyFlame(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

AIZ1BGE_Finish:
		jsr	AIZ1_FireRise(%pc)

loc_3AF02:
		tstb	(Kos_modules_left):w
		bnew	loc_3AFCA
		movew	#1,(Current_zone_and_act):w
		clrb	(Dynamic_resize_routine):w
		clrb	(Object_load_routine):w
		clrb	(Rings_manager_routine):w
		clrb	(Boss_flag):w
		clrb	(Respawn_table_keep):w
		jsr	Clear_Switches(%pc)
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		jsr	(Load_Level):l
		jsr	(LoadSolids):l
		jsr	(CheckLevelForWater):l
		moveq	#0xB,%d0
		jsr	(LoadPalette_Immediate):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		lea	(Normal_palette_line_4+2):w,%a1
		movel	#0x4E006E,(%a1)+
		movel	#0xAE00CE,(%a1)+
		movel	#0x2EE0AEE,(%a1)
		movew	#0x2F00,%d0
		movew	#0x80,%d1
		subw	%d0,(Player_1+x_pos):w
		subw	%d1,(Player_1+y_pos):w
		subw	%d0,(Player_2+x_pos):w
		subw	%d1,(Player_2+y_pos):w
		subw	%d0,(Camera_X_pos):w
		subw	%d1,(Camera_Y_pos):w
		subw	%d0,(Camera_X_pos_copy):w
		subw	%d1,(Camera_Y_pos_copy):w
		movel	#0x100010,%d0
		movel	#0x260,%d1
		movel	%d0,(Camera_min_X_pos):w
		movel	%d0,(Camera_target_min_X_pos):w
		movel	%d1,(Camera_min_Y_pos):w
		movel	%d1,(Camera_target_min_Y_pos):w
		movew	(Camera_X_pos_copy):w,(Events_fg_0):w
		movew	(Camera_X_pos_copy):w,(Events_fg_1):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		clrw	(Events_routine_bg):w

loc_3AFCA:
		jsr	AIZTrans_WavyFlame(%pc)
		jmp	PlainDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


AIZ1_IntroDeform:
		movew	(Camera_Y_pos_copy):w,(Camera_Y_pos_BG_copy):w
		movew	(Events_fg_1):w,%d0
		bmis	loc_3AFE2
		movew	(Camera_X_pos_copy):w,%d0

loc_3AFE2:
		asrw	#1,%d0
		lea	(HScroll_table+0x028):w,%a1
		cmpiw	#0x580,%d0
		blts	loc_3AFF8
		moveq	#0x24,%d1

loc_3AFF0:
		movew	%d0,(%a1)+
		dbf	%d1,loc_3AFF0
		bras	loc_3B018
/*  --------------------------------------------------------------------------- */

loc_3AFF8:
		movew	%d0,(%a1)+
		subiw	#0x580,%d0
		swap	%d0
		clrw	%d0
		movel	%d0,%d1
		asrl	#5,%d1
		moveq	#0x23,%d2

loc_3B008:
		addl	%d1,%d0
		movel	%d0,%d3
		swap	%d3
		addiw	#0x580,%d3
		movew	%d3,(%a1)+
		dbf	%d2,loc_3B008

loc_3B018:
		lea	(HScroll_table+0x028):w,%a1
		lea	(HScroll_table):w,%a5
		movew	(%a1)+,%d0
		bpls	loc_3B026
		moveq	#0,%d0

loc_3B026:
		movew	%d0,(%a5)
		addqw	#4,%a5
		moveq	#8,%d0

loc_3B02C:
		movew	(%a1),%d1
		bpls	loc_3B032
		moveq	#0,%d1

loc_3B032:
		movew	%d1,(%a5)
		addqw	#8,%a1
		addqw	#4,%a5
		dbf	%d0,loc_3B02C
		rts
/*  End of function AIZ1_IntroDeform */


/*  =============== S U B R O U T I N E ======================================= */


AIZ1_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		asrw	#1,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		subiw	#0x1300,%d0
		swap	%d0
		clrw	%d0
		asrl	#5,%d0
		movel	%d0,%d2
		addl	%d0,%d0
		movel	%d0,%d1
		lsll	#3,%d0
		subl	%d1,%d0
		lea	(HScroll_table+0x030):w,%a1
		swap	%d0
		movew	%d0,(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,-0x2C(%a1)
		movew	%d0,2(%a1)
		movew	%d0,0xA(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,4(%a1)
		movew	%d0,8(%a1)
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,6(%a1)
		lea	(HScroll_table+0x016):w,%a1
		movel	%d2,%d0
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		movel	(HScroll_table+0x03C):w,%d3
		addil	#0x2000,(HScroll_table+0x03C):w
		asrl	#1,%d0
		moveq	#5,%d1

loc_3B0AE:
		addl	%d3,%d0
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		addl	%d2,%d0
		dbf	%d1,loc_3B0AE
		lea	(HScroll_table+0x016):w,%a1
		movel	%d2,%d0
		asrl	#3,%d2
		moveq	#0xC,%d1

loc_3B0C6:
		addl	%d2,%d0
		swap	%d0
		movew	%d0,(%a1)+
		swap	%d0
		dbf	%d1,loc_3B0C6
		rts
/*  End of function AIZ1_Deform */

/*  --------------------------------------------------------------------------- */

AIZ1_ApplyDeformWater:
		lea	AIZ1_DeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		movew	(Water_level):w,%d1
		subw	(Camera_Y_pos_copy):w,%d1
		cmpiw	#0xE0,%d1
		blts	loc_3B0EE
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3B0EE:
		subqw	#1,%d1
		jsr	ApplyDeformation3(%pc)
		movel	%a1,-(%sp)
		lea	(HScroll_table+0x040):w,%a1
		lea	AIZ1_WaterFGDeformDelta(%pc),%a6
		movew	(Water_level):w,%d0
		subiw	#0xDE,%d1
		negw	%d1
		movew	(Level_frame_counter):w,%d2
		addw	%d0,%d2
		addw	%d0,%d2
		andiw	#0x7E,%d2
		addaw	%d2,%a6
		movew	(Camera_X_pos_copy):w,%d6
		negw	%d6
		jsr	MakeFGDeformArray(%pc)
		moveal	(%sp)+,%a1
		lea	(HScroll_table+0x040):w,%a2
		lea	AIZ1_DeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		lea	AIZ1_WaterBGDeformDelta(%pc),%a6
		movew	(Water_level):w,%d0
		subw	(Camera_Y_pos_copy):w,%d0
		addw	(Camera_Y_pos_BG_copy):w,%d0
		movew	(Level_frame_counter):w,%d2
		asrw	#1,%d2
		addw	%d0,%d2
		addw	%d0,%d2
		andiw	#0x7E,%d2
		addaw	%d2,%a6
		jmp	ApplyFGandBGDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


AIZ1_FireRise:
		cmpib	#6,(Player_1+routine):w
		bccs	locret_3B178
		moveq	#0,%d0
		movew	(Events_bg+0x02):w,%d0
		addiw	#0x280,%d0
		cmpiw	#0xA000,%d0
		bcss	loc_3B16E
		movew	#0xA000,%d0

loc_3B16E:
		movew	%d0,(Events_bg+0x02):w
		lsll	#4,%d0
		addl	%d0,(Camera_Y_pos_BG_copy):w

locret_3B178:
		rts
/*  End of function AIZ1_FireRise */


/*  =============== S U B R O U T I N E ======================================= */


AIZTrans_WavyFlame:
		cmpib	#6,(Player_1+routine):w
		bccs	locret_3B1C4
		addqw	#6,(_unkEE8E):w
		movew	(_unkEE8E):w,%d0
		andiw	#0x60,%d0
		addiw	#0x1000,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		lea	(Vscroll_buffer):w,%a1
		lea	AIZ_FlameVScroll(%pc),%a5
		movew	(Camera_Y_pos_copy):w,%d0
		swap	%d0
		movew	(Camera_Y_pos_BG_copy):w,%d1
		movew	(Level_frame_counter):w,%d2
		asrw	#2,%d2
		moveq	#0x13,%d3

loc_3B1B0:
		addqw	#2,%d2
		andiw	#0xF,%d2
		moveb	(%a5,%d2.w),%d0
		extw	%d0
		addw	%d1,%d0
		movel	%d0,(%a1)+
		dbf	%d3,loc_3B1B0

locret_3B1C4:
		rts
/*  End of function AIZTrans_WavyFlame */

/*  --------------------------------------------------------------------------- */

Obj_AIZTransitionFloor:
		tstb	(Current_act):w
		beqs	loc_3B1D8
		movew	#0x7F00,0x10(%a0)
		movel	#Delete_Current_Sprite,(%a0)

loc_3B1D8:
		moveb	#-0x60,7(%a0)
		bset	#7,0x2A(%a0)
		movew	#0xAB,%d1
		moveq	#0x10,%d2
		moveq	#0x10,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull2):l
/*  --------------------------------------------------------------------------- */
AIZ1_IntroDrawArray:
		.word 0x3E0, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x7FFF
AIZ1_IntroDeformArray:
		.word 0x3E0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4
		.word 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0x7FFF
AIZ1_BGDrawArray:.word 0x220, 0x7FFF
AIZ1_DeformArray:.word 0xD0, 0x20, 0x30, 0x30, 0x10, 0x10, 0x10, 0x800D, 0xF, 6, 0xE, 0x50, 0x20, 0x7FFF
AIZ_FlameVScroll:.byte 0, 0xFF, 0xFE, 0xFB, 0xF8, 0xF6, 0xF3, 0xF2, 0xF1, 0xF2, 0xF3, 0xF6, 0xF9, 0xFB, 0xFE, 0xFF
/*  --------------------------------------------------------------------------- */

AIZ2_ScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

AIZ2_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		movew	(Events_routine_fg):w,%d0
		jmp	loc_3B29C(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3B29C:
		braw	AIZ2SE_Normal
/*  --------------------------------------------------------------------------- */
		braw	AIZ2SE_ShipRefresh
/*  --------------------------------------------------------------------------- */
		braw	AIZ2SE_ShipDraw
/*  --------------------------------------------------------------------------- */
		braw	AIZ2SE_EndRefresh
/*  --------------------------------------------------------------------------- */
		braw	AIZ2SE_End
/*  --------------------------------------------------------------------------- */

AIZ2SE_Normal:
		tstw	(Events_fg_4):w
		beqw	DrawTilesAsYouMove
		clrw	(Events_fg_4):w
		movew	#0x180,(Draw_delayed_position):w
		movew	#5,(Draw_delayed_rowcount):w
		clrl	(HScroll_table+0x1F8):w
		movew	(Camera_X_pos_copy):w,%d0
		andiw	#-0x10,%d0
		subiw	#0x10,%d0
		movew	%d0,(HScroll_table+0x1FE):w
		moveb	#1,(Scroll_lock):w
		movew	#4,(Special_.balign 2ts_routine):w
		addqw	#4,(Events_routine_fg):w

AIZ2SE_ShipRefresh:
		movew	#0x4380,%d1
		movew	(Camera_Y_pos_copy):w,%d2
		subiw	#0x10,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bplw	loc_3B368
		movew	#0x4020,%d0
		movew	%d0,(HScroll_table+0x1F6):w
		movew	%d0,(_unkEE98):w
		clrw	(_unkEE98+2):w
		movew	(Camera_Y_pos_copy):w,%d0
		addiw	#0x8F0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(_unkEE9C):w
		movew	%d0,(_unkEEA2):w
		jsr	(Create_New_Sprite):l
		bnes	loc_3B332
		movel	#Obj_AIZBattleship,(%a1)

loc_3B332:
		st	(Events_bg+0x04):w
		movel	#HInt6,(H_int_addr):w
		clrb	(Water_flag):w
		moveb	#0x40,(H_int_counter):w
		addqw	#4,(Events_routine_fg):w

AIZ2SE_ShipDraw:
		tstw	(Events_fg_4):w
		bnes	loc_3B380
		lea	AIZ2SE_BGShipDrawArray2(%pc),%a4
		lea	(HScroll_table+0x1F4):w,%a6
		movew	(_unkEE98):w,(%a6)
		moveq	#2,%d5
		movew	(_unkEEA2):w,%d6
		jsr	Draw_BGNoVert(%pc)

loc_3B368:
		lea	AIZ2SE_BGShipDrawArray1(%pc),%a4
		lea	(HScroll_table+0x1F8):w,%a6
		movew	(Camera_X_pos_copy):w,4(%a6)
		moveq	#2,%d5
		movew	(Camera_Y_pos_rounded):w,%d6
		jmp	Draw_BGNoVert(%pc)
/*  --------------------------------------------------------------------------- */

loc_3B380:
		clrw	(Events_fg_4):w
		movew	#0x170,(Draw_delayed_position):w
		movew	#4,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_fg):w

AIZ2SE_EndRefresh:
		movew	#0x4380,%d1
		movew	(Camera_Y_pos_copy):w,%d2
		subiw	#0x10,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3B368
		movew	(Camera_X_pos_copy):w,%d0
		andiw	#-0x10,%d0
		subiw	#0x10,%d0
		movew	%d0,(Camera_X_pos_rounded):w
		movew	#0x46C0,(Events_bg+0x02):w
		clrw	(Events_bg+0x04):w
		moveb	#-1,(H_int_counter):w
		addqw	#4,(Events_routine_fg):w

AIZ2SE_End:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

HInt6:
		movew	#0x8AFF,(VDP_control_port):l
		movel	#0x40000010,(VDP_control_port):l
		movew	(Camera_Y_pos_copy):w,(VDP_data_port):l
		rte
/*  --------------------------------------------------------------------------- */
AIZ2SE_BGShipDrawArray1:.word 0x180
		.word 0x7FFF
AIZ2SE_BGShipDrawArray2:.word 0xA80
		.word 0x7FFF
/*  --------------------------------------------------------------------------- */

AIZ2_BackgroundInit:
		movew	(Camera_X_pos_copy):w,(Events_fg_0):w
		movew	(Camera_X_pos_copy):w,(Events_fg_1):w
		movew	#0xC,(Events_routine_bg):w
		cmpiw	#0x3E80,(Camera_X_pos_copy):w
		bcss	loc_3B418
		movew	#0x14,(Events_routine_bg):w
		movew	#0x4440,(Events_bg+0x02):w

loc_3B418:
		jsr	AIZ2_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		jmp	AIZ2_ApplyDeform(%pc)
/*  --------------------------------------------------------------------------- */

AIZ2_BackgroundEvent:
		lea	(Events_fg_0):w,%a1
		movew	(Camera_X_pos_copy):w,%d0
		movew	#0x100,%d2
		movew	#0x200,%d3
		jsr	Adjust_BGDuringLoop(%pc)
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3B446(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3B446:
		braw	AIZ2BGE_FireRedraw
/*  --------------------------------------------------------------------------- */
		braw	AIZ2BGE_WaitFire
/*  --------------------------------------------------------------------------- */
		braw	AIZ2BGE_BGRedraw
/*  --------------------------------------------------------------------------- */
		braw	AIZ2BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	AIZ2BGE_ShipRefresh
/*  --------------------------------------------------------------------------- */
		braw	AIZ2BGE_ShipMove
/*  --------------------------------------------------------------------------- */

AIZ2BGE_FireRedraw:
		lea	(Level_layout_main):w,%a3
		movew	#0xC000,%d7
		movew	(Camera_X_pos_copy):w,%d1
		movew	(Camera_Y_pos_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bmis	loc_3B480
		jsr	AIZ1_FireRise(%pc)
		jsr	AIZTrans_WavyFlame(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3B480:
		addqw	#2,%a3
		movew	#-0x2000,%d7
		clrw	(Events_bg+0x00):w
		addqw	#4,(Events_routine_bg):w

AIZ2BGE_WaitFire:
		jsr	AIZ1_FireRise(%pc)
		jsr	AIZTrans_WavyFlame(%pc)
		tstw	(Events_bg+0x00):w
		bnes	loc_3B4CC
		movew	(Camera_Y_pos_BG_copy):w,%d0
		andiw	#0x7F,%d0
		cmpiw	#0x20,%d0
		bcss	loc_3B4B0
		cmpiw	#0x30,%d0
		bcss	loc_3B4B4

loc_3B4B0:
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3B4B4:
		addiw	#0x180,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		andw	(Camera_Y_pos_mask):w,%d0
		subiw	#0x10,%d0
		movew	%d0,(Camera_Y_pos_BG_rounded):w
		st	(Events_bg+0x00):w

loc_3B4CC:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		movew	#0x200,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		cmpiw	#0x310,(Camera_Y_pos_BG_copy):w
		bcss	loc_3B544
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		moveq	#0xC,%d0
		jsr	(Load_PLC):l
		jsr	(LoadEnemyArt):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		lea	(Normal_palette_line_4+2):w,%a1
		movel	#0x8EE00AA,(%a1)+
		movel	#0x8E004E,(%a1)+
		movel	#0x2E000C,(%a1)
		movew	#0x6000,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		jsr	AIZ2_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		movew	#0xC,(Special_V_int_routine):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3B56E
/*  --------------------------------------------------------------------------- */

loc_3B544:
		jsr	AIZ2_ApplyDeform(%pc)
		lea	(H_scroll_buffer+2):w,%a1
		movew	(Camera_X_pos_BG_copy):w,%d0
		negw	%d0
		moveq	#0x37,%d1

loc_3B554:
		movew	%d0,(%a1)
		addqw	#4,%a1
		movew	%d0,(%a1)
		addqw	#4,%a1
		movew	%d0,(%a1)
		addqw	#4,%a1
		movew	%d0,(%a1)
		addqw	#4,%a1
		dbf	%d1,loc_3B554
		rts
/*  --------------------------------------------------------------------------- */

AIZ2BGE_BGRedraw:
		jsr	AIZ2_Deform(%pc)

loc_3B56E:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3B5C8
		addqw	#4,(Events_routine_bg):w
		bras	loc_3B5C8
/*  --------------------------------------------------------------------------- */

AIZ2BGE_Normal:
		jsr	AIZ2_Deform(%pc)
		tstw	(Events_fg_5):w
		beqs	loc_3B5C8
		clrw	(Events_fg_5):w
		movew	#0xA8,%d0
		cmpiw	#0x400,(Camera_Y_pos_copy):w
		bcss	loc_3B59E
		movew	#-0x198,%d0

loc_3B59E:
		movew	%d0,(Events_bg+0x16):w
		addw	%d0,(Camera_Y_pos_BG_copy):w
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		movew	#0x4440,(Events_bg+0x02):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3B5E4
/*  --------------------------------------------------------------------------- */

loc_3B5C8:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		jsr	AIZ2_ApplyDeform(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

AIZ2BGE_ShipRefresh:
		jsr	AIZ2_Deform(%pc)

loc_3B5E4:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3B5FA
		addqw	#4,(Events_routine_bg):w
		bras	loc_3B5FA
/*  --------------------------------------------------------------------------- */

AIZ2BGE_ShipMove:
		jsr	AIZ2_Deform(%pc)

loc_3B5FA:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		jsr	AIZ2_ApplyDeform(%pc)
		tstw	(Events_bg+0x04):w
		beqs	loc_3B622
		movew	(_unkEE9C):w,(V_scroll_value):w
		movew	(Camera_Y_pos_BG_copy):w,(V_scroll_value_BG):w
		addqw	#4,%sp

loc_3B622:
		jmp	ShakeScreen_Setup(%pc)

/*  =============== S U B R O U T I N E ======================================= */


AIZ2_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		movew	(Screen_shake_offset):w,%d1
		subw	%d1,%d0
		asrw	#1,%d0
		addw	%d1,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		cmpiw	#0x10,(Events_routine_bg):w
		bcss	loc_3B648
		movew	(Events_bg+0x16):w,%d0
		addw	%d0,(Camera_Y_pos_BG_copy):w

loc_3B648:
		movew	(Events_fg_1):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#5,%d1
		movel	%d1,%d2
		addl	%d1,%d1
		addl	%d2,%d1
		lea	(HScroll_table+0x1C0):w,%a1
		lea	AIZ2_BGDeformMake(%pc),%a5
		moveq	#0,%d2

loc_3B666:
		moveb	(%a5)+,%d3
		bmis	locret_3B67E
		extw	%d3
		swap	%d0

loc_3B66E:
		moveb	(%a5)+,%d2
		movew	%d0,(%a1,%d2.w)
		dbf	%d3,loc_3B66E
		swap	%d0
		addl	%d1,%d0
		bras	loc_3B666
/*  --------------------------------------------------------------------------- */

locret_3B67E:
		rts
/*  End of function AIZ2_Deform */


/*  =============== S U B R O U T I N E ======================================= */


AIZ2_ApplyDeform:
		lea	(HScroll_table):w,%a1
		lea	AIZ2_FGDeformDelta(%pc),%a6
		movew	(Camera_Y_pos_copy):w,%d0
		movew	#0xDF,%d1
		movew	(Level_frame_counter):w,%d2
		addw	%d0,%d2
		addw	%d0,%d2
		moveq	#0x3E,%d3
		movew	(Camera_X_pos_copy):w,%d6
		negw	%d6
		movew	(Water_level):w,%d4
		subw	%d0,%d4
		blss	loc_3B6CA
		cmpw	%d1,%d4
		bhis	loc_3B6D0
		movew	%d4,%d1
		subqw	#1,%d1
		andw	%d3,%d2
		addaw	%d2,%a6
		jsr	MakeFGDeformArray(%pc)
		movew	(Water_level):w,%d0
		subiw	#0xDE,%d1
		negw	%d1
		movew	(Level_frame_counter):w,%d2
		addw	%d0,%d2
		addw	%d0,%d2

loc_3B6CA:
		lea	AIZ1_WaterFGDeformDelta(%pc),%a6
		moveq	#0x7E,%d3

loc_3B6D0:
		andw	%d3,%d2
		addaw	%d2,%a6
		jsr	MakeFGDeformArray(%pc)
		lea	(H_scroll_buffer):w,%a1
		lea	(HScroll_table):w,%a2
		lea	AIZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x1C0):w,%a5
		lea	ALZ_AIZ2_BGDeformDelta(%pc),%a6
		movew	(Camera_Y_pos_BG_copy):w,%d0
		movew	#0xDF,%d1
		movew	(Level_frame_counter):w,%d2
		asrw	#1,%d2
		addw	%d0,%d2
		addw	%d0,%d2
		moveq	#0x3E,%d3
		movew	(Water_level):w,%d4
		subw	(Camera_Y_pos_copy):w,%d4
		blss	loc_3B73E
		cmpw	%d1,%d4
		bhis	loc_3B744
		movew	%d4,%d1
		subqw	#1,%d1
		andw	%d3,%d2
		addaw	%d2,%a6
		jsr	ApplyFGandBGDeformation(%pc)
		lea	AIZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x1C0):w,%a5
		movew	(Water_level):w,%d0
		subw	(Camera_Y_pos_copy):w,%d0
		addw	(Camera_Y_pos_BG_copy):w,%d0
		subiw	#0xDE,%d1
		negw	%d1
		movew	(Level_frame_counter):w,%d2
		asrw	#1,%d2
		addw	%d0,%d2
		addw	%d0,%d2

loc_3B73E:
		lea	AIZ1_WaterBGDeformDelta(%pc),%a6
		moveq	#0x7E,%d3

loc_3B744:
		andw	%d3,%d2
		addaw	%d2,%a6
		jsr	ApplyFGandBGDeformation(%pc)
		tstw	(Events_bg+0x04):w
		beqs	locret_3B772
		lea	(H_scroll_buffer):w,%a1
		movew	(_unkEE98):w,%d0
		negw	%d0
		moveq	#0xF,%d1

loc_3B75E:
		movew	%d0,(%a1)
		addqw	#4,%a1
		movew	%d0,(%a1)
		addqw	#4,%a1
		movew	%d0,(%a1)
		addqw	#4,%a1
		movew	%d0,(%a1)
		addqw	#4,%a1
		dbf	%d1,loc_3B75E

locret_3B772:
		rts
/*  End of function AIZ2_ApplyDeform */

/*  --------------------------------------------------------------------------- */

AIZ2_DoShipLoop:
		clrw	(Level_repeat_offset):w
		movew	(Camera_X_pos):w,%d0
		addqw	#4,%d0
		cmpw	(Events_bg+0x02):w,%d0
		bcss	loc_3B7A8
		movew	#0x200,%d1
		movew	%d1,(Level_repeat_offset):w
		subw	%d1,(Player_1+x_pos):w
		subw	%d1,(Player_2+x_pos):w
		subw	%d1,%d0
		movew	%d0,%d1
		andiw	#-0x10,%d1
		subiw	#0x10,%d1
		movew	%d1,(Camera_X_pos_rounded):w
		movew	%d1,(HScroll_table+0x1FE):w

loc_3B7A8:
		movew	%d0,(Camera_X_pos):w
		movew	%d0,(Camera_X_pos_copy):w
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_max_X_pos):w
		addiw	#0x18,%d0
		cmpw	(Player_1+x_pos):w,%d0
		blss	loc_3B7CE
		movew	%d0,(Player_1+x_pos):w
		movew	#0x400,(Player_1+ground_vel):w
		bras	locret_3B7DC
/*  --------------------------------------------------------------------------- */

loc_3B7CE:
		addiw	#0x88,%d0
		cmpw	(Player_1+x_pos):w,%d0
		bhis	locret_3B7DC
		movew	%d0,(Player_1+x_pos):w

locret_3B7DC:
		rts
/*  --------------------------------------------------------------------------- */

Obj_AIZBattleship:
		movel	#Obj_AIZBattleshipMain,(%a0)
		movel	#AIZBattleship_BombScript,0x2E(%a0)
		movew	#0x1A4,0x32(%a0)
		movew	#0x3FBC,%d1
		moveq	#1,%d2

loc_3B7F8:
		jsr	(Create_New_Sprite3):l
		bnes	loc_3B812
		movel	#Obj_BattleshipPropeller,(%a1)
		movew	%d1,0x2E(%a1)
		movew	#0x3DCC,%d1
		dbf	%d2,loc_3B7F8

loc_3B812:
		lea	(Normal_palette_line_2):w,%a1
		lea	Pal_AIZBattleship(%pc),%a5
		moveq	#7,%d0

loc_3B81C:
		movel	(%a5)+,(%a1)+
		dbf	%d0,loc_3B81C

Obj_AIZBattleshipMain:
		subil	#0x8800,(_unkEE98):w
		movew	(_unkEE98):w,%d0
		cmpiw	#0x3CDC,%d0
		bpls	loc_3B84E
		movel	#Obj_AIZ2BossSmall,(%a0)
		st	(Events_fg_4):w
		jsr	(Create_New_Sprite3):l
		bnes	locret_3B84C
		movel	#Obj_AIZ2MakeTree,(%a1)

locret_3B84C:
		rts
/*  --------------------------------------------------------------------------- */

loc_3B84E:
		movew	%d0,%d1
		subiw	#0x3D5C,%d0
		bpls	loc_3B864
		negw	%d0
		asrw	#1,%d0
		addw	(_unkEEA2):w,%d0
		movew	%d0,(_unkEE9C):w
		bras	loc_3B87A
/*  --------------------------------------------------------------------------- */

loc_3B864:
		asrw	#2,%d1
		andiw	#0xF,%d1
		lea	AIZBattleShip_BobbingMotion(%pc),%a1
		moveb	(%a1,%d1.w),%d1
		addw	(_unkEEA2):w,%d1
		movew	%d1,(_unkEE9C):w

loc_3B87A:
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	loc_3B88E
		moveq	#sfx_LargeShip,%d0
		jsr	(Play_Sound_2):l

loc_3B88E:
		subqw	#1,0x32(%a0)
		bccs	locret_3B8B4
		moveal	0x2E(%a0),%a2
		movew	(%a2)+,0x32(%a0)
		bmis	locret_3B8B4
		jsr	(Create_New_Sprite3):l
		bnes	locret_3B8B4
		movel	#Obj_AIZShipBomb,(%a1)
		movew	(%a2)+,0x2E(%a1)
		movel	%a2,0x2E(%a0)

locret_3B8B4:
		rts
/*  --------------------------------------------------------------------------- */

Obj_BattleshipPropeller:
		movel	#Obj_BattleshipPropellerMain,(%a0)
		moveb	#4,4(%a0)
		moveb	#0x20,6(%a0)
		moveb	#8,7(%a0)
		movew	#0x80,8(%a0)
		movew	#0x500,0xA(%a0)
		movel	#Map_AIZShipPropeller,0xC(%a0)
		movew	#0xA71,0x30(%a0)

Obj_BattleshipPropellerMain:
		cmpiw	#0xC,(Events_routine_fg):w
		bnes	loc_3B8F6
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3B8F6:
		lea	Ani_AIZShipPropeller(%pc),%a1
		jsr	(Animate_Sprite):l
		jsr	Translate_Camera2ObjPosition(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_AIZShipBomb:
		movel	#Obj_AIZShipBombMain,(%a0)
		moveb	#4,4(%a0)
		moveb	#0x18,7(%a0)
		movew	#0x80,8(%a0)
		movew	#0x500,0xA(%a0)
		movel	#Map_AIZ2BombExplode,0xC(%a0)
		moveb	#0x10,0x1E(%a0)
		movew	#0xA60,0x30(%a0)
		movew	#6,0x32(%a0)

Obj_AIZShipBombMain:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		jmp	loc_3B94C(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3B94C:
		braw	AIZShipBomb_ReadyDrop
/*  --------------------------------------------------------------------------- */
		braw	AIZShipBomb_Delay
/*  --------------------------------------------------------------------------- */
		braw	AIZShipBomb_Drop
/*  --------------------------------------------------------------------------- */

AIZShipBomb_ReadyDrop:
		addqw	#2,0x30(%a0)
		cmpiw	#0xA80,0x30(%a0)
		bcss	loc_3B97C
		addqb	#4,5(%a0)
		bras	loc_3B97C
/*  --------------------------------------------------------------------------- */

AIZShipBomb_Delay:
		subqw	#1,0x32(%a0)
		bnes	loc_3B97C
		addqb	#4,5(%a0)
		moveq	#sfx_MissileThrow,%d0
		jsr	(Play_Sound_2):l

loc_3B97C:
		jsr	Translate_Camera2ObjPosition(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

AIZShipBomb_Drop:
		movel	0x14(%a0),%d0
		addl	0x1A(%a0),%d0
		movel	%d0,0x14(%a0)
		addil	#0x2000,0x1A(%a0)
		swap	%d0
		jsr	Translate_Camera2ObjX(%pc)
		jsr	(Draw_Sprite):l
		jsr	(ObjCheckFloorDist):l
		cmpiw	#-8,%d1
		bgts	locret_3BA04
		movew	#0x10,(Screen_shake_flag):w
		moveq	#sfx_MissileExplode,%d0
		jsr	(Play_Sound_2):l
		jsr	(Create_New_Sprite3):l
		bnes	loc_3B9FE
		lea	AIZBombExplodeDat(%pc),%a2
		moveq	#7,%d1

loc_3B9CE:
		movel	#Obj_AIZBombExplosion,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	(%a2)+,%d2
		addw	%d2,0x10(%a1)
		movew	(%a2)+,%d2
		addw	%d2,0x14(%a1)
		movew	(%a2)+,0x20(%a1)
		movew	(%a2)+,0x2E(%a1)
		jsr	(CreateNewSprite4):l
		dbne	%d1,loc_3B9CE

loc_3B9FE:
		movel	#Delete_Current_Sprite,(%a0)

locret_3BA04:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Translate_Camera2ObjPosition:
		movew	0x30(%a0),%d0
		subw	(_unkEE9C):w,%d0
		addw	(Camera_Y_pos_copy):w,%d0

Translate_Camera2ObjX:
		subw	(Screen_shake_last_offset):w,%d0
		addw	(Screen_shake_offset):w,%d0
		movew	%d0,0x14(%a0)
		movew	0x2E(%a0),%d0
		subw	(_unkEE98):w,%d0
		addw	(Camera_X_pos_copy):w,%d0
		movew	%d0,0x10(%a0)
		rts
/*  End of function Translate_Camera2ObjPosition */

/*  --------------------------------------------------------------------------- */

Obj_AIZBombExplosion:
		movew	(Level_repeat_offset):w,%d0
		subw	%d0,0x10(%a0)
		subqw	#1,0x2E(%a0)
		bmis	loc_3BA40
		rts
/*  --------------------------------------------------------------------------- */

loc_3BA40:
		movel	#Obj_AIZBombExplosionAnim,(%a0)
		moveb	#4,4(%a0)
		moveb	#0x20,7(%a0)
		movew	#0x500,0xA(%a0)
		movel	#Map_AIZ2BombExplode,0xC(%a0)
		moveb	#-0x75,0x28(%a0)
		bras	loc_3BA70
/*  --------------------------------------------------------------------------- */

Obj_AIZBombExplosionAnim:
		movew	(Level_repeat_offset):w,%d0
		subw	%d0,0x10(%a0)

loc_3BA70:
		lea	Ani_AIZ2BombExplode(%pc),%a1
		jsr	(Animate_SpriteIrregularDelay):l
		tstb	5(%a0)
		beqs	loc_3BA86
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3BA86:
		moveq	#4,%d0
		addb	0x20(%a0),%d0
		cmpb	0x22(%a0),%d0
		blss	loc_3BA98
		jsr	(Add_SpriteToCollisionResponseList):l

loc_3BA98:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_AIZ2MakeTree:
		cmpiw	#0x44D0,(Camera_X_pos_copy):w
		bccs	loc_3BAA8
		rts
/*  --------------------------------------------------------------------------- */

loc_3BAA8:
		movel	#loc_3BABC,(%a0)
		movew	(Events_fg_1):w,0x2E(%a0)
		movel	#AIZMakeTreeScript,0x30(%a0)

loc_3BABC:
		moveal	0x30(%a0),%a2
		tstw	(%a2)
		bpls	loc_3BACA
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3BACA:
		movew	(Events_fg_1):w,%d0
		subw	0x2E(%a0),%d0
		cmpw	(%a2)+,%d0
		bcss	locret_3BAEC
		jsr	(Create_New_Sprite3):l
		bnes	locret_3BAEC
		movel	#Obj_AIZ2BGTree,(%a1)
		movew	(%a2)+,8(%a1)
		movel	%a2,0x30(%a0)

locret_3BAEC:
		rts
/*  --------------------------------------------------------------------------- */

Obj_AIZ2BGTree:
		movel	#Obj_AIZ2BGTreeMove,(%a0)
		movew	#0x438,0xA(%a0)
		movel	#Map_AIZ2BGTree,0xC(%a0)
		movew	#0xE9,0x14(%a0)
		movew	#0x1C0,0x2E(%a0)
		movew	(Events_fg_1):w,0x30(%a0)

Obj_AIZ2BGTreeMove:
		cmpiw	#0x4880,(Camera_X_pos_copy):w
		bcss	loc_3BB22
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3BB22:
		movew	(Events_fg_1):w,%d0
		subw	0x30(%a0),%d0
		movew	%d0,%d1
		asrw	#2,%d0
		subw	%d0,%d1
		movew	0x2E(%a0),%d0
		subw	%d1,%d0
		movew	%d0,0x10(%a0)
		cmpiw	#0x1C0,%d0
		bccs	locret_3BB46
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

locret_3BB46:
		rts
/*  --------------------------------------------------------------------------- */

Obj_AIZ2BossSmall:
		movel	#Obj_AIZ2BossSmallMain,(%a0)
		movew	#0x300,8(%a0)
		movew	#0x500,0xA(%a0)
		movel	#Map_AIZ2BossSmall,0xC(%a0)
		movew	#0x30,0x10(%a0)
		movew	#0xD8,0x14(%a0)
		movew	#5,0x18(%a0)
		clrw	0x2E(%a0)
		lea	(Normal_palette_line_2+2):w,%a1
		lea	Pal_AIZBossSmall(%pc),%a5
		moveq	#6,%d0

loc_3BB82:
		movel	(%a5)+,(%a1)+
		dbf	%d0,loc_3BB82

Obj_AIZ2BossSmallMain:
		tstb	0x2E(%a0)
		bnes	loc_3BB9A
		cmpiw	#0x4670,(Camera_X_pos_copy):w
		bcss	locret_3BC04
		st	0x2E(%a0)

loc_3BB9A:
		cmpiw	#0x240,0x10(%a0)
		bcss	loc_3BBBA
		clrb	(Scroll_lock):w
		clrw	(Special_.balign 2ts_routine):w
		clrw	(Level_repeat_offset):w
		movew	#0x6000,(Camera_max_X_pos):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3BBBA:
		movel	0x10(%a0),%d0
		movel	0x18(%a0),%d1
		addl	%d1,%d0
		movel	%d0,0x10(%a0)
		tstb	0x2F(%a0)
		bnes	loc_3BBE0
		subil	#0xE80,%d1
		cmpil	#-0x10000,%d1
		sle	0x2F(%a0)
		bras	loc_3BBE6
/*  --------------------------------------------------------------------------- */

loc_3BBE0:
		addil	#0xE80,%d1

loc_3BBE6:
		movel	%d1,0x18(%a0)
		jsr	(Draw_Sprite):l
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	locret_3BC04
		moveq	#sfx_EggmanSiren,%d0
		jsr	(Play_Sound_2):l

locret_3BC04:
		rts
/*  --------------------------------------------------------------------------- */
AIZ2_BGDeformArray:
		.word 0x10, 0x20, 0x38, 0x58, 0x28, 0x40, 0x38, 0x18, 0x18, 0x90, 0x48, 0x10, 0x18
		.word 0x20, 0x38, 0x58, 0x28, 0x40, 0x38, 0x18, 0x18, 0x90, 0x48, 0x10, 0x7FFF
AIZ2_BGDeformMake:
		.byte    1, 0x12, 0x2A
		.byte    3, 0x10, 0x14, 0x28, 0x2C
		.byte    3,  0xE, 0x16, 0x26, 0x2E
		.byte    4,   0,  0xC, 0x18, 0x24, 0x30
		.byte    3,   2,  0xA, 0x1A, 0x22
		.byte    3,   4,   8, 0x1C, 0x20
		.byte    1,   6, 0x1E
		.byte  0xFF,   0
AIZ2_FGDeformDelta:
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
		.word   0,  0,  1,  1,  0,  0,  0,  0,  1,  0,  0,  0,  0,  1,  0,  0
		.word   0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  0,  0,  1,  1,  0,  0
ALZ_AIZ2_BGDeformDelta:
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
		.word  -2,  1,  2,  2, -1,  2,  2,  1,  2, -1, -2, -2, -2,  1, -1, -1
		.word  -1,  0, -2,  0,  0,  0, -2,  0, -2,  2,  0, -2,  2,  2, -1, -2
Pal_AIZBattleship:
		.incbin "Levels/AIZ/Palettes/Battleship.bin"
		.balign 2
Pal_AIZBossSmall:
		.incbin "Levels/AIZ/Palettes/Boss Small.bin"
		.balign 2
AIZBattleShip_BobbingMotion:
		.byte   4,  4,  3,  3,  2,  1,  1,  0,  0,  0,  1,  1,  2,  3,  3,  4
AIZBattleship_BombScript:
		.word    0x20, 0x3F5C
		.word    0x20, 0x3F2C
		.word    0x20, 0x3F5C
		.word    0x20, 0x3F2C
		.word    0x20, 0x3F5C
		.word    0x38, 0x3F2C
		.word    0x20, 0x3EDC
		.word    0x20, 0x3EAC
		.word    0x20, 0x3EDC
		.word    0x20, 0x3EAC
		.word    0x20, 0x3EDC
		.word    0x38, 0x3EAC
		.word    0x20, 0x3E5C
		.word    0x20, 0x3E2C
		.word    0x20, 0x3E5C
		.word    0x20, 0x3E2C
		.word    0x20, 0x3E5C
		.word    0x38, 0x3E2C
		.word    0x40, 0x3DEC
		.word    0x40, 0x3DEC
		.word    0x40, 0x3DEC
		.word  0xFFFF
AIZBombExplodeDat:
		.word      0, 0xFFC4,     0,    0xA
		.word      0, 0xFFF4,  0x101,     9
		.word  0xFFFC, 0xFFCC,     0,     8
		.word     0xC, 0xFFFC,  0x101,     7
		.word  0xFFF4, 0xFFFC,  0x101,     5
		.word      8, 0xFFDC,     0,     4
		.word  0xFFF8, 0xFFE4,     0,     2
		.word      0, 0xFFF4,     0,     0
AIZMakeTreeScript:
		.word     0, 0x280
		.word   0x32, 0x380
		.word   0x8E, 0x280
		.word  0x103, 0x380
		.word  0x179, 0x280
		.word  0x1C6, 0x380
		.word  0x233, 0x280
		.word  0x2A0, 0x380
		.word  0x30A, 0x280
		.word  0x37C, 0x380
		.word  0x3C7, 0x280
		.word  0x401, 0x380
		.word  0x439, 0x280
		.word  0x46E, 0x380
		.word  0x4CA, 0x280
		.word  0x50C, 0x380
		.word  0x557, 0x280
		.word 0xFFFF
Map_AIZShipPropeller:
		.include "Levels/AIZ/Misc Object Data/Map - Act 2 Ship Propeller.S"
Ani_AIZShipPropeller:
		.include "Levels/AIZ/Misc Object Data/Anim - Act 2 Ship Propeller.S"
Map_AIZ2BombExplode:
		.include "Levels/AIZ/Misc Object Data/Map - Act 2 Bomb Explosion.S"
Ani_AIZ2BombExplode:
		.include "Levels/AIZ/Misc Object Data/Anim - Act 2 Bomb Explosion.S"
Map_AIZ2BGTree:
		.include "Levels/AIZ/Misc Object Data/Map - Act 2 Background Tree.S"
Map_AIZ2BossSmall:
		.include "Levels/AIZ/Misc Object Data/Map - Act 2 Boss Small.S"
/*  --------------------------------------------------------------------------- */

HCZ1_ScreenInit:
		clrw	(Events_bg+0x16):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

HCZ1_ScreenEvent:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

HCZ1_BackgroundInit:
		jsr	HCZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		moveq	#0x60,%d0
		cmpw	(Events_bg+0x10):w,%d0
		blts	loc_3C2BA
		negw	%d0
		cmpw	(Events_bg+0x10):w,%d0
		bgts	loc_3C2BE

loc_3C2BA:
		movew	%d0,(Events_bg+0x10):w

loc_3C2BE:
		lea	HCZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

HCZ1_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3C2D2(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3C2D2:
		braw	HCZ1BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	HCZ1BGE_DoTransition
/*  --------------------------------------------------------------------------- */

HCZ1BGE_Normal:
		tstw	(Events_fg_5):w
		beqs	loc_3C336
		clrw	(Events_fg_5):w
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		lea	(HCZ2_128x128_Secondary_Kos):l,%a1
		lea	(RAM_start+0xA00):l,%a2
		jsr	(Queue_Kos):l
		lea	(HCZ2_16x16_Secondary_Kos):l,%a1
		lea	(Block_table+0x558):w,%a2
		jsr	(Queue_Kos):l
		lea	(HCZ2_8x8_Secondary_KosM):l,%a1
		movew	#0x2360,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x10,%d0
		jsr	(Load_PLC):l
		moveq	#0x11,%d0
		jsr	(Load_PLC):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		st	(Events_bg+0x16):w
		addqw	#4,(Events_routine_bg):w

loc_3C336:
		jsr	HCZ1_Deform(%pc)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	HCZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

HCZ1BGE_DoTransition:
		tstb	(Kos_modules_left):w
		bnew	loc_3C3E6
		movew	#0x101,(Current_zone_and_act):w
		clrb	(Dynamic_resize_routine):w
		clrb	(Object_load_routine):w
		clrb	(Rings_manager_routine):w
		clrb	(Boss_flag):w
		clrb	(Respawn_table_keep):w
		jsr	Clear_Switches(%pc)
		movel	#Obj_HCZWaterSplash,(Dynamic_object_RAM+(object_size*2)).w
		moveb	#1,(Dynamic_object_RAM+(object_size*2)+subtype).w
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		jsr	(Load_Level):l
		jsr	(LoadSolids):l
		jsr	(CheckLevelForWater):l
		movew	#0x6A0,%d0
		movew	%d0,(Water_level):w
		movew	%d0,(Mean_water_level):w
		movew	%d0,(Target_water_level):w
		moveq	#0xD,%d0
		jsr	(LoadPalette_Immediate):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		movew	#0x3600,%d0
		moveq	#0,%d1
		subw	%d0,(Player_1+x_pos):w
		subw	%d0,(Player_2+x_pos):w
		jsr	Offset_ObjectsDuringTransition(%pc)
		subw	%d0,(Camera_X_pos):w
		subw	%d0,(Camera_X_pos_copy):w
		subw	%d0,(Camera_min_X_pos):w
		subw	%d0,(Camera_max_X_pos):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		clrw	(Events_routine_bg):w

loc_3C3E6:
		jsr	HCZ1_Deform(%pc)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	HCZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


HCZ1_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		subiw	#0x610,%d0
		movew	%d0,%d1
		asrw	#2,%d0
		movew	%d0,%d2
		addiw	#0x190,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		subw	%d1,%d2
		movew	%d2,(Events_bg+0x10):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		tstw	%d2
		beqw	loc_3C4E2
		movel	%d0,%d1
		movel	%d0,%d3
		asrl	#7,%d3
		moveq	#0x2F,%d4
		cmpiw	#-0x60,%d2
		bgts	loc_3C45A
		lea	(HScroll_table+0x01A):w,%a1

loc_3C442:
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		subl	%d3,%d1
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		subl	%d3,%d1
		dbf	%d4,loc_3C442
		braw	loc_3C4E2
/*  --------------------------------------------------------------------------- */

loc_3C45A:
		lea	(HScroll_table+0x19A):w,%a1

loc_3C45E:
		swap	%d1
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		swap	%d1
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		dbf	%d4,loc_3C45E
		cmpiw	#0x60,%d2
		bges	loc_3C4E2
		lea	(HScroll_table+0x0DA):w,%a1
		lea	(%a1),%a5
		lea	(HCZ_WaterlineScroll_Data):l,%a6
		movew	%d2,%d1
		bmis	loc_3C4B6
		movew	%d1,%d3
		negw	%d3
		addiw	#0x60,%d3
		lslw	#5,%d3
		addaw	%d3,%a6
		addw	%d3,%d3
		addaw	%d3,%a6
		subqw	#1,%d1
		moveq	#0,%d3
		lsrw	#1,%d1
		bccs	loc_3C4A8

loc_3C4A0:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),(%a1)+

loc_3C4A8:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),(%a1)+
		dbf	%d1,loc_3C4A0
		bras	loc_3C4E2
/*  --------------------------------------------------------------------------- */

loc_3C4B6:
		movew	%d1,%d3
		addiw	#0x60,%d3
		lslw	#5,%d3
		addaw	%d3,%a6
		addw	%d3,%d3
		addaw	%d3,%a6
		negw	%d1
		subqw	#1,%d1
		moveq	#0,%d3
		lsrw	#1,%d1
		bccs	loc_3C4D6

loc_3C4CE:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),-(%a1)

loc_3C4D6:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),-(%a1)
		dbf	%d1,loc_3C4CE

loc_3C4E2:
		movel	%d0,%d1
		asrl	#2,%d0
		asrl	#5,%d1
		lea	(HScroll_table):w,%a1
		swap	%d0
		movew	%d0,(%a1)
		movew	%d0,0x18(%a1)
		movew	%d0,%d3
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,2(%a1)
		movew	%d0,0x16(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,4(%a1)
		movew	%d0,0x14(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,6(%a1)
		movew	%d0,0x12(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,8(%a1)
		movew	%d0,0x10(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,0xA(%a1)
		movew	%d0,0xE(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,0xC(%a1)
		movew	%d0,0x19A(%a1)
		movew	%d0,%d4
		tstw	%d2
		bpls	loc_3C570
		lea	(HScroll_table+0x0DA):w,%a1
		moveq	#0x2F,%d0

loc_3C556:
		movew	%d4,(%a1)+
		movew	%d4,(%a1)+
		dbf	%d0,loc_3C556
		moveq	#0x5F,%d0
		addw	%d2,%d0
		bmis	locret_3C58E
		lea	(HScroll_table+0x01A):w,%a1

loc_3C568:
		movew	%d3,(%a1)+
		dbf	%d0,loc_3C568
		bras	locret_3C58E
/*  --------------------------------------------------------------------------- */

loc_3C570:
		lea	(HScroll_table+0x01A):w,%a1
		moveq	#0x2F,%d0

loc_3C576:
		movew	%d3,(%a1)+
		movew	%d3,(%a1)+
		dbf	%d0,loc_3C576
		moveq	#0x5F,%d0
		subw	%d2,%d0
		bmis	locret_3C58E
		lea	(HScroll_table+0x19A):w,%a1

loc_3C588:
		movew	%d4,-(%a1)
		dbf	%d0,loc_3C588

locret_3C58E:
		rts
/*  End of function HCZ1_Deform */

/*  --------------------------------------------------------------------------- */
HCZ1_BGDeformArray:.word 0x40, 8, 8, 5, 5, 6, 0xF0, 6, 5, 5, 8, 8, 0x30, 0x80C0, 0x7FFF
/*  --------------------------------------------------------------------------- */

HCZ2_ScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

HCZ2_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

HCZ2_BackgroundInit:
		cmpiw	#0xC00,(Camera_X_pos_copy):w
		bccs	loc_3C5E8
		cmpiw	#0x500,(Camera_Y_pos_copy):w
		bcss	loc_3C5E8
		movew	#4,(Events_routine_bg):w
		jsr	HCZ2_WallMove(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		jsr	Refresh_PlaneFull(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3C5E8:
		movew	#0x10,(Events_routine_bg):w
		jsr	HCZ2_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	HCZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

HCZ2_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3C610(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3C610:
		braw	HCZ2BGE_WallMoveInit
/*  --------------------------------------------------------------------------- */
		braw	HCZ2BGE_WallMove
/*  --------------------------------------------------------------------------- */
		braw	HCZ2BGE_NormalTransition
/*  --------------------------------------------------------------------------- */
		braw	HCZ2BGE_NormalRefresh
/*  --------------------------------------------------------------------------- */
		braw	HCZ2BGE_Normal
/*  --------------------------------------------------------------------------- */

HCZ2BGE_WallMoveInit:
		addqw	#4,(Events_routine_bg):w

HCZ2BGE_WallMove:
		tstw	(Events_fg_5):w
		bnes	loc_3C66C
		jsr	HCZ2_WallMove(%pc)
		jsr	DrawBGAsYouMove(%pc)
		jsr	PlainDeformation(%pc)
		jsr	ShakeScreen_Setup(%pc)
		jsr	Get_BGActualEffectiveDiff(%pc)
		clrb	(Background_collision_flag):w
		movew	(Player_1+x_pos):w,%d0
		cmpiw	#0x3F0,%d0
		bcss	locret_3C66A
		cmpiw	#0xC10,%d0
		bccs	locret_3C66A
		movew	(Player_1+y_pos):w,%d0
		cmpiw	#0x600,%d0
		bcss	locret_3C66A
		cmpiw	#0x840,%d0
		bccs	locret_3C66A
		st	(Background_collision_flag):w

locret_3C66A:
		rts
/*  --------------------------------------------------------------------------- */

loc_3C66C:
		clrw	(Events_fg_5):w
		tstw	(Screen_shake_flag):w
		bpls	loc_3C67A
		clrw	(Screen_shake_flag):w

loc_3C67A:
		clrb	(Background_collision_flag):w
		movew	#0xF0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w

HCZ2BGE_NormalTransition:
		movew	#0x400,%d1
		moveq	#0,%d2
		jsr	Draw_PlaneVertSingleBottomUp(%pc)
		bplw	PlainDeformation
		jsr	HCZ2_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3C6C0
/*  --------------------------------------------------------------------------- */

HCZ2BGE_NormalRefresh:
		jsr	HCZ2_Deform(%pc)

loc_3C6C0:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3C6D6
		addqw	#4,(Events_routine_bg):w
		bras	loc_3C6D6
/*  --------------------------------------------------------------------------- */

HCZ2BGE_Normal:
		jsr	HCZ2_Deform(%pc)

loc_3C6D6:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	HCZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


HCZ2_WallMove:
		cmpib	#6,(Player_1+routine):w
		bccs	loc_3C754
		movel	#0xE000,%d0
		cmpiw	#0xA88,(Player_1+x_pos):w
		bcss	loc_3C70E
		movel	#0x14000,%d0

loc_3C70E:
		movew	(Events_bg+0x00):w,%d1
		beqs	loc_3C730
		cmpiw	#-0x600,%d1
		bgts	loc_3C73C
		tstw	(Screen_shake_flag):w
		bpls	loc_3C754
		movew	#0xE,(Screen_shake_flag):w
		moveq	#sfx_Crash,%d0
		jsr	(Play_Sound_2):l
		bras	loc_3C754
/*  --------------------------------------------------------------------------- */

loc_3C730:
		cmpiw	#0x680,(Player_1+x_pos):w
		bcss	loc_3C754
		st	(Screen_shake_flag):w

loc_3C73C:
		subl	%d0,(Events_bg+0x00):w
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	loc_3C754
		moveq	#sfx_Rumble2,%d0
		jsr	(Play_Sound_2):l

loc_3C754:
		movew	(Camera_Y_pos_copy):w,%d0
		subiw	#0x500,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		subiw	#0x200,%d0
		addw	(Events_bg+0x00):w,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		rts
/*  End of function HCZ2_WallMove */


/*  =============== S U B R O U T I N E ======================================= */


HCZ2_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		asrw	#2,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#3,%d1
		lea	(HScroll_table):w,%a1
		lea	HCZ2_BGDeformIndex(%pc),%a5
		moveq	#0,%d2

loc_3C794:
		moveb	(%a5)+,%d3
		bmis	loc_3C7AC
		extw	%d3
		swap	%d0

loc_3C79C:
		moveb	(%a5)+,%d2
		movew	%d0,(%a1,%d2.w)
		dbf	%d3,loc_3C79C
		swap	%d0
		subl	%d1,%d0
		bras	loc_3C794
/*  --------------------------------------------------------------------------- */

loc_3C7AC:
		movew	0x12(%a1),%d0
		subw	0xA(%a1),%d0
		movew	%d0,(Events_bg+0x10):w
		movew	6(%a1),%d0
		subw	0x12(%a1),%d0
		movew	%d0,(Events_bg+0x12):w
		movew	4(%a1),%d0
		subw	0x12(%a1),%d0
		movew	%d0,(Events_bg+0x14):w
		rts
/*  End of function HCZ2_Deform */

/*  --------------------------------------------------------------------------- */
HCZ2_BGDeformArray:.word 8, 8, 0x90, 0x10, 8, 0x30, 0x18, 8, 8, 0xA8, 0x30, 0x18
		.word 8, 8, 0xA8, 0x30, 0x18, 8, 8, 0xB0, 0x10, 8, 0x7FFF
HCZ2_BGDeformIndex:.byte   3, 0xA
		.byte 0x14,0x1E
		.byte 0x2C,  2
		.byte  0xC,0x16
		.byte 0x20,  5
		.byte   0,  8
		.byte  0xE,0x18
		.byte 0x22,0x2A
		.byte   3,  2
		.byte 0x10,0x1A
		.byte 0x24,  1
		.byte 0x12,0x1C
		.byte   1,  6
		.byte 0x28,  1
		.byte   4,0x26
		.byte 0xFF,  0
/*  --------------------------------------------------------------------------- */

MGZ1_ScreenInit:
		clrw	(Events_bg+0x16):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

MGZ1_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		jsr	Do_ShakeSound(%pc)
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

MGZ1_BackgroundInit:
		jsr	MGZ1_Deform(%pc)
		moveq	#0,%d0
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	MGZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

MGZ1_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3C85C(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3C85C:
		braw	MGZ1BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	MGZ1BGE_Transition
/*  --------------------------------------------------------------------------- */

MGZ1BGE_Normal:
		tstw	(Events_fg_5):w
		beqs	loc_3C8B4
		clrw	(Events_fg_5):w
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		lea	(MGZ2_128x128_Secondary_Kos):l,%a1
		lea	(RAM_start+0x6B00):l,%a2
		jsr	(Queue_Kos):l
		lea	(MGZ2_16x16_Secondary_Kos):l,%a1
		lea	(Block_table+0xC60):w,%a2
		jsr	(Queue_Kos):l
		lea	(MGZ2_8x8_Secondary_KosM):l,%a1
		movew	#0x4A40,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x14,%d0
		jsr	(Load_PLC):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		addqw	#4,(Events_routine_bg):w

loc_3C8B4:
		jsr	MGZ1_Deform(%pc)
		lea	MGZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	ApplyDeformation(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

MGZ1BGE_Transition:
		tstb	(Kos_modules_left):w
		bnew	loc_3C960
		movew	#0x201,(Current_zone_and_act):w
		clrb	(Dynamic_resize_routine):w
		clrb	(Object_load_routine):w
		clrb	(Rings_manager_routine):w
		clrb	(Boss_flag):w
		clrb	(Respawn_table_keep):w
		jsr	Clear_Switches(%pc)
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		jsr	(Load_Level):l
		jsr	(LoadSolids):l
		moveq	#0xF,%d0
		jsr	(LoadPalette_Immediate):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		movew	#0x2E00,%d0
		movew	#0x600,%d1
		subw	%d0,(Player_1+x_pos):w
		subw	%d1,(Player_1+y_pos):w
		subw	%d0,(Player_2+x_pos):w
		subw	%d1,(Player_2+y_pos):w
		jsr	Offset_ObjectsDuringTransition(%pc)
		subw	%d0,(Camera_X_pos):w
		subw	%d1,(Camera_Y_pos):w
		subw	%d0,(Camera_X_pos_copy):w
		subw	%d1,(Camera_Y_pos_copy):w
		subw	%d0,(Camera_min_X_pos):w
		subw	%d0,(Camera_max_X_pos):w
		subw	%d1,(Camera_min_Y_pos):w
		subw	%d1,(Camera_max_Y_pos):w
		movew	(Camera_max_Y_pos):w,(Camera_target_max_Y_pos):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		clrl	(Events_bg+0x10):w
		clrw	(Events_bg+0x14):w
		clrw	(_unkEEA2):w
		clrw	(Events_routine_bg):w

loc_3C960:
		jsr	MGZ1_Deform(%pc)
		lea	MGZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


MGZ1_Deform:
		movew	(Screen_shake_offset):w,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#2,%d0
		movel	%d0,%d1
		asrl	#4,%d1
		lea	(HScroll_table+0x01C):w,%a1
		moveq	#8,%d2

loc_3C98A:
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		dbf	%d2,loc_3C98A
		lea	(HScroll_table):w,%a1
		movel	(HScroll_table+0x01C):w,%d2
		addil	#0x500,(HScroll_table+0x01C):w
		asrl	#1,%d0
		moveq	#4,%d3

loc_3C9AA:
		addl	%d2,%d0
		addil	#0x500,%d2
		swap	%d0
		movew	%d0,(%a1)+
		swap	%d0
		addl	%d1,%d0
		dbf	%d3,loc_3C9AA
		movew	-2(%a1),%d0
		movew	-4(%a1),-2(%a1)
		movew	%d0,-4(%a1)
		rts
/*  End of function MGZ1_Deform */


/*  =============== S U B R O U T I N E ======================================= */


Do_ShakeSound:
		cmpib	#6,(Player_1+routine):w
		bccs	locret_3C9F6
		tstw	(Events_bg+0x16):w
		bnes	locret_3C9F6
		tstw	(Screen_shake_flag):w
		bpls	locret_3C9F6
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	locret_3C9F6
		moveq	#sfx_Rumble2,%d0
		jsr	(Play_Sound_2):l

locret_3C9F6:
		rts
/*  End of function Do_ShakeSound */

/*  --------------------------------------------------------------------------- */
MGZ1_BGDeformArray:.word 0x10, 4, 4, 8, 8, 8, 0xD, 0x13, 8, 8, 8, 8, 0x18, 0x7FFF
/*  --------------------------------------------------------------------------- */

MGZ2_ScreenInit:
		clrl	(Events_bg+0x10):w
		clrl	(Events_bg+0x14):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

MGZ2_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		jsr	Do_ShakeSound(%pc)
		movew	(Events_routine_fg):w,%d0
		jmp	loc_3CA38(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3CA38:
		braw	MGZ2SE_Normal
/*  --------------------------------------------------------------------------- */
		braw	MGZ2SE_Collapse
/*  --------------------------------------------------------------------------- */
		braw	MGZ2SE_MoveBG
/*  --------------------------------------------------------------------------- */

MGZ2SE_Normal:
		tstw	(Events_fg_4):w
		bnes	loc_3CA56
		jsr	MGZ2_QuakeEvent(%pc)
		jsr	MGZ2_ChunkEvent(%pc)
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

loc_3CA56:
		clrw	(Events_fg_4):w
		st	(Events_bg+0x16):w
		movew	#0x14,(Screen_shake_flag):w
		addqw	#4,(Events_routine_fg):w

MGZ2SE_Collapse:
		jsr	MGZ2_LevelCollapse(%pc)
		tstw	(Screen_shake_flag):w
		bmis	loc_3CA76
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

loc_3CA76:
		lea	MGZ2_FGVScrollArray(%pc),%a4
		lea	(HScroll_table+0x100):w,%a5
		moveq	#0xF,%d6
		moveq	#0xA,%d5
		jmp	DrawTilesVDeform(%pc)
/*  --------------------------------------------------------------------------- */

MGZ2SE_MoveBG:
		movel	(Events_bg+0x08):w,%d0
		cmpil	#loc_50000,%d0
		bccs	loc_3CA9C
		addil	#0x800,%d0
		movel	%d0,(Events_bg+0x08):w

loc_3CA9C:
		swap	%d0
		addw	%d0,(Events_bg+0x0C):w
		jmp	DrawTilesAsYouMove(%pc)

/*  =============== S U B R O U T I N E ======================================= */


MGZ2_LevelCollapse:
		cmpib	#6,(Player_1+routine):w
		bccw	locret_3CC00
		tstw	(Screen_shake_flag):w
		bmiw	loc_3CB66
		bnew	locret_3CC00
		moveaw	0x38(%a3),%a1
		lea	0x79(%a1),%a1
		movew	-8(%a3),%d0
		subqw	#3,%d0
		moveq	#2,%d1

loc_3CACC:
		clrb	(%a1)+
		clrb	(%a1)+
		clrb	(%a1)+
		addaw	%d0,%a1
		dbf	%d1,loc_3CACC
		lea	(HScroll_table+0x102):w,%a1
		lea	(HScroll_table+0x13C):w,%a5
		lea	0x28(%a5),%a6
		movew	(Camera_Y_pos_copy):w,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		moveq	#9,%d1

loc_3CAEE:
		movew	%d0,(%a1)
		addqw	#4,%a1
		clrl	(%a5)+
		clrl	(%a6)+
		dbf	%d1,loc_3CAEE
		jsr	(Create_New_Sprite):l
		bnes	loc_3CB54
		movew	#0x3C90,%d1
		movel	#0x5C00790,%d2
		movel	#HScroll_table+0x13C,%d3
		moveq	#9,%d4

loc_3CB14:
		movel	#Obj_MGZ2LevelCollapseSolid,(%a1)
		movew	%d1,0x10(%a1)
		movew	%d2,0x2E(%a1)
		movel	%d3,0x30(%a1)
		swap	%d2
		jsr	(CreateNewSprite4):l
		bnes	loc_3CB54
		movel	#Obj_MGZ2LevelCollapseSolid,(%a1)
		movew	%d1,0x10(%a1)
		movew	%d2,0x2E(%a1)
		movel	%d3,0x30(%a1)
		addiw	#0x20,%d1
		swap	%d2
		addql	#4,%d3
		jsr	(CreateNewSprite4):l
		dbne	%d4,loc_3CB14

loc_3CB54:
		st	(Screen_shake_flag):w
		clrw	(Events_bg+0x06):w
		st	(_unkEEA2):w
		movew	#4,(Special_V_int_routine):w

loc_3CB66:
		lea	(HScroll_table+0x100):w,%a1
		lea	0x28(%a1),%a4
		lea	0x14(%a4),%a5
		lea	MGZ2_CollapseScrollDelay(%pc),%a6
		movew	(Events_bg+0x06):w,%d0
		addqw	#1,(Events_bg+0x06):w
		moveq	#0xA,%d1
		moveq	#9,%d2

loc_3CB82:
		cmpw	(%a6)+,%d0
		bcss	loc_3CB8E
		addil	#0x500,0x64(%a1)

loc_3CB8E:
		movel	0x64(%a1),%d3
		addl	%d3,(%a5)+
		movew	-4(%a5),%d3
		cmpiw	#0x2E0,%d3
		bcss	loc_3CBA4
		movew	#0x2E0,%d3
		subqw	#1,%d1

loc_3CBA4:
		movew	(Camera_Y_pos_copy):w,%d4
		subw	%d3,%d4
		movew	%d4,(%a4)+
		movew	%d4,(%a1)
		addqw	#4,%a1
		dbf	%d2,loc_3CB82
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	loc_3CBC8
		moveq	#sfx_BigRumble,%d0
		jsr	(Play_Sound_2):l

loc_3CBC8:
		tstw	%d1
		bnes	locret_3CC00
		moveaw	0x2C(%a3),%a1
		lea	0x79(%a1),%a1
		movew	-8(%a3),%d0
		subqw	#3,%d0
		moveq	#2,%d1

loc_3CBDC:
		clrb	(%a1)+
		clrb	(%a1)+
		clrb	(%a1)+
		addaw	%d0,%a1
		dbf	%d1,loc_3CBDC
		clrw	(Screen_shake_flag):w
		clrl	(Events_bg+0x08):w
		movew	(Camera_X_pos_copy):w,(Events_bg+0x0C):w
		movew	#0xC,(Special_V_int_routine):w
		addqw	#4,(Events_routine_fg):w

locret_3CC00:
		rts
/*  End of function MGZ2_LevelCollapse */


/*  =============== S U B R O U T I N E ======================================= */


MGZ2_QuakeEvent:
		movew	(Player_1+x_pos):w,%d0
		movew	(Player_1+y_pos):w,%d1
		movew	(Events_bg+0x10):w,%d2
		jmp	loc_3CC12(%pc,%d2.w)
/*  End of function MGZ2_QuakeEvent */

/*  --------------------------------------------------------------------------- */

loc_3CC12:
		braw	MGZ2_QuakeEventCheck
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_QuakeEvent1
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_QuakeEvent2
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_QuakeEvent3
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_QuakeEvent1Cont
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_QuakeEvent2Cont
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_QuakeEvent3Cont
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEventCheck:
		lea	(Events_bg+0x12):w,%a5
		lea	MGZ2_QuakeEventArray(%pc),%a1
		moveq	#4,%d2
		moveq	#2,%d3

loc_3CC3A:
		tstb	(%a5)
		bnes	loc_3CC82
		cmpw	(%a1),%d0
		bcss	loc_3CC82
		cmpw	2(%a1),%d0
		bccs	loc_3CC82
		cmpw	4(%a1),%d1
		bcss	loc_3CC82
		cmpw	6(%a1),%d1
		bccs	loc_3CC82
		movew	%d2,(Events_bg+0x10):w
		movew	8(%a1),%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		movew	0xA(%a1),%d0
		cmpiw	#4,%d2
		bnes	loc_3CC78
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3CC78:
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_target_min_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3CC82:
		lea	0xC(%a1),%a1
		addqw	#1,%a5
		addqw	#4,%d2
		dbf	%d3,loc_3CC3A
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEvent1:
		cmpiw	#0x780,%d0
		bcsw	loc_3CD66
		movew	(Camera_max_X_pos):w,%d0
		cmpw	(Camera_X_pos):w,%d0
		bhis	locret_3CCD2
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_target_min_X_pos):w
		st	(Events_bg+0x12):w
		addiw	#0xC,(Events_bg+0x10):w
		st	(Screen_shake_flag):w
		jsr	(Create_New_Sprite):l
		bnes	locret_3CCD2
		movel	#Obj_MGZ2DrillingEggman,(%a1)
		movew	#0x8E0,0x10(%a1)
		movew	#0x690,0x14(%a1)

locret_3CCD2:
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEvent2:
		cmpiw	#0x3200,%d0
		bccw	loc_3CD66
		movew	(Camera_min_X_pos):w,%d0
		cmpw	(Camera_X_pos):w,%d0
		bcss	locret_3CD1C
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		st	(Events_bg+0x13):w
		addiw	#0xC,(Events_bg+0x10):w
		st	(Screen_shake_flag):w
		jsr	(Create_New_Sprite):l
		bnes	locret_3CD1C
		movel	#Obj_MGZ2DrillingEggman,(%a1)
		bset	#0,4(%a1)
		movew	#0x2FA0,0x10(%a1)
		movew	#0x2D0,0x14(%a1)

locret_3CD1C:
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEvent3:
		cmpiw	#0x3480,%d0
		bccs	loc_3CD66
		movew	(Camera_min_X_pos):w,%d0
		cmpw	(Camera_X_pos):w,%d0
		bcss	locret_3CD64
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		st	(Events_bg+0x14):w
		addiw	#0xC,(Events_bg+0x10):w
		st	(Screen_shake_flag):w
		jsr	(Create_New_Sprite):l
		bnes	locret_3CD64
		movel	#Obj_MGZ2DrillingEggman,(%a1)
		bset	#0,4(%a1)
		movew	#0x3300,0x10(%a1)
		movew	#0x790,0x14(%a1)

locret_3CD64:
		rts
/*  --------------------------------------------------------------------------- */

loc_3CD66:
		movew	#0x1000,%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		movel	#0x6000,%d0
		movel	%d0,(Camera_min_X_pos):w
		movel	%d0,(Camera_target_min_X_pos):w
		clrw	(Events_bg+0x10):w
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEvent1Cont:
		cmpiw	#0x980,(Player_1+x_pos):w
		bccs	loc_3CDBA
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEvent2Cont:
		cmpiw	#0x100,(Player_1+y_pos):w
		bccs	locret_3CDAE
		cmpiw	#0x2F80,(Player_1+x_pos):w
		bcss	locret_3CDAE
		movew	#0x6000,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		bras	loc_3CDBA
/*  --------------------------------------------------------------------------- */

locret_3CDAE:
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_QuakeEvent3Cont:
		cmpiw	#0x3200,(Player_1+x_pos):w
		bcss	loc_3CDBA
		rts
/*  --------------------------------------------------------------------------- */

loc_3CDBA:
		movew	#0x1000,%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		clrw	(Events_bg+0x10):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


MGZ2_ChunkEvent:
		movew	(Events_bg+0x04):w,%d0
		jmp	loc_3CDD4(%pc,%d0.w)
/*  End of function MGZ2_ChunkEvent */

/*  --------------------------------------------------------------------------- */

loc_3CDD4:
		braw	MGZ2_ChunkEventCheck
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_ChunkEvent1
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_ChunkEvent2_3
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_ChunkEvent2_3
/*  --------------------------------------------------------------------------- */
		braw	MGZ2_ChunkEventReset
/*  --------------------------------------------------------------------------- */
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_ChunkEventCheck:
		movew	(Player_1+x_pos):w,%d0
		movew	(Player_1+y_pos):w,%d1
		lea	MGZ2_ChunkEventArray(%pc),%a1
		moveq	#4,%d2
		moveq	#2,%d3

loc_3CDFA:
		cmpw	(%a1),%d0
		bcss	loc_3CE1C
		cmpw	2(%a1),%d0
		bccs	loc_3CE1C
		cmpw	4(%a1),%d1
		bcss	loc_3CE1C
		cmpw	6(%a1),%d1
		bccs	loc_3CE1C
		cmpiw	#4,%d2
		bnes	loc_3CE28
		tstw	(Screen_shake_flag):w
		bmis	loc_3CE28

loc_3CE1C:
		lea	0xC(%a1),%a1
		addqw	#4,%d2
		dbf	%d3,loc_3CDFA
		rts
/*  --------------------------------------------------------------------------- */

loc_3CE28:
		movew	%d2,(Events_bg+0x04):w
		clrw	(Events_bg+0x06):w
		clrw	(Events_bg+0x08):w
		movew	8(%a1),(Events_bg+0x0A):w
		movew	0xA(%a1),(Events_bg+0x0C):w

MGZ2_ChunkEvent1:
		movew	(Events_bg+0x06):w,%d0
		cmpiw	#0x5C,%d0
		bcss	loc_3CE7C
		clrw	(Screen_shake_flag):w
		clrw	(Camera_min_X_pos):w
		clrw	(Camera_target_min_X_pos):w
		movew	#0x10,(Events_bg+0x04):w
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_ChunkEvent2_3:
		movew	(Events_bg+0x06):w,%d0
		cmpiw	#0x5C,%d0
		bcss	loc_3CE7C
		movew	#0x6000,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		movew	#0x14,(Events_bg+0x04):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3CE7C:
		subqw	#1,(Events_bg+0x08):w
		bpls	locret_3CEDA
		movew	#6,(Events_bg+0x08):w
		movew	%d0,%d2
		bsrs	MGZ2_ModifyChunk
		movew	(Events_bg+0x0A):w,%d0
		addiw	#0x80,%d0
		subw	(Camera_X_pos_copy):w,%d0
		bcss	locret_3CEDA
		cmpiw	#0x1C0,%d0
		bccs	locret_3CEDA
		movew	(Events_bg+0x0C):w,%d0
		lea	MGZ2_ScreenRedrawArray(%pc),%a1
		addw	(%a1,%d2.w),%d0
		movew	2(%a1,%d2.w),%d2

loc_3CEB0:
		movew	(Camera_Y_pos_copy):w,%d3
		andw	(Camera_Y_pos_mask):w,%d3
		cmpw	%d3,%d0
		bcss	loc_3CED2
		addiw	#0xF0,%d3
		cmpw	%d3,%d0
		bccs	loc_3CED2
		movew	(Events_bg+0x0A):w,%d1
		moveq	#8,%d6
		swap	%d2
		jsr	Setup_TileRowDraw(%pc)
		swap	%d2

loc_3CED2:
		addiw	#0x10,%d0
		dbf	%d2,loc_3CEB0

locret_3CEDA:
		rts
/*  --------------------------------------------------------------------------- */

MGZ2_ChunkEventReset:
		cmpiw	#0x2A00,(Player_1+x_pos):w
		bcss	locret_3CEEC
		clrw	(Events_bg+0x04):w
		moveq	#0x5C,%d0
		bras	MGZ2_ModifyChunk
/*  --------------------------------------------------------------------------- */

locret_3CEEC:
		rts

/*  =============== S U B R O U T I N E ======================================= */


MGZ2_ModifyChunk:
		lea	MGZ2_ChunkReplaceArray(%pc),%a1
		lea	(0xFF5880):l,%a5
		bsrs	sub_3CF00
		lea	(0xFF7500):l,%a5
/*  End of function MGZ2_ModifyChunk */


/*  =============== S U B R O U T I N E ======================================= */


sub_3CF00:
		lea	(MGZ2_QuakeChunks):l,%a4
		addaw	(%a1,%d0.w),%a4
		moveq	#7,%d1

loc_3CF0C:
		movel	(%a4)+,(%a5)+
		movel	(%a4)+,(%a5)+
		movel	(%a4)+,(%a5)+
		movel	(%a4)+,(%a5)+
		dbf	%d1,loc_3CF0C
		addqw	#2,%d0
		movew	%d0,(Events_bg+0x06):w
		rts
/*  End of function sub_3CF00 */

/*  --------------------------------------------------------------------------- */

Obj_MGZ2LevelCollapseSolid:
		cmpiw	#8,(Events_routine_fg):w
		bnes	loc_3CF2E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3CF2E:
		moveal	0x30(%a0),%a1
		movew	0x2E(%a0),%d0
		addw	(%a1),%d0
		movew	%d0,0x14(%a0)
		moveb	#0x10,7(%a0)
		bset	#7,0x2A(%a0)
		moveq	#0x1B,%d1
		moveq	#0x40,%d2
		moveq	#0x40,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull2):l
/*  --------------------------------------------------------------------------- */
MGZ2_QuakeEventArray:
		.word   0x780,  0x7C0,  0x580,  0x600,  0x5A0,  0x7E0
		.word  0x31C0, 0x3200,  0x1C0,  0x280,  0x1E0, 0x2F60
		.word  0x3440, 0x3480,  0x680,  0x700,  0x6A0, 0x32C0
MGZ2_ChunkEventArray:
		.word   0xF68,  0xF78,  0x500,  0x580,  0xF00,  0x500
		.word  0x3680, 0x3700,  0x2F0,  0x380, 0x3700,  0x280
		.word  0x3000, 0x3080,  0x770,  0x800, 0x3080,  0x700
MGZ2_ScreenRedrawArray:.word   0x40,    3
		.word   0x50,    3
		.word   0x50,    4
		.word   0x60,    4
		.word   0x60,    3
		.word   0x70,    2
		.word   0x70,    3
		.word   0x80,    3
		.word   0x80,    3
		.word   0x80,    4
		.word   0x80,    4
		.word   0x80,    4
		.word   0x80,    5
		.word   0x90,    5
		.word   0xA0,    4
		.word   0x90,    6
		.word   0x80,    6
		.word   0x90,    6
		.word   0xA0,    5
		.word   0xB0,    4
		.word   0xC0,    3
		.word   0xD0,    2
		.word   0xE0,    1
MGZ2_ChunkReplaceArray:.word  0x100, 0x500
		.word  0x180, 0x580
		.word  0x200, 0x600
		.word  0x280, 0x680
		.word  0x300, 0x700
		.word  0x380, 0x780
		.word     0, 0x800
		.word     0, 0x880
		.word     0, 0x900
		.word     0, 0x980
		.word     0, 0xA00
		.word     0, 0xA80
		.word     0, 0xB00
		.word     0, 0xB80
		.word     0, 0xC00
		.word     0, 0xC80
		.word     0, 0xD00
		.word     0, 0xD80
		.word     0, 0xE00
		.word     0, 0xE80
		.word     0, 0xF00
		.word     0, 0xF80
		.word     0,0x1000
		.word   0x80, 0x480
MGZ2_CollapseScrollDelay:.word    0xA,  0x10,    2,    8,   0xE,    6,    0,   0xC,  0x12,    4
MGZ2_FGVScrollArray:.word 0x3CA0,  0x20,  0x20,  0x20,  0x20,  0x20,  0x20,  0x20,  0x20,0x7FFF
/*  --------------------------------------------------------------------------- */

MGZ2_BackgroundInit:
		jsr	MGZ2_ClearBottomBG(%pc)
		movew	#4,(Events_routine_bg):w
		clrw	(_unkEEA2):w
		movew	(Player_1+x_pos):w,%d0
		movew	(Player_1+y_pos):w,%d1
		cmpiw	#0x500,%d1
		bccs	loc_3D0C0
		cmpiw	#0x3800,%d0
		bcss	loc_3D10C
		movew	#4,(Events_bg+0x00):w
		movel	#Obj_MGZ2BGMoveKnux,%d1
		cmpiw	#0x3A80,%d0
		bcss	loc_3D102
		movew	#0x220,(Events_bg+0x02):w
		bras	loc_3D10C
/*  --------------------------------------------------------------------------- */

loc_3D0C0:
		cmpiw	#0x800,%d1
		bcss	loc_3D0E6
		cmpiw	#0x34C0,%d0
		bcss	loc_3D10C
		movew	#8,(Events_bg+0x00):w
		movel	#Obj_MGZ2BGMoveSonic,%d1
		cmpiw	#0x3800,%d0
		bcss	loc_3D102
		movew	#0x1D0,(Events_bg+0x02):w
		bras	loc_3D10C
/*  --------------------------------------------------------------------------- */

loc_3D0E6:
		cmpiw	#0x3900,%d0
		bcss	loc_3D10C
		movew	#0xC,(Events_bg+0x00):w
		movew	#0x1D0,(Events_bg+0x02):w
		st	(Events_bg+0x0E):w
		clrl	(HScroll_table+0x038):w
		bras	loc_3D10C
/*  --------------------------------------------------------------------------- */

loc_3D102:
		jsr	(Create_New_Sprite):l
		bnes	loc_3D10C
		movel	%d1,(%a1)

loc_3D10C:
		jsr	MGZ2_BGDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		clrl	(HScroll_table):w
		movew	%d2,(HScroll_table+0x006):w
		lea	MGZ2_BGDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	Refresh_PlaneTileDeform(%pc)
		lea	MGZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

MGZ2_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3D13C(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3D13C:
		braw	MGZ2BGE_GoRefresh
/*  --------------------------------------------------------------------------- */
		braw	MGZ2BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	MGZ2BGE_Refresh
/*  --------------------------------------------------------------------------- */

MGZ2BGE_GoRefresh:
		jsr	MGZ2_ClearBottomBG(%pc)
		clrl	(HScroll_table):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3D190
/*  --------------------------------------------------------------------------- */

MGZ2BGE_Normal:
		jsr	MGZ2_BGEventTrigger(%pc)
		bnes	loc_3D190
		jsr	MGZ2_BGDeform(%pc)

loc_3D160:
		lea	MGZ2_BGDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		moveq	#0x20,%d6
		moveq	#2,%d5
		jsr	Draw_BG(%pc)
		lea	MGZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		jsr	ApplyDeformation(%pc)
		lea	MGZ2_FGVScrollArray(%pc),%a4
		lea	(HScroll_table+0x126):w,%a5
		jsr	Apply_FGVScroll(%pc)
		jsr	Get_BGActualEffectiveDiff(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

loc_3D190:
		jsr	MGZ2_BGDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		movew	%d2,(HScroll_table+0x006):w
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3D1B8
/*  --------------------------------------------------------------------------- */

MGZ2BGE_Refresh:
		jsr	MGZ2_BGDeform(%pc)

loc_3D1B8:
		lea	MGZ2_BGDrawArray(%pc),%a4
		lea	(HScroll_table-0x04):w,%a5
		movew	(Camera_Y_pos_BG_copy):w,%d1
		jsr	Draw_PlaneVertBottomUpComplex(%pc)
		bpls	loc_3D160
		subqw	#4,(Events_routine_bg):w
		bras	loc_3D160

/*  =============== S U B R O U T I N E ======================================= */


MGZ2_BGDeform:
		movew	(Events_bg+0x00):w,%d0
		jmp	loc_3D1D8(%pc,%d0.w)
/*  End of function MGZ2_BGDeform */

/*  --------------------------------------------------------------------------- */

loc_3D1D8:
		braw	loc_3D21E
/*  --------------------------------------------------------------------------- */
		braw	loc_3D1F4
/*  --------------------------------------------------------------------------- */
		braw	loc_3D1EA
/*  --------------------------------------------------------------------------- */
		movew	#0x500,%d1
		bras	loc_3D220
/*  --------------------------------------------------------------------------- */

loc_3D1EA:
		movew	#0x8F0,%d1
		movew	#0x3200,%d2
		bras	loc_3D1FC
/*  --------------------------------------------------------------------------- */

loc_3D1F4:
		movew	#0x1E0,%d1
		movew	#0x3580,%d2

loc_3D1FC:
		movew	(Camera_Y_pos_copy):w,%d0
		subw	%d1,%d0
		addw	(Events_bg+0x02):w,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		subw	%d2,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		movew	%d0,(HScroll_table+0x004):w
		movew	%d0,(HScroll_table+0x036):w
		bras	loc_3D24C
/*  --------------------------------------------------------------------------- */

loc_3D21E:
		moveq	#0,%d1

loc_3D220:
		movew	(Camera_Y_pos_copy):w,%d0
		movew	(Screen_shake_offset):w,%d2
		subw	%d2,%d0
		subw	%d1,%d0
		swap	%d0
		clrw	%d0
		asrl	#4,%d0
		movel	%d0,%d1
		addl	%d0,%d0
		addl	%d1,%d0
		swap	%d0
		addw	%d2,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		clrw	(Camera_X_pos_BG_copy):w
		clrw	(HScroll_table+0x004):w
		clrw	(HScroll_table+0x036):w

loc_3D24C:
		movew	(Camera_X_pos_copy):w,%d0
		cmpiw	#8,(Events_routine_fg):w
		bnes	loc_3D25C
		movew	(Events_bg+0x0C):w,%d0

loc_3D25C:
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#3,%d1
		movel	%d1,%d2
		asrl	#2,%d2
		lea	(HScroll_table+0x036):w,%a1
		moveq	#7,%d3

loc_3D270:
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		dbf	%d3,loc_3D270
		tstw	(Events_bg+0x0E):w
		bnes	loc_3D28A
		addil	#0x800,(HScroll_table+0x038):w

loc_3D28A:
		movel	(HScroll_table+0x038):w,%d1
		lea	(HScroll_table+0x008):w,%a1
		lea	MGZ2_BGDeformIndex(%pc),%a5
		movel	%d2,%d0
		asrl	#1,%d2
		moveq	#0xE,%d3

loc_3D29C:
		movew	(%a5)+,%d4
		addl	%d1,%d0
		swap	%d0
		movew	%d0,(%a1,%d4.w)
		swap	%d0
		addl	%d2,%d0
		dbf	%d3,loc_3D29C
		lea	MGZ2_BGDeformOffset(%pc),%a5
		moveq	#0x16,%d0

loc_3D2B4:
		movew	(%a5)+,%d1
		addw	%d1,(%a1)+
		dbf	%d0,loc_3D2B4
		rts

/*  =============== S U B R O U T I N E ======================================= */


MGZ2_ClearBottomBG:
		movew	(%a3),%d0
		addqw	#8,%d0
		movew	%d0,0x74(%a3)
		movew	%d0,0x78(%a3)
		movew	%d0,0x7C(%a3)
		rts
/*  End of function MGZ2_ClearBottomBG */


/*  =============== S U B R O U T I N E ======================================= */


MGZ2_BGEventTrigger:
		tstw	(_unkEEA2):w
		beqs	loc_3D2D8
		rts
/*  --------------------------------------------------------------------------- */

loc_3D2D8:
		movew	(Player_1+x_pos):w,%d0
		movew	(Player_1+y_pos):w,%d1
		movew	(Events_bg+0x00):w,%d2
		jmp	loc_3D2E8(%pc,%d2.w)
/*  End of function MGZ2_BGEventTrigger */

/*  --------------------------------------------------------------------------- */

loc_3D2E8:
		braw	loc_3D376
/*  --------------------------------------------------------------------------- */
		braw	loc_3D348
/*  --------------------------------------------------------------------------- */
		braw	loc_3D310
/*  --------------------------------------------------------------------------- */
		clrb	(Background_collision_flag):w
		cmpiw	#0x800,%d1
		bcsw	loc_3D3C4
		cmpiw	#0x3A40,%d0
		bcsw	loc_3D3C4
		movew	#8,(Events_bg+0x00):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3D310:
		st	(Background_collision_flag):w
		cmpiw	#0x800,%d1
		bccs	loc_3D32E
		cmpiw	#0x3900,%d0
		bcsw	loc_3D3C4
		st	(Events_bg+0x0E):w
		clrl	(HScroll_table+0x038):w
		moveq	#0xC,%d0
		bras	loc_3D340
/*  --------------------------------------------------------------------------- */

loc_3D32E:
		cmpiw	#0x900,%d1
		bccw	loc_3D3C4
		cmpiw	#0x34C0,%d0
		bccw	loc_3D3C4
		moveq	#0,%d0

loc_3D340:
		movew	%d0,(Events_bg+0x00):w
		moveq	#-1,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_3D348:
		st	(Background_collision_flag):w
		cmpiw	#0x100,%d1
		bccs	loc_3D35C
		cmpiw	#0x3C00,%d0
		bcss	loc_3D35C
		clrb	(Background_collision_flag):w

loc_3D35C:
		cmpiw	#0x80,%d1
		bcss	loc_3D3C4
		cmpiw	#0x180,%d1
		bccs	loc_3D3C4
		cmpiw	#0x3800,%d0
		bccs	loc_3D3C4
		clrw	(Events_bg+0x00):w
		moveq	#-1,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_3D376:
		clrb	(Background_collision_flag):w
		cmpiw	#0x80,%d1
		bcss	loc_3D3C4
		cmpiw	#0x180,%d1
		bccs	loc_3D396
		cmpiw	#0x3800,%d0
		bcss	loc_3D3C4
		moveq	#4,%d0
		movel	#Obj_MGZ2BGMoveKnux,%d1
		bras	loc_3D3B0
/*  --------------------------------------------------------------------------- */

loc_3D396:
		cmpiw	#0x800,%d1
		bcss	loc_3D3C4
		cmpiw	#0x900,%d1
		bccs	loc_3D3C4
		cmpiw	#0x34C0,%d0
		bcss	loc_3D3C4
		moveq	#8,%d0
		movel	#Obj_MGZ2BGMoveSonic,%d1

loc_3D3B0:
		movew	%d0,(Events_bg+0x00):w
		clrw	(Events_bg+0x02):w
		jsr	(Create_New_Sprite):l
		bnes	locret_3D3C2
		movel	%d1,(%a1)

locret_3D3C2:
		rts
/*  --------------------------------------------------------------------------- */

loc_3D3C4:
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

Obj_MGZ2BGMoveKnux:
		moveq	#4,%d0
		movew	#0x400,%d1
		movew	#0x38A0,%d2
		movew	#0x220,%d3
		movew	#0x6000,%d4
		bras	loc_3D3F2
/*  --------------------------------------------------------------------------- */

Obj_MGZ2BGMoveSonic:
		moveq	#8,%d0
		movew	#0xA80,%d1
		movew	#0x36D0,%d2
		movew	#0x1D0,%d3
		movew	#0x6000,%d4
		st	0x38(%a0)

loc_3D3F2:
		cmpw	(Events_bg+0x00):w,%d0
		beqs	loc_3D3FE
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3D3FE:
		cmpw	(Player_1+y_pos):w,%d1
		bccs	locret_3D40A
		cmpw	(Player_1+x_pos):w,%d2
		bcss	loc_3D40C

locret_3D40A:
		rts
/*  --------------------------------------------------------------------------- */

loc_3D40C:
		movew	%d3,0x2E(%a0)
		movew	%d4,0x32(%a0)
		movew	(Camera_X_pos_copy):w,%d0
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_target_min_X_pos):w
		movel	#loc_3D426,(%a0)

loc_3D426:
		movew	(Events_bg+0x02):w,%d0
		cmpw	0x2E(%a0),%d0
		bcss	loc_3D444
		moveq	#sfx_Crash,%d0
		jsr	(Play_Sound_2):l
		movew	#0xE,(Screen_shake_flag):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3D444:
		movew	(Player_1+x_pos):w,%d2
		movew	(Player_1+y_pos):w,%d3
		tstb	0x39(%a0)
		beqs	loc_3D458
		movew	%d0,%d1
		addqw	#1,%d1
		bras	loc_3D484
/*  --------------------------------------------------------------------------- */

loc_3D458:
		tstb	0x38(%a0)
		bnes	loc_3D46C
		cmpiw	#0x200,%d3
		bccs	loc_3D476
		cmpiw	#0x3CB0,%d2
		bcss	loc_3D472
		bras	loc_3D476
/*  --------------------------------------------------------------------------- */

loc_3D46C:
		cmpiw	#0x3D50,%d2
		bcss	loc_3D476

loc_3D472:
		st	0x39(%a0)

loc_3D476:
		movel	0x34(%a0),%d1
		addl	0x30(%a0),%d1
		movel	%d1,0x34(%a0)
		swap	%d1

loc_3D484:
		movew	%d1,(Events_bg+0x02):w
		subw	%d0,%d1
		subw	%d1,(Player_1+y_pos):w
		subw	%d1,(Player_2+y_pos):w
		rts
/*  --------------------------------------------------------------------------- */
MGZ2_BGDrawArray:.word 0x200, 0x7FFF
MGZ2_BGDeformArray:.word 0x10, 0x10, 0x10, 0x10, 0x10, 0x18, 8, 0x10, 8, 8, 0x10, 8
		.word 8, 8, 5, 0x2B, 0xC, 6, 6, 8, 8, 0x18, 0xD8, 0x7FFF
MGZ2_BGDeformIndex:.word  0x1C, 0x18, 0x1A,  0xC,   6, 0x14,   2, 0x10, 0x16, 0x12,  0xA,   0,   8,   4,  0xE
MGZ2_BGDeformOffset:.word   -5,  -8,   9,  0xA,   2, -0xC,   3, 0x10,  -1,  0xD, -0xF,   6, -0xB,  -4,  0xE
		.word   -8, 0x10,   8,   0,  -8, 0x10,   8,   0
/*  --------------------------------------------------------------------------- */

CNZ1_ScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

CNZ1_ScreenEvent:
		tstw	(Events_bg+0x06):w
		beqs	loc_3D52A
		clrw	(Events_bg+0x06):w
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3D52A:
		jsr	DrawTilesAsYouMove(%pc)
		lea	(Events_bg+0x00):w,%a5
		tstl	(%a5)
		beqw	locret_3D5EA
		movew	(%a5)+,%d0
		movew	(%a5),%d1
		clrl	-2(%a5)
		movew	%d0,%d2
		movew	%d1,%d3
		asrw	#3,%d2
		movew	%d2,%d4
		asrw	#4,%d2
		movew	%d3,%d5
		asrw	#5,%d3
		andw	(Layout_row_index_mask):w,%d3
		moveaw	(%a3,%d3.w),%a4
		moveq	#-1,%d6
		clrw	%d6
		moveb	(%a4,%d2.w),%d6
		lslw	#7,%d6
		andiw	#0xC,%d4
		andiw	#0x60,%d5
		addw	%d4,%d6
		addw	%d5,%d6
		moveal	%d6,%a4
		clrl	(%a4)
		clrl	0x10(%a4)
		asrw	#2,%d0
		andiw	#0x78,%d0
		lslw	#4,%d1
		andiw	#0xE00,%d1
		addw	%d1,%d0
		addw	%d7,%d0
		moveq	#0,%d1
		movew	%d0,(%a0)+
		movew	#1,(%a0)+
		movel	%d1,(%a0)+
		movel	%d1,(%a0)+
		movel	%d1,(%a0)+
		movel	%d1,(%a0)+
		addiw	#0x100,%d0
		movew	%d0,(%a0)+
		movew	#1,(%a0)+
		movel	%d1,(%a0)+
		movel	%d1,(%a0)+
		movel	%d1,(%a0)+
		movel	%d1,(%a0)+
		clrw	(%a0)
		moveaw	0x18(%a3),%a4
		lea	0x64(%a4),%a4
		moveq	#0,%d1
		clrw	(Events_bg+0x04):w
		moveq	#3,%d3

loc_3D5B8:
		lea	(%a4),%a5
		moveq	#2,%d2

loc_3D5BC:
		moveq	#-1,%d0
		clrw	%d0
		moveb	(%a5)+,%d0
		lslw	#7,%d0
		addw	%d1,%d0
		moveal	%d0,%a6
		tstl	(%a6)+
		bnes	locret_3D5EA
		tstl	(%a6)+
		bnes	locret_3D5EA
		tstl	(%a6)+
		bnes	locret_3D5EA
		tstl	(%a6)
		bnes	locret_3D5EA
		dbf	%d2,loc_3D5BC
		addiw	#0x20,%d1
		addiw	#0x20,(Events_bg+0x04):w
		dbf	%d3,loc_3D5B8

locret_3D5EA:
		rts
/*  --------------------------------------------------------------------------- */

CNZ1_BackgroundInit:
		jsr	CNZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	CNZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

CNZ1_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3D60E(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3D60E:
		braw	CNZ1BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	CNZ1BGE_BossStart
/*  --------------------------------------------------------------------------- */
		braw	CNZ1BGE_Boss
/*  --------------------------------------------------------------------------- */
		braw	CNZ1BGE_AfterBoss
/*  --------------------------------------------------------------------------- */
		braw	CNZ1BGE_FGRefresh
/*  --------------------------------------------------------------------------- */
		braw	CNZ1BGE_FGRefresh2
/*  --------------------------------------------------------------------------- */
		braw	CNZ1BGE_DoTransition
/*  --------------------------------------------------------------------------- */

CNZ1BGE_Normal:
		cmpiw	#0x3000,(Camera_X_pos_copy):w
		bcss	loc_3D678
		cmpiw	#0x54C,(Camera_Y_pos_copy):w
		bcss	loc_3D652
		movew	#0x700,%d0
		subw	%d0,(Player_1+y_pos):w
		subw	%d0,(Player_2+y_pos):w
		subw	%d0,(Camera_Y_pos):w
		subw	%d0,(Camera_Y_pos_copy):w
		jsr	Reset_TileOffsetPositionActual(%pc)

loc_3D652:
		jsr	CNZ1_BossLevelScroll(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		lea	(Pal_CNZMiniboss):l,%a1
		jsr	(PalLoad_Line1):l
		movew	#0x1C0,%d0
		movew	%d0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_target_min_Y_pos):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3D69C
/*  --------------------------------------------------------------------------- */

loc_3D678:
		jsr	CNZ1_Deform(%pc)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	CNZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

CNZ1BGE_BossStart:
		jsr	CNZ1_BossLevelScroll(%pc)

loc_3D69C:
		jsr	DrawBGAsYouMove(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

CNZ1BGE_Boss:
		jsr	CNZ1_BossLevelScroll2(%pc)
		lea	(Camera_X_pos_BG_copy):w,%a6
		lea	(Camera_X_pos_BG_rounded):w,%a5
		movew	#0x200,%d1
		moveq	#0x10,%d6
		jsr	Draw_TileColumn(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

CNZ1BGE_AfterBoss:
		tstw	(Events_fg_5):w
		bnes	loc_3D6D4
		jsr	CNZ1_BossLevelScroll2(%pc)
		jsr	DrawBGAsYouMove(%pc)
		jsr	PlainDeformation(%pc)
		jmp	Get_BGActualEffectiveDiff(%pc)
/*  --------------------------------------------------------------------------- */

loc_3D6D4:
		clrw	(Events_fg_5):w
		movew	#0x2F0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w

CNZ1BGE_FGRefresh:
		movew	#-0x4000,%d7
		moveq	#0,%d1
		movew	#0x200,%d2
		jsr	Draw_PlaneVertSingleBottomUp(%pc)
		bmis	loc_3D70C
		movew	#-0x2000,%d7
		jsr	CNZ1_BossLevelScroll2(%pc)
		jsr	DrawBGAsYouMove(%pc)
		jsr	PlainDeformation(%pc)
		jmp	Get_BGActualEffectiveDiff(%pc)
/*  --------------------------------------------------------------------------- */

loc_3D70C:
		moveaw	0xC(%a3),%a1
		addqw	#4,%a1
		movew	-8(%a3),%d0
		subqw	#5,%d0
		moveaw	0x12(%a3),%a5
		lea	0x63(%a5),%a5
		movew	-0xA(%a3),%d1
		subqw	#5,%d1
		moveq	#5,%d2

loc_3D728:
		moveb	(%a1)+,(%a5)+
		moveb	(%a1)+,(%a5)+
		moveb	(%a1)+,(%a5)+
		moveb	(%a1)+,(%a5)+
		moveb	(%a1)+,(%a5)+
		addaw	%d0,%a1
		addaw	%d1,%a5
		dbf	%d2,loc_3D728
		clrb	(Background_collision_flag):w
		clrw	(Events_bg+0x08):w
		movew	#0x1C0,%d0
		addw	%d0,(Player_1+y_pos):w
		addw	%d0,(Player_2+y_pos):w
		addw	%d0,(Camera_Y_pos):w
		addw	%d0,(Camera_Y_pos_copy):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w

CNZ1BGE_FGRefresh2:
		lea	(Level_layout_main):w,%a3
		movew	#-0x4000,%d7
		movew	(Camera_X_pos_copy):w,%d1
		movew	(Camera_Y_pos_copy):w,%d2
		jsr	Draw_PlaneVertSingleBottomUp(%pc)
		bmis	loc_3D798
		addqw	#2,%a3
		movew	#-0x2000,%d7
		jsr	CNZ1_BossLevelScroll2(%pc)
		jsr	DrawBGAsYouMove(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3D798:
		addqw	#2,%a3
		movew	#-0x2000,%d7
		jsr	(Create_New_Sprite):l
		bnes	loc_3D7B2
		movel	#Obj_EndSign,(%a1)
		movew	#0x32C0,0x10(%a1)

loc_3D7B2:
		addqw	#4,(Events_routine_bg):w

CNZ1BGE_DoTransition:
		tstw	(Events_fg_5):w
		beqw	loc_3D870
		clrw	(Events_fg_5):w
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		moveq	#0x18,%d0
		jsr	(Load_PLC):l
		moveq	#0x19,%d0
		jsr	(Load_PLC):l
		movew	#0x301,(Current_zone_and_act):w
		clrb	(Dynamic_resize_routine):w
		clrb	(Object_load_routine):w
		clrb	(Rings_manager_routine):w
		clrb	(Boss_flag):w
		clrb	(Respawn_table_keep):w
		jsr	Clear_Switches(%pc)
		jsr	(Load_Level):l
		jsr	(LoadSolids):l
		jsr	(CheckLevelForWater):l
		movew	#0x8014,(VDP_control_port):l
		moveq	#0x11,%d0
		jsr	(LoadPalette_Immediate):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		movew	#0x3000,%d0
		movew	#-0x200,%d1
		subw	%d0,(Player_1+x_pos):w
		subw	%d1,(Player_1+y_pos):w
		subw	%d0,(Player_2+x_pos):w
		subw	%d1,(Player_2+y_pos):w
		jsr	Offset_ObjectsDuringTransition(%pc)
		subw	%d0,(Camera_X_pos):w
		subw	%d1,(Camera_Y_pos):w
		subw	%d0,(Camera_X_pos_copy):w
		subw	%d1,(Camera_Y_pos_copy):w
		subw	%d0,(Camera_min_X_pos):w
		subw	%d0,(Camera_max_X_pos):w
		subw	%d1,(Camera_min_Y_pos):w
		subw	%d1,(Camera_max_Y_pos):w
		movew	(Camera_max_Y_pos):w,(Camera_target_max_Y_pos):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		movew	#0x2F0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		clrw	(Events_routine_bg):w

loc_3D870:
		jsr	CNZ1_BossLevelScroll2(%pc)
		jsr	DrawBGAsYouMove(%pc)
		jmp	PlainDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


CNZ1_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#4,%d0
		movel	%d0,%d1
		asrl	#1,%d1
		addl	%d1,%d0
		asrl	#2,%d1
		addl	%d1,%d0
		swap	%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#3,%d1
		lea	(HScroll_table+0x00A):w,%a1
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,(Events_bg+0x10):w
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		asrl	#1,%d1
		subl	%d1,%d0
		swap	%d0
		movew	%d0,-(%a1)
		rts
/*  End of function CNZ1_Deform */


/*  =============== S U B R O U T I N E ======================================= */


CNZ1_BossLevelScroll:
		cmpiw	#0x1E0,(Camera_Y_pos_BG_copy):w
		bcss	CNZ1_BossLevelScroll2
		addqw	#4,(Events_routine_bg):w

CNZ1_BossLevelScroll2:
		movew	(Camera_Y_pos_copy):w,%d0
		subiw	#0x100,%d0
		addw	(Events_bg+0x08):w,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		subiw	#0x2F80,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		rts
/*  End of function CNZ1_BossLevelScroll */

/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossScrollControl:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		jmp	loc_3D918(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3D918:
		braw	Obj_CNZMinibossScrollInit
/*  --------------------------------------------------------------------------- */
		braw	Obj_CNZMinibossScrollMain
/*  --------------------------------------------------------------------------- */
		braw	Obj_CNZMinibossScrollWait
/*  --------------------------------------------------------------------------- */
		braw	Obj_CNZMinibossScrollSlow
/*  --------------------------------------------------------------------------- */
		braw	Obj_CNZMinibossScrollWait2
/*  --------------------------------------------------------------------------- */
		braw	Obj_CNZMinibossScrollWait3
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossScrollInit:
		lea	(Level_layout_main):w,%a3
		moveaw	0x14(%a3),%a1
		moveb	0x63(%a1),%d0
		subaw	-8(%a3),%a1
		moveb	%d0,0x63(%a1)
		addqw	#2,%a3
		moveaw	(%a3),%a1
		moveb	4(%a1),%d0
		movew	-8(%a3),%d1
		addaw	%d1,%a1
		moveb	%d0,4(%a1)
		addaw	%d1,%a1
		moveb	%d0,4(%a1)
		addqb	#4,5(%a0)

Obj_CNZMinibossScrollMain:
		tstw	(Events_fg_5):w
		bnes	loc_3D982
		movel	(Events_bg+0x0C):w,%d0
		cmpil	#0x40000,%d0
		bccs	loc_3D97C
		addil	#0x200,%d0
		movel	%d0,(Events_bg+0x0C):w

loc_3D97C:
		addl	%d0,(Events_bg+0x08):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3D982:
		clrw	(Events_fg_5):w
		addqb	#4,5(%a0)

Obj_CNZMinibossScrollWait:
		movew	(Events_bg+0x08):w,%d0
		andiw	#0xFF,%d0
		cmpiw	#4,%d0
		bcss	loc_3D9A2
		movel	(Events_bg+0x0C):w,%d0
		addl	%d0,(Events_bg+0x08):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3D9A2:
		addqb	#4,5(%a0)

Obj_CNZMinibossScrollSlow:
		movel	(Events_bg+0x0C):w,%d0
		cmpil	#0x10000,%d0
		blss	loc_3D9C2
		subil	#0x400,%d0
		movel	%d0,(Events_bg+0x0C):w
		addl	%d0,(Events_bg+0x08):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3D9C2:
		addqb	#4,5(%a0)

Obj_CNZMinibossScrollWait2:
		movew	(Events_bg+0x08):w,%d0
		andiw	#0xFF,%d0
		cmpiw	#4,%d0
		bcss	loc_3D9DE
		movel	(Events_bg+0x0C):w,%d0
		addl	%d0,(Events_bg+0x08):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3D9DE:
		movew	%d0,(Events_bg+0x08):w
		movew	#0x1000,(Camera_target_max_Y_pos):w
		st	(Background_collision_flag):w
		addqw	#4,(Events_routine_bg):w
		moveaw	(Level_layout_main):w,%a1
		lea	0x67(%a1),%a1
		movew	(Level_layout_header):w,%d0
		moveq	#0,%d1
		moveq	#6,%d2

loc_3DA00:
		moveb	%d1,(%a1)
		addaw	%d0,%a1
		dbf	%d2,loc_3DA00
		addqb	#4,5(%a0)

Obj_CNZMinibossScrollWait3:
		cmpiw	#0x1C0,(Events_bg+0x08):w
		bccs	loc_3DA1E
		movel	(Events_bg+0x0C):w,%d0
		addl	%d0,(Events_bg+0x08):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3DA1E:
		st	(Events_fg_5):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
CNZ1_BGDeformArray:.word 0x80
		.word 0x30
		.word 0x60
		.word 0xC0
		.word 0x7FFF
/*  --------------------------------------------------------------------------- */

CNZ2_ScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

CNZ2_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		tstw	(Events_bg+0x06):w
		beqs	loc_3DA50
		clrw	(Events_bg+0x06):w
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3DA50:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

CNZ2_BackgroundInit:
		movew	#8,(Events_routine_bg):w
		jsr	CNZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	CNZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

CNZ2_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3DA7C(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3DA7C:
		braw	loc_3DA88
/*  --------------------------------------------------------------------------- */
		braw	loc_3DAB6
/*  --------------------------------------------------------------------------- */
		braw	loc_3DACC
/*  --------------------------------------------------------------------------- */

loc_3DA88:
		moveq	#0,%d1
		movew	#0x200,%d2
		jsr	Draw_PlaneVertSingleBottomUp(%pc)
		bplw	PlainDeformation
		jsr	CNZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3DABA
/*  --------------------------------------------------------------------------- */

loc_3DAB6:
		jsr	CNZ1_Deform(%pc)

loc_3DABA:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertSingleBottomUp(%pc)
		bpls	loc_3DAD0
		addqw	#4,(Events_routine_bg):w
		bras	loc_3DAD0
/*  --------------------------------------------------------------------------- */

loc_3DACC:
		jsr	CNZ1_Deform(%pc)

loc_3DAD0:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	CNZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	ApplyDeformation(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

ICZ1_ScreenInit:
		movew	#0x7FF,(Screen_Y_wrap_value):w
		movew	#0x7F0,(Camera_Y_pos_mask):w
		movew	#0x3C,(Layout_row_index_mask):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

ICZ1_ScreenEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3DB12(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3DB12:
		braw	ICZ1SE_Init
/*  --------------------------------------------------------------------------- */
		braw	ICZ1SE_WaitQuake
/*  --------------------------------------------------------------------------- */
		braw	ICZ1SE_Normal
/*  --------------------------------------------------------------------------- */
		braw	ICZ1SE_Normal
/*  --------------------------------------------------------------------------- */
		braw	ICZ1SE_Normal
/*  --------------------------------------------------------------------------- */
		braw	ICZ1SE_Normal
/*  --------------------------------------------------------------------------- */

ICZ1SE_Init:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_X_pos_copy):w
		bras	ICZ1SE_Normal
/*  --------------------------------------------------------------------------- */

ICZ1SE_WaitQuake:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w

ICZ1SE_Normal:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

ICZ1_BackgroundInit:
		lea	(%a3),%a1
		moveq	#7,%d0

loc_3DB44:
		movew	(%a1),0x20(%a1)
		addqw	#4,%a1
		dbf	%d0,loc_3DB44
		movew	(Camera_Y_pos_copy):w,(Events_fg_0):w
		movew	(Camera_Y_pos_copy):w,(Events_fg_1):w
		cmpiw	#0x3940,(Camera_X_pos_copy):w
		bccs	loc_3DB9C
		cmpiw	#0x3600,(Camera_X_pos_copy):w
		bcss	loc_3DB70
		addiw	#0x2800,(Events_fg_1):w

loc_3DB70:
		cmpiw	#0x580,(Camera_Y_pos_copy):w
		bccs	loc_3DB9C
		clrw	(Events_bg+0x16):w
		jsr	ICZ1_SetIntroPal(%pc)
		jsr	ICZ1_IntroDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		movew	#0x1880,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	ICZ1_IntroBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3DB9C:
		movew	#0x10,(Events_routine_bg):w
		st	(Events_bg+0x16):w
		jsr	ICZ1_SetIndoorPal(%pc)
		jsr	ICZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		jsr	Refresh_PlaneFull(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

ICZ1_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3DBC2(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3DBC2:
		braw	ICZ1BGE_Intro
/*  --------------------------------------------------------------------------- */
		braw	ICZ1BGE_SnowFall
/*  --------------------------------------------------------------------------- */
		braw	ICZ1BGE_Refresh
/*  --------------------------------------------------------------------------- */
		braw	ICZ1BGE_Refresh2
/*  --------------------------------------------------------------------------- */
		braw	ICZ1BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	ICZ1BGE_Transition
/*  --------------------------------------------------------------------------- */

ICZ1BGE_Intro:
		tstw	(Events_fg_5):w
		beqs	loc_3DBFA
		clrw	(Events_fg_5):w
		clrl	(Events_bg+0x00):w
		clrl	(Events_bg+0x04):w
		jsr	ICZ1_BigSnowFall(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addqw	#4,(Events_routine_bg):w
		bras	loc_3DC2A
/*  --------------------------------------------------------------------------- */

loc_3DBFA:
		jsr	ICZ1_IntroDeform(%pc)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		movew	#0x1880,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	ICZ1_IntroBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	ApplyDeformation(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

ICZ1BGE_SnowFall:
		tstw	(Events_fg_5):w
		bnes	loc_3DC36
		jsr	ICZ1_BigSnowFall(%pc)

loc_3DC2A:
		jsr	DrawBGAsYouMove(%pc)
		jsr	PlainDeformation(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

loc_3DC36:
		clrw	(Events_fg_5):w
		movew	#0x2E0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w

ICZ1BGE_Refresh:
		movew	#0x1880,%d1
		movew	#0x200,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bplw	PlainDeformation
		jsr	ICZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3DC7E
/*  --------------------------------------------------------------------------- */

ICZ1BGE_Refresh2:
		jsr	ICZ1_Deform(%pc)

loc_3DC7E:
		movew	(Camera_X_pos_BG_copy):w,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3DCEC
		st	(Events_bg+0x16):w
		jsr	ICZ1_SetIndoorPal(%pc)
		addqw	#4,(Events_routine_bg):w
		bras	loc_3DCEC
/*  --------------------------------------------------------------------------- */

ICZ1BGE_Normal:
		cmpiw	#0x6900,(Camera_X_pos_copy):w
		bcss	loc_3DCE8
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		lea	(ICZ2_128x128_Secondary_Kos):l,%a1
		lea	(RAM_start+0xA00):l,%a2
		jsr	(Queue_Kos):l
		lea	(ICZ2_16x16_Secondary_Kos):l,%a1
		lea	(Block_table+0x408):w,%a2
		jsr	(Queue_Kos):l
		lea	(ICZ2_8x8_Secondary_KosM):l,%a1
		movew	#0x2440,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x20,%d0
		jsr	(Load_PLC):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		addqw	#4,(Events_routine_bg):w

loc_3DCE8:
		jsr	ICZ1_Deform(%pc)

loc_3DCEC:
		jsr	DrawBGAsYouMove(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

ICZ1BGE_Transition:
		tstw	(Kos_decomp_queue_count):w
		bnew	loc_3DDA6
		movew	#0x501,(Current_zone_and_act):w
		clrb	(Dynamic_resize_routine):w
		clrb	(Object_load_routine):w
		clrb	(Rings_manager_routine):w
		clrb	(Boss_flag):w
		clrb	(Respawn_table_keep):w
		jsr	Clear_Switches(%pc)
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		jsr	(Load_Level):l
		jsr	(LoadSolids):l
		jsr	(CheckLevelForWater):l
		movew	#0x8014,(VDP_control_port):l
		moveq	#0x15,%d0
		jsr	(LoadPalette_Immediate):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		movew	#0x6880,%d0
		movew	#-0x100,%d1
		subw	%d0,(Player_1+x_pos):w
		subw	%d1,(Player_1+y_pos):w
		subw	%d0,(Player_2+x_pos):w
		subw	%d1,(Player_2+y_pos):w
		jsr	Offset_ObjectsDuringTransition(%pc)
		subw	%d0,(Camera_X_pos):w
		subw	%d1,(Camera_Y_pos):w
		subw	%d0,(Camera_X_pos_copy):w
		subw	%d1,(Camera_Y_pos_copy):w
		movel	#0x7000,%d0
		movel	%d0,(Camera_min_X_pos):w
		movel	%d0,(Camera_target_min_X_pos):w
		movel	#0xB20,%d0
		movel	%d0,(Camera_min_Y_pos):w
		movel	%d0,(Camera_target_min_Y_pos):w
		movew	#0xFFF,(Screen_Y_wrap_value):w
		movew	#0xFF0,(Camera_Y_pos_mask):w
		movew	#0x7C,(Layout_row_index_mask):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		clrw	(Events_routine_bg):w

loc_3DDA6:
		jsr	ICZ1_Deform(%pc)
		jmp	PlainDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


ICZ1_IntroDeform:
		lea	(Events_fg_0):w,%a1
		movew	(Camera_Y_pos_copy):w,%d0
		movew	#0x400,%d2
		movew	#0x800,%d3
		jsr	Adjust_BGDuringLoop(%pc)
		movew	(Events_fg_1):w,%d0
		asrw	#7,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		movew	(Screen_shake_offset):w,%d3
		subw	%d3,%d0
		swap	%d0
		clrw	%d0
		asrl	#5,%d0
		movel	%d0,%d1
		swap	%d0
		addw	%d3,%d0
		swap	%d0
		lea	(HScroll_table):w,%a1
		moveq	#4,%d2
		bsrs	sub_3DDF6
		addl	%d1,%d0
		movel	%d1,%d2
		asrl	#1,%d2
		addl	%d2,%d1
		moveq	#8,%d2
/*  End of function ICZ1_IntroDeform */


/*  =============== S U B R O U T I N E ======================================= */


sub_3DDF6:
		swap	%d0
		movew	%d0,(%a1)+
		swap	%d0
		addl	%d1,%d0
		dbf	%d2,sub_3DDF6
		rts
/*  End of function sub_3DDF6 */


/*  =============== S U B R O U T I N E ======================================= */


ICZ1_BigSnowFall:
		cmpiw	#-0x120,(Events_bg+0x00):w
		bles	loc_3DE36
		st	(Screen_shake_flag):w
		addil	#0x2400,(Events_bg+0x04):w
		movel	(Events_bg+0x04):w,%d0
		subl	%d0,(Events_bg+0x00):w
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	loc_3DE42
		moveq	#sfx_Rumble2,%d0
		jsr	(Play_Sound_2):l
		bras	loc_3DE42
/*  --------------------------------------------------------------------------- */

loc_3DE36:
		tstw	(Screen_shake_flag):w
		bpls	loc_3DE42
		movew	#4,(Screen_shake_flag):w

loc_3DE42:
		movew	(Camera_Y_pos_copy):w,%d0
		subiw	#0x460,%d0
		addw	(Events_bg+0x00):w,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		subiw	#0x1D40,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		rts
/*  End of function ICZ1_BigSnowFall */


/*  =============== S U B R O U T I N E ======================================= */


ICZ1_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		asrw	#1,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		asrw	#1,%d0
		movew	%d0,(Events_bg+0x12):w
		movew	(Camera_X_pos_copy):w,%d0
		asrw	#1,%d0
		subiw	#0x1D80,%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		asrw	#1,%d0
		movew	%d0,(Events_bg+0x10):w
		rts
/*  End of function ICZ1_Deform */


/*  =============== S U B R O U T I N E ======================================= */


ICZ1_SetIntroPal:
		tstb	(Game_mode):w
		bmis	loc_3DE92
		lea	(Normal_palette_line_4+2):w,%a1
		bsrs	sub_3DE96

loc_3DE92:
		lea	(Target_palette_line_4+2):w,%a1
/*  End of function ICZ1_SetIntroPal */


/*  =============== S U B R O U T I N E ======================================= */


sub_3DE96:
		movel	#0xEEE0EEC,(%a1)+
		movel	#0xEEA0ECA,(%a1)+
		movel	#0xEC80EA6,(%a1)+
		movel	#0xE860E64,(%a1)+
		movel	#0xE400E00,(%a1)+
		movel	#0xC000000,(%a1)+
		movel	#0xAEC0CEA,(%a1)+
		movew	#0xE80,(%a1)
		rts
/*  End of function sub_3DE96 */


/*  =============== S U B R O U T I N E ======================================= */


ICZ1_SetIndoorPal:
		tstb	(Game_mode):w
		bmis	loc_3DED2
		lea	(Normal_palette_line_4+2):w,%a1
		bsrs	sub_3DED6

loc_3DED2:
		lea	(Target_palette_line_4+2):w,%a1
/*  End of function ICZ1_SetIndoorPal */


/*  =============== S U B R O U T I N E ======================================= */


sub_3DED6:
		movel	#0xEC00E40,(%a1)+
		movel	#0xE040C00,(%a1)+
		movel	#0x6000200,(%a1)+
		movel	#0xE64,(%a1)+
		movel	#0xE240A02,(%a1)+
		movew	#0x402,(%a1)
		rts
/*  End of function sub_3DED6 */

/*  --------------------------------------------------------------------------- */
ICZ1_IntroBGDeformArray:.word 0x44, 0xC, 0xB, 0xD, 0x18, 0x50, 2, 6, 8, 0x10, 0x18, 0x20, 0x28, 0x7FFF
/*  --------------------------------------------------------------------------- */

ICZ2_ScreenInit:
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

ICZ2_ScreenEvent:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

ICZ2_BackgroundInit:
		movew	#4,(Events_routine_bg):w
		cmpiw	#0x3600,(Camera_X_pos_copy):w
		bccs	loc_3DF48
		cmpiw	#0x720,(Camera_Y_pos_copy):w
		bccs	loc_3DF76
		cmpiw	#0x1000,(Camera_X_pos_copy):w
		bccs	loc_3DF48
		cmpiw	#0x580,(Camera_Y_pos_copy):w
		bccs	loc_3DF76

loc_3DF48:
		clrw	(Events_bg+0x16):w
		cmpiw	#0x720,(Camera_X_pos_copy):w
		bccs	loc_3DF5A
		jsr	ICZ2_SetICZ1Pal(%pc)
		bras	loc_3DF5E
/*  --------------------------------------------------------------------------- */

loc_3DF5A:
		jsr	ICZ2_SetOutdoorsPal(%pc)

loc_3DF5E:
		jsr	ICZ2_OutDeform(%pc)
		moveq	#0,%d0
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	ICZ2_OutBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3DF76:
		st	(Events_bg+0x16):w
		jsr	ICZ2_SetIndoorsPal(%pc)
		jsr	ICZ2_InDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		lea	ICZ2_InBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

ICZ2_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3DFA0(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3DFA0:
		braw	ICZ2BGE_FromICZ1
/*  --------------------------------------------------------------------------- */
		braw	ICZ2BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	ICZ2BGE_Refresh
/*  --------------------------------------------------------------------------- */

ICZ2BGE_FromICZ1:
		addqw	#4,(Events_routine_bg):w
		cmpiw	#0x580,(Camera_Y_pos_copy):w
		bccs	loc_3DFD8
		bras	loc_3E036
/*  --------------------------------------------------------------------------- */

ICZ2BGE_Normal:
		tstw	(Events_bg+0x16):w
		bnes	loc_3E012
		movew	(Camera_X_pos_copy):w,%d0
		cmpiw	#0x1000,%d0
		bcss	loc_3E002
		cmpiw	#0x3600,%d0
		bccs	loc_3E002
		cmpiw	#0x720,(Camera_Y_pos_copy):w
		bcss	loc_3E002

loc_3DFD8:
		st	(Events_bg+0x16):w
		jsr	ICZ2_SetIndoorsPal(%pc)
		jsr	ICZ2_InDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		braw	loc_3E0B0
/*  --------------------------------------------------------------------------- */

loc_3E002:
		jsr	ICZ2_OutDeform(%pc)

loc_3E006:
		lea	ICZ2_OutBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E012:
		movew	(Camera_X_pos_copy):w,%d0
		cmpiw	#0x1900,%d0
		bcss	loc_3E022
		cmpiw	#0x1B80,%d0
		bcss	loc_3E06C

loc_3E022:
		cmpiw	#0x1000,%d0
		bcss	loc_3E06C
		cmpiw	#0x3600,%d0
		bccs	loc_3E06C
		cmpiw	#0x720,(Camera_Y_pos_copy):w
		bccs	loc_3E06C

loc_3E036:
		clrw	(Events_bg+0x16):w
		cmpiw	#0x720,(Camera_X_pos_copy):w
		bccs	loc_3E048
		jsr	ICZ2_SetICZ1Pal(%pc)
		bras	loc_3E04C
/*  --------------------------------------------------------------------------- */

loc_3E048:
		jsr	ICZ2_SetOutdoorsPal(%pc)

loc_3E04C:
		jsr	ICZ2_OutDeform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3E096
/*  --------------------------------------------------------------------------- */

loc_3E06C:
		jsr	ICZ2_InDeform(%pc)

loc_3E070:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	ICZ2_InBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

ICZ2BGE_Refresh:
		tstw	(Events_bg+0x16):w
		bnes	loc_3E0AC
		jsr	ICZ2_OutDeform(%pc)

loc_3E096:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bplw	loc_3E006
		subqw	#4,(Events_routine_bg):w
		braw	loc_3E006
/*  --------------------------------------------------------------------------- */

loc_3E0AC:
		jsr	ICZ2_InDeform(%pc)

loc_3E0B0:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3E070
		subqw	#4,(Events_routine_bg):w
		bras	loc_3E070

/*  =============== S U B R O U T I N E ======================================= */


ICZ2_OutDeform:
		clrw	(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		movew	(Level_frame_counter):w,%d1
		asrw	#1,%d1
		addw	%d1,%d0
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		andil	#0x7FFFFF,%d0
		movel	%d0,%d1
		asrl	#6,%d1
		lea	(HScroll_table+0x064):w,%a1
		moveq	#0x27,%d2

loc_3E0E8:
		swap	%d0
		movew	%d0,-(%a1)
		swap	%d0
		subl	%d1,%d0
		dbf	%d2,loc_3E0E8
		lea	(HScroll_table):w,%a1
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#1,%d0
		addl	%d0,%d1
		movel	%d1,0x64(%a1)
		asrl	#2,%d0
		movel	%d0,%d1
		swap	%d0
		movew	%d0,(%a1)+
		swap	%d0
		addl	%d1,%d0
		swap	%d0
		movew	%d0,(%a1)+
		movew	(Level_frame_counter):w,%d1
		lsrw	#2,%d1
		andiw	#0x3E,%d1
		lea	ALZ_AIZ2_BGDeformDelta(%pc),%a5
		addaw	%d1,%a5
		moveq	#7,%d1

loc_3E12E:
		movew	(%a5)+,%d2
		addw	%d0,%d2
		movew	%d2,(%a1)+
		dbf	%d1,loc_3E12E
		rts
/*  End of function ICZ2_OutDeform */


/*  =============== S U B R O U T I N E ======================================= */


ICZ2_InDeform:
		movew	(Camera_Y_pos_copy):w,%d0
		subiw	#0x700,%d0
		asrw	#2,%d0
		addiw	#0x118,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		lea	(HScroll_table):w,%a1
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d1
		asrl	#3,%d1
		swap	%d0
		movew	%d0,(%a1)
		movew	%d0,0x10(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,2(%a1)
		movew	%d0,0xE(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,4(%a1)
		movew	%d0,0xC(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,6(%a1)
		movew	%d0,0xA(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,(Camera_X_pos_BG_copy):w
		movew	%d0,8(%a1)
		swap	%d0
		subl	%d1,%d0
		swap	%d0
		movew	%d0,(Events_bg+0x10):w
		rts
/*  End of function ICZ2_InDeform */


/*  =============== S U B R O U T I N E ======================================= */


ICZ2_SetOutdoorsPal:
		tstb	(Game_mode):w
		bmis	loc_3E1B6
		lea	(Normal_palette_line_4+2):w,%a1
		bsrs	sub_3E1BA

loc_3E1B6:
		lea	(Target_palette_line_4+2):w,%a1
/*  End of function ICZ2_SetOutdoorsPal */


/*  =============== S U B R O U T I N E ======================================= */


sub_3E1BA:
		movel	#0xEEE0EEA,(%a1)+
		movel	#0xEC80EA4,(%a1)+
		movel	#0xC820C60,(%a1)+
		movel	#0xC400E20,(%a1)+
		movel	#0xA000E00,(%a1)
		rts
/*  End of function sub_3E1BA */


/*  =============== S U B R O U T I N E ======================================= */


ICZ2_SetIndoorsPal:
		tstb	(Game_mode):w
		bmis	loc_3E1E6
		lea	(Normal_palette_line_4+2):w,%a1
		bsrs	sub_3E1EA

loc_3E1E6:
		lea	(Target_palette_line_4+2):w,%a1
/*  End of function ICZ2_SetIndoorsPal */


/*  =============== S U B R O U T I N E ======================================= */


sub_3E1EA:
		movel	#0xEE20E24,(%a1)+
		movel	#0xE040E02,(%a1)+
		movel	#0x4020200,(%a1)+
		movel	#0xE20,(%a1)+
		movel	#0xE400840,(%a1)+
		movew	#0x600,(%a1)
		rts
/*  End of function sub_3E1EA */


/*  =============== S U B R O U T I N E ======================================= */


ICZ2_SetICZ1Pal:
		tstb	(Game_mode):w
		bmis	loc_3E21A
		lea	(Normal_palette_line_4+2):w,%a1
		bsrs	sub_3E21E

loc_3E21A:
		lea	(Target_palette_line_4+2):w,%a1
/*  End of function ICZ2_SetICZ1Pal */


/*  =============== S U B R O U T I N E ======================================= */


sub_3E21E:
		movel	#0xEEC0CC6,(%a1)+
		movel	#0xC800C60,(%a1)+
		movel	#0xC400A40,(%a1)+
		movel	#0x8200620,(%a1)+
		movel	#0x2000600,(%a1)
		rts
/*  End of function sub_3E21E */

/*  --------------------------------------------------------------------------- */
ICZ2_OutBGDeformArray:.word 0x5A, 0x26, 0x8030, 0x7FFF
ICZ2_InBGDeformArray:.word 0x1A0, 0x40, 0x20, 0x18, 0x40, 8, 8, 0x18, 0x7FFF
/*  --------------------------------------------------------------------------- */

LBZ1_ScreenInit:
		movew	4(%a3),%d0
		subiw	#0x76,%d0
		movew	%d0,0x70(%a3)
		movew	%d0,0x74(%a3)
		movew	%d0,0x78(%a3)
		movew	%d0,0x7C(%a3)
		lea	(HScroll_table+0x148):w,%a1
		moveq	#0xD,%d0

loc_3E276:
		clrl	(%a1)+
		dbf	%d0,loc_3E276
		jsr	LBZ1_EventVScroll(%pc)
		lea	(HScroll_table+0x100):w,%a1
		moveq	#0xB,%d0

loc_3E286:
		movew	(%a1)+,%d1
		andw	(Camera_Y_pos_mask):w,%d1
		movew	%d1,(%a1)+
		dbf	%d0,loc_3E286
		cmpiw	#3,(Player_mode):w
		beqs	loc_3E2B0
		cmpiw	#0x3B60,(Camera_X_pos_copy):w
		bcss	loc_3E2B4
		jsr	(Create_New_Sprite):l
		bnes	loc_3E2B0
		movel	#Obj_LBZ1InvisibleBarrier,(%a1)

loc_3E2B0:
		jsr	LBZ1_ModEndingLayout(%pc)

loc_3E2B4:
		movew	(Player_1+x_pos):w,%d0
		movew	(Player_1+y_pos):w,%d1
		moveq	#0,%d2
		jsr	LBZ1_CheckLayoutMod(%pc)
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

LBZ1_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		cmpiw	#0x55,(Events_fg_4):w
		bnes	loc_3E302
		clrw	(Events_fg_4):w
		cmpiw	#0x540,(Camera_Y_pos_copy):w
		bccs	loc_3E2F4
		moveaw	8(%a3),%a1
		moveb	#-0x26,0x7D(%a1)
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E2F4:
		moveaw	0x4C(%a3),%a1
		moveb	#-0x25,0x79(%a1)
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E302:
		movew	(Player_1+x_pos):w,%d0
		movew	(Player_1+y_pos):w,%d1
		movew	(Events_bg+0x00):w,%d2
		bnes	loc_3E31C
		jsr	LBZ1_CheckLayoutMod(%pc)
		tstw	%d3
		bmis	loc_3E36E
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E31C:
		lea	LBZ1_LayoutModExitRange-4(%pc),%a1
		addaw	%d2,%a1
		cmpw	(%a1)+,%d0
		bcss	loc_3E32C
		cmpw	(%a1)+,%d0
		bhis	loc_3E32C
		bras	loc_3E36E
/*  --------------------------------------------------------------------------- */

loc_3E32C:
		clrw	(Events_bg+0x00):w
		lsrw	#1,%d2
		jsr	loc_3E33A-2(%pc,%d2.w)
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E33A:
		bras	LBZ1_LayoutExitMod1
/*  --------------------------------------------------------------------------- */
		bras	LBZ1_LayoutExitMod2
/*  --------------------------------------------------------------------------- */
		bras	LBZ1_LayoutExitMod3
/*  --------------------------------------------------------------------------- */
		bras	LBZ1_LayoutExitMod4
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutExitMod1:
		moveaw	(%a3),%a5
		lea	0x88(%a5),%a5
		braw	LBZ1_DoMod1
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutExitMod2:
		moveaw	0x24(%a3),%a5
		lea	0x8A(%a5),%a5
		braw	LBZ1_DoMod2
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutExitMod3:
		moveaw	(%a3),%a5
		lea	0x98(%a5),%a5
		braw	LBZ1_DoMod3
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutExitMod4:
		moveaw	0x30(%a3),%a5
		lea	0x9A(%a5),%a5
		braw	LBZ1_DoMod4
/*  --------------------------------------------------------------------------- */

loc_3E36E:
		jsr	LBZ1_EventVScroll(%pc)
		lea	LBZ1_FGVScrollArray(%pc),%a4
		lea	(HScroll_table+0x100):w,%a5
		moveq	#0xF,%d6
		moveq	#0xC,%d5
		jmp	DrawTilesVDeform(%pc)

/*  =============== S U B R O U T I N E ======================================= */


LBZ1_EventVScroll:
		tstw	(Events_fg_4):w
		beqw	loc_3E434
		bpls	loc_3E3A6
		movew	#1,(Events_fg_4):w
		movew	#4,(Special_V_int_routine):w
		jsr	(Create_New_Sprite):l
		bnes	loc_3E3A6
		movel	#Obj_LBZ1InvisibleBarrier,(%a1)

loc_3E3A6:
		lea	(HScroll_table+0x14C):w,%a1
		lea	LBZ1_CollapseScrollSpeed(%pc),%a5
		movel	0x2C(%a1),%d0
		addil	#0x100,0x2C(%a1)
		movew	0x30(%a1),%d1
		addqw	#1,0x30(%a1)
		asrw	#6,%d1
		moveq	#0xA,%d2
		moveq	#9,%d3

loc_3E3C8:
		addqw	#2,%d1
		andiw	#0xE,%d1
		movew	(%a5,%d1.w),%d4
		extl	%d4
		lsll	#4,%d4
		movel	(%a1),%d5
		subl	%d4,%d5
		subl	%d0,%d5
		swap	%d5
		cmpiw	#-0x300,%d5
		bgts	loc_3E3EA
		movew	#-0x300,%d5
		subqw	#1,%d2

loc_3E3EA:
		swap	%d5
		movel	%d5,(%a1)+
		dbf	%d3,loc_3E3C8
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	loc_3E40A
		tstw	%d2
		beqs	loc_3E40A
		moveq	#sfx_BigRumble,%d0
		jsr	(Play_Sound_2):l

loc_3E40A:
		tstw	%d2
		bnes	loc_3E434
		clrw	(Screen_shake_flag):w
		clrw	(Events_fg_4):w
		movew	#0xC,(Special_V_int_routine):w
		jsr	LBZ1_ModEndingLayout(%pc)
		lea	(HScroll_table+0x148):w,%a1
		moveq	#0xD,%d0

loc_3E426:
		clrl	(%a1)+
		dbf	%d0,loc_3E426
		moveq	#sfx_Crash,%d0
		jsr	(Play_Sound_2):l

loc_3E434:
		lea	(HScroll_table+0x100):w,%a1
		lea	(HScroll_table+0x130):w,%a4
		lea	(HScroll_table+0x148):w,%a5
		movew	(Camera_Y_pos_copy):w,%d0
		moveq	#0xB,%d1

loc_3E446:
		movew	(%a5),%d2
		addw	%d0,%d2
		movew	%d2,(%a1)
		movew	%d2,(%a4)+
		addqw	#4,%a1
		addqw	#4,%a5
		dbf	%d1,loc_3E446
		rts
/*  End of function LBZ1_EventVScroll */


/*  =============== S U B R O U T I N E ======================================= */


LBZ1_CheckLayoutMod:
		lea	LBZ1_LayoutModRange(%pc),%a1
		moveq	#3,%d3

loc_3E45E:
		lea	(%a1),%a5
		cmpw	(%a5)+,%d0
		bcss	loc_3E480
		cmpw	(%a5)+,%d0
		bhis	loc_3E480
		cmpw	(%a5)+,%d1
		bcss	loc_3E480
		cmpw	(%a5)+,%d1
		bhis	loc_3E480
		tstw	%d2
		bnes	loc_3E48A
		cmpiw	#0x1580,%d0
		bcss	loc_3E48A
		cmpiw	#0x400,%d1
		bcss	loc_3E48A

loc_3E480:
		addqw	#8,%a1
		addqw	#4,%d2
		dbf	%d3,loc_3E45E
		rts
/*  --------------------------------------------------------------------------- */

loc_3E48A:
		addqw	#4,%d2
		movew	%d2,(Events_bg+0x00):w
		lsrw	#1,%d2
		jmp	LBZ1_LayoutModBranch-2(%pc,%d2.w)
/*  End of function LBZ1_CheckLayoutMod */

/*  --------------------------------------------------------------------------- */

LBZ1_LayoutModBranch:
		bras	LBZ1_LayoutMod1
/*  --------------------------------------------------------------------------- */
		bras	LBZ1_LayoutMod2
/*  --------------------------------------------------------------------------- */
		bras	LBZ1_LayoutMod3
/*  --------------------------------------------------------------------------- */
		bras	LBZ1_LayoutMod4
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutMod1:
		moveaw	(%a3),%a5
		lea	0x80(%a5),%a5
		braw	LBZ1_DoMod1
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutMod2:
		moveaw	0x24(%a3),%a5
		lea	0x80(%a5),%a5
		bras	LBZ1_DoMod2
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutMod3:
		tstw	(Events_bg+0x02):w
		beqs	loc_3E4C0
		clrw	(Events_bg+0x00):w
		moveq	#-1,%d3
		rts
/*  --------------------------------------------------------------------------- */

loc_3E4C0:
		moveaw	(%a3),%a5
		lea	0x94(%a5),%a5
		bras	LBZ1_DoMod3
/*  --------------------------------------------------------------------------- */

LBZ1_LayoutMod4:
		moveaw	0x30(%a3),%a5
		lea	0x94(%a5),%a5

LBZ1_DoMod4:
		moveaw	(%a3),%a1
		lea	0x7A(%a1),%a1
		movew	-8(%a3),%d0
		subqw	#6,%d0
		moveq	#5,%d1

loc_3E4DE:
		movel	(%a5)+,(%a1)+
		movew	(%a5)+,(%a1)+
		addaw	%d0,%a5
		addaw	%d0,%a1
		dbf	%d1,loc_3E4DE
		rts
/*  --------------------------------------------------------------------------- */

LBZ1_DoMod3:
		moveaw	(%a3),%a1
		lea	0x74(%a1),%a1
		movew	-8(%a3),%d0
		subqw	#4,%d0
		moveq	#0xB,%d1

loc_3E4FA:
		movel	(%a5)+,(%a1)+
		addaw	%d0,%a5
		addaw	%d0,%a1
		dbf	%d1,loc_3E4FA
		rts
/*  --------------------------------------------------------------------------- */

LBZ1_DoMod2:
		moveaw	(%a3),%a1
		lea	0x42(%a1),%a1
		movew	-8(%a3),%d0
		subiw	#0xA,%d0
		moveq	#0xD,%d1

loc_3E516:
		movel	(%a5)+,(%a1)+
		movel	(%a5)+,(%a1)+
		movew	(%a5)+,(%a1)+
		addaw	%d0,%a5
		addaw	%d0,%a1
		dbf	%d1,loc_3E516
		rts
/*  --------------------------------------------------------------------------- */

LBZ1_DoMod1:
		moveaw	8(%a3),%a1
		lea	0x26(%a1),%a1
		movew	-8(%a3),%d0
		subqw	#8,%d0
		moveq	#8,%d1

loc_3E536:
		movel	(%a5)+,(%a1)+
		movel	(%a5)+,(%a1)+
		addaw	%d0,%a5
		addaw	%d0,%a1
		dbf	%d1,loc_3E536
		rts

/*  =============== S U B R O U T I N E ======================================= */


LBZ1_ModEndingLayout:
		moveaw	(%a3),%a1
		lea	0x74(%a1),%a1
		movew	-8(%a3),%d0
		subqw	#4,%d0
		moveq	#0xB,%d1

loc_3E552:
		clrl	(%a1)+
		addaw	%d0,%a1
		dbf	%d1,loc_3E552
		st	(Events_bg+0x02):w
		rts
/*  End of function LBZ1_ModEndingLayout */

/*  --------------------------------------------------------------------------- */

Obj_LBZ1InvisibleBarrier:
		cmpiw	#0x3D80,(Camera_X_pos_copy):w
		bcss	loc_3E56E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3E56E:
		movew	#0x3BC0,%d4
		movew	%d4,0x10(%a0)
		movew	#0x100,0x14(%a0)
		moveb	#0x40,7(%a0)
		bset	#7,0x2A(%a0)
		moveq	#0x4B,%d1
		movew	#0x100,%d2
		movew	#0x100,%d3
		jmp	(SolidObjectFull2):l
/*  --------------------------------------------------------------------------- */
LBZ1_FGVScrollArray:.word 0x3B60, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x7FFF
LBZ1_LayoutModRange:.word 0x13E0,0x16A0, 0x100, 0x580
		.word 0x2160,0x2520,    0, 0x700
		.word 0x3A60,0x3BA0,    0, 0x600
		.word 0x3DE0,0x3FA0,    0, 0x300
LBZ1_LayoutModExitRange:.word 0x1376,0x170A
		.word 0x20F6,0x258A
		.word 0x39F6,0x3C0A
		.word 0x3D76,0x400A
LBZ1_CollapseScrollSpeed:.word  0x1EE, 0x1F2,  0xC7, 0x1B3, 0x1B7, 0x198,   0xE, 0x139
/*  --------------------------------------------------------------------------- */

LBZ1_BackgroundInit:
		jsr	LBZ1_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		movew	%d2,(HScroll_table+0x002):w
		clrl	(HScroll_table+0x004):w
		lea	LBZ1_BGDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	Refresh_PlaneTileDeform(%pc)
		lea	LBZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

LBZ1_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3E620(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3E620:
		braw	LBZ1BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	LBZ1BGE_DoTransition
/*  --------------------------------------------------------------------------- */

LBZ1BGE_Normal:
		tstw	(Events_fg_5):w
		beqs	loc_3E670
		clrw	(Events_fg_5):w
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		lea	(LBZ2_128x128_Kos):l,%a1
		lea	(RAM_start):l,%a2
		jsr	(Queue_Kos):l
		lea	(LBZ2_16x16_Secondary_Kos):l,%a1
		lea	(Block_table+0x6B8):w,%a2
		jsr	(Queue_Kos):l
		lea	(LBZ2_8x8_Secondary_KosM):l,%a1
		movew	#0x33A0,%d2
		jsr	(Queue_Kos_Module):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		addqw	#4,(Events_routine_bg):w

loc_3E670:
		jsr	LBZ1_Deform(%pc)
		lea	LBZ1_BGDrawArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		moveq	#0x20,%d6
		moveq	#2,%d5
		jsr	Draw_BG(%pc)
		lea	LBZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		jsr	ApplyDeformation(%pc)
		lea	LBZ1_FGVScrollArray(%pc),%a4
		lea	(HScroll_table+0x12E):w,%a5
		jsr	Apply_FGVScroll(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

LBZ1BGE_DoTransition:
		tstb	(Kos_modules_left):w
		bnew	loc_3E74A
		movew	#0x601,(Current_zone_and_act):w
		clrb	(Dynamic_resize_routine):w
		clrb	(Object_load_routine):w
		clrb	(Rings_manager_routine):w
		clrb	(Boss_flag):w
		clrb	(Respawn_table_keep):w
		jsr	Clear_Switches(%pc)
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		jsr	(Load_Level):l
		jsr	(LoadSolids):l
		jsr	(CheckLevelForWater):l
		movew	#0x8014,(VDP_control_port):l
		moveq	#0x17,%d0
		jsr	(LoadPalette_Immediate):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		movew	#0x3A00,%d0
		moveq	#0,%d1
		subw	%d0,(Player_1+x_pos):w
		subw	%d0,(Player_2+x_pos):w
		jsr	Offset_ObjectsDuringTransition(%pc)
		subw	%d0,(Camera_X_pos):w
		subw	%d0,(Camera_X_pos_copy):w
		subw	%d0,(Camera_min_X_pos):w
		subw	%d0,(Camera_max_X_pos):w
		jsr	Reset_TileOffsetPositionActual(%pc)
		clrl	(Events_bg+0x00):w
		clrl	(Events_bg+0x14):w
		clrw	(_unkEEA0):w
		clrw	(Event_LBZ2_DeathEgg):w
		movew	#0x40,(Events_bg+0x10):w
		cmpiw	#0x540,(Camera_Y_pos_copy):w
		bcss	loc_3E738
		negw	(Events_bg+0x10):w

loc_3E738:
		moveml	%d7-%a0/%a2-%a3,-(%sp)
		jsr	(sub_273B4):l
		moveml	(%sp)+,%d7-%a0/%a2-%a3
		clrw	(Events_routine_bg):w

loc_3E74A:
		lea	LBZ1_BGDeformArray(%pc),%a4
		lea	(HScroll_table+0x008):w,%a5
		jmp	ApplyDeformation(%pc)

/*  =============== S U B R O U T I N E ======================================= */


LBZ1_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		movew	(Screen_shake_offset):w,%d1
		subw	%d1,%d0
		asrw	#4,%d0
		addw	%d1,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		asrl	#4,%d0
		movel	%d0,%d1
		asrl	#1,%d0
		swap	%d0
		movew	%d0,(Events_bg+0x10):w
		swap	%d0
		swap	%d1
		movew	%d1,(Camera_X_pos_BG_copy):w
		movew	%d1,(HScroll_table):w
		movew	%d1,(HScroll_table+0x008):w
		swap	%d1
		lea	(HScroll_table+0x00A):w,%a1
		addl	%d0,%d1
		addl	%d0,%d1
		asrl	#2,%d0
		moveq	#3,%d2

loc_3E79A:
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		addl	%d0,%d1
		dbf	%d2,loc_3E79A
		moveq	#0xA,%d0
		addw	%d0,(Events_bg+0x10):w
		addw	%d0,(Camera_X_pos_BG_copy):w
		addw	%d0,(HScroll_table):w
		addw	%d0,(HScroll_table+0x008):w
		lea	(HScroll_table+0x00A):w,%a1
		addqw	#4,(%a1)+
		subqw	#2,(%a1)+
		addqw	#7,(%a1)
		rts
/*  End of function LBZ1_Deform */

/*  --------------------------------------------------------------------------- */
LBZ1_BGDrawArray:.word 0xD0, 0x7FFF
LBZ1_BGDeformArray:.word 0xD0
		.word 0x18
		.word 8
		.word 8
		.word 0x7FFF
/*  --------------------------------------------------------------------------- */

LBZ2_ScreenInit:
		movew	#4,(Events_routine_fg):w
		clrl	(Events_bg+0x14):w
		clrw	(_unkEEA0):w
		clrw	(Event_LBZ2_DeathEgg):w
		bsrs	LBZ2_LayoutMod
		jsr	Reset_TileOffsetPositionActual(%pc)
		jmp	Refresh_PlaneFull(%pc)
/*  --------------------------------------------------------------------------- */

LBZ2_ScreenEvent:
		movew	(Screen_shake_offset):w,%d0
		addw	%d0,(Camera_Y_pos_copy):w
		movew	(Events_routine_fg):w,%d0
		jmp	loc_3E7FE(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3E7FE:
		braw	LBZ2SE_FromTransition
/*  --------------------------------------------------------------------------- */
		braw	LBZ2SE_Normal
/*  --------------------------------------------------------------------------- */

LBZ2SE_FromTransition:
		cmpiw	#3,(Player_mode):w
		beqs	loc_3E844
		cmpiw	#0x60A,(Player_1+x_pos):w
		bcss	loc_3E820
		bsrs	LBZ2_LayoutMod
		addqw	#4,(Events_routine_fg):w
		jmp	Refresh_PlaneScreenDirect(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E820:
		jmp	DrawTilesAsYouMove(%pc)

/*  =============== S U B R O U T I N E ======================================= */


LBZ2_LayoutMod:
		moveaw	(%a3),%a5
		lea	0x94(%a5),%a5
		moveaw	(%a3),%a1
		addqw	#6,%a1
		movew	-8(%a3),%d0
		subqw	#6,%d0
		moveq	#5,%d1

loc_3E836:
		movel	(%a5)+,(%a1)+
		movew	(%a5)+,(%a1)+
		addaw	%d0,%a5
		addaw	%d0,%a1
		dbf	%d1,loc_3E836
		rts
/*  End of function LBZ2_LayoutMod */

/*  --------------------------------------------------------------------------- */

loc_3E844:
		bsrs	LBZ2_LayoutMod
		addqw	#4,(Events_routine_fg):w

LBZ2SE_Normal:
		jmp	DrawTilesAsYouMove(%pc)
/*  --------------------------------------------------------------------------- */

LBZ2_BackgroundInit:
		movew	#8,(Events_routine_bg):w
		jsr	LBZ2_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		moveq	#0x40,%d0
		cmpw	(Events_bg+0x10):w,%d0
		blts	loc_3E872
		negw	%d0
		cmpw	(Events_bg+0x10):w,%d0
		bgts	loc_3E876

loc_3E872:
		movew	%d0,(Events_bg+0x10):w

loc_3E876:
		lea	LBZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jmp	ApplyDeformation(%pc)
/*  --------------------------------------------------------------------------- */

LBZ2_BackgroundEvent:
		movew	(Events_routine_bg):w,%d0
		jmp	loc_3E88A(%pc,%d0.w)
/*  --------------------------------------------------------------------------- */

loc_3E88A:
		braw	LBZ2BGE_FromTransition
/*  --------------------------------------------------------------------------- */
		braw	LBZ2BGE_Refresh
/*  --------------------------------------------------------------------------- */
		braw	LBZ2BGE_Normal
/*  --------------------------------------------------------------------------- */
		braw	LBZ2BGE_DeathEgg
/*  --------------------------------------------------------------------------- */
		braw	LBZ2BGE_PlatformDetach
/*  --------------------------------------------------------------------------- */
		braw	LBZ2BGE_Falling
/*  --------------------------------------------------------------------------- */

LBZ2BGE_FromTransition:
		jsr	LBZ2_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		addiw	#0xE0,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(Draw_delayed_position):w
		movew	#0xF,(Draw_delayed_rowcount):w
		addqw	#4,(Events_routine_bg):w
		bras	loc_3E8C6
/*  --------------------------------------------------------------------------- */

LBZ2BGE_Refresh:
		jsr	LBZ2_Deform(%pc)

loc_3E8C6:
		moveq	#0,%d1
		movew	(Camera_Y_pos_BG_copy):w,%d2
		jsr	Draw_PlaneVertBottomUp(%pc)
		bpls	loc_3E8E2
		addqw	#4,(Events_routine_bg):w
		bras	loc_3E8E2
/*  --------------------------------------------------------------------------- */

LBZ2BGE_Normal:
		tstw	(Events_fg_5):w
		bnes	loc_3E902
		jsr	LBZ2_Deform(%pc)

loc_3E8E2:
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	LBZ2_BGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	ApplyDeformation(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  --------------------------------------------------------------------------- */

loc_3E902:
		clrw	(Events_fg_5):w
		movew	8(%a3),(%a3)
		movew	0xC(%a3),4(%a3)
		movew	#0x4390,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	%d0,(Camera_target_max_X_pos):w
		movew	#0x668,%d0
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		movew	#0x3C,(Events_bg+0x0E):w
		movew	#0x1E00,(_unkEEA2):w
		movel	#0x6200,(_unkEE9C):w
		st	(Scroll_lock):w
		st	(Event_LBZ2_DeathEgg):w
		addqw	#4,(Events_routine_bg):w

LBZ2BGE_DeathEgg:
		tstw	(Event_LBZ2_DeathEgg):w
		beqs	loc_3E96E
		tstw	(Screen_shake_flag):w
		bnes	loc_3E95A
		clrw	(Event_LBZ2_DeathEgg):w
		bras	loc_3E96E
/*  --------------------------------------------------------------------------- */

loc_3E95A:
		movew	(Level_frame_counter):w,%d0
		subqw	#1,%d0
		andiw	#0xF,%d0
		bnes	loc_3E96E
		moveq	#sfx_DeathEggRiseLoud,%d0
		jsr	(Play_Sound_2):l

loc_3E96E:
		tstw	(Events_fg_5):w
		beqw	loc_3EA1C
		jsr	LBZ2_EndFallingAccel(%pc)
		tstw	(_unkEE9C):w
		bplw	loc_3EA1C
		clrw	(Events_fg_5):w
		movew	#0x1B,(Draw_delayed_rowcount):w
		movew	#0x10,(Special_V_int_routine):w
		addqw	#4,(Events_routine_bg):w
		braw	loc_3EA1C
/*  --------------------------------------------------------------------------- */

LBZ2BGE_PlatformDetach:
		tstw	(Special_V_int_routine):w
		bnes	sub_3EA18
		movew	(Level_frame_counter):w,%d0
		andiw	#3,%d0
		bnes	loc_3E9E6
		movew	(Events_bg+0x16):w,%d0
		cmpiw	#0x28,%d0
		bcss	loc_3E9E0
		clrw	(Events_bg+0x16):w
		movew	#0x18,(Special_V_int_routine):w
		moveaw	0x2A(%a3),%a1
		lea	0x87(%a1),%a1
		clrb	(%a1)
		clrb	1(%a1)
		clrb	2(%a1)
		addaw	-0xA(%a3),%a1
		clrb	(%a1)+
		clrb	(%a1)+
		clrb	(%a1)
		addqw	#4,(Events_routine_bg):w
		bras	LBZ2BGE_Falling
/*  --------------------------------------------------------------------------- */

loc_3E9E0:
		addqw	#1,%d0
		movew	%d0,(Events_bg+0x16):w

loc_3E9E6:
		bsrs	sub_3EA18
		movew	(Camera_Y_pos_copy):w,(V_scroll_value):w
		movew	(Camera_Y_pos_BG_copy):w,(V_scroll_value_BG):w
		movew	(Events_bg+0x16):w,%d0
		addw	%d0,(V_scroll_value):w
		addqw	#4,%sp
		rts
/*  --------------------------------------------------------------------------- */

LBZ2BGE_Falling:
		cmpiw	#0x260,(Camera_Y_pos_BG_copy):w
		bcss	sub_3EA18
		st	(Scroll_lock):w
		movew	(Camera_Y_pos):w,(Camera_Y_pos_copy):w
		subqw	#2,(Camera_Y_pos):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_3EA18:
		jsr	LBZ2_EndFallingAccel(%pc)

loc_3EA1C:
		jsr	LBZ2_DeathEggMoveScreen(%pc)
		jsr	LBZ2_DeathEggDeform(%pc)
		lea	(Camera_Y_pos_BG_copy):w,%a6
		lea	(Camera_Y_pos_BG_rounded):w,%a5
		moveq	#0,%d1
		moveq	#0x20,%d6
		jsr	Draw_TileRow(%pc)
		lea	LBZ2_DEBGDeformArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		jsr	ApplyDeformation(%pc)
		jmp	ShakeScreen_Setup(%pc)
/*  End of function sub_3EA18 */


/*  =============== S U B R O U T I N E ======================================= */


LBZ2_Deform:
		movew	(Camera_Y_pos_copy):w,%d0
		movew	(Screen_shake_offset):w,%d3
		subw	%d3,%d0
		subiw	#0x5F0,%d0
		movew	%d0,%d1
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d2
		asrl	#3,%d2
		subl	%d2,%d0
		asrl	#2,%d2
		subl	%d2,%d0
		swap	%d0
		movew	%d0,%d2
		addiw	#0x2C0,%d0
		addw	%d3,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		subw	%d1,%d2
		movew	%d2,(Events_bg+0x10):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		tstw	%d2
		beqw	loc_3EB36
		movel	%d0,%d1
		movel	%d0,%d3
		asrl	#6,%d3
		movel	%d3,%d4
		asrl	#3,%d4
		subl	%d4,%d3
		moveq	#0x1F,%d4
		cmpiw	#-0x40,%d2
		bgts	loc_3EAB6
		lea	(HScroll_table+0x01E):w,%a1

loc_3EA9E:
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		subl	%d3,%d1
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		subl	%d3,%d1
		dbf	%d4,loc_3EA9E
		braw	loc_3EB36
/*  --------------------------------------------------------------------------- */

loc_3EAB6:
		lea	(HScroll_table+0x11E):w,%a1

loc_3EABA:
		swap	%d1
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		swap	%d1
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		dbf	%d4,loc_3EABA
		cmpiw	#0x40,%d2
		bges	loc_3EB36
		lea	(HScroll_table+0x09E):w,%a1
		lea	(%a1),%a5
		lea	(LBZ_WaterlineScroll_Data):l,%a6
		movew	%d2,%d1
		bmis	loc_3EB0E
		movew	%d1,%d3
		negw	%d3
		addiw	#0x40,%d3
		lslw	#6,%d3
		addaw	%d3,%a6
		subqw	#1,%d1
		moveq	#0,%d3
		lsrw	#1,%d1
		bccs	loc_3EB00

loc_3EAF8:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),(%a1)+

loc_3EB00:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),(%a1)+
		dbf	%d1,loc_3EAF8
		bras	loc_3EB36
/*  --------------------------------------------------------------------------- */

loc_3EB0E:
		movew	%d1,%d3
		addiw	#0x40,%d3
		lslw	#6,%d3
		addaw	%d3,%a6
		negw	%d1
		subqw	#1,%d1
		moveq	#0,%d3
		lsrw	#1,%d1
		bccs	loc_3EB2A

loc_3EB22:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),-(%a1)

loc_3EB2A:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),-(%a1)
		dbf	%d1,loc_3EB22

loc_3EB36:
		lea	(HScroll_table+0x1E2):w,%a1
		movel	%d0,%d1
		asrl	#1,%d1
		movel	%d1,%d3
		asrl	#3,%d3
		swap	%d1
		movew	%d1,(Camera_X_pos_BG_copy):w
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		swap	%d1
		movew	%d1,(Events_bg+0x12):w
		movew	%d1,-(%a1)
		swap	%d1
		lea	LBZ2_BGUWDeformRange(%pc),%a5
		subl	%d3,%d1
		moveq	#4,%d4

loc_3EB60:
		subl	%d3,%d1
		swap	%d1
		movew	(%a5)+,%d5

loc_3EB66:
		movew	%d1,-(%a1)
		movew	%d1,-(%a1)
		movew	%d1,-(%a1)
		movew	%d1,-(%a1)
		dbf	%d5,loc_3EB66
		swap	%d1
		dbf	%d4,loc_3EB60
		moveq	#0x3F,%d3
		tstw	%d2
		bmis	loc_3EB82
		subw	%d2,%d3
		bcss	loc_3EB90

loc_3EB82:
		swap	%d1
		lsrw	#1,%d3
		bccs	loc_3EB8A

loc_3EB88:
		movew	%d1,-(%a1)

loc_3EB8A:
		movew	%d1,-(%a1)
		dbf	%d3,loc_3EB88

loc_3EB90:
		lea	(HScroll_table):w,%a1
		lea	LBZ2_CloudDeformArray(%pc),%a5
		movel	%d0,%d1
		asrl	#6,%d1
		movel	%d1,%d3
		movel	(HScroll_table+0x1E2):w,%d4
		addil	#0xE00,(HScroll_table+0x1E2):w
		moveq	#0xC,%d5

loc_3EBAC:
		movew	(%a5)+,%d6
		addl	%d4,%d1
		swap	%d1
		movew	%d1,(%a1,%d6.w)
		swap	%d1
		addl	%d3,%d1
		dbf	%d5,loc_3EBAC
		movel	%d0,%d1
		asrl	#4,%d1
		movel	%d1,%d3
		asrl	#1,%d3
		lea	(HScroll_table+0x01A):w,%a1
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		addl	%d3,%d1
		swap	%d1
		movew	%d1,(%a1)+
		tstw	%d2
		bpls	loc_3EBEC
		moveq	#0x3F,%d4
		addw	%d2,%d4
		bmis	loc_3EC0A
		cmpiw	#0x30,%d4
		bcss	loc_3EBFE
		subiw	#0x30,%d4
		bras	loc_3EBEE
/*  --------------------------------------------------------------------------- */

loc_3EBEC:
		moveq	#0xF,%d4

loc_3EBEE:
		moveq	#0x17,%d5

loc_3EBF0:
		movew	%d1,(%a1)+
		movew	%d1,(%a1)+
		dbf	%d5,loc_3EBF0
		swap	%d1
		addl	%d3,%d1
		swap	%d1

loc_3EBFE:
		lsrw	#1,%d4
		bccs	loc_3EC04

loc_3EC02:
		movew	%d1,(%a1)+

loc_3EC04:
		movew	%d1,(%a1)+
		dbf	%d4,loc_3EC02

loc_3EC0A:
		moveq	#0x3F,%d0
		subw	%d2,%d0
		bmis	locret_3EC42
		addiw	#0x60,%d0
		cmpiw	#0xE0,%d0
		bcss	loc_3EC1E
		movew	#0xDF,%d0

loc_3EC1E:
		lea	(HScroll_table+0x1DE):w,%a1
		lea	LBZ_WaterWaveArray(%pc),%a5
		movew	(Level_frame_counter):w,%d1
		asrw	#1,%d1
		andiw	#0x7E,%d1
		addaw	%d1,%a5
		lsrw	#1,%d0
		bccs	loc_3EC3A

loc_3EC36:
		movew	-(%a5),%d3
		addw	%d3,-(%a1)

loc_3EC3A:
		movew	-(%a5),%d3
		addw	%d3,-(%a1)
		dbf	%d0,loc_3EC36

locret_3EC42:
		rts
/*  End of function LBZ2_Deform */


/*  =============== S U B R O U T I N E ======================================= */


LBZ2_DeathEggDeform:
		movew	(Camera_Y_pos_copy):w,%d0
		movew	(Screen_shake_offset):w,%d3
		subw	%d3,%d0
		subiw	#0x5F0,%d0
		subw	(Events_bg+0x02):w,%d0
		subw	(Events_bg+0x06):w,%d0
		movew	%d0,%d1
		swap	%d0
		clrw	%d0
		asrl	#1,%d0
		movel	%d0,%d2
		asrl	#3,%d2
		subl	%d2,%d0
		asrl	#2,%d2
		subl	%d2,%d0
		swap	%d0
		movew	%d0,%d2
		addiw	#0x2C0,%d0
		addw	%d3,%d0
		bpls	loc_3EC90
		moveq	#0,%d3
		movew	%d0,%d4

loc_3EC7C:
		addiw	#0x100,%d3
		addiw	#0x100,%d4
		bmis	loc_3EC7C
		cmpw	(_unkEEA0):w,%d3
		bcss	loc_3EC90
		movew	%d3,(_unkEEA0):w

loc_3EC90:
		addw	(_unkEEA0):w,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		tstw	(_unkEEA0):w
		beqs	loc_3ECAE

loc_3EC9E:
		cmpiw	#0x100,%d0
		bcss	loc_3ECAA
		subiw	#0x100,%d0
		bras	loc_3EC9E
/*  --------------------------------------------------------------------------- */

loc_3ECAA:
		movew	%d0,(Camera_Y_pos_BG_copy):w

loc_3ECAE:
		tstw	(_unkEE9C):w
		bmis	loc_3ECB8
		subw	%d1,%d2
		bpls	loc_3ECBC

loc_3ECB8:
		movew	#0x7FFF,%d2

loc_3ECBC:
		movew	%d2,(Events_bg+0x10):w
		movew	(Camera_X_pos_copy):w,%d0
		swap	%d0
		clrw	%d0
		movel	%d0,%d1
		movel	%d0,%d3
		asrl	#6,%d3
		movel	%d3,%d4
		asrl	#3,%d4
		subl	%d4,%d3
		moveq	#0x1F,%d4
		lea	(HScroll_table+0x0AC):w,%a1

loc_3ECDA:
		swap	%d1
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		swap	%d1
		movew	%d1,-(%a1)
		swap	%d1
		subl	%d3,%d1
		dbf	%d4,loc_3ECDA
		cmpiw	#0x40,%d2
		bges	loc_3ED2A
		lea	(HScroll_table+0x02C):w,%a1
		lea	(%a1),%a5
		lea	(LBZ_WaterlineScroll_Data):l,%a6
		movew	%d2,%d1
		movew	%d1,%d3
		negw	%d3
		addiw	#0x40,%d3
		lslw	#6,%d3
		addaw	%d3,%a6
		subqw	#1,%d1
		moveq	#0,%d3
		lsrw	#1,%d1
		bccs	loc_3ED1E

loc_3ED16:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),(%a1)+

loc_3ED1E:
		moveb	(%a6)+,%d3
		addw	%d3,%d3
		movew	(%a5,%d3.w),(%a1)+
		dbf	%d1,loc_3ED16

loc_3ED2A:
		lea	(HScroll_table+0x0EC):w,%a1
		movel	%d0,%d1
		asrl	#1,%d1
		movel	%d1,%d3
		asrl	#3,%d3
		moveq	#6,%d4

loc_3ED38:
		subl	%d3,%d1
		dbf	%d4,loc_3ED38
		moveq	#0x5F,%d3
		subw	%d2,%d3
		bcss	loc_3ED52
		swap	%d1
		lsrw	#1,%d3
		bccs	loc_3ED4C

loc_3ED4A:
		movew	%d1,-(%a1)

loc_3ED4C:
		movew	%d1,-(%a1)
		dbf	%d3,loc_3ED4A

loc_3ED52:
		lea	(HScroll_table+0x00C):w,%a1
		lea	LBZ2_CloudDeformArray(%pc),%a5
		movel	%d0,%d1
		asrl	#6,%d1
		movel	%d1,%d3
		movel	(HScroll_table+0x1E2):w,%d4
		addil	#0xE00,(HScroll_table+0x1E2):w
		moveq	#0xC,%d5

loc_3ED6E:
		movew	(%a5)+,%d6
		addl	%d4,%d1
		swap	%d1
		movew	%d1,(%a1,%d6.w)
		swap	%d1
		addl	%d3,%d1
		dbf	%d5,loc_3ED6E
		lea	(HScroll_table+0x010):w,%a1
		lea	(HScroll_table):w,%a5
		moveq	#3,%d1

loc_3ED8A:
		movel	(%a1)+,(%a5)+
		dbf	%d1,loc_3ED8A
		movel	%d0,%d1
		asrl	#4,%d1
		movel	%d1,%d3
		asrl	#1,%d3
		lea	(HScroll_table+0x026):w,%a1
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		addl	%d3,%d1
		swap	%d1
		movew	%d1,(%a1)+
		swap	%d1
		addl	%d3,%d1
		swap	%d1
		movew	%d1,(%a1)+
		moveq	#0x3F,%d0
		subw	%d2,%d0
		addiw	#0x20,%d0
		cmpiw	#0x60,%d0
		bcss	loc_3EDC2
		movew	#0x5F,%d0

loc_3EDC2:
		lea	(HScroll_table+0x0EC):w,%a1
		lea	LBZ_WaterWaveArray2(%pc),%a5
		movew	(Level_frame_counter):w,%d1
		asrw	#1,%d1
		andiw	#0x7E,%d1
		addaw	%d1,%a5
		lsrw	#1,%d0
		bccs	loc_3EDDE

loc_3EDDA:
		movew	-(%a5),%d3
		addw	%d3,-(%a1)

loc_3EDDE:
		movew	-(%a5),%d3
		addw	%d3,-(%a1)
		dbf	%d0,loc_3EDDA
		rts
/*  End of function LBZ2_DeathEggDeform */


/*  =============== S U B R O U T I N E ======================================= */


LBZ2_DeathEggMoveScreen:
		cmpib	#6,(Player_1+routine):w
		bccw	locret_3EEBC
		tstb	(Scroll_lock):w
		beqs	loc_3EE1E
		movew	(Player_1+x_pos):w,%d0
		subw	(Camera_X_pos):w,%d0
		subiw	#0xA0,%d0
		bcss	loc_3EE0A
		addw	%d0,(Camera_X_pos):w

loc_3EE0A:
		cmpiw	#0x4390,(Camera_X_pos):w
		bccs	loc_3EE1A
		cmpiw	#0x668,(Camera_Y_pos):w
		bcss	loc_3EE1E

loc_3EE1A:
		clrb	(Scroll_lock):w

loc_3EE1E:
		tstw	(Events_bg+0x0E):w
		beqs	loc_3EE2C
		subqw	#1,(Events_bg+0x0E):w
		braw	locret_3EEBC
/*  --------------------------------------------------------------------------- */

loc_3EE2C:
		cmpiw	#0x4390,(Camera_X_pos):w
		bcss	loc_3EE40
		movew	(Camera_max_X_pos):w,%d0
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_target_min_X_pos):w

loc_3EE40:
		cmpiw	#0x668,(Camera_Y_pos):w
		bcss	loc_3EE54
		movew	(Camera_max_Y_pos):w,%d0
		movew	%d0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_target_min_Y_pos):w

loc_3EE54:
		lea	(Events_bg+0x02):w,%a1
		moveq	#0,%d1
		movew	(_unkEEA2):w,%d1
		addl	%d1,(%a1)
		movew	(%a1),%d0
		movew	%d0,%d1
		subw	8(%a1),%d0
		movew	%d1,8(%a1)
		movew	#0x2200,%d1
		tstb	(Scroll_lock):w
		bnes	loc_3EE7A
		movel	(_unkEE9C):w,%d1

loc_3EE7A:
		addl	%d1,4(%a1)
		movew	4(%a1),%d1
		movew	%d1,%d2
		subw	0xA(%a1),%d1
		movew	%d2,0xA(%a1)
		tstb	(Scroll_lock):w
		beqs	loc_3EE9E
		moveaw	(Events_bg+0x00):w,%a5
		addw	%d0,0x14(%a5)
		addw	%d0,(Camera_Y_pos):w

loc_3EE9E:
		movew	(Target_water_level):w,%d2
		addw	%d0,%d2
		addw	%d1,%d2
		cmpiw	#0xF00,%d2
		bcss	loc_3EEB0
		movew	#0xF80,%d2

loc_3EEB0:
		movew	%d2,(Target_water_level):w
		movew	%d0,(Events_bg+0x14):w
		addw	%d1,(Events_bg+0x14):w

locret_3EEBC:
		rts
/*  End of function LBZ2_DeathEggMoveScreen */


/*  =============== S U B R O U T I N E ======================================= */


LBZ2_EndFallingAccel:
		tstw	(_unkEEA2):w
		beqs	loc_3EECC
		subiw	#0x100,(_unkEEA2):w
		bras	locret_3EEDE
/*  --------------------------------------------------------------------------- */

loc_3EECC:
		cmpil	#0xFFFE8000,(_unkEE9C):w
		bles	locret_3EEDE
		subil	#0x100,(_unkEE9C):w

locret_3EEDE:
		rts
/*  End of function LBZ2_EndFallingAccel */

/*  --------------------------------------------------------------------------- */
LBZ2_BGDeformArray:.word 0xC0, 0x40, 0x38, 0x18, 0x28, 0x10, 0x10, 0x10, 0x18, 0x40, 0x20, 0x10, 0x20
		.word 0x70, 0x30, 0x80E0, 0x20, 0x7FFF
LBZ2_DEBGDeformArray:.word 0x38, 0x18, 0x28, 0x10, 0x10, 0x10, 0x18, 0x40, 0x38, 0x18, 0x28, 0x10, 0x10
		.word 0x10, 0x18, 0x40, 0x20, 0x10, 0x20, 0x70, 0x60, 0x10, 0x805F, 0x7FFF
LBZ2_CloudDeformArray:.word  0x16,  0xE,  0xA, 0x14,  0xC,   6, 0x18, 0x10, 0x12,   2,   8,   4,   0
LBZ2_BGUWDeformRange:.word    7,   1,   3,   1,   7
/*  --------------------------------------------------------------------------- */

Gumball_ScreenInit:
		movew	#0x3FF,(Screen_Y_wrap_value):w
		movew	#0x3F0,(Camera_Y_pos_mask):w
		movew	#0x1C,(Layout_row_index_mask):w
		movew	#4,(Special_V_int_routine):w
		movew	#0xC0,%d0
		movew	%d0,%d1
		jsr	Gumball_VScroll(%pc)
		jsr	Reset_TileOffsetPositionActual(%pc)
		movew	%d2,(HScroll_table+0x002):w
		movew	%d2,(HScroll_table+0x00A):w
		movew	(HScroll_table+0x00E):w,%d0
		andw	(Camera_Y_pos_mask):w,%d0
		movew	%d0,(HScroll_table+0x006):w
		lea	Gumball_VScrollArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		movew	(Camera_X_pos_rounded):w,%d0
		jmp	RefreshPlaneDirectVScroll(%pc)
/*  --------------------------------------------------------------------------- */

Gumball_ScreenEvent:
		jsr	Gumball_SetUpVScroll(%pc)
		lea	Gumball_VScrollArray(%pc),%a4
		lea	(HScroll_table):w,%a5
		moveq	#0xF,%d6
		moveq	#3,%d5
		jmp	DrawTilesVDeform(%pc)

/*  =============== S U B R O U T I N E ======================================= */


Gumball_SetUpVScroll:
		movew	(Camera_Y_pos_copy):w,%d0
		moveaw	(_unkFAA4):w,%a5
		movew	0x14(%a5),%d1
		subiw	#0xC8,%d1
		subw	%d0,%d1
		negw	%d1
/*  End of function Gumball_SetUpVScroll */


/*  =============== S U B R O U T I N E ======================================= */


Gumball_VScroll:
		lea	(HScroll_table):w,%a1
		movew	%d0,(%a1)
		movew	%d0,8(%a1)
		movew	%d0,0xC(%a1)
		movew	%d0,0x10(%a1)
		movew	%d1,4(%a1)
		movew	%d1,0xE(%a1)
		rts
/*  End of function Gumball_VScroll */

/*  --------------------------------------------------------------------------- */
Gumball_VScrollArray:.word 0xC0, 0x80, 0x7FFF
/*  --------------------------------------------------------------------------- */

Gumball_BackgroundInit:
		jsr	Gumball_Deform(%pc)
		jsr	Reset_TileOffsetPositionEff(%pc)
		moveq	#0,%d1
		jsr	Refresh_PlaneFull(%pc)
		jmp	PlainDeformation(%pc)
/*  --------------------------------------------------------------------------- */

Gumball_BackgroundEvent:
		jsr	Gumball_Deform(%pc)
		jsr	PlainDeformation(%pc)
		lea	Gumball_VScrollArray(%pc),%a4
		lea	(HScroll_table+0x00A):w,%a5
		jmp	Apply_FGVScroll(%pc)

/*  =============== S U B R O U T I N E ======================================= */


Gumball_Deform:
		movew	#-0x20,(Camera_X_pos_BG_copy):w
		movew	(Camera_Y_pos_copy):w,%d0
		asrw	#1,%d0
		movew	%d0,(Camera_Y_pos_BG_copy):w
		asrw	#1,%d0
		movew	%d0,(Events_bg+0x10):w
		rts
/*  End of function Gumball_Deform */

/*  --------------------------------------------------------------------------- */

ContinueScreen:
		jsr	(Pal_FadeToBlack):l
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#-0x41,%d0
		movew	%d0,(VDP_control_port):l
		lea	(VDP_control_port):l,%a6
		movew	#-0x7FFC,(%a6)
		movew	#-0x7900,(%a6)
		jsr	(Clear_DisplayData):l
		movel	#0x40200000,(VDP_control_port):l
		lea	(ArtNem_ContinueDigits):l,%a0
		jsr	(Nem_Decomp):l
		movel	#0x45200000,(VDP_control_port):l
		lea	(ArtNem_ContinueText):l,%a0
		jsr	(Nem_Decomp):l
		movel	#0x51800000,(VDP_control_port):l
		lea	(ArtNem_ContinueSprites):l,%a0
		jsr	(Nem_Decomp):l
		movel	#0x5B200000,(VDP_control_port):l
		lea	(ArtNem_ContinueIcons):l,%a0
		jsr	(Nem_Decomp):l
		clrb	(Level_started_flag):w
		clrb	(_unkFAA9):w
		clrb	(_unkFA88):w
		lea	(Player_1):w,%a1
		moveq	#0,%d0
		movew	#(Kos_decomp_buffer-Player_1)/4-1,%d1

loc_3F0C4:
		movel	%d0,(%a1)+
		dbf	%d1,loc_3F0C4
		lea	(RAM_start+0x2000):l,%a1
		moveq	#0,%d0
		movew	#0x7FF,%d1

loc_3F0D6:
		movel	%d0,(%a1)+
		dbf	%d1,loc_3F0D6
		jsr	(Init_SpriteTable):l
		movew	#0x293,(Demo_timer):w
		lea	(Pal_ContinueScreen):l,%a1
		lea	(Target_palette):w,%a2
		moveq	#0x1F,%d6

loc_3F0F4:
		movel	(%a1)+,(%a2)+
		dbf	%d6,loc_3F0F4
		lea	word_3F684(%pc),%a1
		jsr	sub_40A4A(%pc)
		movel	#Obj_Continue_SonicWTails,(Player_1):w
		movel	#Obj_Continue_TailsWSonic,(Player_2):w
		movel	#loc_3F47E,(Reserved_object_3):w
		lea	(Dynamic_object_RAM):w,%a1
		movel	#loc_3F1D4,(%a1)
		movew	%a1,(_unkFAA4):w
		movel	#loc_3F500,(Dynamic_object_RAM+object_size):w
		bsrw	sub_3F5FE
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveb	#0x18,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		moveq	#mus_Continue,%d0
		jsr	(Play_Sound):l
		jsr	(Pal_FadeFromBlack):l

loc_3F168:
		moveb	#0x18,(V_int_routine):w
		jsr	(Wait_VSync):l
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveb	(_unkFAA9):w,%d0
		beqs	loc_3F168
		subqb	#1,%d0
		beqs	loc_3F192
		moveb	#0,(Game_mode):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3F192:
		moveb	#0xC,(Game_mode):w
		moveb	#3,(Life_count):w
		moveb	#3,(Life_count_P2):w
		moveq	#0,%d0
		movew	%d0,(Ring_count):w
		movel	%d0,(Timer):w
		movel	%d0,(Score):w
		movew	%d0,(Ring_count_P2):w
		movel	%d0,(Timer_P2):w
		movel	%d0,(Score_P2):w
		movel	#5000,(Next_extra_life_score):w
		movel	#5000,(Next_extra_life_score_P2):w
		subqb	#1,(Continue_count):w

locret_3F1D2:
		rts
/*  --------------------------------------------------------------------------- */

loc_3F1D4:
		movel	#loc_3F1E4,(%a0)
		clrw	(_unkFA82):w
		moveb	#0xA,(_unkFA84):w

loc_3F1E4:
		btst	#7,(Ctrl_1_pressed):w
		bnes	loc_3F21A
		btst	#7,(Ctrl_2_pressed):w
		bnes	loc_3F21A
		subqw	#1,(_unkFA82):w
		bpls	locret_3F210
		movew	#0x3B,(_unkFA82):w
		moveb	(_unkFA84):w,%d0
		subqb	#1,%d0
		bmis	loc_3F212
		moveb	%d0,(_unkFA84):w
		bsrw	sub_3F5C4

locret_3F210:
		rts
/*  --------------------------------------------------------------------------- */

loc_3F212:
		moveb	#2,(_unkFAA9):w
		rts
/*  --------------------------------------------------------------------------- */

loc_3F21A:
		movel	#locret_3F226,(%a0)
		bset	#3,0x38(%a0)

locret_3F226:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Continue_SonicWTails:
		movel	#Map_ContinueSprites,0xC(%a0)
		movew	#0x8C,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0x14,6(%a0)
		movew	#0x118,0x10(%a0)
		movew	#0x120,0x14(%a0)
		movel	#loc_3F25A,(%a0)

loc_3F25A:
		moveaw	(_unkFAA4):w,%a1
		btst	#3,0x38(%a1)
		bnes	loc_3F280
		moveb	#0,0x22(%a0)
		btst	#4,(V_int_run_count+3):w
		beqs	loc_3F27A
		moveb	#1,0x22(%a0)

loc_3F27A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3F280:
		movel	#loc_3F286,(%a0)

loc_3F286:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_3F2A0(%pc,%d0.w),%d1
		jsr	off_3F2A0(%pc,%d1.w)
		jsr	(Sonic_Load_PLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_3F2A0:	.word loc_3F2AA-off_3F2A0
		.word loc_3F2CE-off_3F2A0
		.word loc_3F32A-off_3F2A0
		.word loc_3F340-off_3F2A0
		.word locret_3F35C-off_3F2A0
/*  --------------------------------------------------------------------------- */

loc_3F2AA:
		addqb	#2,5(%a0)
		movel	#Map_Sonic,0xC(%a0)
		movew	#ArtTile_Player_1,0xA(%a0)
		clrb	(Player_prev_frame):w
		moveb	#0x5A,0x22(%a0)
		moveb	#6,0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_3F2CE:
		subqb	#1,0x24(%a0)
		bpls	locret_3F304
		moveb	#6,0x24(%a0)
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#2,%d0
		cmpib	#0xA,%d0
		bccs	loc_3F306
		moveb	%d0,0x23(%a0)
		lea	RawAni_3F320(%pc,%d0.w),%a2
		moveb	(%a2)+,0x22(%a0)
		bclr	#0,4(%a0)
		tstb	(%a2)
		beqs	locret_3F304
		bset	#0,4(%a0)

locret_3F304:
		rts
/*  --------------------------------------------------------------------------- */

loc_3F306:
		moveb	#4,5(%a0)
		movew	#1,0x20(%a0)
		movew	#0x600,0x1C(%a0)
		movew	#0xF,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */
RawAni_3F320:	.byte  0x5A,   1, 0x59,   1, 0x55,   0, 0x56,   0, 0x57,   0
/*  --------------------------------------------------------------------------- */

loc_3F32A:
		jsr	(Animate_Sonic):l
		subqw	#1,0x2E(%a0)
		bmis	loc_3F338
		rts
/*  --------------------------------------------------------------------------- */

loc_3F338:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_3F340:
		jsr	(Animate_Sonic):l
		addqw	#6,0x10(%a0)
		cmpiw	#0x1E0,0x10(%a0)
		bccs	loc_3F354
		rts
/*  --------------------------------------------------------------------------- */

loc_3F354:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_3F35C:
		rts
/*  --------------------------------------------------------------------------- */

Obj_Continue_TailsWSonic:
		movel	#Map_ContinueSprites,0xC(%a0)
		movew	#0x8C,0xA(%a0)
		movew	#0x200,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x14,6(%a0)
		movew	#0x12C,0x10(%a0)
		movew	#0x120,0x14(%a0)
		movel	#loc_3F390,(%a0)

loc_3F390:
		moveaw	(_unkFAA4):w,%a1
		btst	#3,0x38(%a1)
		bnes	loc_3F3B6
		moveb	#5,0x22(%a0)
		btst	#5,(V_int_run_count+3):w
		beqs	loc_3F3B0
		moveb	#6,0x22(%a0)

loc_3F3B0:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3F3B6:
		movel	#loc_3F3D6,(%a0)
		addqw	#4,0x14(%a0)
		lea	(Tails_tails):w,%a1
		movel	#Obj_Tails_Tail,(%a1)
		movew	%a0,0x30(%a1)
		movel	#loc_3F472,(Dust):w

loc_3F3D6:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_3F3F0(%pc,%d0.w),%d1
		jsr	off_3F3F0(%pc,%d1.w)
		jsr	(Tails_Load_PLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_3F3F0:	.word loc_3F3F8-off_3F3F0
		.word loc_3F428-off_3F3F0
		.word loc_3F448-off_3F3F0
		.word loc_3F45A-off_3F3F0
/*  --------------------------------------------------------------------------- */

loc_3F3F8:
		addqb	#2,5(%a0)
		movel	#Map_Tails,0xC(%a0)
		movew	#ArtTile_Player_2,0xA(%a0)
		movew	#0x280,8(%a0)
		clrb	(Player_prev_frame_P2):w
		movew	#0x500,0x20(%a0)
		movew	#-0x5300,0x22(%a0)
		movew	#0x27,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_3F428:
		subqw	#1,0x2E(%a0)
		bplw	locret_3F1D2
		moveb	#4,5(%a0)
		moveb	#0,0x20(%a0)
		movew	#0x600,0x1C(%a0)
		movew	#0x13,0x2E(%a0)

loc_3F448:
		subqw	#1,0x2E(%a0)
		bpls	loc_3F454
		moveb	#6,5(%a0)

loc_3F454:
		jmp	(Animate_Tails):l
/*  --------------------------------------------------------------------------- */

loc_3F45A:
		addqw	#6,0x10(%a0)
		cmpiw	#0x1E0,0x10(%a0)
		bcss	loc_3F46C
		moveb	#1,(_unkFAA9):w

loc_3F46C:
		jmp	(Animate_Tails):l
/*  --------------------------------------------------------------------------- */

loc_3F472:
		bclr	#2,(Tails_tails+render_flags):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3F47E:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_3F49E(%pc,%d0.w),%d1
		jsr	off_3F49E(%pc,%d1.w)
		lea	(DPLCPtr_4575E):l,%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_3F49E:	.word loc_3F4A6-off_3F49E
		.word loc_3F4CA-off_3F49E
		.word loc_3F4DE-off_3F49E
		.word locret_3F4FE-off_3F49E
/*  --------------------------------------------------------------------------- */

loc_3F4A6:
		lea	(ObjDat4_456DC):l,%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		movew	#0x64DA,0xA(%a0)
		bclr	#2,4(%a0)
		movew	#0x40,0x10(%a0)
		movew	#0x120,0x14(%a0)

loc_3F4CA:
		moveaw	(_unkFAA4):w,%a1
		btst	#3,0x38(%a1)
		bnes	loc_3F4D8
		rts
/*  --------------------------------------------------------------------------- */

loc_3F4D8:
		moveb	#4,5(%a0)

loc_3F4DE:
		movew	0x10(%a0),%d0
		addqw	#6,%d0
		movew	%d0,0x10(%a0)
		cmpiw	#0x1E0,%d0
		bccs	loc_3F4F8
		lea	byte_3F83A(%pc),%a1
		jmp	(Animate_RawNoSST):l
/*  --------------------------------------------------------------------------- */

loc_3F4F8:
		moveb	#6,5(%a0)

locret_3F4FE:
		rts
/*  --------------------------------------------------------------------------- */

loc_3F500:
		movel	#Map_ContinueSprites,0xC(%a0)
		movew	#0x408C,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#7,0x22(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0xF5,0x14(%a0)
		movel	#loc_3F538,(%a0)

loc_3F538:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_3F53E:
		movel	#Map_ContinueIcons,0xC(%a0)
		movew	#0xD9,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		bsrw	sub_3F630
		movew	#0xD8,0x14(%a0)
		movel	#loc_3F572,(%a0)
		bsrw	sub_3F650

loc_3F572:
		moveq	#0,%d0
		btst	#4,(V_int_run_count+3):w
		beqs	loc_3F57E
		addqw	#1,%d0

loc_3F57E:
		moveal	0x30(%a0),%a1
		moveb	(%a1,%d0.w),0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_3F58E:
		movel	#Map_ContinueIcons,0xC(%a0)
		movew	#0xD9,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#8,7(%a0)
		moveb	#8,6(%a0)
		movel	#loc_3F5B4,(%a0)

loc_3F5B4:
		lea	byte_3F840(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_3F5C4:
		moveb	(_unkFA84):w,%d0
		moveb	%d0,%d1
		andiw	#0xF0,%d0
		lsrw	#3,%d0
		andiw	#0xF,%d1
		addw	%d1,%d1
		movew	#1,%d2
		lea	(RAM_start+0x2726):l,%a1
		addw	%d2,%d0
		movew	%d0,(%a1)
		addqw	#1,%d0
		movew	%d0,0x80(%a1)
		addw	%d2,%d1
		movew	%d1,2(%a1)
		addqw	#1,%d1
		movew	%d1,0x82(%a1)
		bset	#0,(_unkFA88):w
		rts
/*  End of function sub_3F5C4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_3F5FE:
		moveq	#0,%d0
		moveb	(Continue_count):w,%d0
		beqs	loc_3F60C
		cmpib	#0xA,%d0
		blss	loc_3F612

loc_3F60C:
		moveq	#0xA,%d0
		moveb	%d0,(Continue_count):w

loc_3F612:
		lea	(Dynamic_object_RAM+(object_size*2)).w,%a1
		moveq	#0,%d1

loc_3F618:
		subqb	#1,%d0
		beqw	locret_3F1D2
		movel	#loc_3F53E,(%a1)
		moveb	%d1,0x2C(%a1)
		addqw	#2,%d1
		lea	0x4A(%a1),%a1
		bras	loc_3F618
/*  End of function sub_3F5FE */


/*  =============== S U B R O U T I N E ======================================= */


sub_3F630:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_3F63E(%pc,%d0.w),0x10(%a0)
		rts
/*  End of function sub_3F630 */

/*  --------------------------------------------------------------------------- */
word_3F63E:	.word 0x120
		.word 0x138
		.word 0x108
		.word 0x150
		.word 0xF0
		.word 0x168
		.word 0xD8
		.word 0x180
		.word 0xC0

/*  =============== S U B R O U T I N E ======================================= */


sub_3F650:
		movew	(Player_mode):w,%d4
		cmpib	#2,%d4
		bnes	loc_3F664
		lea	ChildObjDat_3F66E(%pc),%a2
		jsr	(CreateChild6_Simple):l

loc_3F664:
		lslw	#2,%d4
		movel	off_3F674(%pc,%d4.w),0x30(%a0)
		rts
/*  End of function sub_3F650 */

/*  --------------------------------------------------------------------------- */
ChildObjDat_3F66E:.word 0
		.long Obj_3F58E
off_3F674:	.long byte_3F834
		.long byte_3F834
		.long byte_3F836
		.long byte_3F838
word_3F684:	.word 0
		.word 0x292
		.byte "C O N T I N U E",0
		.balign 2
Pal_ContinueScreen:
		.incbin "General/Sprites/Continue/Palette S3.bin"
		.balign 2
Map_ContinueSprites:
		.include "General/Sprites/Continue/Map - Player Sprites S3.S"
Map_ContinueIcons:
		.include "General/Sprites/Continue/Map - Player Icons.S"
byte_3F834:	.byte 0
		.byte 1
byte_3F836:	.byte 2
		.byte 3
byte_3F838:	.byte 7
		.byte 8
byte_3F83A:	.byte    1, 0x12, 0x13, 0x14, 0x15, 0xFC
byte_3F840:	.byte    8,   4,   5,   6, 0xFC,   0
ArtNem_ContinueSprites:
		.incbin "General/Sprites/Continue/Player Sprites.bin"
		.balign 2
ArtNem_ContinueIcons:
		.incbin "General/Sprites/Continue/Player Icons.bin"
		.balign 2
ArtNem_ContinueDigits:
		.incbin "General/Sprites/Continue/Digits.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

S3Credits:
		moveq	#mus_Stop,%d0
		jsr	(Play_Sound):l
		jsr	(Clear_Nem_Queue):l
		jsr	(Pal_FadeToBlack):l
		lea	(VDP_control_port):l,%a6
		movew	#0x8004,(%a6)
		movew	#0x8230,(%a6)
		movew	#0x8407,(%a6)
		movew	#0x8700,(%a6)
		movew	#0x8B03,(%a6)
		movew	#0x8C81,(%a6)
		movew	#0x9011,(%a6)
		movew	#0x9200,(%a6)
		clrb	(Water_full_screen_flag):w
		clrw	(Competition_mode):w
		move	#0x2700,sr
		movew	(VDP_reg_1_command):w,%d0
		andib	#0xBF,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Clear_DisplayData):l
		lea	(Sprite_table_buffer):w,%a1
		moveq	#0,%d0
		movew	#0xA0,%d1

loc_403AC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_403AC
		lea	(H_scroll_buffer):w,%a1
		moveq	#0,%d0
		movew	#0x100,%d1

loc_403BC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_403BC
		lea	(Sprite_table_input):w,%a1
		moveq	#0,%d0
		movew	#0xFF,%d1

loc_403CC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_403CC
		lea	(Player_1):w,%a1
		moveq	#0,%d0
		movew	#0x7FF,%d1

loc_403DC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_403DC
		lea	(RAM_start+0x2000):l,%a1
		moveq	#0,%d0
		movew	#0x7FF,%d1

loc_403EE:
		movel	%d0,(%a1)+
		dbf	%d1,loc_403EE
		lea	(_unkFA80):w,%a1
		moveq	#0,%d0
		movew	#0x1F,%d1

loc_403FE:
		movel	%d0,(%a1)+
		dbf	%d1,loc_403FE
		clrw	(DMA_queue):w
		movel	#DMA_queue,(DMA_queue_slot):w
		clrw	(Player_mode):w
		clrb	(Current_act_2P):w
		clrw	(Results_screen_2P):w
		clrb	(Level_started_flag):w
		clrw	(Anim_Counters):w
		clrw	(_unkFF98):w
		clrw	(Competition_mode):w
		clrl	(Camera_X_pos):w
		clrl	(Camera_Y_pos):w
		clrl	(V_scroll_value):w
		clrl	(_unkF61A):w
		jsr	(Init_SpriteTable):l
		movel	#0x40200000,(VDP_control_port):l
		lea	(ArtNem_S38x16Font):l,%a0
		jsr	(Nem_Decomp):l
		movel	#0x45200000,(VDP_control_port):l
		lea	(ArtNem_ContinueText):l,%a0
		jsr	(Nem_Decomp):l
		movel	#0x51C00000,(VDP_control_port):l
		lea	(ArtNem_EndingGraphics):l,%a0
		jsr	(Nem_Decomp):l
		lea	(ArtKosM_AIZIntroEmeralds):l,%a1
		movew	#0x4220,%d2
		jsr	(Queue_Kos_Module):l
		lea	S3CreditsText_Main(%pc),%a1
		movew	(%a1),%d0
		addaw	%d0,%a1
		bsrw	sub_40A4A
		lea	(Pal_Ending):l,%a1
		lea	(Target_palette):w,%a2
		moveq	#0xF,%d6

loc_404AC:
		movel	(%a1)+,(%a2)+
		dbf	%d6,loc_404AC
		moveq	#mus_Credits3,%d0
		jsr	(Play_Sound):l
		movew	#0xB4,(_unkFA82):w
		moveb	#0x18,(V_int_routine):w
		jsr	(Wait_VSync):l
		movew	(VDP_reg_1_command):w,%d0
		orib	#0x40,%d0
		movew	%d0,(VDP_control_port):l
		jsr	(Pal_FadeFromBlack):l

loc_404E0:
		moveb	#0x18,(V_int_routine):w
		jsr	(Process_Kos_Queue):l
		jsr	(Wait_VSync):l
		addqw	#1,(Level_frame_counter):w
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		bsrw	sub_4051E
		jsr	(Process_Nem_Queue_Init):l
		jsr	(Process_Kos_Module_Queue):l
		cmpib	#0x20,(Game_mode):w
		beqw	loc_404E0
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_4051E:
		movew	(_unkFA86):w,%d0
		movew	off_4052A(%pc,%d0.w),%d0
		jmp	off_4052A(%pc,%d0.w)
/*  End of function sub_4051E */

/*  --------------------------------------------------------------------------- */
off_4052A:	.word loc_40530-off_4052A
		.word loc_405AE-off_4052A
		.word locret_4069C-off_4052A
/*  --------------------------------------------------------------------------- */

loc_40530:
		subqw	#1,(_unkFA82):w
		bmis	loc_40538
		rts
/*  --------------------------------------------------------------------------- */

loc_40538:
		movew	#0xB4,(_unkFA82):w
		jsr	(Pal_FadeToBlack):l
		lea	(RAM_start+0x2000):l,%a1
		moveq	#0,%d0
		movew	#0x3FF,%d1

loc_40550:
		movel	%d0,(%a1)+
		dbf	%d1,loc_40550
		movew	(_unkFA84):w,%d0
		addqw	#2,%d0
		movew	%d0,(_unkFA84):w
		lea	S3CreditsText_Main(%pc),%a1
		movew	(%a1,%d0.w),%d0
		beqw	loc_405FA
		lea	(%a1,%d0.w),%a1
		bsrw	sub_40A4A
		moveb	#0x18,(V_int_routine):w
		jsr	(Wait_VSync):l
		jmp	(Pal_FadeFromBlack):l
/*  --------------------------------------------------------------------------- */
		movew	#2,(_unkFA86):w
		lea	S3CreditsText_Dummy(%pc),%a1
		movew	(%a1),%d0
		addaw	%d0,%a1
		bsrw	sub_40A4A
		lea	(Target_palette):w,%a1
		lea	(Normal_palette):w,%a2
		moveq	#0x1F,%d6

loc_405A2:
		movel	(%a1)+,(%a2)+
		dbf	%d6,loc_405A2
		clrw	(_unkFA84):w
		rts
/*  --------------------------------------------------------------------------- */

loc_405AE:
		movew	(V_scroll_value):w,%d0
		addqw	#1,%d0
		movew	%d0,(V_scroll_value):w
		andiw	#0xFF,%d0
		beqs	loc_405C0
		rts
/*  --------------------------------------------------------------------------- */

loc_405C0:
		movew	(_unkFA84):w,%d0
		addqw	#2,%d0
		movew	%d0,(_unkFA84):w
		lea	(RAM_start+0x2000):l,%a2
		btst	#1,%d0
		bnes	loc_405DC
		lea	(RAM_start+0x3000):l,%a2

loc_405DC:
		moveq	#0,%d2
		movew	#0x3FF,%d3

loc_405E2:
		movel	%d2,(%a2)+
		dbf	%d3,loc_405E2
		lea	S3CreditsText_Dummy(%pc),%a1
		movew	(%a1,%d0.w),%d0
		beqs	loc_405FA
		lea	(%a1,%d0.w),%a1
		braw	sub_40A4A
/*  --------------------------------------------------------------------------- */

loc_405FA:
		jsr	(Pal_FadeToBlack):l
		movew	#4,(_unkFA86):w
		lea	Pal_EndingEyecatchKnuckles(%pc),%a1
		cmpiw	#7,(Emerald_count):w
		bnes	loc_40616
		lea	Pal_EndingS3Logo(%pc),%a1

loc_40616:
		lea	(Target_palette_line_3):w,%a2
		moveq	#0xF,%d0

loc_4061C:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_4061C
		lea	(RAM_start+0x2000):l,%a1
		moveq	#0,%d0
		movew	#0x7FF,%d1

loc_4062E:
		movel	%d0,(%a1)+
		dbf	%d1,loc_4062E
		bset	#0,(_unkFA88):w
		clrl	(V_scroll_value):w
		lea	Child6_EndingS3Logo(%pc),%a1
		cmpiw	#7,(Emerald_count):w
		beqs	loc_40656
		lea	S3CreditsText_TryAgain(%pc),%a1
		bsrw	sub_40A4A
		lea	Child6_EndingTryAgain(%pc),%a1

loc_40656:
		movew	(%a1)+,%d0
		lea	(Dynamic_object_RAM+object_size):w,%a2

loc_4065C:
		movel	(%a1)+,(%a2)
		lea	0x4A(%a2),%a2
		dbf	%d0,loc_4065C
		jsr	(Process_Sprites):l
		jsr	(Render_Sprites):l
		moveb	#0x18,(V_int_routine):w
		jsr	(Wait_VSync):l
		jmp	(Pal_FadeFromBlack):l
/*  --------------------------------------------------------------------------- */
Child6_EndingS3Logo:.word 2
		.long loc_4069E
		.long loc_4078C
		.long loc_407FC
Child6_EndingTryAgain:.word 1
		.long loc_40896
		.long loc_409A2
/*  --------------------------------------------------------------------------- */

locret_4069C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4069E:
		movel	#loc_406E2,(%a0)
		movew	%a0,(_unkFAA4):w
		movel	#Map_EndingGraphics,0xC(%a0)
		movew	#0xC08E,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x40,6(%a0)
		moveb	#0,0x22(%a0)
		movew	#0x120,0x10(%a0)
		movew	#0x40,0x14(%a0)
		movew	#0x3C,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_406E2:
		subqw	#1,0x2E(%a0)
		bmis	loc_406EA
		rts
/*  --------------------------------------------------------------------------- */

loc_406EA:
		movel	#loc_406F0,(%a0)

loc_406F0:
		jsr	(MoveSprite):l
		cmpiw	#0xF0,0x14(%a0)
		bcss	loc_40712
		movew	0x1A(%a0),%d0
		bmis	loc_40712
		asrw	#1,%d0
		cmpiw	#0x80,%d0
		bcss	loc_40718
		negw	%d0
		movew	%d0,0x1A(%a0)

loc_40712:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40718:
		movel	#loc_40728,(%a0)
		movew	#0xF0,0x14(%a0)
		clrw	0x2E(%a0)

loc_40728:
		subqw	#1,0x2E(%a0)
		bmis	loc_40734
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40734:
		movew	#1,0x2E(%a0)
		movew	0x3A(%a0),%d0
		cmpiw	#6,%d0
		bccs	loc_40762
		addqw	#1,0x3A(%a0)
		lslw	#5,%d0
		lea	Pal_EndingS3LogoFlash(%pc),%a1
		addaw	%d0,%a1
		lea	(Normal_palette_line_3):w,%a2
		moveq	#7,%d0

loc_40756:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_40756
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40762:
		movel	#loc_40774,(%a0)
		movew	#0x168,0x2E(%a0)
		bset	#5,0x38(%a0)

loc_40774:
		subqw	#1,0x2E(%a0)
		bmis	loc_40780
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40780:
		moveb	#0,(Game_mode):w
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4078C:
		movel	#loc_407CC,(%a0)
		movel	#Map_EndingGraphics,0xC(%a0)
		movew	#0xE08E,0xA(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x18,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#1,0x22(%a0)
		movew	#0x100,0x10(%a0)
		movew	#0x11C,0x14(%a0)
		movel	#AniRaw_41932,0x30(%a0)

loc_407CC:
		bsrw	sub_407DC
		jsr	(Animate_Raw):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_407DC:
		moveaw	(_unkFAA4):w,%a1
		btst	#5,0x38(%a1)
		beqs	locret_407FA
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		movel	#AniRaw_41936,0x30(%a0)
		movel	(%sp),(%a0)

locret_407FA:
		rts
/*  End of function sub_407DC */

/*  --------------------------------------------------------------------------- */

loc_407FC:
		movel	#loc_40844,(%a0)
		movel	#Map_EndingGraphics,0xC(%a0)
		movew	#0xE08E,0xA(%a0)
		movew	#0x100,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0x18,6(%a0)
		moveb	#1,0x22(%a0)
		bset	#0,4(%a0)
		movew	#0x140,0x10(%a0)
		movew	#0x11C,0x14(%a0)
		lea	ChildObjDat_4192A(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_40844:
		lea	AniRaw_41941(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40854:
		movel	#loc_40886,(%a0)
		movel	#Map_EndingGraphics,0xC(%a0)
		movew	#0xE08E,0xA(%a0)
		movew	#0x180,8(%a0)
		moveb	#0xC,7(%a0)
		moveb	#0xC,6(%a0)
		moveb	#1,0x22(%a0)
		bset	#0,4(%a0)

loc_40886:
		lea	AniRaw_41945(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40896:
		movel	#loc_408D6,(%a0)
		movel	#Map_EndingGraphics,0xC(%a0)
		movew	#0xC08E,0xA(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x10,7(%a0)
		moveb	#0x14,6(%a0)
		moveb	#0xC,0x22(%a0)
		movew	#0x12C,0x10(%a0)
		movew	#0xE8,0x14(%a0)
		movel	#loc_408E6,0x34(%a0)

loc_408D6:
		lea	AniRaw_41950(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelay):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_408E6:
		movel	#loc_408F0,(%a0)
		braw	loc_40A02
/*  --------------------------------------------------------------------------- */

loc_408F0:
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	loc_4090A
		movel	#loc_40910,(%a0)
		movel	#loc_40920,0x34(%a0)

loc_4090A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40910:
		lea	AniRaw_41959(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelay):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40920:
		movel	#loc_408D6,(%a0)
		movel	#loc_408E6,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_40930:
		movel	#loc_40962,(%a0)
		movel	#Map_AIZIntroEmeralds,0xC(%a0)
		movew	#0xE211,0xA(%a0)
		movew	#0x80,8(%a0)
		moveb	#4,7(%a0)
		moveb	#4,6(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		movew	%d0,0x2E(%a0)

loc_40962:
		subqw	#1,0x2E(%a0)
		bpls	loc_40974
		movel	#loc_4097A,(%a0)
		movew	#-0x300,0x1A(%a0)

loc_40974:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4097A:
		jsr	(MoveSprite_LightGravity):l
		tstw	0x1A(%a0)
		bmis	loc_4099C
		moveaw	0x46(%a0),%a1
		movew	0x14(%a1),%d0
		subqw	#4,%d0
		cmpw	0x14(%a0),%d0
		bhis	loc_4099C
		jsr	(Go_Delete_Sprite):l

loc_4099C:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_409A2:
		movel	#loc_409E0,(%a0)
		movel	#Map_EndingGraphics,0xC(%a0)
		movew	#0xC08E,0xA(%a0)
		movew	#0x180,8(%a0)
		moveb	#0x14,7(%a0)
		moveb	#0x1C,6(%a0)
		moveb	#0xE,0x22(%a0)
		movew	#0x118,0x10(%a0)
		movew	#0xE0,0x14(%a0)
		movew	#0x168,0x2E(%a0)

loc_409E0:
		subqw	#1,0x2E(%a0)
		bmis	loc_409F6
		lea	AniRaw_4194C(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_409F6:
		moveb	#0,(Game_mode):w
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_40A02:
		lea	(Collected_emeralds_array):w,%a2
		moveq	#0,%d1
		moveq	#0,%d2
		moveq	#6,%d3

loc_40A0C:
		tstb	(%a2)+
		bnes	loc_40A42
		jsr	(Create_New_Sprite):l
		bnes	loc_40A42
		movel	#loc_40930,(%a1)
		moveb	%d1,0x22(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),%d4
		addiw	#0xC,%d4
		movew	%d4,0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		movew	%a0,0x46(%a1)
		addqb	#2,%d2
		movew	%a1,0x44(%a0)

loc_40A42:
		addqb	#1,%d1
		dbf	%d3,loc_40A0C
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_40A4A:
		movew	(%a1)+,%d6

loc_40A4C:
		bsrw	sub_40A5C
		dbf	%d6,loc_40A4C
		bset	#0,(_unkFA88):w
		rts
/*  End of function sub_40A4A */


/*  =============== S U B R O U T I N E ======================================= */


sub_40A5C:
		lea	(RAM_start+0x2000):l,%a2
		movew	(%a1)+,%d0
		addaw	%d0,%a2

loc_40A66:
		moveq	#0,%d0
		moveb	(%a1)+,%d0
		beqw	loc_40B10
		movew	%d0,%d1
		subib	#0x61,%d0
		bcss	loc_40A9A
		lea	(S3Credits_PlaneMapSmall):l,%a3
		lslw	#2,%d0
		addaw	%d0,%a3
		movew	(%a3)+,(%a2)+
		movel	%a2,%d2
		addiw	#0x7E,%d2
		andil	#0xFFFF3FFF,%d2
		oril	#0x2000,%d2
		moveal	%d2,%a4
		movew	(%a3)+,(%a4)
		bras	loc_40A66
/*  --------------------------------------------------------------------------- */

loc_40A9A:
		cmpib	#0x20,%d1
		bnes	loc_40AA6
		moveq	#0x1D,%d1
		braw	loc_40ACE
/*  --------------------------------------------------------------------------- */

loc_40AA6:
		cmpib	#0x2E,%d1
		bnes	loc_40AB2
		moveq	#0x1A,%d1
		braw	loc_40ACE
/*  --------------------------------------------------------------------------- */

loc_40AB2:
		cmpib	#0x28,%d1
		bnes	loc_40ABE
		moveq	#0x1B,%d1
		braw	loc_40ACE
/*  --------------------------------------------------------------------------- */

loc_40ABE:
		cmpib	#0x29,%d1
		bnes	loc_40ACA
		moveq	#0x1C,%d1
		braw	loc_40ACE
/*  --------------------------------------------------------------------------- */

loc_40ACA:
		subib	#0x41,%d1

loc_40ACE:
		addw	%d1,%d1
		lea	(S3Credits_PlaneMapLarge):l,%a3
		movew	(%a3,%d1.w),%d1
		lea	(%a3,%d1.w),%a3
		movew	(%a3)+,%d0
		moveal	%a2,%a4
		moveq	#2,%d3

loc_40AE4:
		movew	%d0,%d1
		moveal	%a4,%a5

loc_40AE8:
		movew	(%a3)+,(%a5)+
		dbf	%d1,loc_40AE8
		movel	%a4,%d2
		addiw	#0x80,%d2
		andil	#0xFFFF3FFF,%d2
		oril	#0x2000,%d2
		moveal	%d2,%a4
		dbf	%d3,loc_40AE4
		addqw	#1,%d0
		addw	%d0,%d0
		addaw	%d0,%a2
		braw	loc_40A66
/*  --------------------------------------------------------------------------- */

loc_40B10:
		movel	%a1,%d0
		btst	#0,%d0
		beqs	locret_40B1A
		addql	#1,%a1

locret_40B1A:
		rts
/*  End of function sub_40A5C */

/*  --------------------------------------------------------------------------- */
S3CreditsText_TryAgain:.word 0
		.word 0x996
		.byte "TRY  AGAIN",0
		.balign 2
S3CreditsText_Main:.word	word_40B7C-S3CreditsText_Main
		.word word_40B94-S3CreditsText_Main
		.word word_40BC2-S3CreditsText_Main
		.word word_40BEC-S3CreditsText_Main
		.word word_40C16-S3CreditsText_Main
		.word word_40C42-S3CreditsText_Main
		.word word_40C5E-S3CreditsText_Main
		.word word_40C86-S3CreditsText_Main
		.word word_40CB8-S3CreditsText_Main
		.word word_40CFC-S3CreditsText_Main
		.word word_40D1E-S3CreditsText_Main
		.word word_40D62-S3CreditsText_Main
		.word word_40D90-S3CreditsText_Main
		.word word_40DB6-S3CreditsText_Main
		.word word_40DDA-S3CreditsText_Main
		.word word_40E00-S3CreditsText_Main
		.word word_40E34-S3CreditsText_Main
		.word word_40E68-S3CreditsText_Main
		.word word_40EA4-S3CreditsText_Main
		.word word_40EC6-S3CreditsText_Main
		.word word_40EF8-S3CreditsText_Main
		.word word_40F2A-S3CreditsText_Main
		.word word_40F5E-S3CreditsText_Main
		.word word_40F88-S3CreditsText_Main
		.word word_40FB8-S3CreditsText_Main
		.word word_40FF4-S3CreditsText_Main
		.word word_41028-S3CreditsText_Main
		.word word_4105C-S3CreditsText_Main
		.word word_4108C-S3CreditsText_Main
		.word word_410D8-S3CreditsText_Main
		.word word_41124-S3CreditsText_Main
		.word word_4117C-S3CreditsText_Main
		.word word_411B0-S3CreditsText_Main
		.word word_411F4-S3CreditsText_Main
		.word word_41244-S3CreditsText_Main
		.word word_41290-S3CreditsText_Main
		.word word_412C4-S3CreditsText_Main
		.word word_41314-S3CreditsText_Main
		.word word_4134C-S3CreditsText_Main
		.word 0
word_40B7C:	.word 1
		.word 0x598
		.byte "SONIC  III",0
		.balign 2
		.word 0x8A2
		.byte "staff",0
		.balign 2
word_40B94:	.word 1
		.word 0x48E
		.byte "    executive producer",0
		.balign 2
		.word 0x78A
		.byte "HAYAO  NAKAYAMA",0
		.balign 2
word_40BC2:	.word 1
		.word 0x490
		.byte "    project manager",0
		.balign 2
		.word 0x78E
		.byte "HISASHI  SUZUKI",0
		.balign 2
word_40BEC:	.word 1
		.word 0x490
		.byte "    project manager",0
		.balign 2
		.word 0x78A
		.byte "SHINOBU  TOYODA",0
		.balign 2
word_40C16:	.word 1
		.word 0x490
		.byte "    project manager",0
		.balign 2
		.word 0x78A
		.byte "MASAHARU  YOSHII",0
		.balign 2
word_40C42:	.word 1
		.word 0x4A0
		.byte "producer",0
		.balign 2
		.word 0x798
		.byte "YUJ I  NAKA",0
		.balign 2
word_40C5E:	.word 1
		.word 0x498
		.byte "    director",0
		.balign 2
		.word 0x786
		.byte "HIROKAZU  YASUHARA",0
		.balign 2
word_40C86:	.word 1
		.word 0x48C
		.byte "     lead game designer",0
		.balign 2
		.word 0x786
		.byte "HIROKAZU  YASUHARA",0
		.balign 2
word_40CB8:	.word 2
		.word 0x48A
		.byte "    senior game designers",0
		.balign 2
		.word 0x688
		.byte "HISAYOSHI YOSHIDA",0
		.balign 2
		.word 0x990
		.byte "TAKASHI  IIZUKA",0
		.balign 2
word_40CFC:	.word 1
		.word 0x498
		.byte "lead programmer",0
		.balign 2
		.word 0x796
		.byte "YUJ I  NAKA",0
		.balign 2
word_40D1E:	.word 2
		.word 0x48E
		.byte "    senior programmers",0
		.balign 2
		.word 0x688
		.byte "HIROSHI NIKAIDOH",0
		.balign 2
		.word 0x980
		.byte "MASANOBU YAMAMOTO",0
		.balign 2
word_40D62:	.word 1
		.word 0x496
		.byte "character designer",0
		.balign 2
		.word 0x784
		.byte "TAKASHI THOMAS YUDA",0
		.balign 2
word_40D90:	.word 1
		.word 0x496
		.byte "    cg  artist",0
		.balign 2
		.word 0x78E
		.byte "KUNITAKE   AOKI",0
		.balign 2
word_40DB6:	.word 1
		.word 0x4A0
		.byte "animator",0
		.balign 2
		.word 0x784
		.byte "TAKASHI THOMAS YUDA",0
		.balign 2
word_40DDA:	.word 1
		.word 0x49A
		.byte "enemy artist",0
		.balign 2
		.word 0x786
		.byte "SATOSHI YOKOKAWA",0
		.balign 2
word_40E00:	.word 2
		.word 0x498
		.byte "scene artists",0
		.balign 2
		.word 0x690
		.byte "KUNITAKE  AOKI",0
		.balign 2
		.word 0x992
		.byte "CHIE YOSHIDA",0
		.balign 2
word_40E34:	.word 2
		.word 0x49A
		.byte "scene artists",0
		.balign 2
		.word 0x690
		.byte "TSUNEKO  AOKI",0
		.balign 2
		.word 0x990
		.byte "SHIGERU  OKADA",0
		.balign 2
word_40E68:	.word 2
		.word 0x49A
		.byte "scene artists",0
		.balign 2
		.word 0x684
		.byte "TAKASHI THOMAS YUDA",0
		.balign 2
		.word 0x986
		.byte "SATOSHI YOKOKAWA",0
		.balign 2
word_40EA4:	.word 1
		.word 0x498
		.byte "art assistant",0
		.balign 2
		.word 0x78E
		.byte "OSAMU  OHASHI",0
		.balign 2
word_40EC6:	.word 2
		.word 0x498
		.byte "music composers",0
		.balign 2
		.word 0x694
		.byte "BRAD  BUXER",0
		.balign 2
		.word 0x98E
		.byte "BOBBY BROOKS",0
		.balign 2
word_40EF8:	.word 2
		.word 0x498
		.byte "music composers",0
		.balign 2
		.word 0x692
		.byte "DARRYL  ROSS",0
		.balign 2
		.word 0x992
		.byte "GEOFF GRACE",0
		.balign 2
word_40F2A:	.word 2
		.word 0x498
		.byte "music composers",0
		.balign 2
		.word 0x68C
		.byte "DOUG  GRIGSBY III",0
		.balign 2
		.word 0x996
		.byte "SCIROCCO",0
		.balign 2
word_40F5E:	.word 2
		.word 0x498
		.byte "sega sound team",0
		.balign 2
		.word 0x6A2
		.byte "BO",0
		.balign 2
		.word 0x98E
		.byte "SACHIO  OGAWA",0
		.balign 2
word_40F88:	.word 2
		.word 0x498
		.byte "sega sound team",0
		.balign 2
		.word 0x69C
		.byte "MILPO",0
		.balign 2
		.word 0x986
		.byte "MASARU  SETSUMARU",0
		.balign 2
word_40FB8:	.word 2
		.word 0x498
		.byte "sega sound team",0
		.balign 2
		.word 0x68A
		.byte "TATSUYUKI  MAEDA",0
		.balign 2
		.word 0x986
		.byte "TOMONORI  SAWADA",0
		.balign 2
word_40FF4:	.word 2
		.word 0x498
		.byte "sega sound team",0
		.balign 2
		.word 0x68C
		.byte "MASAYUKI NAGAO",0
		.balign 2
		.word 0x994
		.byte "J UN SENOUE",0
		.balign 2
word_41028:	.word 1
		.word 0x490
		.byte "sound project coordinator",0
		.balign 2
		.word 0x78A
		.byte "    HISAKI  NIMIYA",0
		.balign 2
word_4105C:	.word 1
		.word 0x490
		.byte "       marketing      ",0
		.balign 2
		.word 0x78A
		.byte "    PAMELA  KELLY",0
		.balign 2
word_4108C:	.word 2
		.word 0x490
		.byte " executive management ",0
		.balign 2
		.word 0x680
		.byte " SHOUICHIROU IRIMAJ IRI",0
		.balign 2
		.word 0x98A
		.byte "  TOM  KAL INSKE  ",0
		.balign 2
word_410D8:	.word 2
		.word 0x490
		.byte " executive coordinator",0
		.balign 2
		.word 0x680
		.byte "     MAMORU  SHIGETA    ",0
		.balign 2
		.word 0x98A
		.byte "  TOMIO  TAKAMI  ",0
		.balign 2
word_41124:	.word 2
		.word 0x490
		.byte " executive coordinator",0
		.balign 2
		.word 0x680
		.byte "    DIANE  A  FORNASIER   ",0
		.balign 2
		.word 0x980
		.byte "       ROGER  HECTOR      ",0
		.balign 2
word_4117C:	.word 1
		.word 0x490
		.byte " executive coordinator",0
		.balign 2
		.word 0x780
		.byte " TAKAHARU  UTSUNOMIYA",0
		.balign 2
word_411B0:	.word 2
		.word 0x490
		.byte " sound %special thanks ",0
		.balign 2
		.word 0x680
		.byte " MAYUMI NINA SAKAZAKI",0
		.balign 2
		.word 0x98A
		.byte "        (MRM)",0
		.balign 2
word_411F4:	.word 2
		.word 0x490
		.byte " sound %special thanks ",0
		.balign 2
		.word 0x680
		.byte "         CUBE  CORP.   ",0
		.balign 2
		.word 0x980
		.byte "         OPUS CORP.   ",0
		.balign 2
word_41244:	.word 2
		.word 0x490
		.byte " sound %special thanks ",0
		.balign 2
		.word 0x680
		.byte "  MASANORI  NAKAYAMA",0
		.balign 2
		.word 0x980
		.byte "       (STUDIO WHO) ",0
		.balign 2
word_41290:	.word 1
		.word 0x490
		.byte " sound %special thanks ",0
		.balign 2
		.word 0x780
		.byte "     HOWARD  DROSSIN",0
		.balign 2
word_412C4:	.word 2
		.word 0x490
		.byte "    %special thanks    ",0
		.balign 2
		.word 0x680
		.byte "   DEBORAH MCCRACKEN  ",0
		.balign 2
		.word 0x980
		.byte "       EMI  KAWAMURA  ",0
		.balign 2
word_41314:	.word 1
		.word 0x490
		.byte "    %special thanks    ",0
		.balign 2
		.word 0x780
		.byte "       J INA  ISHIWATARI",0
		.balign 2
word_4134C:	.word 1
		.word 0x490
		.byte "     presented by",0
		.balign 2
		.word 0x78A
		.byte "          SEGA           ",0
		.balign 2
S3CreditsText_Dummy:.word word_4138C-S3CreditsText_Dummy
		.word word_41396-S3CreditsText_Dummy
		.word word_413A0-S3CreditsText_Dummy
		.word word_413AA-S3CreditsText_Dummy
		.word word_413B4-S3CreditsText_Dummy
		.word word_413BE-S3CreditsText_Dummy
		.word 0
word_4138C:	.word 1
		.word 0x1310
		.byte "a",0
		.balign 2
		.word 0x1710
		.byte "A",0
		.balign 2
word_41396:	.word 1
		.word 0x1310
		.byte "b",0
		.balign 2
		.word 0x1710
		.byte "B",0
		.balign 2
word_413A0:	.word 1
		.word 0x1310
		.byte "c",0
		.balign 2
		.word 0x1710
		.byte "C",0
		.balign 2
word_413AA:	.word 1
		.word 0x310
		.byte "d",0
		.balign 2
		.word 0x710
		.byte "D",0
		.balign 2
word_413B4:	.word 1
		.word 0x1310
		.byte "e",0
		.balign 2
		.word 0x1710
		.byte "E",0
		.balign 2
word_413BE:	.word 1
		.word 0x310
		.byte "f",0
		.balign 2
		.word 0x710
		.byte "F",0
		.balign 2
S3Credits_PlaneMapSmall:
		.word    1,   2
		.word    3,   4
		.word    5,   6
		.word    7,   8
		.word    9,  0xA
		.word    9,  0xB
		.word   0xC,   6
		.word   0xD,   2
		.word   0xE,  0xF
		.word  0x10,   6
		.word  0x11, 0x12
		.word  0x13, 0x14
		.word  0x15, 0x16
		.word  0x17, 0x18
		.word  0x19,   6
		.word  0x1A,  0xB
		.word  0x1B, 0x1C
		.word    3,   2
		.word  0x1D,   6
		.word  0x1E,  0xF
		.word  0x1F,   6
		.word  0x1F, 0x20
		.word  0x21, 0x22
		.word  0x23, 0x18
		.word  0x24,  0xF
		.word  0x25, 0x26
S3Credits_PlaneMapLarge:.word word_4146C-S3Credits_PlaneMapLarge
		.word word_4147A-S3Credits_PlaneMapLarge
		.word word_41488-S3Credits_PlaneMapLarge
		.word word_41496-S3Credits_PlaneMapLarge
		.word word_414A4-S3Credits_PlaneMapLarge
		.word word_414B2-S3Credits_PlaneMapLarge
		.word word_414C0-S3Credits_PlaneMapLarge
		.word word_414CE-S3Credits_PlaneMapLarge
		.word word_414DC-S3Credits_PlaneMapLarge
		.word word_414E4-S3Credits_PlaneMapLarge
		.word word_414EC-S3Credits_PlaneMapLarge
		.word word_414FA-S3Credits_PlaneMapLarge
		.word word_41502-S3Credits_PlaneMapLarge
		.word word_41516-S3Credits_PlaneMapLarge
		.word word_41524-S3Credits_PlaneMapLarge
		.word word_41538-S3Credits_PlaneMapLarge
		.word word_41546-S3Credits_PlaneMapLarge
		.word word_4155A-S3Credits_PlaneMapLarge
		.word word_41568-S3Credits_PlaneMapLarge
		.word word_41576-S3Credits_PlaneMapLarge
		.word word_41584-S3Credits_PlaneMapLarge
		.word word_41592-S3Credits_PlaneMapLarge
		.word word_415A0-S3Credits_PlaneMapLarge
		.word word_415B4-S3Credits_PlaneMapLarge
		.word word_415C2-S3Credits_PlaneMapLarge
		.word word_415D0-S3Credits_PlaneMapLarge
		.word word_415DE-S3Credits_PlaneMapLarge
		.word word_415E6-S3Credits_PlaneMapLarge
		.word word_415F4-S3Credits_PlaneMapLarge
		.word word_41602-S3Credits_PlaneMapLarge
word_4146C:	.word 1
		.word  0x2029, 0x202A, 0x202B, 0x202C, 0x202D, 0x202C
word_4147A:	.word 1
		.word  0x202E, 0x202F, 0x2030, 0x2031, 0x2032, 0x2033
word_41488:	.word 1
		.word  0x2034, 0x2035, 0x2036, 0x2037, 0x2038, 0x2039
word_41496:	.word 1
		.word  0x203A, 0x2834, 0x203B, 0x2836, 0x203C, 0x2838
word_414A4:	.word 1
		.word  0x203D, 0x203E, 0x202D, 0x2037, 0x203F, 0x2040
word_414B2:	.word 1
		.word  0x203D, 0x203E, 0x202D, 0x2037, 0x202D, 0x2037
word_414C0:	.word 1
		.word  0x2041, 0x2042, 0x2043, 0x202D, 0x2044, 0x2045
word_414CE:	.word 1
		.word  0x2046, 0x2047, 0x202D, 0x202C, 0x202D, 0x202C
word_414DC:	.word 0
		.word  0x2048, 0x203B, 0x203B
word_414E4:	.word 0
		.word  0x2049, 0x282C, 0x204A
word_414EC:	.word 1
		.word  0x204B, 0x204C, 0x204D, 0x204E, 0x204F, 0x2050
word_414FA:	.word 0
		.word  0x2048, 0x203B, 0x2051
word_41502:	.word 2
		.word  0x2052, 0x2053, 0x2054, 0x2055, 0x2056, 0x2057, 0x3855, 0x2058, 0x2059
word_41516:	.word 1
		.word  0x205A, 0x2047, 0x203B, 0x202C, 0x203B, 0x202C
word_41524:	.word 2
		.word  0x205B, 0x205C, 0x285B, 0x2043, 0x2037, 0x2843, 0x205D, 0x205E, 0x285D
word_41538:	.word 1
		.word  0x205F, 0x2060, 0x3030, 0x3031, 0x2061, 0x2037
word_41546:	.word 2
		.word  0x205B, 0x205C, 0x285B, 0x2043, 0x2037, 0x2843, 0x205D, 0x2062, 0x2063
word_4155A:	.word 1
		.word  0x205F, 0x2060, 0x3030, 0x3031, 0x2064, 0x2065
word_41568:	.word 1
		.word  0x2066, 0x2067, 0x2068, 0x2069, 0x206A, 0x206B
word_41576:	.word 1
		.word  0x206C, 0x2067, 0x282D, 0x2037, 0x282D, 0x2037
word_41584:	.word 1
		.word  0x206D, 0x206E, 0x206F, 0x2070, 0x2071, 0x2072
word_41592:	.word 1
		.word  0x2073, 0x2074, 0x3055, 0x2075, 0x2076, 0x2077
word_415A0:	.word 2
		.word  0x2073, 0x2078, 0x2079, 0x3055, 0x3056, 0x3057, 0x2076, 0x207A, 0x207B
word_415B4:	.word 1
		.word  0x207C, 0x207D, 0x207E, 0x287E, 0x207F, 0x2080
word_415C2:	.word 1
		.word  0x2081, 0x2082, 0x282C, 0x2037, 0x282C, 0x2037
word_415D0:	.word 1
		.word  0x2083, 0x2084, 0x2085, 0x2037, 0x2086, 0x2087
word_415DE:	.word 0
		.word  0x202F, 0x2037, 0x2088
word_415E6:	.word 1
		.word  0x2089, 0x208A, 0x208B, 0x2037, 0x208C, 0x208D
word_415F4:	.word 1
		.word  0x288A, 0x2889, 0x2037, 0x288B, 0x288D, 0x288C
word_41602:	.word 0
		.word      0,     0,     0
Pal_Ending:	.incbin "General/Ending/Palettes/S3 Ending.bin"
		.balign 2
Pal_EndingS3Logo:
		.incbin "General/Ending/Palettes/S3 Logo.bin"
		.balign 2
Pal_EndingEyecatchKnuckles:
		.incbin "General/Ending/Palettes/S3 Knuckles Eyecatch.bin"
		.balign 2
Pal_EndingS3LogoFlash:
		.incbin "General/Ending/Palettes/S3 Logo Flash.bin"
		.balign 2
Map_EndingGraphics:
		.include "General/Ending/Map - S3 Ending Graphics.S"
ChildObjDat_4192A:.word 0
		.long loc_40854
		.word 0x1008
AniRaw_41932:	.byte   0xF,   1,   2, 0xFC
AniRaw_41936:	.byte    7,   1,   1,   3,   4, 0xF8,   7, 0x7F,   4,   4, 0xFC
AniRaw_41941:	.byte   0xF,  0xA,  0xB, 0xFC
AniRaw_41945:	.byte    7,   5,   6,   7,   8,   9, 0xFC
AniRaw_4194C:	.byte   0xF,  0xC,  0xD, 0xFC
AniRaw_41950:	.byte   0xE, 0x1F,  0xE, 0x1F,  0xF,   7, 0x10,   0, 0xF4
AniRaw_41959:	.byte  0x10, 0x1F,  0xF,   7,  0xE,   0, 0xF4
ArtNem_EndingGraphics:
		.incbin "General/Ending/Nemesis Art/S3 Ending Graphics.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */
		movea.l ObjB0(%pc,%d6.w),%a6
		jsr	(%a6)
		nop
		nop
		move	sr,%d5
		movew	(%sp),%d6
		andiw	#0x1F,%d5
		andiw	#-0x20,%d6
		orw	%d5,%d6
		movew	%d6,(%sp)
		nop
		nop
		rte
/*  --------------------------------------------------------------------------- */

ObjB0:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	ObjB0_Index(%pc,%d0.w),%d1
		jmp	ObjB0_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
ObjB0_Index:	.word ObjB0_Init-ObjB0_Index
		.word ObjB0_RunLeft-ObjB0_Index
		.word ObjB0_MidWipe-ObjB0_Index
		.word ObjB0_RunRight-ObjB0_Index
		.word ObjB0_EndWipe-ObjB0_Index
		.word locret_43340-ObjB0_Index
/*  --------------------------------------------------------------------------- */

ObjB0_Init:
		lea	ObjDat3_434E0(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#0,4(%a0)
		movew	#0x1E8,0x10(%a0)
		movew	#0xF0,0x14(%a0)
		movew	#0xB,0x2E(%a0)
		movew	#2,(_unkF662):w
		bset	#0,4(%a0)
		bset	#0,0x2A(%a0)
		lea	(H_scroll_buffer+0x138):w,%a1
		lea	Streak_Horizontal_offsets(%pc),%a2
		moveq	#0,%d0
		moveq	#0x22,%d6

loc_431B8:
		moveb	(%a2)+,%d0
		addw	%d0,(%a1)
		addqw	#8,%a1
		dbf	%d6,loc_431B8
		movew	%d7,-(%sp)
		moveq	#0,%d0
		moveq	#0,%d1
		lea	SonicRunningSpriteScaleData(%pc),%a6
		moveq	#7,%d7

loc_431CE:
		moveal	(%a6)+,%a1
		moveal	(%a6)+,%a2
		moveb	(%a6)+,%d0
		moveb	(%a6)+,%d1
		bsrw	Scale_2x
		dbf	%d7,loc_431CE
		movew	(%sp)+,%d7
		rts
/*  --------------------------------------------------------------------------- */
SonicRunningSpriteScaleData:
		.long Chunk_table
		.long Chunk_table+0xB00
		.byte 2
		.byte 1
		.long Chunk_table+0xC0
		.long Chunk_table+0xE00
		.byte 3
		.byte 3
		.long Chunk_table+0x2C0
		.long Chunk_table+0x1600
		.byte 2
		.byte 1
		.long Chunk_table+0x380
		.long Chunk_table+0x1900
		.byte 3
		.byte 3
		.long Chunk_table+0x580
		.long Chunk_table+0x2100
		.byte 2
		.byte 1
		.long Chunk_table+0x640
		.long Chunk_table+0x2400
		.byte 3
		.byte 3
		.long Chunk_table+0x840
		.long Chunk_table+0x2C00
		.byte 2
		.byte 1
		.long Chunk_table+0x900
		.long Chunk_table+0x2F00
		.byte 3
		.byte 3
/*  --------------------------------------------------------------------------- */

ObjB0_RunLeft:
		subiw	#0x20,0x10(%a0)
		subqw	#1,0x2E(%a0)
		bmis	loc_43254
		bsrw	ObjB0_Move_Streaks_Left
		lea	(Ani_SonicOnSegaScr):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43254:
		addqb	#2,5(%a0)
		movew	#0xC,0x2E(%a0)
		moveb	#1,0x30(%a0)
		moveb	#-1,0x31(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

ObjB0_MidWipe:
		tstw	0x2E(%a0)
		beqs	loc_4327E
		subqw	#1,0x2E(%a0)
		bsrw	ObjB0_Move_Streaks_Left

loc_4327E:
		lea	byte_433F4(%pc),%a1
		bsrw	sub_433A6
		bnes	loc_4328A
		rts
/*  --------------------------------------------------------------------------- */

loc_4328A:
		addqb	#2,5(%a0)
		bchg	#0,4(%a0)
		movew	#0xB,0x2E(%a0)
		movew	#4,(_unkF662):w
		subiw	#0x28,0x10(%a0)
		bchg	#0,4(%a0)
		bchg	#0,0x2A(%a0)
		lea	(H_scroll_buffer):w,%a1
		moveq	#0,%d0
		movew	#0x400,%d1

loc_432BC:
		movel	%d0,(%a1)+
		dbf	%d1,loc_432BC
		lea	(H_scroll_buffer+0x13C):w,%a1
		lea	Streak_Horizontal_offsets(%pc),%a2
		moveq	#0,%d0
		moveq	#0x22,%d6

loc_432CE:
		moveb	(%a2)+,%d0
		subw	%d0,(%a1)
		addqw	#8,%a1
		dbf	%d6,loc_432CE

locret_432D8:
		rts
/*  --------------------------------------------------------------------------- */

ObjB0_RunRight:
		subqw	#1,0x2E(%a0)
		bmis	loc_432FC
		addiw	#0x20,0x10(%a0)
		bsrw	ObjB0_Move_Streaks_Right
		lea	(Ani_SonicOnSegaScr):l,%a1
		jsr	(Animate_Sprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_432FC:
		addqb	#2,5(%a0)
		movew	#0xC,0x2E(%a0)
		moveb	#1,0x30(%a0)
		moveb	#-1,0x31(%a0)
		rts
/*  --------------------------------------------------------------------------- */

ObjB0_EndWipe:
		tstw	0x2E(%a0)
		beqs	loc_43322
		subqw	#1,0x2E(%a0)
		bsrw	ObjB0_Move_Streaks_Right

loc_43322:
		lea	byte_4346A(%pc),%a1
		bsrw	sub_433A6
		bnes	loc_4332E
		rts
/*  --------------------------------------------------------------------------- */

loc_4332E:
		addqb	#2,5(%a0)
		st	(_unkF660):w
		moveb	#mus_FA,%d0
		jsr	(Play_Sound_2):l

locret_43340:
		rts
/*  --------------------------------------------------------------------------- */

ObjB1:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	ObjB1_Index(%pc,%d0.w),%d1
		jmp	ObjB1_Index(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
ObjB1_Index:	.word ObjB1_Init-ObjB1_Index
		.word ObjB1_Main-ObjB1_Index
/*  --------------------------------------------------------------------------- */

ObjB1_Init:
		lea	ObjDat3_434EA(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#0,4(%a0)
		moveb	#4,0x22(%a0)
		movew	#0x174,0x10(%a0)
		movew	#0xD8,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

ObjB1_Main:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


ObjB0_Move_Streaks_Left:
		lea	(H_scroll_buffer+0x138):w,%a1
		movew	#0x22,%d6

loc_43386:
		subiw	#0x20,(%a1)
		addqw	#8,%a1
		dbf	%d6,loc_43386
		rts
/*  End of function ObjB0_Move_Streaks_Left */


/*  =============== S U B R O U T I N E ======================================= */


ObjB0_Move_Streaks_Right:
		lea	(H_scroll_buffer+0x13C):w,%a1
		movew	#0x22,%d6

loc_4339A:
		addiw	#0x20,(%a1)
		addqw	#8,%a1
		dbf	%d6,loc_4339A
		rts
/*  End of function ObjB0_Move_Streaks_Right */


/*  =============== S U B R O U T I N E ======================================= */


sub_433A6:
		subqb	#1,0x30(%a0)
		bnes	loc_433EC
		moveq	#0,%d0
		moveb	0x31(%a0),%d0
		addqb	#1,%d0
		cmpb	1(%a1),%d0
		bcss	loc_433C0
		tstb	3(%a1)
		bnes	loc_433F0

loc_433C0:
		moveb	%d0,0x31(%a0)
		moveb	(%a1),0x30(%a0)
		lea	6(%a1),%a2
		moveq	#0,%d1
		moveb	2(%a1),%d1
		movew	%d1,%d2
		tstw	%d0
		beqs	loc_433E2

loc_433D8:
		subqb	#1,%d0
		beqs	loc_433E0
		addw	%d2,%d1
		bras	loc_433D8
/*  --------------------------------------------------------------------------- */

loc_433E0:
		addaw	%d1,%a2

loc_433E2:
		moveaw	4(%a1),%a3

loc_433E6:
		movew	(%a2)+,(%a3)+
		subqw	#2,%d2
		bnes	loc_433E6

loc_433EC:
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_433F0:
		moveq	#1,%d0
		rts
/*  End of function sub_433A6 */

/*  --------------------------------------------------------------------------- */
byte_433F4:	.byte 4
		.byte 7
		.byte 0x10
		.byte 0xFF
		.word 0xFC10
		.incbin "General/Sprites/S2Menu/Palettes/Sega Screen 2.bin"
byte_4346A:	.byte 4
		.byte 7
		.byte 0x10
		.byte 0xFF
		.word 0xFC00
		.incbin "General/Sprites/S2Menu/Palettes/Sega Screen 3.bin"
ObjDat3_434E0:	.long Map_SonicOnSegaScr
		.word 0xC088
		.word 0x80
		.byte 0x10
		.byte 0
ObjDat3_434EA:	.long Map_SonicOnSegaScr
		.word 3
		.word 0x100
		.byte 8
		.byte 0
Ani_SonicOnSegaScr:
		.include "General/Sprites/S2Menu/Anim - Sonic On Sega Screen.S"
Map_SonicOnSegaScr:
		.include "General/Sprites/S2Menu/Map - Sonic On Sega Screen.S"

/*  =============== S U B R O U T I N E ======================================= */


SegaScr_VInt:
		movew	(_unkF662):w,%d0
		beqw	locret_432D8
		clrw	(_unkF662):w
		movew	off_435C0-2(%pc,%d0.w),%d0
		jmp	off_435C0(%pc,%d0.w)
/*  End of function SegaScr_VInt */

/*  --------------------------------------------------------------------------- */
off_435C0:	.word loc_435C4-off_435C0
		.word loc_435F6-off_435C0
/*  --------------------------------------------------------------------------- */

loc_435C4:
		lea	(VDP_control_port):l,%a5
		movel	#0x94169300,(%a5)
		movel	#0x96859580,(%a5)
		movew	#0x977F,(%a5)
		movew	#0x5100,(%a5)
		movew	#0x80,(DMA_trigger_word):w
		movew	(DMA_trigger_word):w,(%a5)
		lea	ObjB1_Streak_fade_to_right(%pc),%a1
		movel	#0x49500003,%d0
		braw	loc_43632
/*  --------------------------------------------------------------------------- */

loc_435F6:
		lea	(VDP_control_port):l,%a5
		movew	#0x8F01,(%a5)
		movel	#0x941F93FF,(%a5)
		movew	#0x9780,(%a5)
		movel	#0x40000083,(%a5)
		movew	#0,(VDP_data_port):l

loc_43618:
		movew	(%a5),%d1
		btst	#1,%d1
		bnes	loc_43618
		movew	#-0x70FE,(%a5)
		lea	ObjB1_Streak_fade_to_left(%pc),%a1
		movel	#0x49A00003,%d0
		braw	loc_43632
/*  --------------------------------------------------------------------------- */

loc_43632:
		lea	(VDP_data_port):l,%a6
		movel	#0x1000000,%d6
		moveq	#7,%d1
		moveq	#9,%d2

loc_43642:
		movel	%d0,4(%a6)
		movew	%d1,%d3
		moveal	%a1,%a2

loc_4364A:
		movew	(%a2)+,%d4
		bclr	#0xA,%d4
		beqs	loc_43656
		bsrw	sub_43664

loc_43656:
		movew	%d4,(%a6)
		dbf	%d3,loc_4364A
		addl	%d6,%d0
		dbf	%d2,loc_43642
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_43664:
		moveq	#0x28,%d5

loc_43666:
		movew	%d4,(%a6)
		dbf	%d5,loc_43666
		rts
/*  End of function sub_43664 */

/*  --------------------------------------------------------------------------- */
ObjB1_Streak_fade_to_right:
		.word 0xA080
		.word 0xA081
		.word 0xA082
		.word 0xA083
		.word 0xA084
		.word 0xA085
		.word 0xA086
		.word 0xA487
ObjB1_Streak_fade_to_left:
		.word 0xA487
		.word 0xA086
		.word 0xA085
		.word 0xA084
		.word 0xA083
		.word 0xA082
		.word 0xA081
		.word 0xA080
Streak_Horizontal_offsets:
		.byte  0x12
		.byte    4
		.byte    4
		.byte    2
		.byte    2
		.byte    2
		.byte    2
		.byte    0
		.byte    0
		.byte    0
		.byte    0
		.byte    0
		.byte    0
		.byte    0
		.byte    0
		.byte    4
		.byte    4
		.byte    6
		.byte   0xA
		.byte    8
		.byte    6
		.byte    4
		.byte    4
		.byte    4
		.byte    4
		.byte    6
		.byte    6
		.byte    8
		.byte    8
		.byte   0xA
		.byte   0xA
		.byte   0xC
		.byte   0xE
		.byte  0x10
		.byte  0x16
		.byte    0

/*  =============== S U B R O U T I N E ======================================= */


Scale_2x:
		movew	%d1,%d2
		andiw	#1,%d2
		addqw	#1,%d2
		lslw	#6,%d2
		swap	%d2
		movew	%d1,%d3
		lsrw	#1,%d3
		addqw	#1,%d3
		lslw	#6,%d3
		swap	%d3
		bsrw	sub_436DE
		btst	#1,%d0
		beqw	locret_432D8
		btst	#1,%d1
		bnes	loc_436DC
		moveal	%a3,%a5

loc_436DC:
		moveal	%a5,%a2
/*  End of function Scale_2x */


/*  =============== S U B R O U T I N E ======================================= */


sub_436DE:
		moveal	%a2,%a4
		swap	%d2
		lea	(%a2,%d2.w),%a3
		swap	%d2
		movew	%d1,%d5
		andiw	#1,%d5
		bsrw	Scale2x_SingleTile
		btst	#1,%d1
		beqs	loc_4371A
		swap	%d2
		movew	%d2,%d4
		swap	%d2
		addw	%d4,%d4
		movew	%d0,%d3
		andiw	#1,%d3
		lslw	%d3,%d4
		addaw	%d4,%a4
		movew	%d1,%d5
		lsrw	#1,%d5
		swap	%d3
		lea	(%a4,%d3.w),%a5
		swap	%d3
		bsrw	Scale2x_SingleTile2

loc_4371A:
		btst	#0,%d0
		bnes	loc_43726
		btst	#1,%d0
		beqs	locret_43756

loc_43726:
		swap	%d2
		lea	(%a2,%d2.w),%a2
		lea	(%a2,%d2.w),%a3
		swap	%d2
		movew	%d1,%d5
		andiw	#1,%d5
		bsrw	Scale2x_SingleTile
		btst	#1,%d1
		beqs	locret_43756
		movew	%d1,%d5
		lsrw	#1,%d5
		swap	%d3
		lea	(%a4,%d3.w),%a4
		lea	(%a4,%d3.w),%a5
		swap	%d3
		bsrw	Scale2x_SingleTile2

locret_43756:
		rts
/*  End of function sub_436DE */


/*  =============== S U B R O U T I N E ======================================= */


Scale2x_SingleTile:
		moveq	#7,%d6

loc_4375A:
		bsrw	Scale_2x_LeftPixels
		addqw	#4,%a2
		bsrw	Scale_2x_RightPixels
		addqw	#4,%a3
		dbf	%d6,loc_4375A
		dbf	%d5,Scale2x_SingleTile
		rts
/*  End of function Scale2x_SingleTile */


/*  =============== S U B R O U T I N E ======================================= */


Scale2x_SingleTile2:
		moveq	#7,%d6

loc_43772:
		bsrw	Scale_2x_LeftPixels2
		addqw	#4,%a4
		bsrw	Scale_2x_RightPixels2
		addqw	#4,%a5
		dbf	%d6,loc_43772
		dbf	%d5,Scale2x_SingleTile2
		rts
/*  End of function Scale2x_SingleTile2 */


/*  =============== S U B R O U T I N E ======================================= */


Scale_2x_LeftPixels:
		bsrw	loc_4378C

loc_4378C:
		moveb	(%a1)+,%d2
		moveb	%d2,%d3
		andib	#-0x10,%d2
		moveb	%d2,%d4
		lsrb	#4,%d4
		orb	%d2,%d4
		moveb	%d4,(%a2)+
		moveb	%d4,3(%a2)
		andib	#0xF,%d3
		moveb	%d3,%d4
		lslb	#4,%d4
		orb	%d3,%d4
		moveb	%d4,(%a2)+
		moveb	%d4,3(%a2)
		rts
/*  End of function Scale_2x_LeftPixels */


/*  =============== S U B R O U T I N E ======================================= */


Scale_2x_RightPixels:
		bsrw	loc_437B6

loc_437B6:
		moveb	(%a1)+,%d2
		moveb	%d2,%d3
		andib	#-0x10,%d2
		moveb	%d2,%d4
		lsrb	#4,%d4
		orb	%d2,%d4
		moveb	%d4,(%a3)+
		moveb	%d4,3(%a3)
		andib	#0xF,%d3
		moveb	%d3,%d4
		lslb	#4,%d4
		orb	%d3,%d4
		moveb	%d4,(%a3)+
		moveb	%d4,3(%a3)
		rts
/*  End of function Scale_2x_RightPixels */


/*  =============== S U B R O U T I N E ======================================= */


Scale_2x_LeftPixels2:
		bsrw	loc_437E0

loc_437E0:
		moveb	(%a1)+,%d2
		moveb	%d2,%d3
		andib	#-0x10,%d2
		moveb	%d2,%d4
		lsrb	#4,%d4
		orb	%d2,%d4
		moveb	%d4,(%a4)+
		moveb	%d4,3(%a4)
		andib	#0xF,%d3
		moveb	%d3,%d4
		lslb	#4,%d4
		orb	%d3,%d4
		moveb	%d4,(%a4)+
		moveb	%d4,3(%a4)
		rts
/*  End of function Scale_2x_LeftPixels2 */


/*  =============== S U B R O U T I N E ======================================= */


Scale_2x_RightPixels2:
		bsrw	loc_4380A

loc_4380A:
		moveb	(%a1)+,%d2
		moveb	%d2,%d3
		andib	#-0x10,%d2
		moveb	%d2,%d4
		lsrb	#4,%d4
		orb	%d2,%d4
		moveb	%d4,(%a5)+
		moveb	%d4,3(%a5)
		andib	#0xF,%d3
		moveb	%d3,%d4
		lslb	#4,%d4
		orb	%d3,%d4
		moveb	%d4,(%a5)+
		moveb	%d4,3(%a5)
		rts
/*  End of function Scale_2x_RightPixels2 */

/*  --------------------------------------------------------------------------- */

Obj_86:
		lea	ObjDat3_43F7C(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43892,(%a0)
		movew	%a0,(_unkFAA4):w
		subiw	#0x100,0x14(%a0)
		movew	0x14(%a0),0x3A(%a0)
		st	(Disable_death_plane):w
		movel	(V_int_run_count):w,(RNG_seed):w
		movew	(Saved_ring_count):w,(Ring_count):w
		moveb	(Saved_extra_life_flags):w,(Extra_life_flags):w
		moveb	#1,(Update_HUD_ring_count):w
		bset	#7,(Player_1+art_tile):w
		bset	#7,(Player_2+art_tile):w
		lea	(0xFF2000):l,%a1
		moveq	#-1,%d0
		moveq	#8,%d1

loc_43882:
		movel	%d0,(%a1)+
		dbf	%d1,loc_43882
		lea	ChildObjDat_43FC4(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_43892:
		bsrw	sub_43E38
		lea	word_438F0(%pc),%a1
		jsr	(Check_PlayerInRange):l
		tstw	%d0
		bnes	loc_438AA
		swap	%d0
		tstw	%d0
		beqs	loc_438EA

loc_438AA:
		movel	#loc_438F8,(%a0)
		movel	#loc_4390C,0x34(%a0)
		bset	#1,0x38(%a0)
		moveaw	%d0,%a1
		movew	0x10(%a0),%d0
		cmpw	0x10(%a1),%d0
		scs	%d1
		tstw	0x1A(%a1)
		bmis	loc_438D2
		notb	%d1

loc_438D2:
		bclr	#0,4(%a0)
		tstb	%d1
		beqs	loc_438E2
		bset	#0,4(%a0)

loc_438E2:
		moveq	#sfx_GumballTab,%d0
		jsr	(Play_Sound_2):l

loc_438EA:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
word_438F0:	.word 0xFFDC
		.word 0x48
		.word 0xFFF8
		.word 0x10
/*  --------------------------------------------------------------------------- */

loc_438F8:
		bsrw	sub_43E38
		lea	byte_4401C(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4390C:
		movel	#loc_4391A,(%a0)
		bset	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4391A:
		bsrw	sub_43E38
		btst	#1,0x38(%a0)
		bnes	loc_4392C
		movel	#loc_43892,(%a0)

loc_4392C:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43932:
		lea	ObjDat3_43F64(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movew	#0x100,0x10(%a0)
		movew	#0x310,0x14(%a0)
		lea	word_43FF0(%pc),%a2
		jsr	(CreateChild1_Normal):l
		movel	#loc_43958,(%a0)

loc_43958:
		btst	#1,0x38(%a0)
		bnes	loc_43970
		lea	(SolidObjectFull):l,%a1
		bsrw	sub_43EE0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43970:
		clrb	(0xFF2022):l
		lea	ChildObjDat_4400A(%pc),%a2
		jsr	(CreateChild6_Simple):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43986:
		lea	ObjDat3_43F94(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movew	#-0x1000,0x30(%a0)
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_43A10
		movew	#0x1B,%d1
		movew	#8,%d2
		movew	#0x10,%d3
		movew	0x10(%a0),%d4
		lea	(Player_1):w,%a1
		moveq	#3,%d6
		moveml	%d1-%d4,-(%sp)
		jsr	(SolidObjectFull2_1P):l
		btst	#3,0x2A(%a0)
		beqs	loc_439D6
		bset	#5,0x38(%a0)
		jsr	(sub_2164A):l

loc_439D6:
		moveml	(%sp)+,%d1-%d4
		lea	(Player_2):w,%a1
		moveq	#4,%d6
		jsr	(SolidObjectFull2_1P):l
		btst	#4,0x2A(%a0)
		beqs	loc_439F4
		jsr	(sub_2164A):l

loc_439F4:
		lea	(Ani_Spring):l,%a1
		jsr	(Animate_Sprite):l
		btst	#5,0x38(%a0)
		beqs	loc_43A20
		cmpib	#1,0x21(%a0)
		bnes	loc_43A20

loc_43A10:
		movel	#MoveChkDel,(%a0)
		moveaw	0x46(%a0),%a1
		bset	#1,0x38(%a1)

loc_43A20:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43A26:
		lea	ObjDat3_43F88(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43A36,(%a0)

loc_43A36:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_43A5A
		movel	#loc_43A66,(%a0)
		movel	#loc_43A7C,0x34(%a0)
		lea	ChildObjDat_44010(%pc),%a2
		jsr	(CreateChild6_Simple):l

loc_43A5A:
		jsr	(Refresh_ChildPosition):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43A66:
		lea	byte_44027(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelay):l
		jsr	(Refresh_ChildPosition):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43A7C:
		movel	#loc_43A36,(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		bclr	#3,0x38(%a1)

locret_43A92:
		rts
/*  --------------------------------------------------------------------------- */

loc_43A94:
		lea	ObjDat3_43FAC(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43AA8,(%a0)
		bsrw	sub_43E74

loc_43AA8:
		movew	0x1A(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x200,%d0
		bhis	loc_43ABA
		movew	%d0,0x1A(%a0)

loc_43ABA:
		jsr	(MoveSprite2):l
		moveaw	0x46(%a0),%a1
		movew	0x14(%a1),%d0
		cmpw	0x14(%a0),%d0
		blss	loc_43AD6
		movew	%d0,0x14(%a0)
		braw	loc_43AE8
/*  --------------------------------------------------------------------------- */

loc_43AD6:
		addiw	#0x10,%d0
		cmpw	0x14(%a0),%d0
		bhis	loc_43AE8
		jsr	(sub_43CAE):l
		bnes	loc_43B02

loc_43AE8:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x240,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_43B02
		jsr	(Animate_Raw):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43B02:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_87:
		lea	ObjDat3_43F70(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43B18,(%a0)

loc_43B18:
		tstw	(0xFF2020):l
		bpls	loc_43B68
		moveq	#0xD,%d1
		moveq	#8,%d2
		moveq	#0x11,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		btst	#0x10,%d6
		bnes	loc_43B3E
		btst	#3,0x2A(%a0)
		beqs	loc_43B4C

loc_43B3E:
		lea	(Player_1):w,%a1
		bsrw	sub_43B6E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43B4C:
		btst	#0x11,%d6
		bnes	loc_43B5A
		btst	#4,0x2A(%a0)
		beqs	loc_43B68

loc_43B5A:
		lea	(Player_2):w,%a1
		bsrw	sub_43B6E
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43B68:
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_43B6E:
		movew	#-0x300,%d0
		movew	#-0x600,0x1A(%a1)
		bset	#0,0x2A(%a1)
		btst	#0,4(%a0)
		bnes	loc_43B8E
		bclr	#0,0x2A(%a1)
		negw	%d0

loc_43B8E:
		movew	%d0,0x18(%a1)
		movew	%d0,0x1C(%a1)
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		moveb	#0x10,0x20(%a1)
		clrb	0x40(%a1)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lea	(0xFF2000):l,%a1
		clrb	(%a1,%d0.w)
		movew	#0xF,(0xFF2020):l
		moveaw	(_unkFAA4):w,%a1
		bset	#0,0x38(%a1)
		moveq	#sfx_Spring,%d0
		jsr	(Play_Sound_2):l
		rts
/*  End of function sub_43B6E */

/*  --------------------------------------------------------------------------- */

loc_43BD8:
		lea	ObjDat3_43F58(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43BEC,(%a0)
		bsrw	sub_43F2E

loc_43BEC:
		jsr	(Refresh_ChildPosition):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43BF8:
		lea	ObjDat3_43FA0(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43C0C,(%a0)
		bsrw	sub_43EEC

loc_43C0C:
		subqb	#1,0x2E(%a0)
		bpls	loc_43C18
		movel	#MoveChkDel,(%a0)

loc_43C18:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43C1E:
		addiw	#0x2A0,0x14(%a0)
		movel	#loc_43C2A,(%a0)

loc_43C2A:
		subqw	#1,(0xFF2020):l
		lea	word_43C7C(%pc),%a1
		jsr	(Check_PlayerInRange):l
		tstw	%d0
		bnes	loc_43C50
		swap	%d0
		tstw	%d0
		beqw	locret_43A92
		lea	(Player_2):w,%a1
		jmp	(Delete_Referenced_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_43C50:
		movew	(Saved_zone_and_act):w,(Current_zone_and_act):w
		movew	(Saved_apparent_zone_and_act):w,(Apparent_zone_and_act):w
		moveb	(Saved_last_star_post_hit):w,(Last_star_post_hit):w
		moveb	#0,(Special_bonus_entry_flag):w
		moveb	#1,(Restart_level_flag):w
		movew	(Ring_count):w,(Saved_ring_count):w
		moveb	(Extra_life_flags):w,(Saved_extra_life_flags):w
		rts
/*  --------------------------------------------------------------------------- */
word_43C7C:	.word  0xFF00,  0x200, 0xFFF0,   0x40
/*  --------------------------------------------------------------------------- */

loc_43C84:
		lea	ObjDat3_43FB8(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_43C94,(%a0)

loc_43C94:
		st	(Spritemask_flag):w
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_43CAE:
		lea	word_43CE4(%pc),%a1
		jsr	(Check_PlayerInRange):l
		tstl	%d0
		beqs	locret_43CD0
		moveq	#0,%d1
		moveq	#1,%d2
		moveb	0x2C(%a0),%d1
		addw	%d1,%d1
		movew	off_43CD2(%pc,%d1.w),%d1
		jsr	off_43CD2(%pc,%d1.w)
		tstw	%d2

locret_43CD0:
		rts
/*  End of function sub_43CAE */

/*  --------------------------------------------------------------------------- */
off_43CD2:	.word loc_43CEC-off_43CD2
		.word loc_43CFC-off_43CD2
		.word loc_43D1A-off_43CD2
		.word locret_43D18-off_43CD2
		.word loc_43D28-off_43CD2
		.word loc_43DA2-off_43CD2
		.word loc_43DCC-off_43CD2
		.word loc_43DF6-off_43CD2
		.word loc_43E30-off_43CD2
word_43CE4:	.word  0xFFE8,   0x30, 0xFFE8,   0x30
/*  --------------------------------------------------------------------------- */

loc_43CEC:
		addqb	#1,(Life_count):w
		addqb	#1,(Update_HUD_life_count):w
		moveq	#mus_ExtraLife,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_43CFC:
		tstb	(0xFF2022):l
		bnes	locret_43CD0
		jsr	(Create_New_Sprite3):l
		bnes	locret_43CD0
		movel	#loc_43932,(%a1)
		st	(0xFF2022):l

locret_43D18:
		rts
/*  --------------------------------------------------------------------------- */

loc_43D1A:
		addiw	#0x14,(Saved_ring_count):w
		moveq	#0xA,%d0
		jmp	(AddRings):l
/*  --------------------------------------------------------------------------- */

loc_43D28:
		movel	%d0,-(%sp)
		tstw	%d0
		beqs	loc_43D30
		bsrs	sub_43D42

loc_43D30:
		movel	(%sp)+,%d0
		swap	%d0
		tstw	%d0
		beqs	loc_43D3A
		bsrs	sub_43D42

loc_43D3A:
		clrb	0x29(%a0)
		moveq	#0,%d2
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_43D42:
		moveaw	%d0,%a1
		movew	0x10(%a0),%d1
		movew	0x14(%a0),%d2
		subw	0x10(%a1),%d1
		subw	0x14(%a1),%d2
		jsr	(GetArcTan):l
		moveb	(Level_frame_counter):w,%d1
		andiw	#3,%d1
		addw	%d1,%d0
		jsr	(GetSineCosine):l
		mulsw	#-0x700,%d1
		asrl	#8,%d1
		movew	%d1,0x18(%a1)
		mulsw	#-0x700,%d0
		asrl	#8,%d0
		movew	%d0,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#4,0x2A(%a1)
		bclr	#5,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#1,0x20(%a0)
		moveq	#sfx_SmallBumpers,%d0
		jmp	(Play_Sound_2):l
/*  End of function sub_43D42 */

/*  --------------------------------------------------------------------------- */

loc_43DA2:
		lea	(Player_1):w,%a1
		movel	#Obj_Fire_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		andib	#-0x72,0x2B(%a1)
		bset	#0,0x2B(%a1)
		moveq	#4,%d0
		bsrw	sub_43E20
		moveq	#sfx_FireShield,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_43DCC:
		lea	(Player_1):w,%a1
		movel	#Obj_Bubble_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		andib	#-0x72,0x2B(%a1)
		bset	#0,0x2B(%a1)
		moveq	#6,%d0
		bsrw	sub_43E20
		moveq	#sfx_BubbleShield,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_43DF6:
		lea	(Player_1):w,%a1
		movel	#Obj_Lightning_Shield,(Shield):w
		movew	%a1,(Shield+parent):w
		andib	#-0x72,0x2B(%a1)
		bset	#0,0x2B(%a1)
		moveq	#5,%d0
		bsrw	sub_43E20
		moveq	#sfx_ElectricShield,%d0
		jmp	(Play_Sound):l

/*  =============== S U B R O U T I N E ======================================= */


sub_43E20:
		bset	%d0,0x2B(%a1)
		lea	(Saved_status_secondary):w,%a2
		andib	#-0x71,(%a2)
		bset	%d0,(%a2)
		rts
/*  End of function sub_43E20 */

/*  --------------------------------------------------------------------------- */

loc_43E30:
		bset	#7,(Saved_status_secondary):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_43E38:
		bclr	#0,0x38(%a0)
		beqs	loc_43E60
		lea	(0xFF2000):l,%a1
		moveq	#0,%d0
		moveq	#0xD,%d1

loc_43E4A:
		tstw	(%a1)+
		bnes	loc_43E56
		addiw	#0x20,%d0
		dbf	%d1,loc_43E4A

loc_43E56:
		movew	0x3A(%a0),%d1
		addw	%d0,%d1
		movew	%d1,0x3C(%a0)

loc_43E60:
		movew	0x3C(%a0),%d1
		movew	0x14(%a0),%d2
		cmpw	%d1,%d2
		bccs	locret_43E72
		addqw	#4,%d2
		movew	%d2,0x14(%a0)

locret_43E72:
		rts
/*  End of function sub_43E38 */


/*  =============== S U B R O U T I N E ======================================= */


sub_43E74:
		jsr	(Random_Number):l
		andiw	#0xF,%d0
		bnes	loc_43E8E
		moveaw	0x46(%a0),%a1
		bset	#7,0x38(%a1)
		beqs	loc_43E8E
		moveq	#3,%d0

loc_43E8E:
		moveb	byte_43EAC(%pc,%d0.w),%d0
		moveb	%d0,0x2C(%a0)
		cmpib	#4,%d0
		bnes	loc_43EA2
		moveb	#-0x29,0x28(%a0)

loc_43EA2:
		lslw	#2,%d0
		movel	off_43EBC(%pc,%d0.w),0x30(%a0)
		rts
/*  End of function sub_43E74 */

/*  --------------------------------------------------------------------------- */
byte_43EAC:	.byte 0
		.byte 3
		.byte 1
		.byte 4
		.byte 2
		.byte 4
		.byte 5
		.byte 4
		.byte 6
		.byte 3
		.byte 7
		.byte 4
		.byte 5
		.byte 6
		.byte 7
		.byte 2
off_43EBC:	.long word_44032
		.long word_44036
		.long word_4403A
		.long word_4403E
		.long word_44042
		.long word_44046
		.long word_4404A
		.long word_4404E
		.long word_44052

/*  =============== S U B R O U T I N E ======================================= */


sub_43EE0:
		moveq	#0x4B,%d1
		moveq	#0x10,%d2
		moveq	#0x11,%d3
		movew	0x10(%a0),%d4
		jmp	(%a1)
/*  End of function sub_43EE0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_43EEC:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x2E(%a0)
		lea	byte_43F0E(%pc,%d0.w),%a1
		moveb	(%a1)+,%d0
		extw	%d0
		addw	%d0,0x10(%a0)
		moveq	#0,%d0
		moveb	(%a1)+,%d0
		extw	%d0
		addw	%d0,0x14(%a0)
		rts
/*  End of function sub_43EEC */

/*  --------------------------------------------------------------------------- */
byte_43F0E:	.byte  0xF8,   8
		.byte    8,   8
		.byte  0xF8, 0xF8
		.byte    8, 0xF8
		.byte  0xE8,   8
		.byte  0x18,   8
		.byte  0xE8, 0xF8
		.byte  0x18, 0xF8
		.byte  0xD8,   8
		.byte  0x28,   8
		.byte  0xD8, 0xF8
		.byte  0x28, 0xF8
		.byte  0xC8,   8
		.byte  0x38,   8
		.byte  0xC8, 0xF8
		.byte  0x38, 0xF8

/*  =============== S U B R O U T I N E ======================================= */


sub_43F2E:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		subiw	#6,%d0
		lsrw	#1,%d0
		moveb	RawAni_43F54(%pc,%d0.w),%d0
		moveb	%d0,0x22(%a0)
		cmpib	#0x16,%d0
		bnew	locret_43A92
		lea	ChildObjDat_44016(%pc),%a2
		jmp	(CreateChild6_Simple):l
/*  End of function sub_43F2E */

/*  --------------------------------------------------------------------------- */
RawAni_43F54:	.byte    0,   1,   0, 0x16
ObjDat3_43F58:	.long Map_GumballBonus
		.word 0x15B
		.word 0x200
		.byte 0x10
		.byte 0x20
		.byte 0
		.byte 0
ObjDat3_43F64:	.long Map_GumballBonus
		.word 0xA15B
		.word 0x100
		.byte 0x40
		.byte 0x10
		.byte 0x13
		.byte 0
ObjDat3_43F70:	.long Map_GumballBonus
		.word 0xA15B
		.word 0x100
		.byte 4
		.byte 0x10
		.byte 0x12
		.byte 0
ObjDat3_43F7C:	.long Map_GumballBonus
		.word 0xA15B
		.word 0x100
		.byte 0x18
		.byte 0x18
		.byte 5
		.byte 0
ObjDat3_43F88:	.long Map_GumballBonus
		.word 0xA15B
		.word 0x100
		.byte 0x14
		.byte 0x14
		.byte 2
		.byte 0
ObjDat3_43F94:	.long Map_Spring
		.word 0x4A4
		.word 0x100
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
ObjDat3_43FA0:	.long Map_GumballBonus
		.word 0xA15B
		.word 0x100
		.byte 8
		.byte 8
		.byte 0x15
		.byte 0
ObjDat3_43FAC:	.long Map_GumballBonus
		.word 0x815B
		.word 0x100
		.byte 8
		.byte 8
		.byte 8
		.byte 0
ObjDat3_43FB8:	.long Map_GumballBonus
		.word 0
		.word 0x180
		.byte 4
		.byte 0x10
		.byte 0x17
		.byte 0
ChildObjDat_43FC4:.word 6
		.long loc_43932
		.byte 0
		.byte 0
		.long loc_43A26
		.byte 0
		.byte 0x24
		.long loc_43C1E
		.byte 0
		.byte 0
		.long loc_43BD8
		.byte 0xC8
		.byte 0xD4
		.long loc_43BD8
		.byte 0
		.byte 0xD4
		.long loc_43BD8
		.byte 0x38
		.byte 0xD4
		.long loc_43BD8
		.byte 0
		.byte 0xD8
word_43FF0:	.word 3
		.long loc_43986
		.byte 0xD0
		.byte 0xE8
		.long loc_43986
		.byte 0xF0
		.byte 0xE8
		.long loc_43986
		.byte 0x10
		.byte 0xE8
		.long loc_43986
		.byte 0x30
		.byte 0xE8
ChildObjDat_4400A:.word 0xF
		.long loc_43BF8
ChildObjDat_44010:.word 0
		.long loc_43A94
ChildObjDat_44016:.word 0
		.long loc_43C84
byte_4401C:	.byte 3
		.byte 5
		.byte 6
		.byte 7
		.byte 0x14
		.byte 5
		.byte 0xF4
		.byte 0x7F
		.byte 5
		.byte 5
		.byte 0xFC
byte_44027:	.byte 2
		.byte 3
		.byte 3
		.byte 3
		.byte 4
		.byte 0xF
		.byte 3
		.byte 3
		.byte 2
		.byte 3
		.byte 0xF4
word_44032:	.word 0x7F08
		.word 0x8FC
word_44036:	.word 0x7F09
		.word 0x9FC
word_4403A:	.word 0x7F0A
		.word 0xAFC
word_4403E:	.word 0x7F0B
		.word 0xBFC
word_44042:	.word 0x7F0C
		.word 0xCFC
word_44046:	.word 0x7F0D
		.word 0xDFC
word_4404A:	.word 0x7F0E
		.word 0xEFC
word_4404E:	.word 0x7F0F
		.word 0xFFC
word_44052:	.word 0x110
		.word 0x11FC
Map_GumballBonus:
		.include "Levels/Gumball/Misc Object Data/Map - Gumball Bonus.S"
/*  --------------------------------------------------------------------------- */

Obj_SSEntryRing:
		moveb	0x2C(%a0),%d0
		movel	(Collected_%special_ring_array):w,%d1
		btst	%d0,%d1
		beqs	loc_44248
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_44248:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	SSEntryRing_Index(%pc,%d0.w),%d1
		jsr	SSEntryRing_Index(%pc,%d1.w)
		braw	SSEntryRing_Display
/*  --------------------------------------------------------------------------- */
SSEntryRing_Index:.word SSEntryRing_Init-SSEntryRing_Index
		.word SSEntryRing_Main-SSEntryRing_Index
		.word SSEntryRing_Animate-SSEntryRing_Index
/*  --------------------------------------------------------------------------- */

SSEntryRing_Init:
		lea	ObjSlot_SSEntryRing(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		movel	#AniRaw_SSEntryRing,0x30(%a0)

SSEntryRing_Main:
		jsr	(Animate_Raw):l
		tstw	(Debug_placement_mode):w
		bnes	locret_4429A
		cmpib	#8,0x22(%a0)
		bcss	locret_4429A
		lea	SSEntry_Range(%pc),%a1
		jsr	(Check_PlayerInRange):l
		tstw	%d0
		bnes	loc_4429C

locret_4429A:
		rts
/*  --------------------------------------------------------------------------- */

loc_4429C:
		lea	(Player_1):w,%a1
		cmpib	#6,5(%a1)
		bccs	locret_4429A
		cmpiw	#7,(Emerald_count):w
		beqs	loc_442FE
		moveb	#4,5(%a0)
		moveb	#-1,(Player_prev_frame):w
		lea	(Player_1):w,%a1
		moveb	#0,0x22(%a1)
		moveb	#0x1C,0x20(%a1)
		moveb	#0x53,0x2E(%a1)
		lea	ChildObjDat_44476(%pc),%a2
		jsr	(CreateChild6_Simple):l
		movew	(Player_1+x_pos):w,%d0
		cmpw	0x10(%a0),%d0
		bcss	locret_4429A
		bset	#0,4(%a1)
		moveq	#sfx_BigRing,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */
SSEntry_Range:	.word 0xFFE8
		.word 0x30
		.word 0xFFD8
		.word 0x50
/*  --------------------------------------------------------------------------- */

loc_442FE:
		moveq	#sfx_BigRing,%d0
		jsr	(Play_Sound_2):l
		moveb	0x2C(%a0),%d0
		movel	(Collected_%special_ring_array):w,%d1
		bset	%d0,%d1
		movel	%d1,(Collected_%special_ring_array):w
		bset	#0,0x38(%a0)
		moveq	#0x32,%d0
		jmp	(AddRings):l
/*  --------------------------------------------------------------------------- */

SSEntryRing_Animate:
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

Obj_SSEntryFlash:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	SSEntryFlash_Index(%pc,%d0.w),%d1
		jsr	SSEntryFlash_Index(%pc,%d1.w)
		lea	DPLCPtr_SSEntryFlash(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
SSEntryFlash_Index:.word	SSEntryFlash_Init-SSEntryFlash_Index
		.word SSEntryFlash_Main-SSEntryFlash_Index
/*  --------------------------------------------------------------------------- */

SSEntryFlash_Init:
		movel	#AniRaw_SSEntryFlash,0x30(%a0)
		movel	#SSEntryFlash_Finished,0x34(%a0)
		moveaw	0x46(%a0),%a1
		moveb	0x2C(%a1),0x2C(%a0)
		lea	ObjSlot_SSEntryFlash(%pc),%a1
		jmp	(SetUp_ObjAttributesSlotted):l
/*  --------------------------------------------------------------------------- */

SSEntryFlash_Main:
		moveb	0x22(%a0),%d6
		jsr	(Animate_RawAdjustFlipX):l
		cmpb	0x22(%a0),%d6
		beqs	locret_44390
		cmpib	#3,0x23(%a0)
		bnes	locret_44390
		moveaw	0x46(%a0),%a1
		bset	#0,0x38(%a1)

locret_44390:
		rts
/*  --------------------------------------------------------------------------- */

SSEntryFlash_Finished:
		movel	#Obj_Wait,(%a0)
		movew	#0x20,0x2E(%a0)
		movel	#SSEntryFlash_GoSS,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

SSEntryFlash_GoSS:
		cmpiw	#7,(Emerald_count):w
		beqs	loc_443E4
		moveq	#sfx_EnterSS,%d0
		jsr	(Play_Sound_2):l
		jsr	(Clear_SpriteRingMem):l
		jsr	(Save_Level_Data2):l
		moveb	#1,(Special_bonus_entry_flag):w
		moveb	#0x34,(Game_mode):w
		moveb	#1,(Respawn_table_keep):w
		moveb	0x2C(%a0),%d0
		movel	(Collected_%special_ring_array):w,%d1
		bset	%d0,%d1
		movel	%d1,(Collected_%special_ring_array):w

loc_443E4:
		jmp	(Go_Delete_SpriteSlotted2):l
/*  --------------------------------------------------------------------------- */

SSEntryRing_Display:
		btst	#0,0x38(%a0)
		bnes	loc_4443C
		tstb	4(%a0)
		bpls	loc_44408
		lea	DPLCPtr_SSEntryRing(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_44408:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_4443C
		movew	0x14(%a0),%d0
		movew	(Camera_Y_pos):w,%d1
		movew	0x14(%a0),%d0
		subw	(Camera_Y_pos):w,%d0
		addiw	#0x80,%d0
		cmpiw	#0x200,%d0
		bhiw	loc_4443C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4443C:
		lea	(ArtKosM_BadnikExplosion):l,%a1
		movew	#-0x4C00,%d2
		jsr	(Queue_Kos_Module):l
		jmp	(Go_Delete_SpriteSlotted):l
/*  --------------------------------------------------------------------------- */
ObjSlot_SSEntryRing:.word 0
		.word make_art_tile(0x5A0,1,0)
		.word 0x40
		.word 4
		.long Map_SSEntryRing
		.byte 2
		.byte 0x80
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ObjSlot_SSEntryFlash:.word 0
		.word make_art_tile(ArtTile_Player_1,1,0)
		.word 0x18
		.word 6
		.long Map_SSEntryFlash
		.byte 2
		.byte 0
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ChildObjDat_44476:.word 0
		.long Obj_SSEntryFlash
DPLCPtr_SSEntryRing:.long ArtUnc_SSEntryRing
		.long DPLC_SSEntryRing
DPLCPtr_SSEntryFlash:.long ArtUnc_SSEntryFlash
		.long DPLC_SSEntryFlash
AniRaw_SSEntryRing:.byte	4
		.byte 0
		.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 6
		.byte 7
		.byte 0xF8
		.byte 0xC
		.byte 6
		.byte 0xA
		.byte 9
		.byte 8
		.byte 0xB
		.byte 0xFC
AniRaw_SSEntryFlash:.byte 0
		.byte 0
		.byte 0
		.byte 1
		.byte 2
		.byte 0x43
		.byte 3
		.byte 2
		.byte 1
		.byte 0
		.byte 0xF4
		.byte 0
Map_SSEntryRing:
		.include "General/Sprites/SS Entry/Map - Entry Ring.S"
DPLC_SSEntryRing:
		.include "General/Sprites/SS Entry/DPLC - Special Stage Entry Ring.S"
Map_SSEntryFlash:
		.include "General/Sprites/SS Entry/Map - Entry Flash.S"
DPLC_SSEntryFlash:
		.include "General/Sprites/SS Entry/DPLC - Special Stage Entry Flash.S"
/*  --------------------------------------------------------------------------- */

Obj_CutsceneKnuckles:
		movew	%a0,(_unkFAA4):w
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveal	off_44704(%pc,%d0.w),%a1
		movel	%a1,(%a0)
		jmp	(%a1)
/*  --------------------------------------------------------------------------- */
off_44704:	.long CutsceneKnux_AIZ1
		.long CutsceneKnux_AIZ2
		.long CutsceneKnux_HCZ2
		.long CutsceneKnux_CNZ2A
		.long CutsceneKnux_CNZ2B
		.long CutsceneKnux_LBZ1
		.long CutsceneKnux_LBZ2
/*  --------------------------------------------------------------------------- */

CutsceneKnux_AIZ1:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4473E(%pc,%d0.w),%d1
		jsr	off_4473E(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4473E:	.word loc_4474C-off_4473E
		.word loc_44782-off_4473E
		.word loc_447B2-off_4473E
		.word loc_447F2-off_4473E
		.word loc_44824-off_4473E
		.word loc_4486E-off_4473E
		.word loc_4489E-off_4473E
/*  --------------------------------------------------------------------------- */

loc_4474C:
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		bclr	#7,0xA(%a0)
		moveb	#0x13,0x1E(%a0)
		moveb	#8,0x22(%a0)
		movew	#0x1400,0x10(%a0)
		movew	#0x440,0x14(%a0)
		bsrw	sub_456C6
		lea	ChildObjDat_45756(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_44782:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_44790
		rts
/*  --------------------------------------------------------------------------- */

loc_44790:
		moveb	#4,5(%a0)
		bset	#7,0x2A(%a0)
		movew	#-0x600,0x1A(%a0)
		movew	#0x80,0x18(%a0)
		lea	Pal_CutsceneKnux1(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

loc_447B2:
		lea	word_4577B(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jsr	(MoveSprite):l
		tstl	%d0
		bmis	locret_447D0
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmis	loc_447D2

locret_447D0:
		rts
/*  --------------------------------------------------------------------------- */

loc_447D2:
		moveb	#6,5(%a0)
		addw	%d1,0x14(%a0)
		moveb	#0x16,0x22(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_447F8,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_447F2:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_447F8:
		moveb	#8,5(%a0)
		bchg	#0,4(%a0)
		movel	#word_45775,0x30(%a0)
		movew	#-0x600,0x18(%a0)
		clrw	0x1A(%a0)
		movew	#0x29,0x2E(%a0)
		movel	#loc_44836,0x34(%a0)

loc_44824:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_44836:
		negw	0x18(%a0)
		bchg	#0,4(%a0)
		movew	#0x29,0x2E(%a0)
		movel	#loc_44850,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44850:
		moveb	#0xA,5(%a0)
		moveb	#0x16,0x22(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4487A,0x34(%a0)
		braw	loc_449E4
/*  --------------------------------------------------------------------------- */

loc_4486E:
		jsr	(Animate_Raw):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4487A:
		moveb	#0xC,5(%a0)
		movel	#word_45775,0x30(%a0)
		movew	#0x600,0x18(%a0)
		jsr	(Create_New_Sprite):l
		bnes	locret_4489C
		movel	#Obj_Song_Fade_ToLevelMusic,(%a1)

locret_4489C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4489E:
		tstb	4(%a0)
		bpls	loc_448B0
		jsr	(Animate_Raw):l
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_448B0:
		clrb	(Palette_cycle_counters+0x00):w
		clrb	(Ctrl_1_locked):w
		jsr	(AfterBoss_Cleanup):l
		jsr	(Remove_From_TrackingSlot):l
		jsr	(Create_New_Sprite):l
		bnes	loc_448D2
		movel	#Obj_TitleCard,(%a1)

loc_448D2:
		moveb	#-0x6F,(Level_started_flag):w
		moveb	#-0x80,(Update_HUD_timer):w
		clrl	(Timer):w
		moveb	#1,(Update_HUD_life_count):w
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_448EE:
		lea	ObjDat3_4571E(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_448FE,(%a0)

loc_448FE:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_44910
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_44910:
		lea	(word_29AF0):l,%a4
		addqb	#1,0x22(%a0)
		movel	#loc_29838,(%a0)
		jmp	(sub_1F98C):l
/*  --------------------------------------------------------------------------- */

CutsceneKnux_AIZ2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_44944(%pc,%d0.w),%d1
		jsr	off_44944(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_44944:	.word loc_44950-off_44944
		.word loc_449A2-off_44944
		.word loc_449B0-off_44944
		.word loc_449FC-off_44944
		.word loc_44A38-off_44944
		.word loc_44A72-off_44944
/*  --------------------------------------------------------------------------- */

loc_44950:
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		movew	#0x4B8E,0x10(%a0)
		movew	#0x17D,0x14(%a0)
		bset	#0,4(%a0)
		bsrw	sub_456C6
		movew	#0x77,0x2E(%a0)
		movel	#loc_449A8,0x34(%a0)
		lea	Pal_CutsceneKnux1(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	ChildObjDat_4572A(%pc),%a2
		jsr	(CreateChild6_Simple):l
		bnes	locret_449A0
		movew	#0x4B08,0x10(%a1)
		movew	#0x178,0x14(%a1)

locret_449A0:
		rts
/*  --------------------------------------------------------------------------- */

loc_449A2:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_449A8:
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_449B0:
		movew	0x10(%a0),%d0
		subqw	#2,%d0
		cmpiw	#0x4B3C,%d0
		bcss	loc_449CA
		movew	%d0,0x10(%a0)
		lea	byte_4576B(%pc),%a1
		jmp	(Animate_RawNoSST):l
/*  --------------------------------------------------------------------------- */

loc_449CA:
		moveb	#6,5(%a0)
		bclr	#0,4(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_44A08,0x34(%a0)

loc_449E4:
		movel	#word_45785,0x30(%a0)
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		moveb	#0x1C,0x22(%a0)

locret_449FA:
		rts
/*  --------------------------------------------------------------------------- */

loc_449FC:
		jsr	(Animate_Raw):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_44A08:
		moveb	#8,5(%a0)

loc_44A0E:
		movew	#-0x100,0x18(%a0)
		movew	#-0x400,0x1A(%a0)

loc_44A1A:
		movel	#word_4577B,0x30(%a0)
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		moveb	#8,0x22(%a0)
		moveb	#0x13,0x1E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44A38:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmis	locret_44A64
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	locret_44A64
		bset	#2,0x38(%a0)
		bnes	loc_44A66
		negw	0x18(%a0)
		negw	0x1A(%a0)

locret_44A64:
		rts
/*  --------------------------------------------------------------------------- */

loc_44A66:
		addqb	#2,5(%a0)
		addw	%d1,0x14(%a0)
		braw	loc_449E4
/*  --------------------------------------------------------------------------- */

loc_44A72:
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_44A78:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_44A9E
		moveb	#8,7(%a0)
		moveq	#0x13,%d1
		movew	#0x20,%d2
		movew	#0x40,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull2):l
/*  --------------------------------------------------------------------------- */

loc_44A9E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

CutsceneKnux_HCZ2:
		lea	word_44ADA(%pc),%a1
		jsr	(Check_CameraInRange):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_44ACC(%pc,%d0.w),%d1
		jsr	off_44ACC(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Sprite_CheckDeleteTouchSlotted):l
/*  --------------------------------------------------------------------------- */
off_44ACC:	.word loc_44AE2-off_44ACC
		.word loc_44B00-off_44ACC
		.word loc_449A2-off_44ACC
		.word loc_44B6C-off_44ACC
		.word loc_449A2-off_44ACC
		.word loc_44A38-off_44ACC
		.word loc_44BAE-off_44ACC
word_44ADA:	.word 0x540
		.word 0x600
		.word 0x3900
		.word 0x3940
/*  --------------------------------------------------------------------------- */

loc_44AE2:
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		movew	(Camera_min_Y_pos):w,(Target_camera_min_Y_pos):w
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	#0x3940,(Camera_max_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_44B00:
		lea	(Player_1):w,%a1
		cmpiw	#0x3990,0x10(%a1)
		bcss	loc_44B1A
		tstb	0x2E(%a1)
		bnes	loc_44B1A
		btst	#3,0x2A(%a1)
		bnes	loc_44B28

loc_44B1A:
		movew	(Camera_Y_pos):w,(Camera_min_Y_pos):w
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_44B28:
		moveb	#4,5(%a0)
		bsrw	sub_456C6
		movew	#0xB3,0x2E(%a0)
		movel	#loc_44B42,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44B42:
		moveb	#6,5(%a0)
		bset	#0,4(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_44B82,0x34(%a0)
		movew	#0x5C0,(Camera_min_Y_pos):w
		lea	Pal_CutsceneKnux1(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

loc_44B6C:
		subqw	#4,0x10(%a0)
		lea	(byte_4576B):l,%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_44B82:
		moveb	#8,5(%a0)
		moveb	#0x20,0x22(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_44B9E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44B9E:
		moveb	#0xA,5(%a0)
		bchg	#0,4(%a0)
		braw	loc_44A0E
/*  --------------------------------------------------------------------------- */

loc_44BAE:
		jsr	(Animate_Raw):l
		tstb	4(%a0)
		bmiw	locret_449FA
		lea	(Pal_HCZ2):l,%a1
		jsr	(PalLoad_Line1):l
		lea	ChildObjDat_44BEC(%pc),%a2
		jsr	(CreateChild1_Normal):l
		jsr	(Create_New_Sprite):l
		bnes	loc_44BE0
		movel	#Obj_Song_Fade_ToLevelMusic,(%a1)

loc_44BE0:
		jsr	(Remove_From_TrackingSlot):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */
ChildObjDat_44BEC:.word 1
		.long Obj_DecLevStartYGradual
		.byte 0
		.byte 0
		.long Obj_IncLevEndXGradual
		.byte 0
		.byte 0
/*  --------------------------------------------------------------------------- */

CutsceneKnux_CNZ2A:
		lea	word_44C2E(%pc),%a1
		jsr	(Check_CameraInRange):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_44C22(%pc,%d0.w),%d1
		jsr	off_44C22(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_44C22:	.word loc_44C36-off_44C22
		.word loc_44CA2-off_44C22
		.word loc_44CC4-off_44C22
		.word loc_44CEC-off_44C22
		.word loc_44CC4-off_44C22
		.word loc_44D6E-off_44C22
word_44C2E:	.word 0x176
		.word 0x300
		.word 0x1B00
		.word 0x1D00
/*  --------------------------------------------------------------------------- */

loc_44C36:
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		movel	#word_4578B,0x30(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		moveb	#mus_Knuckles,0x26(%a0)
		movew	(Camera_min_Y_pos):w,(Target_camera_min_Y_pos):w
		movew	(Camera_target_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	(Camera_min_X_pos):w,(Target_camera_min_X_pos):w
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	#0x280,(Camera_target_max_Y_pos):w
		movew	#0x1D00,0x1C(%a0)
		movew	#0x1D00,(Camera_max_X_pos):w
		movel	#loc_44CAE,0x34(%a0)
		lea	Pal_CutsceneKnux1(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	ChildObjDat_45730(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_44CA2:
		jsr	(Animate_Raw):l
		jmp	(loc_541C8):l
/*  --------------------------------------------------------------------------- */

loc_44CAE:
		moveb	#4,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_44CD0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44CC4:
		jsr	(Animate_Raw):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_44CD0:
		moveb	#6,5(%a0)
		bset	#0,4(%a0)
		movew	#-0x600,0x1A(%a0)
		movew	#0x140,0x18(%a0)
		braw	loc_44A1A
/*  --------------------------------------------------------------------------- */

loc_44CEC:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmis	locret_44D26
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	locret_44D26
		moveq	#0,%d0
		moveb	0x39(%a0),%d0
		cmpib	#8,%d0
		bccs	loc_44D28
		movel	word_44D4A(%pc,%d0.w),0x18(%a0)
		addqb	#4,%d0
		moveb	%d0,0x39(%a0)
		bchg	#0,4(%a0)

locret_44D26:
		rts
/*  --------------------------------------------------------------------------- */

loc_44D28:
		moveb	#8,5(%a0)
		bclr	#0,4(%a0)
		addw	%d1,0x14(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_44D52,0x34(%a0)
		braw	loc_449E4
/*  --------------------------------------------------------------------------- */
word_44D4A:	.word  0xFF00, 0xFC00
		.word   0x100, 0xFC00
/*  --------------------------------------------------------------------------- */

loc_44D52:
		moveb	#0xA,5(%a0)
		bset	#0,4(%a0)
		movew	#-0x600,0x1A(%a0)
		movew	#0x400,0x18(%a0)
		braw	loc_44A1A
/*  --------------------------------------------------------------------------- */

loc_44D6E:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite):l
		tstb	4(%a0)
		bmiw	locret_449FA
		lea	(Pal_CNZ):l,%a1
		jsr	(PalLoad_Line1):l
		lea	(PLC_Monitors):l,%a1
		jsr	(Load_PLC_Raw):l
		lea	ChildObjDat_44DC4(%pc),%a2
		jsr	(CreateChild1_Normal):l
		movew	(Target_camera_max_Y_pos):w,(Camera_target_max_Y_pos):w
		jsr	(Create_New_Sprite):l
		bnes	loc_44DB8
		movel	#Obj_Song_Fade_ToLevelMusic,(%a1)

loc_44DB8:
		jsr	(Remove_From_TrackingSlot):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */
ChildObjDat_44DC4:.word 2
		.long Obj_DecLevStartYGradual
		.word 0
		.long Obj_DecLevStartXGradual
		.word 0
		.long Obj_IncLevEndXGradual
		.word 0
/*  --------------------------------------------------------------------------- */

loc_44DD8:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_44DFE
		moveb	#8,7(%a0)
		moveq	#0x13,%d1
		movew	#0x100,%d2
		movew	#0x200,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull2):l
/*  --------------------------------------------------------------------------- */

loc_44DFE:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_44E04:
		subqw	#1,0x2E(%a0)
		bpls	locret_44E3E
		moveq	#0,%d0
		moveb	0x39(%a0),%d0
		cmpib	#6,%d0
		bccs	loc_44E40
		addqb	#1,0x39(%a0)
		addw	%d0,%d0
		movew	word_44E54(%pc,%d0.w),0x2E(%a0)
		moveq	#0,%d1
		btst	#1,%d0
		beqs	loc_44E2C
		moveq	#0x40,%d1

loc_44E2C:
		lea	Pal_CNZFlash(%pc),%a1
		addaw	%d1,%a1

/*  =============== S U B R O U T I N E ======================================= */


sub_44E32:
		lea	(Normal_palette_line_3):w,%a2
		moveq	#0xF,%d0

loc_44E38:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_44E38

locret_44E3E:
		rts
/*  End of function sub_44E32 */

/*  --------------------------------------------------------------------------- */

loc_44E40:
		tstb	0x2C(%a0)
		beqs	loc_44E4E
		lea	(Pal_CNZ+0x20):l,%a1
		bsrs	sub_44E32

loc_44E4E:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
word_44E54:	.word 8
		.word 4
		.word 3
		.word 2
		.word 4
		.word 8
		.word 8
/*  --------------------------------------------------------------------------- */

CutsceneKnux_CNZ2B:
		lea	word_44E9A(%pc),%a1
		jsr	(Check_CameraInRange):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_44E8A(%pc,%d0.w),%d1
		jsr	off_44E8A(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Sprite_CheckDeleteTouchSlotted):l
/*  --------------------------------------------------------------------------- */
off_44E8A:	.word loc_44EA2-off_44E8A
		.word loc_44EC8-off_44E8A
		.word loc_44EE6-off_44E8A
		.word loc_449A2-off_44E8A
		.word loc_44A38-off_44E8A
		.word loc_44F38-off_44E8A
		.word loc_44F5C-off_44E8A
		.word loc_44F94-off_44E8A
word_44E9A:	.word 0x720
		.word 0xA00
		.word 0x45C0
		.word 0x46E0
/*  --------------------------------------------------------------------------- */

loc_44EA2:
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		clrw	(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		moveb	#-0x80,(Player_1+object_control):w
		bsrw	sub_456C6
		lea	Pal_CutsceneKnux1(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

loc_44EC8:
		lea	(Player_1):w,%a1
		cmpiw	#0x4728,0x10(%a1)
		bcss	locret_44EDC
		btst	#1,0x2A(%a1)
		bnes	loc_44EDE

locret_44EDC:
		rts
/*  --------------------------------------------------------------------------- */

loc_44EDE:
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44EE6:
		movew	#0x808,(Ctrl_1_logical):w
		cmpiw	#0x4760,(Player_1+x_pos):w
		bccs	loc_44EF6
		rts
/*  --------------------------------------------------------------------------- */

loc_44EF6:
		moveb	#6,5(%a0)
		clrw	(Ctrl_1_logical):w
		lea	(Player_1):w,%a1
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_44F20,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44F20:
		moveb	#8,5(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_44F44,0x34(%a0)
		braw	loc_44A0E
/*  --------------------------------------------------------------------------- */

loc_44F38:
		jsr	(Animate_Raw):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_44F44:
		moveb	#0xC,5(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		movel	#byte_4576B,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_44F5C:
		addqw	#4,0x10(%a0)
		jsr	(Animate_Raw):l
		tstb	4(%a0)
		bmiw	locret_449FA
		moveb	#0xE,5(%a0)
		clrb	(Player_1+object_control):w
		lea	(Pal_CNZ):l,%a1
		jsr	(PalLoad_Line1):l
		jsr	(Create_New_Sprite):l
		bnes	locret_44F92
		movel	#Obj_Song_Fade_ToLevelMusic,(%a1)

locret_44F92:
		rts
/*  --------------------------------------------------------------------------- */

loc_44F94:
		movew	#0x404,(Ctrl_1_logical):w
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x160,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_44FAA
		rts
/*  --------------------------------------------------------------------------- */

loc_44FAA:
		clrb	(Ctrl_1_locked):w
		jsr	(Remove_From_TrackingSlot):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

CutsceneKnux_LBZ1:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_44FD8(%pc,%d0.w),%d1
		jsr	off_44FD8(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Sprite_CheckDeleteTouchSlotted):l
/*  --------------------------------------------------------------------------- */
off_44FD8:	.word loc_44FE8-off_44FD8
		.word loc_45022-off_44FD8
		.word loc_449A2-off_44FD8
		.word loc_4505E-off_44FD8
		.word loc_449A2-off_44FD8
		.word loc_44CC4-off_44FD8
		.word loc_44CC4-off_44FD8
		.word loc_450E8-off_44FD8
/*  --------------------------------------------------------------------------- */

loc_44FE8:
		movew	(Player_1+x_pos):w,%d0
		cmpw	0x10(%a0),%d0
		bccs	loc_4501C
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		moveb	#0x16,0x22(%a0)
		movew	#0xA0,(Camera_min_Y_pos):w
		lea	Pal_CutsceneKnux1(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	ChildObjDat_45738(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4501C:
		jmp	(Go_Delete_SpriteSlotted2):l
/*  --------------------------------------------------------------------------- */

loc_45022:
		btst	#3,0x38(%a0)
		bnes	loc_4502C
		rts
/*  --------------------------------------------------------------------------- */

loc_4502C:
		moveb	#4,5(%a0)
		bsrw	sub_456C6
		movew	#0x3B,0x2E(%a0)
		movel	#loc_45046,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45046:
		moveb	#6,5(%a0)
		movel	#byte_4578F,0x30(%a0)
		movel	#loc_45064,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4505E:
		jmp	(Animate_RawMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_45064:
		moveb	#8,5(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_45096,0x34(%a0)
		moveq	#sfx_MissileThrow,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_45740(%pc),%a2
		jsr	(CreateChild1_Normal):l
		lea	(PLC_BossExplosion):l,%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */

loc_45096:
		moveb	#0xA,5(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_450AE,0x34(%a0)
		braw	loc_449E4
/*  --------------------------------------------------------------------------- */

loc_450AE:
		moveb	#0xC,5(%a0)
		st	(Screen_shake_flag):w
		movew	#0x5F,0x2E(%a0)
		movel	#loc_450D0,0x34(%a0)
		lea	ChildObjDat_45748(%pc),%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_450D0:
		moveb	#0xE,5(%a0)
		movel	#byte_4576B,0x30(%a0)
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_450E8:
		tstb	4(%a0)
		bplw	loc_450FA
		addqw	#2,0x10(%a0)
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_450FA:
		clrb	(_unkFAA9):w
		clrb	(Player_1+object_control):w
		clrb	(Player_2+object_control):w
		movew	#0x3B60,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jsr	(CreateChild6_Simple):l
		movew	#0x148,(Camera_target_max_Y_pos):w
		jsr	(Remove_From_TrackingSlot):l
		lea	(Pal_LBZ1):l,%a1
		jsr	(PalLoad_Line1):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45136:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4516E
		lea	word_45196(%pc),%a1
		jsr	(Check_PlayerInRange):l
		tstl	%d0
		beqs	locret_4516C
		tstw	%d0
		beqs	loc_45162
		moveaw	0x46(%a0),%a2
		bset	#3,0x38(%a2)
		bsrw	sub_45174

loc_45162:
		swap	%d0
		tstw	%d0
		beqs	locret_4516C
		bsrw	sub_45174

locret_4516C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4516E:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_45174:
		st	(_unkFAA9):w
		moveaw	%d0,%a1
		cmpib	#6,5(%a1)
		bccs	locret_4516C
		moveb	#-0x7F,0x2E(%a1)
		bclr	#0,4(%a1)
		bclr	#0,0x2A(%a1)
		rts
/*  End of function sub_45174 */

/*  --------------------------------------------------------------------------- */
word_45196:	.word  0xFFC0,   0x80, 0xFFD0,   0x60
/*  --------------------------------------------------------------------------- */

loc_4519E:
		lea	ObjDat3_456FA(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_451C2,(%a0)
		movew	#-0x200,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		moveq	#sfx_MissileThrow,%d0
		jsr	(Play_Sound_2):l

loc_451C2:
		jsr	(MoveSprite_LightGravity):l
		jmp	(Sprite_CheckDeleteXY):l
/*  --------------------------------------------------------------------------- */

loc_451CE:
		movel	#loc_4520C,(%a0)
		movel	#Obj_NormalExpControl,0x34(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		lea	word_451FC(%pc,%d0.w),%a1
		movew	(%a1)+,0x10(%a0)
		movew	(%a1)+,0x14(%a0)
		moveb	#0xA,0x2C(%a0)
		jmp	(loc_528BA):l
/*  --------------------------------------------------------------------------- */
word_451FC:	.word  0x3BC0,  0x1A0
		.word  0x3B80,  0x1A0
		.word  0x3B40,  0x1A0
		.word  0x3B00,  0x1A0
/*  --------------------------------------------------------------------------- */

loc_4520C:
		subqw	#4,0x14(%a0)
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

CutsceneKnux_LBZ2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_45234(%pc,%d0.w),%d1
		jsr	off_45234(%pc,%d1.w)
		lea	DPLCPtr_4575E(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Sprite_CheckDeleteTouchSlotted):l
/*  --------------------------------------------------------------------------- */
off_45234:	.word loc_45242-off_45234
		.word loc_45270-off_45234
		.word loc_4528A-off_45234
		.word loc_452A4-off_45234
		.word loc_452C6-off_45234
		.word loc_4530A-off_45234
		.word loc_45322-off_45234
/*  --------------------------------------------------------------------------- */

loc_45242:
		lea	ObjDat4_456DC(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		bset	#0,4(%a0)
		moveb	#0x20,0x22(%a0)
		bsrw	sub_456C6
		lea	Pal_CutsceneKnux1(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	ChildObjDat_4574E(%pc),%a2
		jmp	(CreateChild3_NormalRepeated):l
/*  --------------------------------------------------------------------------- */

loc_45270:
		btst	#1,0x38(%a0)
		bnes	loc_4527A
		rts
/*  --------------------------------------------------------------------------- */

loc_4527A:
		moveb	#4,5(%a0)
		movel	#loc_45294,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4528A:
		lea	byte_4579E(%pc),%a1
		jmp	(Animate_RawNoSSTMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_45294:
		moveb	#6,5(%a0)
		bclr	#0,4(%a0)
		braw	loc_449E4
/*  --------------------------------------------------------------------------- */

loc_452A4:
		tstb	(Screen_shake_flag):w
		beqs	loc_452C0
		moveb	#8,5(%a0)
		movel	#byte_45766,0x30(%a0)
		clrb	0x24(%a0)
		clrb	0x23(%a0)

loc_452C0:
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_452C6:
		btst	#3,0x38(%a0)
		bnes	loc_452DC
		movew	(Events_bg+0x14):w,%d0
		addw	%d0,0x14(%a0)
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_452DC:
		moveb	#0xA,5(%a0)
		bset	#0,4(%a0)
		moveb	#9,0x22(%a0)
		movew	#0x200,0x18(%a0)
		movew	#-0x100,0x1A(%a0)
		jsr	(Create_New_Sprite):l
		bnes	locret_45308
		movel	#Obj_Song_Fade_ToLevelMusic,(%a1)

locret_45308:
		rts
/*  --------------------------------------------------------------------------- */

loc_4530A:
		movew	0x14(%a0),%d0
		cmpw	(Water_level):w,%d0
		bcss	loc_45322
		moveq	#sfx_Splash,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xC,5(%a0)

loc_45322:
		movew	(Events_bg+0x14):w,%d0
		addw	%d0,0x14(%a0)
		jmp	(MoveSprite_LightGravity):l
/*  --------------------------------------------------------------------------- */

loc_45330:
		lea	ObjDat3_45706(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_4536C,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		movel	dword_4535C(%pc,%d0.w),0x3E(%a0)
		lslw	#3,%d0
		addw	%d0,0x14(%a0)
		movew	0x10(%a0),0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
dword_4535C:	.long 0x1000010
		.long 0xC0000C
		.long 0x800008
		.long 0x400004
/*  --------------------------------------------------------------------------- */

loc_4536C:
		tstb	(Screen_shake_flag):w
		beqs	loc_45384
		movel	#loc_4538A,(%a0)
		movew	0x3E(%a0),0x18(%a0)
		moveb	#6,0x39(%a0)

loc_45384:
		jmp	(Sprite_CheckDeleteXY):l
/*  --------------------------------------------------------------------------- */

loc_4538A:
		movew	(Events_bg+0x14):w,%d0
		addw	%d0,0x14(%a0)
		movew	0x10(%a0),%d0
		movew	0x40(%a0),%d1
		cmpw	0x3A(%a0),%d0
		scs	%d2
		bcss	loc_453A4
		negw	%d1

loc_453A4:
		addw	%d1,0x18(%a0)
		cmpb	0x3C(%a0),%d2
		beqs	loc_453E4
		moveb	%d2,0x3C(%a0)
		cmpib	#3,0x39(%a0)
		bnes	loc_453CE
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		movel	dword_45400(%pc,%d0.w),0x3E(%a0)
		movew	0x3E(%a0),0x18(%a0)

loc_453CE:
		subqb	#1,0x39(%a0)
		bnes	loc_453E4
		movel	#loc_45410,(%a0)
		moveaw	0x46(%a0),%a1
		bset	#3,0x38(%a1)

loc_453E4:
		jsr	(MoveSprite2):l
		tstb	0x2C(%a0)
		bnes	loc_453FA
		moveaw	0x46(%a0),%a1
		movew	0x10(%a0),0x10(%a1)

loc_453FA:
		jmp	(Sprite_CheckDeleteXY):l
/*  --------------------------------------------------------------------------- */
dword_45400:	.long 0x2000020
		.long 0x1800018
		.long 0x1000010
		.long 0x800008
/*  --------------------------------------------------------------------------- */

loc_45410:
		movew	(Events_bg+0x14):w,%d0
		addw	%d0,0x14(%a0)
		jsr	(MoveSprite_LightGravity):l
		jmp	(Sprite_CheckDeleteXY):l
/*  --------------------------------------------------------------------------- */

Obj_C8_1:
		lea	ObjDat3_45712(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		bclr	#1,4(%a0)
		beqs	loc_4543C
		bset	#7,0xA(%a0)

loc_4543C:
		bclr	#0,4(%a0)
		beqs	loc_4544A
		movew	#0,8(%a0)

loc_4544A:
		movel	#loc_45450,(%a0)

loc_45450:
		movew	(Events_bg+0x14):w,%d0
		addw	%d0,0x14(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
Map_LBZKnuxPillar:
		.include "Levels/LBZ/Misc Object Data/Map - Knuckles Pillar.S"
/*  --------------------------------------------------------------------------- */

Obj_83:
		lea	ObjDat3_456EE(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_454C2,(%a0)
		addqw	#4,0x14(%a0)
		lea	PLC_454BA(%pc),%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */
PLC_454BA:	.word 0
		.long ArtNem_GrayButton
		.word 0x8AC0
/*  --------------------------------------------------------------------------- */

loc_454C2:
		movew	(_unkFAA4):w,%d0
		beqs	loc_45518
		moveaw	%d0,%a1
		lea	word_4551E(%pc),%a2
		movew	0x10(%a0),%d0
		movew	0x10(%a1),%d1
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bcss	loc_45518
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bccs	loc_45518
		movew	0x14(%a0),%d0
		movew	0x14(%a1),%d1
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bcss	loc_45518
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bccs	loc_45518
		movel	#loc_4552E,(%a0)
		moveb	#1,0x22(%a0)
		st	(_unkFAA9):w
		clrw	0x48(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	off_45526(%pc,%d0.w),%d0
		jsr	off_45526(%pc,%d0.w)

loc_45518:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
word_4551E:	.word  0xFFE8,   0x30, 0xFFE8,   0x30
off_45526:	.word loc_45534-off_45526
		.word loc_45550-off_45526
		.word loc_45556-off_45526
		.word loc_4558A-off_45526
/*  --------------------------------------------------------------------------- */

loc_4552E:
		jmp	(Sprite_CheckDelete):l
/*  --------------------------------------------------------------------------- */

loc_45534:
		clrb	(Ctrl_1_locked):w
		movew	#0x1000,%d0
		movew	%d0,(Target_camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w
		lea	(Child6_IncLevY):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_45550:
		st	(Level_trigger_array+8):w
		rts
/*  --------------------------------------------------------------------------- */

loc_45556:
		movew	#0x14,(Screen_shake_flag):w
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x100,%d0
		movew	%d0,(Mean_water_level):w
		movew	#0x350,(Target_water_level):w
		st	(_unkFAA3):w
		moveq	#sfx_Geyser,%d0
		jsr	(Play_Sound_2):l
		jsr	(Create_New_Sprite):l
		bnes	locret_45588
		movel	#loc_44E04,(%a1)

locret_45588:
		rts
/*  --------------------------------------------------------------------------- */

loc_4558A:
		movew	#0x14,(Screen_shake_flag):w
		moveaw	(Level_layout_main+0x40):w,%a1
		lea	0x8E(%a1),%a1
		movew	(Level_layout_header):w,%d0
		moveb	#0x14,(%a1)
		addaw	%d0,%a1
		moveb	#0xF,(%a1)
		addaw	%d0,%a1
		moveb	#0xF,(%a1)
		addaw	%d0,%a1
		moveb	#-0x78,(%a1)
		jsr	(Create_New_Sprite):l
		bnes	loc_455D2
		movel	#Obj_48_1,(%a1)
		movew	#0x4740,0x10(%a1)
		movew	#0x828,0x14(%a1)
		moveb	#0x4C,0x2C(%a1)

loc_455D2:
		jsr	(Create_New_Sprite):l
		bnes	locret_455F2
		movel	#Obj_48_1,(%a1)
		movew	#0x4740,0x10(%a1)
		movew	#0xA28,0x14(%a1)
		moveb	#0x20,0x2C(%a1)

locret_455F2:
		rts
/*  --------------------------------------------------------------------------- */

Obj_88:
		jsr	(Obj_WaitOffscreen):l
		movel	#loc_45624,(%a0)
		jsr	(Create_New_Sprite3):l
		bnes	loc_45624
		movel	#Obj_CorkFloor,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	#1,0x2C(%a1)
		movew	%a1,0x44(%a0)

loc_45624:
		moveaw	0x44(%a0),%a1
		cmpil	#loc_29838,(%a1)
		beqs	loc_45636
		jmp	(Delete_Sprite_If_Not_In_Range):l
/*  --------------------------------------------------------------------------- */

loc_45636:
		tstb	(_unkFAA2):w
		bnes	loc_45646
		st	(_unkFAA2):w
		movew	#0x958,(Target_water_level):w

loc_45646:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_89:
		lea	ObjDat3_456EE(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_4566A,(%a0)
		addqw	#4,0x14(%a0)
		lea	PLC_454BA(%pc),%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */

loc_4566A:
		movew	#0x1B,%d1
		movew	#4,%d2
		movew	#5,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveb	#0,0x22(%a0)
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_456C0
		moveb	#1,0x22(%a0)
		tstb	(_unkFAA3):w
		beqs	loc_456C0
		clrb	(_unkFAA3):w
		movew	#0xA58,(Target_water_level):w
		moveq	#sfx_Geyser,%d0
		jsr	(Play_Sound_2):l
		jsr	(Create_New_Sprite):l
		bnes	loc_456C0
		movel	#loc_44E04,(%a1)
		st	0x2C(%a1)

loc_456C0:
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_456C6:
		jsr	(Create_New_Sprite):l
		bnes	locret_456DA
		movel	#Obj_Song_Fade_Transition,(%a1)
		moveb	#mus_Knuckles,0x2C(%a1)

locret_456DA:
		rts
/*  End of function sub_456C6 */

/*  --------------------------------------------------------------------------- */
ObjDat4_456DC:	.word 0
		.word make_art_tile(ArtTile_CutsceneKnux,1,1)
		.word 0x2E
		.word 0
		.long Map_CutsceneKnux
		.word 0x180
		.byte 0x1C
		.byte 0x18
		.byte 0x16
		.byte 0
ObjDat3_456EE:	.long Map_Button
		.word 0x8456
		.word 0x100
		.byte 0x10
		.byte 8
		.byte 0
		.byte 0
ObjDat3_456FA:	.long Map_LBZKnuxBomb
		.word 0xA4D6
		.word 0x80
		.byte 8
		.byte 8
		.byte 0
		.byte 0
ObjDat3_45706:	.long Map_LBZKnuxPillar
		.word 0x45A0
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
ObjDat3_45712:	.long Map_LBZKnuxPillar
		.word 0x45A0
		.word 0x280
		.byte 0x10
		.byte 0x80
		.byte 1
		.byte 0
ObjDat3_4571E:	.long Map_AIZCorkFloor
		.word 0x4001
		.word 0x180
		.byte 0x10
		.byte 0x18
		.byte 0
		.byte 0
ChildObjDat_4572A:.word 0
		.long loc_44A78
ChildObjDat_45730:.word 0
		.long loc_44DD8
		.word 0xE094
ChildObjDat_45738:.word 0
		.long loc_45136
		.word 0xC000
ChildObjDat_45740:.word 0
		.long loc_4519E
		.word 0xF8F0
ChildObjDat_45748:.word 3
		.long loc_451CE
ChildObjDat_4574E:.word 3
		.long loc_45330
		.byte 2
		.byte 0x24
ChildObjDat_45756:.word 0
		.long loc_448EE
		.word 0x18
DPLCPtr_4575E:	.long ArtUnc_CutsceneKnux
		.long DPLC_CutsceneKnux
byte_45766:	.byte 7
		.byte 1
		.byte 2
		.byte 3
		.byte 0xFC
byte_4576B:	.byte 5
		.byte 0xA
		.byte 0xB
		.byte 0xC
		.byte 0xD
		.byte 0xE
		.byte 0xF
		.byte 0x10
		.byte 0x11
		.byte 0xFC
word_45775:	.word 0x112
		.word 0x1314
		.word 0x15FC
word_4577B:	.word 0x108
		.word 0x408
		.word 0x508
		.word 0x608
		.word 0x7FC
word_45785:	.word 0x71C
		.word 0x1C1D
		.word 0xF806
word_4578B:	.word 0x71E
		.word 0x1FFC
byte_4578F:	.byte  0x16,   7
		.byte  0x16,   7
		.byte  0x17,   7
		.byte  0x18,   7
		.byte  0x19, 0x13
		.byte  0x1A,   7
		.byte  0x1B,   0
		.byte  0xF4
byte_4579E:	.byte  0x20,   5
		.byte  0x21,   5
		.byte  0x22, 0x14
		.byte  0x23,   3
		.byte  0x24,  0xF
		.byte  0x21,   5
		.byte  0x20,   5
		.byte  0xF4,   0
Pal_CutsceneKnux1:
		.incbin "General/Sprites/Knuckles/Cutscene/Pal.bin"
		.balign 2
Pal_CNZFlash:	.incbin "Levels/CNZ/Palettes/Flash.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_AIZPlaneIntro:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4586C(%pc,%d0.w),%d1
		jsr	off_4586C(%pc,%d1.w)
		jsr	(Sonic_Load_PLC):l
		bsrw	sub_45DE4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4586C:	.word loc_45888-off_4586C
		.word loc_458F0-off_4586C
		.word loc_45912-off_4586C
		.word loc_4593C-off_4586C
		.word loc_45970-off_4586C
		.word loc_4599C-off_4586C
		.word loc_459F0-off_4586C
		.word loc_45A00-off_4586C
		.word loc_45A2A-off_4586C
		.word loc_45A50-off_4586C
		.word loc_45A88-off_4586C
		.word loc_45AA2-off_4586C
		.word loc_45AC4-off_4586C
		.word loc_45AE0-off_4586C
/*  --------------------------------------------------------------------------- */

loc_45888:
		addqb	#2,5(%a0)
		movel	#Map_Sonic,0xC(%a0)
		movew	#ArtTile_Player_1,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#-0x46,0x22(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x20,6(%a0)
		movew	#0x60,0x10(%a0)
		movew	#0x30,0x14(%a0)
		movew	#0x40,0x2E(%a0)
		movel	#loc_458F6,0x34(%a0)
		movew	#8,0x40(%a0)
		movew	#-0x16E8,(Events_fg_1):w
		moveb	#-1,(Player_prev_frame):w
		lea	(Player_1):w,%a1
		moveb	#0,0x22(%a1)
		moveb	#0x53,0x2E(%a1)

locret_458EE:
		rts
/*  --------------------------------------------------------------------------- */

loc_458F0:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_458F6:
		moveb	#4,5(%a0)
		movew	#0x300,0x18(%a0)
		movew	#0x600,0x1A(%a0)
		lea	ChildObjDat_45E36(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_45912:
		subiw	#0x18,0x1A(%a0)
		beqs	loc_45920
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_45920:
		moveb	#6,5(%a0)
		clrw	0x18(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_4594E,0x34(%a0)
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_4593C:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4594E:
		moveb	#8,5(%a0)
		movew	#0x400,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		movel	#byte_45E60,0x30(%a0)
		bset	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45970:
		subiw	#0x40,0x18(%a0)
		jsr	(MoveSprite):l
		cmpiw	#0x130,0x14(%a0)
		bccs	loc_4598A
		jmp	(loc_45DFC):l
/*  --------------------------------------------------------------------------- */

loc_4598A:
		moveb	#0xA,5(%a0)
		movew	#0x130,0x14(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4599C:
		subiw	#0x40,0x18(%a0)
		jsr	(MoveSprite2):l
		cmpiw	#0x40,0x10(%a0)
		bcss	loc_459B2
		rts
/*  --------------------------------------------------------------------------- */

loc_459B2:
		moveb	#0xC,5(%a0)
		movew	#0x40,0x10(%a0)
		movew	#5,0x2E(%a0)
		movel	#loc_459D6,0x34(%a0)
		movew	#0x3F,0x3A(%a0)
		braw	loc_45D72
/*  --------------------------------------------------------------------------- */

loc_459D6:
		movew	#5,0x2E(%a0)
		cmpiw	#0x80,0x10(%a0)
		bcsw	locret_458EE
		lea	ChildObjDat_45E4C(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_459F0:
		subqw	#1,0x3A(%a0)
		bplw	locret_458EE
		moveb	#0xE,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45A00:
		bsrw	sub_45D94
		jsr	(Obj_Wait):l
		movew	0x10(%a0),%d0
		addqw	#4,%d0
		movew	%d0,0x10(%a0)
		cmpiw	#0x200,%d0
		bccs	loc_45A1C
		rts
/*  --------------------------------------------------------------------------- */

loc_45A1C:
		moveb	#0x10,5(%a0)
		movew	#0x1F,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45A2A:
		bsrw	sub_45D94
		jsr	(Obj_Wait):l
		subqw	#1,0x3A(%a0)
		bplw	locret_458EE
		moveb	#0x12,5(%a0)
		bset	#2,0x38(%a0)
		movew	#0xC,0x40(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45A50:
		bsrw	sub_45D94
		jsr	(Obj_Wait):l
		movew	0x10(%a0),%d0
		subiw	#4,%d0
		movew	%d0,0x10(%a0)
		cmpiw	#0x120,%d0
		blss	loc_45A6E
		rts
/*  --------------------------------------------------------------------------- */

loc_45A6E:
		moveb	#0x14,5(%a0)
		bset	#2,0x38(%a0)
		movew	#0x1F,0x3A(%a0)
		movew	#0x10,0x40(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45A88:
		bsrw	sub_45D94
		jsr	(Obj_Wait):l
		subqw	#1,0x3A(%a0)
		bplw	locret_458EE
		moveb	#0x16,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45AA2:
		bsrw	sub_45D94
		cmpiw	#0x918,(Player_1+x_pos):w
		bccs	loc_45AB4
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_45AB4:
		moveb	#0x18,5(%a0)
		lea	ChildObjDat_45E54(%pc),%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_45AC4:
		bsrw	sub_45D94
		cmpiw	#0x1240,(Player_1+x_pos):w
		bccs	loc_45AD2
		rts
/*  --------------------------------------------------------------------------- */

loc_45AD2:
		moveb	#0x1A,5(%a0)
		subiw	#0x20,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_45AE0:
		bsrw	sub_45D94
		cmpiw	#0x13D0,(Player_1+x_pos):w
		bccs	loc_45AEE
		rts
/*  --------------------------------------------------------------------------- */

loc_45AEE:
		st	(Palette_cycle_counters+0x00):w
		lea	(Player_1):w,%a1
		moveb	#4,5(%a1)
		bset	#1,0x2A(%a1)
		movew	#-0x400,0x1A(%a1)
		movew	#-0x200,0x18(%a1)
		movew	#0,0x1C(%a1)
		moveb	#0x1A,0x20(%a1)
		clrb	0x2E(%a1)
		clrw	(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		clrb	(Super_Sonic_Knux_flag):w
		moveb	#2,(Super_palette_status):w
		movew	#0x1E,(Palette_frame):w
		lea	Pal_AIZIntroEmeralds(%pc),%a1
		lea	(Normal_palette_line_4):w,%a2
		moveq	#7,%d0

loc_45B40:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_45B40
		lea	ChildObjDat_45E5A(%pc),%a2
		jsr	(CreateChild6_Simple):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45B56:
		movel	#loc_45BAA,(%a0)
		movel	#Map_AIZIntroPlane,0xC(%a0)
		movew	#0x529,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#0x40,7(%a0)
		moveb	#0x20,7(%a0)
		jsr	Swing_Setup1(%pc)
		lea	(ArtKosM_AIZIntroPlane):l,%a1
		movew	#-0x5AE0,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_AIZIntroEmeralds):l,%a1
		movew	#-0x49E0,%d2
		jsr	(Queue_Kos_Module):l
		lea	ChildObjDat_45E3E(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_45BAA:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_45BC8
		movel	#loc_45BDC,(%a0)

loc_45BC8:
		btst	#3,0x38(%a1)
		bnes	loc_45BD6
		jsr	(Refresh_ChildPosition):l

loc_45BD6:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45BDC:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		subqw	#4,0x10(%a0)
		cmpiw	#0x20,0x10(%a0)
		bcss	loc_45BFA
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45BFA:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45C00:
		movel	#Map_AIZIntroPlane,0xC(%a0)
		movew	#0x529,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#4,7(%a0)
		moveb	#0xC,7(%a0)
		movel	#loc_45C26,(%a0)

loc_45C26:
		lea	(byte_45E6B):l,%a1
		jsr	(Animate_RawNoSST):l
		jsr	(Refresh_ChildPosition):l
		jmp	(Child_Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45C3E:
		movel	#Map_AIZIntroPlane,0xC(%a0)
		movew	#0x529,0xA(%a0)
		movew	#0x280,8(%a0)
		moveb	#4,7(%a0)
		moveb	#0xC,7(%a0)
		movel	#loc_45C64,(%a0)

loc_45C64:
		lea	(byte_45E73):l,%a1
		jsr	(Animate_RawNoSST):l
		jsr	(Refresh_ChildPosition):l
		jmp	(Child_Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45C7C:
		movel	#loc_45CB6,(%a0)
		movel	#Map_AIZIntroWaves,0xC(%a0)
		movew	#0x3D1,0xA(%a0)
		movew	#0x100,8(%a0)
		moveb	#0x10,7(%a0)
		bset	#0,4(%a0)
		moveaw	0x46(%a0),%a1
		movel	#byte_45E77,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)

loc_45CB6:
		cmpiw	#0x60,0x10(%a0)
		bcss	loc_45CD6
		moveaw	0x46(%a0),%a1
		movew	0x40(%a1),%d0
		subw	%d0,0x10(%a0)
		jsr	(Animate_RawMultiDelay):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45CD6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45CDC:
		lea	ObjDat3_45E2A(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	0x2C(%a0),%d0
		lsrb	#1,%d0
		moveb	%d0,0x22(%a0)
		movel	#loc_45D14,(%a0)
		moveb	#4,0x1E(%a0)
		lea	(Player_1):w,%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		moveq	#0x40,%d0
		jsr	(Set_IndexedVelocity):l

loc_45D14:
		jsr	(MoveSprite):l
		tstl	%d0
		bmis	loc_45D32
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_45D32
		addw	%d1,0x14(%a0)
		movel	#loc_45D38,(%a0)

loc_45D32:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45D38:
		moveaw	(_unkFAA4):w,%a1
		movew	0x10(%a0),%d0
		movew	0x10(%a1),%d1
		subqw	#8,%d0
		cmpw	%d0,%d1
		bcss	loc_45D52
		addiw	#0x10,%d0
		cmpw	%d0,%d1
		bcss	loc_45D58

loc_45D52:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45D58:
		movew	0x18(%a1),%d0
		btst	#1,0x2C(%a0)
		beqs	loc_45D66
		negw	%d0

loc_45D66:
		tstw	%d0
		bmiw	locret_458EE
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_45D72:
		movel	#Map_SuperSonic,0xC(%a0)
		moveb	#0x21,0x22(%a0)
		moveb	#0,(Palette_timer):w
		movew	#0x24,(Palette_frame):w
		movew	#0x7FFF,(Super_frame_count):w
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_45D94:
		moveb	#1,(Super_Sonic_Knux_flag):w
		moveb	#0x21,0x22(%a0)
		btst	#1,(V_int_run_count+3):w
		beqs	loc_45DAE
		moveb	#0x22,0x22(%a0)

loc_45DAE:
		subqb	#1,(Palette_timer):w
		bpls	locret_45DE2
		moveb	#6,(Palette_timer):w
		lea	(PalCycle_SuperSonic):l,%a1
		movew	(Palette_frame):w,%d0
		addqw	#6,(Palette_frame):w
		cmpiw	#0x36,(Palette_frame):w
		bcss	loc_45DD6
		movew	#0x24,(Palette_frame):w

loc_45DD6:
		lea	(Normal_palette+4):w,%a2
		movel	(%a1,%d0.w),(%a2)+
		movew	4(%a1,%d0.w),(%a2)

locret_45DE2:
		rts
/*  End of function sub_45D94 */


/*  =============== S U B R O U T I N E ======================================= */


sub_45DE4:
		movew	0x40(%a0),%d1
		movew	(Events_fg_1):w,%d0
		bpls	loc_45DF6
		addw	%d1,%d0
		movew	%d0,(Events_fg_1):w
		rts
/*  --------------------------------------------------------------------------- */

loc_45DF6:
		addw	%d1,(Player_1+x_pos):w
		rts
/*  End of function sub_45DE4 */

/*  --------------------------------------------------------------------------- */

loc_45DFC:
		moveal	0x30(%a0),%a1
		subqb	#1,0x24(%a0)
		bpls	locret_45E28
		moveb	(%a1),0x24(%a0)
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#1,%d0
		cmpb	1(%a1),%d0
		bcss	loc_45E1A
		moveq	#0,%d0

loc_45E1A:
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	2(%a1,%d0.w),%d1
		moveb	%d1,0x22(%a0)

locret_45E28:
		rts
/*  --------------------------------------------------------------------------- */
ObjDat3_45E2A:	.long Map_AIZIntroEmeralds
		.word 0x65B1
		.word 0x280
		.byte 4
		.byte 4
		.byte 1
		.byte 0
ChildObjDat_45E36:.word 0
		.long loc_45B56
		.word 0xDE2C
ChildObjDat_45E3E:.word 1
		.long loc_45C00
		.word 0x3804
		.long loc_45C3E
		.word 0x1818
ChildObjDat_45E4C:.word 0
		.long loc_45C7C
		.word 0x18
ChildObjDat_45E54:.word 0
		.long Obj_CutsceneKnuckles
ChildObjDat_45E5A:.word 6
		.long loc_45CDC
byte_45E60:	.byte    3,   8
		.byte  0x97, 0x96
		.byte  0x98, 0x96
		.byte  0x99, 0x96
		.byte  0x9A, 0x96
		.byte  0xFC
byte_45E6B:	.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 3
		.byte 2
		.byte 0xFC
byte_45E73:	.byte 0
		.byte 5
		.byte 6
		.byte 0xFC
byte_45E77:	.byte 0
		.byte 1
		.byte 0
		.byte 0
		.byte 1
		.byte 1
		.byte 2
		.byte 2
		.byte 3
		.byte 2
		.byte 4
		.byte 1
		.byte 5
		.byte 1
		.byte 0xF4
Pal_AIZIntroEmeralds:
		.incbin "Levels/AIZ/Palettes/Intro Emeralds.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHead:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikHead_Index(%pc,%d0.w),%d1
		jsr	RobotnikHead_Index(%pc,%d1.w)
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
RobotnikHead_Index:.word	Obj_RobotnikHeadInit-RobotnikHead_Index
		.word Obj_RobotnikHeadMain-RobotnikHead_Index
		.word Obj_RobotnikHeadEnd-RobotnikHead_Index
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHeadInit:
		lea	ObjDat_RobotnikHead(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		jsr	(Child_SyncDraw):l
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)

locret_45EE0:
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHeadMain:
		lea	AniRaw_RobotnikHead(%pc),%a1
		jsr	(Animate_RawNoSST):l
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_45F08
		btst	#6,0x2A(%a1)
		beqs	locret_45F06
		moveb	#2,0x22(%a0)

locret_45F06:
		rts
/*  --------------------------------------------------------------------------- */

loc_45F08:
		moveb	#4,5(%a0)
		moveb	#3,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHeadEnd:
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHead2:
		jsr	(Refresh_ChildPositionAdjusted):l
		jsr	(Child_SyncDraw):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikHead2_Index(%pc,%d0.w),%d1
		jsr	RobotnikHead2_Index(%pc,%d1.w)
		btst	#6,0x38(%a0)
		bnew	locret_45EE0
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
RobotnikHead2_Index:.word Obj_RobotnikHeadInit-RobotnikHead2_Index
		.word Obj_RobotnikHeadMain-RobotnikHead2_Index
		.word Obj_RobotnikHeadEnd-RobotnikHead2_Index
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikHead:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	FBZRobotnikHead_Index(%pc,%d0.w),%d1
		jsr	FBZRobotnikHead_Index(%pc,%d1.w)
		jsr	(Child_GetPriority):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
FBZRobotnikHead_Index:.word Obj_FBZRobotnikHeadInit-FBZRobotnikHead_Index
		.word Obj_FBZRobotnikHeadMain-FBZRobotnikHead_Index
		.word Obj_RobotnikHeadEnd-FBZRobotnikHead_Index
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikHeadInit:
		lea	ObjDat_FBZRobotnikHead(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikHeadMain:
		movew	0x10(%a0),%d0
		bclr	#0,4(%a0)
		cmpw	(Player_1+x_pos):w,%d0
		bccs	loc_45F9A
		bset	#0,4(%a0)

loc_45F9A:
		clrb	0x22(%a0)
		moveaw	0x44(%a0),%a1
		btst	#2,0x38(%a0)
		beqs	loc_45FB0
		moveb	#1,0x22(%a0)

loc_45FB0:
		btst	#7,0x2A(%a1)
		bnes	loc_45FC8
		btst	#6,0x2A(%a1)
		beqs	locret_45FC6
		moveb	#2,0x22(%a0)

locret_45FC6:
		rts
/*  --------------------------------------------------------------------------- */

loc_45FC8:
		moveb	#4,5(%a0)
		moveb	#3,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHead3:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikHead3_Index(%pc,%d0.w),%d1
		jsr	RobotnikHead3_Index(%pc,%d1.w)
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
RobotnikHead3_Index:.word Obj_RobotnikHead3Init-RobotnikHead3_Index
		.word Obj_RobotnikHead3Main-RobotnikHead3_Index
		.word Obj_RobotnikHeadEnd-RobotnikHead3_Index
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHead3Init:
		lea	ObjDat_RobotnikHead(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveaw	0x46(%a0),%a1
		btst	#7,0xA(%a1)
		beqs	locret_46012
		bset	#7,0xA(%a0)

locret_46012:
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikHead3Main:
		lea	AniRaw_RobotnikHead(%pc),%a1
		jsr	(Animate_RawNoSST):l
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4603A
		btst	#6,0x2A(%a1)
		beqs	locret_46038
		moveb	#2,0x22(%a0)

locret_46038:
		rts
/*  --------------------------------------------------------------------------- */

loc_4603A:
		moveb	#4,5(%a0)
		moveb	#3,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46048:
		jsr	(Refresh_ChildPositionAdjusted):l
		jsr	(Child_SyncDraw):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikHead4_Index(%pc,%d0.w),%d1
		jsr	RobotnikHead4_Index(%pc,%d1.w)
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_46074
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46074:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
RobotnikHead4_Index:.word Obj_RobotnikHead3Init-RobotnikHead4_Index
		.word Obj_RobotnikHead3Main-RobotnikHead4_Index
		.word Obj_RobotnikHeadEnd-RobotnikHead4_Index
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShip:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikShip_Index(%pc,%d0.w),%d1
		jsr	RobotnikShip_Index(%pc,%d1.w)
		btst	#6,0x38(%a0)
		bnew	locret_45EE0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
RobotnikShip_Index:.word	loc_460A6-RobotnikShip_Index
		.word loc_460C2-RobotnikShip_Index
		.word loc_460F8-RobotnikShip_Index
		.word loc_4612A-RobotnikShip_Index
/*  --------------------------------------------------------------------------- */

loc_460A6:
		lea	ObjDat_RobotnikShip(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	0x2C(%a0),0x22(%a0)
		lea	(Child1_MakeRoboHead2):l,%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_460C2:
		jsr	(Refresh_ChildPositionAdjusted):l
		jsr	(Child_SyncDraw):l
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_460DC
		rts
/*  --------------------------------------------------------------------------- */

loc_460DC:
		moveb	#4,5(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		bnes	locret_460F6
		moveb	#4,0x2C(%a1)

locret_460F6:
		rts
/*  --------------------------------------------------------------------------- */

loc_460F8:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_46110
		jsr	(Child_SyncDraw):l
		jmp	(Refresh_ChildPositionAdjusted):l
/*  --------------------------------------------------------------------------- */

loc_46110:
		moveb	#6,5(%a0)
		moveb	#5,0x22(%a0)
		movew	#-0x200,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4612A:
		jsr	(MoveSprite):l
		subqw	#1,0x2E(%a0)
		bmis	loc_46138
		rts
/*  --------------------------------------------------------------------------- */

loc_46138:
		bset	#5,0x38(%a0)
		clrb	(Boss_flag):w
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShip2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikShip2_Index(%pc,%d0.w),%d1
		jsr	RobotnikShip2_Index(%pc,%d1.w)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
RobotnikShip2_Index:.word Obj_RobotnikShipInit-RobotnikShip2_Index
		.word Obj_RobotnikShipMain-RobotnikShip2_Index
		.word Obj_RobotnikShip2Wait-RobotnikShip2_Index
		.word Obj_RobotnikShipReady-RobotnikShip2_Index
		.word Obj_RobotnikShipEscape-RobotnikShip2_Index
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShip2Wait:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_46174
		rts
/*  --------------------------------------------------------------------------- */

loc_46174:
		moveb	#6,5(%a0)
		moveb	#5,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShip3:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikShip3_Index(%pc,%d0.w),%d1
		jsr	RobotnikShip3_Index(%pc,%d1.w)
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_461AC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
RobotnikShip3_Index:.word Obj_RobotnikShipInit-RobotnikShip3_Index
		.word Obj_RobotnikShipMain-RobotnikShip3_Index
		.word Obj_RobotnikShipWait-RobotnikShip3_Index
		.word Obj_RobotnikShipReady-RobotnikShip3_Index
		.word Obj_RobotnikShipEscape-RobotnikShip3_Index
/*  --------------------------------------------------------------------------- */

loc_461AC:
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipInit:
		lea	ObjDat_RobotnikShip(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		jsr	(Child_SyncDraw):l
		moveb	0x2C(%a0),0x22(%a0)
		lea	(Child1_MakeRoboHead):l,%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipMain:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_461E8
		rts
/*  --------------------------------------------------------------------------- */

loc_461E8:
		moveb	#4,5(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		bnes	locret_46202
		moveb	#4,0x2C(%a1)

locret_46202:
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipWait:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_46216
		jmp	(Refresh_ChildPositionAdjusted):l
/*  --------------------------------------------------------------------------- */

loc_46216:
		moveb	#6,5(%a0)
		moveb	#0xA,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipReady:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x40,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_46238
		subqw	#1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46238:
		moveb	#8,5(%a0)

loc_4623E:
		bset	#0,4(%a0)
		movew	#0x300,0x18(%a0)
		clrw	0x1A(%a0)
		movew	#0x100,0x2E(%a0)
		lea	Child1_MakeRoboShipFlame(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipEscape:
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bmis	loc_4626C
		rts
/*  --------------------------------------------------------------------------- */

loc_4626C:
		bset	#5,0x38(%a0)
		clrb	(Boss_flag):w
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShip4:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	RobotnikShip4_Index(%pc,%d0.w),%d1
		jsr	RobotnikShip4_Index(%pc,%d1.w)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
RobotnikShip4_Index:.word Obj_RobotnikShipInit-RobotnikShip4_Index
		.word Obj_RobotnikShipMain-RobotnikShip4_Index
		.word Obj_RobotnikShipWait-RobotnikShip4_Index
		.word Obj_RobotnikShipReady-RobotnikShip4_Index
		.word Obj_RobotnikShipEscape-RobotnikShip4_Index
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShip:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	FBZRobotnikShip_Index(%pc,%d0.w),%d1
		jsr	FBZRobotnikShip_Index(%pc,%d1.w)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
FBZRobotnikShip_Index:.word Obj_FBZRobotnikShipInit-FBZRobotnikShip_Index
		.word Obj_FBZRobotnikShipMain-FBZRobotnikShip_Index
		.word Obj_FBZRobotnikShipWait-FBZRobotnikShip_Index
		.word Obj_FBZRobotnikShipFall-FBZRobotnikShip_Index
		.word Obj_FBZRobotnikShipRise-FBZRobotnikShip_Index
		.word Obj_RobotnikShipEscape-FBZRobotnikShip_Index
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShipInit:
		lea	ObjDat_RobotnikShip(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	0x2C(%a0),0x22(%a0)
		lea	(Child1_MakeFBZRoboHead):l,%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShipMain:
		jsr	(Refresh_ChildPosition):l
		jsr	(Child_GetPriority):l
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_462F0
		rts
/*  --------------------------------------------------------------------------- */

loc_462F0:
		moveb	#4,5(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		bnes	locret_4630A
		moveb	#4,0x2C(%a1)

locret_4630A:
		rts
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShipWait:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_46324
		jsr	(Child_GetPriority):l
		jmp	(Refresh_ChildPosition):l
/*  --------------------------------------------------------------------------- */

loc_46324:
		moveb	#6,5(%a0)
		moveb	#5,0x22(%a0)
		clrw	0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		movew	#0x2F,0x2E(%a0)
		movel	#Obj_FBZRobotnikShipReadyGo,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShipFall:
		jsr	(MoveSprite):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShipReadyGo:
		moveb	#8,5(%a0)
		bset	#0,4(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_FBZRobotnikShipRise:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0xC0,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_46378
		subqw	#1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46378:
		moveb	#0xA,5(%a0)
		braw	loc_4623E
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipFlame:
		lea	ObjDat2_RoboShipFlame(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#Obj_RobotnikShipFlameMain,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_RobotnikShipFlameMain:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_463B6
		jsr	(Refresh_ChildPositionAdjusted):l
		btst	#0,(V_int_run_count+3):w
		bnew	locret_45EE0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_463B6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
ObjDat_RobotnikHead:.long Map_RobotnikShip
		.word 0x52E
		.word 0x280
		.byte 0x10
		.byte 8
		.byte 0
		.byte 0
ObjDat_FBZRobotnikHead:.long Map_FBZRobotnikHead
		.word 0x410
		.word 0x280
		.byte 0x10
		.byte 8
		.byte 0
		.byte 0
ObjDat_RobotnikShip:.long Map_RobotnikShip
		.word 0x52E
		.word 0x280
		.byte 0x1C
		.byte 0x20
		.byte 8
		.byte 0
ObjDat2_RoboShipFlame:.word 0x280
		.byte 8
		.byte 4
		.byte 6
		.byte 0
Child1_MakeRoboHead:.word 0
		.long Obj_RobotnikHead
		.word 0xE4
Child1_MakeRoboHead2:.word 0
		.long Obj_RobotnikHead2
		.word 0xE4
Child1_MakeFBZRoboHead:.word 0
		.long Obj_FBZRobotnikHead
		.word 0xE4
Child1_MakeRoboHead3:.word 0
		.long Obj_RobotnikHead3
		.word 0xE4
Child1_MakeRoboHead4:.word 0
		.long loc_46048
		.word 0xE4
word_4640E:	.word 0
		.long Obj_RobotnikShip
		.word 0xEC
		.word 0
		.long Obj_RobotnikShip2
		.word 0
Child1_MakeRoboShip3:.word 0
		.long Obj_RobotnikShip3
		.word 0xFA04
ChildObjDat_46426:.word 0
		.long Obj_RobotnikShip4
		.word 0xF8
ChildObjDat_4642E:.word 0
		.long Obj_FBZRobotnikShip
		.word 4
Child1_MakeRoboShipFlame:.word 0
		.long Obj_RobotnikShipFlame
		.word 0x1E00
AniRaw_RobotnikHead:.byte 5
		.byte 0
		.byte 1
		.byte 0xFC
/*  --------------------------------------------------------------------------- */

Obj_AIZ_Miniboss_Cutscene:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46454(%pc,%d0.w),%d1
		jsr	off_46454(%pc,%d1.w)
		braw	loc_46E80
/*  --------------------------------------------------------------------------- */
off_46454:	.word loc_4645E-off_46454
		.word loc_46482-off_46454
		.word loc_464CA-off_46454
		.word loc_46508-off_46454
		.word loc_4654C-off_46454
/*  --------------------------------------------------------------------------- */

loc_4645E:
		lea	ObjDat3_46F14(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#0x60,0x29(%a0)
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		moveb	#1,(Boss_flag):w
		moveq	#0x5A,%d0
		jmp	(Load_PLC):l
/*  --------------------------------------------------------------------------- */

loc_46482:
		movew	(Camera_X_pos):w,%d0
		movew	#0x2F10,%d5
		cmpw	%d5,%d0
		bccs	loc_46490
		rts
/*  --------------------------------------------------------------------------- */

loc_46490:
		movel	#loc_464D0,0x34(%a0)
		lea	ChildObjDat_46F80(%pc),%a2
		jsr	(CreateChild3_NormalRepeated):l
		lea	Pal_AIZMiniboss(%pc),%a1
		jsr	(PalLoad_Line1):l

loc_464AC:
		moveb	#4,5(%a0)
		movew	#0xB4,0x2E(%a0)
		movew	%d5,(Camera_min_X_pos):w
		movew	%d5,(Camera_max_X_pos):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l

locret_464C8:
		rts
/*  --------------------------------------------------------------------------- */

loc_464CA:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_464D0:
		movel	#loc_4650E,0x34(%a0)
		moveb	#6,5(%a0)
		lea	ChildObjDat_46F72(%pc),%a2
		jsr	(CreateChild1_Normal):l
		lea	ChildObjDat_46F88(%pc),%a2
		jsr	(CreateChild1_Normal):l

/*  =============== S U B R O U T I N E ======================================= */


sub_464F2:
		movew	#0x100,0x1A(%a0)
		movew	#0xAF,0x2E(%a0)
		moveq	#mus_Miniboss,%d0
		jsr	(Play_Sound):l
		rts
/*  End of function sub_464F2 */

/*  --------------------------------------------------------------------------- */

loc_46508:
		jmp	(MoveWaitTouch):l
/*  --------------------------------------------------------------------------- */

loc_4650E:
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4657E,0x34(%a0)
		moveb	#3,0x39(%a0)
		bset	#1,0x38(%a0)

loc_46528:
		moveb	#8,5(%a0)
		clrw	0x1A(%a0)

/*  =============== S U B R O U T I N E ======================================= */


Swing_Setup1:
		movew	#0xC0,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#0x10,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  End of function Swing_Setup1 */

/*  --------------------------------------------------------------------------- */

loc_4654C:
		jsr	(Swing_UpAndDown):l
		jmp	(MoveWaitTouch):l
/*  --------------------------------------------------------------------------- */
		subqb	#1,0x39(%a0)
		bpls	loc_46566
		movel	#loc_4657E,0x34(%a0)

loc_46566:
		movew	#0x40,0x2E(%a0)
		moveq	#sfx_FlamethrowerQuiet,%d0
		jsr	(Play_Sound_2):l
		lea	Child1_AIZ_MinibossFlames(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4657E:
		movew	#0x10,0x2E(%a0)
		movel	#loc_46596,0x34(%a0)
		lea	ChildObjDat_4701A(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_46596:
		movel	#loc_465E0,(%a0)
		lea	Pal_AIZMiniboss(%pc),%a1
		jsr	(PalLoad_Line1):l
		moveb	#0xF,0x28(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x400,0x18(%a0)
		clrw	0x1A(%a0)
		movew	#0x40,0x2E(%a0)
		cmpiw	#0,(Current_zone_and_act):w
		bnes	loc_465D2
		movew	#0x120,0x2E(%a0)

loc_465D2:
		movel	#Go_Delete_Sprite,0x34(%a0)
		st	(Events_fg_5):w
		rts
/*  --------------------------------------------------------------------------- */

loc_465E0:
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bmis	loc_465F2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_465F2:
		clrb	(Boss_flag):w
		jsr	(Obj_PlayLevelMusic):l
		lea	(PLC_Monitors):l,%a1
		jsr	(Load_PLC_Raw):l
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_4660E:
		jsr	(Refresh_ChildPositionAdjusted):l
		lea	word_46F20(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		bset	#4,0x2B(%a0)
		movel	#byte_4703C,0x30(%a0)
		movel	#loc_46638,(%a0)
		jmp	(Child_DrawTouch_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_46638:
		jsr	(Refresh_ChildPositionAdjusted):l
		jsr	(Animate_Raw):l
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	loc_46654
		clrb	0x28(%a0)

loc_46654:
		jmp	(Child_DrawTouch_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_4665A:
		jsr	(Refresh_ChildPositionAdjusted):l
		movel	#loc_46670,(%a0)
		lea	word_46F28(%pc),%a1
		jmp	(SetUp_ObjAttributes2):l
/*  --------------------------------------------------------------------------- */

loc_46670:
		jsr	(Refresh_ChildPositionAdjusted):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_4667C:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46696(%pc,%d0.w),%d1
		jsr	off_46696(%pc,%d1.w)
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
off_46696:	.word loc_466A4-off_46696
		.word loc_466AE-off_46696
		.word loc_466CE-off_46696
		.word loc_466EC-off_46696
		.word loc_4672C-off_46696
		.word loc_466EC-off_46696
		.word locret_464C8-off_46696
/*  --------------------------------------------------------------------------- */

loc_466A4:
		lea	word_46F30(%pc),%a1
		jmp	(SetUp_ObjAttributes2):l
/*  --------------------------------------------------------------------------- */

loc_466AE:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_466BC
		rts
/*  --------------------------------------------------------------------------- */

loc_466BC:
		moveb	#4,5(%a0)
		movel	#loc_466D4,0x34(%a0)
		braw	loc_46DDE
/*  --------------------------------------------------------------------------- */

loc_466CE:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_466D4:
		movel	#loc_466F2,0x34(%a0)

loc_466DC:
		moveb	#6,5(%a0)
		movel	#byte_47045,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_466EC:
		jmp	(Animate_RawMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_466F2:
		moveb	#8,5(%a0)
		moveb	#3,0x39(%a0)
		movel	#loc_46706,0x34(%a0)

loc_46706:
		movew	#0x1C,0x2E(%a0)
		subqb	#1,0x39(%a0)
		cmpib	#1,0x39(%a0)
		beqs	loc_46722
		lea	ChildObjDat_46FB0(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_46722:
		lea	ChildObjDat_46FBE(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4672C:
		jsr	(Obj_Wait):l
		tstb	0x39(%a0)
		bmis	loc_4673A
		rts
/*  --------------------------------------------------------------------------- */

loc_4673A:
		moveb	#0xA,5(%a0)
		movel	#byte_4704C,0x30(%a0)
		movel	#loc_46752,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46752:
		moveb	#0xC,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4675A:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46774(%pc,%d0.w),%d1
		jsr	off_46774(%pc,%d1.w)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_46774:	.word loc_46778-off_46774
		.word loc_466EC-off_46774
/*  --------------------------------------------------------------------------- */

loc_46778:
		lea	byte_46F38(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#byte_47055,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46794:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_467A2(%pc,%d0.w),%d1
		jmp	off_467A2(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_467A2:	.word sub_467AA-off_467A2
		.word loc_467DE-off_467A2
		.word loc_464CA-off_467A2
		.word loc_467DE-off_467A2

/*  =============== S U B R O U T I N E ======================================= */


sub_467AA:
		lea	word_46F40(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		moveq	#sfx_Projectile,%d0
		jsr	(Play_Sound_2):l
		movel	#byte_47062,0x30(%a0)
		movel	#loc_467EA,0x34(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x60,0x2E(%a0)
		jmp	(Draw_Sprite):l
/*  End of function sub_467AA */

/*  --------------------------------------------------------------------------- */

loc_467DE:
		jsr	(Move_AnimateRaw_Wait):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_467EA:
		moveb	#4,5(%a0)
		movew	#8,0x2E(%a0)
		movel	#loc_46800,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46800:
		moveb	#6,5(%a0)
		moveq	#sfx_MissileThrow,%d0
		jsr	(Play_Sound_2):l
		movew	#0x80,8(%a0)
		bset	#1,4(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		movew	#0x60,0x2E(%a0)
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x2C(%a1),%d0
		bsrw	loc_46E02
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x20,%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_AIZMiniboss_Flame:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46858(%pc,%d0.w),%d1
		jmp	off_46858(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_46858:	.word sub_4685E-off_46858
		.word loc_464CA-off_46858
		.word loc_468A6-off_46858

/*  =============== S U B R O U T I N E ======================================= */


sub_4685E:
		lea	ObjDat3_46F54(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		bset	#4,0x2B(%a0)
		movel	#loc_4688E,0x34(%a0)
		moveq	#6,%d1

loc_46878:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		subw	%d0,%d1
		addb	%d1,%d1
		movew	%d1,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4688E:
		moveb	#4,5(%a0)
		movel	#byte_47075,0x30(%a0)
		movel	#loc_468B2,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_468A6:
		jsr	(Animate_RawMultiDelay):l
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_468B2:
		movel	#Map_BossExplosion,0xC(%a0)
		movew	#-0x7B2E,0xA(%a0)
		movel	#byte_4707A,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		cmpib	#6,0x2C(%a0)
		bnew	locret_464C8
		lea	ChildObjDat_46FE6(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  End of function sub_4685E */

/*  --------------------------------------------------------------------------- */

loc_468E4:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_468F8(%pc,%d0.w),%d1
		jsr	off_468F8(%pc,%d1.w)
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_468F8:	.word loc_468FC-off_468F8
		.word loc_46948-off_468F8
/*  --------------------------------------------------------------------------- */

loc_468FC:
		bsrw	sub_4685E
		movew	#0x100,8(%a0)
		movel	#byte_47085,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		moveaw	0x46(%a0),%a1
		moveaw	0x46(%a1),%a1
		movew	%a1,0x46(%a0)
		movew	0x14(%a1),0x14(%a0)
		movew	#-0x60,%d0
		btst	#0,4(%a1)
		beqs	loc_4693C
		negw	%d0
		bset	#0,4(%a0)

loc_4693C:
		movew	0x10(%a1),%d1
		addw	%d0,%d1
		movew	%d1,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46948:
		jsr	(Animate_RawMultiDelay):l
		tstw	%d2
		beqs	locret_46966
		bmis	locret_46966
		movew	word_46968(%pc,%d0.w),%d0
		btst	#0,4(%a0)
		bnes	loc_46962
		negw	%d0

loc_46962:
		addw	%d0,0x10(%a0)

locret_46966:
		rts
/*  --------------------------------------------------------------------------- */
word_46968:	.word 0
		.word 0
		.word 0
		.word 0x10
		.word 8
		.word 8
/*  --------------------------------------------------------------------------- */

Obj_AIZ_Miniboss:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46986(%pc,%d0.w),%d1
		jsr	off_46986(%pc,%d1.w)
		braw	loc_46E80
/*  --------------------------------------------------------------------------- */
off_46986:	.word loc_46996-off_46986
		.word loc_469BE-off_46986
		.word loc_464CA-off_46986
		.word loc_469FE-off_46986
		.word loc_4654C-off_46986
		.word loc_46A5E-off_46986
		.word loc_46AAA-off_46986
		.word loc_46AFE-off_46986
/*  --------------------------------------------------------------------------- */

loc_46996:
		lea	ObjDat3_46F14(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#6,0x29(%a0)
		moveb	#1,(Boss_flag):w
		moveq	#0x5A,%d0
		jsr	(Load_PLC):l
		lea	Pal_AIZMiniboss(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

loc_469BE:
		movew	(Camera_X_pos):w,%d0
		movew	#0x10E0,%d5
		cmpw	%d5,%d0
		bccs	loc_469CC
		rts
/*  --------------------------------------------------------------------------- */

loc_469CC:
		movel	#loc_469D8,0x34(%a0)
		braw	loc_464AC
/*  --------------------------------------------------------------------------- */

loc_469D8:
		movel	#loc_46A10,0x34(%a0)
		moveb	#6,5(%a0)
		bsrw	sub_464F2
		lea	ChildObjDat_46F72(%pc),%a2
		jsr	(CreateChild1_Normal):l
		lea	ChildObjDat_46F9C(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_469FE:
		jsr	(MoveSprite2):l
		jsr	(Obj_Wait):l
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46A10:
		movel	#loc_46A22,0x34(%a0)
		movew	#0x14,0x2E(%a0)
		braw	loc_46528
/*  --------------------------------------------------------------------------- */

loc_46A22:
		movel	#loc_46A40,0x34(%a0)
		movew	#0x1E,0x2E(%a0)
		tstb	(_unkFA80+1):w
		beqw	locret_464C8
		bset	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46A40:
		moveb	#0xA,5(%a0)
		moveb	#8,0x39(%a0)
		moveq	#sfx_FlamethrowerQuiet,%d0
		jsr	(Play_Sound_2):l
		lea	Child1_AIZ_MinibossFlames(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_46A5E:
		jsr	(Swing_UpAndDown_Count):l
		beqs	loc_46A6A
		tstw	%d1
		bmis	loc_46A76

loc_46A6A:
		jsr	(MoveSprite2):l
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46A76:
		moveb	#6,5(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_46AB6,0x34(%a0)
		movew	#-0x100,%d0
		bchg	#2,0x38(%a0)
		beqs	loc_46AA0
		negw	%d0
		movel	#loc_46A10,0x34(%a0)

loc_46AA0:
		movew	%d0,0x1A(%a0)
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46AAA:
		jsr	(Obj_Wait):l
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46AB6:
		movel	#loc_46AD4,0x34(%a0)

loc_46ABE:
		moveb	#0xC,5(%a0)
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		movew	#0x10,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46AD4:
		moveb	#0xE,5(%a0)
		moveb	#4,0x39(%a0)
		movel	#loc_46B1E,0x34(%a0)
		movew	#0x100,%d0
		bchg	#3,0x38(%a0)
		bnes	loc_46AF6
		negw	%d0

loc_46AF6:
		movew	%d0,0x18(%a0)
		braw	Swing_Setup1
/*  --------------------------------------------------------------------------- */

loc_46AFE:
		jsr	(Swing_UpAndDown_Count):l
		bnes	loc_46B12
		jsr	(MoveSprite2):l
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46B12:
		moveal	0x34(%a0),%a1
		jsr	(%a1)
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46B1E:
		moveb	#4,0x39(%a0)
		movel	#loc_46B38,0x34(%a0)
		bchg	#0,4(%a0)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_46B38:
		movel	#loc_46A76,0x34(%a0)
		braw	loc_46ABE
/*  --------------------------------------------------------------------------- */

loc_46B44:
		jsr	(Obj_EndSignControl):l
		lea	ChildObjDat_47022(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_46B54:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46B6E(%pc,%d0.w),%d1
		jsr	off_46B6E(%pc,%d1.w)
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
off_46B6E:	.word loc_466A4-off_46B6E
		.word loc_46B7A-off_46B6E
		.word loc_464CA-off_46B6E
		.word loc_466EC-off_46B6E
		.word loc_466EC-off_46B6E
		.word locret_464C8-off_46B6E
/*  --------------------------------------------------------------------------- */

loc_46B7A:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_46B88
		rts
/*  --------------------------------------------------------------------------- */

loc_46B88:
		moveb	#4,5(%a0)
		movel	#loc_46B9A,0x34(%a0)
		braw	loc_46DDE
/*  --------------------------------------------------------------------------- */

loc_46B9A:
		movel	#loc_46BA6,0x34(%a0)
		braw	loc_466DC
/*  --------------------------------------------------------------------------- */

loc_46BA6:
		moveb	#8,5(%a0)
		movel	#loc_46BC6,0x34(%a0)
		movel	#byte_4704C,0x30(%a0)
		lea	ChildObjDat_46FBE(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_46BC6:
		moveb	#2,5(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_46BD8:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46BEC(%pc,%d0.w),%d1
		jsr	off_46BEC(%pc,%d1.w)
		jmp	(Child_DrawTouch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_46BEC:	.word loc_46BF6-off_46BEC
		.word loc_46C1A-off_46BEC
		.word loc_464CA-off_46BEC
		.word loc_46C68-off_46BEC
		.word loc_46C84-off_46BEC
/*  --------------------------------------------------------------------------- */

loc_46BF6:
		bsrw	sub_467AA
		moveaw	0x46(%a0),%a1
		cmpil	#loc_4667C,(%a1)
		bnes	loc_46C0A
		clrb	0x28(%a0)

loc_46C0A:
		movel	#loc_46C2C,0x34(%a0)
		moveb	#8,0x1E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46C1A:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_46C2C:
		moveb	#4,5(%a0)
		movew	#8,0x2E(%a0)
		movel	#loc_46C42,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46C42:
		moveb	#6,5(%a0)
		movel	#loc_46C6E,0x34(%a0)
		bset	#1,4(%a0)
		bsrw	sub_46DF2
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x20,%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46C68:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_46C6E:
		moveb	#8,5(%a0)
		movew	#0x80,8(%a0)
		movel	#loc_46C96,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46C84:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite2):l
		jmp	(ObjHitFloor_DoRoutine):l
/*  --------------------------------------------------------------------------- */

loc_46C96:
		moveq	#sfx_MissileExplode,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_46FEE(%pc),%a2
		jsr	(CreateChild1_Normal):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46CAE:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_46CBC(%pc,%d0.w),%d1
		jmp	off_46CBC(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_46CBC:	.word loc_46CC2-off_46CBC
		.word loc_464CA-off_46CBC
		.word loc_46D00-off_46CBC
/*  --------------------------------------------------------------------------- */

loc_46CC2:
		lea	ObjDat3_46F48(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveaw	0x46(%a0),%a1
		tstb	0x28(%a1)
		bnes	loc_46CDA
		clrb	0x28(%a0)

loc_46CDA:
		movel	#AniRaw_BossExplosion,0x30(%a0)
		movel	#loc_46CF0,0x34(%a0)
		moveq	#0xC,%d1
		braw	loc_46878
/*  --------------------------------------------------------------------------- */

loc_46CF0:
		moveb	#4,5(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46D00:
		jsr	(Animate_RawMultiDelay):l
		tstb	0x28(%a0)
		beqs	loc_46D12
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46D12:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_46D18:
		lea	ObjDat3_46F60(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_46D9C,(%a0)
		movel	#loc_46DA2,0x34(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	(Camera_X_pos):w,%d1
		movew	word_46D66(%pc,%d0.w),%d2
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	(Camera_Y_pos):w,%d1
		movew	word_46D72(%pc,%d0.w),%d2
		movew	%d2,0x14(%a0)
		movew	byte_46D7E(%pc,%d0.w),0x18(%a0)
		movew	byte_46D7E(%pc,%d0.w),0x2E(%a0)
		lsrw	#1,%d0
		moveb	byte_46D96(%pc,%d0.w),0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_46D66:	.word 0xFFE0
		.word 0xFF98
		.word 0xFFF0
		.word 0xFFA8
		.word 0xFFF8
		.word 0xFFB0
word_46D72:	.word 0x310
		.word 0x310
		.word 0x31C
		.word 0x31C
		.word 0x328
		.word 0x328
byte_46D7E:	.byte 2
		.byte 0
		.byte 2
		.byte 0
		.byte 1
		.byte 0x80
		.byte 1
		.byte 0x80
		.byte 1
		.byte 0
		.byte 1
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 0
byte_46D96:	.byte 0
		.byte 0
		.byte 1
		.byte 1
		.byte 2
		.byte 2
/*  --------------------------------------------------------------------------- */

loc_46D9C:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_46DA2:
		movel	#loc_46DAA,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_46DAA:
		jsr	(MoveSprite2):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_46DB6:
		lea	word_46F6C(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0xE,%d0
		moveb	%d0,0x22(%a0)
		moveq	#8,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */

loc_46DDE:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_46DEC(%pc,%d0.w),0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_46DEC:	.word 0
		.word 0x10
		.word 0x20

/*  =============== S U B R O U T I N E ======================================= */


sub_46DF2:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x2C(%a1),%d0
		movew	word_46E46(%pc,%d0.w),0x2E(%a0)

loc_46E02:
		lsrw	#1,%d0
		moveb	0x39(%a1),%d1
		addqb	#4,%d1
		moveb	%d1,0x39(%a1)
		andiw	#0xC,%d1
		addw	%d1,%d0
		lea	byte_46E4C(%pc),%a2
		lea	word_46E6C(%pc),%a3
		btst	#0,4(%a1)
		beqs	loc_46E2C
		lea	byte_46E5C(%pc),%a2
		lea	word_46E76(%pc),%a3

loc_46E2C:
		moveb	(%a2,%d0.w),%d0
		addw	%d0,%d0
		movew	(%a3,%d0.w),%d0
		addw	(Camera_X_pos):w,%d0
		movew	%d0,0x10(%a0)
		movew	#0x400,0x1A(%a0)
		rts
/*  End of function sub_46DF2 */

/*  --------------------------------------------------------------------------- */
word_46E46:	.word 0
		.word 0x20
		.word 0x40
byte_46E4C:	.byte 2
		.byte 3
		.byte 4
		.byte 0
		.byte 0
		.byte 2
		.byte 4
		.byte 0
		.byte 1
		.byte 3
		.byte 4
		.byte 0
		.byte 0
		.byte 1
		.byte 4
		.byte 0
byte_46E5C:	.byte 3
		.byte 2
		.byte 0
		.byte 0
		.byte 4
		.byte 3
		.byte 1
		.byte 0
		.byte 4
		.byte 2
		.byte 0
		.byte 0
		.byte 3
		.byte 2
		.byte 1
		.byte 0
word_46E6C:	.word 0x24
		.word 0x4C
		.word 0x74
		.word 0x9C
		.word 0xC4
word_46E76:	.word 0x7C
		.word 0xA4
		.word 0xCC
		.word 0xF4
		.word 0x11C
/*  --------------------------------------------------------------------------- */

loc_46E80:
		tstb	0x28(%a0)
		bnes	locret_46ED2
		tstb	0x29(%a0)
		beqs	loc_46ED4
		tstb	0x20(%a0)
		bnes	loc_46EA6
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		bset	#6,0x2A(%a0)

loc_46EA6:
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_46EB2
		addqw	#8,%d0

loc_46EB2:
		lea	word_46EFC(%pc),%a1
		lea	word_46F04(%pc,%d0.w),%a2
		jsr	(CopyWordData_4):l
		subqb	#1,0x20(%a0)
		bnes	locret_46ED2
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_46ED2:
		rts
/*  --------------------------------------------------------------------------- */

loc_46ED4:
		movel	#Wait_Draw,(%a0)
		movel	#loc_46B44,0x34(%a0)
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		jmp	(BossDefeated_StopTimer):l
/*  --------------------------------------------------------------------------- */
word_46EFC:	.word Normal_palette_line_2+0x0E, Normal_palette_line_2+0x14, Normal_palette_line_2+0x16, Normal_palette_line_2+0x1C
word_46F04:	.word   0x644,  0x240,   0x20,  0x644
		.word   0x888,  0xAAA,  0xEEE,  0xAAA
ObjDat3_46F14:	.long Map_AIZMiniboss
		.word 0xA41A
		.word 0x200
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0xF
word_46F20:	.word 0x841A
		.word 0x180
		.byte 0x28
		.byte 0x10
		.byte 2
		.byte 0x9C
word_46F28:	.word 0xA41A
		.word 0x200
		.byte 4
		.byte 8
		.byte 6
		.byte 0
word_46F30:	.word 0xA41A
		.word 0x280
		.byte 8
		.byte 8
		.byte 3
		.byte 0
byte_46F38:	.byte 4
		.byte 0x1A
		.byte 2
		.byte 0
		.byte 8
		.byte 8
		.byte 7
		.byte 0
word_46F40:	.word 0x41A
		.word 0x280
		.byte 8
		.byte 0x10
		.byte 0xC
		.byte 0x98
ObjDat3_46F48:	.long Map_BossExplosion
		.word 0x4D2
		.word 0x80
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0x97
ObjDat3_46F54:	.long Map_AIZMinibossFlame
		.word 0x8482
		.word 0x100
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0x8B
ObjDat3_46F60:	.long Map_AIZMinibossSmall
		.word 0x2474
		.word 0x380
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
word_46F6C:	.word 0x200
		.byte 0x10
		.byte 0x14
		.byte 0
		.byte 0
ChildObjDat_46F72:.word 1
		.long loc_4660E
		.word 0x20
		.long loc_4665A
		.word 0xDC08
ChildObjDat_46F80:.word 5
		.long loc_46D18
		.word 0
ChildObjDat_46F88:.word 2
		.long loc_4667C
		.word 0xE0
		.long loc_4667C
		.word 0x9E4
		.long loc_4667C
		.word 0x12E8
ChildObjDat_46F9C:.word 2
		.long loc_46B54
		.word 0xE0
		.long loc_46B54
		.word 0x9E4
		.long loc_46B54
		.word 0x12E8
ChildObjDat_46FB0:.word 1
		.long loc_4675A
		.word 4
		.long loc_46794
		.word 4
ChildObjDat_46FBE:.word 1
		.long loc_4675A
		.word 4
		.long loc_46BD8
		.word 4
Child1_AIZ_MinibossFlames:.word 3
		.long Obj_AIZMiniboss_Flame
		.word 0x9C04
		.long Obj_AIZMiniboss_Flame
		.word 0xAC04
		.long Obj_AIZMiniboss_Flame
		.word 0xBC04
		.long Obj_AIZMiniboss_Flame
		.word 0xD403
ChildObjDat_46FE6:.word 0
		.long loc_468E4
		.word 0
ChildObjDat_46FEE:.word 6
		.long loc_46CAE
		.word 0xDC
		.long loc_46CAE
		.word 0x8E4
		.long loc_46CAE
		.word 0xF8E4
		.long loc_46CAE
		.word 0x4EC
		.long loc_46CAE
		.word 0xFCEC
		.long loc_46CAE
		.word 0x4FC
		.long loc_46CAE
		.word 0xFCFC
ChildObjDat_4701A:.word 0
		.long Obj_BossExplosionSpecial
		.word 0
ChildObjDat_47022:.word 3
		.long loc_46DB6
		.word 0xF0F8
		.long loc_46DB6
		.word 0xCF0
		.long loc_46DB6
		.word 0xF014
		.long loc_46DB6
		.word 0x100C
byte_4703C:	.byte 1
		.byte 1
		.byte 2
		.byte 0xFC
		.byte 7
		.byte 3
		.byte 4
		.byte 5
		.byte 0xF4
byte_47045:	.byte 3
		.byte 5
		.byte 4
		.byte 5
		.byte 5
		.byte 0x17
		.byte 0xF4
byte_4704C:	.byte 5
		.byte 0x17
		.byte 5
		.byte 0x17
		.byte 4
		.byte 5
		.byte 3
		.byte 5
		.byte 0xF4
byte_47055:	.byte 7
		.byte 1
		.byte 7
		.byte 1
		.byte 8
		.byte 1
		.byte 9
		.byte 3
		.byte 0xA
		.byte 3
		.byte 0xB
		.byte 3
		.byte 0xF4
byte_47062:	.byte 1
		.byte 0xC
		.byte 0xD
		.byte 0xFC
		.byte 0
		.byte 0
		.byte 0
		.byte 0
		.byte 1
		.byte 1
		.byte 2
		.byte 2
		.byte 3
		.byte 3
		.byte 4
		.byte 4
		.byte 5
		.byte 4
		.byte 0xF4
byte_47075:	.byte 0
		.byte 1
		.byte 0
		.byte 1
		.byte 0xF4
byte_4707A:	.byte 2
		.byte 1
		.byte 2
		.byte 1
		.byte 3
		.byte 2
		.byte 4
		.byte 4
		.byte 5
		.byte 1
		.byte 0xF4
byte_47085:	.byte 0
		.byte 1
		.byte 0
		.byte 1
		.byte 1
		.byte 2
		.byte 2
		.byte 2
		.byte 3
		.byte 4
		.byte 4
		.byte 4
		.byte 0xF4
Pal_AIZMiniboss:.incbin "Levels/AIZ/Palettes/Miniboss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_AIZ_EndBoss:
		movew	#0x4880,%d0
		cmpw	(Camera_X_pos):w,%d0
		blss	loc_470BE
		rts
/*  --------------------------------------------------------------------------- */

loc_470BE:
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_max_X_pos):w
		movel	#Obj_Wait,(%a0)
		movew	#0x78,0x2E(%a0)
		movel	#Obj_AIZ_EndBossMusic,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		moveb	#1,(Boss_flag):w
		clrb	(_unkFAA3):w
		moveq	#0x6B,%d0
		jsr	(Load_PLC):l
		lea	(ArtKosM_AIZEndBoss):l,%a1
		movew	#0x3000,%d2
		jsr	(Queue_Kos_Module):l
		lea	Pal_AIZEndBoss(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

Obj_AIZ_EndBossMusic:
		movel	#Obj_AIZ_EndBossMain,(%a0)
		moveq	#mus_EndBoss,%d0
		jsr	(Play_Sound):l
		rts
/*  --------------------------------------------------------------------------- */

Obj_AIZ_EndBossMain:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	AIZ_EndBossIndex(%pc,%d0.w),%d1
		jsr	AIZ_EndBossIndex(%pc,%d1.w)
		btst	#6,0x38(%a0)
		bnew	locret_47246
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
AIZ_EndBossIndex:.word Obj_AIZ_EndBossInit-AIZ_EndBossIndex
		.word loc_471C2-AIZ_EndBossIndex
		.word loc_4720C-AIZ_EndBossIndex
		.word loc_47248-AIZ_EndBossIndex
		.word loc_472C2-AIZ_EndBossIndex
		.word loc_471C2-AIZ_EndBossIndex
		.word loc_47328-AIZ_EndBossIndex
		.word loc_47348-AIZ_EndBossIndex
/*  --------------------------------------------------------------------------- */

Obj_AIZ_EndBossInit:
		lea	ObjDat_AIZEndBoss(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#8,0x29(%a0)
		bset	#0,4(%a0)
		lea	(word_4640E):l,%a2
		jsr	(CreateChild1_Normal):l
		bnes	loc_47176
		moveb	#8,0x2C(%a1)

loc_47176:
		lea	ChildObjDat_47B6E(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_47180:
		moveb	#2,5(%a0)
		moveq	#sfx_WaterfallSplash,%d0
		jsr	(Play_Sound_2):l
		orib	#0x48,0x38(%a0)
		movel	#loc_471E2,0x34(%a0)
		clrb	0x28(%a0)
		bsrw	sub_47AEA
		bclr	#0,4(%a0)
		cmpiw	#8,0x26(%a0)
		bccs	loc_471B8
		bset	#0,4(%a0)

loc_471B8:
		lea	ChildObjDat_47B84(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_471C2:
		lea	byte_47BEE(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelay):l
		bclr	#6,0x38(%a0)
		cmpib	#0x2B,0x22(%a0)
		bnes	locret_471E0
		bset	#6,0x38(%a0)

locret_471E0:
		rts
/*  --------------------------------------------------------------------------- */

loc_471E2:
		moveb	#4,5(%a0)
		bclr	#6,0x38(%a0)
		bset	#7,0xA(%a0)
		moveb	#0x16,0x28(%a0)
		movel	#loc_4721A,0x34(%a0)
		lea	ChildObjDat_47B8C(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4720C:
		lea	byte_47C09(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelay):l
		braw	sub_47A20
/*  --------------------------------------------------------------------------- */

loc_4721A:
		moveb	#6,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4725E,0x34(%a0)
		movew	#0xC0,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#0x10,0x40(%a0)
		bclr	#0,0x38(%a0)

locret_47246:
		rts
/*  --------------------------------------------------------------------------- */

loc_47248:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jsr	(Obj_Wait):l
		braw	sub_47A20
/*  --------------------------------------------------------------------------- */

loc_4725E:
		bset	#1,0x38(%a0)
		btst	#7,0x38(%a0)
		bnes	loc_47282
		movew	#4,0x26(%a0)
		movew	#0x2F,0x2E(%a0)
		movel	#loc_472AE,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47282:
		movew	#0xBF,0x2E(%a0)
		movel	#loc_47292,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47292:
		moveb	#8,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_472CC,0x34(%a0)
		andib	#-0xB,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_472AE:
		st	(_unkFAA2):w
		movew	#0x8F,0x2E(%a0)
		movel	#loc_47292,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_472C2:
		bsrw	sub_47A20
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_472CC:
		moveb	#0xA,5(%a0)
		moveq	#sfx_WaterfallSplash,%d0
		jsr	(Play_Sound_2):l
		movel	#loc_472FC,0x34(%a0)
		clrb	0x28(%a0)
		bsrw	sub_47AEA
		lea	ChildObjDat_47B84(%pc),%a2
		jsr	(CreateChild1_Normal):l
		moveb	#2,0x2C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_472FC:
		moveb	#0xC,5(%a0)
		bset	#7,0x38(%a0)
		beqs	loc_47310
		moveb	#0xE,5(%a0)

loc_47310:
		movel	#loc_47354,0x34(%a0)
		bclr	#7,0xA(%a0)
		moveb	#0,0x22(%a0)
		braw	loc_478AC
/*  --------------------------------------------------------------------------- */

loc_47328:
		movew	(Camera_max_X_pos):w,%d0
		addqw	#2,%d0
		cmpiw	#0x49A0,%d0
		bccs	loc_47338
		movew	%d0,(Camera_max_X_pos):w

loc_47338:
		movew	(Camera_min_X_pos):w,%d0
		addqw	#2,%d0
		cmpiw	#0x48E0,%d0
		bccs	loc_47348
		movew	%d0,(Camera_min_X_pos):w

loc_47348:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_47354:
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		braw	loc_47180
/*  --------------------------------------------------------------------------- */

loc_47360:
		movel	#loc_47390,0x34(%a0)
		st	(_unkFAA3):w
		movel	#Obj_Wait,(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	ChildObjDat_47BBC(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_47390:
		movel	#loc_473C6,(%a0)

loc_47396:
		st	(_unkFAA8):w
		clrb	(Boss_flag):w
		jsr	(Obj_PlayLevelMusic):l
		lea	(PLC_EggCapsule):l,%a1
		jsr	(Load_PLC_Raw):l
		lea	ChildObjDat_47BE2(%pc),%a2
		jsr	(CreateChild6_Simple):l
		bset	#1,4(%a1)
		jmp	(PLCLoad_AnimalsAndExplosion):l
/*  --------------------------------------------------------------------------- */

loc_473C6:
		tstb	(_unkFAA8):w
		bnew	locret_47246
		movel	#loc_47402,(%a0)
		clrb	(_unkFAA8):w
		jsr	(Restore_PlayerControl):l
		lea	(Player_2):w,%a1
		jsr	(Restore_PlayerControl2):l
		clrw	(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		movew	#0x4A38,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_47402:
		moveb	#5,(Flying_picking_Sonic_timer):w
		lea	(Player_1):w,%a1
		cmpiw	#0x4AD8,0x10(%a1)
		bccs	loc_4741C
		movew	#0x808,(Ctrl_1_logical):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4741C:
		movel	#loc_4744A,(%a0)
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		lea	ChildObjDat_47BE8(%pc),%a2
		jsr	(CreateChild6_Simple):l
		moveb	#4,0x2C(%a1)
		lea	(PLC_Explosion):l,%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */

loc_4744A:
		moveb	#5,(Flying_picking_Sonic_timer):w
		tstb	(Ctrl_1_locked):w
		beqs	loc_4745E
		movew	#0x101,(Ctrl_1_logical):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4745E:
		movel	#loc_47466,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47466:
		moveb	#5,(Flying_picking_Sonic_timer):w
		cmpiw	#0x340,(Player_1+y_pos):w
		bccs	loc_47476
		rts
/*  --------------------------------------------------------------------------- */

loc_47476:
		movew	#0x100,%d0
		jsr	(StartNewLevel):l
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_47486:
		jsr	(Refresh_ChildPositionAdjusted):l
		bsrw	Child_SyncDraw
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_474B2(%pc,%d0.w),%d1
		jsr	off_474B2(%pc,%d1.w)
		btst	#6,0x38(%a0)
		bnew	locret_47246
		bsrw	sub_47AFA
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_474B2:	.word loc_474BE-off_474B2
		.word loc_474E6-off_474B2
		.word loc_47518-off_474B2
		.word loc_4752E-off_474B2
		.word loc_47546-off_474B2
		.word loc_47568-off_474B2
/*  --------------------------------------------------------------------------- */

loc_474BE:
		lea	word_47B36(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		moveq	#0,%d0
		tstb	0x2C(%a0)
		beqs	loc_474DC
		moveb	#0x2A,0x22(%a0)
		movew	#0x280,8(%a0)

loc_474DC:
		lea	ChildObjDat_47B7C(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_474E6:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_474F4
		rts
/*  --------------------------------------------------------------------------- */

loc_474F4:
		tstb	0x2C(%a0)
		bnes	loc_47510
		moveb	#4,5(%a0)
		movew	#4,0x2E(%a0)
		movel	#loc_4751E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47510:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47518:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4751E:
		moveb	#6,5(%a0)
		movel	#loc_4753E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4752E:
		bclr	#6,0x38(%a0)
		lea	byte_47C14(%pc),%a1
		jmp	(Animate_RawNoSSTMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_4753E:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47546:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_47554
		rts
/*  --------------------------------------------------------------------------- */

loc_47554:
		moveb	#0xA,5(%a0)
		bset	#1,0x38(%a0)
		movew	0x26(%a1),0x26(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47568:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_47576
		rts
/*  --------------------------------------------------------------------------- */

loc_47576:
		moveb	#2,5(%a0)
		bclr	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47584:
		movel	#Obj_FlickerMove,(%a0)
		moveb	#1,0x22(%a0)
		clrb	0x28(%a0)
		moveq	#0xC,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */

loc_4759C:
		bsrw	Child_SyncDraw
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_475C4(%pc,%d0.w),%d1
		jsr	off_475C4(%pc,%d1.w)
		jsr	(Refresh_ChildPositionAdjusted):l
		btst	#6,0x38(%a0)
		bnew	locret_47246
		jmp	(Child_Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_475C4:	.word loc_475CC-off_475C4
		.word loc_475D8-off_475C4
		.word loc_47618-off_475C4
		.word loc_47664-off_475C4
/*  --------------------------------------------------------------------------- */

loc_475CC:
		lea	word_47B3C(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		rts
/*  --------------------------------------------------------------------------- */

loc_475D8:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_475E6
		rts
/*  --------------------------------------------------------------------------- */

loc_475E6:
		moveb	#4,5(%a0)
		moveb	#1,0x23(%a0)
		bset	#1,0x38(%a0)
		movel	#loc_47636,0x34(%a0)
		movew	0x26(%a1),0x26(%a0)
		clrw	0x2E(%a0)
		tstb	0x2C(%a1)
		beqs	locret_47616
		movew	#0x4F,0x2E(%a0)

locret_47616:
		rts
/*  --------------------------------------------------------------------------- */

loc_47618:
		subqw	#1,0x2E(%a0)
		bpls	locret_47634
		movew	#3,0x2E(%a0)
		bsrw	sub_47916
		subqb	#1,0x23(%a0)
		bpls	locret_47634
		moveal	0x34(%a0),%a1
		jsr	(%a1)

locret_47634:
		rts
/*  --------------------------------------------------------------------------- */

loc_47636:
		moveb	#6,5(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_4766A,0x34(%a0)
		braw	loc_4799C
/*  --------------------------------------------------------------------------- */

loc_47658:
		moveb	#2,5(%a0)
		clrb	0x39(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47664:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4766A:
		moveb	#4,5(%a0)
		moveb	#1,0x23(%a0)
		bclr	#1,0x38(%a0)
		clrw	0x2E(%a0)
		movel	#loc_47658,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4768A:
		lea	word_47B42(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_476E4,(%a0)
		bset	#4,0x2B(%a0)
		movel	#loc_47702,0x34(%a0)
		moveaw	0x46(%a0),%a1
		moveaw	0x46(%a1),%a2
		moveaw	0x46(%a2),%a2
		movew	%a2,0x44(%a0)
		movew	0x26(%a1),%d0
		movew	%d0,0x26(%a0)
		movel	off_476D4(%pc,%d0.w),0x30(%a0)
		cmpiw	#8,%d0
		bccs	locret_476D2
		bset	#0,4(%a0)

locret_476D2:
		rts
/*  --------------------------------------------------------------------------- */
off_476D4:	.long word_47C1F
		.long word_47C49
		.long word_47C49
		.long word_47C1F
/*  --------------------------------------------------------------------------- */

loc_476E4:
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4770C
		jsr	(Refresh_ChildPosition):l
		jsr	(Animate_Raw):l
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_47702:
		lea	ChildObjDat_47BAC(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_4770C:
		bset	#6,0x38(%a0)
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_47718:
		lea	word_47B48(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		bset	#4,0x2B(%a0)
		moveq	#sfx_Projectile,%d0
		jsr	(Play_Sound_2):l
		moveb	#0xC,0x1E(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_4774E,(%a0)
		movel	#loc_4778C,0x34(%a0)
		braw	loc_479B8
/*  --------------------------------------------------------------------------- */

loc_4774E:
		tstw	0x18(%a0)
		beqs	loc_4775A
		jsr	(ObjHitFloor_DoRoutine):l

loc_4775A:
		jsr	(Animate_Raw):l
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bmis	loc_47786
		moveb	(V_int_run_count+3):w,%d0
		andib	#3,%d0
		bnes	loc_47780
		lea	ChildObjDat_47BB4(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_47780:
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_47786:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4778C:
		movel	#loc_4775A,(%a0)
		movel	#byte_47C7F,0x30(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_477A0:
		lea	word_47B4E(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_477D0,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		movel	#byte_47C85,0x30(%a0)
		tstw	0x18(%a0)
		bnes	locret_477CE
		movel	#byte_47C8E,0x30(%a0)

locret_477CE:
		rts
/*  --------------------------------------------------------------------------- */

loc_477D0:
		jsr	(Animate_RawMultiDelay):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_477DC:
		lea	ObjDat_AIZEndBoss2(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_477F6,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_477F6:
		lea	byte_47C97(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelay):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_47806:
		lea	word_47B54(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#loc_47830,(%a0)
		tstb	0x2C(%a0)
		bnes	loc_47826
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47826:
		movel	#loc_4784A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47830:
		lea	byte_47CA0(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelayFlipX):l
		cmpib	#0x2B,0x22(%a0)
		beqw	locret_47246
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4784A:
		movel	#loc_47860,(%a0)
		movew	#0x800,0x1A(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47860:
		jsr	(MoveSprite2):l
		lea	byte_47CBB(%pc),%a1
		jsr	(Animate_RawNoSSTMultiDelayFlipX):l
		cmpib	#0x2B,0x22(%a0)
		beqw	locret_47246
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_47880:
		lea	word_47B68(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#Obj_FlickerMove,(%a0)
		moveb	0x2C(%a0),%d0
		lsrb	#1,%d0
		addib	#0x32,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0,%d0
		jsr	(Set_IndexedVelocity):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_478AC:
		jsr	(Random_Number):l
		andiw	#0xC,%d0
		movew	0x26(%a0),%d1
		movew	%d0,0x26(%a0)
		cmpw	%d1,%d0
		beqs	loc_478AC
		lea	word_47906(%pc,%d0.w),%a1
		moveq	#0,%d2
		movew	(%a1)+,%d2
		swap	%d2
		subl	0x10(%a0),%d2
		addl	%d2,%d2
		swap	%d2
		movew	%d2,0x18(%a0)
		moveq	#0,%d3
		movew	(%a1)+,%d3
		swap	%d3
		subl	0x14(%a0),%d3
		addl	%d3,%d3
		swap	%d3
		movew	%d3,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		tstw	%d2
		beqs	locret_47904
		bclr	#0,4(%a0)
		tstw	%d2
		bmis	locret_47904
		bset	#0,4(%a0)

locret_47904:
		rts
/*  --------------------------------------------------------------------------- */
word_47906:	.word  0x4938,  0x1D0
		.word  0x4980,  0x1A0
		.word  0x4A40,  0x1A0
		.word  0x4A88,  0x1D0

/*  =============== S U B R O U T I N E ======================================= */


sub_47916:
		movew	0x26(%a0),%d0
		moveq	#0,%d1
		eoriw	#0xC,%d0
		beqs	loc_4792C
		cmpiw	#0xC,%d0
		beqs	loc_4792C
		addiw	#0x10,%d1

loc_4792C:
		moveq	#0,%d2
		moveb	0x39(%a0),%d2
		addw	%d2,%d1
		lea	byte_4794C(%pc,%d1.w),%a1
		moveb	(%a1)+,0x42(%a0)
		moveb	(%a1)+,0x43(%a0)
		moveb	(%a1)+,0x22(%a0)
		addqb	#4,%d2
		moveb	%d2,0x39(%a0)
		rts
/*  End of function sub_47916 */

/*  --------------------------------------------------------------------------- */
byte_4794C:	.byte  0xE8,   8,   5,   0
		.byte  0xE8,   8,   5,   0
		.byte  0xE4,   0,   4,   0
		.byte  0xE4,   0,   4,   0
		.byte  0xE8,   8,   5,   0
		.byte  0xF0, 0x10,   6,   0
		.byte  0xE8,   8,   5,   0
		.byte  0xE4,   0,   4,   0

/*  =============== S U B R O U T I N E ======================================= */


Child_SyncDraw:
		moveaw	0x46(%a0),%a1
		btst	#6,0x38(%a1)
		bnes	loc_47994
		bclr	#6,0x38(%a0)
		bset	#7,0xA(%a0)
		btst	#7,0xA(%a1)
		bnes	locret_47992
		bclr	#7,0xA(%a0)

locret_47992:
		rts
/*  --------------------------------------------------------------------------- */

loc_47994:
		bset	#6,0x38(%a0)
		rts
/*  End of function Child_SyncDraw */

/*  --------------------------------------------------------------------------- */

loc_4799C:
		movew	0x26(%a0),%d0
		lsrw	#1,%d0
		movew	off_479B0(%pc,%d0.w),%d0
		lea	off_479B0(%pc,%d0.w),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */
off_479B0:	.word ChildObjDat_47B94-off_479B0
		.word ChildObjDat_47B9C-off_479B0
		.word ChildObjDat_47B9C-off_479B0
		.word ChildObjDat_47BA4-off_479B0
/*  --------------------------------------------------------------------------- */

loc_479B8:
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),%d0
		cmpiw	#8,%d0
		bccs	loc_479CC
		bset	#0,4(%a0)

loc_479CC:
		movel	off_479F0(%pc,%d0.w),0x30(%a0)
		lea	word_47A00(%pc,%d0.w),%a1
		movew	(%a1)+,%d1
		addw	%d1,0x10(%a0)
		movew	(%a1)+,%d1
		addw	%d1,0x14(%a0)
		lea	word_47A10(%pc,%d0.w),%a1
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_479F0:	.long byte_47C73
		.long byte_47C79
		.long byte_47C79
		.long byte_47C73
word_47A00:	.word    0x14,   0x14
		.word      0,   0x18
		.word      0,   0x18
		.word  0xFFEC,   0x14
word_47A10:	.word   0x300,  0x300
		.word      0,  0x400
		.word      0,  0x400
		.word  0xFD00,  0x300

/*  =============== S U B R O U T I N E ======================================= */


sub_47A20:
		tstb	0x28(%a0)
		bnes	locret_47A72
		tstb	0x29(%a0)
		beqs	loc_47A74
		tstb	0x20(%a0)
		bnes	loc_47A40
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_47A40:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_47A54
		addiw	#0xE,%d0

loc_47A54:
		bsrw	sub_47A9A
		subqb	#1,0x20(%a0)
		bnes	locret_47A72
		bclr	#6,0x2A(%a0)
		cmpib	#0,0x22(%a0)
		bnes	locret_47A72
		moveb	0x25(%a0),0x28(%a0)

locret_47A72:
		rts
/*  --------------------------------------------------------------------------- */

loc_47A74:
		movel	#Wait_Draw,(%a0)
		bclr	#6,0x38(%a0)
		bset	#7,0xA(%a0)
		moveb	#0,0x22(%a0)
		movel	#loc_47360,0x34(%a0)
		jmp	(BossDefeated_StopTimer):l
/*  End of function sub_47A20 */


/*  =============== S U B R O U T I N E ======================================= */


sub_47A9A:
		lea	word_47AC0(%pc),%a1
		lea	word_47ACE(%pc,%d0.w),%a2
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		rts
/*  End of function sub_47A9A */

/*  --------------------------------------------------------------------------- */
word_47AC0:	.word Normal_palette_line_2+0x08, Normal_palette_line_2+0x0E, Normal_palette_line_2+0x12
		.word Normal_palette_line_2+0x14, Normal_palette_line_2+0x16, Normal_palette_line_2+0x1A
		.word Normal_palette_line_2+0x1C
word_47ACE:	.word   0x222,     8,   0x4C,     6,   0x20,  0xA24,  0x622
		.word   0xAAA,  0xAAA,  0xAAA,  0xCCC,  0xEEE,  0x666,  0x888

/*  =============== S U B R O U T I N E ======================================= */


sub_47AEA:
		moveq	#0,%d0
		bsrs	sub_47A9A
		bclr	#6,0x2A(%a0)
		clrb	0x20(%a0)
		rts
/*  End of function sub_47AEA */


/*  =============== S U B R O U T I N E ======================================= */


sub_47AFA:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_47B08
		rts
/*  --------------------------------------------------------------------------- */

loc_47B08:
		movel	#Wait_Draw,(%a0)
		bset	#7,0x2A(%a0)
		moveb	#1,0x22(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_47584,0x34(%a0)
		rts
/*  End of function sub_47AFA */

/*  --------------------------------------------------------------------------- */
ObjDat_AIZEndBoss:.long Map_AIZEndBoss
		.word 0xA180
		.word 0x280
		.byte 0x28
		.byte 0x20
		.byte 0
		.byte 0x10
word_47B36:	.word 0x200
		.byte 0x24
		.byte 0x14
		.byte 1
		.byte 0
word_47B3C:	.word 0x180
		.byte 0xC
		.byte 0xC
		.byte 4
		.byte 0
word_47B42:	.word 0x100
		.byte 8
		.byte 4
		.byte 0xB
		.byte 0x97
word_47B48:	.word 0x100
		.byte 0x14
		.byte 0x18
		.byte 0xF
		.byte 0x9A
word_47B4E:	.word 0x100
		.byte 8
		.byte 8
		.byte 0x18
		.byte 0
word_47B54:	.word 0x8180
		.word 0x100
		.byte 0x30
		.byte 0x30
		.byte 0x24
		.byte 0
ObjDat_AIZEndBoss2:.long	Map_AIZEndBoss
		.word 0x8180
		.word 0x100
		.byte 0x18
		.byte 0x10
		.byte 0x21
		.byte 0
word_47B68:	.word 0x180
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
ChildObjDat_47B6E:.word 1
		.long loc_47486
		.word 0x14FC
		.long loc_47486
		.word 0xECFC
ChildObjDat_47B7C:.word 0
		.long loc_4759C
		.word 0xE400
ChildObjDat_47B84:.word 0
		.long loc_47806
		.word 0
ChildObjDat_47B8C:.word 0
		.long loc_477DC
		.word 0xD0
ChildObjDat_47B94:.word 0
		.long loc_4768A
		.word 0x305
ChildObjDat_47B9C:.word 0
		.long loc_4768A
		.word 7
ChildObjDat_47BA4:.word 0
		.long loc_4768A
		.word 0xFD05
ChildObjDat_47BAC:.word 0
		.long loc_47718
		.word 0
ChildObjDat_47BB4:.word 0
		.long loc_477A0
		.word 0
ChildObjDat_47BBC:.word 5
		.long loc_47880
		.word 0xF0F0
		.long loc_47880
		.word 0x10F0
		.long loc_47880
		.word 0xF008
		.long loc_47880
		.word 0x1008
		.long loc_47880
		.word 0xF418
		.long loc_47880
		.word 0xC18
ChildObjDat_47BE2:.word 0
		.long Obj_81
ChildObjDat_47BE8:.word 0
		.long Obj_CutsceneKnuckles
byte_47BEE:	.byte  0x2B,   0
		.byte  0x2B,   0
		.byte  0x2B,   0
		.byte    0,   0
		.byte  0x2B,   0
		.byte  0x2B,   0
		.byte    0,   0
		.byte  0x2B,   0
		.byte  0x2B,   0
		.byte    0,   0
		.byte  0x2B,   0
		.byte  0x2B,   0
		.byte    0,   0
		.byte  0xF4
byte_47C09:	.byte  0x1B,   0
		.byte  0x1B,   4
		.byte  0x1C,   5
		.byte  0x1D,   6
		.byte    0,   0
		.byte  0xF4
byte_47C14:	.byte  0x1E,   0
		.byte  0x1E,   4
		.byte  0x1F,   5
		.byte  0x20,   6
		.byte    1,   0
		.byte  0xF4
word_47C1F:	.word 7
		.word 0x2B07
		.word 0x2B08
		.word 0x2B08
		.word 0x2B09
		.word 0x2B09
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2B0A
		.word 0x2BF4
word_47C49:	.word 0xB
		.word 0x2B0B
		.word 0x2B0C
		.word 0x2B0C
		.word 0x2B0D
		.word 0x2B0D
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2B0E
		.word 0x2BF4
byte_47C73:	.byte 1
		.byte 0x26
		.byte 0x27
		.byte 0x28
		.byte 0x29
		.byte 0xFC
byte_47C79:	.byte 1
		.byte 0x16
		.byte 0x17
		.byte 0x2F
		.byte 0x30
		.byte 0xFC
byte_47C7F:	.byte 1
		.byte 0x10
		.byte 0x11
		.byte 0x2D
		.byte 0x2E
		.byte 0xFC
byte_47C85:	.byte  0x12,   0
		.byte  0x12,   9
		.byte  0x13,   2
		.byte  0x14,   2
		.byte  0xF4
byte_47C8E:	.byte  0x18,   0
		.byte  0x18,   9
		.byte  0x19,   2
		.byte  0x1A,   2
		.byte  0xF4
byte_47C97:	.byte  0x21,   0
		.byte  0x21,   4
		.byte  0x22,   5
		.byte  0x23,   6
		.byte  0xF4
byte_47CA0:	.byte  0x2B,   0
		.byte  0x24,   0
		.byte  0x64,   0
		.byte  0x6B,   0
		.byte  0x2C,   0
		.byte  0x6C,   0
		.byte  0x6B,   0
		.byte  0x24,   0
		.byte  0x64,   0
		.byte  0x6B,   0
		.byte  0x2C,   0
		.byte  0x6C,   0
		.byte  0x6B,   0
		.byte  0xF4
byte_47CBB:	.byte  0x2B,   0
		.byte  0x24,   0
		.byte  0x64,   0
		.byte  0x6B,   0
		.byte  0x2C,   0
		.byte  0x6C,   0
		.byte  0x6B,   0
		.byte  0x31,   0
		.byte  0x71,   0
		.byte  0x6B,   0
		.byte  0x31,   0
		.byte  0x71,   0
		.byte  0x6B,   0
		.byte  0xF4
Pal_AIZEndBoss:	.incbin "Levels/AIZ/Palettes/End Boss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_HCZMiniboss:
		lea	word_47D28(%pc),%a1
		jsr	(Check_CameraInRange):l
		movel	#loc_47D30,(%a0)
		moveb	#1,(Boss_flag):w
		st	(Events_bg+0x16):w
		moveq	#0x5B,%d0
		jsr	(Load_PLC):l
		movew	#0x300,(Camera_min_Y_pos):w
		lea	ChildObjDat_48BB2(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */
word_47D28:	.word   0x300,  0x400, 0x3500, 0x3700
/*  --------------------------------------------------------------------------- */

loc_47D30:
		btst	#0,0x38(%a0)
		bnes	loc_47D54
		movew	#0x638,%d0
		cmpw	(Camera_Y_pos):w,%d0
		bhis	loc_47D54
		bset	#0,0x38(%a0)
		movew	%d0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_max_Y_pos):w
		movew	%d0,(Camera_target_max_Y_pos):w

loc_47D54:
		btst	#1,0x38(%a0)
		movew	#0x3680,%d0
		movew	(Camera_X_pos):w,%d1
		movew	%d1,(Camera_min_X_pos):w
		cmpw	%d1,%d0
		bhis	loc_47D78
		bset	#1,0x38(%a0)
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_max_X_pos):w

loc_47D78:
		cmpib	#3,0x38(%a0)
		beqs	loc_47D82
		rts
/*  --------------------------------------------------------------------------- */

loc_47D82:
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	0x14(%a0),0x44(%a0)
		movel	#Obj_Wait,(%a0)
		movew	#0x78,0x2E(%a0)
		movel	#loc_47DBA,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		bset	#3,0x38(%a0)
		lea	Pal_HCZMiniboss(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

loc_47DBA:
		movel	#Obj_HCZ_MinibossLoop,(%a0)
		moveq	#mus_EndBoss,%d0
		jsr	(Play_Sound):l

locret_47DC8:
		rts
/*  --------------------------------------------------------------------------- */

Obj_HCZ_MinibossLoop:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_47DE2(%pc,%d0.w),%d1
		jsr	off_47DE2(%pc,%d1.w)
		bsrw	sub_48A8C
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_47DE2:	.word loc_47DFA-off_47DE2
		.word loc_47E34-off_47DE2
		.word loc_47E5A-off_47DE2
		.word loc_47E34-off_47DE2
		.word loc_47E5A-off_47DE2
		.word loc_47EC6-off_47DE2
		.word loc_47F12-off_47DE2
		.word loc_47F48-off_47DE2
		.word loc_47F60-off_47DE2
		.word loc_47FAA-off_47DE2
		.word loc_47E5A-off_47DE2
		.word loc_48066-off_47DE2
/*  --------------------------------------------------------------------------- */

loc_47DFA:
		lea	ObjDat3_48B34(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#6,0x29(%a0)
		moveb	#0x28,0x1E(%a0)
		bset	#3,0x38(%a0)
		movew	#0x100,0x1A(%a0)
		movew	#0xDF,0x2E(%a0)
		movel	#loc_47E40,0x34(%a0)
		lea	Child1_HCZMiniboss_RocketsEngine(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_47E34:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_47E40:
		moveb	#4,5(%a0)
		clrw	0x1A(%a0)
		movew	#0x3B,0x2E(%a0)
		movel	#loc_47E60,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47E5A:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_47E60:
		moveb	#6,5(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x37,0x2E(%a0)
		movel	#loc_47E7C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47E7C:
		moveb	#8,5(%a0)
		movew	#0x3B,0x2E(%a0)
		movel	#loc_47E92,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47E92:
		bsrw	sub_48916

loc_47E96:
		moveb	#0xA,5(%a0)
		moveq	#sfx_Roll,%d0
		jsr	(Play_Sound_2):l
		bset	#6,0x38(%a0)
		bclr	#7,0x38(%a0)
		movew	#0x400,0x1A(%a0)
		movew	#0x47,0x2E(%a0)
		movel	#loc_47EE8,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47EC6:
		btst	#7,0x38(%a0)
		bnes	loc_47EDC
		movew	0x14(%a0),%d0
		cmpw	(Water_level):w,%d0
		bcss	loc_47EDC
		bsrw	sub_488FA

loc_47EDC:
		jsr	(MoveSprite2):l
		jmp	(ObjHitFloor_DoRoutine):l
/*  --------------------------------------------------------------------------- */

loc_47EE8:
		moveb	#0xC,5(%a0)
		movew	0x40(%a0),0x18(%a0)
		negw	0x40(%a0)
		clrw	0x1A(%a0)
		movew	#0x2F,0x2E(%a0)
		movel	#loc_47F28,0x34(%a0)
		bclr	#7,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47F12:
		jsr	(MoveSprite2):l
		jsr	(ObjCheckFloorDist):l
		addw	%d1,0x14(%a0)
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_47F28:
		movew	#-0x400,0x1A(%a0)
		clrw	0x18(%a0)
		subqb	#1,0x39(%a0)
		bmis	loc_47F40
		moveb	#0xE,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47F40:
		moveb	#0x10,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47F48:
		bsrw	sub_488E4
		jsr	(MoveSprite2):l
		movew	0x14(%a0),%d0
		cmpw	0x44(%a0),%d0
		blsw	loc_47E96
		rts
/*  --------------------------------------------------------------------------- */

loc_47F60:
		bsrw	sub_488E4
		jsr	(MoveSprite2):l
		movew	0x44(%a0),%d0
		addiw	#0x108,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_47F7A
		rts
/*  --------------------------------------------------------------------------- */

loc_47F7A:
		moveb	#0x12,5(%a0)
		bclr	#7,0x38(%a0)
		movew	%d0,0x14(%a0)
		movew	#0x180,%d0
		tstw	0x40(%a0)
		bpls	loc_47F96
		negw	%d0

loc_47F96:
		movew	%d0,0x18(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_47FBC,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47FAA:
		addiw	#0x20,0x1A(%a0)
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_47FBC:
		moveb	#0x14,5(%a0)
		moveq	#sfx_DoorClose,%d0
		jsr	(Play_Sound_2):l
		bclr	#3,0x38(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_47FE4,0x34(%a0)
		clrw	0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47FE4:
		bset	#2,0x38(%a0)
		movew	#0x17F,0x2E(%a0)
		movel	#loc_47FFA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_47FFA:
		bclr	#2,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_48010,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48010:
		bset	#3,0x38(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_48010,0x34(%a0)
		movel	#loc_4802E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4802E:
		moveb	#2,5(%a0)
		movew	#-0x20,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4804A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4804A:
		moveb	#0x16,5(%a0)
		bclr	#6,0x38(%a0)
		movew	#-0x400,0x1A(%a0)
		moveq	#sfx_LavaBall,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_48066:
		jsr	(MoveSprite2):l
		movew	0x14(%a0),%d0
		cmpw	0x44(%a0),%d0
		blsw	loc_47E92
		rts
/*  --------------------------------------------------------------------------- */

loc_4807A:
		st	(_unkFAA2):w
		jsr	(Obj_EndSignControl):l
		jsr	(Create_New_Sprite):l
		bnes	loc_48092
		movel	#loc_4809C,(%a1)

loc_48092:
		lea	ChildObjDat_48BEE(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4809C:
		tstb	(_unkFAA8):w
		bnew	locret_47DC8
		movel	#loc_480C0,(%a0)
		clrw	(Ctrl_1_logical):w
		clrw	(Ctrl_2_logical):w
		st	(Ctrl_1_locked):w
		st	(Ctrl_2_locked):w
		moveb	#-0x80,(Player_1+object_control):w

loc_480C0:
		tstb	(End_of_level_flag):w
		beqw	locret_47DC8
		movel	#loc_480F0,(%a0)
		lea	ChildObjDat_48BE8(%pc),%a2
		tstb	(Player_mode+1):w
		beqs	loc_480DC
		lea	word_48BE2(%pc),%a2

loc_480DC:
		jsr	(CreateChild6_Simple):l
		movew	#0x2F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)

loc_480F0:
		btst	#0,0x38(%a0)
		beqw	locret_47DC8
		lea	ChildObjDat_48BDC(%pc),%a2
		jsr	(CreateChild6_Simple):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

Obj_HCZMiniboss_Rockets:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_48120(%pc,%d0.w),%d1
		jsr	off_48120(%pc,%d1.w)
		moveq	#0x20,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */
off_48120:	.word loc_4812E-off_48120
		.word loc_48148-off_48120
		.word loc_4819C-off_48120
		.word loc_481BC-off_48120
		.word loc_481CA-off_48120
		.word loc_48254-off_48120
		.word loc_4826E-off_48120
/*  --------------------------------------------------------------------------- */

loc_4812E:
		lea	ObjDat3_48B40(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		bset	#6,0x38(%a0)
		lea	ChildObjDat_48BBA(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_48148:
		clrb	0x28(%a0)
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqw	locret_47DC8
		moveb	#4,5(%a0)
		moveb	#1,0x40(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_481A6,0x34(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_48194(%pc,%d0.w),0x3C(%a0)
		cmpib	#4,%d0
		bcss	locret_48192
		bset	#0,4(%a0)
		moveb	#6,5(%a0)

locret_48192:
		rts
/*  --------------------------------------------------------------------------- */
word_48194:	.word 0
		.word 0x8080
		.word 0x8000
		.word 0x80
/*  --------------------------------------------------------------------------- */

loc_4819C:
		bsrw	sub_4895E
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_481A6:
		moveb	#8,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_481D4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_481BC:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_481C2:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_481CA:
		bsrw	sub_4895E
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_481D4:
		moveb	#2,0x40(%a0)
		moveb	#-0x75,0x28(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_481F0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_481F0:
		moveb	#0xA,5(%a0)
		moveb	#4,0x40(%a0)
		movel	#loc_48266,0x34(%a0)
		bclr	#6,0x38(%a0)
		moveq	#sfx_LevelProjectile,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_48214:
		moveb	#2,0x40(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4822A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4822A:
		moveb	#6,5(%a0)
		cmpib	#4,0x2C(%a0)
		bcss	loc_4823E
		moveb	#4,5(%a0)

loc_4823E:
		moveb	#1,0x40(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_481C2,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48254:
		bsrw	sub_4895E
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnew	locret_47DC8

loc_48266:
		moveb	#0xC,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4826E:
		bsrw	sub_4895E
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrb	#1,%d0
		moveb	byte_482AC(%pc,%d0.w),%d1
		cmpb	0x3C(%a0),%d1
		beqs	loc_48286
		rts
/*  --------------------------------------------------------------------------- */

loc_48286:
		moveb	#8,5(%a0)
		clrb	0x28(%a0)
		moveb	#2,0x40(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_48214,0x34(%a0)
		bset	#6,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */
byte_482AC:	.byte  0x80,   0, 0xC0, 0x40
/*  --------------------------------------------------------------------------- */

loc_482B0:
		lea	word_48B4C(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#loc_482C2,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_482C2:
		bsrw	sub_489EC

loc_482C6:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_482EC
		btst	#6,0x38(%a1)
		bnew	locret_47DC8
		btst	#0,(V_int_run_count+3):w
		bnew	locret_47DC8
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_482EC:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_HCZMiniboss_Engine:
		lea	word_48B54(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#loc_48304,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48304:
		jsr	(Refresh_ChildPosition):l
		bras	loc_482C6
/*  --------------------------------------------------------------------------- */

loc_4830C:
		lea	ObjDat4_48B74(%pc),%a1
		jsr	(SetUp_ObjAttributesSlotted):l
		movew	(Water_level):w,0x14(%a0)
		movel	#Obj_Wait,(%a0)
		tstb	0x2C(%a0)
		beqs	loc_4832E
		movew	#7,0x2E(%a0)

loc_4832E:
		movel	#loc_48338,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48338:
		movel	#loc_48348,(%a0)
		movel	#Go_Delete_SpriteSlotted3,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48348:
		lea	byte_48C7F(%pc),%a1
		jsr	(Animate_RawNoSST):l
		lea	DPLCPtr_48C28(%pc),%a2
		jsr	(Perform_DPLC):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_48362:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4837A(%pc,%d0.w),%d1
		jsr	off_4837A(%pc,%d1.w)
		bsrw	sub_487A4
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4837A:	.word loc_48386-off_4837A
		.word loc_483A0-off_4837A
		.word loc_483C0-off_4837A
		.word loc_483F6-off_4837A
		.word loc_4841C-off_4837A
		.word loc_4845C-off_4837A
/*  --------------------------------------------------------------------------- */

loc_48386:
		lea	ObjDat3_48B5C(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		addiw	#0x148,0x14(%a0)
		clrw	0x42(%a0)
		clrw	0x44(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_483A0:
		tstb	4(%a0)
		bplw	locret_47DC8
		moveb	#4,5(%a0)
		lea	Pal_HCZMinibossWater(%pc),%a1
		lea	(Water_palette_line_2):w,%a2
		moveq	#7,%d0

loc_483B8:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_483B8
		rts
/*  --------------------------------------------------------------------------- */

loc_483C0:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqw	locret_47DC8
		moveb	#6,5(%a0)
		movel	#byte_48C30,0x30(%a0)
		movel	#loc_48400,0x34(%a0)
		moveq	#sfx_FanBig,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_48BD6(%pc),%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_483F6:
		lea	byte_48C30(%pc),%a1
		jmp	(Animate_RawNoSSTMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_48400:
		moveb	#8,5(%a0)
		movel	#byte_48C30,0x30(%a0)
		movel	#loc_48466,0x34(%a0)
		clrb	0x29(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4841C:
		bsrw	sub_487FC
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_4843E
		moveq	#sfx_BossRotate,%d0
		jsr	(sub_542A6):l
		lea	byte_48C55(%pc),%a1
		jmp	(Animate_RawNoSST):l
/*  --------------------------------------------------------------------------- */

loc_4843E:
		moveb	#0xA,5(%a0)
		bset	#3,0x38(%a0)
		movel	#loc_48466,0x34(%a0)
		bsrw	loc_487CA
		jmp	(Animate_RawMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_4845C:
		lea	byte_48C5A(%pc),%a1
		jmp	(Animate_RawNoSSTMultiDelay):l
/*  --------------------------------------------------------------------------- */

loc_48466:
		moveb	#4,5(%a0)
		moveb	#0x16,0x22(%a0)
		bclr	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4847A:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		beqs	loc_4849A
		lea	ChildObjDat_48C08(%pc),%a2
		jsr	(CreateChild1_Normal):l
		bsrw	loc_487CA
		jsr	(Go_Delete_Sprite_2):l

loc_4849A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_484A0:
		lea	ObjDat3_48B68(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_484FC,(%a0)
		jsr	(Random_Number):l
		andiw	#0xFF,%d0
		extw	%d0
		addw	%d0,0x10(%a0)
		swap	%d0
		andiw	#0x3F,%d0
		subqw	#8,%d0
		addw	%d0,0x14(%a0)
		andiw	#3,%d0
		moveb	%d0,0x22(%a0)
		lslw	#2,%d0
		movel	off_484EC(%pc,%d0.w),0x30(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_48516,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_484EC:	.long word_48C8A
		.long word_48C8E
		.long word_48C92
		.long word_48C96
/*  --------------------------------------------------------------------------- */

loc_484FC:
		moveaw	0x46(%a0),%a3
		bsrw	sub_487EE
		jsr	(Animate_Raw):l
		jsr	(Obj_Wait):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_48516:
		movel	#loc_48528,(%a0)
		moveal	0x30(%a0),%a1
		moveb	1(%a1),0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48528:
		moveaw	0x46(%a0),%a3
		btst	#3,0x38(%a3)
		bnes	loc_4853E
		bsrw	sub_487EE
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_4853E:
		movel	#loc_484FC,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48554:
		lea	ObjDat3_48B68(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_485E0,(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0xA0,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x3A(%a0)
		movew	(Water_level):w,%d0
		addqw	#8,%d0
		movew	%d0,0x14(%a0)
		jsr	(Random_Number):l
		andiw	#0xFF,%d0
		movew	%d0,%d1
		extw	%d0
		bpls	loc_48592
		st	0x3C(%a0)

loc_48592:
		addw	%d0,0x10(%a0)
		bsrw	sub_48784
		lslw	#4,%d0
		movew	%d0,0x18(%a0)
		andib	#1,%d1
		moveb	%d1,0x23(%a0)
		swap	%d0
		andiw	#0x1F,%d0
		addw	%d0,0x14(%a0)
		andiw	#3,%d0
		moveb	%d0,0x22(%a0)
		lslw	#2,%d0
		lea	off_484EC(%pc),%a1
		movel	(%a1,%d0.w),0x30(%a0)
		movew	#0x200,0x1A(%a0)
		movew	#0xBF,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_485E0:
		tstb	4(%a0)
		bpls	loc_48602
		bsrw	sub_4875A
		jsr	(MoveSprite2):l
		jsr	(Animate_Raw):l
		jsr	(Obj_Wait):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_48602:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_48608:
		lea	(Player_1):w,%a1
		btst	#6,0x2A(%a1)
		beqw	locret_47DC8
		movel	#loc_486B6,(%a0)
		clrb	(_unkFAA2):w
		moveaw	0x46(%a0),%a1
		bset	#0,0x38(%a1)
		moveb	#4,4(%a0)
		lea	(Player_1):w,%a1
		lea	(Ctrl_1_locked):w,%a2
		tstb	0x2C(%a0)
		beqs	loc_48650
		lea	(Player_2):w,%a1
		lea	(Ctrl_2_locked):w,%a2
		btst	#6,0x2A(%a1)
		beqw	loc_486B0

loc_48650:
		clrb	(%a2)
		tstl	(%a1)
		beqs	loc_486B0
		movew	%a1,0x44(%a0)
		bclr	#7,0xA(%a0)
		movew	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		movew	(Camera_X_pos):w,%d1
		addiw	#0xA0,%d1
		movew	%d1,0x3A(%a0)
		subw	%d1,%d0
		bpls	loc_48682
		st	0x3C(%a0)

loc_48682:
		bsrw	sub_48784
		movew	#0x200,0x1A(%a0)
		bset	#1,0x2A(%a1)
		moveb	#1,0x2E(%a1)
		moveb	#0xF,0x20(%a1)
		clrb	0x3D(%a1)
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_486B0:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_486B6:
		bsrw	sub_4875A
		jsr	(MoveSprite2):l
		moveaw	0x44(%a0),%a1
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),%d0
		movew	%d0,0x14(%a1)
		cmpiw	#0x828,%d0
		bccs	loc_486DA
		rts
/*  --------------------------------------------------------------------------- */

loc_486DA:
		tstb	0x2C(%a0)
		beqs	loc_486F2
		lea	(Player_2):w,%a1
		tstl	(%a1)
		beqs	loc_48704
		jsr	(Restore_PlayerControl2):l
		braw	loc_48704
/*  --------------------------------------------------------------------------- */

loc_486F2:
		jsr	(Restore_PlayerControl):l
		movew	#0,(Target_camera_min_Y_pos):w
		jsr	(Make_LevelSizeObj):l

loc_48704:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4870A:
		lea	byte_48B86(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0x1B,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0x20,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */

loc_48732:
		lea	byte_48B8C(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#MoveChkDel,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0x1F,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0x1C,%d0
		jmp	(Set_IndexedVelocity):l

/*  =============== S U B R O U T I N E ======================================= */


sub_4875A:
		movew	0x10(%a0),%d0
		movew	0x18(%a0),%d1
		movew	#0x100,%d2
		cmpw	0x3A(%a0),%d0
		scs	%d3
		bcss	loc_48770
		negw	%d2

loc_48770:
		addw	%d2,%d1
		cmpb	0x3C(%a0),%d3
		beqs	loc_4877E
		moveb	%d3,0x3C(%a0)
		addw	%d2,%d1

loc_4877E:
		movew	%d1,0x18(%a0)
		rts
/*  End of function sub_4875A */


/*  =============== S U B R O U T I N E ======================================= */


sub_48784:
		addw	%d0,%d0
		smi	%d2
		bpls	loc_4878C
		negw	%d0

loc_4878C:
		movew	#0x100,%d3
		subw	%d0,%d3
		bpls	loc_48796
		moveq	#0,%d3

loc_48796:
		lslw	#4,%d3
		tstb	%d2
		beqs	loc_4879E
		negw	%d3

loc_4879E:
		movew	%d3,0x18(%a0)
		rts
/*  End of function sub_48784 */


/*  =============== S U B R O U T I N E ======================================= */


sub_487A4:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqw	locret_47DC8
		movel	#loc_4847A,(%a0)
		clrb	0x28(%a0)
		bclr	#3,0x38(%a0)
		beqw	locret_47DC8
		braw	loc_487CA
/*  --------------------------------------------------------------------------- */

loc_487CA:
		movew	0x42(%a0),%d0
		beqs	loc_487D4
		bsrw	sub_487DA

loc_487D4:
		movew	0x44(%a0),%d0
		beqs	locret_487EC
/*  End of function sub_487A4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_487DA:
		moveaw	%d0,%a2
		bset	#1,0x2A(%a2)
		clrb	0x2E(%a2)
		movew	#0x100,8(%a2)

locret_487EC:
		rts
/*  End of function sub_487DA */


/*  =============== S U B R O U T I N E ======================================= */


sub_487EE:
		moveal	%a0,%a1
		moveal	%a0,%a2
		moveal	%a3,%a0
		bsrw	sub_48874
		moveal	%a1,%a0
		rts
/*  End of function sub_487EE */


/*  =============== S U B R O U T I N E ======================================= */


sub_487FC:
		clrl	0x42(%a0)
		movew	0x14(%a0),%d0
		subiw	#0x20,%d0
		lea	(Player_1):w,%a2
		cmpw	0x14(%a2),%d0
		bhis	loc_48824
		movew	%a2,0x42(%a0)
		bsrw	sub_48874
		tstb	0x2E(%a2)
		bnes	loc_48824
		bsrw	sub_48844

loc_48824:
		lea	(Player_2):w,%a2
		cmpw	0x14(%a2),%d0
		bhis	locret_48866
		cmpib	#6,5(%a2)
		bccs	locret_48866
		movew	%a2,0x44(%a0)
		bsrw	sub_48874
		tstb	0x2E(%a2)
		bnes	locret_48866
/*  End of function sub_487FC */


/*  =============== S U B R O U T I N E ======================================= */


sub_48844:
		bset	#1,0x2A(%a2)
		moveb	#1,0x2E(%a2)
		moveb	#0xF,0x20(%a2)
		clrb	0x3D(%a2)
		clrw	0x18(%a2)
		clrw	0x1A(%a2)
		clrw	0x1C(%a2)

locret_48866:
		rts
/*  End of function sub_48844 */

/*  --------------------------------------------------------------------------- */
		.word Player_1
		.word 0
		.word Player_2
		.word 0
		.word Player_1
		.word Player_2

/*  =============== S U B R O U T I N E ======================================= */


sub_48874:
		movew	0x10(%a2),%d0
		movew	0x18(%a2),%d1
		movew	#0x40,%d2
		subw	0x10(%a0),%d0
		scs	%d3
		bccs	loc_4888A
		negw	%d0

loc_4888A:
		cmpiw	#3,%d0
		bhis	loc_48898
		tstw	%d1
		bpls	loc_488A6
		braw	loc_488A4
/*  --------------------------------------------------------------------------- */

loc_48898:
		cmpiw	#0x70,%d0
		blss	loc_488A0
		moveq	#0,%d1

loc_488A0:
		tstb	%d3
		bnes	loc_488A6

loc_488A4:
		negw	%d2

loc_488A6:
		addw	%d2,%d1
		movew	#0x100,8(%a2)
		movew	%d1,0x18(%a2)
		bpls	loc_488BA
		movew	#0x300,8(%a2)

loc_488BA:
		extl	%d1
		lsll	#8,%d1
		addl	%d1,0x10(%a2)
		movel	#0x8000,%d4
		movew	0x14(%a2),%d5
		subw	0x14(%a0),%d5
		cmpiw	#-0x10,%d5
		blts	loc_488DE
		cmpiw	#0x10,%d5
		bles	locret_488E2
		negl	%d4

loc_488DE:
		addl	%d4,0x14(%a2)

locret_488E2:
		rts
/*  End of function sub_48874 */


/*  =============== S U B R O U T I N E ======================================= */


sub_488E4:
		btst	#7,0x38(%a0)
		bnew	locret_47DC8
		movew	0x14(%a0),%d0
		cmpw	(Water_level):w,%d0
		bcsw	locret_47DC8
/*  End of function sub_488E4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_488FA:
		bset	#7,0x38(%a0)
		moveq	#sfx_Splash,%d0
		jsr	(Play_Sound_2):l
		clrw	(Slotted_object_bits):w
		lea	ChildObjDat_48BC2(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  End of function sub_488FA */


/*  =============== S U B R O U T I N E ======================================= */


sub_48916:
		moveb	0x3A(%a0),%d0
		addqb	#2,0x3A(%a0)
		andiw	#0xE,%d0
		lea	byte_4894E(%pc,%d0.w),%a1
		moveb	(%a1)+,%d0
		bnes	loc_4892E
		movew	#0x100,%d0

loc_4892E:
		movew	#0x400,%d2
		cmpiw	#0xA0,%d0
		bcss	loc_4893A
		negw	%d2

loc_4893A:
		movew	%d2,0x40(%a0)
		movew	(Camera_X_pos):w,%d1
		addw	%d0,%d1
		movew	%d1,0x10(%a0)
		moveb	(%a1)+,0x39(%a0)
		rts
/*  End of function sub_48916 */

/*  --------------------------------------------------------------------------- */
byte_4894E:	.byte  0x40,   1
		.byte    0,   1
		.byte  0x40,   0
		.byte  0x40,   1
		.byte    0,   0
		.byte    0,   1
		.byte  0x40,   0
		.byte    0,   0

/*  =============== S U B R O U T I N E ======================================= */


sub_4895E:
		moveb	0x40(%a0),%d2
		addb	%d2,0x3C(%a0)
		bsrw	sub_489A4
		addb	%d2,0x3D(%a0)
		bsrw	sub_489D8
		moveq	#0,%d0
		moveb	0x3D(%a0),%d0
		lsrw	#4,%d0
		moveb	byte_48994(%pc,%d0.w),0x22(%a0)
		movew	#0x200,8(%a0)
		cmpib	#8,%d0
		bcss	locret_48992
		movew	#0x280,8(%a0)

locret_48992:
		rts
/*  End of function sub_4895E */

/*  --------------------------------------------------------------------------- */
byte_48994:	.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 6
		.byte 7
		.byte 8
		.byte 9
		.byte 0xA
		.byte 0xB
		.byte 0x1A
		.byte 0x1A
		.byte 0x1A
		.byte 0xC
		.byte 0xD

/*  =============== S U B R O U T I N E ======================================= */


sub_489A4:
		moveq	#0,%d0
		moveb	0x3C(%a0),%d0
		bsrw	sub_489BA
		movew	0x10(%a2),%d0
		addw	%d1,%d0
		movew	%d0,0x10(%a0)
		rts
/*  End of function sub_489A4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_489BA:
		cmpib	#-0x80,%d0
		bcss	loc_489C6
		moveq	#-1,%d1
		subb	%d0,%d1
		moveb	%d1,%d0

loc_489C6:
		lea	(HCZMiniboss_RocketTwistLookup):l,%a1
		moveb	(%a1,%d0.w),%d1
		extw	%d1
		moveaw	0x46(%a0),%a2
		rts
/*  End of function sub_489BA */


/*  =============== S U B R O U T I N E ======================================= */


sub_489D8:
		moveq	#0,%d0
		moveb	0x3D(%a0),%d0
		bsrs	sub_489BA
		movew	0x14(%a2),%d0
		addw	%d1,%d0
		movew	%d0,0x14(%a0)
		rts
/*  End of function sub_489D8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_489EC:
		moveaw	0x46(%a0),%a2
		moveq	#0,%d0
		moveb	0x3D(%a2),%d0
		lsrw	#3,%d0
		andiw	#-2,%d0
		movew	word_48A3C(%pc,%d0.w),8(%a0)
		lea	byte_48A5C(%pc,%d0.w),%a1
		moveb	(%a1)+,%d1
		extw	%d1
		btst	#0,4(%a2)
		beqs	loc_48A1A
		negw	%d1
		bset	#0,4(%a0)

loc_48A1A:
		moveb	(%a1)+,%d2
		extw	%d2
		movew	0x10(%a2),%d3
		addw	%d1,%d3
		movew	%d3,0x10(%a0)
		movew	0x14(%a2),%d3
		addw	%d2,%d3
		movew	%d3,0x14(%a0)
		lsrw	#1,%d0
		moveb	byte_48A7C(%pc,%d0.w),0x22(%a0)
		rts
/*  End of function sub_489EC */

/*  --------------------------------------------------------------------------- */
word_48A3C:	.word 0x280
		.word 0x200
		.word 0x200
		.word 0x200
		.word 0x200
		.word 0x180
		.word 0x180
		.word 0x180
		.word 0x180
		.word 0x180
		.word 0x180
		.word 0x280
		.word 0x280
		.word 0x280
		.word 0x280
		.word 0x280
byte_48A5C:	.byte    3,   3
		.byte    0,   0
		.byte    6,   6
		.byte   0xC,  0xC
		.byte  0x12, 0x12
		.byte   0xC,  0xC
		.byte    8,   8
		.byte    0,   0
		.byte    3,   3
		.byte    0,   0
		.byte    0,   0
		.byte    0,   0
		.byte  0xFA, 0xFA
		.byte  0xF6, 0xF6
		.byte    0,   0
		.byte    0,   0
byte_48A7C:	.byte   0xE,  0xF
		.byte  0x10, 0x11
		.byte  0x12, 0x11
		.byte  0x10,  0xF
		.byte   0xE, 0x1A
		.byte  0x1A, 0x1A
		.byte   0xE,  0xE
		.byte  0x1A, 0x1A

/*  =============== S U B R O U T I N E ======================================= */


sub_48A8C:
		tstb	0x28(%a0)
		bnes	locret_48AE8
		tstb	0x29(%a0)
		beqs	loc_48AEA
		tstb	0x20(%a0)
		bnes	loc_48AAC
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_48AAC:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_48AC0
		addiw	#0xE,%d0

loc_48AC0:
		lea	word_48B0A(%pc),%a1
		lea	word_48B18(%pc,%d0.w),%a2
		jsr	(CopyWordData_7):l
		subqb	#1,0x20(%a0)
		bnes	locret_48AE8
		bclr	#6,0x2A(%a0)
		cmpib	#0,0x22(%a0)
		bnes	locret_48AE8
		moveb	0x25(%a0),0x28(%a0)

locret_48AE8:
		rts
/*  --------------------------------------------------------------------------- */

loc_48AEA:
		movel	#Wait_Draw,(%a0)
		movel	#loc_4807A,0x34(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		jmp	(BossDefeated_StopTimer):l
/*  End of function sub_48A8C */

/*  --------------------------------------------------------------------------- */
word_48B0A:	.word Normal_palette_line_2+0x08, Normal_palette_line_2+0x0E, Normal_palette_line_2+0x12, Normal_palette_line_2+0x14
		.word Normal_palette_line_2+0x16, Normal_palette_line_2+0x1A, Normal_palette_line_2+0x1C
word_48B18:	.word      4,     0,    0xC,     8,   0x20,  0x826,  0x624
		.word   0xAAA,  0xAAA,  0x888,  0xAAA,  0xEEE,  0x888,  0xAAA
ObjDat3_48B34:	.long Map_HCZMiniboss
		.word 0xA304
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0xF
ObjDat3_48B40:	.long Map_HCZMiniboss
		.word 0xA304
		.word 0x200
		.byte 0x10
		.byte 0x10
		.byte 1
		.byte 0x8B
word_48B4C:	.word 0x8304
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0x15
		.byte 0
word_48B54:	.word 0x8304
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0x15
		.byte 0x92
ObjDat3_48B5C:	.long Map_HCZMiniboss
		.word 0xA304
		.word 0x280
		.byte 0x10
		.byte 0x28
		.byte 0x16
		.byte 0
ObjDat3_48B68:	.long Map_Bubbler
		.word 0xA45C
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
ObjDat4_48B74:	.word 2
		.word 0x83FC
		.word 0x10
		.word 0
		.long Map_HCZMinibossSplash
		.word 0x80
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
byte_48B86:	.byte 2
		.byte 0x80
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0
byte_48B8C:	.byte 2
		.byte 0x80
		.byte 0x14
		.byte 0x24
		.byte 0
		.byte 0
Child1_HCZMiniboss_RocketsEngine:.word 4
		.long Obj_HCZMiniboss_Rockets
		.word 0x1818
		.long Obj_HCZMiniboss_Rockets
		.word 0xE8E8
		.long Obj_HCZMiniboss_Rockets
		.word 0xE818
		.long Obj_HCZMiniboss_Rockets
		.word 0x18E8
		.long Obj_HCZMiniboss_Engine
		.word 0x24
ChildObjDat_48BB2:.word 0
		.long loc_48362
		.word 0
ChildObjDat_48BBA:.word 0
		.long loc_482B0
		.word 0
ChildObjDat_48BC2:.word 2
		.long loc_4830C
		.word 0
		.long loc_4830C
		.word 0xF000
		.long loc_4830C
		.word 0x1000
ChildObjDat_48BD6:.word 0x1D
		.long loc_484A0
ChildObjDat_48BDC:.word 0
		.long loc_48554
word_48BE2:	.word 0
		.long loc_48608
ChildObjDat_48BE8:.word 1
		.long loc_48608
ChildObjDat_48BEE:.word 3
		.long loc_4870A
		.word 0xF4F4
		.long loc_4870A
		.word 0xF40C
		.long loc_4870A
		.word 0xCF4
		.long loc_4870A
		.word 0xC0C
ChildObjDat_48C08:.word 4
		.long loc_48732
		.word 0xDC
		.long loc_48732
		.word 0xF800
		.long loc_48732
		.word 0x800
		.long loc_48732
		.word 0xF430
		.long loc_48732
		.word 0xC30
DPLCPtr_48C28:	.long ArtUnc_DashDust
		.long DPLC_HCZMinibossSplash
byte_48C30:	.byte  0x16,   7
		.byte  0x17,   7
		.byte  0x18,   7
		.byte  0x16,   6
		.byte  0x17,   6
		.byte  0x18,   6
		.byte  0x16,   5
		.byte  0x17,   5
		.byte  0x18,   5
		.byte  0x16,   4
		.byte  0x17,   4
		.byte  0x18,   4
		.byte  0x16,   3
		.byte  0x17,   3
		.byte  0x18,   3
		.byte  0x16,   2
		.byte  0x17,   2
		.byte  0x18,   2
		.byte  0xF4
byte_48C55:	.byte 1
		.byte 0x16
		.byte 0x17
		.byte 0x18
		.byte 0xFC
byte_48C5A:	.byte  0x16,   2
		.byte  0x17,   2
		.byte  0x18,   2
		.byte  0x16,   3
		.byte  0x17,   3
		.byte  0x18,   3
		.byte  0x16,   4
		.byte  0x17,   4
		.byte  0x18,   4
		.byte  0x16,   5
		.byte  0x17,   5
		.byte  0x18,   5
		.byte  0x16,   6
		.byte  0x17,   6
		.byte  0x18,   6
		.byte  0x16,   7
		.byte  0x17,   7
		.byte  0x18,   7
		.byte  0xF4
byte_48C7F:	.byte 3
		.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 6
		.byte 7
		.byte 8
		.byte 0xF4
word_48C8A:	.word 0
		.word 0x16FC
word_48C8E:	.word 1
		.word 0x16FC
word_48C92:	.word 2
		.word 0x16FC
word_48C96:	.word 3
		.word 0x16FC
Pal_HCZMiniboss:.incbin "Levels/HCZ/Palettes/Miniboss.bin"
		.balign 2
Pal_HCZMinibossWater:
		.incbin "Levels/HCZ/Palettes/Miniboss Water.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_HCZEndBoss:
		movew	#0x4050,(Camera_max_X_pos):w
		lea	word_48D26(%pc),%a1
		jsr	(Check_CameraInRange):l
		movel	#loc_48D2E,(%a0)
		moveb	#1,(Boss_flag):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		moveb	#mus_EndBoss,0x26(%a0)
		movew	(Camera_target_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	#0x738,(Camera_target_max_Y_pos):w
		movew	#0x4000,0x1C(%a0)
		movel	#loc_48D34,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_48D26:	.word 0x400
		.word 0x880
		.word 0x3E80
		.word 0x4090
/*  --------------------------------------------------------------------------- */

loc_48D2E:
		jmp	(loc_541C8):l
/*  --------------------------------------------------------------------------- */

loc_48D34:
		movel	#loc_48D3C,(%a0)

locret_48D3A:
		rts
/*  --------------------------------------------------------------------------- */

loc_48D3C:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_48D54(%pc,%d0.w),%d1
		jsr	off_48D54(%pc,%d1.w)
		bsrw	sub_49A06
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_48D54:	.word loc_48D62-off_48D54
		.word loc_48DBC-off_48D54
		.word loc_48DFE-off_48D54
		.word loc_48DBC-off_48D54
		.word loc_48DBC-off_48D54
		.word loc_48DFE-off_48D54
		.word loc_48EAA-off_48D54
/*  --------------------------------------------------------------------------- */

loc_48D62:
		lea	ObjDat3_49B62(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#8,0x29(%a0)
		movew	#0x80,0x1A(%a0)
		movew	#0xEF,0x2E(%a0)
		movel	#loc_48DC8,0x34(%a0)
		moveq	#0x6C,%d0
		jsr	(Load_PLC):l
		movew	#0,(Normal_palette+0x1E):w
		lea	Pal_HCZEndBoss(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	(ChildObjDat_49C2E):l,%a2
		jsr	(CreateChild1_Normal):l
		bnes	loc_48DB2
		moveb	#5,0x2C(%a1)

loc_48DB2:
		lea	ChildObjDat_49BCC(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_48DBC:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_48DC8:
		moveb	#4,5(%a0)
		movew	0x14(%a0),0x3A(%a0)
		movew	#-0x100,0x44(%a0)
		movew	#0x9F,0x30(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_48E10,0x34(%a0)
		lea	(PLC_Explosion):l,%a1
		jsr	(Load_PLC_Raw):l
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_48DFE:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_48E10:
		bset	#3,0x38(%a0)
		tstb	(_unkFA80+1):w
		bnes	loc_48E38
		moveb	#6,5(%a0)
		movew	#0x80,0x1A(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_48E4E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48E38:
		moveb	#0xA,5(%a0)
		movew	#0x1FF,0x2E(%a0)
		movel	#loc_48E80,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48E4E:
		movew	#-0x100,0x1A(%a0)
		movew	#0x4F,0x2E(%a0)
		movel	#loc_48E64,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48E64:
		moveb	#0xA,5(%a0)
		movew	#0xFF,0x2E(%a0)
		movew	0x3A(%a0),0x14(%a0)
		movel	#loc_48E80,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48E80:
		moveb	#0xC,5(%a0)
		bclr	#3,0x38(%a0)
		movew	0x44(%a0),0x18(%a0)
		movew	#0xBF,0x2E(%a0)
		movel	#loc_48ED4,0x34(%a0)
		moveb	#8,0x39(%a0)
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_48EAA:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jsr	(Obj_Wait):l
		subqw	#1,0x30(%a0)
		bpls	locret_48ED2
		negw	0x18(%a0)
		bchg	#0,4(%a0)
		movew	#0x13F,0x30(%a0)

locret_48ED2:
		rts
/*  --------------------------------------------------------------------------- */

loc_48ED4:
		movew	#0x5F,0x2E(%a0)
		subqb	#1,0x39(%a0)
		bmis	loc_48EE8
		bset	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_48EE8:
		movew	0x18(%a0),0x44(%a0)
		clrw	0x18(%a0)
		braw	loc_48E10
/*  --------------------------------------------------------------------------- */

loc_48EF6:
		movel	#loc_48F20,(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_48F3C,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		moveq	#0xC,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */

loc_48F20:
		jsr	(MoveSprite):l
		jsr	(Obj_Wait):l
		btst	#0,(V_int_run_count+3):w
		beqw	locret_48D3A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_48F3C:
		movel	#loc_48F68,(%a0)
		bclr	#7,4(%a0)
		st	(_unkFAA8):w
		clrb	(Boss_flag):w
		jsr	(Obj_PlayLevelMusic):l
		movew	#0x4230,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_48F68:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		tstb	(_unkFAA8):w
		bnew	locret_48D3A
		clrw	(Ctrl_1_logical):w
		clrw	(Ctrl_2_logical):w
		st	(Ctrl_1_locked):w
		st	(Ctrl_2_locked):w
		moveb	#-0x80,(Player_1+object_control):w
		jsr	(Restore_PlayerControl):l
		lea	(Player_2):w,%a1
		jsr	(Restore_PlayerControl2):l
		lea	ChildObjDat_49C36(%pc),%a2
		jsr	(CreateChild6_Simple):l
		movew	#0,(Camera_min_Y_pos):w
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_48FB2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_48FCE(%pc,%d0.w),%d1
		jsr	off_48FCE(%pc,%d1.w)
		jsr	(Refresh_ChildPosition):l
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite2_FlickerMove):l
/*  --------------------------------------------------------------------------- */
off_48FCE:	.word loc_48FD8-off_48FCE
		.word loc_48FE2-off_48FCE
		.word loc_4900E-off_48FCE
		.word loc_49034-off_48FCE
		.word loc_49066-off_48FCE
/*  --------------------------------------------------------------------------- */

loc_48FD8:
		lea	byte_49B74(%pc),%a1
		jmp	(SetUp_ObjAttributes3):l
/*  --------------------------------------------------------------------------- */

loc_48FE2:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_48FF0
		rts
/*  --------------------------------------------------------------------------- */

loc_48FF0:
		moveb	#4,5(%a0)
		moveb	#-0x5A,0x28(%a0)
		movel	#byte_49C3C,0x30(%a0)
		movel	#loc_4901C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4900E:
		moveq	#sfx_FanBig,%d0
		jsr	(sub_542A6):l
		jmp	(Animate_RawGetFaster):l
/*  --------------------------------------------------------------------------- */

loc_4901C:
		moveb	#6,5(%a0)
		movel	#byte_49C43,0x30(%a0)
		lea	ChildObjDat_49BFC(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_49034:
		jsr	(Animate_Raw):l
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_4904E
		moveq	#sfx_FanBig,%d0
		jmp	(sub_542A6):l
/*  --------------------------------------------------------------------------- */

loc_4904E:
		moveb	#8,5(%a0)
		movel	#byte_49C49,0x30(%a0)
		movel	#loc_4906C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49066:
		jmp	(Animate_RawGetSlower):l
/*  --------------------------------------------------------------------------- */

loc_4906C:
		moveb	#2,5(%a0)
		clrb	0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49078:
		movew	0x10(%a0),-(%sp)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_490A8(%pc,%d0.w),%d1
		jsr	off_490A8(%pc,%d1.w)
		movew	#0x1F,%d1
		movew	#0xC,%d2
		movew	#0xC,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectTop):l
		bsrw	sub_49A84
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_490A8:	.word loc_490B4-off_490A8
		.word loc_490FC-off_490A8
		.word loc_49128-off_490A8
		.word loc_49140-off_490A8
		.word loc_49128-off_490A8
		.word loc_4919E-off_490A8
/*  --------------------------------------------------------------------------- */

loc_490B4:
		lea	word_49B80(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movew	(Water_level):w,%d0
		subqw	#8,%d0
		movew	%d0,0x14(%a0)
		movew	%d0,0x3A(%a0)
		movel	#byte_49C54,0x30(%a0)
		movel	#loc_49102,0x34(%a0)
		lea	ChildObjDat_49C0C(%pc),%a2
		jsr	(CreateChild1_Normal):l
		lea	ChildObjDat_49C28(%pc),%a2
		jsr	(CreateChild6_Simple):l
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_490FC:
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_49102:
		moveb	#4,5(%a0)
		movel	#byte_49C5D,0x30(%a0)
		movew	#-0x100,0x1A(%a0)
		movel	#loc_49138,0x34(%a0)
		lea	ChildObjDat_49C04(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_49128:
		jsr	(MoveSprite2):l
		jsr	(Animate_Raw):l
		braw	sub_49ACC
/*  --------------------------------------------------------------------------- */

loc_49138:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49140:
		jsr	(Animate_Raw):l
		moveaw	0x44(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_49154
		rts
/*  --------------------------------------------------------------------------- */

loc_49154:
		moveb	#8,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0x80,0x1A(%a0)
		movel	#loc_49184,0x34(%a0)
		movew	#0x80,0x18(%a0)
		tstw	0x18(%a1)
		bpls	locret_4917E
		negw	0x18(%a0)

locret_4917E:
		rts
/*  --------------------------------------------------------------------------- */
		braw	sub_49ACC
/*  --------------------------------------------------------------------------- */

loc_49184:
		movel	#loc_4919E,(%a0)
		movew	#0xF,0x2E(%a0)
		clrw	0x18(%a0)
		movel	#loc_491C6,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4919E:
		movew	#0x1F,%d1
		movew	#0xC,%d2
		movew	#0xC,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		jsr	(Animate_Raw):l
		jsr	(Obj_Wait):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_491C6:
		jsr	(Displace_PlayerOffObject):l
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_491D2:
		jsr	(MoveSprite2):l
		jsr	(Animate_Raw):l
		bsrw	sub_49ACC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_491E8:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_49200(%pc,%d0.w),%d1
		jsr	off_49200(%pc,%d1.w)
		bsrw	sub_49AB2
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
off_49200:	.word loc_49206-off_49200
		.word loc_4921A-off_49200
		.word loc_4924A-off_49200
/*  --------------------------------------------------------------------------- */

loc_49206:
		lea	byte_49B88(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#byte_49C61,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4921A:
		bsrw	sub_4981E
		bsrw	sub_497E8
		bsrw	sub_49752
		jsr	(Animate_Raw):l
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4923A
		rts
/*  --------------------------------------------------------------------------- */

loc_4923A:
		moveb	#4,5(%a0)
		movew	0x18(%a1),0x18(%a0)
		braw	loc_49960
/*  --------------------------------------------------------------------------- */

loc_4924A:
		bsrw	sub_49752
		movew	0x18(%a1),0x18(%a0)
		jsr	(MoveSprite2):l
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_49260:
		lea	word_49B8E(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_49284,(%a0)
		movel	#byte_49C7A,0x30(%a0)

loc_49278:
		movew	(Water_level):w,%d0
		subqw	#4,%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49284:
		jsr	(Animate_Raw):l
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_492A8(%pc,%d0.w),%d0
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d1
		addw	%d0,%d1
		movew	%d1,0x10(%a0)
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */
word_492A8:	.word 0xFFFC
		.word 4
/*  --------------------------------------------------------------------------- */

loc_492AC:
		lea	word_49B94(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#AnimateRaw_DrawTouch,(%a0)
		movel	#byte_49C7E,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		bras	loc_49278
/*  --------------------------------------------------------------------------- */

loc_492CE:
		lea	ObjDat3_49B9C(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#Obj_Wait,(%a0)
		movel	#loc_492FC,0x34(%a0)
		bsrw	sub_497A8
		tstb	0x2C(%a0)
		bnew	locret_48D3A
		lea	ChildObjDat_49C0C(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_492FC:
		movel	#loc_4930C,(%a0)
		movel	#Go_Delete_Sprite_2,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4930C:
		bsrw	sub_49982
		jmp	(AnimateRaw_DrawTouch):l
/*  --------------------------------------------------------------------------- */

loc_49316:
		lea	ObjDat3_49BB4(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_49376,(%a0)
		jsr	(Random_Number):l
		andiw	#0xFF,%d0
		extw	%d0
		addw	%d0,0x10(%a0)
		swap	%d0
		movew	(Water_level):w,%d1
		andiw	#0x1F,%d0
		addw	%d0,%d1
		movew	%d1,0x14(%a0)
		andiw	#3,%d0
		moveb	%d0,0x22(%a0)
		lslw	#2,%d0
		movel	off_49366(%pc,%d0.w),0x30(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_49390,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_49366:	.long word_48C8A
		.long word_48C8E
		.long word_48C92
		.long word_48C96
/*  --------------------------------------------------------------------------- */

loc_49376:
		moveaw	0x46(%a0),%a3
		bsrw	sub_499DC
		jsr	(Animate_Raw):l
		jsr	(Obj_Wait):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_49390:
		movel	#loc_493A2,(%a0)
		moveal	0x30(%a0),%a1
		moveb	1(%a1),0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_493A2:
		moveaw	0x46(%a0),%a3
		btst	#3,0x38(%a3)
		bnes	loc_493B8
		bsrw	sub_499DC
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_493B8:
		movel	#loc_49376,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_493CE:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_493E2(%pc,%d0.w),%d1
		jsr	off_493E2(%pc,%d1.w)
		jmp	(Child_DrawTouch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_493E2:	.word loc_493F0-off_493E2
		.word loc_4940A-off_493E2
		.word loc_4944E-off_493E2
		.word loc_49482-off_493E2
		.word loc_494F0-off_493E2
		.word loc_49518-off_493E2
		.word loc_4953E-off_493E2
/*  --------------------------------------------------------------------------- */

loc_493F0:
		lea	byte_49B7A(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		moveb	#8,0x1E(%a0)
		bsrw	sub_4972C
		jmp	(Refresh_ChildPositionAdjusted):l
/*  --------------------------------------------------------------------------- */

loc_4940A:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_4941E
		rts
/*  --------------------------------------------------------------------------- */

loc_4941E:
		moveb	#4,5(%a0)
		tstb	0x2C(%a0)
		beqs	loc_4942C
		rts
/*  --------------------------------------------------------------------------- */

loc_4942C:
		moveb	#6,5(%a0)
		movew	#3,0x2E(%a0)
		movel	#loc_494C4,0x34(%a0)
		moveb	#1,0x40(%a0)
		moveb	#0,0x41(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4944E:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_49462
		rts
/*  --------------------------------------------------------------------------- */

loc_49462:
		moveb	#6,5(%a0)
		subqb	#2,0x2C(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_4949E,0x34(%a0)
		bsrw	sub_4972C
		braw	loc_49740
/*  --------------------------------------------------------------------------- */

loc_49482:
		moveb	0x40(%a0),%d0
		addb	%d0,0x42(%a0)
		moveb	0x41(%a0),%d0
		addb	%d0,0x43(%a0)
		jsr	(Refresh_ChildPositionAdjusted):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4949E:
		moveb	#2,5(%a0)
		tstb	0x2C(%a0)
		bnes	locret_494C2
		lea	word_49BEC(%pc),%a2
		jsr	(CreateChild7_Normal2):l
		bnes	locret_494C2
		movew	0x46(%a0),0x46(%a1)
		moveb	#4,0x2C(%a1)

locret_494C2:
		rts
/*  --------------------------------------------------------------------------- */

loc_494C4:
		moveb	#8,5(%a0)
		movel	#loc_49526,0x34(%a0)
		movew	#0x100,0x18(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		btst	#0,4(%a1)
		beqs	locret_494EE
		negw	0x18(%a0)

locret_494EE:
		rts
/*  --------------------------------------------------------------------------- */

loc_494F0:
		movew	0x14(%a0),%d0
		cmpw	(Water_level):w,%d0
		bccs	loc_49508
		jsr	(MoveSprite_LightGravity):l
		jsr	(ObjHitFloor_DoRoutine):l
		rts
/*  --------------------------------------------------------------------------- */

loc_49508:
		moveb	#0xA,5(%a0)
		lea	ChildObjDat_49C1A(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_49518:
		jsr	(MoveSprite_LightGravity):l
		jsr	(ObjHitFloor_DoRoutine):l
		rts
/*  --------------------------------------------------------------------------- */

loc_49526:
		moveb	#0xC,5(%a0)
		movel	#byte_49C4F,0x30(%a0)
		movel	#loc_49544,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4953E:
		jmp	(Animate_RawGetFaster):l
/*  --------------------------------------------------------------------------- */

loc_49544:
		lea	ChildObjDat_49C22(%pc),%a2
		jsr	(CreateChild6_Simple):l
		moveq	#sfx_MissileExplode,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_49BF4(%pc),%a2
		jsr	(CreateChild1_Normal):l
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_49566:
		lea	word_49B6E(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_49578,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49578:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0,%d0
		jmp	(Child_Draw_Sprite2_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_49586:
		lea	ObjDat3_49BA8(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_495AC,(%a0)
		movel	#byte_49D4A,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_495AC:
		jsr	(Animate_Raw):l
		cmpib	#3,0x22(%a0)
		bccs	loc_495C0
		jsr	(Add_SpriteToCollisionResponseList):l

loc_495C0:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_495C6:
		lea	(ArtKosM_HCZGeyserVert):l,%a1
		movew	#0x6D60,%d2
		jsr	(Queue_Kos_Module):l
		movel	#loc_495DC,(%a0)

loc_495DC:
		tstb	(Kos_modules_left):w
		bnew	locret_48D3A
		movel	#loc_495FE,(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_49616,0x34(%a0)
		st	(Screen_shake_flag):w
		rts
/*  --------------------------------------------------------------------------- */

loc_495FE:
		moveb	(V_int_run_count+3):w,%d0
		andib	#7,%d0
		bnes	loc_49610
		moveq	#sfx_Rumble2,%d0
		jsr	(Play_Sound_2):l

loc_49610:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_49616:
		movel	#loc_4961C,(%a0)

loc_4961C:
		lea	ObjDat3_49BC0(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		st	(Screen_shake_flag):w
		moveq	#sfx_Geyser,%d0
		jsr	(Play_Sound_2):l
		lea	(Player_1):w,%a1
		movew	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d1
		addiw	#0x130,%d1
		movew	%d1,0x14(%a0)
		clrw	0x44(%a0)
		lea	(Player_2):w,%a1
		addiw	#0x30,%d0
		subw	0x10(%a1),%d0
		cmpiw	#0x60,%d0
		bccs	loc_49664
		movew	%a1,0x44(%a0)

loc_49664:
		jsr	(sub_49AF4):l
		movel	#loc_49674,(%a0)
		st	(Palette_cycle_counters+0x00):w

loc_49674:
		lea	(Player_1):w,%a1
		movew	0x14(%a0),%d0
		subqw	#6,%d0
		movew	%d0,0x14(%a0)
		subiw	#0x60,%d0
		cmpw	0x14(%a1),%d0
		bccs	loc_496A4
		moveb	#-0x7F,0x2E(%a1)
		moveb	#0x1A,0x20(%a1)
		movel	#loc_496B8,(%a0)
		movew	#0x5F,0x2E(%a0)

loc_496A4:
		bsrw	sub_496F4
		movel	%a0,-(%sp)
		jsr	(AnPal_HCZ1):l
		moveal	(%sp)+,%a0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_496B8:
		lea	(Player_1):w,%a1
		moveb	#0x1A,0x20(%a1)
		subqw	#6,0x14(%a0)
		subqw	#6,(Player_1+y_pos):w
		bsrw	sub_496F4
		subqw	#1,0x2E(%a0)
		bmis	loc_496E4
		movel	%a0,-(%sp)
		jsr	(AnPal_HCZ1):l
		moveal	(%sp)+,%a0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_496E4:
		movew	#0x200,%d0
		jsr	(StartNewLevel):l
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_496F4:
		movew	0x44(%a0),%d0
		beqs	locret_4972A
		moveaw	%d0,%a1
		btst	#2,0x38(%a0)
		bnes	loc_49726
		movew	0x14(%a0),%d0
		subiw	#0x60,%d0
		cmpw	0x14(%a1),%d0
		bccs	locret_4972A
		bset	#2,0x38(%a0)
		moveb	#-0x7F,0x2E(%a1)
		moveb	#0x1A,0x20(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_49726:
		subqw	#8,0x14(%a1)

locret_4972A:
		rts
/*  End of function sub_496F4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4972C:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4973A(%pc,%d0.w),8(%a0)
		rts
/*  End of function sub_4972C */

/*  --------------------------------------------------------------------------- */
word_4973A:	.word 0x280
		.word 0x200
		.word 0x180
/*  --------------------------------------------------------------------------- */

loc_49740:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4974E(%pc,%d0.w),0x40(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_4974E:	.word 0x101
		.word 0x100

/*  =============== S U B R O U T I N E ======================================= */


sub_49752:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x39(%a1),%d0
		cmpb	0x39(%a0),%d0
		beqs	locret_49782
		moveb	%d0,0x39(%a0)
		moveb	byte_49785(%pc,%d0.w),%d1
		extw	%d1
		movew	(Water_level):w,%d2
		addw	%d1,%d2
		movew	%d2,0x14(%a0)
		lslw	#2,%d0
		movel	off_49790(%pc,%d0.w),0x30(%a0)
		clrb	0x24(%a0)

locret_49782:
		rts
/*  End of function sub_49752 */

/*  --------------------------------------------------------------------------- */
		.byte 0xF8
byte_49785:	.byte 0xF8
		.byte 0xF0
		.byte 0xE8
		.byte 0xE0
		.byte 0xD8
		.byte 0xD8
		.byte 0
		.byte 0
		.byte 4
		.byte 0x9C
		.byte 0x61
off_49790:	.long byte_49C61
		.long byte_49C66
		.long byte_49C6B
		.long byte_49C70
		.long byte_49C75
		.long byte_49C75

/*  =============== S U B R O U T I N E ======================================= */


sub_497A8:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,0x2E(%a0)
		movew	word_497CA(%pc,%d0.w),%d1
		movew	(Water_level):w,%d2
		addw	%d1,%d2
		movew	%d2,0x14(%a0)
		addw	%d0,%d0
		movel	off_497D4(%pc,%d0.w),0x30(%a0)
		rts
/*  End of function sub_497A8 */

/*  --------------------------------------------------------------------------- */
word_497CA:	.word 0xFFF8
		.word 0xFFE8
		.word 0xFFD8
		.word 0xFFC8
		.word 0xFFB8
off_497D4:	.long byte_49C87
		.long byte_49CBE
		.long byte_49CED
		.long byte_49D14
		.long byte_49D33

/*  =============== S U B R O U T I N E ======================================= */


sub_497E8:
		movew	0x10(%a0),%d0
		movew	(Water_level):w,%d1
		addqw	#8,%d1
		movel	#0x20000,%d2
		lea	(Player_1):w,%a1
		bsrw	sub_49804
		lea	(Player_2):w,%a1
/*  End of function sub_497E8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_49804:
		tstb	0x2E(%a1)
		bnes	locret_4981C
		cmpw	0x14(%a1),%d1
		bccs	locret_4981C
		cmpw	0x10(%a1),%d0
		bccs	loc_49818
		negl	%d2

loc_49818:
		addl	%d2,0x10(%a1)

locret_4981C:
		rts
/*  End of function sub_49804 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4981E:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x39(%a1),%d0
		lslw	#2,%d0
		lea	word_498FE(%pc),%a1
		lea	(%a1,%d0.w),%a1
		moveq	#0x42,%d4
		lea	(Player_1):w,%a2
		bsrw	sub_49842
		moveq	#0x43,%d4
		lea	(Player_2):w,%a2
/*  End of function sub_4981E */


/*  =============== S U B R O U T I N E ======================================= */


sub_49842:
		moveaw	0x46(%a0),%a3
		btst	#7,0x2A(%a3)
		bnew	sub_4993E
		cmpib	#6,5(%a2)
		bccw	loc_498EE
		tstb	0x34(%a2)
		bnew	loc_498EE
		tstb	0x2E(%a2)
		beqs	loc_4986E
		tstb	(%a0,%d4.w)
		bnes	loc_498A8

loc_4986E:
		movew	0x14(%a0),%d0
		movew	0x14(%a2),%d2
		addw	(%a1),%d0
		cmpw	%d0,%d2
		bcsw	locret_4993C
		addw	2(%a1),%d0
		cmpw	%d0,%d2
		bccw	locret_4993C
		movew	0x10(%a0),%d0
		movew	0x10(%a2),%d2
		subw	%d2,%d0
		addiw	#0x10,%d0
		cmpiw	#0x20,%d0
		bccw	locret_4993C
		tstb	0x2E(%a2)
		bnes	loc_498A8
		bsrw	sub_49916

loc_498A8:
		movew	0x14(%a0),%d0
		movew	0x14(%a2),%d2
		addw	(%a1)+,%d0
		cmpw	%d0,%d2
		bcsw	sub_4993E
		movew	0x10(%a2),%d0
		movew	0x18(%a2),%d1
		movew	#0x80,%d2
		subw	0x10(%a0),%d0
		cmpiw	#-0x12,%d0
		bles	sub_4993E
		cmpiw	#0x12,%d0
		bges	sub_4993E
		tstw	%d0
		bmis	loc_498DA
		negw	%d2

loc_498DA:
		addw	%d2,%d1
		movew	%d1,0x18(%a2)
		extl	%d1
		lsll	#8,%d1
		addl	%d1,0x10(%a2)
		subqw	#2,0x14(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_498EE:
		jsr	(Displace_PlayerOffObject):l
		clrb	(%a0,%d4.w)
		clrb	0x2E(%a2)
		rts
/*  End of function sub_49842 */

/*  --------------------------------------------------------------------------- */
word_498FE:	.word  0xFFE8,   0x48
		.word  0xFFE0,   0x58
		.word  0xFFD8,   0x68
		.word  0xFFD0,   0x78
		.word  0xFFC8,   0x88
		.word  0xFFB8,   0x88

/*  =============== S U B R O U T I N E ======================================= */


sub_49916:
		st	(%a0,%d4.w)
		bset	#1,0x2A(%a2)
		moveb	#1,0x2E(%a2)
		moveb	#0x18,0x20(%a2)
		clrb	0x3D(%a2)
		clrw	0x18(%a2)
		clrw	0x1A(%a2)
		clrw	0x1C(%a2)

locret_4993C:
		rts
/*  End of function sub_49916 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4993E:
		clrb	(%a0,%d4.w)
		bset	#1,0x2A(%a2)
		clrb	0x2E(%a2)
		moveb	#0,5(%a2)
		moveb	#2,0x20(%a2)
		movew	#-0x200,0x1A(%a2)
		rts
/*  End of function sub_4993E */

/*  --------------------------------------------------------------------------- */

loc_49960:
		tstb	0x42(%a0)
		beqs	loc_49970
		clrb	0x42(%a0)
		lea	(Player_1):w,%a2
		bsrs	sub_4993E

loc_49970:
		tstb	0x43(%a0)
		beqs	locret_49980
		clrb	0x43(%a0)
		lea	(Player_2):w,%a2
		bsrs	sub_4993E

locret_49980:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_49982:
		cmpib	#0x30,0x23(%a0)
		bccs	locret_499D2
		lea	word_499D4(%pc),%a1
		lea	(Player_1):w,%a2
		bsrw	sub_4999E
		lea	word_499D4(%pc),%a1
		lea	(Player_2):w,%a2
/*  End of function sub_49982 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4999E:
		tstb	0x2E(%a2)
		bnes	locret_499D2
		movew	0x10(%a0),%d0
		movew	0x10(%a2),%d1
		addw	(%a1)+,%d0
		cmpw	%d0,%d1
		bcss	locret_499D2
		addw	(%a1)+,%d0
		cmpw	%d0,%d1
		bccs	locret_499D2
		movew	0x14(%a0),%d0
		movew	0x14(%a2),%d1
		addw	(%a1)+,%d0
		cmpw	%d0,%d1
		bcss	locret_499D2
		addw	(%a1)+,%d0
		cmpw	%d0,%d1
		bccs	locret_499D2
		movew	#-0x800,0x1A(%a2)

locret_499D2:
		rts
/*  End of function sub_4999E */

/*  --------------------------------------------------------------------------- */
word_499D4:	.word  0xFFF4,   0x18
		.word  0xFFC8,   0x40

/*  =============== S U B R O U T I N E ======================================= */


sub_499DC:
		moveaw	0x46(%a0),%a1
		movew	0x10(%a0),%d0
		movew	0x18(%a0),%d1
		movew	#0x80,%d2
		subw	0x10(%a1),%d0
		tstw	%d0
		bmis	loc_499F6
		negw	%d2

loc_499F6:
		addw	%d2,%d1
		movew	%d1,0x18(%a0)
		extl	%d1
		lsll	#8,%d1
		addl	%d1,0x10(%a0)
		rts
/*  End of function sub_499DC */


/*  =============== S U B R O U T I N E ======================================= */


sub_49A06:
		tstl	(%a0)
		beqs	locret_49A5C
		tstb	0x28(%a0)
		bnes	locret_49A5C
		tstb	0x29(%a0)
		beqs	loc_49A5E
		tstb	0x20(%a0)
		bnes	loc_49A2A
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_49A2A:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_49A3C
		addqw	#6,%d0

loc_49A3C:
		lea	word_49A72(%pc),%a1
		lea	word_49A78(%pc,%d0.w),%a2
		jsr	(CopyWordData_3):l
		subqb	#1,0x20(%a0)
		bnes	locret_49A5C
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_49A5C:
		rts
/*  --------------------------------------------------------------------------- */

loc_49A5E:
		movel	#Wait_Draw,(%a0)
		movel	#loc_48EF6,0x34(%a0)
		jmp	(BossDefeated_StopTimer):l
/*  End of function sub_49A06 */

/*  --------------------------------------------------------------------------- */
word_49A72:	.word Normal_palette_line_2+0x14, Normal_palette_line_2+0x16, Normal_palette_line_2+0x1C
word_49A78:	.word      6,   0x20,  0x624
		.word   0xEEE,  0xEEE,  0xEEE

/*  =============== S U B R O U T I N E ======================================= */


sub_49A84:
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	locret_49AB0
		bset	#7,0x2A(%a0)
		movel	#loc_491D2,(%a0)
		movew	#0x100,0x1A(%a0)
		movel	#Go_Delete_Sprite_2,0x34(%a0)
		jsr	(Displace_PlayerOffObject):l

locret_49AB0:
		rts
/*  End of function sub_49A84 */


/*  =============== S U B R O U T I N E ======================================= */


sub_49AB2:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	locret_49ACA
		bset	#7,0x2A(%a0)
		moveb	#4,5(%a0)

locret_49ACA:
		rts
/*  End of function sub_49AB2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_49ACC:
		movew	0x3A(%a0),%d0
		subw	0x14(%a0),%d0
		bcss	loc_49AEE
		andiw	#0xF0,%d0
		lsrw	#4,%d0
		moveb	%d0,0x39(%a0)
		tstw	0x1A(%a0)
		bpls	locret_49AEC
		cmpib	#5,%d0
		bccs	loc_49AEE

locret_49AEC:
		rts
/*  --------------------------------------------------------------------------- */

loc_49AEE:
		moveal	0x34(%a0),%a2
		jmp	(%a2)
/*  End of function sub_49ACC */


/*  =============== S U B R O U T I N E ======================================= */


sub_49AF4:
		lea	(byte_2EC7A):l,%a3
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		subiw	#0x80,%d3
		moveq	#7,%d1

loc_49B08:
		jsr	(Create_New_Sprite3):l
		bnes	locret_49B60
		movel	#loc_2E9AA,(%a1)
		movel	#Map_HCZWaterWallDebris,0xC(%a1)
		movew	#0x43C3,0xA(%a1)
		moveb	#-0x7C,4(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d2,%d0
		movew	%d0,0x10(%a1)
		moveb	(%a3)+,%d0
		extw	%d0
		addw	%d3,%d0
		movew	%d0,0x14(%a1)
		movew	#0x280,8(%a1)
		moveb	#0x18,7(%a1)
		moveb	#0x18,6(%a1)
		movew	(%a3)+,0x18(%a1)
		movew	(%a3)+,0x1A(%a1)
		moveb	%d1,0x22(%a1)
		dbf	%d1,loc_49B08

locret_49B60:
		rts
/*  End of function sub_49AF4 */

/*  --------------------------------------------------------------------------- */
ObjDat3_49B62:	.long Map_HCZEndBoss
		.word 0xA320
		.word 0x100
		.byte 0x2C
		.byte 0x1C
		.byte 0
		.byte 6
word_49B6E:	.word 0x200
		.byte 0xC
		.byte 4
		.byte 1
		.byte 0
byte_49B74:	.byte 2
		.byte 0
		.byte 0x1C
		.byte 4
		.byte 2
		.byte 0
byte_49B7A:	.byte 2
		.byte 0
		.byte 0x1C
		.byte 4
		.byte 6
		.byte 0
word_49B80:	.word 0x8320
		.byte 0
		.byte 0x80
		.byte 0x14
		.byte 0xC
		.byte 0x17
		.byte 0
byte_49B88:	.byte 0
		.byte 0x80
		.byte 0x14
		.byte 0x30
		.byte 0xD
		.byte 0
word_49B8E:	.word 0
		.word 0x1004
		.byte 0x1A
		.byte 0
word_49B94:	.word 0x8320
		.word 0x80
		.byte 0xC
		.byte 8
		.byte 0x18
		.byte 0
ObjDat3_49B9C:	.long Map_HCZEndBoss
		.word 0x8320
		.word 0x100
		.byte 0xC
		.byte 0x10
		.byte 8
		.byte 0
ObjDat3_49BA8:	.long Map_Explosion
		.word 0x85A0
		.word 0x80
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0x8B
ObjDat3_49BB4:	.long Map_Bubbler
		.word 0x845C
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
ObjDat3_49BC0:	.long Map_HCZWaterWall
		.word 0x436B
		.word 0x280
		.byte 0x20
		.byte 0x60
		.byte 1
		.byte 0
ChildObjDat_49BCC:.word 4
		.long loc_493CE
		.word 0x2312
		.long loc_493CE
		.word 0x1B0A
		.long loc_493CE
		.word 0x130A
		.long loc_49566
		.word 0x1C
		.long loc_48FB2
		.word 0x24
word_49BEC:	.word 0
		.long loc_493CE
		.byte 0x13
		.byte 0xA
ChildObjDat_49BF4:.word 0
		.long loc_49586
		.word 0
ChildObjDat_49BFC:.word 0
		.long loc_49078
		.word 0
ChildObjDat_49C04:.word 0
		.long loc_491E8
		.word 0
ChildObjDat_49C0C:.word 1
		.long loc_49260
		.word 0xFC00
		.long loc_49260
		.word 0x400
ChildObjDat_49C1A:.word 0
		.long loc_492AC
		.word 0
ChildObjDat_49C22:.word 4
		.long loc_492CE
ChildObjDat_49C28:.word 0x13
		.long loc_49316
ChildObjDat_49C2E:.word 0
		.long Obj_RobotnikShip2
		.word 0xC
ChildObjDat_49C36:.word 0
		.long loc_495C6
byte_49C3C:	.byte 7
		.byte 8
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 0xFC
byte_49C43:	.byte 0
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 0xFC
byte_49C49:	.byte 7
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 0xFC
byte_49C4F:	.byte 5
		.byte 8
		.byte 6
		.byte 7
		.byte 0xFC
byte_49C54:	.byte 3
		.byte 0x17
		.byte 0x17
		.byte 0x22
		.byte 0x16
		.byte 0x21
		.byte 0x15
		.byte 0x20
		.byte 0xF4
byte_49C5D:	.byte 3
		.byte 0x15
		.byte 0x20
		.byte 0xFC
byte_49C61:	.byte 3
		.byte 0xD
		.byte 0xF
		.byte 0x11
		.byte 0xFC
byte_49C66:	.byte 3
		.byte 0x24
		.byte 0x25
		.byte 0x26
		.byte 0xFC
byte_49C6B:	.byte 3
		.byte 0x27
		.byte 0x28
		.byte 0x29
		.byte 0xFC
byte_49C70:	.byte 3
		.byte 0x2A
		.byte 0x2B
		.byte 0x2C
		.byte 0xFC
byte_49C75:	.byte 3
		.byte 0x2D
		.byte 0x2E
		.byte 0x2F
		.byte 0xFC
byte_49C7A:	.byte 1
		.byte 0x1A
		.byte 0x23
		.byte 0xFC
byte_49C7E:	.byte  0x18,   2, 0x18,   2
		.byte  0x30,   3, 0x19,   4
		.byte  0xF4
byte_49C87:	.byte    8,   0,   8,   0
		.byte  0x1B,   0,   9,   0
		.byte  0x1C,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xB,   2
		.byte  0x1E,   2,  0xC,   3
		.byte  0x1F,   3, 0xF4
byte_49CBE:	.byte    8,   0,   8,   0
		.byte  0x1B,   0,   9,   0
		.byte  0x1C,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xB,   2
		.byte  0x1E,   2,  0xC,   3
		.byte  0x1F,   3, 0xF4
byte_49CED:	.byte    8,   0,   8,   0
		.byte  0x1B,   0,   9,   0
		.byte  0x1C,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xB,   2
		.byte  0x1E,   2,  0xC,   3
		.byte  0x1F,   3, 0xF4
byte_49D14:	.byte    8,   0,   8,   0
		.byte  0x1B,   0,   9,   0
		.byte  0x1C,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xA,   0
		.byte  0x1D,   0,  0xB,   2
		.byte  0x1E,   2,  0xC,   3
		.byte  0x1F,   3, 0xF4
byte_49D33:	.byte    8,   0,   8,   0
		.byte  0x1B,   0,   9,   0
		.byte  0x1C,   0,  0xA,   0
		.byte  0x1D,   0,  0xB,   2
		.byte  0x1E,   2,  0xC,   3
		.byte  0x1F,   3, 0xF4
byte_49D4A:	.byte    7,   0,   0,   1
		.byte    2,   3,   4, 0xF4
Pal_HCZEndBoss:	.incbin "Levels/HCZ/Palettes/End Boss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_MGZ2DrillingEggman:
		movel	#Obj_Wait,(%a0)
		moveb	#1,(Boss_flag):w
		movew	#0x78,0x2E(%a0)
		movel	#Obj_MGZ2DrillingEggmanGo,0x34(%a0)
		clrb	0x2C(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	(ArtKosM_MGZEndBoss):l,%a1
		movew	#0x67E0,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_MGZEndBossDebris):l,%a1
		movew	#-0x7440,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x6D,%d0
		jsr	(Load_PLC):l
		lea	Pal_MGZEndBoss(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

Obj_MGZ2DrillingEggmanGo:
		movel	#Obj_MGZ2DrillingEggmanStart,(%a0)
		moveq	#mus_EndBoss,%d0
		jsr	(Play_Sound):l

locret_49DD8:
		rts
/*  --------------------------------------------------------------------------- */

Obj_MGZ2DrillingEggmanStart:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_49DF2(%pc,%d0.w),%d1
		jsr	off_49DF2(%pc,%d1.w)
		bsrw	MGZ2_SpecialCheckHit
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_49DF2:	.word loc_49E0C-off_49DF2
		.word loc_49E56-off_49DF2
		.word loc_49E6E-off_49DF2
		.word loc_49EC8-off_49DF2
		.word loc_49EFC-off_49DF2
		.word loc_49F2E-off_49DF2
		.word loc_49F6C-off_49DF2
		.word loc_49F80-off_49DF2
		.word loc_49F2E-off_49DF2
		.word loc_49FB4-off_49DF2
		.word loc_49F2E-off_49DF2
		.word loc_4A01E-off_49DF2
		.word loc_4A0EC-off_49DF2
/*  --------------------------------------------------------------------------- */

loc_49E0C:
		lea	ObjDat_MGZDrillBoss(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#-1,0x29(%a0)
		moveb	#0x30,0x1F(%a0)
		moveb	#0x24,0x1E(%a0)
		movew	#0xC,0x26(%a0)
		bset	#3,0x38(%a0)
		movew	#-0x800,0x1A(%a0)
		lea	Child1_MakeRoboShip3(%pc),%a2
		jsr	(CreateChild1_Normal):l
		bnes	loc_49E4C
		moveb	#9,0x2C(%a1)

loc_49E4C:
		lea	ChildObjDat_4B3D4(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_49E56:
		tstl	(Nem_decomp_queue):w
		bnew	locret_49DD8
		moveb	#4,5(%a0)
		moveq	#sfx_Collapse,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_49E6E:
		movew	0x1A(%a0),%d0
		addiw	#0x40,%d0
		cmpiw	#0xC0,%d0
		bges	loc_49EB8
		movew	%d0,0x1A(%a0)
		btst	#7,0x38(%a0)
		bnes	loc_49EB2
		movew	(Camera_Y_pos):w,%d1
		addiw	#0x120,%d1
		cmpw	0x14(%a0),%d1
		bcss	loc_49EB2
		bset	#7,0x38(%a0)
		lea	ChildObjDat_4B3FE(%pc),%a2
		btst	#0,4(%a0)
		beqs	loc_49EAC
		lea	ChildObjDat_4B406(%pc),%a2

loc_49EAC:
		jsr	(CreateChild3_NormalRepeated):l

loc_49EB2:
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_49EB8:
		moveb	#6,5(%a0)
		moveb	#5,0x39(%a0)
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_49EC8:
		btst	#6,0x2A(%a0)
		bnes	loc_49EDC
		jsr	(Swing_UpAndDown_Count):l
		tstb	0x39(%a0)
		bpls	loc_49EF6

loc_49EDC:
		moveb	#0x16,5(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4A04A,0x34(%a0)

loc_49EF6:
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_49EFC:
		subqw	#1,0x2E(%a0)
		bpls	loc_49F22
		movew	#3,0x2E(%a0)
		subqw	#2,0x26(%a0)
		bnes	loc_49F22
		moveb	#0xA,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_49F40,0x34(%a0)

loc_49F22:
		jsr	(Swing_UpAndDown):l
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_49F2E:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_49F40:
		movel	#loc_49F56,0x34(%a0)

loc_49F48:
		bset	#3,0x38(%a0)
		movew	#0x5F,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49F56:
		moveb	#0xC,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_49F72,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49F6C:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_49F72:
		moveb	#0xE,5(%a0)
		bset	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49F80:
		btst	#1,0x38(%a0)
		beqs	loc_49F8A
		rts
/*  --------------------------------------------------------------------------- */

loc_49F8A:
		moveb	#0x10,5(%a0)
		bclr	#3,0x38(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_49FA6,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49FA6:
		moveb	#0x12,5(%a0)
		movew	#3,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49FB4:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bpls	locret_49FD8
		movew	#3,0x2E(%a0)
		addqw	#2,0x26(%a0)
		cmpiw	#0xC,0x26(%a0)
		bccs	loc_49FDA

locret_49FD8:
		rts
/*  --------------------------------------------------------------------------- */

loc_49FDA:
		moveb	#0x14,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_49FF0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_49FF0:
		movel	#loc_49FFC,0x34(%a0)
		braw	loc_49F48
/*  --------------------------------------------------------------------------- */

loc_49FFC:
		moveb	#0x16,5(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4A04A,0x34(%a0)
		bclr	#7,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A01E:
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bmis	loc_4A02E
		jmp	(Move_WaitNoFall):l
/*  --------------------------------------------------------------------------- */

loc_4A02E:
		moveb	#0x18,5(%a0)
		lea	ChildObjDat_4B3FE(%pc),%a2
		btst	#0,4(%a0)
		beqs	loc_4A044
		lea	ChildObjDat_4B406(%pc),%a2

loc_4A044:
		jmp	(CreateChild3_NormalRepeated):l
/*  --------------------------------------------------------------------------- */

loc_4A04A:
		bset	#5,0x38(%a0)
		clrb	(Boss_flag):w
		movel	#Delete_Current_Sprite,(%a0)
		jsr	(Obj_PlayLevelMusic):l
		lea	(MGZ_8x8_Primary_KosM):l,%a1
		movew	#0,%d2
		jsr	(Queue_Kos_Module):l
		lea	(MGZ2_8x8_Secondary_KosM):l,%a1
		movew	#0x4A40,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x14,%d0
		jsr	(Load_PLC):l
		lea	(ArtKosM_Spiker):l,%a1
		movew	#-0x5A00,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_Mantis):l,%a1
		movew	#-0x5620,%d2
		jsr	(Queue_Kos_Module):l
		lea	(PLC_MonitorsSpikesSprings):l,%a1
		jsr	(Load_PLC_Raw):l
		lea	(Pal_MGZ):l,%a1
		jsr	(PalLoad_Line1):l
		btst	#0,4(%a0)
		bnes	loc_4A0DA
		lea	(Child6_IncLevX):l,%a2
		movew	#0x6000,(Target_camera_max_X_pos):w
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_4A0DA:
		lea	(Child6_DecLevX):l,%a2
		movew	#0,(Target_camera_min_X_pos):w
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_4A0EC:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

Obj_A1_1_MGZ2_Boss:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4A110(%pc,%d0.w),%d1
		jsr	off_4A110(%pc,%d1.w)
		bsrw	MGZ2_SpecialCheckHit
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4A110:	.word loc_4A132-off_4A110
		.word loc_4A1C2-off_4A110
		.word loc_4A1EC-off_4A110
		.word loc_4A210-off_4A110
		.word loc_4A230-off_4A110
		.word loc_4A1C2-off_4A110
		.word loc_4A288-off_4A110
		.word loc_4A2C8-off_4A110
		.word loc_4A2EA-off_4A110
		.word loc_4A1C2-off_4A110
		.word loc_4A31C-off_4A110
		.word loc_4A1C2-off_4A110
		.word loc_4A2EA-off_4A110
		.word loc_4A39A-off_4A110
		.word loc_4A3D4-off_4A110
		.word loc_4A2C8-off_4A110
		.word loc_4A2EA-off_4A110
/*  --------------------------------------------------------------------------- */

loc_4A132:
		lea	ObjDat_MGZDrillBoss(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		bset	#7,0xA(%a0)
		st	0x46(%a0)
		moveb	#8,0x29(%a0)
		moveb	#1,(Boss_flag):w
		moveb	#0x1C,0x1E(%a0)
		movew	#0xC,0x26(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		movel	#loc_4A1C8,0x34(%a0)
		lea	(ArtKosM_MGZEndBoss):l,%a1
		movew	#0x67E0,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_MGZEndBossDebris):l,%a1
		movew	#-0x7440,%d2
		jsr	(Queue_Kos_Module):l
		moveq	#0x6D,%d0
		jsr	(Load_PLC):l
		lea	Pal_MGZEndBoss(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	(Child1_MakeRoboShip3):l,%a2
		jsr	(CreateChild1_Normal):l
		moveb	#9,0x2C(%a1)
		lea	ChildObjDat_4B3D4(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A1C2:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A1C8:
		moveb	#4,5(%a0)
		moveq	#mus_EndBoss,%d0
		jsr	(Play_Sound):l
		movew	#0x80,0x1A(%a0)
		movew	#0xBF,0x2E(%a0)
		movel	#loc_4A1F8,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A1EC:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A1F8:
		moveb	#6,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4A222,0x34(%a0)
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_4A210:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A222:
		moveb	#8,5(%a0)
		movew	#3,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A230:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bpls	locret_4A254
		movew	#3,0x2E(%a0)
		subqw	#2,0x26(%a0)
		cmpiw	#4,0x26(%a0)
		blss	loc_4A256

locret_4A254:
		rts
/*  --------------------------------------------------------------------------- */

loc_4A256:
		moveb	#0xA,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_4A272,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A272:
		moveb	#0xC,5(%a0)
		movew	#0x400,0x1A(%a0)
		movel	#loc_4A294,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A288:
		jsr	(MoveSprite2):l
		jmp	(ObjHitFloor_DoRoutine):l
/*  --------------------------------------------------------------------------- */

loc_4A294:
		moveb	#0xE,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4A2CE,0x34(%a0)
		st	(Events_fg_4):w
		st	(Disable_death_plane):w
		moveq	#sfx_BossHitFloor,%d0
		jsr	(Play_Sound_2):l
		jsr	(Create_New_Sprite):l
		bnes	locret_4A2C6
		movel	#Obj_MGZ2_BossTransition,(%a1)

locret_4A2C6:
		rts
/*  --------------------------------------------------------------------------- */

loc_4A2C8:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A2CE:
		moveb	#0x10,5(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x17,0x2E(%a0)
		movel	#loc_4A2F0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A2EA:
		jmp	(Move_WaitNoFall):l
/*  --------------------------------------------------------------------------- */

loc_4A2F0:
		moveb	#0x12,5(%a0)
		bclr	#3,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4A30E,0x34(%a0)
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_4A30E:
		moveb	#0x14,5(%a0)
		movew	#3,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A31C:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bpls	locret_4A33A
		movew	#3,0x2E(%a0)
		subqw	#2,0x26(%a0)
		beqs	loc_4A33C

locret_4A33A:
		rts
/*  --------------------------------------------------------------------------- */

loc_4A33C:
		moveb	#0x16,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4A352,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A352:
		moveb	#0x18,5(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4A36E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A36E:
		moveb	#0x1A,5(%a0)
		clrb	0x46(%a0)
		bset	#0,4(%a0)
		movew	#0x3E80,0x10(%a0)
		movew	#0x700,0x14(%a0)
		movew	#-0x80,0x18(%a0)
		moveb	#6,0x3A(%a0)
		jmp	Swing_Setup1(%pc)
/*  --------------------------------------------------------------------------- */

loc_4A39A:
		jsr	(MoveSprite2):l
		btst	#6,0x2A(%a0)
		bnes	loc_4A3BE
		movew	(Player_1+x_pos):w,%d0
		cmpw	0x10(%a0),%d0
		bccs	loc_4A3BE
		jsr	(Swing_UpAndDown):l
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_4A3BE:
		moveb	#0x1C,5(%a0)
		movew	#0x200,0x18(%a0)
		movel	#loc_4A3EA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A3D4:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		cmpiw	#0x3E00,0x10(%a0)
		bcsw	locret_49DD8

loc_4A3EA:
		moveb	#0x1E,5(%a0)
		moveq	#sfx_BossZoom,%d0
		jsr	(Play_Sound_2):l
		bclr	#3,0x38(%a0)
		bclr	#2,0x38(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_4A41C,0x34(%a0)
		lea	ChildObjDat_4B44A(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A41C:
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4A42E,0x34(%a0)
		braw	loc_4B324
/*  --------------------------------------------------------------------------- */

loc_4A42E:
		bset	#3,0x38(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_4A442,0x34(%a0)

loc_4A442:
		moveb	#0x20,5(%a0)
		movew	#0xFF,0x2E(%a0)
		movel	#loc_4A3EA,0x34(%a0)
		bset	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_A2_1:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4A476(%pc,%d0.w),%d1
		jsr	off_4A476(%pc,%d1.w)
		bsrw	MGZ2_SpecialCheckHit
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4A476:	.word loc_4A132-off_4A476
		.word loc_4A488-off_4A476
		.word loc_4A4C2-off_4A476
		.word loc_4A4DE-off_4A476
		.word loc_4A542-off_4A476
		.word loc_4A520-off_4A476
		.word loc_4A542-off_4A476
		.word loc_4A520-off_4A476
		.word loc_4A542-off_4A476
/*  --------------------------------------------------------------------------- */

loc_4A488:
		jsr	(Obj_Wait):l
		movew	#0x3A50,%d0
		cmpw	(Camera_X_pos):w,%d0
		blss	loc_4A49A
		rts
/*  --------------------------------------------------------------------------- */

loc_4A49A:
		moveb	#4,5(%a0)
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_max_X_pos):w
		movew	#0xB4,0x30(%a0)
		moveb	#2,0x2C(%a0)
		bset	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A4C2:
		jsr	(Obj_Wait):l
		subqw	#1,0x30(%a0)
		bmis	loc_4A4D0
		rts
/*  --------------------------------------------------------------------------- */

loc_4A4D0:
		moveb	#6,5(%a0)
		bset	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A4DE:
		btst	#2,0x38(%a0)
		bnes	loc_4A4E8
		rts
/*  --------------------------------------------------------------------------- */

loc_4A4E8:
		moveb	#8,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4A504,0x34(%a0)
		moveb	#0,0x2C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A504:
		moveb	#0xA,5(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4A52C,0x34(%a0)
		lea	(_unkFA82):w,%a1
		braw	loc_4B184
/*  --------------------------------------------------------------------------- */

loc_4A520:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A52C:
		moveb	#0xC,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4A548,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A542:
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A548:
		moveb	#0xE,5(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_4A56A,0x34(%a0)
		moveb	#2,0x2C(%a0)
		lea	(_unkFA8A):w,%a1
		braw	loc_4B184
/*  --------------------------------------------------------------------------- */

loc_4A56A:
		moveb	#0x10,5(%a0)
		movew	#0x3AF0,0x10(%a0)
		movew	#0x4C0,0x14(%a0)
		movew	#0x77,0x2E(%a0)
		movel	#loc_4A4D0,0x34(%a0)
		bclr	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A592:
		movel	#Obj_Wait,(%a0)
		bclr	#7,4(%a0)
		bset	#4,0x38(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4A5CA,0x34(%a0)
		movew	#0x200,8(%a0)
		lea	ChildObjDat_4B436(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A5CA:
		movel	#loc_4A5D6,(%a0)
		jmp	(loc_47396):l
/*  --------------------------------------------------------------------------- */

loc_4A5D6:
		tstb	(_unkFAA8):w
		bnew	locret_49DD8
		movel	#locret_4A5FA,(%a0)
		bset	#4,0x38(%a0)
		jsr	(Create_New_Sprite):l
		bnes	locret_4A5F8
		movel	#loc_4AE36,(%a1)

locret_4A5F8:
		rts
/*  --------------------------------------------------------------------------- */

locret_4A5FA:
		rts
/*  --------------------------------------------------------------------------- */

loc_4A5FC:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4A612(%pc,%d0.w),%d1
		jsr	off_4A612(%pc,%d1.w)
		moveq	#0,%d0
		jmp	(Child_Draw_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */
off_4A612:	.word loc_4A616-off_4A612
		.word loc_4A63C-off_4A612
/*  --------------------------------------------------------------------------- */

loc_4A616:
		lea	word_4B396(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		moveaw	0x46(%a0),%a1
		cmpil	#Obj_A1_1_MGZ2_Boss,(%a1)
		bnes	loc_4A632
		bclr	#7,0xA(%a0)

loc_4A632:
		lea	ChildObjDat_4B3EE(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A63C:
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_4A696
		cmpib	#2,0x2C(%a1)
		beqs	loc_4A680
		btst	#1,0x38(%a1)
		beqs	loc_4A67A
		bset	#1,0x38(%a0)
		bnes	loc_4A680
		lea	ChildObjDat_4B416(%pc),%a2
		btst	#0,4(%a0)
		beqs	loc_4A670
		lea	ChildObjDat_4B41E(%pc),%a2

loc_4A670:
		jsr	(CreateChild3_NormalRepeated):l
		braw	loc_4A680
/*  --------------------------------------------------------------------------- */

loc_4A67A:
		bclr	#1,0x38(%a0)

loc_4A680:
		lea	byte_4AEBC(%pc),%a2
		bsrw	sub_4AE9A
		lea	byte_4AEF6(%pc),%a2
		bsrw	sub_4AEDC
		jmp	(Refresh_ChildPositionAdjusted):l
/*  --------------------------------------------------------------------------- */

loc_4A696:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4A69C:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4A6B2(%pc,%d0.w),%d1
		jsr	off_4A6B2(%pc,%d1.w)
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */
off_4A6B2:	.word loc_4A6C6-off_4A6B2
		.word loc_4A6E2-off_4A6B2
		.word loc_4A716-off_4A6B2
		.word loc_4A7B6-off_4A6B2
		.word loc_4A7DA-off_4A6B2
		.word loc_4A80C-off_4A6B2
		.word loc_4A7DA-off_4A6B2
		.word loc_4A80C-off_4A6B2
		.word loc_4A7DA-off_4A6B2
		.word loc_4A8C2-off_4A6B2
/*  --------------------------------------------------------------------------- */

loc_4A6C6:
		lea	word_4B39C(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		moveb	#2,5(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A6E2:
		moveaw	0x44(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_4A696
		btst	#3,0x38(%a1)
		bnes	loc_4A70C
		lea	byte_4AECC(%pc),%a2
		bsrw	sub_4AE9A

loc_4A6FE:
		lea	byte_4AF06(%pc),%a2
		bsrw	sub_4AEDC
		jmp	(Refresh_ChildPositionAdjusted):l
/*  --------------------------------------------------------------------------- */

loc_4A70C:
		moveb	#4,5(%a0)
		braw	loc_4AF6C
/*  --------------------------------------------------------------------------- */

loc_4A716:
		moveaw	0x44(%a0),%a1
		btst	#5,0x38(%a1)
		bnew	loc_4A696
		btst	#3,0x38(%a1)
		beqs	loc_4A73C
		btst	#1,0x38(%a1)
		bnes	loc_4A74E
		jsr	(Animate_RawMultiDelay):l
		bras	loc_4A6FE
/*  --------------------------------------------------------------------------- */

loc_4A73C:
		moveb	#6,5(%a0)
		movel	#loc_4A7C0,0x34(%a0)
		braw	loc_4B01A
/*  --------------------------------------------------------------------------- */

loc_4A74E:
		cmpib	#2,0x2C(%a1)
		beqs	loc_4A77E
		moveb	#8,5(%a0)
		movew	#0x27,0x2E(%a0)
		movel	#loc_4A7EC,0x34(%a0)
		bsrw	sub_4AFA6
		bclr	#5,0x38(%a0)
		lea	ChildObjDat_4B40E(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A77E:
		moveb	#8,5(%a0)
		movew	#0x2F,0x2E(%a0)
		movel	#loc_4A854,0x34(%a0)
		bclr	#2,0x38(%a0)
		bsrw	sub_4B0A0
		lea	ChildObjDat_4B426(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_4A7A6:
		bclr	#5,0x38(%a0)
		lea	ChildObjDat_4B40E(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A7B6:
		jsr	(Animate_RawMultiDelay):l
		braw	loc_4A6FE
/*  --------------------------------------------------------------------------- */

loc_4A7C0:
		moveb	#2,5(%a0)
		movew	#0x1F,0x2E(%a0)
		moveaw	0x44(%a0),%a1
		movel	#loc_4A7EC,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A7DA:
		jsr	(MoveSprite2):l
		jsr	(Animate_RawMultiDelay):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A7EC:
		moveb	#0xA,5(%a0)
		moveaw	0x46(%a0),%a1
		bset	#3,0x38(%a1)
		movew	#0,0x2E(%a0)
		movel	#loc_4A818,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A80C:
		jsr	(Animate_RawMultiDelay):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A818:
		moveb	#8,5(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#3,0x38(%a1)
		negw	0x18(%a0)
		movew	#0x27,0x2E(%a0)
		movel	#loc_4A83C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A83C:
		moveb	#4,5(%a0)
		moveaw	0x44(%a0),%a1
		bset	#5,0x38(%a0)
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A854:
		moveb	#0xE,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4A870,0x34(%a0)
		bset	#5,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A870:
		moveb	#8,5(%a0)
		movew	#0x2F,0x2E(%a0)
		movel	#loc_4A89E,0x34(%a0)
		bsrw	sub_4B146
		lea	ChildObjDat_4B426(%pc),%a2
		jsr	(CreateChild1_Normal):l
		bnes	loc_4A89A
		moveb	#2,0x2C(%a1)

loc_4A89A:
		braw	loc_4A7A6
/*  --------------------------------------------------------------------------- */

loc_4A89E:
		moveb	#0x12,5(%a0)
		orib	#0x24,0x38(%a0)
		moveaw	0x44(%a0),%a1
		bset	#2,0x38(%a1)
		bclr	#1,0x38(%a1)
		subiw	#0x80,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A8C2:
		moveaw	0x44(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	locret_4A8D4
		moveb	#4,5(%a0)

locret_4A8D4:
		rts
/*  --------------------------------------------------------------------------- */

loc_4A8D6:
		lea	word_4B390(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_4A8E8,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A8E8:
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnew	loc_4A696
		jsr	(Refresh_ChildPositionAdjusted):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_4A902:
		lea	word_4B39C(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		clrb	0x28(%a0)
		movew	#0x200,8(%a0)
		movel	#loc_4A950,(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),%d0
		movew	word_4A938(%pc,%d0.w),0x42(%a0)
		lsrw	#1,%d0
		moveb	RawAni_4A948(%pc,%d0.w),0x22(%a0)
		jmp	(Refresh_ChildPositionAdjusted):l
/*  --------------------------------------------------------------------------- */
word_4A938:	.word 0xC00
		.word 0x3F9
		.word 0xF0
		.word 0xFDF9
		.word 0xF400
		.word 0xFD07
		.word 0x10
		.word 0xC00
RawAni_4A948:	.byte  0x1C, 0x15, 0x2C, 0x2A, 0x2D, 0x2B, 0x29, 0x1C
/*  --------------------------------------------------------------------------- */

loc_4A950:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_4A970
		btst	#4,0x38(%a1)
		bnes	loc_4A970
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4A970:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4A976:
		movel	#loc_4A99C,(%a0)
		movel	#loc_4A9BC,0x34(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),0x26(%a0)
		moveb	4(%a1),4(%a0)
		movew	#4,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4A99C:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4A9B6
		btst	#4,0x38(%a1)
		bnes	loc_4A9B6
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_4A9B6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4A9BC:
		movew	#4,0x2E(%a0)
		lea	ChildObjDat_4B42E(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4A9CC:
		lea	word_4B3A2(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_4AA0A,(%a0)
		movew	#0x2F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		moveaw	0x46(%a0),%a1
		moveaw	0x46(%a1),%a2
		movew	%a2,0x44(%a0)
		movew	0x26(%a1),0x26(%a0)
		movew	0x2C(%a1),0x2C(%a0)
		bsrw	sub_4AFA6
		braw	loc_4B2A0
/*  --------------------------------------------------------------------------- */

loc_4AA0A:
		moveaw	0x44(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4AA26
		jsr	(MoveSprite2):l
		jsr	(Obj_Wait):l
		braw	loc_4B2A0
/*  --------------------------------------------------------------------------- */

loc_4AA26:
		movel	#loc_4AA3A,(%a0)
		moveaw	0x44(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		braw	loc_4B2A0
/*  --------------------------------------------------------------------------- */

loc_4AA3A:
		moveaw	0x44(%a0),%a1
		moveaw	0x46(%a1),%a2
		movew	0x14(%a1),%d0
		moveb	0x2C(%a2),%d1
		cmpb	0x2C(%a0),%d1
		bnes	loc_4AA82
		tstb	%d1
		bnes	loc_4AA6E
		moveq	#0x10,%d1
		btst	#1,(_unkFA83):w
		bnes	loc_4AA60
		moveq	#0x18,%d1

loc_4AA60:
		addw	%d1,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_4AA82

loc_4AA68:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4AA6E:
		moveq	#0x14,%d1
		btst	#1,(_unkFA8A+1):w
		bnes	loc_4AA7A
		moveq	#0x1C,%d1

loc_4AA7A:
		subw	%d1,%d0
		cmpw	0x14(%a0),%d0
		blss	loc_4AA68

loc_4AA82:
		braw	loc_4B2A0
/*  --------------------------------------------------------------------------- */

loc_4AA86:
		lea	word_4B3A2(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_4AAA2,(%a0)
		bsrw	sub_4AFE0
		movel	#loc_4AABC,0x34(%a0)

loc_4AAA2:
		subqw	#1,0x2E(%a0)
		bmis	loc_4AABC
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqw	locret_49DD8
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4AABC:
		movel	#loc_4AAD4,(%a0)
		moveb	#0x17,0x22(%a0)
		clrw	0x2E(%a0)
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AAD4:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4AAF6
		moveb	#0x16,0x22(%a0)
		addqw	#1,0x2E(%a0)
		jsr	(MoveSprite2):l
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AAF6:
		movel	#loc_4AB04,(%a0)
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AB04:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_4AB16
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AB16:
		movel	#loc_4AB28,(%a0)
		negw	0x18(%a0)
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AB28:
		subqw	#1,0x2E(%a0)
		bmis	loc_4AB3A
		jsr	(MoveSprite2):l
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AB3A:
		moveb	#0x17,0x22(%a0)
		movel	#Delete_Current_Sprite,(%a0)
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4AB4E:
		lea	word_4B3A8(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_4AB8E,(%a0)
		moveb	0x2C(%a0),%d0
		subib	#4,%d0
		moveb	%d0,0x2C(%a0)
		beqs	loc_4AB84
		movew	#0x380,8(%a0)
		moveaw	0x46(%a0),%a1
		cmpil	#Obj_A1_1_MGZ2_Boss,(%a1)
		bnes	loc_4AB84
		bclr	#7,0xA(%a0)

loc_4AB84:
		lea	ChildObjDat_4B3F6(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_4AB8E:
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_4ABB0
		lea	byte_4AF44(%pc),%a2
		bsrw	sub_4AF16
		jsr	(Refresh_ChildPositionAdjusted):l
		moveq	#0x14,%d0
		jmp	(Child_Draw_Sprite2_FlickerMove):l
/*  --------------------------------------------------------------------------- */

loc_4ABB0:
		bset	#5,0x38(%a0)
		movel	#Delete_Current_Sprite,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4ABBE:
		lea	word_4B3AE(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#loc_4ABFA,(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		tstb	0x2C(%a1)
		beqs	loc_4ABE4
		movew	#0x300,8(%a0)

loc_4ABE4:
		bclr	#7,0xA(%a0)
		btst	#7,0xA(%a1)
		beqs	locret_4ABF8
		bset	#7,0xA(%a0)

locret_4ABF8:
		rts
/*  --------------------------------------------------------------------------- */

loc_4ABFA:
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_4AC30
		lea	byte_4AF58(%pc),%a2
		bsrw	sub_4AF16
		jsr	(Refresh_ChildPositionAdjusted):l
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4AC30
		btst	#0,(V_int_run_count+3):w
		bnew	locret_49DD8
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4AC30:
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_4AC36:
		lea	ObjDat3_4B3B6(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_4AC4A,(%a0)
		braw	loc_4B054
/*  --------------------------------------------------------------------------- */

loc_4AC4A:
		jsr	(MoveSprite_LightGravity):l
		jmp	(Sprite_CheckDeleteXY):l
/*  --------------------------------------------------------------------------- */
		lea	word_4B3C2(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#loc_4AC72,(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4AC72:
		jsr	(Refresh_ChildPositionAdjusted):l
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4ACA8
		btst	#6,0x2A(%a1)
		bnes	loc_4AC9C
		lea	RawAni_4B584(%pc),%a1
		jsr	(Animate_RawNoSST):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4AC9C:
		moveb	#2,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4ACA8:
		movel	#loc_4ACBA,(%a0)
		moveb	#3,0x22(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4ACBA:
		jsr	(Refresh_ChildPositionAdjusted):l
		jmp	(Child_Draw_Sprite2):l
/*  --------------------------------------------------------------------------- */

loc_4ACC6:
		lea	word_4B396(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		jsr	(Refresh_ChildPositionAdjusted):l
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		beqs	loc_4ACEA
		movew	#0x200,8(%a0)

loc_4ACEA:
		lsrw	#1,%d0
		addib	#0x2E,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0x28,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */

loc_4ACFC:
		lea	ObjDat3_4B3C8(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_4AD68,(%a0)
		movew	#-0x72E0,0x3A(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0x140,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x30(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x50,%d0
		movew	%d0,0x14(%a0)
		movew	%d0,0x34(%a0)
		movew	#-0x400,0x18(%a0)
		moveb	#4,0x40(%a0)
		movel	#ArtScaled_MGZEndBoss,0x42(%a0)
		moveb	#1,0x3E(%a0)
		bsrw	sub_4B2C6
		moveq	#6,%d0
		movew	0x1C(%a0),%d1
		beqs	loc_4AD60
		cmpiw	#0xC,%d1
		beqs	loc_4AD60
		moveq	#0x10,%d0

loc_4AD60:
		movew	%d0,0x2E(%a0)
		braw	loc_4ADF4
/*  --------------------------------------------------------------------------- */

loc_4AD68:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnew	loc_4AE30
		movew	0x18(%a0),%d0
		addw	0x2E(%a0),%d0
		cmpiw	#-0x100,%d0
		bgts	loc_4AD88
		movew	%d0,0x18(%a0)

loc_4AD88:
		movew	0x1A(%a0),%d0
		movew	0x3C(%a0),%d1
		bmis	loc_4AD9E
		addw	%d1,%d0
		cmpiw	#0x400,%d0
		bles	loc_4ADA6
		braw	loc_4ADAA
/*  --------------------------------------------------------------------------- */

loc_4AD9E:
		addw	%d1,%d0
		cmpiw	#-0x400,%d0
		blts	loc_4ADAA

loc_4ADA6:
		movew	%d0,0x1A(%a0)

loc_4ADAA:
		bsrw	sub_4B30A
		movew	0x30(%a0),%d2
		movew	0x34(%a0),%d3
		moveq	#0,%d0
		moveb	0x40(%a0),%d0
		addqw	#4,%d0
		movel	#0x100,%d4
		divuw	%d0,%d4
		subw	%d4,%d2
		subw	%d4,%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		moveb	(V_int_run_count+3):w,%d0
		andib	#3,%d0
		bnes	loc_4AE26
		moveb	0x40(%a0),%d0
		addb	0x3E(%a0),%d0
		andib	#0x7F,%d0
		cmpib	#4,%d0
		bcsw	loc_4ADF4
		moveb	%d0,0x40(%a0)

loc_4ADF4:
		clrw	(_unkF740):w
		movel	%a0,-(%sp)
		jsr	(Init_ArtScaling):l
		moveal	(%sp)+,%a0
		movel	%a0,-(%sp)
		movew	0xA(%a0),%d0
		jsr	(sub_22C90):l
		moveal	(%sp)+,%a0
		movew	(_unkF740):w,%d3
		lslw	#4,%d3
		movel	#-0x3000,%d1
		movew	0x3A(%a0),%d2
		jsr	(Add_To_DMA_Queue):l

loc_4AE26:
		movew	0x30(%a0),%d0
		jmp	(Sprite_OnScreen_Test2):l
/*  --------------------------------------------------------------------------- */

loc_4AE30:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4AE36:
		subqw	#1,0x2E(%a0)
		bpls	locret_4AE6A
		moveq	#0,%d0
		moveb	0x39(%a0),%d0
		movew	word_4AE7C(%pc,%d0.w),0x2E(%a0)
		lslw	#4,%d0
		lea	(Pal_MGZFadeCNZ):l,%a1
		addaw	%d0,%a1
		lea	(Normal_palette_line_4):w,%a2
		moveq	#7,%d1

loc_4AE58:
		movel	(%a1)+,(%a2)+
		dbf	%d1,loc_4AE58
		addqb	#2,0x39(%a0)
		cmpib	#0x20,0x39(%a0)
		bccs	loc_4AE6C

locret_4AE6A:
		rts
/*  --------------------------------------------------------------------------- */

loc_4AE6C:
		movew	#0x300,%d0
		jsr	(StartNewLevel):l
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
word_4AE7C:	.word 0xA
		.word 0xA
		.word 0xA
		.word 0xA
		.word 0xA
		.word 0xA
		.word 0xA
		.word 0xA
		.word 0xA
		.word 0x64
		.word 5
		.word 5
		.word 5
		.word 5
		.word 0x14

/*  =============== S U B R O U T I N E ======================================= */


sub_4AE9A:
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),%d0
		movew	%d0,0x26(%a0)
		lea	(%a2,%d0.w),%a3
		moveb	(%a3)+,0x22(%a0)
		moveq	#0,%d0
		moveb	(%a3)+,%d0
		beqs	locret_4AEBA
		lslw	#4,%d0
		movew	%d0,8(%a0)

locret_4AEBA:
		rts
/*  End of function sub_4AE9A */

/*  --------------------------------------------------------------------------- */
byte_4AEBC:	.byte    2, 0x30
		.byte    3, 0x30
		.byte  0x1E, 0x30
		.byte  0x1F, 0x30
		.byte    5, 0x30
		.byte    3, 0x30
		.byte    4, 0x30
		.byte    2, 0x30
byte_4AECC:	.byte    9, 0x28
		.byte   0xC, 0x28
		.byte  0x20, 0x28
		.byte  0x14, 0x30
		.byte  0x13, 0x30
		.byte  0x12, 0x30
		.byte   0xF, 0x28
		.byte    9, 0x28

/*  =============== S U B R O U T I N E ======================================= */


sub_4AEDC:
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),%d0
		movew	%d0,0x26(%a0)
		lea	(%a2,%d0.w),%a3
		moveb	(%a3)+,0x42(%a0)
		moveb	(%a3)+,0x43(%a0)
		rts
/*  End of function sub_4AEDC */

/*  --------------------------------------------------------------------------- */
byte_4AEF6:	.byte  0xE4, 0x10
		.byte  0xF6, 0x18
		.byte   0xC, 0x1C
		.byte  0x18, 0x14
		.byte  0x2C,   8
		.byte  0x20, 0xF4
		.byte  0x14, 0xEC
		.byte  0xE4, 0x10
byte_4AF06:	.byte  0xE9,   0
		.byte  0xEF, 0x16
		.byte    0, 0x20
		.byte  0x10,  0xF
		.byte  0x11,   0
		.byte  0x10, 0xF0
		.byte    0, 0xE0
		.byte  0xE9,   0

/*  =============== S U B R O U T I N E ======================================= */


sub_4AF16:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x3A(%a1),%d0
		moveb	%d0,0x3A(%a0)
		addw	%d0,%d0
		lea	(%a2,%d0.w),%a3
		moveb	(%a3)+,0x42(%a0)
		moveb	(%a3)+,0x43(%a0)
		moveb	(%a3)+,0x22(%a0)
		tstb	0x2C(%a0)
		beqs	locret_4AF42
		subib	#0x14,0x42(%a0)

locret_4AF42:
		rts
/*  End of function sub_4AF16 */

/*  --------------------------------------------------------------------------- */
byte_4AF44:	.byte    8, 0x18
		.byte    6,   0
		.byte  0xF8, 0x14
		.byte    7,   0
		.byte  0x18, 0x14
		.byte    8,   0
		.byte  0x18,   8
		.byte  0x18,   0
		.byte  0x18, 0xFC
		.byte  0x23,   0
byte_4AF58:	.byte    0, 0x10
		.byte  0x19,   0
		.byte  0xF8,   8
		.byte  0x1A,   0
		.byte    8,   8
		.byte  0x24,   0
		.byte  0x10,   0
		.byte  0x1B,   0
		.byte    9, 0xF9
		.byte  0x25,   0
/*  --------------------------------------------------------------------------- */

loc_4AF6C:
		moveaw	0x44(%a0),%a1
		movew	0x26(%a1),%d0
		addw	%d0,%d0
		movel	off_4AF86(%pc,%d0.w),0x30(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_4AF86:	.long byte_4B45B
		.long byte_4B482
		.long byte_4B4A9
		.long byte_4B4D0
		.long byte_4B4D5
		.long byte_4B4DA
		.long byte_4B4E1
		.long byte_4B45B

/*  =============== S U B R O U T I N E ======================================= */


sub_4AFA6:
		movew	0x26(%a0),%d0
		addw	%d0,%d0
		movel	dword_4AFC0(%pc,%d0.w),0x18(%a0)
		btst	#0,4(%a1)
		beqs	locret_4AFBE
		negw	0x18(%a0)

locret_4AFBE:
		rts
/*  End of function sub_4AFA6 */

/*  --------------------------------------------------------------------------- */
dword_4AFC0:	.long 0xFC000000
		.long 0xFC000400
		.long 0x400
		.long 0x4000400
		.long 0x4000000
		.long 0x400FC00
		.long 0xFC00
		.long 0xFC000000

/*  =============== S U B R O U T I N E ======================================= */


sub_4AFE0:
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),%d0
		addw	%d0,%d0
		movel	dword_4AFC0(%pc,%d0.w),0x18(%a0)
		btst	#0,4(%a1)
		beqs	loc_4AFFC
		negw	0x18(%a0)

loc_4AFFC:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4B00A(%pc,%d0.w),0x2E(%a0)
		rts
/*  End of function sub_4AFE0 */

/*  --------------------------------------------------------------------------- */
word_4B00A:	.word 4
		.word 9
		.word 0xE
		.word 0x13
		.word 0x18
		.word 0x1D
		.word 0x22
		.word 0x27
/*  --------------------------------------------------------------------------- */

loc_4B01A:
		moveaw	0x44(%a0),%a1
		movew	0x26(%a1),%d0
		addw	%d0,%d0
		movel	off_4B034(%pc,%d0.w),0x30(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_4B034:	.long byte_4B508
		.long byte_4B527
		.long byte_4B546
		.long byte_4B4D0
		.long byte_4B4D5
		.long byte_4B4DA
		.long byte_4B565
		.long byte_4B508
/*  --------------------------------------------------------------------------- */

loc_4B054:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		lsrw	#1,%d0
		moveb	RawAni_4B06E(%pc,%d0.w),0x22(%a0)
		addw	%d1,%d1
		movel	word_4B078(%pc,%d1.w),0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */
RawAni_4B06E:	.byte    0,   1,   2,   0,   0,   1,   0,   2,   0,   1
word_4B078:	.word  0xFC00, 0xFC00
		.word   0x400, 0xFC00
		.word  0xFF80, 0xFC00
		.word    0x80, 0xFC00
		.word  0xFD00, 0xFE00
		.word   0x300, 0xFE00
		.word  0xFE00, 0xFD00
		.word   0x200, 0xFD00
		.word  0xFF80, 0xFE00
		.word    0x80, 0xFE00

/*  =============== S U B R O U T I N E ======================================= */


sub_4B0A0:
		jsr	(Random_Number):l
		andiw	#0xFF,%d0
		movew	%d0,%d1
		andiw	#1,%d1
		bclr	#0,4(%a0)
		subiw	#0x80,%d0
		bccs	LevelLoop4
		addqw	#2,%d1
		bset	#0,4(%a0)

LevelLoop4:
		movew	#0x550,%d3
		lea	(_unkFA82):w,%a2

LevelLoopC:
		movew	#0x3AF0,%d2
		addw	%d0,%d2
		addw	%d1,%d1
		movew	word_4B116(%pc,%d1.w),%d4
		movew	%d4,0x26(%a0)
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		movew	%d1,(%a2)+
		movew	%d4,(%a2)+
		movew	%d2,(%a2)+
		movew	%d3,(%a2)+
		addw	%d1,%d1
		movel	off_4B126(%pc,%d1.w),0x30(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		addw	%d4,%d4
		lea	dword_4AFC0(%pc),%a3
		movel	(%a3,%d4.w),0x18(%a0)
		btst	#0,4(%a0)
		beqs	locret_4B114
		negw	0x18(%a0)

locret_4B114:
		rts
/*  End of function sub_4B0A0 */

/*  --------------------------------------------------------------------------- */
word_4B116:	.word 4
		.word 2
		.word 4
		.word 2
		.word 0xC
		.word 0xA
		.word 0xC
		.word 0xA
off_4B126:	.long byte_4B4C9
		.long byte_4B4A2
		.long byte_4B4C9
		.long byte_4B4A2
		.long byte_4B501
		.long byte_4B4DA
		.long byte_4B501
		.long byte_4B4DA

/*  =============== S U B R O U T I N E ======================================= */


sub_4B146:
		jsr	(Random_Number):l
		andiw	#0x7F,%d0
		movew	%d0,%d1
		andiw	#1,%d1
		addqw	#4,%d1
		movew	(_unkFA82):w,%d2
		lsrw	#1,%d2
		bset	#0,4(%a0)
		moveb	byte_4B180(%pc,%d2.w),%d3
		beqs	loc_4B172
		negw	%d0
		bclr	#0,4(%a0)

loc_4B172:
		addb	%d3,%d1
		movew	#0x610,%d3
		lea	(_unkFA8A):w,%a2
		braw	LevelLoopC
/*  End of function sub_4B146 */

/*  --------------------------------------------------------------------------- */
byte_4B180:	.byte 2
		.byte 0
		.byte 0
		.byte 2
/*  --------------------------------------------------------------------------- */

loc_4B184:
		movew	(%a1)+,%d0
		movew	(%a1)+,%d1
		movew	%d1,0x26(%a0)
		movew	(%a1)+,%d2
		movew	(%a1)+,%d3
		lea	byte_4B1E2(%pc,%d0.w),%a2
		moveb	(%a2)+,%d4
		extw	%d4
		addw	%d4,%d2
		movew	%d2,0x10(%a0)
		moveb	(%a2)+,%d4
		extw	%d4
		addw	%d4,%d3
		movew	%d3,0x14(%a0)
		lsrw	#1,%d0
		moveb	byte_4B1F2(%pc,%d0.w),0x3A(%a0)
		lsrw	#1,%d0
		moveb	byte_4B1FA(%pc,%d0.w),%d2
		andib	#-4,4(%a0)
		orb	%d2,4(%a0)
		addw	%d1,%d1
		lea	dword_4AFC0(%pc),%a2
		movel	(%a2,%d1.w),0x18(%a0)
		asr	0x18(%a0)
		asr	0x1A(%a0)
		btst	#0,4(%a0)
		beqs	locret_4B1E0
		negw	0x18(%a0)

locret_4B1E0:
		rts
/*  --------------------------------------------------------------------------- */
byte_4B1E2:	.byte  0xF4, 0xD4
		.byte  0x1A, 0xD8
		.byte   0xC, 0xD4
		.byte  0xE6, 0xD8
		.byte  0x14, 0x24
		.byte  0x30, 0x1C
		.byte  0xEC, 0x24
		.byte  0xD0, 0x1C
byte_4B1F2:	.byte 0
		.byte 8
		.byte 0
		.byte 8
		.byte 0
		.byte 2
		.byte 0
		.byte 2
byte_4B1FA:	.byte 0
		.byte 1
		.byte 1
		.byte 0

/*  =============== S U B R O U T I N E ======================================= */


MGZ2_SpecialCheckHit:
		tstb	0x28(%a0)
		bnes	locret_4B262
		tstb	0x29(%a0)
		bnes	loc_4B21C
		tstb	0x46(%a0)
		beqs	loc_4B264
		moveb	#1,0x29(%a0)
		bclr	#7,0x2A(%a0)

loc_4B21C:
		tstb	0x20(%a0)
		bnes	loc_4B230
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4B230:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4B244
		addiw	#6,%d0

loc_4B244:
		bsrw	MGZ2_BossPalAdjust
		subqb	#1,0x20(%a0)
		bnes	locret_4B262
		bclr	#6,0x2A(%a0)
		cmpib	#0,0x22(%a0)
		bnes	locret_4B262
		moveb	0x25(%a0),0x28(%a0)

locret_4B262:
		rts
/*  --------------------------------------------------------------------------- */

loc_4B264:
		movel	#Wait_Draw,(%a0)
		movel	#loc_4A592,0x34(%a0)
		jmp	(BossDefeated_StopTimer):l
/*  End of function MGZ2_SpecialCheckHit */


/*  =============== S U B R O U T I N E ======================================= */


MGZ2_BossPalAdjust:
		lea	word_4B28E(%pc),%a1
		lea	word_4B294(%pc,%d0.w),%a2
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		rts
/*  End of function MGZ2_BossPalAdjust */

/*  --------------------------------------------------------------------------- */
word_4B28E:	.word Normal_palette_line_2+0x16, Normal_palette_line_2+0x1A, Normal_palette_line_2+0x1C
word_4B294:	.word    0x20,  0x866,  0x644
		.word   0xEEE,  0x888,  0xAAA
/*  --------------------------------------------------------------------------- */

loc_4B2A0:
		moveaw	0x44(%a0),%a1
		moveaw	0x46(%a1),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4B2B6
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4B2B6:
		jsr	(Random_Number):l
		andiw	#0x3C,%d0
		jmp	(loc_5312A):l

/*  =============== S U B R O U T I N E ======================================= */


sub_4B2C6:
		moveaw	0x46(%a0),%a2
		moveq	#0,%d0
		moveb	0x39(%a2),%d0
		addqb	#1,0x39(%a2)
		andib	#7,%d0
		moveb	byte_4B302(%pc,%d0.w),%d0
		movew	%d0,0x1C(%a0)
		movew	%d0,0x3C(%a2)
		lea	word_4B2F2(%pc,%d0.w),%a1
		movew	(%a1)+,0x1A(%a0)
		movew	(%a1)+,0x3C(%a0)
		rts
/*  End of function sub_4B2C6 */

/*  --------------------------------------------------------------------------- */
word_4B2F2:	.word  0xFE00,     8
		.word  0xFA00,   0x40
		.word   0x600, 0xFFC0
		.word  0xFE00,     8
byte_4B302:	.byte 0
		.byte 8
		.byte 4
		.byte 0
		.byte 0
		.byte 4
		.byte 0
		.byte 8

/*  =============== S U B R O U T I N E ======================================= */


sub_4B30A:
		movew	0x18(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x30(%a0)
		movew	0x1A(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x34(%a0)
		rts
/*  End of function sub_4B30A */

/*  --------------------------------------------------------------------------- */

loc_4B324:
		movew	0x3C(%a0),%d0
		lea	word_4B358(%pc,%d0.w),%a2
		movew	(%a2)+,%d1
		addw	(Camera_X_pos):w,%d1
		movew	%d1,0x10(%a0)
		movew	(%a2)+,%d1
		addw	(Camera_Y_pos):w,%d1
		movew	%d1,0x14(%a0)
		movel	dword_4B368(%pc,%d0.w),0x18(%a0)
		lsrw	#1,%d0
		movew	word_4B378(%pc,%d0.w),0x26(%a0)
		lsrw	#1,%d0
		moveb	byte_4B380(%pc,%d0.w),0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_4B358:	.word  0xFFC0,   0x70
		.word    0xA0,  0x120
		.word    0xA0, 0xFFB0
		.word  0xFFC0,   0x70
dword_4B368:	.long 0x2000000
		.long 0x80FE00
		.long 0x800200
		.long 0x2000000
word_4B378:	.word 0
		.word 0xC
		.word 4
		.word 0
byte_4B380:	.byte 6
		.byte 4
		.byte 8
		.byte 6
ObjDat_MGZDrillBoss:.long Map_MGZEndBoss
		.word 0x233F
		.word 0x300
		.byte 0x24
		.byte 0x20
		.byte 0
		.byte 0xF
word_4B390:	.word 0x380
		.byte 0x10
		.byte 0x10
		.byte 1
		.byte 0
word_4B396:	.word 0x300
		.byte 0x18
		.byte 0x18
		.byte 2
		.byte 0
word_4B39C:	.word 0x280
		.byte 0xC
		.byte 0xC
		.byte 9
		.byte 0x8B
word_4B3A2:	.word 0x200
		.byte 4
		.byte 4
		.byte 0x16
		.byte 0x98
word_4B3A8:	.word 0x180
		.byte 0xC
		.byte 0xC
		.byte 6
		.byte 0
word_4B3AE:	.word 0x33F
		.word 0x180
		.byte 0xC
		.byte 0xC
		.byte 0x19
		.byte 0x9A
ObjDat3_4B3B6:	.long Map_MGZEndBossDebris
		.word 0xC45E
		.word 0x100
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
word_4B3C2:	.word 0x200
		.byte 0x10
		.byte 4
		.byte 0
		.byte 0
ObjDat3_4B3C8:	.long Map_ScaledArt
		.word 0x2469
		.word 0x300
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ChildObjDat_4B3D4:.word 3
		.long loc_4A8D6
		.word 0xEC0F
		.long loc_4A5FC
		.word 0xE410
		.long loc_4AB4E
		.word 0x818
		.long loc_4AB4E
		.word 0xF418
ChildObjDat_4B3EE:.word 0
		.long loc_4A69C
		.word 0xE900
ChildObjDat_4B3F6:.word 0
		.long loc_4ABBE
		.word 0x10
ChildObjDat_4B3FE:.word 9
		.long loc_4AC36
		.word 0x18C0
ChildObjDat_4B406:.word 9
		.long loc_4AC36
		.word 0xE8C0
ChildObjDat_4B40E:.word 0
		.long loc_4A902
		.word 0xC00
ChildObjDat_4B416:.word 7
		.long loc_4AA86
		.word 0xF000
ChildObjDat_4B41E:.word 7
		.long loc_4AA86
		.word 0x1000
ChildObjDat_4B426:.word 0
		.long loc_4A976
		.word 0
ChildObjDat_4B42E:.word 0
		.long loc_4A9CC
		.word 0
ChildObjDat_4B436:.word 2
		.long loc_4ACC6
		.word 0xCEC
		.long loc_4ACC6
		.word 0xF008
		.long loc_4ACC6
		.word 0x1408
ChildObjDat_4B44A:.word 0
		.long loc_4ACFC
		.word 0
		.byte    0,   5
		.byte    1,   5
		.byte    2,   5
		.byte    3,   5
		.byte  0xFC
byte_4B45B:	.byte    9,   7
		.byte   0xA,   7
		.byte   0xB,   7
		.byte    9,   6
		.byte   0xA,   6
		.byte   0xB,   6
		.byte    9,   5
		.byte   0xA,   5
		.byte   0xB,   5
		.byte    9,   4
		.byte   0xA,   4
		.byte   0xB,   4
		.byte    9,   3
		.byte   0xA,   3
		.byte   0xB,   3
		.byte  0xF8, 0x20
		.byte    9,   2
		.byte   0xA,   2
		.byte   0xB,   2
		.byte  0xFC
byte_4B482:	.byte   0xC,   7
		.byte   0xD,   7
		.byte   0xE,   7
		.byte   0xC,   6
		.byte   0xD,   6
		.byte   0xE,   6
		.byte   0xC,   5
		.byte   0xD,   5
		.byte   0xE,   5
		.byte   0xC,   4
		.byte   0xD,   4
		.byte   0xE,   4
		.byte   0xC,   3
		.byte   0xD,   3
		.byte   0xE,   3
		.byte  0xF8, 0x20
byte_4B4A2:	.byte   0xC,   2
		.byte   0xD,   2
		.byte   0xE,   2
		.byte  0xFC
byte_4B4A9:	.byte  0x20,   7
		.byte  0x21,   7
		.byte  0x22,   7
		.byte  0x20,   6
		.byte  0x21,   6
		.byte  0x22,   6
		.byte  0x20,   5
		.byte  0x21,   5
		.byte  0x22,   5
		.byte  0x20,   4
		.byte  0x21,   4
		.byte  0x22,   4
		.byte  0x20,   3
		.byte  0x21,   3
		.byte  0x22,   3
		.byte  0xF8, 0x20
byte_4B4C9:	.byte  0x20,   2
		.byte  0x21,   2
		.byte  0x22,   2
		.byte  0xFC
byte_4B4D0:	.byte  0x14, 0x7F
		.byte  0x14, 0x7F
		.byte  0xFC
byte_4B4D5:	.byte  0x13, 0x7F
		.byte  0x13, 0x7F
		.byte  0xFC
byte_4B4DA:	.byte  0x26,   2
		.byte  0x27,   2
		.byte  0x28,   2
		.byte  0xFC
byte_4B4E1:	.byte   0xF,   7
		.byte  0x10,   7
		.byte  0x11,   7
		.byte   0xF,   6
		.byte  0x10,   6
		.byte  0x11,   6
		.byte   0xF,   5
		.byte  0x10,   5
		.byte  0x11,   5
		.byte   0xF,   4
		.byte  0x10,   4
		.byte  0x11,   4
		.byte   0xF,   3
		.byte  0x10,   3
		.byte  0x11,   3
		.byte  0xF8, 0x20
byte_4B501:	.byte   0xF,   2
		.byte  0x10,   2
		.byte  0x11,   2
		.byte  0xFC
byte_4B508:	.byte    9,   3
		.byte   0xA,   3
		.byte   0xB,   3
		.byte    9,   4
		.byte   0xA,   4
		.byte   0xB,   4
		.byte    9,   5
		.byte   0xA,   5
		.byte   0xB,   5
		.byte    9,   6
		.byte   0xA,   6
		.byte   0xB,   6
		.byte    9,   7
		.byte   0xA,   7
		.byte   0xB,   7
		.byte  0xF4
byte_4B527:	.byte   0xC,   3
		.byte   0xD,   3
		.byte   0xE,   3
		.byte   0xC,   4
		.byte   0xD,   4
		.byte   0xE,   4
		.byte   0xC,   5
		.byte   0xD,   5
		.byte   0xE,   5
		.byte   0xC,   6
		.byte   0xD,   6
		.byte   0xE,   6
		.byte   0xC,   7
		.byte   0xD,   7
		.byte   0xE,   7
		.byte  0xF4
byte_4B546:	.byte  0x20,   3
		.byte  0x21,   3
		.byte  0x22,   3
		.byte  0x20,   4
		.byte  0x21,   4
		.byte  0x22,   4
		.byte  0x20,   5
		.byte  0x21,   5
		.byte  0x22,   5
		.byte  0x20,   6
		.byte  0x21,   6
		.byte  0x22,   6
		.byte  0x20,   7
		.byte  0x21,   7
		.byte  0x22,   7
		.byte  0xF4
byte_4B565:	.byte   0xF,   3
		.byte  0x10,   3
		.byte  0x11,   3
		.byte   0xF,   4
		.byte  0x10,   4
		.byte  0x11,   4
		.byte   0xF,   5
		.byte  0x10,   5
		.byte  0x11,   5
		.byte   0xF,   6
		.byte  0x10,   6
		.byte  0x11,   6
		.byte   0xF,   7
		.byte  0x10,   7
		.byte  0x11,   7
		.byte  0xF4
RawAni_4B584:	.byte    5,   0,   1, 0xFC
Pal_MGZEndBoss:	.incbin "Levels/MGZ/Palettes/End Boss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_CNZMiniboss:
		movew	#0x31E0,%d0
		cmpw	(Camera_X_pos):w,%d0
		blss	loc_4B5B4
		rts
/*  --------------------------------------------------------------------------- */

loc_4B5B4:
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	#0x1A0,(Camera_min_Y_pos):w
		movew	%d0,(Camera_min_X_pos):w
		addiw	#0x80,%d0
		movew	%d0,(Camera_max_X_pos):w
		movew	#0x2B8,(Camera_max_Y_pos):w
		movew	#0x2B8,(Camera_target_max_Y_pos):w
		movel	#Obj_Wait,(%a0)
		movew	#0x78,0x2E(%a0)
		movel	#Obj_CNZMinibossGo,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		moveb	#1,(Boss_flag):w
		moveq	#0x5D,%d0
		jsr	(Load_PLC):l
		lea	Pal_CNZMiniboss(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossGo:
		movel	#Obj_CNZMinibossStart,(%a0)
		moveq	#mus_Miniboss,%d0
		jsr	(Play_Sound):l
		jsr	(Create_New_Sprite):l
		bnes	locret_4B628
		movel	#Obj_CNZMinibossScrollControl,(%a1)

locret_4B628:
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossStart:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	CNZMiniboss_Index(%pc,%d0.w),%d1
		jsr	CNZMiniboss_Index(%pc,%d1.w)
		bsrw	CNZMiniboss_MoveDown
		jsr	(Run_PalRotationScript):l
		bsrw	CNZMiniboss_CheckPlayerHit
		bsrw	CNZMiniboss_CheckTopHit
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
CNZMiniboss_Index:.word Obj_CNZMinibossInit-CNZMiniboss_Index
		.word Obj_CNZMinibossLower-CNZMiniboss_Index
		.word Obj_CNZMinibossMove-CNZMiniboss_Index
		.word Obj_CNZMinibossMove-CNZMiniboss_Index
		.word Obj_CNZMinibossOpening-CNZMiniboss_Index
		.word Obj_CNZMinibossWaitHit-CNZMiniboss_Index
		.word Obj_CNZMinibossClosing-CNZMiniboss_Index
		.word Obj_CNZMinibossLower2-CNZMiniboss_Index
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossInit:
		lea	ObjDat_CNZMiniboss(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#6,0x29(%a0)
		moveb	#4,0x45(%a0)
		bset	#3,0x38(%a0)
		movew	#0x80,0x1A(%a0)
		movew	#0x11F,0x2E(%a0)
		movel	#Obj_CNZMinibossGo2,0x34(%a0)
		lea	Child1_CNZMinibossMakeTop(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossLower:
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossGo2:
		moveb	#4,5(%a0)
		clrw	0x1A(%a0)
		bset	#1,0x38(%a0)
		movew	#0x90,0x2E(%a0)
		movel	#Obj_CNZMinibossGo3,0x34(%a0)
		braw	SetUp_CNZMinibossSwing
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossMove:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossGo3:
		movew	#0x100,0x18(%a0)
		movew	#0x9F,0x2E(%a0)

Obj_CNZMinibossCloseGo:
		moveb	#6,5(%a0)
		movel	#Obj_CNZMinibossChangeDir,0x34(%a0)
		bclr	#3,0x38(%a0)
		lea	(PalSPtr_CNZMinibossNormal):l,%a1
		lea	(Palette_rotation_data):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		clrw	(%a2)
		movel	#CNZMiniboss_MakeTimedSparks,(Palette_rotation_custom):w
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossChangeDir:
		negw	0x18(%a0)
		movew	#0x13F,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossOpening:
		jmp	(Animate_RawMultiDelay):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossOpenGo:
		moveb	#0xA,5(%a0)
		movel	#Obj_CNZMinibossChangeDir,0x34(%a0)
		bset	#6,0x38(%a0)
		moveb	#0x7F,0x3B(%a0)
		lea	Child1_CNZCoilOpenSparks(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossWaitHit:
		btst	#6,0x2A(%a0)
		bnes	loc_4B754
		rts
/*  --------------------------------------------------------------------------- */

loc_4B754:
		moveb	#0xC,5(%a0)
		bclr	#6,0x38(%a0)
		movel	#AniRaw_CNZMinibossClosing,0x30(%a0)
		movel	#Obj_CNZMinibossCloseGo,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossClosing:
		jmp	(Animate_RawMultiDelay):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossLower2:
		addqw	#1,0x14(%a0)
		subqb	#1,0x43(%a0)
		bmis	loc_4B784
		rts
/*  --------------------------------------------------------------------------- */

loc_4B784:
		moveb	0x42(%a0),5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossEnd:
		movel	#Obj_Wait,(%a0)
		st	(_unkFAA8):w
		bclr	#7,4(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#Obj_CNZMinibossEndGo,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	Child6_CNZMinibossMakeDebris(%pc),%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossEndGo:
		movel	#Obj_EndSignControlAwaitStart,(%a0)
		clrb	(Boss_flag):w
		jsr	(Obj_PlayLevelMusic):l
		jsr	AfterBoss_Cleanup(%pc)
		lea	(PLC_EndSignStuff):l,%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */

loc_4B7E8:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	CNZMinibossTop_Index(%pc,%d0.w),%d1
		jsr	CNZMinibossTop_Index(%pc,%d1.w)
		jmp	(Draw_And_Touch_Sprite):l
/*  --------------------------------------------------------------------------- */
CNZMinibossTop_Index:.word Obj_CNZMinibossTopInit-CNZMinibossTop_Index
		.word Obj_CNZMinibossTopWait-CNZMinibossTop_Index
		.word Obj_CNZMinibossTopWait2-CNZMinibossTop_Index
		.word Obj_CNZMinibossTopMain-CNZMinibossTop_Index
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTopInit:
		lea	ObjDat3_CNZMinibossTop(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveb	#0x10,0x1F(%a0)
		moveb	#8,0x1E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTopWait:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_4B82C
		jmp	(Refresh_ChildPosition):l
/*  --------------------------------------------------------------------------- */

loc_4B82C:
		moveb	#4,5(%a0)
		movel	#AniRaw_CNZMinibossTop,0x30(%a0)
		movel	#Obj_CNZMinibossTopGo,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTopWait2:
		jsr	(Refresh_ChildPosition):l
		jmp	(Animate_RawGetFaster):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTopGo:
		moveb	#6,5(%a0)
		movel	#AniRaw_CNZMinibossTop2,0x30(%a0)
		movew	#0x200,0x18(%a0)
		movew	#0x200,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTopMain:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnew	loc_4B9EC
		movew	0x10(%a0),-(%sp)
		jsr	(MoveSprite2):l
		moveq	#0x13,%d1
		moveq	#0xC,%d2
		moveq	#8,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		jsr	(Animate_Raw):l
		tstw	0x18(%a0)
		bmis	loc_4B8CC
		moveq	#0x10,%d3
		jsr	(ObjCheckRightWallDist):l
		tstw	%d1
		bmiw	loc_4B968
		movew	0x10(%a0),%d0
		addiw	#0x10,%d0
		cmpiw	#0x3380,%d0
		bccw	loc_4B9A8
		movew	0x14(%a0),%d1
		bsrw	CNZMinibossTop_CheckHitBase
		bnew	loc_4B9A8
		braw	loc_4B8F6
/*  --------------------------------------------------------------------------- */

loc_4B8CC:
		moveq	#-0x10,%d3
		jsr	(ObjCheckLeftWallDist):l
		tstw	%d1
		bmiw	loc_4B968
		movew	0x10(%a0),%d0
		subiw	#0x10,%d0
		cmpiw	#0x3200,%d0
		bcsw	loc_4B9A8
		movew	0x14(%a0),%d1
		bsrw	CNZMinibossTop_CheckHitBase
		bnew	loc_4B9A8

loc_4B8F6:
		bsrw	CNZMinibossTop_CheckPlayerBounce
		bnew	loc_4B9E6
		tstw	0x1A(%a0)
		bmis	loc_4B93A
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmiw	loc_4B9AE
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		addqw	#8,%d1
		movew	(Camera_Y_pos):w,%d2
		addiw	#0xE0,%d2
		cmpw	%d2,%d1
		bccw	loc_4B9E6
		cmpiw	#0x380,%d1
		bhiw	loc_4B9E6
		bsrw	CNZMinibossTop_CheckHitBase
		bnew	loc_4B9E6
		rts
/*  --------------------------------------------------------------------------- */

loc_4B93A:
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bmis	loc_4B9AE
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		subqw	#8,%d1
		cmpw	(Camera_Y_pos):w,%d1
		blsw	loc_4B9E6
		cmpiw	#0x240,%d1
		blsw	loc_4B9E6
		bsrw	CNZMinibossTop_CheckHitBase
		bnew	loc_4B9E6
		rts
/*  --------------------------------------------------------------------------- */

loc_4B968:
		lea	Child1_CNZBounceEffect(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	loc_4B97E
		tstw	0x18(%a0)
		bmis	loc_4B97E
		bset	#0,4(%a1)

loc_4B97E:
		moveq	#0x10,%d0
		negw	0x18(%a0)
		bmis	loc_4B988
		negw	%d0

loc_4B988:
		addw	0x10(%a0),%d0
		cmpiw	#0x3200,%d0
		blss	locret_4B9A6
		cmpiw	#0x3380,%d0
		bccs	locret_4B9A6
		movew	%d0,(Events_bg+0x00):w
		movew	0x14(%a0),(Events_bg+0x02):w
		bsrw	CNZMiniboss_BlockExplosion

locret_4B9A6:
		rts
/*  --------------------------------------------------------------------------- */

loc_4B9A8:
		negw	0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4B9AE:
		movew	0x10(%a0),%d0
		moveq	#8,%d1
		negw	0x1A(%a0)
		bmis	loc_4B9BC
		negw	%d1

loc_4B9BC:
		addw	0x14(%a0),%d1
		cmpiw	#0x3200,%d0
		blss	locret_4B9A6
		cmpiw	#0x3380,%d0
		bccs	locret_4B9A6
		cmpiw	#0x300,%d1
		bcss	locret_4B9A6
		cmpiw	#0x3380,%d1
		bccs	locret_4B9A6
		movew	%d0,(Events_bg+0x00):w
		movew	%d1,(Events_bg+0x02):w
		bsrw	CNZMiniboss_BlockExplosion
		rts
/*  --------------------------------------------------------------------------- */

loc_4B9E6:
		negw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4B9EC:
		lea	Child1_CNZMinibossExplosion(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveb	#6,0x2C(%a1)
		clrb	0x28(%a0)
		jsr	(Displace_PlayerOffObject):l
		jmp	(Go_Delete_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


CNZMiniboss_BlockExplosion:
		lea	Child1_CNZMinibossExplosion(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	locret_4BA3A
		moveb	#6,0x2C(%a1)
		movew	(Events_bg+0x00):w,%d0
		andiw	#-0x20,%d0
		addiw	#0x10,%d0
		movew	%d0,0x10(%a1)
		movew	(Events_bg+0x02):w,%d0
		andiw	#-0x20,%d0
		addiw	#0x10,%d0
		movew	%d0,0x14(%a1)

locret_4BA3A:
		rts
/*  End of function CNZMiniboss_BlockExplosion */

/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossCoil:
		movel	#Obj_CNZMinibossCoilClose,(%a0)
		moveb	#0x1A,0x28(%a0)
		moveb	#0x70,0x29(%a0)
		bclr	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossCoilClose:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4BACC
		btst	#6,0x38(%a1)
		bnes	loc_4BABE
		jsr	(Refresh_ChildPosition):l
		moveaw	0x46(%a0),%a1
		tstb	0x28(%a0)
		bnes	loc_4BAB2
		bset	#2,0x38(%a0)
		bnes	loc_4BA9E
		moveb	#0x10,0x3A(%a0)
		btst	#2,0x38(%a1)
		bnes	loc_4BA9E
		moveb	0x28(%a1),0x25(%a1)
		clrb	0x28(%a1)
		subqb	#1,0x29(%a1)

loc_4BA9E:
		subqb	#1,0x3A(%a0)
		bplw	locret_4B628
		bclr	#2,0x38(%a0)
		moveb	0x25(%a0),0x28(%a0)

loc_4BAB2:
		moveb	#0x70,0x29(%a0)
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

loc_4BABE:
		movel	#Obj_CNZMinibossCoilOpen,(%a0)
		moveb	#-0x57,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4BACC:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossCoilOpen:
		jsr	Refresh_ChildPosition(%pc)
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4BACC
		btst	#6,0x38(%a1)
		beqw	Obj_CNZMinibossCoil
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

loc_4BAF2:
		movel	#loc_4BB00,(%a0)
		moveb	#-0x56,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4BB00:
		jsr	Refresh_ChildPosition(%pc)
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTimedSparks:
		lea	ObjDat3_CNZMinibossSpark(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		bset	#4,0x2B(%a0)
		movel	#Obj_Wait,(%a0)
		movel	#Obj_CNZMinibossTimedSparksGo,0x34(%a0)
		movel	#AniRaw_CNZMinibossTimedSparkLeft,0x30(%a0)
		tstb	0x2C(%a0)
		beqs	locret_4BB42
		movel	#AniRaw_CNZMinibossTimedSparkRight,0x30(%a0)
		movew	#2,0x2E(%a0)

locret_4BB42:
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTimedSparksGo:
		movel	#Obj_CNZMinibossTimedSparksMain,(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossTimedSparksMain:
		jsr	Refresh_ChildPosition(%pc)
		jsr	(Animate_RawMultiDelay):l
		jsr	(Obj_Wait):l
		jmp	(Child_DrawTouch_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4BB70:
		lea	ObjDat3_CNZMinibossSpark(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		bset	#4,0x2B(%a0)
		movel	#Obj_CNZMinibossSparksMain,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		movel	off_4BB94(%pc,%d0.w),0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_4BB94:	.long AniRaw_CNZMinibossSparks1
		.long AniRaw_CNZMinibossSparks2
		.long AniRaw_CNZMinibossSparks3
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossSparksMain:
		moveaw	0x46(%a0),%a1
		btst	#6,0x38(%a1)
		beqw	loc_4BACC
		jsr	Refresh_ChildPosition(%pc)
		jsr	(Animate_RawMultiDelay):l
		jmp	(Child_DrawTouch_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossBounceEffect:
		lea	ObjDat3_CNZMbossBounceEffect(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		bset	#4,0x2B(%a0)
		movel	#AnimateRaw_DrawTouch,(%a0)
		movew	#0x3208,0x10(%a0)
		btst	#0,4(%a0)
		beqs	loc_4BBE6
		movew	#0x3378,0x10(%a0)

loc_4BBE6:
		movel	#AniRaw_CNZMBossBoundEffect,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_CNZMinibossDebris:
		lea	ObjDat_CNZMinibossDebris(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4BC26(%pc,%d0.w),0x42(%a0)
		lsrw	#1,%d0
		moveb	CNZMinibossDebris_Frames(%pc,%d0.w),0x22(%a0)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */
word_4BC26:	.word 0xF000
		.word 0x1000
		.word 0x14
		.word 0x1C
		.word 0x24
		.word 0x2C
		.word 0x34
		.word 0x3C
		.word 0x48
CNZMinibossDebris_Frames:.byte  0x12, 0x13, 0x14, 0x14, 0x14, 0x14, 0x14, 0x14, 0x15,   0
/*  --------------------------------------------------------------------------- */

SetUp_CNZMinibossSwing:
		movew	#0x60,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#8,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


CNZMiniboss_CheckPlayerHit:
		tstb	0x28(%a0)
		bnes	locret_4BCB2
		bset	#2,0x38(%a0)
		bnes	loc_4BCA0
		addqb	#1,0x29(%a0)
		moveb	#0x10,0x3A(%a0)
		bset	#3,0x38(%a0)
		bnes	loc_4BCA0
		moveb	#8,5(%a0)
		movel	#AniRaw_CNZMinibossOpening,0x30(%a0)
		movel	#Obj_CNZMinibossOpenGo,0x34(%a0)
		lea	(PalSPtr_CNZMinibossOpen):l,%a1
		lea	(Palette_rotation_data):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+

loc_4BCA0:
		subqb	#1,0x3A(%a0)
		bpls	locret_4BCB2
		bclr	#2,0x38(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_4BCB2:
		rts
/*  End of function CNZMiniboss_CheckPlayerHit */


/*  =============== S U B R O U T I N E ======================================= */


CNZMiniboss_CheckTopHit:
		tstb	0x44(%a0)
		beqs	locret_4BCFC
		tstb	0x20(%a0)
		bnes	loc_4BCDA
		subqb	#1,0x45(%a0)
		beqs	CNZMiniboss_BossDefeated
		bset	#6,0x2A(%a0)
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4BCDA:
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4BCE8
		addiw	#0xA,%d0

loc_4BCE8:
		bsrw	CNZMiniboss_BossFlash
		subqb	#1,0x20(%a0)
		bnes	locret_4BCFC
		bclr	#6,0x2A(%a0)
		clrb	0x44(%a0)

locret_4BCFC:
		rts
/*  --------------------------------------------------------------------------- */

CNZMiniboss_BossDefeated:
		movel	#Wait_Draw,(%a0)
		bset	#7,0x2A(%a0)
		movel	#Obj_CNZMinibossEnd,0x34(%a0)
		movew	#0x20,(Normal_palette_line_2+0x14):w
		st	(Events_fg_5):w
		lea	Child1_CNZMinibossExplosion(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	(BossDefeated_StopTimer):l
/*  End of function CNZMiniboss_CheckTopHit */


/*  =============== S U B R O U T I N E ======================================= */


CNZMiniboss_BossFlash:
		lea	word_4BD48(%pc),%a1
		lea	word_4BD52(%pc,%d0.w),%a2
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		rts
/*  End of function CNZMiniboss_BossFlash */

/*  --------------------------------------------------------------------------- */
word_4BD48:	.word Normal_palette_line_2+0x04, Normal_palette_line_2+0x06, Normal_palette_line_2+0x08
		.word Normal_palette_line_2+0x0E, Normal_palette_line_2+0x1C
word_4BD52:	.word   0x6E0,  0x280,   0x40,   0x28,  0x642
		.word   0x888,  0xAAA,  0xCCC,  0x888,  0xAAA
/*  --------------------------------------------------------------------------- */

CNZMiniboss_MakeTimedSparks:
		lea	(PalSPtr_CNZMinibossSparks):l,%a2
		movel	(%a2)+,(%a1)+
		movel	(%a2)+,(%a1)+
		lea	Child1_CNZMinibossTimedSparks(%pc),%a2
		jmp	CreateChild1_Normal(%pc)

/*  =============== S U B R O U T I N E ======================================= */


CNZMiniboss_MoveDown:
		movew	(Events_bg+0x04):w,%d0
		cmpw	0x3C(%a0),%d0
		beqs	locret_4BD98
		movew	%d0,0x3C(%a0)
		moveb	5(%a0),0x42(%a0)
		moveb	#0xE,5(%a0)
		moveb	#0x1F,0x43(%a0)

locret_4BD98:
		rts
/*  End of function CNZMiniboss_MoveDown */


/*  =============== S U B R O U T I N E ======================================= */


CNZMinibossTop_CheckPlayerBounce:
		lea	(Player_1):w,%a1
		bsrw	sub_4BDA8
		bnes	locret_4BE0E
		lea	(Player_2):w,%a1
/*  End of function CNZMinibossTop_CheckPlayerBounce */


/*  =============== S U B R O U T I N E ======================================= */


sub_4BDA8:
		tstw	0x1A(%a1)
		bpls	loc_4BE10
		cmpib	#2,0x20(%a1)
		bnes	loc_4BE10
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		addiw	#0xC,%d1
		movew	0x10(%a1),%d2
		subiw	#0x10,%d2
		cmpw	%d2,%d0
		bcss	loc_4BE10
		addiw	#0x20,%d2
		cmpw	%d2,%d0
		bccs	loc_4BE10
		movew	0x14(%a1),%d2
		subiw	#0x10,%d2
		cmpw	%d2,%d1
		bcss	loc_4BE10
		addiw	#0x20,%d2
		cmpw	%d2,%d1
		bccs	loc_4BE10
		tstw	0x18(%a1)
		bmis	loc_4BDFA
		tstw	0x18(%a0)
		bpls	loc_4BE04
		braw	loc_4BE00
/*  --------------------------------------------------------------------------- */

loc_4BDFA:
		tstw	0x18(%a0)
		bmis	loc_4BE04

loc_4BE00:
		negw	0x18(%a0)

loc_4BE04:
		tstw	0x1A(%a0)
		bmiw	loc_4BE10
		moveq	#1,%d0

locret_4BE0E:
		rts
/*  --------------------------------------------------------------------------- */

loc_4BE10:
		moveq	#0,%d0
		rts
/*  End of function sub_4BDA8 */


/*  =============== S U B R O U T I N E ======================================= */


CNZMinibossTop_CheckHitBase:
		moveaw	0x46(%a0),%a1
		lea	CNZMiniboss_BaseRange(%pc),%a2
		movew	0x10(%a1),%d2
		addw	(%a2)+,%d2
		cmpw	%d2,%d0
		bcss	loc_4BE3C
		addw	(%a2)+,%d2
		cmpw	%d2,%d0
		bccs	loc_4BE3C
		movew	0x14(%a1),%d2
		addw	(%a2)+,%d2
		cmpw	%d2,%d1
		bcss	loc_4BE3C
		addw	(%a2)+,%d2
		cmpw	%d2,%d1
		bcss	loc_4BE70

loc_4BE3C:
		lea	CNZMiniboss_CoilRange(%pc),%a2
		btst	#6,0x38(%a1)
		beqs	loc_4BE4C
		lea	CNZMiniboss_CoilOpenRange(%pc),%a2

loc_4BE4C:
		movew	0x10(%a1),%d2
		addw	(%a2)+,%d2
		cmpw	%d2,%d0
		bcss	loc_4BE6C
		addw	(%a2)+,%d2
		cmpw	%d2,%d0
		bccs	loc_4BE6C
		movew	0x14(%a1),%d2
		addw	(%a2)+,%d2
		cmpw	%d2,%d1
		bcss	loc_4BE6C
		addw	(%a2)+,%d2
		cmpw	%d2,%d1
		bcss	loc_4BE70

loc_4BE6C:
		moveq	#0,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_4BE70:
		btst	#6,0x38(%a1)
		beqs	loc_4BE7C
		st	0x44(%a1)

loc_4BE7C:
		moveq	#1,%d2
		rts
/*  End of function CNZMinibossTop_CheckHitBase */

/*  --------------------------------------------------------------------------- */
CNZMiniboss_BaseRange:.word  0xFFE8,   0x30
		.word  0xFFF0,   0x20
CNZMiniboss_CoilRange:.word  0xFFF4,   0x18
		.word    0x10,   0x18
CNZMiniboss_CoilOpenRange:.word  0xFFF4,   0x18
		.word    0x10,   0x38
ObjDat_CNZMiniboss:.long	Map_CNZMiniboss
		.word 0xA52E
		.word 0x280
		.byte 0x18
		.byte 0x30
		.byte 0
		.byte 0xC
ObjDat3_CNZMinibossTop:.word 0x200
		.byte 0x18
		.byte 0x10
		.byte 7
		.byte 0xAA
ObjDat3_CNZMinibossSpark:.word 0x200
		.byte 0xC
		.byte 0x18
		.byte 0xA
		.byte 0x92
ObjDat3_CNZMbossBounceEffect:.word 0x100
		.byte 8
		.byte 8
		.byte 0xC
		.byte 0
ObjDat_CNZMinibossDebris:.long Map_CNZMiniboss
		.word 0xA52E
		.word 0x100
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
Child1_CNZMinibossMakeTop:.word 1
		.long loc_4B7E8
		.word 0x2C
		.long Obj_CNZMinibossCoil
		.word 0x1C
Child1_CNZMinibossTimedSparks:.word 1
		.long Obj_CNZMinibossTimedSparks
		.word 0xEC18
		.long Obj_CNZMinibossTimedSparks
		.word 0x1418
		.word 0
		.long loc_4BAF2
		.word 0xFC
Child1_CNZCoilOpenSparks:.word 2
		.long loc_4BB70
		.word 0xFC28
		.long loc_4BB70
		.word 0x42C
		.long loc_4BB70
		.word 0xFC3C
Child1_CNZBounceEffect:.word 0
		.long Obj_CNZMinibossBounceEffect
		.word 0xFC
Child1_CNZMinibossExplosion:.word 0
		.long Obj_CreateBossExplosion
		.word 0
Child6_CNZMinibossMakeDebris:.word 8
		.long Obj_CNZMinibossDebris
AniRaw_CNZMinibossOpening:.byte    0,   3
		.byte    1,   3
		.byte    2,   3
		.byte    3,   3
		.byte    4,   3
		.byte    5,   3
		.byte    6,   3
		.byte  0xF4
AniRaw_CNZMinibossClosing:.byte    6,   3
		.byte    5,   3
		.byte    4,   3
		.byte    3,   3
		.byte    2,   3
		.byte    1,   3
		.byte    0,   3
		.byte  0xF4
AniRaw_CNZMinibossTop:.byte    7,   8,   7,   8,   9, 0xFC
AniRaw_CNZMinibossTop2:.byte    0,   7,   8,   9, 0xFC
AniRaw_CNZMinibossTimedSparkLeft:.byte   0xA,   0
		.byte  0x11,   2
		.byte   0xB,   0
		.byte  0x11,   2
		.byte  0xFC
AniRaw_CNZMinibossTimedSparkRight:.byte   0xF,   0
		.byte  0x11,   2
		.byte  0x10,   0
		.byte  0x11,   2
		.byte  0xFC
AniRaw_CNZMinibossSparks1:.byte   0xA,   0
		.byte  0x11,   7
		.byte   0xB,   0
		.byte  0x11,   7
		.byte  0xFC
AniRaw_CNZMinibossSparks2:.byte  0x11,   0
		.byte   0xF,   0
		.byte  0x11,   7
		.byte  0x10,   0
		.byte  0x11,   9
		.byte  0xFC
AniRaw_CNZMinibossSparks3:.byte   0xA,   0
		.byte  0x11,   7
		.byte   0xB,   0
		.byte  0x11,  0xB
		.byte  0xFC
AniRaw_CNZMBossBoundEffect:.byte   0xC,   0,  0xD,   1,  0xE,   1, 0xF4,   0
Pal_CNZMiniboss:.incbin "Levels/CNZ/Palettes/Miniboss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_CNZEndBoss:
		lea	word_4BFEC(%pc),%a1
		jsr	(Check_CameraInRange):l
		movel	#loc_4BFF4,(%a0)
		moveb	#1,(Boss_flag):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		moveb	#mus_EndBoss,0x26(%a0)
		movew	(Camera_target_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	#0x240,(Camera_target_max_Y_pos):w
		movew	#0x4760,0x1C(%a0)
		movew	#0x47E0,(Camera_max_X_pos):w
		movel	#loc_4BFFA,0x34(%a0)
		moveq	#0x6E,%d0
		jsr	(Load_PLC):l
		lea	Pal_CNZEndBoss(%pc),%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */
word_4BFEC:	.word      0,  0x300
		.word  0x4780, 0x4900
/*  --------------------------------------------------------------------------- */

loc_4BFF4:
		jmp	(loc_541C8):l
/*  --------------------------------------------------------------------------- */

loc_4BFFA:
		movel	#loc_4C002,(%a0)

locret_4C000:
		rts
/*  --------------------------------------------------------------------------- */

loc_4C002:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4C01C(%pc,%d0.w),%d1
		jsr	off_4C01C(%pc,%d1.w)
		bsrw	sub_4C714
		bsrw	sub_4C778
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4C01C:	.word loc_4C02C-off_4C01C
		.word loc_4C07A-off_4C01C
		.word loc_4C0A2-off_4C01C
		.word loc_4C0E2-off_4C01C
		.word loc_4C102-off_4C01C
		.word loc_4C154-off_4C01C
		.word loc_4C1A4-off_4C01C
		.word loc_4C1CE-off_4C01C
/*  --------------------------------------------------------------------------- */

loc_4C02C:
		lea	ObjDat3_4C85A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#8,0x29(%a0)
		movew	0x14(%a0),0x3A(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4C08C,0x34(%a0)
		movew	#-0x100,0x18(%a0)
		jsr	Swing_Setup1(%pc)
		lea	(ChildObjDat_46426):l,%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	loc_4C06A
		moveb	#9,0x2C(%a1)

loc_4C06A:
		lea	ChildObjDat_4C8A2(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_4C8AA(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C07A:
		jsr	Swing_UpAndDown(%pc)
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C088:
		jsr	Swing_Setup1(%pc)

loc_4C08C:
		moveb	#4,5(%a0)
		movew	#0xB4,0x2E(%a0)
		movel	#loc_4C0D0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C0A2:
		jsr	Find_SonicTails(%pc)
		addiw	#0x10,%d2
		cmpiw	#0x20,%d2
		bcss	loc_4C0CA
		movew	#0x100,%d1
		bset	#0,4(%a0)
		tstw	%d0
		bnes	loc_4C0C6
		negw	%d1
		bclr	#0,4(%a0)

loc_4C0C6:
		movew	%d1,0x18(%a0)

loc_4C0CA:
		jmp	(Swing_MoveWaitNoFall):l
/*  --------------------------------------------------------------------------- */

loc_4C0D0:
		moveb	#6,5(%a0)
		bset	#1,0x38(%a0)
		clrw	0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C0E2:
		jsr	Swing_UpAndDown(%pc)
		jsr	(MoveSprite2):l
		btst	#1,0x38(%a0)
		beqs	loc_4C0F6
		rts
/*  --------------------------------------------------------------------------- */

loc_4C0F6:
		moveb	#8,5(%a0)
		clrw	0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C102:
		jsr	Swing_UpAndDown(%pc)
		jsr	(MoveSprite2):l
		movew	0x10(%a0),%d0
		moveaw	0x44(%a0),%a1
		cmpw	0x10(%a1),%d0
		beqs	loc_4C138
		bhis	loc_4C12A
		addqw	#1,%d0
		movew	%d0,0x10(%a0)
		bset	#0,4(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C12A:
		subqw	#1,%d0
		bclr	#0,4(%a0)
		movew	%d0,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C138:
		moveb	#0xA,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0xBF,0x2E(%a0)
		movel	#loc_4C158,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C154:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C158:
		bset	#2,0x38(%a0)
		movew	#0xFF,0x2E(%a0)
		movel	#loc_4C174,0x34(%a0)
		lea	ChildObjDat_4C8BA(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C174:
		bclr	#2,0x38(%a0)
		bset	#7,0x38(%a0)
		movew	#0xFF,0x2E(%a0)
		movel	#loc_4C190,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C190:
		moveb	#0xC,5(%a0)
		bclr	#3,0x38(%a0)
		bclr	#7,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C1A4:
		movew	0x14(%a0),%d0
		addqw	#1,%d0
		moveaw	0x44(%a0),%a1
		movew	0x14(%a1),%d1
		subiw	#0x14,%d1
		cmpw	%d1,%d0
		bccs	loc_4C1C0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C1C0:
		moveb	#0xE,5(%a0)
		bset	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C1CE:
		movew	0x14(%a0),%d0
		subqw	#1,%d0
		cmpw	0x3A(%a0),%d0
		blss	loc_4C1E0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C1E0:
		movew	0x3A(%a0),0x14(%a0)
		braw	loc_4C088
/*  --------------------------------------------------------------------------- */

loc_4C1EA:
		movel	#Obj_Wait,(%a0)
		bclr	#7,4(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4C21A,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	ChildObjDat_4C8D6(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C21A:
		movel	#loc_4C240,(%a0)
		st	(_unkFAA8):w
		clrb	(Boss_flag):w
		jsr	(Obj_PlayLevelMusic):l
		movew	#0x48F0,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_4C240:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		tstb	(_unkFAA8):w
		bnew	locret_4C000
		movel	#loc_4C28C,(%a0)
		clrb	(_unkFAA8):w
		jsr	(Restore_PlayerControl):l
		lea	(Player_2):w,%a1
		jsr	(Restore_PlayerControl2):l
		movew	#0x200,(Target_camera_min_Y_pos):w
		lea	(Child6_DecLevY):l,%a2
		jsr	(CreateChild6_Simple):l
		movew	#0x4A70,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_4C28C:
		cmpiw	#0x4A30,(Player_1+x_pos):w
		bcss	locret_4C2C8
		movel	#loc_4C2CA,(%a0)
		lea	(ArtKosM_BadnikExplosion):l,%a1
		movew	#-0x4C00,%d2
		jsr	(Queue_Kos_Module):l
		jsr	(Create_New_Sprite):l
		bnes	locret_4C2C8
		movew	%a1,0x44(%a0)
		movel	#Obj_CNZCannon,(%a1)
		movew	#0x4B20,0x10(%a1)
		movew	#0x2A8,0x14(%a1)

locret_4C2C8:
		rts
/*  --------------------------------------------------------------------------- */

loc_4C2CA:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		moveaw	0x44(%a0),%a1
		cmpib	#1,0x30(%a1)
		bnew	locret_4C000
		movel	#loc_4C2F4,(%a0)
		movew	#0x200,%d0
		movew	%d0,(Camera_target_max_Y_pos):w
		movew	#0xBF,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C2F4:
		subqw	#1,0x2E(%a0)
		bplw	locret_4C000
		moveaw	0x44(%a0),%a1
		cmpib	#0x12,0x26(%a1)
		bnew	locret_4C000
		movel	#loc_4C31C,(%a0)
		movew	#0x7070,(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4C31C:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x20,%d0
		cmpw	(Player_1+y_pos):w,%d0
		bcsw	locret_4C000
		movew	#0x500,%d0
		jsr	(StartNewLevel):l
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_4C33C:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4C352(%pc,%d0.w),%d1
		jsr	off_4C352(%pc,%d1.w)
		bsrw	sub_4C7FC
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4C352:	.word loc_4C35E-off_4C352
		.word loc_4C376-off_4C352
		.word loc_4C3AA-off_4C352
		.word loc_4C3EE-off_4C352
		.word loc_4C404-off_4C352
		.word loc_4C424-off_4C352
/*  --------------------------------------------------------------------------- */

loc_4C35E:
		lea	ObjDat3_4C872(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#0x10,0x1E(%a0)
		movel	#byte_4C8F3,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C376:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_4C388
		rts
/*  --------------------------------------------------------------------------- */

loc_4C388:
		moveb	#4,5(%a0)
		movel	#loc_4C3BC,0x34(%a0)
		jsr	Find_SonicTails(%pc)
		movew	#0x100,%d1
		tstw	%d0
		bnes	loc_4C3A4
		negw	%d1

loc_4C3A4:
		movew	%d1,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C3AA:
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmiw	locret_4C000
		jmp	ObjHitFloor_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C3BC:
		moveq	#sfx_FloorThump,%d0
		jsr	(Play_Sound_2):l
		movew	0x1A(%a0),%d0
		cmpiw	#0x80,%d0
		bcss	loc_4C3D8
		asrw	#1,%d0
		negw	%d0
		movew	%d0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C3D8:
		moveb	#6,5(%a0)
		moveaw	0x46(%a0),%a1
		movew	%a0,0x44(%a1)
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C3EE:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4C3FC
		rts
/*  --------------------------------------------------------------------------- */

loc_4C3FC:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C404:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_4C414
		jmp	Animate_RawMultiDelay(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C414:
		moveb	#0xA,5(%a0)
		moveb	#4,0x22(%a0)
		braw	loc_4C5BC
/*  --------------------------------------------------------------------------- */

loc_4C424:
		moveaw	0x46(%a0),%a1
		bclr	#3,0x38(%a1)
		bnes	loc_4C432
		rts
/*  --------------------------------------------------------------------------- */

loc_4C432:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C43A:
		lea	word_4C87E(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#Obj_FlickerMove,(%a0)
		tstb	0x2C(%a0)
		beqs	loc_4C454
		bset	#0,4(%a0)

loc_4C454:
		moveq	#8,%d0
		jmp	(Set_IndexedVelocity):l
/*  --------------------------------------------------------------------------- */

loc_4C45C:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4C484(%pc,%d0.w),%d1
		jsr	off_4C484(%pc,%d1.w)
		lea	(CNZEndBossMagnet_AngleX):l,%a1
		jsr	MoveSprite_AngleXLookupOffset(%pc)
		bsrw	sub_4C6B2
		bsrw	sub_4C6CA
		bsrw	sub_4C824
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4C484:	.word loc_4C492-off_4C484
		.word loc_4C4AE-off_4C484
		.word loc_4C4DE-off_4C484
		.word loc_4C51C-off_4C484
		.word loc_4C550-off_4C484
		.word loc_4C582-off_4C484
		.word loc_4C5A0-off_4C484
/*  --------------------------------------------------------------------------- */

loc_4C492:
		lea	ObjDat3_4C88A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	0x2C(%a0),%d0
		lslb	#5,%d0
		moveb	%d0,0x3C(%a0)
		movel	#byte_4C8E4,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C4AE:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4C4BC
		rts
/*  --------------------------------------------------------------------------- */

loc_4C4BC:
		moveb	#4,5(%a0)
		moveb	#1,0x40(%a0)
		movew	#0x40,0x2E(%a0)
		movel	#loc_4C510,0x34(%a0)
		moveb	0x3C(%a0),0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C4DE:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4C4FA
		moveb	0x40(%a0),%d0
		addb	%d0,0x3C(%a0)
		jsr	Animate_RawMultiDelay(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C4FA:
		moveb	#6,5(%a0)
		lea	ChildObjDat_4C8B2(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveb	0x2C(%a0),0x2C(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C510:
		addqb	#1,0x40(%a0)
		movew	#0x40,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C51C:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_4C534
		moveb	0x40(%a0),%d0
		addb	%d0,0x3C(%a0)
		jmp	Animate_RawMultiDelay(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C534:
		moveb	#8,5(%a0)
		bset	#7,0x38(%a0)
		movew	#0x40,0x2E(%a0)
		movel	#loc_4C560,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C550:
		moveb	0x40(%a0),%d0
		addb	%d0,0x3C(%a0)
		jsr	Animate_RawMultiDelay(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C560:
		cmpib	#1,0x40(%a0)
		beqs	loc_4C574
		subqb	#1,0x40(%a0)
		movew	#0x40,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C574:
		moveb	#0xA,5(%a0)
		bclr	#7,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C582:
		jsr	Animate_RawMultiDelay(%pc)
		moveb	0x3C(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x3C(%a0)
		cmpb	0x3A(%a0),%d0
		beqs	loc_4C598
		rts
/*  --------------------------------------------------------------------------- */

loc_4C598:
		moveb	#0xC,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C5A0:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_4C5B0
		jmp	Animate_RawMultiDelay(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C5B0:
		moveb	#2,5(%a0)
		moveb	#1,0x22(%a0)

loc_4C5BC:
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4C5C6:
		lea	ObjDat3_4C896(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		bset	#4,0x2B(%a0)
		movel	#byte_4C902,0x30(%a0)
		movel	#loc_4C618,0x34(%a0)
		btst	#1,0x2C(%a0)
		beqs	loc_4C5F6
		movel	#loc_4C5F6,(%a0)
		braw	sub_4C6F8
/*  --------------------------------------------------------------------------- */

loc_4C5F6:
		movel	#loc_4C600,(%a0)
		braw	sub_4C6F8
/*  --------------------------------------------------------------------------- */

loc_4C600:
		moveq	#sfx_GravityMachine,%d0
		jsr	(sub_542A6):l
		jsr	Refresh_ChildPosition(%pc)
		jsr	Animate_Raw(%pc)
		bsrw	sub_4C6F8
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C618:
		moveb	#9,0x22(%a0)
		moveb	0x39(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x39(%a0)
		andib	#3,%d0
		andib	#-4,4(%a0)
		orb	%d0,4(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		lea	ObjDat3_4C896(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		bset	#4,0x2B(%a0)
		movel	#loc_4C618,0x34(%a0)
		moveb	0x2C(%a0),%d0
		beqs	loc_4C666
		movel	#byte_4C911,0x30(%a0)
		movel	#loc_4C66E,(%a0)
		braw	sub_4C6F8
/*  --------------------------------------------------------------------------- */

loc_4C666:
		movel	#byte_4C908,0x30(%a0)

loc_4C66E:
		movel	#loc_4C678,(%a0)
		braw	sub_4C6F8
/*  --------------------------------------------------------------------------- */

loc_4C678:
		jsr	Refresh_ChildPosition(%pc)
		jsr	Animate_RawMultiDelay(%pc)
		bsrw	sub_4C6F8
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C688:
		lea	word_4C884(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveb	0x2C(%a0),%d0
		lsrb	#1,%d0
		addib	#0xB,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0,%d0
		jsr	(Set_IndexedVelocity):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_4C6B2:
		moveb	0x3C(%a0),%d0
		movew	#0x200,8(%a0)
		addib	#0x40,%d0
		bpls	locret_4C6C8
		movew	#0x280,8(%a0)

locret_4C6C8:
		rts
/*  End of function sub_4C6B2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4C6CA:
		cmpib	#3,0x22(%a0)
		beqs	locret_4C6EC
		moveb	0x3C(%a0),%d0
		lea	byte_4C6EE(%pc),%a1
		moveq	#4,%d6

loc_4C6DC:
		cmpb	(%a1)+,%d0
		bcss	loc_4C6E8
		addqw	#1,%a1
		dbf	%d6,loc_4C6DC
		rts
/*  --------------------------------------------------------------------------- */

loc_4C6E8:
		moveb	(%a1)+,0x22(%a0)

locret_4C6EC:
		rts
/*  End of function sub_4C6CA */

/*  --------------------------------------------------------------------------- */
byte_4C6EE:	.byte  0x30,   1
		.byte  0x58,   8
		.byte  0xA8,   2
		.byte  0xD0,   8
		.byte  0xFF,   1

/*  =============== S U B R O U T I N E ======================================= */


sub_4C6F8:
		moveaw	0x46(%a0),%a1
		btst	#7,0x38(%a1)
		bnes	loc_4C70E
		btst	#7,0x2A(%a1)
		bnes	loc_4C70E
		rts
/*  --------------------------------------------------------------------------- */

loc_4C70E:
		jmp	(Go_Delete_Sprite):l
/*  End of function sub_4C6F8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4C714:
		btst	#2,0x38(%a0)
		bnes	loc_4C71E
		rts
/*  --------------------------------------------------------------------------- */

loc_4C71E:
		lea	(Player_1):w,%a1
		bsrw	sub_4C72A
		lea	(Player_2):w,%a1
/*  End of function sub_4C714 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4C72A:
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		%spl	%d1
		bpls	loc_4C738
		negw	%d0

loc_4C738:
		andiw	#-0x40,%d0
		cmpiw	#0x1C0,%d0
		bcss	loc_4C746
		movew	#0x1C0,%d0

loc_4C746:
		lsrw	#4,%d0
		movel	dword_4C758(%pc,%d0.w),%d2
		tstb	%d1
		bnes	loc_4C752
		negl	%d2

loc_4C752:
		addl	%d2,0x10(%a1)
		rts
/*  End of function sub_4C72A */

/*  --------------------------------------------------------------------------- */
dword_4C758:	.long 0x28000
		.long 0x20000
		.long 0x1C000
		.long 0x18000
		.long 0x14000
		.long 0x10000
		.long 0xC000
		.long 0x8000

/*  =============== S U B R O U T I N E ======================================= */


sub_4C778:
		tstl	(%a0)
		beqs	locret_4C7CE
		tstb	0x28(%a0)
		bnes	locret_4C7CE
		tstb	0x29(%a0)
		beqs	loc_4C7D0
		tstb	0x20(%a0)
		bnes	loc_4C79C
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4C79C:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4C7AE
		addqw	#8,%d0

loc_4C7AE:
		lea	word_4C7E4(%pc),%a1
		lea	word_4C7EC(%pc,%d0.w),%a2
		jsr	(CopyWordData_4):l
		subqb	#1,0x20(%a0)
		bnes	locret_4C7CE
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_4C7CE:
		rts
/*  --------------------------------------------------------------------------- */

loc_4C7D0:
		movel	#Wait_Draw,(%a0)
		movel	#loc_4C1EA,0x34(%a0)
		jmp	(BossDefeated_StopTimer):l
/*  End of function sub_4C778 */

/*  --------------------------------------------------------------------------- */
word_4C7E4:	.word Normal_palette_line_2+0x12, Normal_palette_line_2+0x14, Normal_palette_line_2+0x16, Normal_palette_line_2+0x1C
word_4C7EC:	.word    0x60,   0x20,   0x20,  0x640
		.word   0x888,  0xEEE,  0xEEE,  0xAAA

/*  =============== S U B R O U T I N E ======================================= */


sub_4C7FC:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	loc_4C80C
		clrb	0x28(%a0)

loc_4C80C:
		btst	#4,0x38(%a1)
		bnes	loc_4C816
		rts
/*  --------------------------------------------------------------------------- */

loc_4C816:
		movel	#Delete_Current_Sprite,(%a0)
		lea	ChildObjDat_4C8C8(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  End of function sub_4C7FC */


/*  =============== S U B R O U T I N E ======================================= */


sub_4C824:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	loc_4C834
		clrb	0x28(%a0)

loc_4C834:
		btst	#4,0x38(%a1)
		bnes	loc_4C83E
		rts
/*  --------------------------------------------------------------------------- */

loc_4C83E:
		bset	#7,0x2A(%a0)
		moveb	#1,0x22(%a0)
		clrb	0x28(%a0)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  End of function sub_4C824 */

/*  --------------------------------------------------------------------------- */
ObjDat3_4C85A:	.long Map_CNZEndBoss
		.word 0x2430
		.word 0x280
		.byte 0x40
		.byte 0x14
		.byte 0
		.byte 6
		.long Map_RobotnikShip
		.word 0x852E
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 5
		.byte 0
ObjDat3_4C872:	.long Map_CNZEndBoss
		.word 0x2430
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 4
		.byte 0x8B
word_4C87E:	.word 0x280
		.byte 8
		.byte 0x10
		.byte 0xA
		.byte 0
word_4C884:	.word 0x280
		.byte 0x14
		.byte 0x14
		.byte 0
		.byte 0
ObjDat3_4C88A:	.long Map_CNZEndBoss
		.word 0x2430
		.word 0x200
		.byte 8
		.byte 0x10
		.byte 1
		.byte 0x9E
ObjDat3_4C896:	.long Map_CNZEndBoss
		.word 0x2430
		.word 0x80
		.byte 0x10
		.byte 0x40
		.byte 6
		.byte 0xAB
ChildObjDat_4C8A2:.word 0
		.long loc_4C33C
		.word 0x14
ChildObjDat_4C8AA:.word 3
		.long loc_4C45C
		.word 8
ChildObjDat_4C8B2:.word 0
		.long loc_4C5C6
		.word 0x4C
ChildObjDat_4C8BA:.word 1
		.long loc_4C5C6
		.word 0xF454
		.long loc_4C5C6
		.word 0xC54
ChildObjDat_4C8C8:.word 1
		.long loc_4C43A
		.word 0xF800
		.long loc_4C43A
		.word 0x800
ChildObjDat_4C8D6:.word 1
		.long loc_4C688
		.word 0xEC00
		.long loc_4C688
		.word 0x1400
byte_4C8E4:	.byte    1,   0
		.byte    3,   0
		.byte    1,   0
		.byte    3,   0
		.byte    1,   4
		.byte    3,   0
		.byte    1,   9
		.byte  0xFC
byte_4C8F3:	.byte    4,   0
		.byte    5,   0
		.byte    4,   0
		.byte    5,   0
		.byte    4,   4
		.byte    5,   0
		.byte    4,   9
		.byte  0xFC
byte_4C902:	.byte    0,   9
		.byte    6,   9
		.byte    7, 0xF4
byte_4C908:	.byte    9, 0x1F
		.byte    6,   0
		.byte    9,   2
		.byte    7,   0
		.byte  0xFC
byte_4C911:	.byte    9, 0x24,   6,   0
		.byte    9,   2,   7,   0
		.byte  0xFC,   7,   0,   1
		.byte  0xFC
Pal_CNZEndBoss:	.incbin "Levels/CNZ/Palettes/End Boss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_AA_1_FBZ1_Boss:
		lea	word_4C96E(%pc),%a1
		jsr	(Check_CameraInRange):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4C964(%pc,%d0.w),%d1
		jsr	off_4C964(%pc,%d1.w)
		bsrw	sub_4D1B8
		bsrw	sub_4D3C6
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4C964:	.word loc_4C976-off_4C964
		.word loc_4C9C4-off_4C964
		.word loc_4C9E4-off_4C964
		.word loc_4CA0C-off_4C964
		.word loc_4CA20-off_4C964
word_4C96E:	.word   0x440,  0x600
		.word  0x2D00, 0x2F00
/*  --------------------------------------------------------------------------- */

loc_4C976:
		lea	ObjDat3_4D468(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#6,0x29(%a0)
		moveb	#1,(Boss_flag):w
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	(Camera_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	#0x540,(Camera_target_max_Y_pos):w
		movew	#0x2E20,0x3A(%a0)
		movel	#loc_4C9CA,0x34(%a0)
		moveq	#0x5E,%d0
		jsr	(Load_PLC):l
		lea	Pal_FBZMiniboss(%pc),%a1
		jsr	(PalLoad_Line1):l
		lea	ChildObjDat_4D4B6(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4C9C4:
		jmp	(loc_541A2):l
/*  --------------------------------------------------------------------------- */

loc_4C9CA:
		moveb	#4,5(%a0)
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	%d0,(Camera_min_X_pos):w
		addiw	#0x40,%d0
		movew	%d0,(Camera_max_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4C9E4:
		btst	#0,0x38(%a0)
		bnes	loc_4C9EE
		rts
/*  --------------------------------------------------------------------------- */

loc_4C9EE:
		moveb	#6,5(%a0)
		movel	#loc_4CA10,0x34(%a0)
		movew	#0x78,0x2E(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l

locret_4CA0A:
		rts
/*  --------------------------------------------------------------------------- */

loc_4CA0C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CA10:
		moveb	#8,5(%a0)
		moveq	#mus_Miniboss,%d0
		jsr	(Play_Sound):l
		rts
/*  --------------------------------------------------------------------------- */

loc_4CA20:
		bclr	#7,0x38(%a0)
		beqs	locret_4CA0A
		lea	ChildObjDat_4D4E8(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CA30:
		jsr	(Obj_EndSignControl):l
		lea	ChildObjDat_4D4F0(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		lea	ChildObjDat_4D4F6(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	(ChildObjDat_54AC4):l,%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CA50:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4CA68(%pc,%d0.w),%d1
		jsr	off_4CA68(%pc,%d1.w)
		bsrw	sub_4D1C8
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
off_4CA68:	.word loc_4CA6C-off_4CA68
		.word loc_4CA7C-off_4CA68
/*  --------------------------------------------------------------------------- */

loc_4CA6C:
		lea	ObjDat3_4D498(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movew	0x14(%a0),0x3E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CA7C:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4CAB6
		movew	0x3E(%a0),%d0
		btst	#3,0x2A(%a0)
		bnes	loc_4CAA8
		btst	#2,0x38(%a1)
		bnes	loc_4CAA8
		bclr	#0,0x38(%a1)
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CAA8:
		bset	#0,0x38(%a1)
		addqw	#4,%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CAB6:
		movel	#loc_4CAD6,(%a0)
		movel	#Map_EggCapsule,0xC(%a0)
		movew	#-0x7BB2,0xA(%a0)
		moveb	#5,0x22(%a0)
		addqw	#8,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CAD6:
		bsrw	sub_4D1C8
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_4CAE0:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4CAF2(%pc,%d0.w),%d1
		jsr	off_4CAF2(%pc,%d1.w)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */
off_4CAF2:	.word loc_4CAFA-off_4CAF2
		.word loc_4CB02-off_4CAF2
		.word loc_4CB26-off_4CAF2
		.word loc_4CB32-off_4CAF2
/*  --------------------------------------------------------------------------- */

loc_4CAFA:
		lea	word_4D48C(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CB02:
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		bnes	loc_4CB10
		rts
/*  --------------------------------------------------------------------------- */

loc_4CB10:
		moveb	#4,5(%a0)
		movew	#0x40,0x2E(%a0)
		movel	#loc_4CB2A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CB26:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CB2A:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CB32:
		btst	#2,(V_int_run_count+3):w
		jsr	Find_SonicTails8Way(%pc)
		addiw	#9,%d4
		moveb	%d4,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CB46:
		lea	word_4D492(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4CB78,(%a0)
		movew	#0xEEE,(Normal_palette_line_2+0x1E):w
		lea	(word_4D540):l,%a1
		lea	(Palette_rotation_data):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		clrw	(%a2)
		movel	#Go_Delete_Sprite,(Palette_rotation_custom):w
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4CB78:
		jsr	(Run_PalRotationScript):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4CB84:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4CB96(%pc,%d0.w),%d1
		jsr	off_4CB96(%pc,%d1.w)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */
off_4CB96:	.word loc_4CB9E-off_4CB96
		.word loc_4CBB4-off_4CB96
		.word loc_4CBD4-off_4CB96
		.word locret_4CBE6-off_4CB96
/*  --------------------------------------------------------------------------- */

loc_4CB9E:
		lea	word_4D474(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveb	0x2C(%a0),%d0
		lsrb	#1,%d0
		addqb	#1,%d0
		moveb	%d0,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CBB4:
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		bnes	loc_4CBC2
		rts
/*  --------------------------------------------------------------------------- */

loc_4CBC2:
		moveb	#4,5(%a0)
		movel	#loc_4CBDE,0x34(%a0)
		braw	loc_4D1D8
/*  --------------------------------------------------------------------------- */

loc_4CBD4:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CBDE:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_4CBE6:
		rts
/*  --------------------------------------------------------------------------- */

loc_4CBE8:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4CC00(%pc,%d0.w),%d1
		jsr	off_4CC00(%pc,%d1.w)
		bsrw	sub_4D448
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4CC00:	.word loc_4CC16-off_4CC00
		.word loc_4CC44-off_4CC00
		.word loc_4CC62-off_4CC00
		.word loc_4CC84-off_4CC00
		.word loc_4CC62-off_4CC00
		.word loc_4CD08-off_4CC00
		.word loc_4CDA0-off_4CC00
		.word loc_4CC62-off_4CC00
		.word loc_4CDE0-off_4CC00
		.word loc_4CDEC-off_4CC00
		.word loc_4CC62-off_4CC00
/*  --------------------------------------------------------------------------- */

loc_4CC16:
		lea	word_4D47A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movew	#-0x140,%d0
		subib	#0xA,0x2C(%a0)
		beqs	loc_4CC38
		negw	%d0
		bset	#0,4(%a0)
		movew	#0x3F,0x2E(%a0)

loc_4CC38:
		movew	%d0,0x18(%a0)
		movew	#-0xD0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CC44:
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		bnes	loc_4CC52
		rts
/*  --------------------------------------------------------------------------- */

loc_4CC52:
		moveb	#4,5(%a0)
		movel	#loc_4CC66,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CC62:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CC66:
		moveb	#6,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4CC8E,0x34(%a0)
		lea	word_4D4E2(%pc),%a2
		jmp	(CreateChild4_LinkListRepeated):l
/*  --------------------------------------------------------------------------- */

loc_4CC84:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CC8E:
		moveb	#8,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4CCAA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CCAA:
		moveb	#0xA,5(%a0)
		bset	#2,0x38(%a0)
		bclr	#3,0x38(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		bclr	#1,0x38(%a0)
		bclr	#6,0x38(%a1)
		bclr	#6,0x38(%a0)
		movew	#0x78,0x2E(%a0)
		movel	#loc_4CD10,0x34(%a0)
		moveb	#-0x60,0x3C(%a0)
		moveb	#2,0x40(%a0)
		btst	#0,4(%a0)
		beqs	locret_4CD06
		moveb	#0x60,0x3C(%a0)
		moveb	#-2,0x40(%a0)

locret_4CD06:
		rts
/*  --------------------------------------------------------------------------- */

loc_4CD08:
		bsrw	sub_4D224
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CD10:
		movew	#0xF0,0x2E(%a0)
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		beqs	loc_4CD4C
		btst	#1,0x38(%a1)
		bnew	locret_4CA0A
		moveb	#0xC,5(%a0)
		bclr	#2,0x38(%a0)
		bset	#1,0x38(%a1)
		bset	#1,0x38(%a0)
		bset	#7,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CD4C:
		btst	#6,0x38(%a1)
		bnew	locret_4CA0A
		lea	(Player_1):w,%a2
		tstb	0x40(%a2)
		bnew	locret_4CA0A
		movew	0x10(%a2),%d0
		cmpw	0x10(%a1),%d0
		bccs	loc_4CD76
		btst	#0,4(%a0)
		beqs	loc_4CD80
		rts
/*  --------------------------------------------------------------------------- */

loc_4CD76:
		btst	#0,4(%a0)
		beqw	locret_4CA0A

loc_4CD80:
		moveb	#0x12,5(%a0)
		bclr	#2,0x38(%a0)
		bset	#6,0x38(%a1)
		bset	#6,0x38(%a0)
		bset	#7,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CDA0:
		btst	#3,0x38(%a0)
		bnes	loc_4CDAC
		braw	sub_4D262
/*  --------------------------------------------------------------------------- */

loc_4CDAC:
		moveb	#0xE,5(%a0)
		moveb	#2,0x40(%a0)
		movew	#0x60,0x2E(%a0)
		movel	#loc_4CDC8,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CDC8:
		moveb	#0x10,5(%a0)
		bclr	#3,0x38(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#2,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CDE0:
		btst	#2,0x38(%a0)
		bnew	loc_4CCAA
		rts
/*  --------------------------------------------------------------------------- */

loc_4CDEC:
		bclr	#3,0x38(%a0)
		bnes	loc_4CDF6
		rts
/*  --------------------------------------------------------------------------- */

loc_4CDF6:
		moveb	#0x14,5(%a0)
		movew	#0x10,0x2E(%a0)
		movel	#loc_4CE0C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CE0C:
		moveb	#0x10,5(%a0)
		bset	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CE1A:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_4CE2C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4CE2C:
		movel	#Obj_FlickerMove,(%a0)
		bset	#4,0x38(%a0)
		movew	#0x3F,0x2E(%a0)
		moveq	#0,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CE44:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4CE5A(%pc,%d0.w),%d1
		jsr	off_4CE5A(%pc,%d1.w)
		bsrw	sub_4D448
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4CE5A:	.word loc_4CE7A-off_4CE5A
		.word loc_4CECA-off_4CE5A
		.word loc_4CF1E-off_4CE5A
		.word loc_4CF52-off_4CE5A
		.word loc_4CF9A-off_4CE5A
		.word loc_4CFAE-off_4CE5A
		.word loc_4D010-off_4CE5A
		.word loc_4D036-off_4CE5A
		.word loc_4D066-off_4CE5A
		.word loc_4D072-off_4CE5A
		.word loc_4D082-off_4CE5A
		.word loc_4D09E-off_4CE5A
		.word loc_4D0CC-off_4CE5A
		.word loc_4D0F2-off_4CE5A
		.word loc_4D12E-off_4CE5A
		.word loc_4D166-off_4CE5A
/*  --------------------------------------------------------------------------- */

loc_4CE7A:
		addqb	#2,0x2C(%a0)
		cmpib	#0xA,0x2C(%a0)
		beqs	loc_4CE94
		lea	word_4D480(%pc),%a1
		movew	#4,0x3E(%a0)
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CE94:
		lea	word_4D486(%pc),%a1
		movew	#3,0x3E(%a0)
		jsr	SetUp_ObjAttributes3(%pc)
		moveb	#-0x7A,0x28(%a0)
		moveaw	0x46(%a0),%a1
		moveaw	0x46(%a1),%a1
		moveaw	0x46(%a1),%a1
		moveaw	0x46(%a1),%a1
		moveaw	0x46(%a1),%a1
		movew	%a1,0x44(%a0)
		movew	%a1,0x30(%a1)
		movew	%a0,0x32(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CECA:
		jsr	Refresh_ChildPosition(%pc)
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4CEDC
		rts
/*  --------------------------------------------------------------------------- */

loc_4CEDC:
		moveb	#4,5(%a0)
		bset	#3,0x38(%a0)
		bsrw	sub_4D204
		movew	#0xF,0x2E(%a0)
		movel	#loc_4CF28,0x34(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x30(%a1),0x30(%a0)
		movew	0x32(%a1),0x32(%a0)
		btst	#0,4(%a1)
		beqs	locret_4CF1C
		bset	#0,4(%a0)
		negw	0x18(%a0)

locret_4CF1C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4CF1E:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CF28:
		moveb	#6,5(%a0)
		bclr	#3,0x38(%a0)
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		movew	#0x80,8(%a0)
		cmpib	#0xA,0x2C(%a0)
		beqs	locret_4CF50
		movew	#0x180,8(%a0)

locret_4CF50:
		rts
/*  --------------------------------------------------------------------------- */

loc_4CF52:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4CF60
		rts
/*  --------------------------------------------------------------------------- */

loc_4CF60:
		moveb	#8,5(%a0)
		bset	#2,0x38(%a0)
		bclr	#3,0x38(%a0)
		bclr	#6,0x38(%a0)
		bclr	#1,0x38(%a0)
		moveb	0x3C(%a1),0x3C(%a0)
		moveb	0x40(%a1),0x40(%a0)
		moveb	0x2C(%a0),%d0
		addb	%d0,%d0
		moveb	%d0,0x3B(%a0)
		moveb	%d0,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CF9A:
		subqb	#1,0x3B(%a0)
		bpls	loc_4CFA6
		moveb	#0xA,5(%a0)

loc_4CFA6:
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4CFAE:
		bsrw	sub_4D224
		movew	0x3E(%a0),%d2
		jsr	MoveSprite_CircularSimple(%pc)
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_4CFD0
		btst	#6,0x38(%a1)
		bnes	loc_4CFE4
		rts
/*  --------------------------------------------------------------------------- */

loc_4CFD0:
		moveb	#0xC,5(%a0)
		bset	#1,0x38(%a0)
		bclr	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4CFE4:
		moveb	#0x18,5(%a0)
		bset	#6,0x38(%a0)
		bclr	#2,0x38(%a0)
		cmpib	#0xA,0x2C(%a0)
		bnes	locret_4D00E
		lea	(Player_1):w,%a1
		movew	0x10(%a1),0x30(%a0)
		movew	0x14(%a1),0x32(%a0)

locret_4D00E:
		rts
/*  --------------------------------------------------------------------------- */

loc_4D010:
		bsrw	sub_4D262
		beqs	loc_4D02E
		moveb	#0xE,5(%a0)
		cmpib	#0xA,0x2C(%a0)
		bnes	loc_4D02E
		moveaw	0x44(%a0),%a1
		bset	#3,0x38(%a1)

loc_4D02E:
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D036:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4D04A
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D04A:
		moveb	#0x10,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_4D06A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D066:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D06A:
		moveb	#0x12,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D072:
		moveb	#0x14,%d4
		bsrw	sub_4D28C
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D082:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_4D090
		rts
/*  --------------------------------------------------------------------------- */

loc_4D090:
		moveb	#0x16,5(%a0)
		bclr	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D09E:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnew	loc_4CF60
		bsrw	sub_4D2FA
		beqs	loc_4D0C4
		cmpib	#0xA,0x2C(%a0)
		bnes	loc_4D0C4
		moveaw	0x44(%a0),%a1
		bset	#2,0x38(%a1)

loc_4D0C4:
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D0CC:
		bsrw	sub_4D324
		beqs	loc_4D0EA
		moveb	#0x1A,5(%a0)
		cmpib	#0xA,0x2C(%a0)
		bnes	loc_4D0EA
		moveaw	0x44(%a0),%a1
		bset	#3,0x38(%a1)

loc_4D0EA:
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D0F2:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4D106
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D106:
		moveb	#0x1C,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4D148,0x34(%a0)
		cmpib	#0xA,0x2C(%a0)
		bnew	locret_4CA0A
		braw	loc_4D34E
/*  --------------------------------------------------------------------------- */

loc_4D12E:
		cmpib	#0xA,0x2C(%a0)
		beqs	loc_4D13E
		bsrw	sub_4D36C
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D13E:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D148:
		moveb	#0x1E,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4D16A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D15E:
		moveb	#0x16,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D166:
		jsr	Obj_Wait(%pc)

loc_4D16A:
		moveb	#0x1C,5(%a0)
		negw	0x18(%a0)
		negw	0x1A(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4D15E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D188:
		movel	#loc_4D196,(%a0)
		lea	ObjDat3_4D4AA(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D196:
		bsrw	sub_4D1B8
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_4D1B2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D1B2:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_4D1B8:
		moveq	#0x23,%d1
		moveq	#0x20,%d2
		moveq	#0x1C,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_4D1B8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4D1C8:
		moveq	#0x13,%d1
		moveq	#0x10,%d2
		moveq	#8,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_4D1C8 */

/*  --------------------------------------------------------------------------- */

loc_4D1D8:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4D1F2(%pc,%d0.w),0x2E(%a0)
		addw	%d0,%d0
		lea	word_4D1F8(%pc,%d0.w),%a1
		movew	(%a1)+,%d1
		movew	(%a1)+,(%a0,%d1.w)
		rts
/*  --------------------------------------------------------------------------- */
word_4D1F2:	.word 0x20
		.word 0x20
		.word 0x40
word_4D1F8:	.word    0x18, 0xFFC0
		.word    0x18,   0x40
		.word    0x1A,   0x40

/*  =============== S U B R O U T I N E ======================================= */


sub_4D204:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4D218-2(%pc,%d0.w),%d0
		movew	%d0,0x18(%a0)
		movew	%d0,0x1A(%a0)
		rts
/*  End of function sub_4D204 */

/*  --------------------------------------------------------------------------- */
word_4D218:	.word 0xFF40
		.word 0xFE80
		.word 0xFDC0
		.word 0xFD00
		.word 0xFC40
		.word 0xFAD0

/*  =============== S U B R O U T I N E ======================================= */


sub_4D224:
		moveb	0x3C(%a0),%d0
		moveq	#0,%d1
		btst	#0,4(%a0)
		beqs	loc_4D234
		addqw	#2,%d1

loc_4D234:
		moveb	0x40(%a0),%d2
		bmis	loc_4D246
		moveb	byte_4D25E(%pc,%d1.w),%d3
		cmpb	%d3,%d0
		bccs	loc_4D250
		braw	loc_4D252
/*  --------------------------------------------------------------------------- */

loc_4D246:
		addqw	#1,%d1
		moveb	byte_4D25E(%pc,%d1.w),%d3
		cmpb	%d3,%d0
		bhis	loc_4D252

loc_4D250:
		negb	%d2

loc_4D252:
		moveb	%d2,0x40(%a0)
		addb	%d2,%d0
		moveb	%d0,0x3C(%a0)
		rts
/*  End of function sub_4D224 */

/*  --------------------------------------------------------------------------- */
byte_4D25E:	.byte 0xB0
		.byte 0x80
		.byte 0x80
		.byte 0x50

/*  =============== S U B R O U T I N E ======================================= */


sub_4D262:
		btst	#0,4(%a0)
		bnes	loc_4D27C
		addqb	#2,0x3C(%a0)
		moveq	#-0x40,%d0
		cmpb	0x3C(%a0),%d0
		bhis	loc_4D288

loc_4D276:
		moveb	%d0,0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D27C:
		subqb	#2,0x3C(%a0)
		moveq	#0x40,%d0
		cmpb	0x3C(%a0),%d0
		bccs	loc_4D276

loc_4D288:
		moveq	#0,%d0
		rts
/*  End of function sub_4D262 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4D28C:
		moveb	0x3C(%a0),%d0
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		moveaw	0x46(%a0),%a1
		moveb	0x40(%a1),%d2
		moveb	%d2,0x40(%a0)
		lsrw	#1,%d1
		btst	#0,4(%a0)
		bnes	loc_4D2BA
		moveb	byte_4D2F0-1(%pc,%d1.w),%d3
		subb	%d2,%d0
		cmpb	%d3,%d0
		blss	loc_4D2C4
		braw	loc_4D2EA
/*  --------------------------------------------------------------------------- */

loc_4D2BA:
		moveb	byte_4D2F4(%pc,%d1.w),%d3
		addb	%d2,%d0
		cmpb	%d3,%d0
		bcss	loc_4D2EA

loc_4D2C4:
		moveb	%d3,%d0
		moveb	%d4,5(%a0)
		addqb	#2,0x40(%a0)
		cmpib	#0xA,0x2C(%a0)
		bnes	loc_4D2EA
		moveaw	0x44(%a0),%a1
		moveaw	0x46(%a1),%a1
		bset	#2,0x38(%a1)
		bset	#6,0x3A(%a1)

loc_4D2EA:
		moveb	%d0,0x3C(%a0)
		rts
/*  End of function sub_4D28C */

/*  --------------------------------------------------------------------------- */
byte_4D2F0:	.byte 0xA0
		.byte 0x88
		.byte 0x60
		.byte 0x48
byte_4D2F4:	.byte 0x38
		.byte 0x60
		.byte 0x78
		.byte 0x90
		.byte 0xB8
		.byte 0xCC

/*  =============== S U B R O U T I N E ======================================= */


sub_4D2FA:
		btst	#0,4(%a0)
		bnes	loc_4D314
		addqb	#2,0x3C(%a0)
		moveq	#-0x60,%d0
		cmpb	0x3C(%a0),%d0
		bhis	loc_4D320

loc_4D30E:
		moveb	%d0,0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D314:
		subqb	#2,0x3C(%a0)
		moveq	#0x60,%d0
		cmpb	0x3C(%a0),%d0
		bccs	loc_4D30E

loc_4D320:
		moveq	#0,%d0
		rts
/*  End of function sub_4D2FA */


/*  =============== S U B R O U T I N E ======================================= */


sub_4D324:
		btst	#0,4(%a0)
		bnes	loc_4D33E
		subqb	#2,0x3C(%a0)
		moveq	#-0x80,%d0
		cmpb	0x3C(%a0),%d0
		bcss	loc_4D34A

loc_4D338:
		moveb	%d0,0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D33E:
		addqb	#2,0x3C(%a0)
		moveq	#-0x80,%d0
		cmpb	0x3C(%a0),%d0
		bcss	loc_4D338

loc_4D34A:
		moveq	#0,%d0
		rts
/*  End of function sub_4D324 */

/*  --------------------------------------------------------------------------- */

loc_4D34E:
		movew	0x30(%a0),%d0
		subw	0x10(%a0),%d0
		lslw	#3,%d0
		movew	%d0,0x18(%a0)
		movew	0x32(%a0),%d0
		subw	0x14(%a0),%d0
		lslw	#3,%d0
		movew	%d0,0x1A(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_4D36C:
		moveaw	0x32(%a0),%a1
		moveaw	0x30(%a0),%a2
		moveq	#0,%d2
		moveb	0x2C(%a0),%d2
		lsrw	#1,%d2
		moveq	#0,%d0
		movew	0x10(%a1),%d0
		movew	0x10(%a2),%d3
		subw	%d3,%d0
		smi	%d1
		bpls	loc_4D38E
		negw	%d0

loc_4D38E:
		divuw	#5,%d0
		muluw	%d2,%d0
		tstb	%d1
		beqs	loc_4D39A
		negw	%d0

loc_4D39A:
		addw	%d0,%d3
		movew	%d3,0x10(%a0)
		moveq	#0,%d0
		movew	0x14(%a1),%d0
		movew	0x14(%a2),%d3
		subw	%d3,%d0
		smi	%d1
		bpls	loc_4D3B2
		negw	%d0

loc_4D3B2:
		divuw	#5,%d0
		muluw	%d2,%d0
		tstb	%d1
		beqs	loc_4D3BE
		negw	%d0

loc_4D3BE:
		addw	%d0,%d3
		movew	%d3,0x14(%a0)
		rts
/*  End of function sub_4D36C */


/*  =============== S U B R O U T I N E ======================================= */


sub_4D3C6:
		btst	#6,0x3A(%a0)
		beqs	locret_4D40C
		tstb	0x20(%a0)
		bnes	loc_4D3E8
		subqb	#1,0x29(%a0)
		beqs	loc_4D40E
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4D3E8:
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4D3F4
		addqw	#8,%d0

loc_4D3F4:
		lea	word_4D430(%pc),%a1
		lea	word_4D438(%pc,%d0.w),%a2
		jsr	CopyWordData_4(%pc)
		subqb	#1,0x20(%a0)
		bnes	locret_4D40C
		bclr	#6,0x3A(%a0)

locret_4D40C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4D40E:
		movel	#Wait_Draw,(%a0)
		bset	#7,0x2A(%a0)
		movel	#loc_4CA30,0x34(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	BossDefeated_StopTimer(%pc)
/*  End of function sub_4D3C6 */

/*  --------------------------------------------------------------------------- */
word_4D430:	.word Normal_palette_line_2+0x04, Normal_palette_line_2+0x08, Normal_palette_line_2+0x16, Normal_palette_line_2+0x1E
word_4D438:	.word   0x222,  0x644,   0x20,   0x20
		.word   0xAAA,  0xAAA,  0xEEE,  0xEEE

/*  =============== S U B R O U T I N E ======================================= */


sub_4D448:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4D456
		rts
/*  --------------------------------------------------------------------------- */

loc_4D456:
		movel	#loc_4CE1A,(%a0)
		bset	#7,0x2A(%a0)
		clrb	0x28(%a0)
		rts
/*  End of function sub_4D448 */

/*  --------------------------------------------------------------------------- */
ObjDat3_4D468:	.long Map_FBZMiniboss
		.word 0xA52E
		.word 0x200
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
word_4D474:	.word 0x100
		.byte 8
		.byte 8
		.byte 1
		.byte 0
word_4D47A:	.word 0x300
		.byte 0x18
		.byte 0x10
		.byte 5
		.byte 0
word_4D480:	.word 0x280
		.byte 8
		.byte 8
		.byte 6
		.byte 0
word_4D486:	.word 0x200
		.byte 0x18
		.byte 0x18
		.byte 7
		.byte 0
word_4D48C:	.word 0x100
		.byte 0x10
		.byte 8
		.byte 8
		.byte 0
word_4D492:	.word 0x180
		.byte 0x10
		.byte 8
		.byte 0x11
		.byte 0
ObjDat3_4D498:	.word 0x280
		.byte 0x10
		.byte 8
		.byte 4
		.byte 0
		.long Map_EggCapsule
		.word 0x8494
		.word 0x100
		.byte 8
		.byte 8
		.byte 0
		.byte 0
ObjDat3_4D4AA:	.long Map_EggCapsule
		.word 0x844E
		.word 0x200
		.byte 0x20
		.byte 0x20
		.byte 1
		.byte 0
ChildObjDat_4D4B6:.word 6
		.long loc_4CB84
		.word 0xF0F8
		.long loc_4CB84
		.word 0x10F8
		.long loc_4CB84
		.word 0xF8
		.long loc_4CA50
		.word 0xD8
		.long loc_4CAE0
		.word 0xF8
		.long loc_4CBE8
		.word 0
		.long loc_4CBE8
		.word 0
word_4D4E2:	.word 4
		.long loc_4CE44
ChildObjDat_4D4E8:.word 0
		.long loc_4CB46
		.word 0xF8
ChildObjDat_4D4F0:.word 0
		.long loc_4D188
ChildObjDat_4D4F6:.word 4
		.long loc_54776
		.word 0xFC
		.long loc_54776
		.word 0x10FC
		.long loc_54776
		.word 0xF0FC
		.long loc_54776
		.word 0x1CFC
		.long loc_54776
		.word 0xE4FC
		.byte 3
		.byte 9
		.byte 0xA
		.byte 0xB
		.byte 0xC
		.byte 0xD
		.byte 0xE
		.byte 0xF
		.byte 0x10
		.byte 0xFC
Pal_FBZMiniboss:.incbin "Levels/FBZ/Palettes/S3 Miniboss.bin"
		.balign 2

word_4D540:	palscriptptr .header, .data
		.word 0
.header	palscripthdr	Normal_palette_line_2+0x1E, 1, 7-1

.data	palscriptdata	1, 0xEEE
	palscriptdata	4, 0x644
	palscriptrun
/*  --------------------------------------------------------------------------- */

Obj_AB_1_FBZ_Laser_Boss:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4D56E(%pc,%d0.w),%d1
		jsr	off_4D56E(%pc,%d1.w)
		bsrw	sub_4DA98
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4D56E:	.word loc_4D57A-off_4D56E
		.word loc_4D5D6-off_4D56E
		.word loc_4D602-off_4D56E
		.word loc_4D644-off_4D56E
		.word loc_4D664-off_4D56E
		.word loc_4D6C8-off_4D56E
/*  --------------------------------------------------------------------------- */

loc_4D57A:
		lea	ObjDat3_4DAFC(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#0x7F,0x29(%a0)
		moveb	#6,0x39(%a0)
		movew	(Camera_target_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	#0x240,(Camera_target_max_Y_pos):w
		movew	#0x78,0x2E(%a0)
		movel	#loc_4D5EC,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		moveb	#1,(Boss_flag):w
		moveq	#0x6A,%d0
		jsr	(Load_PLC):l
		lea	Pal_FBZ2Subboss(%pc),%a1
		jsr	PalLoad_Line1(%pc)
		lea	ChildObjDat_4DB2E(%pc),%a2
		jsr	CreateChild3_NormalRepeated(%pc)
		lea	ChildObjDat_4DB36(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D5D6:
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		cmpiw	#0x18,%d2
		bccs	loc_4D5E8
		bsrw	sub_4D632

loc_4D5E8:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D5EC:
		moveb	#4,5(%a0)
		movew	#0x3F,0x2E(%a0)
		moveq	#mus_Miniboss,%d0
		jsr	(Play_Sound):l

locret_4D600:
		rts
/*  --------------------------------------------------------------------------- */

loc_4D602:
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		cmpiw	#0x18,%d2
		bcss	loc_4D618
		subqw	#1,0x2E(%a0)
		bmis	loc_4D618
		rts
/*  --------------------------------------------------------------------------- */

loc_4D618:
		moveb	#6,5(%a0)
		movew	#0x80,0x1A(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4D64E,0x34(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_4D632:
		bset	#7,0x38(%a0)
		bnew	locret_4D600
		lea	ChildObjDat_4DB44(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  End of function sub_4D632 */

/*  --------------------------------------------------------------------------- */

loc_4D644:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D64E:
		moveb	#8,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4D67A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D664:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D668:
		subqb	#1,0x39(%a0)
		bmis	loc_4D6AC
		bset	#3,0x38(%a0)
		bclr	#0,0x38(%a0)

loc_4D67A:
		moveb	#0xA,5(%a0)
		bclr	#1,0x38(%a0)
		clrw	0x1A(%a0)
		lea	ChildObjDat_4DB4C(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_4D692:
		lea	(Player_1):w,%a1
		jsr	(Find_OtherObject):l
		movew	#0x100,%d1
		tstw	%d0
		bnes	loc_4D6A6
		negw	%d1

loc_4D6A6:
		movew	%d1,0x18(%a0)
		rts
/*  End of function sub_4D692 */

/*  --------------------------------------------------------------------------- */

loc_4D6AC:
		movel	#Wait_Draw,(%a0)
		bset	#7,0x2A(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4D726,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D6C8:
		btst	#1,0x38(%a0)
		bnes	loc_4D710
		moveb	(V_int_run_count+3):w,%d0
		andib	#0x1F,%d0
		bnes	loc_4D6DC
		bsrs	sub_4D692

loc_4D6DC:
		movew	#0x100,%d0
		moveaw	0x44(%a0),%a1
		movew	0x10(%a1),%d1
		movew	0x10(%a0),%d2
		addiw	#0x20,%d1
		cmpw	%d1,%d2
		bcss	loc_4D706
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d1
		subiw	#0x20,%d1
		cmpw	%d1,%d2
		bcss	loc_4D70A
		negw	%d0

loc_4D706:
		movew	%d0,0x18(%a0)

loc_4D70A:
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_4D710:
		moveb	#8,5(%a0)
		movew	#0xBF,0x2E(%a0)
		movel	#loc_4D668,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D726:
		bset	#4,0x38(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4D73C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D73C:
		bset	#2,0x38(%a0)
		clrb	(Boss_flag):w
		movel	#Sprite_OnScreen_Test,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D74E:
		lea	word_4DB08(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4D760,(%a0)
		braw	loc_4DA52
/*  --------------------------------------------------------------------------- */

loc_4D760:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4D7A0
		btst	#1,0x2C(%a0)
		bnes	loc_4D79A
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		beqs	loc_4D79A
		movel	#loc_4D7A8,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4D7B8,0x34(%a0)
		movew	#0x100,0x18(%a0)

loc_4D79A:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D7A0:
		movel	#Sprite_OnScreen_Test,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D7A8:
		jsr	(MoveSprite2):l
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D7B8:
		movel	#loc_4D760,(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#3,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D7CA:
		lea	word_4DB0E(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4D7E6,(%a0)
		addiw	#0xCC,0x10(%a0)
		addiw	#0x7C,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D7E6:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4D7F8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D7F8:
		movel	#Sprite_OnScreen_Test,(%a0)
		moveb	#3,0x22(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D814:
		lea	ObjDat3_4DB22(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_4D838,(%a0)
		addiw	#0xD8,0x10(%a0)
		addiw	#0x74,0x14(%a0)
		movel	#byte_4DB54,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D838:
		jsr	Animate_RawMultiDelay(%pc)
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		beqs	loc_4D84E
		moveb	#2,0x22(%a0)

loc_4D84E:
		btst	#7,0x2A(%a1)
		beqs	loc_4D862
		movel	#loc_4D868,(%a0)
		moveb	#3,0x22(%a0)

loc_4D862:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D868:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		beqs	loc_4D8A4
		movel	#loc_4D8AA,(%a0)
		subqw	#4,0x14(%a0)
		movew	#0x200,0x18(%a0)
		movel	#Map_FBZRobotnikRun,0xC(%a0)
		movew	#0x4A9,0xA(%a0)
		clrb	0x22(%a0)
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		bset	#0,4(%a0)

loc_4D8A4:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D8AA:
		lea	byte_4DB79(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		jsr	(MoveSprite2):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_4D8BE:
		lea	word_4DB14(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4D8F6,(%a0)
		movew	#0xB0,%d0
		moveb	0x2C(%a0),%d1
		bnes	loc_4D8D8
		negw	%d0

loc_4D8D8:
		addw	%d0,0x10(%a0)
		addiw	#0x60,0x14(%a0)
		moveaw	0x46(%a0),%a1
		moveq	#0x44,%d0
		tstb	%d1
		beqs	loc_4D8EE
		moveq	#0x46,%d0

loc_4D8EE:
		movew	(%a1,%d0.w),0x44(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D8F6:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4D930
		movew	0x10(%a0),-(%sp)
		moveaw	0x44(%a0),%a1
		movew	0x10(%a1),0x10(%a0)
		moveq	#0x13,%d1
		moveq	#0x50,%d2
		movew	#0x60,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		btst	#0,(V_int_run_count+3):w
		bnew	locret_4D600
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D930:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4D936:
		lea	word_4DB1A(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_4D956,(%a0)
		movel	#byte_4DB61,0x30(%a0)
		movel	#loc_4D978,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D956:
		jsr	Refresh_ChildPosition(%pc)
		jsr	Animate_RawGetFaster(%pc)
		tstw	%d2
		bpls	loc_4D974
		cmpib	#0x60,0x2F(%a0)
		bnes	loc_4D974
		moveaw	0x46(%a0),%a1
		bset	#1,0x38(%a1)

loc_4D974:
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D978:
		movel	#loc_4D9A2,(%a0)
		moveb	#6,0x22(%a0)
		movel	#byte_4DB66,0x30(%a0)
		addiw	#0x3C,0x14(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4D9DE,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4D9A2:
		clrb	0x28(%a0)
		cmpib	#8,0x22(%a0)
		bnes	loc_4D9B4
		moveb	#-0x54,0x28(%a0)

loc_4D9B4:
		lea	(Player_1):w,%a2
		cmpib	#4,5(%a2)
		beqs	loc_4D9CC
		lea	(Player_2):w,%a2
		cmpib	#4,5(%a2)
		bnes	loc_4D9D2

loc_4D9CC:
		bset	#0,0x38(%a0)

loc_4D9D2:
		jsr	Animate_Raw(%pc)
		jsr	Obj_Wait(%pc)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4D9DE:
		movel	#loc_4DA04,0x34(%a0)
		movew	#0x1F,0x2E(%a0)
		st	(Screen_shake_flag):w
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	locret_4DA02
		addiw	#0x60,0x14(%a1)

locret_4DA02:
		rts
/*  --------------------------------------------------------------------------- */

loc_4DA04:
		movel	#byte_4DB72,0x30(%a0)
		movel	#loc_4DA30,0x34(%a0)
		clrb	0x24(%a0)
		clrb	0x23(%a0)
		btst	#0,0x38(%a0)
		bnes	locret_4DA2E
		moveaw	0x46(%a0),%a1
		bset	#0,0x38(%a1)

locret_4DA2E:
		rts
/*  --------------------------------------------------------------------------- */

loc_4DA30:
		movel	#Obj_Wait,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4DA46,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DA46:
		clrw	(Screen_shake_flag):w
		moveaw	0x46(%a0),%a1
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DA52:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		cmpiw	#4,%d0
		bccs	loc_4DA74
		moveq	#0x44,%d1
		tstb	%d0
		beqs	loc_4DA6A
		moveq	#0x46,%d1

loc_4DA6A:
		movew	%a0,(%a1,%d1.w)
		bset	#1,4(%a0)

loc_4DA74:
		addw	%d0,%d0
		lea	word_4DA88(%pc,%d0.w),%a1
		movew	(%a1)+,%d0
		addw	%d0,0x10(%a0)
		movew	(%a1)+,%d0
		addw	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_4DA88:	.word  0xFF50,   0x18
		.word    0xB0,   0x18
		.word  0xFF50,   0xA8
		.word    0xB0,   0xA8

/*  =============== S U B R O U T I N E ======================================= */


sub_4DA98:
		tstb	0x28(%a0)
		bnes	locret_4DAE8
		tstb	0x20(%a0)
		bnes	loc_4DAB2
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4DAB2:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4DAC4
		addqw	#4,%d0

loc_4DAC4:
		lea	word_4DAEA(%pc),%a1
		lea	word_4DAF0(%pc,%d0.w),%a2
		jsr	CopyWordData_3(%pc)
		subqb	#1,0x20(%a0)
		bnes	locret_4DAE8
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)
		moveb	#0x7F,0x29(%a0)

locret_4DAE8:
		rts
/*  End of function sub_4DA98 */

/*  --------------------------------------------------------------------------- */
word_4DAEA:	.word Normal_palette_line_2+0x18, Normal_palette_line_2+0x1A, Normal_palette_line_2+0x1C
word_4DAF0:	.word   0x866,  0x644,   0x20
		.word   0xEEE,  0xEEE,  0xEEE
ObjDat3_4DAFC:	.long Map_FBZ2Subboss
		.word 0x252E
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0x1C
word_4DB08:	.word 0x80
		.byte 8
		.byte 8
		.byte 1
		.byte 0
word_4DB0E:	.word 0x280
		.byte 0xC
		.byte 0x14
		.byte 2
		.byte 0
word_4DB14:	.word 0x80
		.byte 8
		.byte 0x60
		.byte 4
		.byte 0
word_4DB1A:	.word 0xA52E
		.word 0x80
		.byte 0x18
		.byte 4
		.byte 5
		.byte 0
ObjDat3_4DB22:	.long Map_FBZRobotnikStand
		.word 0x8466
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ChildObjDat_4DB2E:.word 3
		.long loc_4D74E
		.word 0
ChildObjDat_4DB36:.word 1
		.long loc_4D7CA
		.word 0
		.long loc_4D814
		.word 0
ChildObjDat_4DB44:.word 1
		.long loc_4D8BE
		.word 0
ChildObjDat_4DB4C:.word 0
		.long loc_4D936
		.word 8
byte_4DB54:	.byte    0,   7
		.byte    1, 0x17
		.byte    0,   7
		.byte    1,  0xF
		.byte    0, 0x3F
		.byte    1,   7
		.byte  0xFC
byte_4DB61:	.byte   0xB, 0x80
		.byte    5,  0xA
		.byte  0xFC
byte_4DB66:	.byte    0,   6
		.byte    6,  0xA
		.byte    7,  0xA
		.byte  0xF8,   8
		.byte    0,   8
		.byte   0xA, 0xFC
byte_4DB72:	.byte    0,   7
		.byte    7,  0xA
		.byte    6,  0xA
		.byte  0xF4
byte_4DB79:	.byte    7,   0
		.byte    1,   2
		.byte    1, 0xFC
		.byte    0
Pal_FBZ2Subboss:.incbin "Levels/FBZ/Palettes/FBZ2 Subboss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_FBZEndBoss:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4DBB6(%pc,%d0.w),%d1
		jsr	off_4DBB6(%pc,%d1.w)
		bsrw	sub_4E200
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4DBB6:	.word loc_4DBC0-off_4DBB6
		.word loc_4DC26-off_4DBB6
		.word loc_4DC40-off_4DBB6
		.word loc_4DC6A-off_4DBB6
		.word loc_4DCDA-off_4DBB6
/*  --------------------------------------------------------------------------- */

loc_4DBC0:
		lea	ObjDat3_4E278(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#8,0x29(%a0)
		moveb	#1,(Boss_flag):w
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	#0x3090,(Camera_max_X_pos):w
		moveq	#0x6F,%d0
		jsr	(Load_PLC):l
		lea	Pal_FBZEndBoss(%pc),%a1
		jsr	(PalLoad_Line1):l
		movew	#0x78,0x2E(%a0)
		movel	#loc_4DC30,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	(ChildObjDat_4642E):l,%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	loc_4DC1E
		moveb	#0xB,0x2C(%a1)
		movew	%a1,0x3E(%a0)

loc_4DC1E:
		lea	ChildObjDat_4E2C0(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DC26:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DC30:
		moveb	#4,5(%a0)
		moveq	#mus_EndBoss,%d0
		jsr	(Play_Sound):l

locret_4DC3E:
		rts
/*  --------------------------------------------------------------------------- */

loc_4DC40:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		movew	#0x3090,%d0
		cmpw	(Camera_X_pos):w,%d0
		blss	loc_4DC52
		rts
/*  --------------------------------------------------------------------------- */

loc_4DC52:
		movew	%d0,(Camera_min_X_pos):w

loc_4DC56:
		moveb	#6,5(%a0)
		movew	#0x3F,0x2E(%a0)
		moveb	#9,0x39(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DC6A:
		bsrw	sub_4E19C
		jsr	Find_SonicTails(%pc)
		btst	#1,0x38(%a0)
		bnes	locret_4DCB6
		cmpiw	#0x18,%d2
		bccs	loc_4DC8E
		btst	#1,0x2A(%a1)
		bnes	loc_4DC8E
		bset	#1,0x38(%a0)

loc_4DC8E:
		subqw	#1,0x2E(%a0)
		bpls	locret_4DCB6
		movew	#0x1F,0x2E(%a0)
		subqb	#1,0x39(%a0)
		bmis	loc_4DCB8
		bset	#3,0x38(%a0)
		bclr	#0,4(%a0)
		tstw	%d0
		bnes	locret_4DCB6
		bset	#0,4(%a0)

locret_4DCB6:
		rts
/*  --------------------------------------------------------------------------- */

loc_4DCB8:
		moveb	#8,5(%a0)
		bset	#2,0x38(%a0)
		moveb	#2,0x40(%a0)
		movew	#0x1FF,0x2E(%a0)
		movel	#loc_4DCF4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DCDA:
		moveb	0x40(%a0),%d0
		addb	%d0,0x3C(%a0)
		lea	(FBZEndBoss_CircleLookup1):l,%a2
		jsr	MoveSprite_AngleYLookup(%pc)
		bsrw	sub_4E1B8
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DCF4:
		bclr	#2,0x38(%a0)
		braw	loc_4DC56
/*  --------------------------------------------------------------------------- */

loc_4DCFE:
		tstb	0x3C(%a0)
		beqs	loc_4DD20
		moveb	0x40(%a0),%d0
		addb	%d0,0x3C(%a0)
		lea	(FBZEndBoss_CircleLookup1):l,%a2
		jsr	MoveSprite_AngleYLookup(%pc)
		bsrw	sub_4E1B8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4DD20:
		movel	#Wait_Draw,(%a0)
		movew	#0x280,8(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4DD3C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DD3C:
		movel	#Obj_Wait,(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4DD66,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	ChildObjDat_4E2EA(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DD66:
		movel	#Obj_Wait,(%a0)
		bclr	#7,4(%a0)
		st	(_unkFAA8):w
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4DD8A,0x34(%a0)
		jmp	(Obj_PlayLevelMusic):l
/*  --------------------------------------------------------------------------- */

loc_4DD8A:
		movel	#loc_4DDA6,(%a0)
		clrb	(Boss_flag):w
		movew	#0x3170,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_4DDA6:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		tstb	(_unkFAA8):w
		bnew	locret_4DC3E
		clrb	(_unkFAA8):w
		jsr	Restore_PlayerControl(%pc)
		lea	(Player_2):w,%a1
		jsr	Restore_PlayerControl2(%pc)
		movew	#0x6000,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jsr	(CreateChild6_Simple):l
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_4DDDC:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4DDEE(%pc,%d0.w),%d1
		jsr	off_4DDEE(%pc,%d1.w)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4DDEE:	.word loc_4DDF6-off_4DDEE
		.word loc_4DE1C-off_4DDEE
		.word loc_4DE7C-off_4DDEE
		.word loc_4DE96-off_4DDEE
/*  --------------------------------------------------------------------------- */

loc_4DDF6:
		lea	word_4E284(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		lea	ChildObjDat_4E2D4(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveaw	0x46(%a0),%a1
		tstb	0x2C(%a0)
		bnes	loc_4DE16
		movew	%a0,0x44(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DE16:
		movew	%a0,0x46(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DE1C:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_4DE60
		btst	#3,0x38(%a1)
		bnes	loc_4DE32
		rts
/*  --------------------------------------------------------------------------- */

loc_4DE32:
		moveb	#4,5(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		btst	#0,4(%a1)
		beqs	loc_4DE4A
		addqw	#8,%d0

loc_4DE4A:
		lea	word_4DE6C(%pc,%d0.w),%a1
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x2E(%a0)
		movel	#loc_4DE80,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DE60:
		lea	word_4E304(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	Go_Delete_Sprite_2(%pc)
/*  --------------------------------------------------------------------------- */
word_4DE6C:	.word   0x100,     7
		.word   0x100,     0
		.word  0xFF00,     0
		.word  0xFF00,     7
/*  --------------------------------------------------------------------------- */

loc_4DE7C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DE80:
		moveb	#6,5(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_4DEA0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DE96:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DEA0:
		moveb	#2,5(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#3,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DEB2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4DEC6(%pc,%d0.w),%d1
		jsr	off_4DEC6(%pc,%d1.w)
		moveq	#0,%d0
		jmp	Child_Draw_Sprite2_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
off_4DEC6:	.word loc_4DECC-off_4DEC6
		.word loc_4DEF2-off_4DEC6
		.word loc_4DF20-off_4DEC6
/*  --------------------------------------------------------------------------- */

loc_4DECC:
		lea	word_4E28A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveaw	0x46(%a0),%a1
		tstb	0x2C(%a1)
		beqs	loc_4DEE4
		bset	#0,4(%a0)

loc_4DEE4:
		movew	0x46(%a1),0x44(%a0)
		lea	ChildObjDat_4E2DC(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DEF2:
		jsr	Refresh_ChildPosition(%pc)
		moveaw	0x44(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4DF04
		rts
/*  --------------------------------------------------------------------------- */

loc_4DF04:
		moveb	#4,5(%a0)
		moveb	#2,0x40(%a0)
		movew	#0x1FF,0x2E(%a0)
		movel	#loc_4DF3C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DF20:
		moveaw	0x44(%a0),%a1
		moveb	0x3C(%a1),0x3C(%a0)
		lea	(FBZEndBoss_CircleLookup2):l,%a2
		jsr	MoveSprite_AngleYLookup(%pc)
		bsrw	sub_4E1EA
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4DF3C:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DF44:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4DF58(%pc,%d0.w),%d1
		jsr	off_4DF58(%pc,%d1.w)
		moveq	#8,%d0
		jmp	Child_Draw_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
off_4DF58:	.word loc_4DF5C-off_4DF58
		.word loc_4DF90-off_4DF58
/*  --------------------------------------------------------------------------- */

loc_4DF5C:
		lea	word_4E28A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveaw	0x46(%a0),%a1
		moveq	#-0x1C,%d0
		btst	#0,4(%a1)
		beqs	loc_4DF7A
		bset	#0,4(%a0)
		negw	%d0

loc_4DF7A:
		moveaw	0x46(%a1),%a1
		movew	0x46(%a1),0x44(%a0)
		moveb	%d0,0x42(%a0)
		moveb	#2,0x43(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DF90:
		jsr	Child_GetPriority(%pc)
		braw	loc_4E082
/*  --------------------------------------------------------------------------- */

loc_4DF98:
		lea	word_4E290(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)

loc_4DFA0:
		movel	#loc_4DFB2,(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_4DFB2:
		jsr	Child_GetPriority(%pc)
		btst	#7,0x2A(%a1)
		bnes	loc_4DFEC
		btst	#1,0x38(%a1)
		beqs	loc_4DFE2
		movel	#Refresh_ChildPosWait,(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_4DFA0,0x34(%a0)
		lea	ChildObjDat_4E2E4(%pc),%a2
		jsr	CreateChild6_Simple(%pc)

loc_4DFE2:
		jsr	Refresh_ChildPosition(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4DFEC:
		movel	#loc_4E006,(%a0)
		movew	0x3E(%a1),0x46(%a0)
		subqb	#4,0x43(%a0)
		jsr	Refresh_ChildPosition(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4E006:
		jsr	Refresh_ChildPosition(%pc)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E00E:
		bsrw	sub_4E104
		movel	#Obj_Wait,(%a0)
		movel	#loc_4E022,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E022:
		movel	#loc_53CFA,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E032:
		lea	word_4E296(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#8,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0x34,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E05A:
		lea	word_4E296(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0xC,%d0
		moveb	%d0,0x22(%a0)
		moveq	#8,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E082:
		moveaw	0x44(%a0),%a1
		moveaw	0x46(%a0),%a2
		movew	0x10(%a1),%d0
		moveb	0x42(%a0),%d1
		extw	%d1
		addw	%d0,%d1
		movew	0x10(%a2),%d2
		subw	%d2,%d1
		moveq	#0x10,%d3
		moveq	#0,%d4
		moveb	0x2C(%a0),%d4
		bsrw	sub_4E0D8
		movew	0x14(%a1),%d0
		moveb	0x43(%a0),%d1
		extw	%d1
		addw	%d0,%d1
		movew	0x14(%a2),%d2
		subw	%d2,%d1
		moveq	#0x14,%d3
		bsrw	sub_4E0D8
		tstb	0x3C(%a2)
		beqs	locret_4E0CE
		bmis	locret_4E0CE
		movew	word_4E0D0(%pc,%d4.w),8(%a0)

locret_4E0CE:
		rts
/*  --------------------------------------------------------------------------- */
word_4E0D0:	.word 0x200
		.word 0x180
		.word 0x100
		.word 0x80

/*  =============== S U B R O U T I N E ======================================= */


sub_4E0D8:
		movew	off_4E0E0(%pc,%d4.w),%d5
		jmp	off_4E0E0(%pc,%d5.w)
/*  End of function sub_4E0D8 */

/*  --------------------------------------------------------------------------- */
off_4E0E0:	.word loc_4E0E8-off_4E0E0
		.word loc_4E0EE-off_4E0E0
		.word loc_4E0F4-off_4E0E0
		.word loc_4E0FC-off_4E0E0
/*  --------------------------------------------------------------------------- */

loc_4E0E8:
		asrw	#2,%d1
		braw	loc_4E0FC
/*  --------------------------------------------------------------------------- */

loc_4E0EE:
		asrw	#1,%d1
		braw	loc_4E0FC
/*  --------------------------------------------------------------------------- */

loc_4E0F4:
		asrw	#1,%d1
		movew	%d1,%d0
		asrw	#1,%d1
		addw	%d0,%d1

loc_4E0FC:
		addw	%d1,%d2
		movew	%d2,(%a0,%d3.w)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_4E104:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4E130(%pc,%d0.w),0x2E(%a0)
		movew	word_4E142(%pc,%d0.w),0x42(%a0)
		addw	%d0,%d0
		movel	off_4E154(%pc,%d0.w),0x30(%a0)
		moveal	off_4E178(%pc,%d0.w),%a1
		jsr	SetUp_ObjAttributes(%pc)
		bset	#4,0x2B(%a0)
		jmp	Refresh_ChildPosition(%pc)
/*  End of function sub_4E104 */

/*  --------------------------------------------------------------------------- */
word_4E130:	.word 0x50
		.word 0x4D
		.word 0x4A
		.word 0x47
		.word 0x44
		.word 0x41
		.word 0x3E
		.word 0x3B
		.word 0
word_4E142:	.word 0x98
		.word 0x8A4
		.word 0xF8A4
		.word 0xB4
		.word 0xC4
		.word 0xD4
		.word 0xE4
		.word 0xF4
		.word 0xF0
off_4E154:	.long byte_4E350
		.long byte_4E350
		.long byte_4E350
		.long byte_4E341
		.long byte_4E341
		.long byte_4E341
		.long byte_4E341
		.long byte_4E341
		.long byte_4E31E
off_4E178:	.long ObjDat3_4E2B4
		.long ObjDat3_4E2B4
		.long ObjDat3_4E2B4
		.long ObjDat3_4E2A8
		.long ObjDat3_4E2A8
		.long ObjDat3_4E2A8
		.long ObjDat3_4E2A8
		.long ObjDat3_4E2A8
		.long ObjDat3_4E29C

/*  =============== S U B R O U T I N E ======================================= */


sub_4E19C:
		moveaw	0x44(%a0),%a1
		moveaw	0x46(%a0),%a2
		movew	0x10(%a1),%d0
		movew	0x10(%a2),%d1
		subw	%d0,%d1
		asrw	#1,%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a0)
		rts
/*  End of function sub_4E19C */


/*  =============== S U B R O U T I N E ======================================= */


sub_4E1B8:
		tstb	0x3C(%a0)
		beqs	loc_4E1DC
		bmis	loc_4E1CE
		bset	#7,0xA(%a0)
		movew	#0x80,8(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E1CE:
		bclr	#7,0xA(%a0)
		movew	#0x380,8(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E1DC:
		bset	#7,0xA(%a0)
		movew	#0x380,8(%a0)
		rts
/*  End of function sub_4E1B8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4E1EA:
		tstb	0x3C(%a0)
		beqs	loc_4E1DC
		bmis	loc_4E1CE
		bset	#7,0xA(%a0)
		movew	#0x280,8(%a0)
		rts
/*  End of function sub_4E1EA */


/*  =============== S U B R O U T I N E ======================================= */


sub_4E200:
		tstl	(%a0)
		beqs	locret_4E254
		tstb	0x28(%a0)
		bnes	locret_4E254
		tstb	0x29(%a0)
		beqs	loc_4E256
		tstb	0x20(%a0)
		bnes	loc_4E224
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4E224:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4E236
		addqw	#8,%d0

loc_4E236:
		lea	word_4E260(%pc),%a1
		lea	word_4E268(%pc,%d0.w),%a2
		jsr	CopyWordData_4(%pc)
		subqb	#1,0x20(%a0)
		bnes	locret_4E254
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_4E254:
		rts
/*  --------------------------------------------------------------------------- */

loc_4E256:
		movel	#loc_4DCFE,(%a0)
		jmp	BossDefeated_StopTimer(%pc)
/*  End of function sub_4E200 */

/*  --------------------------------------------------------------------------- */
word_4E260:	.word Normal_palette_line_2+0x06, Normal_palette_line_2+0x08, Normal_palette_line_2+0x12, Normal_palette_line_2+0x1C
word_4E268:	.word    0x2A,   0x26,   0x20,  0x644
		.word   0x888,  0xAAA,  0xEEE,  0xAAA
ObjDat3_4E278:	.long Map_FBZEndBoss
		.word 0xA3E0
		.word 0x280
		.byte 0x28
		.byte 0x18
		.byte 0
		.byte 0x16
word_4E284:	.word 0x300
		.byte 0x10
		.byte 0x20
		.byte 1
		.byte 0xA3
word_4E28A:	.word 0x280
		.byte 8
		.byte 8
		.byte 2
		.byte 0
word_4E290:	.word 0x200
		.byte 0xC
		.byte 8
		.byte 3
		.byte 0
word_4E296:	.word 0x100
		.byte 0x14
		.byte 0x10
		.byte 8
		.byte 0
ObjDat3_4E29C:	.long Map_FBZEndBoss
		.word 0x83E0
		.word 0x80
		.byte 4
		.byte 8
		.byte 4
		.byte 0x8B
ObjDat3_4E2A8:	.long Map_BossExplosion
		.word 0x8500
		.word 0x80
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0x8B
ObjDat3_4E2B4:	.long Map_FBZEndBossFlame
		.word 0x8454
		.word 0x80
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0x8B
ChildObjDat_4E2C0:.word 2
		.long loc_4DDDC
		.word 0xD0B8
		.long loc_4DDDC
		.word 0x30B8
		.long loc_4DF98
		.word 0xD8
ChildObjDat_4E2D4:.word 0
		.long loc_4DEB2
		.word 0x20
ChildObjDat_4E2DC:.word 3
		.long loc_4DF44
		.word 0
ChildObjDat_4E2E4:.word 8
		.long loc_4E00E
ChildObjDat_4E2EA:.word 3
		.long loc_4E032
		.word 0xEC08
		.long loc_4E032
		.word 0x1408
		.long loc_4E032
		.word 0xF020
		.long loc_4E032
		.word 0x1020
word_4E304:	.word 3
		.long loc_4E05A
		.word 0xF8F0
		.long loc_4E05A
		.word 0x8F0
		.long loc_4E05A
		.word 0xF810
		.long loc_4E05A
		.word 0x810
byte_4E31E:	.byte    4,   3
		.byte    4,   3
		.byte    5,   3
		.byte    6,   3
		.byte    7,   3
		.byte    4,   3
		.byte    5,   3
		.byte    6,   3
		.byte    7,   3
		.byte    4,   3
		.byte    5,   3
		.byte    6,   3
		.byte    7,   3
		.byte    4,   3
		.byte    5,   3
		.byte    6,   3
		.byte    7,   3
		.byte  0xF4
byte_4E341:	.byte    0,   2
		.byte    0,   2
		.byte    1,   2
		.byte    2,   3
		.byte    3,   4
		.byte    4,   5
		.byte    5,   6
		.byte  0xF4
byte_4E350:	.byte    0,   2
		.byte    0,   2
		.byte    1,   3
		.byte    2,   4
		.byte    3,   5
		.byte    4,   6
		.byte  0xF4,   0
Pal_FBZEndBoss:	.incbin "Levels/FBZ/Palettes/FBZ End Boss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_ICZMiniboss:
		cmpiw	#0x501,(Apparent_zone_and_act):w
		beqs	loc_4E3E6
		lea	word_4E3EC(%pc),%a1
		jsr	(Check_CameraInRange):l
		movel	#loc_4E3F4,(%a0)
		moveb	#1,(Boss_flag):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		moveb	#mus_Miniboss,0x26(%a0)
		movew	(Camera_max_X_pos):w,(Target_camera_max_X_pos):w
		movew	(Camera_target_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	#0x2B8,(Camera_target_max_Y_pos):w
		movew	#0x6F0,0x1C(%a0)
		movew	#0x6F0,(Camera_max_X_pos):w
		movel	#loc_4E3FA,0x34(%a0)
		moveq	#0x5F,%d0
		jsr	(Load_PLC):l
		lea	Pal_ICZMiniboss(%pc),%a1
		jmp	PalLoad_Line1(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E3E6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
word_4E3EC:	.word 0
		.word 0x380
		.word 0x690
		.word 0x6F0
/*  --------------------------------------------------------------------------- */

loc_4E3F4:
		jmp	(loc_541C8):l
/*  --------------------------------------------------------------------------- */

loc_4E3FA:
		movel	#loc_4E402,(%a0)

locret_4E400:
		rts
/*  --------------------------------------------------------------------------- */

loc_4E402:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4E418(%pc,%d0.w),%d1
		jsr	off_4E418(%pc,%d1.w)
		bsrw	sub_4EAC2
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4E418:	.word loc_4E42E-off_4E418
		.word loc_4E466-off_4E418
		.word loc_4E48C-off_4E418
		.word loc_4E4B6-off_4E418
		.word loc_4E4F8-off_4E418
		.word loc_4E530-off_4E418
		.word loc_4E4B6-off_4E418
		.word loc_4E582-off_4E418
		.word loc_4E5AC-off_4E418
		.word loc_4E5CC-off_4E418
		.word loc_4E466-off_4E418
/*  --------------------------------------------------------------------------- */

loc_4E42E:
		lea	ObjDat3_4EB48(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#6,0x29(%a0)
		movew	#0x200,0x3E(%a0)
		movew	#0x80,0x1A(%a0)
		movew	#0xBF,0x2E(%a0)
		movel	#loc_4E470,0x34(%a0)
		lea	ChildObjDat_4EB92(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		lea	ChildObjDat_4EB6C(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E466:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E470:
		moveb	#4,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4E490,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E48C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E490:
		moveb	#6,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4E4BE,0x34(%a0)
		lea	(word_16322C):l,%a1

loc_4E4AA:
		lea	(Palette_rotation_data):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		clrw	(%a2)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E4B6:
		jsr	Run_PalRotationScript(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E4BE:
		bset	#2,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4E4DC,0x34(%a0)
		moveq	#sfx_TunnelBooster,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_4E4DC:
		moveb	#8,5(%a0)
		movew	#0x300,0x1A(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_4E506,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E4F8:
		jsr	(MoveSprite2):l
		jsr	Run_PalRotationScript(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E506:
		bsrw	sub_4EA3C

loc_4E50A:
		moveb	#0xA,5(%a0)
		movew	#0x300,0x1A(%a0)
		negw	0x3E(%a0)
		movew	0x3E(%a0),0x18(%a0)
		movew	#0x5F,0x2E(%a0)
		moveq	#sfx_BossRotate,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_4E530:
		jsr	Run_PalRotationScript(%pc)
		subqw	#1,0x2E(%a0)
		bmis	loc_4E546
		addiw	#-0x10,0x1A(%a0)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_4E546:
		moveb	#0xC,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4E564,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		jsr	Run_PalRotationScript(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E564:
		subqb	#1,0x39(%a0)
		bpls	loc_4E50A
		moveb	#0xE,5(%a0)
		bset	#1,0x38(%a0)
		cmpiw	#0x790,0x10(%a0)
		scs	0x43(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E582:
		btst	#1,0x38(%a0)
		beqs	loc_4E58E
		jmp	Run_PalRotationScript(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E58E:
		moveb	#0x10,5(%a0)
		bclr	#2,0x38(%a0)
		movel	#loc_4E5B0,(Palette_rotation_custom):w
		lea	(word_163298):l,%a1
		braw	loc_4E4AA
/*  --------------------------------------------------------------------------- */

loc_4E5AC:
		jmp	Run_PalRotationScript(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E5B0:
		moveb	#0x12,5(%a0)
		movew	#0x222,(Normal_palette_line_2+0x14):w
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4E5D0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E5CC:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E5D0:
		moveb	#0x14,5(%a0)
		movew	#-0x100,0x1A(%a0)
		clrw	0x18(%a0)
		movew	#0x17,0x2E(%a0)
		movel	#loc_4E5F0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E5F0:
		moveb	#4,5(%a0)
		movew	#0xFF,0x2E(%a0)
		movel	#loc_4E490,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E606:
		jsr	(Obj_EndSignControl):l
		moveaw	(_unkFAAE):w,%a1
		cmpil	#loc_58DF8,(%a1)
		bnes	loc_4E61E
		bset	#5,0x38(%a1)

loc_4E61E:
		jsr	(Create_New_Sprite):l
		bnes	loc_4E62C
		movel	#loc_4E634,(%a1)

loc_4E62C:
		lea	ChildObjDat_4EB98(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E634:
		movel	#loc_4E654,(%a0)
		lea	(word_4EBE2):l,%a1
		lea	(Palette_rotation_data):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		clrw	(%a2)
		movel	#Go_Delete_Sprite,(Palette_rotation_custom):w
		rts
/*  --------------------------------------------------------------------------- */

loc_4E654:
		jmp	Run_PalRotationScript(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E658:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4E670(%pc,%d0.w),%d1
		jsr	off_4E670(%pc,%d1.w)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		jmp	Child_Draw_Sprite2_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
off_4E670:	.word loc_4E678-off_4E670
		.word loc_4E684-off_4E670
		.word loc_4E6A4-off_4E670
		.word locret_4E6C0-off_4E670
/*  --------------------------------------------------------------------------- */

loc_4E678:
		lea	word_4EB54(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		braw	loc_4E8AA
/*  --------------------------------------------------------------------------- */

loc_4E684:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_4E692
		rts
/*  --------------------------------------------------------------------------- */

loc_4E692:
		moveb	#4,5(%a0)
		movel	#loc_4E6B8,0x34(%a0)
		braw	loc_4E8C0
/*  --------------------------------------------------------------------------- */

loc_4E6A4:
		moveb	0x18(%a0),%d0
		addb	%d0,0x42(%a0)
		moveb	0x19(%a0),%d0
		addb	%d0,0x43(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E6B8:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_4E6C0:
		rts
/*  --------------------------------------------------------------------------- */

loc_4E6C2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4E6D6(%pc,%d0.w),%d1
		jsr	off_4E6D6(%pc,%d1.w)
		moveq	#0,%d0
		jmp	Child_DrawTouch_Sprite2_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
off_4E6D6:	.word loc_4E6EE-off_4E6D6
		.word loc_4E6FA-off_4E6D6
		.word loc_4E724-off_4E6D6
		.word loc_4E75E-off_4E6D6
		.word loc_4E77E-off_4E6D6
		.word loc_4E796-off_4E6D6
		.word loc_4E7B6-off_4E6D6
		.word loc_4E800-off_4E6D6
		.word loc_4E75E-off_4E6D6
		.word loc_4E84C-off_4E6D6
		.word loc_4E75E-off_4E6D6
		.word locret_4E884-off_4E6D6
/*  --------------------------------------------------------------------------- */

loc_4E6EE:
		lea	ObjDat3_4EB5A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		braw	loc_4E8EC
/*  --------------------------------------------------------------------------- */

loc_4E6FA:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4E708
		rts
/*  --------------------------------------------------------------------------- */

loc_4E708:
		moveb	#4,5(%a0)
		movew	#-0x40,0x1A(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4E73E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E724:
		moveq	#1,%d0
		btst	#0,(V_int_run_count+3):w
		beqs	loc_4E730
		negw	%d0

loc_4E730:
		addw	%d0,0x10(%a0)
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E73E:
		moveb	#6,5(%a0)
		movew	#0x180,8(%a0)
		bsrw	sub_4E932
		movew	#0x1F,0x2E(%a0)
		movel	#loc_4E768,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E75E:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E768:
		moveb	#8,5(%a0)
		moveb	#-0x75,0x28(%a0)
		moveq	#sfx_BossRotate,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_4E77E:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_4E78E
		braw	loc_4E98E
/*  --------------------------------------------------------------------------- */

loc_4E78E:
		moveb	#0xA,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E796:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		tstb	0x43(%a1)
		bnes	loc_4E7A4
		moveq	#-0x80,%d0

loc_4E7A4:
		cmpb	0x3D(%a0),%d0
		beqs	loc_4E7AE
		braw	loc_4E98E
/*  --------------------------------------------------------------------------- */

loc_4E7AE:
		moveb	#0xC,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E7B6:
		addqb	#4,0x3C(%a0)
		lea	(ICZMiniboss_OrbAngleLookup):l,%a2
		jsr	MoveSprite_AtAngleLookup(%pc)
		moveq	#0,%d0
		bsrw	sub_4E9A6
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_4E7F0
		tstb	0x2C(%a0)
		bnew	locret_4E400
		moveq	#0,%d0
		tstb	0x43(%a1)
		bnes	loc_4E7E8
		moveq	#-0x80,%d0

loc_4E7E8:
		cmpb	0x3C(%a0),%d0
		bnew	locret_4E400

loc_4E7F0:
		moveb	#0xE,5(%a0)
		bclr	#1,0x38(%a1)
		braw	loc_4EA58
/*  --------------------------------------------------------------------------- */

loc_4E800:
		moveb	0x3C(%a0),%d0
		cmpb	0x42(%a0),%d0
		beqs	loc_4E81E
		addqb	#4,0x3C(%a0)
		lea	(ICZMiniboss_OrbAngleLookup):l,%a2
		jsr	MoveSprite_AtAngleLookup(%pc)
		moveq	#0,%d0
		braw	sub_4E9A6
/*  --------------------------------------------------------------------------- */

loc_4E81E:
		moveb	#0x10,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4E834,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E834:
		moveb	#0x12,5(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4E850,0x34(%a0)
		braw	loc_4EAB8
/*  --------------------------------------------------------------------------- */

loc_4E84C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E850:
		moveb	#0x14,5(%a0)
		moveq	#sfx_LevelProjectile,%d0
		jsr	(Play_Sound_2):l
		movew	#0x400,0x1A(%a0)
		clrw	0x18(%a0)
		movew	#0x45,0x2E(%a0)
		movel	#loc_4E878,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4E878:
		moveb	#2,5(%a0)
		clrb	0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_4E884:
		rts
/*  --------------------------------------------------------------------------- */

loc_4E886:
		lea	word_4EB66(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0xB,%d0
		moveb	%d0,0x22(%a0)
		moveq	#8,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */

loc_4E8AA:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		moveb	RawAni_4E8BA(%pc,%d0.w),0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */
RawAni_4E8BA:	.byte    1,   9,   3,   2,  0xA,   4
/*  --------------------------------------------------------------------------- */

loc_4E8C0:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4E8D4(%pc,%d0.w),0x18(%a0)
		movew	word_4E8E0(%pc,%d0.w),0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_4E8D4:	.word 0xFFFF
		.word 0x1FF
		.word 1
		.word 0xFFFF
		.word 0x1FF
		.word 1
word_4E8E0:	.word 2
		.word 2
		.word 3
		.word 6
		.word 6
		.word 8
/*  --------------------------------------------------------------------------- */

loc_4E8EC:
		movew	#0x390,0x14(%a0)

loc_4E8F2:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4E922(%pc,%d0.w),%d2
		jsr	(Random_Number):l
		andiw	#7,%d0
		subqw	#3,%d0
		addw	%d0,%d2
		movew	#0x6F0,0x10(%a0)
		addw	%d2,0x10(%a0)
		swap	%d0
		andiw	#7,%d0
		subqw	#3,%d0
		addw	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_4E922:	.word 0xFFE0
		.word 0x20
		.word 0x60
		.word 0xA0
		.word 0xE0
		.word 0x120
		.word 0x160
		.word 0x1A0

/*  =============== S U B R O U T I N E ======================================= */


sub_4E932:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#4,%d0
		moveb	%d0,0x3C(%a0)
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		movemw	%d0-%d1,-(%sp)
		lea	(ICZMiniboss_OrbAngleLookup):l,%a2
		jsr	MoveSprite_AtAngleLookup(%pc)
		moveq	#0,%d0
		moveq	#0,%d1
		moveq	#0,%d2
		moveq	#0,%d3
		movemw	(%sp)+,%d0-%d1
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		movew	%d0,0x10(%a0)
		movew	%d1,0x14(%a0)
		swap	%d0
		swap	%d1
		swap	%d2
		swap	%d3
		subl	%d0,%d2
		subl	%d1,%d3
		lsll	#3,%d2
		lsll	#3,%d3
		swap	%d2
		swap	%d3
		movew	%d2,0x18(%a0)
		movew	%d3,0x1A(%a0)
		rts
/*  End of function sub_4E932 */

/*  --------------------------------------------------------------------------- */

loc_4E98E:
		addqb	#4,0x3C(%a0)
		lea	(ICZMiniboss_OrbAngleLookup):l,%a2
		jsr	MoveSprite_AtAngleLookup(%pc)
		moveb	0x3D(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x3D(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_4E9A6:
		jsr	(GetSineCosine):l
		tstw	%d1
		bpls	loc_4E9B2
		negw	%d1

loc_4E9B2:
		movew	0x14(%a0),%d2
		movew	0x14(%a1),%d4
		subw	%d4,%d2
		scs	%d3
		bccs	loc_4E9C2
		negw	%d2

loc_4E9C2:
		muluw	%d1,%d2
		lsrl	#8,%d2
		cmpib	#0x40,0x3D(%a0)
		bcss	loc_4E9D8
		cmpib	#-0x40,0x3D(%a0)
		bccs	loc_4E9D8
		notb	%d3

loc_4E9D8:
		tstb	%d3
		beqs	loc_4E9DE
		negw	%d2

loc_4E9DE:
		addw	%d2,%d4
		movew	%d4,0x14(%a0)
		moveb	0x3D(%a0),%d0
		%spl	%d3
		cmpib	#0x40,0x3C(%a0)
		bcss	loc_4E9FC
		cmpib	#-0x40,0x3C(%a0)
		bccs	loc_4E9FC
		notb	%d3

loc_4E9FC:
		moveb	#6,0x22(%a0)
		cmpib	#0x20,%d0
		bcss	loc_4EA2A
		cmpib	#0x60,%d0
		bcss	loc_4EA1A
		cmpib	#-0x60,%d0
		bcss	loc_4EA2A
		cmpib	#-0x20,%d0
		bccs	loc_4EA2A

loc_4EA1A:
		moveb	#5,0x22(%a0)
		tstb	%d3
		bnes	loc_4EA2A
		moveb	#8,0x22(%a0)

loc_4EA2A:
		movew	#0x180,8(%a0)
		tstb	%d3
		bnes	locret_4EA3A
		movew	#0x300,8(%a0)

locret_4EA3A:
		rts
/*  End of function sub_4E9A6 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4EA3C:
		moveb	0x3A(%a0),%d0
		addqb	#1,0x3A(%a0)
		andiw	#7,%d0
		moveb	byte_4EA50(%pc,%d0.w),0x39(%a0)
		rts
/*  End of function sub_4EA3C */

/*  --------------------------------------------------------------------------- */
byte_4EA50:	.byte 1
		.byte 0
		.byte 1
		.byte 1
		.byte 0
		.byte 1
		.byte 0
		.byte 0
/*  --------------------------------------------------------------------------- */

loc_4EA58:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		lsrw	#1,%d1
		tstb	0x43(%a1)
		bnes	loc_4EA6E
		addqw	#8,%d1

loc_4EA6E:
		moveb	byte_4EA88(%pc,%d1.w),0x42(%a0)
		addw	%d0,%d0
		movel	word_4EA98(%pc,%d0.w),0x18(%a0)
		tstb	0x43(%a1)
		bnes	locret_4EA86
		negw	0x18(%a0)

locret_4EA86:
		rts
/*  --------------------------------------------------------------------------- */
byte_4EA88:	.byte 0x60
		.byte 0x5C
		.byte 0x58
		.byte 0x54
		.byte 0x50
		.byte 0x4C
		.byte 0x48
		.byte 0x44
		.byte 0xE0
		.byte 0xDC
		.byte 0xD8
		.byte 0xD4
		.byte 0xD0
		.byte 0xCC
		.byte 0xC8
		.byte 0xC4
word_4EA98:	.word  0xFD00, 0xFC00
		.word  0xFE00, 0xFC00
		.word  0xFF00, 0xFC00
		.word      0, 0xFC00
		.word   0x100, 0xFC00
		.word   0x200, 0xFC00
		.word   0x300, 0xFC00
		.word   0x400, 0xFC00
/*  --------------------------------------------------------------------------- */

loc_4EAB8:
		movew	#0x278,0x14(%a0)
		braw	loc_4E8F2

/*  =============== S U B R O U T I N E ======================================= */


sub_4EAC2:
		tstb	0x28(%a0)
		bnes	locret_4EB0C
		tstb	0x29(%a0)
		beqs	loc_4EB0E
		tstb	0x20(%a0)
		bnes	loc_4EAE2
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4EAE2:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4EAF6
		addiw	#4,%d0

loc_4EAF6:
		bsrw	sub_4EB2A
		subqb	#1,0x20(%a0)
		bnes	locret_4EB0C
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_4EB0C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4EB0E:
		movel	#Wait_Draw,(%a0)
		movel	#loc_4E606,0x34(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	BossDefeated_StopTimer(%pc)
/*  End of function sub_4EAC2 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4EB2A:
		lea	word_4EB3C(%pc),%a1
		lea	word_4EB40(%pc,%d0.w),%a2
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		rts
/*  End of function sub_4EB2A */

/*  --------------------------------------------------------------------------- */
word_4EB3C:	.word  0xFC34, 0xFC36
word_4EB40:	.word   0x222,   0x20
		.word   0xEEE,  0xEEE
ObjDat3_4EB48:	.long Map_ICZMiniboss
		.word 0xA4A9
		.word 0x280
		.byte 0x18
		.byte 0x18
		.byte 0
		.byte 6
word_4EB54:	.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 1
		.byte 0
ObjDat3_4EB5A:	.long Map_ICZMiniboss
		.word 0x44A9
		.word 0x280
		.byte 0xC
		.byte 0xC
		.byte 6
		.byte 0
word_4EB66:	.word 0x180
		.byte 0xC
		.byte 0xC
		.byte 0xB
		.byte 0
ChildObjDat_4EB6C:.word 5
		.long loc_4E658
		.word 0xF2F5
		.long loc_4E658
		.word 0xEF5
		.long loc_4E658
		.word 0x12
		.long loc_4E658
		.word 0xF2F5
		.long loc_4E658
		.word 0xEF5
		.long loc_4E658
		.word 0xE
ChildObjDat_4EB92:.word 7
		.long loc_4E6C2
ChildObjDat_4EB98:.word 3
		.long loc_4E886
		.word 0xF4F4
		.long loc_4E886
		.word 0xCF4
		.long loc_4E886
		.word 0xF40C
		.long loc_4E886
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 3
		.byte 1
		.byte 3
		.byte 2
		.byte 3
		.byte 3
		.byte 3
		.byte 4
		.byte 3
		.byte 5
		.byte 3
		.byte 6
		.byte 3
		.byte 0xF4
		.byte 0
Pal_ICZMiniboss:.incbin "Levels/ICZ/Palettes/Miniboss.bin"
		.balign 2
word_4EBE2:	palscriptptr .header, .data
		.word 0

.header	palscripthdr	Normal_palette_line_4+0x02, 10, 2-1
.data	palscriptdata	8, 0xEEC, 0xCC6, 0xC80, 0xC60, 0xC40, 0xA40, 0x820, 0x620, 0x200, 0x600
	palscriptdata	8, 0xEEC, 0xCC6, 0xC82, 0xC80, 0xC40, 0xA40, 0x820, 0x820, 0x200, 0x600
	palscriptdata	8, 0xEEC, 0xCC8, 0xE82, 0xC82, 0xC40, 0xC40, 0xA20, 0x820, 0x200, 0x600
	palscriptdata	8, 0xEEE, 0xEC8, 0xEA4, 0xC82, 0xC60, 0xC40, 0xA20, 0xA20, 0x400, 0x600
	palscriptdata	8, 0xEEE, 0xEC8, 0xEA4, 0xE82, 0xC60, 0xC40, 0xC20, 0xA20, 0x400, 0x600
	palscriptdata	8, 0xEEE, 0xEC8, 0xEA6, 0xE82, 0xC62, 0xC40, 0xC20, 0xC20, 0x600, 0x800
	palscriptdata	8, 0xEEE, 0xEE8, 0xEC6, 0xEA2, 0xC80, 0xC60, 0xC20, 0xC20, 0x600, 0xA00
	palscriptdata	8, 0xEEE, 0xEEA, 0xEC6, 0xEA4, 0xC82, 0xC60, 0xC40, 0xC20, 0x800, 0xC00
	palscriptdata	8, 0xEEE, 0xEEA, 0xEC8, 0xEA4, 0xC82, 0xC60, 0xC40, 0xE20, 0xA00, 0xC00
	palscriptdata	8, 0xEEE, 0xEEA, 0xEC8, 0xEA4, 0xC82, 0xC60, 0xC40, 0xE20, 0xA00, 0xE00
	palscriptrun
/*  --------------------------------------------------------------------------- */

Obj_ICZEndBoss:
		lea	word_4ED28(%pc),%a1
		jsr	(Check_CameraInRange):l
		movel	#loc_4ED30,(%a0)
		moveb	#1,(Boss_flag):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		moveb	#mus_EndBoss,0x26(%a0)
		movew	(Camera_target_max_Y_pos):w,(Target_camera_max_Y_pos):w
		movew	#0x5F8,(Camera_target_max_Y_pos):w
		movew	#0x4390,0x1C(%a0)
		movew	#0x4390,(Camera_max_X_pos):w
		movel	#loc_4ED34,0x34(%a0)
		moveq	#0x70,%d0
		jsr	(Load_PLC):l
		lea	Pal_ICZEndBoss(%pc),%a1
		jmp	PalLoad_Line1(%pc)
/*  --------------------------------------------------------------------------- */
word_4ED28:	.word 0
		.word 0x6C0
		.word 0x4340
		.word 0x4390
/*  --------------------------------------------------------------------------- */

loc_4ED30:
		jmp	loc_541C8(%pc)
/*  --------------------------------------------------------------------------- */

loc_4ED34:
		movel	#loc_4ED3C,(%a0)

locret_4ED3A:
		rts
/*  --------------------------------------------------------------------------- */

loc_4ED3C:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4ED52(%pc,%d0.w),%d1
		jsr	off_4ED52(%pc,%d1.w)
		bsrw	sub_4F2F4
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4ED52:	.word loc_4ED5A-off_4ED52
		.word loc_4ED96-off_4ED52
		.word loc_4EDC0-off_4ED52
		.word loc_4EE5A-off_4ED52
/*  --------------------------------------------------------------------------- */

loc_4ED5A:
		lea	ObjDat3_4F39A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#8,0x29(%a0)
		movew	#0x80,0x1A(%a0)
		movew	#0xCF,0x2E(%a0)
		movel	#loc_4EDA0,0x34(%a0)
		lea	(ChildObjDat_4F3CA):l,%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	loc_4ED8E
		moveb	#9,0x2C(%a1)

loc_4ED8E:
		lea	ChildObjDat_4F3D2(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4ED96:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EDA0:
		movew	#0x7FFF,0x44(%a0)
		bsrw	sub_4F1B8
		moveb	#4,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4EDE4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EDC0:
		jsr	Swing_UpAndDown(%pc)
		subqw	#1,0x44(%a0)
		bpls	loc_4EDDA
		negw	0x18(%a0)
		bchg	#0,4(%a0)
		movew	#0x17F,0x44(%a0)

loc_4EDDA:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EDE4:
		bset	#2,0x38(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4EDFA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EDFA:
		movew	#0x3F,0x2E(%a0)
		movew	#-0x80,0x18(%a0)
		movew	#0x17F,0x44(%a0)
		movel	#loc_4EE16,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EE16:
		movel	#loc_4EE3C,0x34(%a0)
		moveq	#sfx_FrostPuff,%d0
		jsr	(Play_Sound_2):l
		bsrw	sub_4F1D2
		cmpiw	#2,0x26(%a0)
		bnew	locret_4ED3A
		lea	ChildObjDat_4F3E6(%pc),%a2
		jmp	CreateChild6_Simple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EE3C:
		bclr	#1,0x38(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4EE16,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		bclr	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EE5A:
		subqw	#1,0x3C(%a0)
		bmis	loc_4EE6C
		addil	#0x8000,0x14(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EE6C:
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EE74:
		movel	#Obj_Wait,(%a0)
		bclr	#7,4(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4EEA4,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		lea	ChildObjDat_4F400(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EEA4:
		movel	#loc_4EECE,(%a0)
		st	(_unkFAA8):w
		clrb	(Boss_flag):w
		jsr	(Obj_PlayLevelMusic):l
		movew	#0x44C0,(Target_camera_max_X_pos):w
		jsr	(Create_New_Sprite):l
		bnes	locret_4EECC
		movel	#Obj_IncLevEndXGradual,(%a1)

locret_4EECC:
		rts
/*  --------------------------------------------------------------------------- */

loc_4EECE:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		tstb	(_unkFAA8):w
		bnew	locret_4ED3A
		clrb	(_unkFAA8):w
		jsr	Restore_PlayerControl(%pc)
		lea	(Player_2):w,%a1
		jsr	Restore_PlayerControl2(%pc)
		movew	(Target_camera_max_Y_pos):w,(Camera_target_max_Y_pos):w
		movew	#0x47C0,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jsr	(CreateChild6_Simple):l
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_4EF0A:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4EF22(%pc,%d0.w),%d1
		jsr	off_4EF22(%pc,%d1.w)
		moveq	#0xC,%d0
		jmp	Child_Draw_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
off_4EF22:	.word loc_4EF28-off_4EF22
		.word loc_4EF30-off_4EF22
		.word loc_4EF58-off_4EF22
/*  --------------------------------------------------------------------------- */

loc_4EF28:
		lea	word_4F3A6(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EF30:
		moveaw	0x46(%a0),%a1
		tstb	0x3B(%a1)
		bnes	loc_4EF3C
		rts
/*  --------------------------------------------------------------------------- */

loc_4EF3C:
		moveb	#4,5(%a0)
		moveb	#4,0x22(%a0)
		movew	#0xE,0x2E(%a0)
		movel	#loc_4EF5C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EF58:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EF5C:
		movew	#0x17,0x2E(%a0)
		movew	#6,0x26(%a0)
		lea	ChildObjDat_4F3F2(%pc),%a2
		jmp	CreateChild6_Simple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EF70:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4EF96(%pc,%d0.w),%d1
		jsr	off_4EF96(%pc,%d1.w)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		moveaw	0x46(%a0),%a1
		tstb	0x3B(%a1)
		bnew	loc_5312A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_4EF96:	.word loc_4EFA0-off_4EF96
		.word loc_4EFA8-off_4EF96
		.word loc_4EFCC-off_4EF96
		.word loc_4EFDC-off_4EF96
		.word loc_4F000-off_4EF96
/*  --------------------------------------------------------------------------- */

loc_4EFA0:
		lea	word_4F3AC(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EFA8:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4EFB6
		rts
/*  --------------------------------------------------------------------------- */

loc_4EFB6:
		moveb	#4,5(%a0)
		movew	#0x24,0x2E(%a0)
		movel	#loc_4EFD4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EFCC:
		addqb	#1,0x43(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4EFD4:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4EFDC:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_4EFEA
		rts
/*  --------------------------------------------------------------------------- */

loc_4EFEA:
		moveb	#8,5(%a0)
		movew	#0x24,0x2E(%a0)
		movel	#loc_4F008,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F000:
		subqb	#1,0x43(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F008:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F010:
		movew	0x10(%a0),-(%sp)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4F04E(%pc,%d0.w),%d1
		jsr	off_4F04E(%pc,%d1.w)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0x23,%d1
		moveq	#4,%d2
		moveq	#0xA,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		moveq	#0,%d0
		moveaw	0x46(%a0),%a1
		tstb	0x3B(%a1)
		bnes	loc_4F046
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4F046:
		jsr	Displace_PlayerOffObject(%pc)
		jmp	loc_5312A(%pc)
/*  --------------------------------------------------------------------------- */
off_4F04E:	.word loc_4F058-off_4F04E
		.word loc_4F068-off_4F04E
		.word loc_4EFCC-off_4F04E
		.word loc_4F08C-off_4F04E
		.word loc_4F000-off_4F04E
/*  --------------------------------------------------------------------------- */

loc_4F058:
		lea	word_4F3B2(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		lea	ChildObjDat_4F3F8(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F068:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_4F076
		rts
/*  --------------------------------------------------------------------------- */

loc_4F076:
		moveb	#4,5(%a0)
		movew	#0x42,0x2E(%a0)
		movel	#loc_4EFD4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F08C:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_4F0B8
		btst	#1,0x38(%a1)
		beqs	locret_4F0B6
		movew	0x26(%a1),%d0
		cmpiw	#2,%d0
		beqs	locret_4F0B6
		movew	%d0,0x26(%a0)
		lea	ChildObjDat_4F3EC(%pc),%a2
		jsr	CreateChild6_Simple(%pc)

locret_4F0B6:
		rts
/*  --------------------------------------------------------------------------- */

loc_4F0B8:
		moveb	#8,5(%a0)
		movew	#0x42,0x2E(%a0)
		movel	#loc_4F008,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F0CE:
		lea	ObjDat3_4F3B8(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#Obj_Wait,(%a0)
		movel	#loc_4F0E8,0x34(%a0)
		braw	loc_4F200
/*  --------------------------------------------------------------------------- */

loc_4F0E8:
		moveaw	0x46(%a0),%a1
		movel	#loc_4F10A,(%a0)
		cmpiw	#6,0x26(%a1)
		bnes	loc_4F100
		movel	#loc_4F138,(%a0)

loc_4F100:
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F10A:
		jsr	Refresh_ChildPosition(%pc)
		jsr	Animate_RawMultiDelay(%pc)
		cmpib	#4,0x23(%a0)
		bcss	loc_4F12C
		cmpib	#8,0x23(%a0)
		bhis	loc_4F12C
		lea	word_4F130(%pc),%a1
		jsr	(sub_5819C):l

loc_4F12C:
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
word_4F130:	.word  0xFFE8,   0x30, 0xFFE8,   0x30
/*  --------------------------------------------------------------------------- */

loc_4F138:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jsr	Animate_RawMultiDelay(%pc)
		cmpib	#4,0x23(%a0)
		bcss	loc_4F15A
		cmpib	#8,0x23(%a0)
		bhis	loc_4F15A
		lea	word_4F15E(%pc),%a1
		jsr	(sub_5819C):l

loc_4F15A:
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
word_4F15E:	.word  0xFFF0,   0x20, 0xFFF0,   0x20
/*  --------------------------------------------------------------------------- */

loc_4F166:
		movel	#loc_4F174,(%a0)
		moveb	#-0x65,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F174:
		jsr	Refresh_ChildPosition(%pc)
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4F18A
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

loc_4F18A:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4F190:
		lea	word_4F3C4(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0x16,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0x34,%d0
		jmp	Set_IndexedVelocity(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_4F1B8:
		movew	#0xC0,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#0x10,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  End of function sub_4F1B8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4F1D2:
		bset	#1,0x38(%a0)
		tstb	0x3B(%a0)
		bnes	loc_4F1F8
		moveb	0x3A(%a0),%d0
		andiw	#0xF,%d0
		lea	byte_4F464(%pc),%a1
		moveb	(%a1,%d0.w),0x27(%a0)
		addqb	#1,%d0
		moveb	%d0,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F1F8:
		movew	#2,0x26(%a0)
		rts
/*  End of function sub_4F1D2 */

/*  --------------------------------------------------------------------------- */

loc_4F200:
		moveaw	0x46(%a0),%a1
		movew	0x26(%a1),%d0
		moveq	#0,%d1
		moveb	44(%a0),%d1
		lea	word_4F28C(%pc),%a2
		movew	(%a2,%d0.w),%d2
		addaw	%d2,%a2
		movew	(%a2,%d1.w),0x42(%a0)
		lea	word_4F2C4(%pc),%a2
		movew	(%a2,%d0.w),%d2
		addaw	%d2,%a2
		moveb	(%a2,%d1.w),%d2
		orb	%d2,4(%a0)
		lea	word_4F25A(%pc),%a2
		movew	(%a2,%d0.w),%d2
		addaw	%d2,%a2
		movew	(%a2,%d1.w),0x2E(%a0)
		cmpib	#6,%d0
		beqs	loc_4F250
		addw	%d1,%d1
		movel	off_4F270(%pc,%d1.w),0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F250:
		movel	#byte_4F430,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_4F25A:	.word    8
		.word   0xA
		.word    8
		.word   0xE
		.word  0x11
		.word   0xE
		.word   0xB
		.word    8
		.word    5
		.word    2
		.word 0xFFFF
off_4F270:	.long byte_4F423
		.long byte_4F423
		.long byte_4F423
		.long byte_4F423
		.long byte_4F414
		.long byte_4F414
		.long byte_4F414
word_4F28C:	.word 8
		.word 0x16
		.word 0x22
		.word 0x30
		.word 0xB014
		.word 0xC014
		.word 0xB804
		.word 0xC004
		.word 0xCC0C
		.word 0xDC08
		.word 0xE404
		.word 0x840
		.word 0x3C
		.word 0xF040
		.word 0xF83C
		.word 0xFC34
		.word 0xFC28
		.word 0x5014
		.word 0x4014
		.word 0x4804
		.word 0x4004
		.word 0x340C
		.word 0x2408
		.word 0x1C04
		.word 0x18FC
		.word 0x1400
		.word 0x10F8
		.word 0x8FC
word_4F2C4:	.word 8
		.word 0x16
		.word 0x22
		.word 0xE
		.word 0x200
		.word 0x200
		.word 0
		.word 0
		.word 0
		.word 0
		.word 0
		.word 0x100
		.word 0x100
		.word 0
		.word 0
		.word 0
		.word 0
		.word 0x300
		.word 0x300
		.word 0x100
		.word 0x100
		.word 0x100
		.word 0x100
		.word 0x100

/*  =============== S U B R O U T I N E ======================================= */


sub_4F2F4:
		tstb	0x28(%a0)
		bnes	locret_4F35C
		moveb	0x29(%a0),%d0
		beqs	loc_4F35E
		tstb	0x20(%a0)
		bnes	loc_4F32A
		cmpib	#2,%d0
		bnes	loc_4F31C
		st	0x3B(%a0)
		moveb	#6,5(%a0)
		movew	#0x7F,0x3C(%a0)

loc_4F31C:
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4F32A:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_4F33E
		addiw	#4,%d0

loc_4F33E:
		bsrw	sub_4F382
		subqb	#1,0x20(%a0)
		bnes	locret_4F35C
		bclr	#6,0x2A(%a0)
		cmpib	#0,0x22(%a0)
		bnes	locret_4F35C
		moveb	0x25(%a0),0x28(%a0)

locret_4F35C:
		rts
/*  --------------------------------------------------------------------------- */

loc_4F35E:
		movel	#Wait_Draw,(%a0)
		movel	#loc_4EE74,0x34(%a0)
		moveaw	(_unkFAAE):w,%a1
		cmpil	#loc_58DF8,(%a1)
		bnes	loc_4F37E
		bset	#5,0x38(%a1)

loc_4F37E:
		jmp	BossDefeated_StopTimer(%pc)
/*  End of function sub_4F2F4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_4F382:
		lea	word_4F38E(%pc),%a1
		lea	word_4F392(%pc,%d0.w),%a2
		jmp	CopyWordData_2(%pc)
/*  End of function sub_4F382 */

/*  --------------------------------------------------------------------------- */
word_4F38E:	.word Normal_palette_line_2+0x14, Normal_palette_line_2+0x1C
word_4F392:	.word    0x20,  0x644
		.word   0xEEE,  0xAAA
ObjDat3_4F39A:	.long Map_ICZEndBoss
		.word 0xA2A6
		.word 0x280
		.byte 0x24
		.byte 0x24
		.byte 0
		.byte 0xF
word_4F3A6:	.word 0x200
		.byte 0x14
		.byte 8
		.byte 3
		.byte 0
word_4F3AC:	.word 0x280
		.byte 8
		.byte 0xC
		.byte 1
		.byte 0
word_4F3B2:	.word 0x280
		.byte 0x18
		.byte 0x2C
		.byte 2
		.byte 0
ObjDat3_4F3B8:	.long Map_ICZEndBoss
		.word 0xA2A6
		.word 0x80
		.byte 0x10
		.byte 0x10
		.byte 5
		.byte 0
word_4F3C4:	.word 0x180
		.byte 0x14
		.byte 0x10
		.byte 0
		.byte 0
ChildObjDat_4F3CA:.word 0
		.long Obj_RobotnikShip4
		.word 0
ChildObjDat_4F3D2:.word 2
		.long loc_4EF0A
		.word 0x1807
		.long loc_4EF70
		.word 0xB
		.long loc_4F010
		.word 0x2D
ChildObjDat_4F3E6:.word 5
		.long loc_4F0CE
ChildObjDat_4F3EC:.word 6
		.long loc_4F0CE
ChildObjDat_4F3F2:.word 3
		.long loc_4F0CE
ChildObjDat_4F3F8:.word 0
		.long loc_4F166
		.word 8
ChildObjDat_4F400:.word 2
		.long loc_4F190
		.word 0xEC04
		.long loc_4F190
		.word 0xC04
		.long loc_4F190
		.word 0x1C
byte_4F414:	.byte    5,   1
		.byte    5,   1
		.byte    6,   1
		.byte    7,   2
		.byte    8,   3
		.byte    9,   4
		.byte   0xA,   5
		.byte  0xF4
byte_4F423:	.byte   0xB,   2
		.byte   0xB,   2
		.byte   0xC,   3
		.byte   0xD,   4
		.byte   0xE,   5
		.byte   0xF,   6
		.byte  0xF4
byte_4F430:	.byte  0x10,   1
		.byte  0x10,   1
		.byte  0x11,   1
		.byte  0x12,   2
		.byte  0x13,   2
		.byte  0x14,   2
		.byte  0x15,   2
		.byte  0xF4,   5
		.byte    0,   1
		.byte  0xFC,   0
Pal_ICZEndBoss:	.incbin "Levels/ICZ/Palettes/End Boss.bin"
		.balign 2
byte_4F464:	.byte    0,   2
		.byte    4,   2
		.byte    0,   2
		.byte    4,   2
		.byte    0,   2
		.byte    0,   2
		.byte    4,   2
		.byte    2,   4
/*  --------------------------------------------------------------------------- */

Obj_LBZMiniboss:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4F48A(%pc,%d0.w),%d1
		jsr	off_4F48A(%pc,%d1.w)
		bsrw	sub_4F84C
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4F48A:	.word loc_4F496-off_4F48A
		.word loc_4F4D8-off_4F48A
		.word loc_4F4F8-off_4F48A
		.word loc_4F53E-off_4F48A
		.word loc_4F55A-off_4F48A
		.word loc_4F5B4-off_4F48A
/*  --------------------------------------------------------------------------- */

loc_4F496:
		lea	ObjDat3_4F948(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#6,0x29(%a0)
		moveb	#1,(Boss_flag):w
		movew	#0x10,0x2E(%a0)
		movel	#loc_4F4DC,0x34(%a0)
		lea	Pal_LBZMiniboss(%pc),%a1
		jsr	PalLoad_Line1(%pc)
		lea	ChildObjDat_4F960(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_4F968(%pc),%a2
		jsr	CreateChild4_LinkListRepeated(%pc)
		lea	ChildObjDat_4F96E(%pc),%a2
		jmp	CreateChild4_LinkListRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F4D8:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F4DC:
		moveb	#4,5(%a0)
		movew	#0,0x1A(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_4F502,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F4F8:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F502:
		moveb	#6,5(%a0)
		bset	#1,0x38(%a0)
		lea	(byte_4F974):l,%a1
		lea	(_unkFA82):w,%a2
		moveq	#5,%d6

loc_4F51A:
		moveb	(%a1)+,(%a2)+
		dbf	%d6,loc_4F51A
		movel	#_unkFA82,0x30(%a0)
		moveb	#0x10,0x24(%a0)
		movel	#loc_4F546,0x34(%a0)

loc_4F536:
		movew	#0x10,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F53E:
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F546:
		lea	(_unkFA82):w,%a1
		subqb	#1,(%a1)
		cmpib	#2,(%a1)
		bhis	loc_4F536
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F55A:
		lea	(Player_1):w,%a1
		moveq	#0,%d0
		moveq	#0,%d1
		movew	0x10(%a0),%d2
		subw	0x10(%a1),%d2
		bpls	loc_4F570
		negw	%d2
		addqw	#2,%d0

loc_4F570:
		moveq	#0,%d1
		movew	0x14(%a0),%d3
		movew	0x14(%a1),%d4
		subiw	#0x38,%d4
		subw	%d4,%d3
		bpls	loc_4F586
		negw	%d3
		addqw	#2,%d1

loc_4F586:
		movew	word_4F5B0(%pc,%d0.w),0x18(%a0)
		movew	word_4F5B0(%pc,%d1.w),0x1A(%a0)
		cmpiw	#4,%d2
		bhis	loc_4F59C
		clrw	0x18(%a0)

loc_4F59C:
		cmpiw	#4,%d3
		bhis	loc_4F5A6
		clrw	0x1A(%a0)

loc_4F5A6:
		jsr	(MoveSprite2):l
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */
word_4F5B0:	.word  0xFF00,  0x100
/*  --------------------------------------------------------------------------- */

loc_4F5B4:
		subqw	#2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F5BA:
		jmp	(Obj_EndSignControl):l
/*  --------------------------------------------------------------------------- */

loc_4F5C0:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4F5D6(%pc,%d0.w),%d1
		jsr	off_4F5D6(%pc,%d1.w)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */
off_4F5D6:	.word loc_4F5DC-off_4F5D6
		.word loc_4F5EE-off_4F5D6
		.word loc_4F60C-off_4F5D6
/*  --------------------------------------------------------------------------- */

loc_4F5DC:
		lea	word_4F954(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#byte_4F97A,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F5EE:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_4F5FC
		rts
/*  --------------------------------------------------------------------------- */

loc_4F5FC:
		moveb	#4,5(%a0)
		movel	#byte_4F97A,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F60C:
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F610:
		bset	#2,0x38(%a0)

loc_4F616:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4F632(%pc,%d0.w),%d1
		jsr	off_4F632(%pc,%d1.w)
		tstb	0x2C(%a0)
		bnes	loc_4F62E
		jmp	loc_4F8C0(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F62E:
		jmp	loc_4F8F6(%pc)
/*  --------------------------------------------------------------------------- */
off_4F632:	.word loc_4F63E-off_4F632
		.word loc_4F678-off_4F632
		.word loc_4F6A2-off_4F632
		.word loc_4F6FC-off_4F632
		.word loc_4F726-off_4F632
		.word loc_4F7A2-off_4F632
/*  --------------------------------------------------------------------------- */

loc_4F63E:
		lea	word_4F95A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movew	#0x100,0x2E(%a0)
		movel	#sub_4F68E,0x34(%a0)
		moveb	#4,0x3D(%a0)
		movew	#5,0x3E(%a0)
		cmpib	#0xA,0x2C(%a0)
		bnes	loc_4F674
		movew	#4,0x3E(%a0)
		bset	#1,0x38(%a0)

loc_4F674:
		braw	loc_4F7BE
/*  --------------------------------------------------------------------------- */

loc_4F678:
		tstb	0x2C(%a0)
		bnes	loc_4F682
		jsr	Refresh_ChildPositionAdjusted(%pc)

loc_4F682:
		movew	0x3E(%a0),%d2
		jsr	MoveSprite_CircularSimple(%pc)
		jmp	Obj_Wait(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_4F68E:
		moveb	#4,5(%a0)
		bsrw	sub_4F818
		movel	#loc_4F6CA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F6A2:
		btst	#1,0x38(%a0)
		beqs	loc_4F6C0
		moveb	0x3D(%a0),%d0
		addb	%d0,0x3C(%a0)
		movew	0x3E(%a0),%d2
		jsr	(MoveSprite_CircularSimple):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F6C0:
		movew	0x3E(%a0),%d2
		jmp	(MoveSprite_CircularSimple):l
/*  --------------------------------------------------------------------------- */

loc_4F6CA:
		bsrw	sub_4F832
		movel	#loc_4F73A,0x34(%a0)
		tstb	0x2C(%a0)
		beqs	loc_4F6F4
		moveb	#6,5(%a0)
		moveaw	0x46(%a0),%a1
		bset	#1,0x38(%a1)
		moveb	0x3C(%a1),0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F6F4:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F6FC:
		moveaw	0x46(%a0),%a1
		moveb	0x3C(%a1),0x3C(%a0)
		movew	0x3E(%a0),%d2
		jsr	(MoveSprite_CircularSimple):l
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_4F71E
		rts
/*  --------------------------------------------------------------------------- */

loc_4F71E:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4F726:
		moveb	0x3D(%a0),%d0
		addb	%d0,0x3C(%a0)
		jsr	Obj_Wait(%pc)
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F73A:
		bclr	#1,0x38(%a0)
		negb	0x3D(%a0)
		bsrw	sub_4F68E
		cmpib	#0xA,0x2C(%a0)
		bnes	loc_4F76A
		moveb	#0xA,5(%a0)
		movew	#0x3C,0x2E(%a0)
		movel	#sub_4F68E,0x34(%a0)
		bset	#1,0x38(%a0)

loc_4F76A:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		moveq	#0,%d1
		btst	#2,0x38(%a0)
		beqs	loc_4F77E
		addqw	#8,%d1

loc_4F77E:
		tstb	0x3D(%a0)
		bpls	loc_4F786
		addqw	#4,%d1

loc_4F786:
		moveal	off_4F792(%pc,%d1.w),%a1
		moveb	(%a1,%d0.w),0x3C(%a0)
		rts
/*  End of function sub_4F68E */

/*  --------------------------------------------------------------------------- */
off_4F792:	.long byte_4F800
		.long byte_4F806
		.long byte_4F80C
		.long byte_4F812
/*  --------------------------------------------------------------------------- */

loc_4F7A2:
		movew	0x3E(%a0),%d2
		jsr	MoveSprite_CircularSimple(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F7AE:
		jsr	(MoveSprite):l
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4F7BE:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	byte_4F7EE(%pc,%d0.w),8(%a0)
		lsrw	#1,%d0
		moveb	byte_4F7FA(%pc,%d0.w),0x22(%a0)
		moveb	byte_4F800(%pc,%d0.w),0x3C(%a0)
		btst	#2,0x38(%a0)
		beqs	loc_4F7E6
		moveb	byte_4F80C(%pc,%d0.w),0x3C(%a0)

loc_4F7E6:
		movew	0x3E(%a0),%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */
byte_4F7EE:	.byte    3,   0,   3, 0x80
		.byte    3,   0,   3, 0x80
		.byte    3,   0,   2, 0x80
byte_4F7FA:	.byte 7
		.byte 8
		.byte 7
		.byte 8
		.byte 7
		.byte 6
byte_4F800:	.byte 0x55
		.byte 0
		.byte 0xD5
		.byte 0xAA
		.byte 0x80
		.byte 0x68
byte_4F806:	.byte 0x2A
		.byte 0x7A
		.byte 0xB0
		.byte 0xDA
		.byte 0
		.byte 0x18
byte_4F80C:	.byte 0xD5
		.byte 0x80
		.byte 0x55
		.byte 0x2A
		.byte 0
		.byte 0xF4
byte_4F812:	.byte 0xAA
		.byte 0
		.byte 0x2A
		.byte 0x55
		.byte 0x80
		.byte 0x8C

/*  =============== S U B R O U T I N E ======================================= */


sub_4F818:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4F826(%pc,%d0.w),0x2E(%a0)
		rts
/*  End of function sub_4F818 */

/*  --------------------------------------------------------------------------- */
word_4F826:	.word 0
		.word 0x14
		.word 9
		.word 9
		.word 9
		.word 5

/*  =============== S U B R O U T I N E ======================================= */


sub_4F832:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_4F840(%pc,%d0.w),0x2E(%a0)
		rts
/*  End of function sub_4F832 */

/*  --------------------------------------------------------------------------- */
word_4F840:	.word 0x34
		.word 0x14
		.word 9
		.word 9
		.word 9
		.word 3

/*  =============== S U B R O U T I N E ======================================= */


sub_4F84C:
		tstb	0x28(%a0)
		bnes	locret_4F8A2
		tstb	0x29(%a0)
		beqs	loc_4F8A4
		cmpib	#3,0x29(%a0)
		bnes	loc_4F866
		bset	#0,0x38(%a0)

loc_4F866:
		tstb	0x20(%a0)
		bnes	loc_4F886
		moveb	5(%a0),0x3A(%a0)
		moveb	#0xA,5(%a0)
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_4F886:
		jsr	BossFlash(%pc)
		subqb	#1,0x20(%a0)
		bnes	locret_4F8A2
		moveb	0x3A(%a0),5(%a0)
		movew	#0xEEE,(Normal_palette_line_2+2):w
		moveb	0x25(%a0),0x28(%a0)

locret_4F8A2:
		rts
/*  --------------------------------------------------------------------------- */

loc_4F8A4:
		movel	#Wait_Draw,(%a0)
		movel	#loc_4F5BA,0x34(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	BossDefeated_StopTimer(%pc)
/*  End of function sub_4F84C */

/*  --------------------------------------------------------------------------- */

loc_4F8C0:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4F8E0
		btst	#0,0x38(%a1)
		beqs	loc_4F8DC
		btst	#2,0x38(%a0)
		bnes	loc_4F8E0

loc_4F8DC:
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F8E0:
		movew	0x44(%a0),%d0
		beqs	loc_4F8EE
		moveaw	%d0,%a1
		bset	#7,0x2A(%a1)

loc_4F8EE:
		bsrw	sub_4F902
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4F8F6:
		btst	#7,0x2A(%a0)
		bnes	loc_4F8E0
		jmp	Draw_And_Touch_Sprite(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_4F902:
		movel	#loc_4F7AE,(%a0)
		clrb	0x28(%a0)
		movew	#0x80,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		lea	word_4F930(%pc,%d0.w),%a1
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x1A(%a0)
		rts
/*  End of function sub_4F902 */

/*  --------------------------------------------------------------------------- */
word_4F930:	.word 0x100
		.word 0xFF00
		.word 0xFE00
		.word 0xFE00
		.word 0x300
		.word 0xFE00
		.word 0x200
		.word 0xFF00
		.word 0xFF00
		.word 0xFE00
		.word 0xFF80
		.word 0xFF00
ObjDat3_4F948:	.long Map_LBZMiniboss
		.word 0xA4D6
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 6
word_4F954:	.word 0x200
		.byte 0x20
		.byte 0x20
		.byte 3
		.byte 0
word_4F95A:	.word 0x180
		.byte 8
		.byte 8
		.byte 6
		.byte 0x98
ChildObjDat_4F960:.word 0
		.long loc_4F5C0
		.word 0
ChildObjDat_4F968:.word 5
		.long loc_4F616
ChildObjDat_4F96E:.word 5
		.long loc_4F610
byte_4F974:	.byte   0xF,   0
		.byte    1,   0
		.byte    2, 0xFC
byte_4F97A:	.byte    7,   3
		.byte    4,   5
		.byte  0xF8,   6
		.byte  0x3F,   5
		.byte    5,   5
		.byte  0xF8,   6
		.byte    7,   5
		.byte    4,   3
		.byte    4, 0xFC
Pal_LBZMiniboss:.incbin "Levels/LBZ/Palettes/Miniboss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_LBZ_FinalBoss1:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4F9C2(%pc,%d0.w),%d1
		jsr	off_4F9C2(%pc,%d1.w)
		bsrw	sub_500DA
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4F9C2:	.word loc_4F9CE-off_4F9C2
		.word loc_4FA2E-off_4F9C2
		.word loc_4FA46-off_4F9C2
		.word locret_4FAC2-off_4F9C2
		.word loc_4FAC4-off_4F9C2
		.word loc_4FADA-off_4F9C2
/*  --------------------------------------------------------------------------- */

loc_4F9CE:
		lea	ObjDat3_502A4(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#9,0x29(%a0)
		moveb	#1,(Boss_flag):w
		movew	#0x7F,0x2E(%a0)
		movel	#loc_4FA32,0x34(%a0)
		moveq	#0x71,%d0
		jsr	(Load_PLC):l
		jsr	(Create_New_Sprite):l
		bnes	loc_4FA0C
		movel	#Obj_Song_Fade_Transition,(%a1)
		moveb	#mus_EndBoss,0x2C(%a1)

loc_4FA0C:
		lea	(Child1_MakeRoboHead3):l,%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_503B8(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_5032E(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_503B0(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FA2E:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FA32:
		moveb	#4,5(%a0)
		movew	#-0x100,0x1A(%a0)
		lea	Pal_LBZFinalBoss1(%pc),%a1
		jmp	PalLoad_Line1(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FA46:
		movew	0x14(%a0),%d0
		movew	(Camera_Y_pos):w,%d1
		tstw	0x1A(%a0)
		bmis	loc_4FA62
		addiw	#0x118,%d1
		cmpw	%d1,%d0
		bccs	loc_4FA70
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_4FA62:
		subiw	#0xB0,%d1
		cmpw	%d1,%d0
		blss	loc_4FA70
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_4FA70:
		cmpib	#2,0x29(%a0)
		blss	loc_4FA80
		btst	#3,0x38(%a0)
		beqs	locret_4FABC

loc_4FA80:
		jsr	(Random_Number):l
		swap	%d0
		moveq	#0,%d1
		bclr	#0,4(%a0)
		btst	#0,%d0
		beqs	loc_4FA9E
		moveq	#2,%d1
		bset	#0,4(%a0)

loc_4FA9E:
		movew	word_4FABE(%pc,%d1.w),%d1
		movew	(Camera_X_pos):w,%d2
		addw	%d1,%d2
		movew	%d2,0x10(%a0)
		movew	#0x100,%d0
		tstw	0x1A(%a0)
		bmis	loc_4FAB8
		negw	%d0

loc_4FAB8:
		movew	%d0,0x1A(%a0)

locret_4FABC:
		rts
/*  --------------------------------------------------------------------------- */
word_4FABE:	.word 0x110
		.word 0x30
/*  --------------------------------------------------------------------------- */

locret_4FAC2:
		rts
/*  --------------------------------------------------------------------------- */

loc_4FAC4:
		subqb	#1,0x40(%a0)
		bmis	loc_4FACC
		rts
/*  --------------------------------------------------------------------------- */

loc_4FACC:
		moveb	#0xA,5(%a0)
		moveb	#4,0x40(%a0)

locret_4FAD8:
		rts
/*  --------------------------------------------------------------------------- */

loc_4FADA:
		addqw	#8,0x14(%a0)
		subqb	#1,0x40(%a0)
		bmis	loc_4FAE6
		rts
/*  --------------------------------------------------------------------------- */

loc_4FAE6:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FAEE:
		movew	0x14(%a0),%d0
		addqw	#1,%d0
		movew	(Camera_Y_pos):w,%d1
		addiw	#0x140,%d1
		cmpw	%d1,%d0
		bccs	loc_4FB0A
		movew	%d0,0x14(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FB0A:
		bset	#5,0x38(%a0)
		movew	(Camera_X_pos):w,%d2
		addiw	#0x100,%d2
		movew	%d2,0x10(%a0)
		movew	%d1,0x14(%a0)
		bclr	#0,4(%a0)
		bclr	#7,0xA(%a0)
		jsr	(Create_New_Sprite):l
		bnes	loc_4FB46
		movel	#Obj_LBZ_FinalBoss2,(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)

loc_4FB46:
		jmp	(Go_Delete_Sprite_2):l
/*  --------------------------------------------------------------------------- */

loc_4FB4C:
		movew	0x14(%a0),%d0
		subqw	#1,%d0
		movew	(Camera_Y_pos):w,%d1
		subiw	#0x40,%d1
		cmpw	%d1,%d0
		bcss	loc_4FB68
		movew	%d0,0x14(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FB68:
		movel	#loc_4FB8C,(%a0)
		bset	#5,0x38(%a0)
		bset	#0,4(%a0)
		movew	(Camera_X_pos):w,%d2
		addiw	#0x40,%d2
		movew	%d2,0x10(%a0)
		movew	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FB8C:
		movew	0x14(%a0),%d0
		addqw	#1,%d0
		movew	(Camera_Y_pos):w,%d1
		addiw	#0x40,%d1
		cmpw	%d1,%d0
		bccs	loc_4FBA8
		movew	%d0,0x14(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FBA8:
		movel	#loc_4FBBE,(%a0)
		lea	(Child1_MakeRoboShipFlame):l,%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FBBE:
		movew	0x10(%a0),%d0
		addqw	#2,%d0
		movew	(Camera_X_pos):w,%d1
		addiw	#0xA0,%d1
		cmpw	%d1,%d0
		bccs	loc_4FBDA
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FBDA:
		movew	%d0,0x10(%a0)
		movel	#loc_4FBF2,(%a0)
		lea	ChildObjDat_50326(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FBF2:
		movew	0x10(%a0),%d0
		addqw	#2,%d0
		movew	(Camera_X_pos):w,%d1
		addiw	#0x1C0,%d1
		cmpw	%d1,%d0
		bccs	loc_4FC0E
		movew	%d0,0x10(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FC0E:
		movel	#loc_4FC26,(%a0)
		bset	#6,0x2A(%a0)
		bset	#4,0x38(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FC26:
		clrb	(Boss_flag):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FC30:
		lea	ObjDat3_502C0(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_4FC4E,(%a0)
		movel	#loc_4FC4E,0x34(%a0)
		lea	ChildObjDat_50382(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FC4E:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		bsrw	sub_501FA
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FC5A:
		moveaw	0x46(%a0),%a1
		btst	#6,0x2A(%a1)
		bnes	loc_4FC86
		movel	0x34(%a0),(%a0)
		btst	#5,0x2A(%a1)
		beqs	loc_4FC86
		subib	#0x28,0x43(%a0)
		cmpib	#4,0x2C(%a0)
		bnes	loc_4FC86
		bclr	#5,0x2A(%a1)

loc_4FC86:
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FC8A:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FC90:
		movew	#1,0x3C(%a0)
		bras	loc_4FC30
/*  --------------------------------------------------------------------------- */

loc_4FC98:
		lea	ObjDat3_502CC(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_4FCBC,(%a0)
		movel	#loc_4FCBC,0x34(%a0)
		movew	#2,0x3C(%a0)
		lea	ChildObjDat_503A2(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FCBC:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		bsrw	sub_501FA
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FCC8:
		lea	word_502E0(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4FCE0,(%a0)
		movew	#0x60,0x2E(%a0)
		bsrw	sub_5025A

loc_4FCE0:
		jsr	(MoveSprite):l
		jsr	TimedSprite_ScreenLock(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FCF0:
		movel	#loc_4FCFE,(%a0)
		lea	ObjDat3_50306(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FCFE:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4FD14
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FD14:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FD1A:
		lea	ObjDat3_50312(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_4FD36,(%a0)
		tstb	0x2C(%a0)
		beqs	locret_4FD34
		moveb	#0x22,0x22(%a0)

locret_4FD34:
		rts
/*  --------------------------------------------------------------------------- */

loc_4FD36:
		moveaw	0x46(%a0),%a1
		btst	#6,0x2A(%a1)
		beqs	loc_4FD4C
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FD4C:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FD52:
		lea	word_502E6(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4FD76,(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		tstb	0x2C(%a0)
		beqs	loc_4FD76
		moveb	#8,0x39(%a0)

loc_4FD76:
		bsrw	sub_4FFDE
		moveq	#4,%d0
		jmp	Child_Draw_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
		moveaw	0x44(%a0),%a1
		btst	#6,0x2A(%a1)
		bnes	loc_4FD92
		movel	#loc_4FD76,(%a0)

loc_4FD92:
		moveq	#4,%d0
		jmp	Child_Draw_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FD98:
		lea	word_502EC(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_4FDAE,(%a0)
		movew	#8,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FDAE:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_4FDE4
		jsr	Refresh_ChildPositionAdjusted(%pc)
		subqw	#1,0x2E(%a0)
		bplw	locret_4FAD8
		movew	0x3A(%a0),0x2E(%a0)
		subqw	#1,0x3A(%a0)
		bpls	loc_4FDDE
		movel	#loc_4FDEA,(%a0)
		movew	#0x18,0x2E(%a0)

loc_4FDDE:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FDE4:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FDEA:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		subqw	#1,0x2E(%a0)
		bmis	loc_4FE04
		btst	#0,0x2F(%a0)
		bnew	locret_4FAD8
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FE04:
		movel	#loc_4FE20,(%a0)
		movel	#byte_503D3,0x30(%a0)
		movel	#loc_4FE2E,0x34(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FE20:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jsr	Animate_Raw(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FE2E:
		movel	#loc_4FE6A,(%a0)
		tstb	4(%a0)
		bpls	loc_4FE42
		moveq	#sfx_Lazer,%d0
		jsr	(Play_Sound_2):l

loc_4FE42:
		moveb	#-0x64,0x28(%a0)
		moveb	#0x11,0x22(%a0)
		moveq	#-0x2C,%d0
		movew	#-0x800,%d1
		btst	#0,4(%a0)
		beqs	loc_4FE60
		negw	%d0
		negw	%d1

loc_4FE60:
		addw	%d0,0x10(%a0)
		movew	%d1,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FE6A:
		btst	#0,(V_int_run_count+3):w
		bnes	loc_4FE8A
		lea	ChildObjDat_5039A(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		movel	#byte_503DB,0x30(%a1)
		bsrw	sub_500C4
		braw	loc_4FE9E
/*  --------------------------------------------------------------------------- */

loc_4FE8A:
		lea	ChildObjDat_5039A(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		movel	#byte_503E1,0x30(%a1)
		bsrw	sub_500C4

loc_4FE9E:
		jsr	(MoveSprite2):l
		jmp	(Sprite_CheckDeleteTouch):l
/*  --------------------------------------------------------------------------- */

loc_4FEAA:
		lea	word_502F4(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_4FEC4,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		jsr	Refresh_ChildPositionAdjusted(%pc)

loc_4FEC4:
		jsr	Animate_Raw(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FECE:
		lea	word_502D8(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_4FEE6,(%a0)
		movel	#byte_503CE,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FEE6:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jsr	Animate_Raw(%pc)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FEF2:
		lea	word_502B0(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_4FF02,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FF02:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FF0A:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_4FF1C(%pc,%d0.w),%d1
		jsr	off_4FF1C(%pc,%d1.w)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_4FF1C:	.word loc_4FF22-off_4FF1C
		.word loc_4FF3A-off_4FF1C
		.word loc_4FF7A-off_4FF1C
/*  --------------------------------------------------------------------------- */

loc_4FF22:
		lea	word_502B8(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		moveb	#0x10,0x1E(%a0)
		movel	#loc_4FF4C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FF3A:
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmiw	locret_4FAD8
		jmp	ObjHitFloor_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FF4C:
		movew	0x1A(%a0),%d0
		cmpiw	#0x100,%d0
		bcss	loc_4FF60
		asrw	#1,%d0
		negw	%d0
		movew	%d0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_4FF60:
		moveb	#4,5(%a0)
		lea	(ChildObjDat_46FEE):l,%a2
		jsr	CreateChild1_Normal(%pc)
		lea	(Child6_CreateBossExplosion):l,%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FF7A:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_4FF80:
		lea	ObjDat3_502FA(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_4FFB2,(%a0)
		movel	#byte_503E7,0x30(%a0)
		movel	#loc_4FFC4,0x34(%a0)
		moveb	#-0x14,0x43(%a0)
		tstb	0x2C(%a0)
		beqs	locret_4FFB0
		moveb	#-0x80,0x3C(%a0)

locret_4FFB0:
		rts
/*  --------------------------------------------------------------------------- */

loc_4FFB2:
		jsr	Animate_Raw(%pc)
		addqb	#1,0x3C(%a0)
		moveq	#3,%d2
		jsr	MoveSprite_CircularSimpleOffset(%pc)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_4FFC4:
		moveb	0x39(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x39(%a0)
		andib	#3,%d0
		andib	#-4,4(%a0)
		orb	%d0,4(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_4FFDE:
		moveq	#0,%d0
		moveb	0x39(%a0),%d0
		subqw	#1,0x2E(%a0)
		bmis	loc_4FFF0
		addw	%d0,%d0
		braw	loc_50064
/*  --------------------------------------------------------------------------- */

loc_4FFF0:
		moveaw	0x44(%a0),%a1
		btst	#0,4(%a1)
		sne	%d2
		beqs	loc_50008
		subqb	#1,%d0

loc_50000:
		bpls	loc_50012
		moveq	#0xB,%d0
		braw	loc_50012
/*  --------------------------------------------------------------------------- */

loc_50008:
		addqb	#1,%d0
		cmpib	#0xC,%d0
		bcss	loc_50012
		moveq	#0,%d0

loc_50012:
		moveb	%d0,0x39(%a0)
		lea	byte_5008A(%pc),%a2
		moveb	(%a2,%d0.w),%d1
		bset	#0,4(%a0)
		bclr	#7,%d1
		bnes	loc_50032
		bclr	#0,4(%a0)
		notb	%d2

loc_50032:
		bclr	#3,0x38(%a1)
		cmpib	#4,%d1
		bnes	loc_50058
		bset	#3,0x38(%a1)
		tstb	%d2
		beqs	loc_50058
		moveml	%d0-%d1,-(%sp)
		lea	ChildObjDat_5038A(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveml	(%sp)+,%d0-%d1

loc_50058:
		moveb	%d1,0x22(%a0)
		addw	%d0,%d0
		movew	word_50096(%pc,%d0.w),0x2E(%a0)

loc_50064:
		lea	byte_500AE(%pc,%d0.w),%a1
		moveaw	0x46(%a0),%a2
		moveb	(%a1)+,%d1
		extw	%d1
		movew	0x10(%a2),%d2
		addw	%d1,%d2
		movew	%d2,0x10(%a0)
		moveb	(%a1)+,%d1
		extw	%d1
		movew	0x14(%a2),%d2
		addw	%d1,%d2
		movew	%d2,0x14(%a0)
		rts
/*  End of function sub_4FFDE */

/*  --------------------------------------------------------------------------- */
byte_5008A:	.byte 0x83
		.byte 0x84
		.byte 0x85
		.byte 0x86
		.byte 0x87
		.byte 0x88
		.byte 7
		.byte 6
		.byte 5
		.byte 4
		.byte 3
		.byte 0x2D
word_50096:	.word 7
		.word 0x5F
		.word 7
		.word 7
		.word 7
		.word 7
		.word 7
		.word 7
		.word 7
		.word 0x5F
		.word 7
		.word 0x27
byte_500AE:	.byte  0x27, 0xF8
		.byte  0x24, 0xF8
		.byte  0x24, 0xF8
		.byte  0x14, 0xF8
		.byte   0xC, 0xF8
		.byte    0, 0xF8
		.byte  0xF4, 0xF8
		.byte  0xEC, 0xF8
		.byte  0xDC, 0xF8
		.byte  0xDC, 0xF8
		.byte  0xD9, 0xF8

/*  =============== S U B R O U T I N E ======================================= */


sub_500C4:
		jsr	(Random_Number):l
		swap	%d0
		andib	#7,%d0
		addib	#0x18,%d0
		moveb	%d0,0x42(%a1)
		rts
/*  End of function sub_500C4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_500DA:
		tstb	0x28(%a0)
		bnew	locret_50192
		tstb	0x29(%a0)
		beqw	loc_50194
		tstb	0x20(%a0)
		bnes	loc_50162
		moveb	5(%a0),0x3A(%a0)
		moveb	#6,5(%a0)
		moveb	#0x20,0x20(%a0)
		bset	#6,0x2A(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		movew	0x1A(%a0),%d0
		aslw	#1,%d0
		cmpiw	#-0x800,%d0
		blts	loc_50126
		cmpiw	#0x800,%d0
		bgts	loc_50126
		movew	%d0,0x1A(%a0)

loc_50126:
		cmpib	#5,0x29(%a0)
		beqs	loc_5013C
		cmpib	#1,0x29(%a0)
		bnes	loc_50162
		bset	#3,0x38(%a0)

loc_5013C:
		movew	0x3C(%a0),%d0
		bset	%d0,0x38(%a0)
		addqw	#1,0x3C(%a0)
		moveb	#8,5(%a0)
		moveb	#0xF,0x40(%a0)
		bset	#5,0x2A(%a0)
		lea	ChildObjDat_503C0(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_50162:
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_50170
		addiw	#4,%d0

loc_50170:
		bsrw	sub_501E2
		subqb	#1,0x20(%a0)
		bnes	locret_50192
		moveb	0x3A(%a0),5(%a0)
		movew	#0xEEE,(Normal_palette_line_2+2):w
		moveb	0x25(%a0),0x28(%a0)
		bclr	#6,0x2A(%a0)

locret_50192:
		rts
/*  --------------------------------------------------------------------------- */

loc_50194:
		jsr	BossDefeated(%pc)
		moveb	#5,0x22(%a0)
		bset	#6,0x2A(%a0)
		bset	#7,0x2A(%a0)
		clrb	0x28(%a0)
		movew	0x3C(%a0),%d0
		bset	%d0,0x38(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		moveb	#4,0x2C(%a1)
		tstb	(_unkFA80+1):w
		bnes	loc_501D4
		movel	#loc_4FAEE,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_501D4:
		movel	#loc_4FB4C,(%a0)
		lea	ChildObjDat_5031E(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  End of function sub_500DA */


/*  =============== S U B R O U T I N E ======================================= */


sub_501E2:
		lea	word_501EE(%pc),%a1
		lea	word_501F2(%pc,%d0.w),%a2
		jmp	CopyWordData_2(%pc)
/*  End of function sub_501E2 */

/*  --------------------------------------------------------------------------- */
word_501EE:	.word Normal_palette_line_2+0x08, Normal_palette_line_2+0x1C
word_501F2:	.word    0x26,   0x20
		.word   0xEEE,  0xEEE

/*  =============== S U B R O U T I N E ======================================= */


sub_501FA:
		moveaw	0x46(%a0),%a1
		movew	0x3C(%a0),%d0
		btst	%d0,0x38(%a1)
		beqs	loc_5024A
		movel	#byte_5029A,0x3E(%a0)
		bset	#7,0x2A(%a0)
		lea	(ChildObjDat_50342):l,%a2
		cmpiw	#2,%d0
		bnes	loc_50230
		movel	#byte_5029E,0x3E(%a0)
		lea	(ChildObjDat_5035C):l,%a2

loc_50230:
		movew	#0x10,0x2E(%a0)
		movel	#loc_4FC8A,(%a0)
		jsr	CreateChild1_Normal(%pc)
		lea	(Child6_CreateBossExplosion):l,%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5024A:
		btst	#6,0x2A(%a1)
		beqs	locret_50258
		movel	#loc_4FC5A,(%a0)

locret_50258:
		rts
/*  End of function sub_501FA */


/*  =============== S U B R O U T I N E ======================================= */


sub_5025A:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		lsrw	#1,%d1
		moveaw	0x46(%a0),%a1
		moveal	0x3E(%a1),%a1
		moveb	(%a1,%d1.w),0x22(%a0)
		addw	%d0,%d0
		lea	word_50282(%pc,%d0.w),%a1
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x1A(%a0)
		rts
/*  End of function sub_5025A */

/*  --------------------------------------------------------------------------- */
word_50282:	.word  0xFF00, 0xFE00
		.word   0x100, 0xFE00
		.word  0xFE00, 0xFF00
		.word   0x200, 0xFF00
		.word  0xFD00, 0xFD00
		.word   0x300, 0xFD00
byte_5029A:	.byte 0x23
		.byte 0x25
		.byte 0x24
		.byte 0x26
byte_5029E:	.byte 0x27
		.byte 0x29
		.byte 0x28
		.byte 0x2A
		.byte 0x2B
		.byte 0x2C
ObjDat3_502A4:	.long Map_RobotnikShip
		.word 0x852E
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0xC
		.byte 0xF
word_502B0:	.word 0xA3AA
		.word 0x200
		.byte 0x10
		.byte 4
		.byte 0x15
		.byte 0
word_502B8:	.word 0xA3AA
		.word 0x300
		.byte 0xC
		.byte 0x10
		.byte 0x16
		.byte 0
ObjDat3_502C0:	.long Map_LBZFinalBoss1
		.word 0xA3AA
		.word 0x200
		.byte 0x20
		.byte 0x14
		.byte 0
		.byte 0xAD
ObjDat3_502CC:	.long Map_LBZFinalBoss1
		.word 0xA3AA
		.word 0x200
		.byte 0x28
		.byte 0x18
		.byte 1
		.byte 0xAD
word_502D8:	.word 0x83AA
		.word 0x280
		.byte 0xC
		.byte 0x18
		.byte 9
		.byte 0x89
word_502E0:	.word 0x200
		.byte 0x10
		.byte 0x10
		.byte 0x2A
		.byte 0
word_502E6:	.word 0x180
		.byte 0xC
		.byte 0xC
		.byte 3
		.byte 0
word_502EC:	.word 0x83AA
		.word 0x100
		.byte 0x18
		.byte 8
		.byte 0xF
		.byte 0
word_502F4:	.word 0x100
		.byte 8
		.byte 8
		.byte 0x1C
		.byte 0
ObjDat3_502FA:	.long Map_LBZFinalBoss1
		.word 0xA3AA
		.word 0x300
		.byte 0xC
		.byte 0xC
		.byte 0xC
		.byte 0x97
ObjDat3_50306:	.long Map_LBZFinalBoss1
		.word 0xA3AA
		.word 0x200
		.byte 0x28
		.byte 8
		.byte 2
		.byte 0
ObjDat3_50312:	.long Map_LBZFinalBoss1
		.word 0xA3AA
		.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 0x10
		.byte 0
ChildObjDat_5031E:.word 0
		.long loc_4FEF2
		.word 0x10
ChildObjDat_50326:.word 0
		.long loc_4FF0A
		.word 8
ChildObjDat_5032E:.word 2
		.long loc_4FC30
		.word 8
		.long loc_4FC90
		.word 0x30
		.long loc_4FC98
		.word 0x5C
ChildObjDat_50342:.word 3
		.long loc_4FCC8
		.word 0xF0FC
		.long loc_4FCC8
		.word 0x10FC
		.long loc_4FCC8
		.word 0xF010
		.long loc_4FCC8
		.word 0x1010
ChildObjDat_5035C:.word 5
		.long loc_4FCC8
		.word 0xF0F8
		.long loc_4FCC8
		.word 0x10F8
		.long loc_4FCC8
		.word 0xF010
		.long loc_4FCC8
		.word 0x1010
		.long loc_4FCC8
		.word 0xECE0
		.long loc_4FCC8
		.word 0x14E0
ChildObjDat_50382:.word 1
		.long loc_4FD52
		.word 0
ChildObjDat_5038A:.word 0
		.long loc_4FD98
		.word 0xF800
		.word 0
		.long loc_4FD98
		.word 0x800
ChildObjDat_5039A:.word 0
		.long loc_4FEAA
		.word 0x2000
ChildObjDat_503A2:.word 1
		.long loc_4FECE
		.word 0xEC30
		.long loc_4FECE
		.word 0x1430
ChildObjDat_503B0:.word 0
		.long loc_4FF80
		.word 0
ChildObjDat_503B8:.word 0
		.long loc_4FCF0
		.word 0xEC
ChildObjDat_503C0:.word 1
		.long loc_4FD1A
		.word 0xF000
		.long loc_4FD1A
		.word 0x1000
byte_503CE:	.byte    2,   9
		.byte   0xA,  0xB
		.byte  0xFC
byte_503D3:	.byte 0
		.byte 0x17
		.byte 0x17
		.byte 0x18
		.byte 0x19
		.byte 0x1A
		.byte 0x1B
		.byte 0xF4
byte_503DB:	.byte 0
		.byte 0x1C
		.byte 0x1C
		.byte 0x1D
		.byte 0x1E
		.byte 0xF4
byte_503E1:	.byte 0
		.byte 0x1F
		.byte 0x1F
		.byte 0x20
		.byte 0x21
		.byte 0xF4
byte_503E7:	.byte    1,  0xC
		.byte   0xD,  0xE
		.byte   0xD,  0xC
		.byte  0xF4
Pal_LBZFinalBoss1:
		.incbin "Levels/LBZ/Palettes/Final Boss 1.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_LBZ_EndBoss:
		lea	word_5043C(%pc),%a1
		jsr	(Check_CameraInRange):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5042E(%pc,%d0.w),%d1
		jsr	off_5042E(%pc,%d1.w)
		bsrw	sub_50A7A
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5042E:	.word loc_50444-off_5042E
		.word loc_504AE-off_5042E
		.word loc_504CA-off_5042E
		.word loc_504DC-off_5042E
		.word loc_5051C-off_5042E
		.word loc_50548-off_5042E
		.word loc_50574-off_5042E
word_5043C:	.word   0x480,  0x660, 0x3900, 0x3A20
/*  --------------------------------------------------------------------------- */

loc_50444:
		lea	ObjDat3_50B78(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#8,0x29(%a0)
		moveb	#1,(Boss_flag):w
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movew	#0x78,0x2E(%a0)
		moveb	#mus_EndBoss,0x26(%a0)
		movew	#0x5A0,(Camera_target_max_Y_pos):w
		movew	#0x3A20,0x1C(%a0)
		movew	#0x3A20,(Camera_max_X_pos):w
		movel	#loc_504B4,0x34(%a0)
		lea	ChildObjDat_50BD8(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveq	#0x77,%d0
		jsr	(Load_PLC):l
		lea	(ArtKosM_LBZEndBoss):l,%a1
		movew	#-0x7B60,%d2
		jsr	(Queue_Kos_Module):l
		lea	Pal_LBZEndBoss(%pc),%a1
		jmp	PalLoad_Line1(%pc)
/*  --------------------------------------------------------------------------- */

loc_504AE:
		jmp	(loc_541C8):l
/*  --------------------------------------------------------------------------- */

loc_504B4:
		moveb	#4,5(%a0)
		lea	ChildObjDat_50C16(%pc),%a2
		jsr	CreateChild4_LinkListRepeated(%pc)
		lea	ChildObjDat_50BE6(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_504CA:
		btst	#7,0x38(%a0)
		bnes	loc_504D4
		rts
/*  --------------------------------------------------------------------------- */

loc_504D4:
		moveb	#6,5(%a0)

locret_504DA:
		rts
/*  --------------------------------------------------------------------------- */

loc_504DC:
		movew	(Camera_max_X_pos):w,%d0
		subqw	#1,%d0
		cmpiw	#0x39F0,%d0
		blss	loc_504F2
		movew	%d0,(Camera_min_X_pos):w
		movew	%d0,(Camera_max_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_504F2:
		moveb	#8,5(%a0)
		moveq	#sfx_Rising,%d0
		jsr	(Play_Sound_2):l
		movew	#-0x40,0x1A(%a0)
		movew	#0xDF,0x2E(%a0)
		movel	#loc_50526,0x34(%a0)
		lea	ChildObjDat_50BEE(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5051C:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50526:
		bset	#2,0x38(%a0)
		moveb	#0xF,0x28(%a0)

loc_50532:
		moveb	#0xA,5(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_5054C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50548:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5054C:
		bset	#1,0x38(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_50562,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50562:
		moveb	#0xC,5(%a0)
		moveq	#sfx_TubeLauncher,%d0
		jsr	(Play_Sound_2):l
		braw	loc_509B6
/*  --------------------------------------------------------------------------- */

loc_50574:
		btst	#1,0x38(%a0)
		beqs	loc_50532
		rts
/*  --------------------------------------------------------------------------- */

loc_5057E:
		addiw	#0x20,0x1A(%a0)
		jsr	(MoveSprite2):l
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_50594:
		bset	#5,0x38(%a0)
		bclr	#7,4(%a0)
		clrb	(Boss_flag):w
		jsr	Obj_PlayLevelMusic(%pc)
		lea	(Player_2):w,%a1
		bclr	#4,0x2A(%a1)
		movel	#Go_Delete_Sprite_2,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_505BA:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_505E8(%pc,%d0.w),%d1
		jsr	off_505E8(%pc,%d1.w)
		jsr	Animate_Raw(%pc)
		btst	#7,0x2A(%a0)
		bnes	loc_505E4
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	loc_505E4
		bsrw	sub_50690

loc_505E4:
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_505E8:	.word loc_505F0-off_505E8
		.word Move_WaitNoFall-off_505E8
		.word loc_50628-off_505E8
		.word loc_50650-off_505E8
/*  --------------------------------------------------------------------------- */

loc_505F0:
		lea	word_50BB6(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#byte_50C80,0x30(%a0)
		moveb	#0x10,0x1E(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_50618,0x34(%a0)
		braw	loc_509DA
/*  --------------------------------------------------------------------------- */

loc_50618:
		moveb	#4,5(%a0)
		movel	#loc_50638,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50628:
		addiw	#0x20,0x1A(%a0)
		jsr	(MoveSprite2):l
		jmp	ObjHitFloor_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_50638:
		moveb	#6,5(%a0)
		movel	#sub_50690,0x34(%a0)
		movew	0x26(%a0),%d0
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50650:
		movew	#0x10,%d3
		jsr	ObjHitWall_DoRoutine(%pc)
		jsr	ObjHitFloor2_DoRoutine(%pc)
		tstb	%d3
		beqs	loc_50666
		addiw	#0x10,0x18(%a0)

loc_50666:
		jsr	(MoveSprite2):l
		movew	0x18(%a0),%d0
		addiw	#0x200,%d0
		cmpiw	#0x400,%d0
		bcsw	locret_504DA
		movew	(V_int_run_count+2):w,%d0
		andiw	#3,%d0
		bnew	locret_504DA
		lea	ChildObjDat_50C24(%pc),%a2
		jmp	CreateChild1_Normal(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_50690:
		movel	#Delete_Current_Sprite,(%a0)
		bset	#7,0x2A(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_50C2C(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  End of function sub_50690 */

/*  --------------------------------------------------------------------------- */

loc_506AC:
		lea	word_50BBC(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_506E6,(%a0)
		movel	#byte_50C84,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		bnes	loc_506DA
		movew	#-0x200,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_506DA:
		subiw	#0x10,%d0
		addw	%d0,%d0
		negw	%d0
		movew	%d0,0x2E(%a0)

loc_506E6:
		addqw	#1,0x2E(%a0)
		bmiw	locret_504DA
		jsr	(MoveSprite2):l
		jsr	Animate_Raw(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_506FE:
		lea	word_50BC4(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#Obj_FlickerMove,(%a0)
		braw	loc_50A14
/*  --------------------------------------------------------------------------- */

loc_50710:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_50726(%pc,%d0.w),%d1
		jsr	off_50726(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_50726:	.word loc_5072C-off_50726
		.word loc_50744-off_50726
		.word loc_5076A-off_50726
/*  --------------------------------------------------------------------------- */

loc_5072C:
		lea	word_50BA8(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addqw	#2,%d0
		moveb	%d0,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50744:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_50758
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50758:
		movew	0x2E(%a0),%d0
		addqw	#1,0x2E(%a0)
		andiw	#3,%d0
		subw	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5076A:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_50778
		rts
/*  --------------------------------------------------------------------------- */

loc_50778:
		lea	ChildObjDat_50C02(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_50780:
		lea	word_50BAE(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_507A6(%pc,%d0.w),0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
word_507A6:	.word 0xFF00
		.word 0x200
		.word 0xFE00
/*  --------------------------------------------------------------------------- */

loc_507AC:
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_507CA(%pc,%d0.w),%d1
		jsr	off_507CA(%pc,%d1.w)
		lea	locret_504DA(%pc),%a2
		bsrw	sub_50A66
		braw	loc_50B26
/*  --------------------------------------------------------------------------- */
off_507CA:	.word loc_507D4-off_507CA
		.word loc_507F6-off_507CA
		.word loc_50808-off_507CA
		.word loc_5082C-off_507CA
		.word loc_50838-off_507CA
/*  --------------------------------------------------------------------------- */

loc_507D4:
		lea	ObjDat3_50BCC(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		subiw	#0x14,0x10(%a0)
		addiw	#0x40,0x14(%a0)
		tstb	0x2C(%a0)
		beqs	locret_507F4
		movel	#loc_5084E,(%a0)

locret_507F4:
		rts
/*  --------------------------------------------------------------------------- */

loc_507F6:
		btst	#1,0x38(%a1)
		bnes	loc_50800
		rts
/*  --------------------------------------------------------------------------- */

loc_50800:
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50808:
		subqb	#1,0x3C(%a0)
		cmpib	#-0x40,0x3C(%a0)
		blss	loc_50816
		rts
/*  --------------------------------------------------------------------------- */

loc_50816:
		moveb	#6,5(%a0)
		movew	#0x80,0x2E(%a0)
		movel	#loc_50830,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5082C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50830:
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50838:
		addqb	#1,0x3C(%a0)
		beqs	loc_50840
		rts
/*  --------------------------------------------------------------------------- */

loc_50840:
		moveb	#2,5(%a0)
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_5084E:
		lea	loc_5085A(%pc),%a2
		bsrw	sub_50A66
		braw	loc_50B26
/*  --------------------------------------------------------------------------- */

loc_5085A:
		moveaw	0x46(%a0),%a1
		moveb	0x3C(%a1),0x3C(%a0)
		moveq	#4,%d2
		jmp	MoveSprite_CircularSimple(%pc)
/*  --------------------------------------------------------------------------- */

loc_5086A:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5087E(%pc,%d0.w),%d1
		jsr	off_5087E(%pc,%d1.w)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
off_5087E:	.word loc_50884-off_5087E
		.word Move_AnimateRaw_Wait-off_5087E
		.word loc_508CC-off_5087E
/*  --------------------------------------------------------------------------- */

loc_50884:
		lea	off_50B84(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movew	#-0x180,0x18(%a0)
		movel	#byte_50C76,0x30(%a0)
		movew	#0x15,0x2E(%a0)
		movel	#loc_508AA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_508AA:
		moveb	#4,5(%a0)
		moveb	#3,0x22(%a0)
		movew	#-0x200,0x1A(%a0)
		movew	#0x29,0x2E(%a0)
		movel	#loc_508D4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_508CC:
		jsr	MoveSprite_LightGravity(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_508D4:
		movel	#Delete_Current_Sprite,(%a0)
		moveb	#0,0x22(%a0)
		moveaw	0x46(%a0),%a1
		bset	#7,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_508EC:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_50904(%pc,%d0.w),%d1
		jsr	off_50904(%pc,%d1.w)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
off_50904:	.word loc_5090C-off_50904
		.word loc_50914-off_50904
		.word loc_50938-off_50904
		.word loc_50966-off_50904
/*  --------------------------------------------------------------------------- */

loc_5090C:
		lea	ObjDat3_50B90(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_50914:
		moveaw	0x46(%a0),%a1
		btst	#7,0x38(%a1)
		bnes	loc_50922
		rts
/*  --------------------------------------------------------------------------- */

loc_50922:
		moveb	#4,5(%a0)
		moveb	#0,0x22(%a0)
		movel	#byte_50C7C,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50938:
		moveaw	0x46(%a0),%a1
		btst	#6,0x2A(%a1)
		bnes	loc_50950
		btst	#7,0x2A(%a1)
		bnes	loc_50958
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_50950:
		moveb	#2,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50958:
		moveb	#6,5(%a0)
		moveb	#3,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50966:
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnes	loc_50974
		rts
/*  --------------------------------------------------------------------------- */

loc_50974:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5097A:
		lea	ObjDat3_50B9C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_5098A,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5098A:
		moveq	#0x13,%d1
		moveq	#0x14,%d2
		moveq	#0,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_509AC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_509AC:
		jsr	Displace_PlayerOffObject(%pc)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_509B6:
		lea	ChildObjDat_50C1C(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveb	0x39(%a0),%d0
		addqb	#1,0x39(%a0)
		andiw	#7,%d0
		moveb	byte_509D2(%pc,%d0.w),0x2C(%a1)
		rts
/*  --------------------------------------------------------------------------- */
byte_509D2:	.byte 0
		.byte 2
		.byte 1
		.byte 2
		.byte 0
		.byte 1
		.byte 2
		.byte 1
/*  --------------------------------------------------------------------------- */

loc_509DA:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#3,%d0
		lea	word_509FC(%pc,%d0.w),%a1
		movew	(%a1)+,%d0
		addw	%d0,0x10(%a0)
		movew	(%a1)+,%d0
		addw	%d0,0x14(%a0)
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_509FC:	.word  0xFFF0,   0x60
		.word  0xFA00, 0xFE00
		.word  0xFFF0,   0x60
		.word  0xFC00, 0xFF00
		.word  0xFFF0,   0x90
		.word  0xFC00,     0
/*  --------------------------------------------------------------------------- */

loc_50A14:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		movew	%d0,%d2
		cmpib	#8,%d0
		bcss	loc_50A30
		moveb	#0xB,0x22(%a0)
		subiw	#8,%d2
		movew	%d2,%d1

loc_50A30:
		addw	%d0,%d0
		lea	word_50A46(%pc,%d0.w),%a1
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x1A(%a0)
		lsrw	#1,%d1
		orb	%d1,4(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_50A46:	.word  0xFD00, 0xFD00
		.word   0x300, 0xFD00
		.word  0xFD00, 0xFE00
		.word   0x300, 0xFE00
		.word  0xFC00, 0xFC00
		.word   0x400, 0xFC00
		.word  0xFC00, 0xFD00
		.word   0x400, 0xFD00

/*  =============== S U B R O U T I N E ======================================= */


sub_50A66:
		movew	0x10(%a0),-(%sp)
		jsr	(%a2)
		moveq	#0x12,%d1
		moveq	#7,%d2
		moveq	#7,%d3
		movew	(%sp)+,%d4
		jmp	(SolidObjectTop):l
/*  End of function sub_50A66 */


/*  =============== S U B R O U T I N E ======================================= */


sub_50A7A:
		tstl	(%a0)
		beqs	locret_50AD0
		tstb	0x28(%a0)
		bnes	locret_50AD0
		tstb	0x29(%a0)
		beqs	loc_50AD2
		tstb	0x20(%a0)
		bnes	loc_50A9E
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l

loc_50A9E:
		bset	#6,0x2A(%a0)
		lea	(Normal_palette_line_2+0x16):w,%a1
		movew	#0x222,%d0
		btst	#0,0x20(%a0)
		bnes	loc_50AB8
		movew	#0xEEE,%d0

loc_50AB8:
		movew	%d0,(%a1)
		subqb	#1,0x20(%a0)
		bnes	locret_50AD0
		bclr	#6,0x2A(%a0)
		movew	#0x222,(%a1)
		moveb	0x25(%a0),0x28(%a0)

locret_50AD0:
		rts
/*  --------------------------------------------------------------------------- */

loc_50AD2:
		movel	#loc_5057E,(%a0)
		moveq	#0x64,%d0
		jsr	(HUD_AddToScore):l
		bclr	#7,4(%a0)
		movew	#0x7F,0x2E(%a0)
		bset	#4,0x38(%a0)
		movew	#-0x5BDB,0xA(%a0)
		movew	#-0x200,0x1A(%a0)
		movel	#loc_50594,0x34(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	loc_50B18
		moveb	#4,0x2C(%a1)

loc_50B18:
		movew	#0x3AB8,(Target_camera_max_X_pos):w
		lea	Child6_IncLevX(%pc),%a2
		jmp	CreateChild6_Simple(%pc)
/*  End of function sub_50A7A */

/*  --------------------------------------------------------------------------- */

loc_50B26:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_50B38
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_50B38:
		movel	#MoveChkDel,(%a0)
		bset	#7,0x2A(%a0)
		movew	#-0x5BDB,0xA(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_50B70(%pc,%d0.w),0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		jsr	Displace_PlayerOffObject(%pc)
		lea	(Player_2):w,%a1
		bclr	#4,0x2A(%a1)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
word_50B70:	.word 0x300
		.word 0x200
		.word 0xFE00
		.word 0xFD00
ObjDat3_50B78:	.long Map_LBZEndBoss
		.word 0x2425
		.word 0x280
		.byte 0x20
		.byte 0x10
		.byte 0
		.byte 0x18
off_50B84:	.long Map_FBZRobotnikRun
		.word 0x4A9
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ObjDat3_50B90:	.long Map_RobotnikShip
		.word 0x852E
		.word 0x300
		.byte 0x10
		.byte 8
		.byte 4
		.byte 0
ObjDat3_50B9C:	.long Map_LBZEndBoss
		.word 0x2425
		.word 0x300
		.byte 8
		.byte 0x20
		.byte 0xC
		.byte 0
word_50BA8:	.word 0x280
		.byte 8
		.byte 0x18
		.byte 2
		.byte 0
word_50BAE:	.word 0xA425
		.word 0x200
		.byte 8
		.byte 8
		.byte 0xD
		.byte 0
word_50BB6:	.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 5
		.byte 0x9A
word_50BBC:	.word 0x425
		.word 0x200
		.byte 8
		.byte 8
		.byte 7
		.byte 0
word_50BC4:	.word 0xA425
		.word 0x200
		.byte 8
		.byte 8
		.byte 0xA
		.byte 0
ObjDat3_50BCC:	.long Map_LBZEndBoss
		.word 0x4425
		.word 0x280
		.byte 8
		.byte 8
		.byte 0xE
		.byte 0
ChildObjDat_50BD8:.word 1
		.long loc_508EC
		.word 0xF8
		.long loc_5097A
		.word 0xE8F0
ChildObjDat_50BE6:.word 0
		.long loc_5086A
		.word 0x60E8
ChildObjDat_50BEE:.word 2
		.long loc_50710
		.word 0xE838
		.long loc_50710
		.word 0x1838
		.long loc_50710
		.word 0x38
ChildObjDat_50C02:.word 2
		.long loc_50780
		.word 0xE8
		.long loc_50780
		.word 0xF8
		.long loc_50780
		.word 8
ChildObjDat_50C16:.word 3
		.long loc_507AC
ChildObjDat_50C1C:.word 0
		.long loc_505BA
		.word 0
ChildObjDat_50C24:.word 0
		.long loc_506AC
		.word 0x10
ChildObjDat_50C2C:.word 0xB
		.long loc_506FE
		.word 0xF8F8
		.long loc_506FE
		.word 0x8F8
		.long loc_506FE
		.word 0xF808
		.long loc_506FE
		.word 0x808
		.long loc_506FE
		.word 0xF0F0
		.long loc_506FE
		.word 0x10F0
		.long loc_506FE
		.word 0xF010
		.long loc_506FE
		.word 0x1010
		.long loc_506AC
		.word 0xF806
		.long loc_506AC
		.word 0x608
		.long loc_506AC
		.word 0xF8FA
		.long loc_506AC
		.word 0x6F8
byte_50C76:	.byte 7
		.byte 0
		.byte 1
		.byte 2
		.byte 1
		.byte 0xFC
byte_50C7C:	.byte 7
		.byte 0
		.byte 1
		.byte 0xFC
byte_50C80:	.byte 0
		.byte 5
		.byte 6
		.byte 0xFC
byte_50C84:	.byte 5
		.byte 7
		.byte 7
		.byte 8
		.byte 9
		.byte 0xF4
Pal_LBZEndBoss:	.incbin "Levels/LBZ/Palettes/End Boss.bin"
		.balign 2
/*  --------------------------------------------------------------------------- */

Obj_LBZ_FinalBoss2:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_50CC2(%pc,%d0.w),%d1
		jsr	off_50CC2(%pc,%d1.w)
		jsr	(sub_51CDE):l
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_50CC2:	.word loc_50CEE-off_50CC2
		.word loc_50D28-off_50CC2
		.word loc_50D74-off_50CC2
		.word loc_50D8C-off_50CC2
		.word loc_50D74-off_50CC2
		.word loc_50E2C-off_50CC2
		.word loc_50E6E-off_50CC2
		.word loc_50E9C-off_50CC2
		.word loc_50EAE-off_50CC2
		.word loc_50ED0-off_50CC2
		.word loc_50EFA-off_50CC2
		.word loc_50F3A-off_50CC2
		.word loc_50F50-off_50CC2
		.word loc_50F7A-off_50CC2
		.word loc_50F92-off_50CC2
		.word loc_50FAC-off_50CC2
		.word loc_50FC4-off_50CC2
		.word loc_50FF0-off_50CC2
		.word loc_5102E-off_50CC2
		.word loc_51064-off_50CC2
		.word loc_51086-off_50CC2
		.word loc_510CE-off_50CC2
/*  --------------------------------------------------------------------------- */

loc_50CEE:
		lea	ObjDat3_51F18(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#8,0x29(%a0)
		bset	#3,0x38(%a0)
		st	(Disable_death_plane):w
		lea	Pal_LBZFinalBoss2(%pc),%a1
		jsr	PalLoad_Line1(%pc)
		lea	(ArtKosM_LBZFinalBoss2):l,%a1
		movew	#0x7B20,%d2
		jsr	(Queue_Kos_Module):l
		lea	(Child1_MakeRoboHead4):l,%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_50D28:
		subqw	#1,0x14(%a0)
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x40,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_50D3C
		rts
/*  --------------------------------------------------------------------------- */

loc_50D3C:
		moveb	#4,5(%a0)
		movew	#0x9F,0x2E(%a0)
		movel	#loc_50D78,0x34(%a0)
		jsr	(Create_New_Sprite):l
		bnes	loc_50D64
		movel	#Obj_Song_Fade_Transition,(%a1)
		moveb	#mus_FinalBoss,0x2C(%a1)

loc_50D64:
		jsr	(Create_New_Sprite):l
		bnes	locret_50D72
		movel	#loc_517FE,(%a1)

locret_50D72:
		rts
/*  --------------------------------------------------------------------------- */

loc_50D74:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50D78:
		moveb	#6,5(%a0)
		moveb	#8,0x22(%a0)
		lea	ChildObjDat_51FB4(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_50D8C:
		jsr	MoveSprite_LightGravity(%pc)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x120,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_50DA0
		rts
/*  --------------------------------------------------------------------------- */

loc_50DA0:
		bset	#7,0xA(%a0)
		clrw	0x1A(%a0)
		moveb	#0xF,0x28(%a0)
		bchg	#0,4(%a0)
		lea	ChildObjDat_51FCE(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_50DBE:
		moveb	#8,5(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_50DD4,0x34(%a0)

locret_50DD2:
		rts
/*  --------------------------------------------------------------------------- */

loc_50DD4:
		bchg	#0,4(%a0)
		moveb	0x39(%a0),%d0
		addqb	#1,0x39(%a0)
		btst	#1,%d0
		bnes	loc_50E0C
		moveb	#0xA,5(%a0)
		bclr	#3,0x38(%a0)
		bclr	#2,0x38(%a0)
		movew	#0xAF,0x2E(%a0)
		movel	#loc_50DBE,0x34(%a0)
		braw	loc_51C30
/*  --------------------------------------------------------------------------- */

loc_50E0C:
		moveb	#0xC,5(%a0)
		clrb	0x39(%a0)
		clrw	0x1A(%a0)
		movel	#loc_50E82,0x34(%a0)
		movew	(Camera_Y_pos):w,0x14(%a0)
		braw	loc_51C8E
/*  --------------------------------------------------------------------------- */

loc_50E2C:
		movew	0x3A(%a0),%d0
		movew	off_50E42(%pc,%d0.w),%d0
		jsr	off_50E42(%pc,%d0.w)
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */
off_50E42:	.word locret_50E50-off_50E42
		.word loc_50E4C-off_50E42
		.word loc_50E52-off_50E42
		.word locret_50E50-off_50E42
		.word loc_50E68-off_50E42
/*  --------------------------------------------------------------------------- */

loc_50E4C:
		subqw	#4,0x1A(%a0)

locret_50E50:
		rts
/*  --------------------------------------------------------------------------- */

loc_50E52:
		movew	0x1A(%a0),%d0
		addw	0x3C(%a0),%d0
		movew	%d0,0x1A(%a0)
		bnes	locret_50E66
		movew	#2,0x3C(%a0)

locret_50E66:
		rts
/*  --------------------------------------------------------------------------- */

loc_50E68:
		subqw	#4,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50E6E:
		moveq	#0x50,%d1
		movew	#0xF0,%d2
		bsrw	sub_51CB4
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50E82:
		moveb	#0xE,5(%a0)
		clrw	0x18(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_50EA0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50E9C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50EA0:
		moveb	#0x10,5(%a0)
		bset	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50EAE:
		jsr	MoveSprite_LightGravity(%pc)
		movew	(Camera_Y_pos_copy):w,%d0
		addiw	#0xC0,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_50EC2
		rts
/*  --------------------------------------------------------------------------- */

loc_50EC2:
		moveb	#0x12,5(%a0)
		bset	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50ED0:
		addiw	#-0x80,0x1A(%a0)
		jsr	(MoveSprite2):l
		tstw	0x1A(%a0)
		bpls	locret_50EF0
		movew	(Camera_Y_pos_copy):w,%d0
		addiw	#0xE0,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_50EF2

locret_50EF0:
		rts
/*  --------------------------------------------------------------------------- */

loc_50EF2:
		moveb	#0x14,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50EFA:
		addiw	#0x40,0x1A(%a0)
		jsr	(MoveSprite2):l
		tstw	0x1A(%a0)
		bmis	locret_50F1A
		movew	(Camera_Y_pos_copy):w,%d0
		addiw	#0xD0,%d0
		cmpw	0x14(%a0),%d0
		blss	loc_50F1C

locret_50F1A:
		rts
/*  --------------------------------------------------------------------------- */

loc_50F1C:
		moveb	#0x16,5(%a0)
		movew	%d0,0x14(%a0)
		clrw	0x1A(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_50F3E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50F3A:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50F3E:
		moveb	#0x18,5(%a0)
		movel	#loc_50F64,0x34(%a0)
		braw	loc_51C8E
/*  --------------------------------------------------------------------------- */

loc_50F50:
		moveq	#0x30,%d1
		movew	#0x110,%d2
		bsrw	sub_51CB4
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50F64:
		moveb	#0x1A,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_50F7E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50F7A:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50F7E:
		moveb	#0x1C,5(%a0)
		movew	#-0x400,0x1A(%a0)
		bclr	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50F92:
		jsr	(MoveSprite2):l
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x60,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_50FA8
		rts
/*  --------------------------------------------------------------------------- */

loc_50FA8:
		braw	loc_50DBE
/*  --------------------------------------------------------------------------- */

loc_50FAC:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50FB0:
		moveb	#0x20,5(%a0)
		movew	#-0x400,0x1A(%a0)
		bchg	#1,0x39(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50FC4:
		jsr	(MoveSprite2):l
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x60,%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_50FDA
		rts
/*  --------------------------------------------------------------------------- */

loc_50FDA:
		moveb	#0x22,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_50FF4,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_50FF0:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_50FF4:
		moveb	#0x24,5(%a0)
		moveaw	0x44(%a0),%a1
		clrb	0x3C(%a1)
		movew	(Camera_X_pos):w,%d0
		movew	%d0,%d1
		addiw	#0xA0,%d0
		bclr	#0,4(%a0)
		movew	#0xE0,%d2
		cmpw	0x10(%a0),%d0
		bcss	loc_51026
		bset	#0,4(%a0)
		movew	#0x60,%d2

loc_51026:
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5102E:
		movew	(Camera_Y_pos_copy):w,%d0
		addiw	#0x88,%d0
		cmpw	0x14(%a0),%d0
		blss	loc_51042
		addqw	#8,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_51042:
		moveb	#0x26,5(%a0)
		bset	#1,0x38(%a0)
		movew	#0x14,(Screen_shake_flag):w
		movew	#3,0x2E(%a0)
		moveq	#sfx_BossHitFloor,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_51064:
		addqw	#4,0x14(%a0)
		subqw	#1,0x2E(%a0)
		bmis	loc_51070
		rts
/*  --------------------------------------------------------------------------- */

loc_51070:
		moveb	#0x28,5(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_5108A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_51086:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5108A:
		moveb	#0x2A,5(%a0)
		clrb	0x30(%a0)
		subiw	#0x10,0x14(%a0)
		bclr	#1,0x38(%a0)
		movew	#0x400,%d0
		btst	#0,4(%a0)
		beqs	loc_510AE
		negw	%d0

loc_510AE:
		movew	%d0,0x18(%a0)
		movew	#-0x600,0x1A(%a0)
		movew	#0x3F,0x2E(%a0)
		moveal	%a0,%a2
		lea	(Player_1):w,%a0
		jsr	(HurtCharacter):l
		moveal	%a2,%a0
		rts
/*  --------------------------------------------------------------------------- */

loc_510CE:
		jsr	(MoveSprite):l
		subqw	#1,0x2E(%a0)
		bmiw	loc_50DBE
		rts
/*  --------------------------------------------------------------------------- */

loc_510DE:
		movel	#loc_510F8,(%a0)
		moveb	#5,0x22(%a0)
		bset	#4,0x38(%a0)
		lea	ChildObjDat_51FF0(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_510F8:
		movew	0x14(%a0),%d0
		addqw	#1,%d0
		movew	%d0,0x14(%a0)
		movew	(Camera_Y_pos):w,%d1
		addiw	#0x140,%d1
		cmpw	%d1,%d0
		bcss	loc_51142
		movel	#loc_51148,(%a0)
		bclr	#7,4(%a0)
		bset	#5,0x38(%a0)
		movew	%a0,(_unkFAA4):w
		clrw	(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		moveb	#-0x80,(Player_1+object_control):w
		lea	(ArtKosM_LBZ2DeathEggSmall):l,%a1
		movew	#-0x6A40,%d2
		jsr	(Queue_Kos_Module):l

loc_51142:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51148:
		lea	(Player_1):w,%a1
		btst	#1,0x2A(%a1)
		bnes	locret_51178
		movew	(Camera_X_pos):w,%d0
		addiw	#0xA0,%d0
		subw	0x10(%a1),%d0
		scs	%d2
		bpls	loc_51166
		negw	%d0

loc_51166:
		cmpiw	#4,%d0
		bcss	loc_5117A
		moveq	#3,%d1
		tstb	%d2
		beqs	loc_51174
		moveq	#2,%d1

loc_51174:
		bset	%d1,(Ctrl_1_held_logical):w

locret_51178:
		rts
/*  --------------------------------------------------------------------------- */

loc_5117A:
		movel	#locret_511CC,(%a0)
		clrb	(_unkFA88):w
		clrw	0x1C(%a1)
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		bclr	#0,4(%a1)
		bclr	#0,0x2A(%a1)
		movew	#0x101,(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		jsr	(Create_New_Sprite):l
		bnes	loc_511C4
		movel	#loc_5182E,(%a1)
		lea	(Player_1):w,%a2
		movew	0x10(%a2),0x10(%a1)
		movew	0x14(%a2),0x14(%a1)

loc_511C4:
		lea	ChildObjDat_52010(%pc),%a2
		jmp	CreateChild6_Simple(%pc)
/*  --------------------------------------------------------------------------- */

locret_511CC:
		rts
/*  --------------------------------------------------------------------------- */

loc_511CE:
		lea	ObjDat3_51F24(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_511DC,(%a0)

loc_511DC:
		jsr	Child_GetPriorityOnce(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_511E8:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_511FC(%pc,%d0.w),%d1
		jsr	off_511FC(%pc,%d1.w)
		moveq	#0xC,%d0
		jmp	Child_DrawTouch_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */
off_511FC:	.word loc_51202-off_511FC
		.word loc_51226-off_511FC
		.word loc_5124E-off_511FC
/*  --------------------------------------------------------------------------- */

loc_51202:
		lea	ObjDat3_51F30(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveaw	0x46(%a0),%a1
		movew	%a0,0x44(%a1)
		moveb	#0x14,0x42(%a0)
		moveb	#-6,0x43(%a0)
		lea	ChildObjDat_51FD6(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_51226:
		moveaw	0x46(%a0),%a1
		btst	#7,0xA(%a1)
		beqs	loc_51244
		bset	#7,0xA(%a0)
		moveb	#4,5(%a0)
		moveb	#-0x53,0x28(%a0)

loc_51244:
		lea	(LBZFinalBoss2_CircleLookup):l,%a2
		jmp	MoveSprite_CircularLookup(%pc)
/*  --------------------------------------------------------------------------- */

loc_5124E:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnew	locret_50DD2
		btst	#2,0x38(%a1)
		bnes	loc_51298
		lea	(Player_1):w,%a1
		moveb	0x3C(%a0),%d0
		movew	0x14(%a0),%d1
		subw	0x14(%a1),%d1
		cmpiw	#-2,%d1
		blts	loc_5128C
		cmpiw	#2,%d1
		bles	loc_51298
		subqb	#1,%d0
		cmpib	#-0x30,%d0
		blts	loc_51298
		braw	loc_51294
/*  --------------------------------------------------------------------------- */

loc_5128C:
		addqb	#1,%d0
		cmpib	#0,%d0
		bgts	loc_51298

loc_51294:
		moveb	%d0,0x3C(%a0)

loc_51298:
		jsr	Change_FlipXUseParent(%pc)
		lea	(LBZFinalBoss2_CircleLookup):l,%a2
		jmp	MoveSprite_CircularLookup(%pc)
/*  --------------------------------------------------------------------------- */

loc_512A6:
		lea	word_51F42(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_512D4,(%a0)
		moveaw	0x46(%a0),%a1
		moveaw	0x46(%a1),%a2
		movew	%a2,0x46(%a0)
		movew	%a1,0x44(%a0)
		movew	%a1,0x44(%a0)
		moveb	#0x18,0x42(%a0)
		moveb	#-6,0x43(%a0)

loc_512D4:
		jsr	Child_GetPriorityOnce(%pc)
		jsr	Change_FlipXUseParent(%pc)
		moveaw	0x44(%a0),%a1
		moveb	0x3C(%a1),%d0
		addib	#0x14,%d0
		moveb	%d0,0x3C(%a0)
		lea	(LBZ2FinalBoss2_CircleLookup2):l,%a2
		jsr	MoveSprite_CircularLookup(%pc)
		moveq	#0xC,%d0
		jmp	Child_DrawTouch_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */

loc_512FC:
		lea	word_51F3C(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)
		movel	#loc_51336,(%a0)
		movel	#byte_5205A,0x30(%a0)
		tstb	0x2C(%a0)
		beqs	loc_51336
		moveb	#8,0x22(%a0)
		movew	#0x180,8(%a0)
		movel	#byte_52062,0x30(%a0)

loc_51336:
		jsr	Child_GetPriorityOnce(%pc)

loc_5133A:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jsr	Animate_Raw(%pc)
		moveaw	0x44(%a0),%a1
		tstb	0x30(%a1)
		beqs	loc_51368
		movel	#loc_5136E,(%a0)
		moveb	#7,0x22(%a0)
		tstb	0x2C(%a0)
		beqs	loc_51368
		moveb	#0xB,0x22(%a0)
		addqb	#8,0x42(%a0)

loc_51368:
		moveq	#0xC,%d0
		jmp	Child_DrawTouch_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */

loc_5136E:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x44(%a0),%a1
		tstb	0x30(%a1)
		bnes	loc_5138C
		movel	#loc_5133A,(%a0)
		tstb	0x2C(%a0)
		beqs	loc_5138C
		subqb	#8,0x42(%a0)

loc_5138C:
		moveq	#0xC,%d0
		jmp	Child_DrawTouch_Sprite_FlickerMove(%pc)
/*  --------------------------------------------------------------------------- */

loc_51392:
		lea	ObjDat3_51F48(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_513A0,(%a0)

loc_513A0:
		jsr	Child_GetPriorityOnce(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_513AC:
		lea	ObjDat3_51F54(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_513BA,(%a0)

loc_513BA:
		moveb	#-0x66,%d0
		bsrw	sub_51BC8
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_513E2
		btst	#0,(V_int_run_count+3):w
		bnew	locret_50DD2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_513E2:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_513E8:
		movel	#loc_513F4,(%a0)
		moveb	#-0x67,0x28(%a0)

loc_513F4:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_513E2
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

loc_5140A:
		movel	#loc_5141A,(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x46(%a1),0x44(%a0)

loc_5141A:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_5145E
		btst	#3,0x38(%a1)
		bnew	locret_50DD2
		btst	#6,0x2A(%a1)
		bnew	locret_50DD2
		lea	word_51468(%pc),%a1
		jsr	(Check_PlayerInRange):l
		tstw	%d0
		beqs	locret_5145C
		moveaw	%d0,%a1
		tstb	0x34(%a1)
		bnes	locret_5145C
		cmpib	#6,5(%a1)
		bcss	loc_51470

locret_5145C:
		rts
/*  --------------------------------------------------------------------------- */

loc_5145E:
		clrb	(Player_1+object_control):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
word_51468:	.word  0xFFE8,   0x30, 0xFFE8,   0x30
/*  --------------------------------------------------------------------------- */

loc_51470:
		movel	#loc_514B0,(%a0)
		moveaw	0x44(%a0),%a1
		st	0x30(%a1)
		moveb	#0x1E,5(%a1)
		movew	#0x40,0x2E(%a1)
		movel	#loc_50FB0,0x34(%a1)
		lea	(Player_1):w,%a1
		moveb	#-0x7F,0x2E(%a1)
		moveb	#2,0x20(%a1)
		moveq	#0,%d0
		movew	%d0,0x18(%a1)
		movew	%d0,0x1A(%a1)
		movew	%d0,0x1C(%a1)

loc_514B0:
		moveaw	0x44(%a0),%a1
		tstb	0x30(%a1)
		beqs	loc_514DA
		btst	#7,0x2A(%a1)
		bnew	loc_513E2
		jsr	Refresh_ChildPositionAdjusted(%pc)
		lea	(Player_1):w,%a1
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_514DA:
		movel	#loc_514E6,(%a0)
		movew	#0x40,0x2E(%a0)

loc_514E6:
		subqw	#1,0x2E(%a0)
		bmis	loc_514EE
		rts
/*  --------------------------------------------------------------------------- */

loc_514EE:
		movel	#loc_5141A,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_514F6:
		lea	ObjDat3_51F60(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		addib	#0xD,%d0
		moveb	%d0,0x22(%a0)
		moveq	#0,%d0
		jsr	Set_IndexedVelocity(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51524:
		movel	#loc_5155A,(%a0)
		movew	#0x4430,0x10(%a0)
		movew	#0x728,0x14(%a0)
		movew	#0x1010,0x3A(%a0)
		movew	#0x200,%d0
		tstb	0x2C(%a0)
		beqs	loc_51548
		negw	%d0

loc_51548:
		movew	%d0,0x18(%a0)
		movew	#0x41,0x2E(%a0)
		movel	#loc_51576,0x34(%a0)

loc_5155A:
		subqb	#1,0x39(%a0)
		bpls	loc_5156C
		moveb	#3,0x39(%a0)
		jsr	(sub_52850):l

loc_5156C:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_51576:
		clrw	0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		movew	#0x57,0x2E(%a0)
		movel	#loc_51590,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_51590:
		lea	Child6_CreateBossExplosion(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	loc_515AC
		movew	#0x4430,0x10(%a1)
		movew	#0x678,0x14(%a1)
		moveb	#0xC,0x2C(%a1)

loc_515AC:
		tstb	0x2C(%a0)
		bnes	loc_515DE
		jsr	(Create_New_Sprite):l
		bnes	loc_515DE
		movel	#loc_515E2,(%a1)
		movew	(Camera_X_pos):w,%d0
		addiw	#0xD0,%d0
		movew	%d0,0x10(%a1)
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x20,%d0
		movew	%d0,0x14(%a1)
		movew	#5,0x3A(%a1)

loc_515DE:
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_515E2:
		subqw	#1,0x2E(%a0)
		bpls	locret_51618
		addqb	#1,0x39(%a0)
		cmpib	#8,0x39(%a0)
		bnes	loc_515F8
		st	(Events_fg_5):w

loc_515F8:
		cmpib	#0x18,0x39(%a0)
		bccs	loc_5161A
		movew	0x3A(%a0),0x2E(%a0)
		addqw	#1,0x3A(%a0)
		jsr	(Create_New_Sprite):l
		bnes	locret_51618
		movel	#loc_5165C,(%a1)

locret_51618:
		rts
/*  --------------------------------------------------------------------------- */

loc_5161A:
		movel	#loc_51626,(%a0)
		movew	#0x17F,0x2E(%a0)

loc_51626:
		subqw	#1,0x2E(%a0)
		bmis	loc_5162E
		rts
/*  --------------------------------------------------------------------------- */

loc_5162E:
		bset	#0,(_unkFA88):w
		clrb	0x39(%a0)
		clrw	0x2E(%a0)
		jsr	(Create_New_Sprite):l
		bnes	loc_51650
		movel	#loc_517FE,(%a1)
		moveb	#4,0x2C(%a1)

loc_51650:
		lea	ChildObjDat_52016(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_5165C:
		lea	ObjDat3_51F6C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#MoveChkDel,(%a0)
		jsr	(Random_Number):l
		andiw	#7,%d0
		moveb	RawAni_5169C(%pc,%d0.w),0x22(%a0)
		swap	%d0
		andiw	#0xFF,%d0
		movew	(Camera_X_pos):w,%d1
		addiw	#0x20,%d1
		addw	%d0,%d1
		movew	%d1,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x20,%d0
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
RawAni_5169C:	.byte    7,   8,   9,  0xA,  0xB,   7,   8,   9
/*  --------------------------------------------------------------------------- */

loc_516A4:
		lea	ObjDat3_51F78(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_516FA,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		beqs	loc_516C0
		movel	#loc_5173E,(%a0)

loc_516C0:
		movew	word_516EA(%pc,%d0.w),0x1A(%a0)
		lea	byte_516DC(%pc,%d0.w),%a1
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,%d0
		orb	%d0,4(%a0)
		lea	Pal_LBZEnding(%pc),%a1
		jmp	PalLoad_Line1(%pc)
/*  --------------------------------------------------------------------------- */
byte_516DC:	.byte    0,   0
		.byte    1,   0
		.byte    1,   0
		.byte    2,   0
		.byte    2,   1
		.byte    2,   2
		.byte    2,   3
word_516EA:	.word 0x40
		.word 0x38
		.word 0x3C
		.word 0x40
		.word 0x44
		.word 0x48
		.word 0x4C
		.word 0x50
/*  --------------------------------------------------------------------------- */

loc_516FA:
		bsrw	sub_5174A
		moveb	(V_int_run_count+3):w,%d0
		andib	#0xF,%d0
		bnes	loc_51730
		lea	ChildObjDat_52042(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		jsr	(Random_Number):l
		andiw	#0x1F,%d0
		subiw	#0x10,%d0
		addw	%d0,0x10(%a1)
		swap	%d0
		andiw	#0x1F,%d0
		subiw	#0x10,%d0
		addw	%d0,0x14(%a1)

loc_51730:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0xA0,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_51764

loc_5173E:
		jsr	(MoveSprite2):l
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_5174A:
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x80,%d0
		cmpw	0x14(%a0),%d0
		bccs	locret_51762
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movel	(%sp),(%a0)

locret_51762:
		rts
/*  End of function sub_5174A */

/*  --------------------------------------------------------------------------- */

loc_51764:
		lea	ChildObjDat_5204E(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		bnew	locret_50DD2
		movew	%a1,0x44(%a0)
		lea	(Normal_palette):w,%a1
		lea	(Target_palette):w,%a2
		moveq	#0x1F,%d0

loc_5177E:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_5177E
		movel	#loc_517BA,(%a0)
		moveq	#sfx_FlamethrowerQuiet,%d0
		jsr	(Play_Sound_2):l
		moveq	#mus_Ending,%d0
		jsr	(Play_Sound):l
		jsr	sub_5439C(%pc)
		lslw	#2,%d0
		moveal	off_517AE(%pc,%d0.w),%a1
		movew	#0x7B20,%d2
		jmp	(Queue_Kos_Module):l
/*  --------------------------------------------------------------------------- */
off_517AE:	.long ArtKosM_SonicEndPose
		.long ArtKosM_TailsEndPose
		.long ArtKosM_SuperSonicEndPose
/*  --------------------------------------------------------------------------- */

loc_517BA:
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		beqs	loc_517DE
		clrb	(Level_started_flag):w
		lea	ChildObjDat_52054(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		bnes	loc_517DE
		movew	%a1,0x44(%a0)
		movel	#loc_517E4,(%a0)

loc_517DE:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_517E4:
		moveaw	0x44(%a0),%a1
		btst	#7,0x2A(%a1)
		beqw	locret_50DD2
		bset	#1,(_unkFA88):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_517FE:
		movel	#loc_5182A,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveal	off_51822(%pc,%d0.w),%a1
		lea	(Palette_rotation_data):w,%a2
		movel	(%a1)+,(%a2)+
		movel	(%a1)+,(%a2)+
		clrw	(%a2)
		movel	#Go_Delete_Sprite,(Palette_rotation_custom):w
		rts
/*  --------------------------------------------------------------------------- */
off_51822:	.long PalSPtr_LBZFinalBoss2_FadeIn
		.long PalSPtr_LBZFinalBoss2_FadeOut
/*  --------------------------------------------------------------------------- */

loc_5182A:
		jmp	Run_PalRotationScript(%pc)
/*  --------------------------------------------------------------------------- */

loc_5182E:
		btst	#0,(_unkFA88):w
		beqw	locret_50DD2
		movel	#loc_5185A,(%a0)
		movel	#loc_51868,0x34(%a0)
		clrb	(Ctrl_1_locked):w
		lea	(Player_1):w,%a1
		moveb	#0x53,0x2E(%a1)
		moveb	#0,0x20(%a1)

loc_5185A:
		lea	byte_52070(%pc),%a1
		bsrw	Animate_ExternalPlayerSprite
		jmp	(Player_Load_PLC):l
/*  --------------------------------------------------------------------------- */

loc_51868:
		movel	#loc_5186E,(%a0)

loc_5186E:
		btst	#1,(_unkFA88):w
		beqw	locret_50DD2
		movel	#loc_5188E,(%a0)
		movel	#loc_5189C,0x34(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)

loc_5188E:
		lea	byte_5207A(%pc),%a1
		bsrw	Animate_ExternalPlayerSprite
		jmp	(Player_Load_PLC):l
/*  --------------------------------------------------------------------------- */

loc_5189C:
		movel	#loc_518CE,(%a0)
		movew	#0xFF,0x2E(%a0)
		movel	#loc_518E2,0x34(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		lea	(Player_1):w,%a1
		moveq	#0,%d0
		moveb	0x38(%a1),%d0
		lslw	#2,%d0
		lea	off_52090(%pc),%a2
		movel	(%a2,%d0.w),0x30(%a0)

loc_518CE:
		moveal	0x30(%a0),%a1
		bsrw	Animate_ExternalPlayerSprite
		jsr	(Player_Load_PLC):l
		jmp	(Obj_Wait):l
/*  --------------------------------------------------------------------------- */

loc_518E2:
		movel	#loc_518E8,(%a0)

loc_518E8:
		lea	ObjDat3_51FA8(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		lea	(Player_1):w,%a1
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		moveaw	(_unkFAA4):w,%a1
		movel	#Go_Delete_Sprite,(%a1)
		jsr	sub_5439C(%pc)
		moveq	#0,%d1
		subqw	#1,%d0
		beqs	loc_51920
		bmis	loc_51922
		tstb	(Super_Sonic_Knux_flag):w
		beqs	loc_5191E
		addqw	#4,%d1

loc_5191E:
		addqw	#4,%d1

loc_51920:
		addqw	#4,%d1

loc_51922:
		movel	off_5192C(%pc,%d1.w),(%a0)
		movew	%d1,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_5192C:	.long loc_5193C
		.long loc_51994
		.long loc_519B8
		.long loc_51A62
/*  --------------------------------------------------------------------------- */

loc_5193C:
		movel	#loc_5195E,(%a0)
		movew	#6,0x2E(%a0)
		moveb	#0,0x22(%a0)
		subiw	#0x10,0x14(%a0)
		moveb	#0,(Player_1+mapping_frame):w
		bsrw	sub_51EB0

loc_5195E:
		subqw	#1,0x2E(%a0)
		bpls	loc_51982
		movel	#Wait_Draw,(%a0)
		addqb	#1,0x22(%a0)
		movew	#0x12C,0x2E(%a0)
		movel	#loc_51988,0x34(%a0)
		subiw	#0x20,0x14(%a0)

loc_51982:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51988:
		moveb	#0x20,(Game_mode):w
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51994:
		movel	#loc_5195E,(%a0)
		movew	#4,0x2E(%a0)
		moveb	#2,0x22(%a0)
		subiw	#0x10,0x14(%a0)
		moveb	#0,(Player_1+mapping_frame):w
		bsrw	sub_51EB0
		bras	loc_5195E
/*  --------------------------------------------------------------------------- */

loc_519B8:
		movel	#loc_519E0,(%a0)
		moveb	#4,0x22(%a0)
		movew	#0x100,0x18(%a0)
		movew	#-0x600,0x1A(%a0)
		lea	(Player_1):w,%a1
		moveb	#-0x7F,0x2E(%a1)
		moveb	#2,0x20(%a1)

loc_519E0:
		lea	(Player_1):w,%a1
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		jsr	(MoveSprite):l
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x140,%d0
		cmpw	0x14(%a0),%d0
		bcss	loc_51A06
		rts
/*  --------------------------------------------------------------------------- */

loc_51A06:
		movel	#loc_51A34,(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0x180,%d0
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0xC0,%d0
		movew	%d0,0x14(%a0)
		movew	#-0x800,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		braw	sub_51EB0
/*  --------------------------------------------------------------------------- */

loc_51A34:
		jsr	(MoveSprite2):l
		movew	(Camera_X_pos):w,%d0
		addiw	#0xA0,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_51A5C
		movel	#Wait_Draw,(%a0)
		movew	#0xB4,0x2E(%a0)
		movel	#loc_51988,0x34(%a0)

loc_51A5C:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51A62:
		movel	#loc_51A90,(%a0)
		moveb	#4,0x22(%a0)
		movew	#0x600,0x18(%a0)
		lea	(Player_1):w,%a1
		moveb	#-0x7F,0x2E(%a1)
		moveb	#0,0x20(%a1)
		movew	#0x600,0x18(%a1)
		movew	#0x600,0x1C(%a1)

loc_51A90:
		lea	(Player_1):w,%a1
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		jsr	(MoveSprite2):l
		movew	(Camera_X_pos):w,%d0
		addiw	#0x180,%d0
		cmpw	0x14(%a0),%d0
		bcsw	loc_51A06
		rts
/*  --------------------------------------------------------------------------- */

loc_51AB8:
		lea	ObjDat3_51F84(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_51AE2,(%a0)
		movew	#-0x40,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		lea	ChildObjDat_52048(%pc),%a2
		jsr	CreateChild6_Simple(%pc)

loc_51AE2:
		moveb	(V_int_run_count+3):w,%d0
		andib	#3,%d0
		bnes	loc_51B08
		moveb	0x39(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x39(%a0)
		andib	#3,%d0
		moveb	4(%a0),%d1
		andib	#-4,%d1
		orb	%d0,%d1
		moveb	%d1,4(%a0)

loc_51B08:
		jsr	(MoveSprite2):l
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51B18:
		lea	ObjDat3_51F90(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_51B3C,(%a0)
		movel	#byte_5206A,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		movew	#0x40,0x1A(%a0)

loc_51B3C:
		jsr	Animate_Raw(%pc)
		jsr	(MoveSprite2):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_FleeingRobotnik_Unused:
		lea	ObjDat3_51F9C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_51BB6,(%a0)
		bset	#0,4(%a0)
		movew	#0x7B20,0x3A(%a0)
		moveb	#0x30,0x25(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0x60,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x30(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x100,%d0
		movew	%d0,0x14(%a0)
		movew	%d0,0x34(%a0)
		movew	#0x800,0x18(%a0)
		movew	#-0x3C0,0x1A(%a0)
		moveb	#4,0x40(%a0)
		movel	#ArtScaled_FleeingRobotnik,0x42(%a0)
		moveb	#1,0x3E(%a0)
		bsrw	Perform_Art_Scaling
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_51BB6:
		bsrw	sub_51E3A
		bsrw	sub_51DEA
		bsrw	sub_51E10
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_51BC8:
		moveaw	0x46(%a0),%a1
		btst	#7,0xA(%a1)
		beqs	locret_51BE0
		bset	#7,0xA(%a0)
		movel	(%sp),(%a0)
		moveb	%d0,0x28(%a0)

locret_51BE0:
		rts
/*  End of function sub_51BC8 */

/*  --------------------------------------------------------------------------- */
		moveaw	0x44(%a0),%a1
		moveaw	0x46(%a0),%a2
		movew	0x10(%a1),%d0
		moveq	#0x10,%d2
		btst	#0,4(%a2)
		beqs	loc_51BFA
		negw	%d2

loc_51BFA:
		addw	%d2,%d0
		movew	0x10(%a2),%d1
		moveq	#0xC,%d2
		btst	#0,4(%a2)
		beqs	loc_51C0C
		negw	%d2

loc_51C0C:
		addw	%d2,%d1
		subw	%d1,%d0
		asrw	#1,%d0
		addw	%d0,%d1
		movew	%d1,0x10(%a0)
		movew	0x14(%a1),%d0
		subqw	#4,%d0
		movew	0x14(%a2),%d1
		subqw	#4,%d1
		subw	%d1,%d0
		asrw	#1,%d0
		addw	%d0,%d1
		movew	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_51C30:
		jsr	(Random_Number):l
		andiw	#6,%d0
		movew	%d0,0x3A(%a0)
		movew	(Camera_X_pos):w,%d1
		movew	#0x1A8,%d2
		movew	#-0x300,%d3
		btst	#0,4(%a0)
		beqs	loc_51C58
		movew	#-0x68,%d2
		negw	%d3

loc_51C58:
		addw	%d2,%d1
		movew	%d1,0x10(%a0)
		movew	%d3,0x18(%a0)
		movew	(Camera_Y_pos):w,%d1
		movew	word_51C7E(%pc,%d0.w),%d2
		addw	%d1,%d2
		movew	%d2,0x14(%a0)
		movew	word_51C86(%pc,%d0.w),0x1A(%a0)
		movew	#8,0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_51C7E:	.word 0x60
		.word 0x10
		.word 0xA0
		.word 0x80
word_51C86:	.word 0
		.word 0x200
		.word 0xFE00
		.word 0
/*  --------------------------------------------------------------------------- */

loc_51C8E:
		movew	#-0x300,%d0
		btst	#0,4(%a0)
		beqs	loc_51C9C
		negw	%d0

loc_51C9C:
		movew	%d0,0x18(%a0)
		jsr	(Random_Number):l
		andiw	#0x7F,%d0
		addiw	#0xC0,%d0
		movew	%d0,0x2E(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_51CB4:
		movew	(Camera_X_pos):w,%d0
		tstw	0x18(%a0)
		bmis	loc_51CCA
		addw	%d2,%d0
		cmpw	0x10(%a0),%d0
		blss	loc_51CD2
		braw	locret_51CDC
/*  --------------------------------------------------------------------------- */

loc_51CCA:
		addw	%d1,%d0
		cmpw	0x10(%a0),%d0
		bcss	locret_51CDC

loc_51CD2:
		bchg	#0,4(%a0)
		negw	0x18(%a0)

locret_51CDC:
		rts
/*  End of function sub_51CB4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_51CDE:
		cmpib	#8,5(%a0)
		bcss	locret_51D50
		tstb	0x28(%a0)
		bnes	locret_51D50
		moveb	0x29(%a0),%d0
		beqs	loc_51D52
		tstb	0x20(%a0)
		bnes	loc_51D1C
		cmpib	#0xA,5(%a0)
		bnes	loc_51D06
		movew	#8,0x3A(%a0)

loc_51D06:
		moveb	#0x3C,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		moveaw	0x44(%a0),%a1
		clrb	0x28(%a1)

loc_51D1C:
		bset	#6,0x2A(%a0)
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_51D30
		addiw	#0xC,%d0

loc_51D30:
		bsrw	sub_51D88
		subqb	#1,0x20(%a0)
		bnes	locret_51D50
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)
		moveaw	0x44(%a0),%a1
		moveb	#-0x53,0x28(%a1)

locret_51D50:
		rts
/*  --------------------------------------------------------------------------- */

loc_51D52:
		movel	#Wait_Draw,(%a0)
		movel	#loc_510DE,0x34(%a0)
		jsr	BossDefeated_StopTimer(%pc)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		bnes	loc_51D78
		moveb	#4,0x2C(%a1)

loc_51D78:
		tstb	0x30(%a0)
		/*  Bug: this branch is inverted, freeing the player if they're _not_ being held */
		bnes	loc_51D82
		jsr	Restore_PlayerControl(%pc)

loc_51D82:
		jmp	(SaveGame):l
/*  End of function sub_51CDE */


/*  =============== S U B R O U T I N E ======================================= */


sub_51D88:
		lea	word_51D94(%pc),%a1
		lea	word_51DA0(%pc,%d0.w),%a2
		jmp	CopyWordData_6(%pc)
/*  End of function sub_51D88 */

/*  --------------------------------------------------------------------------- */
word_51D94:	.word Normal_palette_line_2+0x08, Normal_palette_line_2+0x0E, Normal_palette_line_2+0x10
		.word Normal_palette_line_2+0x18, Normal_palette_line_2+0x1A, Normal_palette_line_2+0x1C
word_51DA0:	.word      8,    0xA,     4,  0x644,  0x422,     0
		.word   0x888,  0x666,  0xAAA,  0xAAA,  0xEEE,  0xEEE

/*  =============== S U B R O U T I N E ======================================= */


Perform_Art_Scaling:
		clrw	(_unkF740):w
		movel	%a0,-(%sp)
		jsr	(Init_ArtScaling):l
		moveal	(%sp)+,%a0
		movel	%a0,-(%sp)
		movew	0xA(%a0),%d0
		jsr	(sub_22C90):l
		moveal	(%sp)+,%a0
		movew	(_unkF740):w,%d3
		lslw	#4,%d3
		movel	#Kos_decomp_buffer,%d1
		movew	0x3A(%a0),%d2
		jmp	(Add_To_DMA_Queue):l
/*  End of function Perform_Art_Scaling */


/*  =============== S U B R O U T I N E ======================================= */


sub_51DEA:
		movew	0x18(%a0),%d0
		addiw	#-0x28,%d0
		cmpiw	#-0x80,%d0
		blts	loc_51DFC
		movew	%d0,0x18(%a0)

loc_51DFC:
		movew	0x1A(%a0),%d0
		addiw	#8,%d0
		cmpiw	#0x40,%d0
		bges	locret_51E0E
		movew	%d0,0x1A(%a0)

locret_51E0E:
		rts
/*  End of function sub_51DEA */


/*  =============== S U B R O U T I N E ======================================= */


sub_51E10:
		bsrw	sub_4B30A
		movew	0x30(%a0),%d2
		movew	0x34(%a0),%d3
		moveq	#0,%d0
		moveb	0x40(%a0),%d0
		addqw	#4,%d0
		movel	#0x100,%d4
		divuw	%d0,%d4
		subw	%d4,%d2
		subw	%d4,%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		rts
/*  End of function sub_51E10 */


/*  =============== S U B R O U T I N E ======================================= */


sub_51E3A:
		subqw	#1,0x1C(%a0)
		bpls	loc_51E62
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqb	#1,%d0
		cmpib	#6,%d0
		bhis	loc_51E80
		moveb	%d0,0x23(%a0)
		addw	%d0,%d0
		movew	word_51E86(%pc,%d0.w),0x1C(%a0)
		addw	%d0,%d0
		movel	off_51E94(%pc,%d0.w),0x42(%a0)

loc_51E62:
		subqb	#1,0x25(%a0)
		bpls	locret_51E7E
		moveb	#4,0x25(%a0)
		moveb	0x40(%a0),%d0
		addqb	#1,%d0
		bmis	locret_51E7E
		moveb	%d0,0x40(%a0)
		bsrw	Perform_Art_Scaling

locret_51E7E:
		rts
/*  --------------------------------------------------------------------------- */

loc_51E80:
		jmp	(Go_Delete_Sprite):l
/*  End of function sub_51E3A */

/*  --------------------------------------------------------------------------- */
word_51E86:	.word 0x20
		.word 0x20
		.word 0x10
		.word 8
		.word 8
		.word 8
		.word 0x200
off_51E94:	.long ArtScaled_FleeingRobotnik
		.long ArtScaled_FleeingRobotnik
		.long ArtScaled_FleeingRobotnik+0x1000
		.long ArtScaled_FleeingRobotnik+0x2000
		.long ArtScaled_FleeingRobotnik+0x3000
		.long ArtScaled_FleeingRobotnik+0x4000
		.long ArtScaled_FleeingRobotnik+0x5000

/*  =============== S U B R O U T I N E ======================================= */


sub_51EB0:
		movew	0x3A(%a0),%d1
		moveal	off_51EC6(%pc,%d1.w),%a1
		lea	(Normal_palette):w,%a2
		moveq	#7,%d0

loc_51EBE:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_51EBE
		rts
/*  End of function sub_51EB0 */

/*  --------------------------------------------------------------------------- */
off_51EC6:	.long Pal_SonicEndPose
		.long Pal_TailsEndPose
		.long Pal_SuperSonicEndPose
		.long Pal_SuperSonicEndPose

/*  =============== S U B R O U T I N E ======================================= */


Animate_ExternalPlayerSprite:
		subqb	#1,0x24(%a0)
		bpls	locret_51F10
		lea	(Player_1):w,%a2
		moveb	(%a1),0x24(%a0)
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqb	#2,%d0
		moveb	%d0,0x23(%a0)
		moveb	1(%a1,%d0.w),%d1
		cmpib	#-1,%d1
		beqs	loc_51F12
		moveb	%d1,0x22(%a2)
		bclr	#0,4(%a2)
		tstb	2(%a1,%d0.w)
		beqs	locret_51F10
		bset	#0,4(%a2)

locret_51F10:
		rts
/*  --------------------------------------------------------------------------- */

loc_51F12:
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  End of function Animate_ExternalPlayerSprite */

/*  --------------------------------------------------------------------------- */
ObjDat3_51F18:	.long Map_RobotnikShip
		.word 0x52E
		.word 0x280
		.byte 0x1C
		.byte 0x20
		.byte 5
		.byte 0
ObjDat3_51F24:	.long Map_LBZFinalBoss2
		.word 0x23D9
		.word 0x200
		.byte 0x28
		.byte 0x28
		.byte 0
		.byte 0
ObjDat3_51F30:	.long Map_LBZFinalBoss2
		.word 0x23D9
		.word 0x180
		.byte 0x20
		.byte 0x10
		.byte 2
		.byte 0
word_51F3C:	.word 0x80
		.byte 0x14
		.byte 0x14
		.byte 4
		.byte 0
word_51F42:	.word 0x180
		.byte 8
		.byte 8
		.byte 3
		.byte 0
ObjDat3_51F48:	.long Map_LBZFinalBoss2
		.word 0x23D9
		.word 0x300
		.byte 0x14
		.byte 0xC
		.byte 1
		.byte 0
ObjDat3_51F54:	.long Map_LBZFinalBoss2
		.word 0x3D9
		.word 0x300
		.byte 0xC
		.byte 0xC
		.byte 0xC
		.byte 0
ObjDat3_51F60:	.long Map_LBZFinalBoss2
		.word 0xA3D9
		.word 0x100
		.byte 0x10
		.byte 0x14
		.byte 0xD
		.byte 0
ObjDat3_51F6C:	.long Map_LBZDeathEggSmall
		.word 0x44AE
		.word 0x300
		.byte 0xC
		.byte 0xC
		.byte 7
		.byte 0
ObjDat3_51F78:	.long Map_LBZDeathEggSmall
		.word 0x24AE
		.word 0x380
		.byte 0x18
		.byte 0x18
		.byte 0
		.byte 0
ObjDat3_51F84:	.long Map_LBZDeathEggSmall
		.word 0x24AE
		.word 0x300
		.byte 4
		.byte 4
		.byte 3
		.byte 0
ObjDat3_51F90:	.long Map_LBZDeathEggSmall
		.word 0x24AE
		.word 0x300
		.byte 4
		.byte 4
		.byte 4
		.byte 0
ObjDat3_51F9C:	.long Map_ScaledArt
		.word 0x3D9
		.word 0x300
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ObjDat3_51FA8:	.long Map_SonicTailsEndPoses
		.word 0x83D9
		.word 0x300
		.byte 0x40
		.byte 0x40
		.byte 0
		.byte 0
ChildObjDat_51FB4:.word 3
		.long loc_511E8
		.word 0x1424
		.long loc_511CE
		.word 0xCEC
		.long loc_51392
		.word 0xE8
		.long loc_513AC
		.word 0x38EC
ChildObjDat_51FCE:.word 0
		.long loc_513E8
		.word 0x4CC
ChildObjDat_51FD6:.word 3
		.long loc_512FC
		.word 0xD6FE
		.long loc_512FC
		.word 0xB6FE
		.long loc_512A6
		.word 0
		.long loc_5140A
		.word 0xC0FE
ChildObjDat_51FF0:.word 4
		.long loc_514F6
		.word 0xF4D4
		.long loc_514F6
		.word 0x14D4
		.long loc_514F6
		.word 0x2CE8
		.long loc_514F6
		.word 0xF4FC
		.long loc_514F6
		.word 0x14FC
ChildObjDat_52010:.word 1
		.long loc_51524
ChildObjDat_52016:.word 6
		.long loc_516A4
		.word 0
		.long loc_516A4
		.word 0xF028
		.long loc_516A4
		.word 0x9000
		.long loc_516A4
		.word 0xB828
		.long loc_516A4
		.word 0x1810
		.long loc_516A4
		.word 0xDCF8
		.long loc_516A4
		.word 0xB01C
ChildObjDat_52042:.word 0
		.long loc_51AB8
ChildObjDat_52048:.word 0
		.long loc_51B18
ChildObjDat_5204E:.word 0
		.long loc_542B8
ChildObjDat_52054:.word 0
		.long loc_54322
byte_5205A:	.byte 9
		.byte 7
		.byte 4
		.byte 5
		.byte 6
		.byte 5
		.byte 4
		.byte 0xFC
byte_52062:	.byte 9
		.byte 0xB
		.byte 8
		.byte 9
		.byte 0xA
		.byte 9
		.byte 8
		.byte 0xFC
byte_5206A:	.byte 2
		.byte 4
		.byte 4
		.byte 5
		.byte 6
		.byte 0xF4
byte_52070:	.byte    5, 0xC4
		.byte    0, 0x55
		.byte    0, 0x59
		.byte    1, 0x5A
		.byte    1, 0xFF
byte_5207A:	.byte    7, 0x5A
		.byte    1, 0x5A
		.byte    1, 0x5A
		.byte    1, 0x5A
		.byte    1, 0x59
		.byte    1, 0x55
		.byte    0, 0x56
		.byte    0, 0x57
		.byte    0, 0x57
		.byte    0, 0x57
		.byte    0, 0xFF
off_52090:	.long byte_52098
		.long byte_520D2
byte_52098:	.byte   0xF, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xB1
		.byte    0, 0xB2
		.byte    0, 0xFF
byte_520D2:	.byte  0x7F, 0xA6
		.byte    0, 0xA6
		.byte    0, 0xA6
		.byte    0, 0xA6
		.byte    0, 0xFF
Pal_LBZFinalBoss2:
		.incbin "Levels/LBZ/Palettes/Final Boss 2.bin"
		.balign 2
Pal_LBZEnding:	.incbin "Levels/LBZ/Palettes/Ending.bin"
		.balign 2
Pal_SonicEndPose:
		.incbin "General/Ending/Palettes/Sonic End Pose.bin"
		.balign 2
Pal_TailsEndPose:
		.incbin "General/Ending/Palettes/Tails End Pose.bin"
		.balign 2
Pal_SuperSonicEndPose:
		.incbin "General/Ending/Palettes/S3 Super Sonic End Pose.bin"
		.balign 2
Map_SonicTailsEndPoses:
		.include "General/Ending/Map - Sonic Tails Ending Poses S3.S"
PalSPtr_LBZFinalBoss2_FadeIn:	palscriptptr .header, .data
		.word 0

.header	palscripthdr	Normal_palette_line_4+0x16, 4, 2-1
.data	palscriptdata	16, 0xECE, 0xE8A, 0xE48, 0xE46
	palscriptdata	16, 0xCAC, 0xC68, 0xC46, 0xA44
	palscriptdata	16, 0xA88, 0xA46, 0x824, 0x622
	palscriptdata	16, 0x844, 0x622, 0x400, 0x200
	palscriptrun

PalSPtr_LBZFinalBoss2_FadeOut:	palscriptptr .header, .data
		.word 0

.header	palscripthdr	Normal_palette_line_4+0x16, 4, 2-1
.data	palscriptdata	16, 0x844, 0x622, 0x400, 0x200
	palscriptdata	16, 0xA88, 0xA46, 0x824, 0x622
	palscriptdata	16, 0xCAC, 0xC68, 0xC46, 0xA44
	palscriptdata	16, 0xECE, 0xE8A, 0xE48, 0xE46
	palscriptrun
/*  --------------------------------------------------------------------------- */

Obj_HiddenMonitor:
		lea	ObjDat_HiddenMonitor(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#Obj_HiddenMonitorMain,(%a0)
		moveb	#0xF,0x1E(%a0)
		moveb	#0xF,0x1F(%a0)
		moveb	#0x46,0x28(%a0)
		moveb	0x2C(%a0),0x20(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_HiddenMonitorMain:
		moveaw	(Signpost_addr):w,%a1
		cmpil	#Obj_EndSign,(%a1)
		bnes	loc_52360
		btst	#0,0x38(%a1)
		beqs	loc_52360
		lea	word_52392(%pc),%a2
		movew	0x10(%a0),%d0
		movew	0x10(%a1),%d1
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bcss	loc_52352
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bccs	loc_52352
		movew	0x14(%a0),%d0
		movew	0x14(%a1),%d1
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bcss	loc_52352
		addw	(%a2)+,%d0
		cmpw	%d0,%d1
		bcss	loc_52366

loc_52352:
		moveq	#sfx_GroundSlide,%d0
		jsr	(Play_Sound_2):l
		movel	#Sprite_OnScreen_Test,(%a0)

loc_52360:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_52366:
		bclr	#0,0x38(%a1)
		movel	#Obj_Monitor,(%a0)
		moveb	#2,5(%a0)
		moveb	#4,0x3C(%a0)
		movew	#-0x500,0x1A(%a0)
		moveq	#sfx_BubbleAttack,%d0
		jsr	(Play_Sound_2):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
word_52392:	.word  0xFFF2,   0x1C, 0xFF80,   0xC0
ObjDat_HiddenMonitor:.long Map_Monitor
		.word ArtTile_Monitors
		.word 0x180
		.byte 0xE
		.byte 0x10
		.byte 0
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_EndSign:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	EndSign_Index(%pc,%d0.w),%d1
		jsr	EndSign_Index(%pc,%d1.w)
		lea	PLCPtr_EndSigns(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
EndSign_Index:	.word Obj_EndSignInit-EndSign_Index
		.word Obj_EndSignFall-EndSign_Index
		.word Obj_EndSignLanded-EndSign_Index
		.word Obj_EndSignResults-EndSign_Index
		.word Obj_EndSignAfter-EndSign_Index
/*  --------------------------------------------------------------------------- */

Obj_EndSignInit:
		lea	ObjSlot_EndSigns(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		movew	%a0,(Signpost_addr):w
		moveb	#0x18,0x1F(%a0)
		moveb	#0x1E,0x1E(%a0)
		movel	#AniRaw_EndSigns,0x30(%a0)
		cmpib	#6,(Current_zone):w
		bnes	loc_523FA
		movew	#0x3EC0,0x10(%a0)

loc_523FA:
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x20,%d0
		movew	%d0,0x14(%a0)
		moveq	#sfx_Signpost,%d0
		jsr	(Play_Sound_2):l
		lea	Child1_EndSignStub(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

Obj_EndSignFall:
		moveb	(V_int_run_count+3):w,%d0
		andib	#3,%d0
		bnes	loc_52428
		lea	Child6_EndSignSparkle(%pc),%a2
		jsr	CreateChild6_Simple(%pc)

loc_52428:
		bsrw	EndSign_CheckPlayerHit
		addiw	#0xC,0x1A(%a0)
		jsr	(MoveSprite2):l
		bsrw	EndSign_CheckWall
		jsr	Animate_Raw(%pc)
		movew	(Camera_Y_pos):w,%d0
		cmpib	#6,(Current_zone):w
		bnes	loc_52450
		addiw	#0x60,%d0

loc_52450:
		cmpw	0x14(%a0),%d0
		bhis	locret_5247C
		tstw	0x1A(%a0)
		bmis	locret_5247C
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	locret_5247C
		addw	%d1,0x14(%a0)
		moveb	#4,5(%a0)
		bset	#0,0x38(%a0)
		movew	#0x40,0x2E(%a0)

locret_5247C:
		rts
/*  --------------------------------------------------------------------------- */

Obj_EndSignLanded:
		btst	#0,0x38(%a0)
		beqs	loc_524AA
		jsr	Animate_Raw(%pc)
		subqw	#1,0x2E(%a0)
		bmis	loc_52492
		rts
/*  --------------------------------------------------------------------------- */

loc_52492:
		moveb	#6,5(%a0)
		moveq	#0,%d0
		moveb	(Player_mode+1):w,%d0
		moveb	FrameArray_EndSign(%pc,%d0.w),0x22(%a0)
		st	(Ctrl_2_locked):w
		rts
/*  --------------------------------------------------------------------------- */

loc_524AA:
		moveb	#2,5(%a0)
		moveb	#0x20,0x20(%a0)
		movew	#-0x200,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
FrameArray_EndSign:.byte   0,  0,  1,  2
/*  --------------------------------------------------------------------------- */

Obj_EndSignResults:
		lea	(Player_1):w,%a1
		btst	#1,0x2A(%a1)
		bnes	locret_524E6
		moveb	#8,5(%a0)
		jsr	Set_PlayerEndingPose(%pc)
		jsr	(Create_New_Sprite):l
		bnes	locret_524E6
		movel	#Obj_LevelResults,(%a1)

locret_524E6:
		rts
/*  --------------------------------------------------------------------------- */

Obj_EndSignAfter:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_52500
		jmp	(Check_TailsEndPose):l
/*  --------------------------------------------------------------------------- */

loc_52500:
		lea	PLC_SpikesSprings(%pc),%a1
		jsr	(Load_PLC_Raw):l
		jsr	Remove_From_TrackingSlot(%pc)
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
PLC_SpikesSprings:.word 0
		.long ArtNem_SpikesSprings
		.word 0x9280
/*  --------------------------------------------------------------------------- */

Obj_SignpostSparkle:
		lea	ObjDat_SignpostSparkle(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#Obj_SignpostSparkleMain,(%a0)
		jsr	(Random_Number):l
		andiw	#0x1F,%d0
		subiw	#0x10,%d0
		addw	%d0,0x14(%a0)
		movew	0x10(%a0),0x3A(%a0)
		movew	#0x1000,0x18(%a0)
		movew	#0x20,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)

Obj_SignpostSparkleMain:
		movew	#0x400,%d0
		movew	0x10(%a0),%d1
		cmpw	0x3A(%a0),%d1
		bcss	loc_52564
		negw	%d0

loc_52564:
		movew	#0x80,%d1
		addw	%d0,0x18(%a0)
		bpls	loc_52572
		movew	#0x180,%d1

loc_52572:
		movew	%d1,8(%a0)
		jsr	(MoveSprite2):l
		lea	AniRaw_SignpostSparkle(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_SignpostStub:
		movel	#Obj_SignpostStubMain,(%a0)
		lea	ObjDat_SignpostStub(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

Obj_SignpostStubMain:
		jsr	Refresh_ChildPosition(%pc)
		jmp	(Child_Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


EndSign_CheckPlayerHit:
		tstb	0x20(%a0)
		bnes	loc_5260E
		lea	EndSign_Range(%pc),%a1
		jsr	Check_PlayerInRange(%pc)
		tstl	%d0
		beqs	locret_52612
		tstw	%d0
		beqs	loc_525C0
		bsrw	sub_525C6

loc_525C0:
		swap	%d0
		tstw	%d0
		beqs	locret_52612
/*  End of function EndSign_CheckPlayerHit */


/*  =============== S U B R O U T I N E ======================================= */


sub_525C6:
		moveaw	%d0,%a1
		cmpib	#2,0x20(%a1)
		bnes	locret_52612
		tstw	0x1A(%a1)
		bpls	locret_52612
		moveb	#0x20,0x20(%a0)
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		bnes	loc_525E8
		moveq	#8,%d0

loc_525E8:
		lslw	#4,%d0
		movew	%d0,0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		moveq	#sfx_Signpost,%d0
		jsr	(Play_Sound_2):l
		lea	Child6_EndSignScore(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		moveq	#0xA,%d0
		moveal	%a1,%a3
		jmp	(HUD_AddToScore):l
/*  --------------------------------------------------------------------------- */

loc_5260E:
		subqb	#1,0x20(%a0)

locret_52612:
		rts
/*  End of function sub_525C6 */

/*  --------------------------------------------------------------------------- */
EndSign_Range:	.word  0xFFE0,   0x40, 0xFFE8,   0x30

/*  =============== S U B R O U T I N E ======================================= */


EndSign_CheckWall:
		movew	(Camera_X_pos):w,%d0
		tstw	0x18(%a0)
		bmis	loc_5263E
		addiw	#0x128,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_52654
		moveq	#0x20,%d3
		jsr	(ObjCheckRightWallDist):l
		tstw	%d1
		bmis	loc_52654
		rts
/*  --------------------------------------------------------------------------- */

loc_5263E:
		addiw	#0x18,%d0
		cmpw	0x10(%a0),%d0
		bhis	loc_52654
		moveq	#-0x20,%d3
		jsr	(ObjCheckLeftWallDist):l
		tstw	%d1
		bpls	locret_52658

loc_52654:
		negw	0x18(%a0)

locret_52658:
		rts
/*  End of function EndSign_CheckWall */

/*  --------------------------------------------------------------------------- */
ObjSlot_EndSigns:.word 0, 0x4AC, 0xC, 0
		.long Map_EndSigns
		.word 0x100
		.byte 0x18
		.byte 0x10
		.byte 0
		.byte 0
ObjDat_SignpostStub:.long Map_SignpostStub
		.word 0x69E
		.word 0x100
		.byte 4
		.byte 8
		.byte 0
		.byte 0
ObjDat_SignpostSparkle:.long Map_Ring
		.word make_art_tile(ArtTile_Ring,1,0)
		.word 0x80
		.byte 8
		.byte 8
		.byte 4
		.byte 0
Child1_EndSignStub:.word	0
		.long Obj_SignpostStub
		.word 0x18
Child6_EndSignSparkle:.word 0
		.long Obj_SignpostSparkle
Child6_EndSignScore:.word 0
		.long Obj_EnemyScore
PLCPtr_EndSigns:.long ArtUnc_EndSigns
		.long DPLC_EndSigns
AniRaw_EndSigns:.byte    1,   0
		.byte    4,   5
		.byte    6,   1
		.byte    4,   5
		.byte    6,   2
		.byte    4,   5
		.byte    6,   3
		.byte    4,   5
		.byte    6, 0xFC
AniRaw_SignpostSparkle:.byte    1,   4
		.byte    5,   6
		.byte    7, 0xFC

/*  =============== S U B R O U T I N E ======================================= */


AfterBoss_Cleanup:
		moveq	#0,%d0
		lea	(Current_zone_and_act):w,%a1
		moveb	(%a1)+,%d0
		addb	%d0,%d0
		addb	(%a1)+,%d0
		addb	%d0,%d0
		movew	off_526CE(%pc,%d0.w),%d0
		jmp	off_526CE(%pc,%d0.w)
/*  End of function AfterBoss_Cleanup */

/*  --------------------------------------------------------------------------- */
off_526CE:	.word loc_526EA-off_526CE
		.word loc_526FE-off_526CE
		.word locret_52714-off_526CE
		.word locret_52714-off_526CE
		.word loc_52716-off_526CE
		.word loc_52716-off_526CE
		.word locret_52720-off_526CE
		.word locret_52720-off_526CE
		.word locret_52720-off_526CE
		.word locret_52720-off_526CE
		.word locret_52720-off_526CE
		.word loc_52722-off_526CE
		.word locret_5272E-off_526CE
		.word locret_5272E-off_526CE
/*  --------------------------------------------------------------------------- */

loc_526EA:
		lea	(Pal_AIZ):l,%a1
		lea	(Normal_palette_line_2):w,%a2
		moveq	#0x17,%d0

loc_526F6:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_526F6
		rts
/*  --------------------------------------------------------------------------- */

loc_526FE:
		lea	(Pal_AIZFire):l,%a1
		jsr	(PalLoad_Line1):l
		lea	PLC_52730(%pc),%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */

locret_52714:
		rts
/*  --------------------------------------------------------------------------- */

loc_52716:
		lea	PLC_MonitorsSpikesSprings(%pc),%a1
		jmp	(Load_PLC_Raw):l
/*  --------------------------------------------------------------------------- */

locret_52720:
		rts
/*  --------------------------------------------------------------------------- */

loc_52722:
		lea	(Pal_ICZ2):l,%a1
		jmp	(PalLoad_Line1):l
/*  --------------------------------------------------------------------------- */

locret_5272E:
		rts
/*  --------------------------------------------------------------------------- */
PLC_52730:	.word 6
		.long ArtNem_Monitors
		.word tiles_to_bytes(ArtTile_Monitors)
		.long ArtNem_AIZMisc2
		.word 0x5D20
		.long ArtNem_AIZSwingVine
		.word 0x8360
		.long ArtNem_AIZBackgroundTree
		.word 0x8700
		.long ArtNem_Bubbles
		.word 0x8B80
		.long ArtNem_GrayButton
		.word 0x8AC0
		.long ArtNem_AIZCorkFloor2
		.word 0x8800
		.word    0,0xEEE,0xEC0,0xE60,0xC22, 0xEE, 0x88,0x60A, 0x8E, 0x2E,0x844, 0x20,0xEAA,0xA66,0xECC, 0x44
		.word    0,0xEEE,0xEC0,0xE60,0xC22, 0xEE, 0x88, 0x8E, 0x2C,0x822,   0, 0x20,0xCAA,0x866,0x644, 0x44
PLC_MonitorsSpikesSprings:.word 1
		.long ArtNem_Monitors
		.word tiles_to_bytes(ArtTile_Monitors)
		.long ArtNem_SpikesSprings
		.word 0x9280
PLC_Monitors:	.word 0
		.long ArtNem_Monitors
		.word tiles_to_bytes(ArtTile_Monitors)
		.word 2
		.long ArtNem_Explosion
		.word 0xB400
		.long ArtNem_Squirrel
		.word 0xB000
		.long ArtNem_BlueFlicky
		.word 0xB240
PLC_BossExplosion:.word 0
		.long ArtNem_BossExplosion
		.word 0xA000
PLC_Explosion:	.word 0
		.long ArtNem_Explosion
		.word 0xB400
PLC_EggCapsule:	.word 0
		.long ArtNem_EggCapsule
		.word 0x9280
/*  --------------------------------------------------------------------------- */

Obj_CreateBossExplosion:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_527EC(%pc,%d0.w),%d1
		jmp	off_527EC(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_527EC:	.word Obj_BossExpControl-off_527EC
		.word loc_5281C-off_527EC
		.word Obj_WaitForParent-off_527EC

/*  =============== S U B R O U T I N E ======================================= */


Obj_BossExpControl:
		lea	ObjDat_BossExplosion(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#Obj_NormalExpControl,0x34(%a0)
		cmpib	#8,0x2C(%a0)
		bnes	loc_52812
		movel	#loc_5289A,0x34(%a0)

loc_52812:
		movew	#2,0x2E(%a0)
		braw	loc_528BA
/*  --------------------------------------------------------------------------- */

loc_5281C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

Obj_WaitForParent:
		moveaw	0x46(%a0),%a1
		btst	#5,0x38(%a1)
		bnew	loc_52896
		tstl	(%a1)
		beqw	loc_52896
		movew	0x10(%a1),0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

Obj_NormalExpControl:
		subqb	#1,0x39(%a0)
		bmis	loc_52896
		movew	#2,0x2E(%a0)
/*  End of function Obj_BossExpControl */


/*  =============== S U B R O U T I N E ======================================= */


sub_52850:
		moveq	#sfx_Explode,%d0
		jsr	(Play_Sound_2):l
		lea	Child6_MakeBossExplosion1(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnew	locret_5293E

loc_52864:
		jsr	(Random_Number):l
		moveq	#0,%d1
		moveb	0x3A(%a0),%d1
		movew	%d1,%d2
		addw	%d2,%d2
		subqw	#1,%d2
		andw	%d2,%d0
		subw	%d1,%d0
		addw	%d0,0x10(%a1)
		swap	%d0
		moveq	#0,%d1
		moveb	0x3B(%a0),%d1
		movew	%d1,%d2
		addw	%d2,%d2
		subqw	#1,%d2
		andw	%d2,%d0
		subw	%d1,%d0
		addw	%d0,0x14(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_52896:
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_5289A:
		subqb	#1,0x39(%a0)
		bmis	loc_52896
		movew	#2,0x2E(%a0)
		lea	Child6_MakeNormalExplosion(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnew	locret_5293E
		moveb	#2,5(%a1)
		bras	loc_52864
/*  --------------------------------------------------------------------------- */

loc_528BA:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lea	CreateBossExpParameterIndex(%pc),%a1
		addaw	(%a1,%d0.w),%a1
		moveb	(%a1)+,0x39(%a0)
		moveb	(%a1)+,0x3A(%a0)
		moveb	(%a1)+,0x3B(%a0)
		moveb	(%a1)+,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */
CreateBossExpParameterIndex:.word CreateBossExp_00-CreateBossExpParameterIndex
		.word CreateBossExp_02-CreateBossExpParameterIndex
		.word CreateBossExp_04-CreateBossExpParameterIndex
		.word CreateBossExp_06-CreateBossExpParameterIndex
		.word CreateBossExp_08-CreateBossExpParameterIndex
		.word CreateBossExp_0A-CreateBossExpParameterIndex
		.word CreateBossExp_0C-CreateBossExpParameterIndex
CreateBossExp_00:.byte  0x20, 0x20, 0x20,   2
CreateBossExp_02:.byte  0x28, 0x80, 0x80,   2
CreateBossExp_04:.byte  0x80, 0x20, 0x20,   4
CreateBossExp_06:.byte    4,   8,   8,   2
CreateBossExp_08:.byte    8, 0x20, 0x20,   2
CreateBossExp_0A:.byte  0x20, 0x20, 0x20,   2
CreateBossExp_0C:.byte  0x40, 0x80, 0x20,   2
/*  --------------------------------------------------------------------------- */

Obj_BossExplosionSpecial:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_52912(%pc,%d0.w),%d1
		jmp	off_52912(%pc,%d1.w)
/*  --------------------------------------------------------------------------- */
off_52912:	.word loc_52916-off_52912
		.word loc_5281C-off_52912
/*  --------------------------------------------------------------------------- */

loc_52916:
		moveb	#2,0x2C(%a0)
		bsrw	Obj_BossExpControl
		movew	#2,0x2E(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0xA0,%d0
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x70,%d0
		movew	%d0,0x14(%a0)

locret_5293E:
		rts
/*  End of function sub_52850 */

/*  --------------------------------------------------------------------------- */

loc_52940:
		lea	ObjDat_BossExplosion(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		tstb	(Current_zone):w
		bnes	loc_52954
		movew	#0x84D2,0xA(%a0)

loc_52954:
		movel	#loc_5296A,(%a0)
		movel	#AniRaw_BossExplosion,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)

loc_5296A:
		jsr	Animate_RawMultiDelay(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
ObjDat_BossExplosion:.long Map_BossExplosion
		.word 0x8500
		.word 0
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0
AniRaw_BossExplosion:.byte    0,   0
		.byte    0,   1
		.byte    1,   1
		.byte    2,   2
		.byte    3,   3
		.byte    4,   4
		.byte    5,   4
		.byte  0xF4,   0
Child6_MakeBossExplosion1:.word 0
		.long loc_52940
		.word 0
Child6_CreateBossExplosion:.word	0
		.long Obj_CreateBossExplosion
		.word 0
Child6_MakeNormalExplosion:.word	0
		.long Obj_Explosion
		.word 0

/*  =============== S U B R O U T I N E ======================================= */


SetUp_ObjAttributes:
		movel	(%a1)+,0xC(%a0)

SetUp_ObjAttributes2:
		movew	(%a1)+,0xA(%a0)

SetUp_ObjAttributes3:
		movew	(%a1)+,8(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x28(%a0)
		bset	#2,4(%a0)
		addqb	#2,5(%a0)

locret_529CE:
		rts
/*  End of function SetUp_ObjAttributes */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild1_Normal:
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_529D4:
		jsr	(Create_New_Sprite3):l
		bnes	locret_52A1E
		movew	%a0,0x46(%a1)
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a2)+,(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x42(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x43(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x14(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_529D4
		moveq	#0,%d0

locret_52A1E:
		rts
/*  End of function CreateChild1_Normal */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild2_Complex:
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52A24:
		jsr	(Create_New_Sprite3):l
		bnes	locret_52A82
		movew	%a0,0x46(%a1)
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a2)+,(%a1)
		movel	(%a2)+,0x3E(%a1)
		movel	(%a2)+,0x30(%a1)
		movel	(%a2)+,0x34(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x42(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x43(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x14(%a1)
		movew	(%a2)+,0x18(%a1)
		movew	(%a2)+,0x1A(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52A24
		moveq	#0,%d0

locret_52A82:
		rts
/*  End of function CreateChild2_Complex */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild3_NormalRepeated:
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52A88:
		moveal	%a2,%a3
		jsr	(Create_New_Sprite3):l
		bnes	locret_52AD4
		movew	%a0,0x46(%a1)
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a3)+,(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),%d0
		moveb	(%a3)+,%d1
		moveb	%d1,0x42(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),%d0
		moveb	(%a3)+,%d1
		moveb	%d1,0x43(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x14(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52A88
		moveq	#0,%d0

locret_52AD4:
		rts
/*  End of function CreateChild3_NormalRepeated */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild4_LinkListRepeated:
		moveal	%a0,%a3
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52ADC:
		jsr	(Create_New_Sprite3):l
		bnes	locret_52B14
		movew	%a3,0x46(%a1)
		movew	%a1,0x44(%a3)
		moveal	%a1,%a3
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a2),(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52ADC
		moveq	#0,%d0

locret_52B14:
		rts
/*  End of function CreateChild4_LinkListRepeated */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild5_ComplexAdjusted:
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52B1A:
		jsr	(Create_New_Sprite3):l
		bnes	locret_52B8E
		movew	%a0,0x46(%a1)
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a2)+,(%a1)
		movel	(%a2)+,0x3E(%a1)
		movel	(%a2)+,0x30(%a1)
		movel	(%a2)+,0x34(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x42(%a1)
		extw	%d1
		btst	#0,4(%a0)
		beqs	loc_52B5A
		negw	%d1

loc_52B5A:
		addw	%d1,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x43(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x14(%a1)
		movew	(%a2)+,%d1
		btst	#0,4(%a0)
		beqs	loc_52B7E
		negw	%d1

loc_52B7E:
		movew	%d1,0x18(%a1)
		movew	(%a2)+,0x1A(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52B1A
		moveq	#0,%d0

locret_52B8E:
		rts
/*  End of function CreateChild5_ComplexAdjusted */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild6_Simple:
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52B94:
		jsr	(Create_New_Sprite3):l
		bnes	locret_52BBA
		movew	%a0,0x46(%a1)
		movel	(%a2),(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52B94
		moveq	#0,%d0

locret_52BBA:
		rts
/*  End of function CreateChild6_Simple */


/*  =============== S U B R O U T I N E ======================================= */


CreateChild7_Normal2:
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52BC0:
		jsr	(Create_New_Sprite):l
		bnes	locret_52C0A
		movew	%a0,0x46(%a1)
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a2)+,(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x42(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),%d0
		moveb	(%a2)+,%d1
		moveb	%d1,0x43(%a1)
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x14(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52BC0
		moveq	#0,%d0

locret_52C0A:
		rts
/*  End of function CreateChild7_Normal2 */

/*  --------------------------------------------------------------------------- */

CreateChild8_TreeListRepeated:
		moveal	%a0,%a3
		moveq	#0,%d2
		movew	(%a2)+,%d6

loc_52C12:
		jsr	(Create_New_Sprite3):l
		bnes	locret_52C4A
		movew	%a3,0x46(%a1)
		movew	%a0,0x44(%a1)
		moveal	%a1,%a3
		movel	0xC(%a0),0xC(%a1)
		movel	0xA(%a0),0xA(%a1)
		movel	(%a2),(%a1)
		moveb	%d2,0x2C(%a1)
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		addqw	#2,%d2
		dbf	%d6,loc_52C12
		moveq	#0,%d0

locret_52C4A:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Refresh_ChildPosition:
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d0
		moveb	0x42(%a0),%d1
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a1),%d0
		moveb	0x43(%a0),%d1
		extw	%d1
		addw	%d1,%d0
		movew	%d0,0x14(%a0)
		rts
/*  End of function Refresh_ChildPosition */


/*  =============== S U B R O U T I N E ======================================= */


Refresh_ChildPositionAdjusted:
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d0
		moveb	0x42(%a0),%d1
		extw	%d1
		bclr	#0,4(%a0)
		btst	#0,4(%a1)
		beqs	loc_52C96
		negw	%d1
		bset	#0,4(%a0)

loc_52C96:
		addw	%d1,%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a1),%d0
		moveb	0x43(%a0),%d1
		extw	%d1
		bclr	#1,4(%a0)
		btst	#1,4(%a1)
		beqs	loc_52CBC
		negw	%d1
		bset	#1,4(%a0)

loc_52CBC:
		addw	%d1,%d0
		movew	%d0,0x14(%a0)
		rts
/*  End of function Refresh_ChildPositionAdjusted */


/*  =============== S U B R O U T I N E ======================================= */


Animate_Raw:
		moveal	0x30(%a0),%a1
/*  End of function Animate_Raw */


/*  =============== S U B R O U T I N E ======================================= */


Animate_RawNoSST:
		subqb	#1,0x24(%a0)
		bpls	locret_52CEA
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#1,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	1(%a1,%d0.w),%d1
		bmis	loc_52CEC
		moveb	(%a1),0x24(%a0)
		moveb	%d1,0x22(%a0)

locret_52CEA:
		rts
/*  --------------------------------------------------------------------------- */

loc_52CEC:
		negb	%d1
		jsr	loc_52CF2+2(%pc,%d1.w)

loc_52CF2:
		clrb	0x23(%a0)
		rts
/*  End of function Animate_RawNoSST */

/*  --------------------------------------------------------------------------- */
		braw	AnimateRaw_Restart
/*  --------------------------------------------------------------------------- */
		braw	AnimateRaw_Jump
/*  --------------------------------------------------------------------------- */
		braw	AnimateRaw_CustomCode
/*  --------------------------------------------------------------------------- */

AnimateRaw_Jump:
		moveb	2(%a1,%d0.w),%d1
		extw	%d1
		lea	(%a1,%d1.w),%a1
		movel	%a1,0x30(%a0)

AnimateRaw_Restart:
		moveb	1(%a1),0x22(%a0)
		moveb	(%a1),0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

AnimateRaw_CustomCode:
		clrb	0x24(%a0)
		moveal	0x34(%a0),%a1
		jmp	(%a1)

/*  =============== S U B R O U T I N E ======================================= */


Animate_RawAdjustFlipX:
		moveal	0x30(%a0),%a1
		subqb	#1,0x24(%a0)
		bpls	locret_52D5A
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#1,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	1(%a1,%d0.w),%d1
		bmis	loc_52CEC
		bclr	#6,%d1
		beqs	loc_52D52
		bchg	#0,4(%a0)

loc_52D52:
		moveb	(%a1),0x24(%a0)
		moveb	%d1,0x22(%a0)

locret_52D5A:
		rts
/*  End of function Animate_RawAdjustFlipX */

/*  --------------------------------------------------------------------------- */

Animate_RawAdjustFlipY:
		moveal	0x30(%a0),%a1
		subqb	#1,0x24(%a0)
		bpls	locret_52D90
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#1,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	1(%a1,%d0.w),%d1
		bmiw	loc_52CEC
		bclr	#6,%d1
		beqs	loc_52D88
		bchg	#1,4(%a0)

loc_52D88:
		moveb	(%a1),0x24(%a0)
		moveb	%d1,0x22(%a0)

locret_52D90:
		rts

/*  =============== S U B R O U T I N E ======================================= */


Animate_RawMultiDelay:
		moveal	0x30(%a0),%a1

Animate_RawNoSSTMultiDelay:
		subqb	#1,0x24(%a0)
		bpls	loc_52DBE
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#2,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	(%a1,%d0.w),%d1
		bmis	loc_52DC2
		moveb	%d1,0x22(%a0)
		moveb	1(%a1,%d0.w),0x24(%a0)
		moveq	#1,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52DBE:
		moveq	#0,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52DC2:
		negb	%d1
		jsr	loc_52DC8+2(%pc,%d1.w)

loc_52DC8:
		clrb	0x23(%a0)
		rts
/*  End of function Animate_RawMultiDelay */

/*  --------------------------------------------------------------------------- */
		braw	loc_52DE8
/*  --------------------------------------------------------------------------- */
		braw	loc_52DDA
/*  --------------------------------------------------------------------------- */
		braw	loc_52DF6
/*  --------------------------------------------------------------------------- */

loc_52DDA:
		moveb	1(%a1,%d0.w),%d1
		extw	%d1
		lea	(%a1,%d1.w),%a1
		movel	%a1,0x30(%a0)

loc_52DE8:
		moveb	(%a1),0x22(%a0)
		moveb	1(%a1),0x24(%a0)
		moveq	#1,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52DF6:
		clrb	0x24(%a0)
		moveal	0x34(%a0),%a1
		jsr	(%a1)
		moveq	#-1,%d2
		rts

/*  =============== S U B R O U T I N E ======================================= */


Animate_RawMultiDelayFlipX:
		moveal	0x30(%a0),%a1

Animate_RawNoSSTMultiDelayFlipX:
		subqb	#1,0x24(%a0)
		bpls	loc_52E3C
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#2,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	(%a1,%d0.w),%d1
		bmis	loc_52DC2
		bclr	#6,%d1
		beqs	loc_52E2E
		bchg	#0,4(%a0)

loc_52E2E:
		moveb	%d1,0x22(%a0)
		moveb	1(%a1,%d0.w),0x24(%a0)
		moveq	#1,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52E3C:
		moveq	#0,%d2
		rts
/*  End of function Animate_RawMultiDelayFlipX */


/*  =============== S U B R O U T I N E ======================================= */


Animate_RawMultiDelayFlipY:
		moveal	0x30(%a0),%a1
		subqb	#1,0x24(%a0)
		bpls	loc_52E7A
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqw	#2,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d1
		moveb	(%a1,%d0.w),%d1
		bmiw	loc_52DC2
		bclr	#6,%d1
		beqs	loc_52E6C
		bchg	#1,4(%a0)

loc_52E6C:
		moveb	%d1,0x22(%a0)
		moveb	1(%a1,%d0.w),0x24(%a0)
		moveq	#1,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52E7A:
		moveq	#0,%d2
		rts
/*  End of function Animate_RawMultiDelayFlipY */


/*  =============== S U B R O U T I N E ======================================= */


Animate_RawGetFaster:
		moveal	0x30(%a0),%a1
		bset	#5,0x38(%a0)
		bnes	loc_52E92
		moveb	(%a1),0x2E(%a0)
		clrb	0x2F(%a0)

loc_52E92:
		subqb	#1,0x24(%a0)
		bpls	loc_52ECA
		moveb	0x2E(%a0),%d2
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqb	#1,%d0
		moveb	2(%a1,%d0.w),%d1
		bpls	loc_52EBA
		moveq	#0,%d0
		moveb	2(%a1),%d1
		tstb	%d2
		beqs	loc_52ECE
		subqb	#1,%d2
		moveb	%d2,0x2E(%a0)

loc_52EBA:
		moveb	%d0,0x23(%a0)
		moveb	%d1,0x22(%a0)
		moveb	%d2,0x24(%a0)
		moveq	#1,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52ECA:
		moveq	#0,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_52ECE:
		moveb	%d0,0x23(%a0)
		moveb	%d1,0x22(%a0)
		moveb	%d2,0x24(%a0)
		moveb	0x2F(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x2F(%a0)
		cmpb	1(%a1),%d0
		bcss	loc_52EFA
		bclr	#5,0x38(%a0)
		clrb	0x2F(%a0)
		moveal	0x34(%a0),%a2
		jsr	(%a2)

loc_52EFA:
		moveq	#-1,%d2
		rts
/*  End of function Animate_RawGetFaster */

/*  --------------------------------------------------------------------------- */

Animate_RawGetSlower:
		moveal	0x30(%a0),%a1
		bset	#5,0x38(%a0)
		bnes	loc_52F0E
		clrw	0x2E(%a0)

loc_52F0E:
		subqb	#1,0x24(%a0)
		bpls	locret_52F42
		moveb	0x2E(%a0),%d2
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		addqb	#1,%d0
		moveb	1(%a1,%d0.w),%d1
		bpls	loc_52F2E
		moveq	#0,%d0
		moveb	1(%a1),%d1
		addqb	#1,%d2

loc_52F2E:
		moveb	%d0,0x23(%a0)
		moveb	%d1,0x22(%a0)
		moveb	%d2,0x24(%a0)
		cmpb	(%a1),%d2
		bccs	loc_52F44
		moveb	%d2,0x2E(%a0)

locret_52F42:
		rts
/*  --------------------------------------------------------------------------- */

loc_52F44:
		moveb	0x2F(%a0),%d0
		addqb	#1,%d0
		moveb	%d0,0x2F(%a0)
		cmpb	1(%a1),%d0
		bcss	locret_52F42
		bclr	#5,0x38(%a0)
		clrb	0x2F(%a0)
		moveal	0x34(%a0),%a2
		jmp	(%a2)

/*  =============== S U B R O U T I N E ======================================= */


Swing_UpAndDown:
		movew	0x40(%a0),%d0
		movew	0x1A(%a0),%d1
		movew	0x3E(%a0),%d2
		moveq	#0,%d3
		btst	#0,0x38(%a0)
		bnes	loc_52F90
		negw	%d0
		addw	%d0,%d1
		negw	%d2
		cmpw	%d2,%d1
		bgts	loc_52FA2
		bset	#0,0x38(%a0)
		negw	%d0
		negw	%d2
		moveq	#1,%d3

loc_52F90:
		addw	%d0,%d1
		cmpw	%d2,%d1
		blts	loc_52FA2
		bclr	#0,0x38(%a0)
		negw	%d0
		addw	%d0,%d1
		moveq	#1,%d3

loc_52FA2:
		movew	%d1,0x1A(%a0)
		rts
/*  End of function Swing_UpAndDown */


/*  =============== S U B R O U T I N E ======================================= */


Swing_LeftAndRight:
		movew	0x3C(%a0),%d0
		movew	0x18(%a0),%d1
		movew	0x3A(%a0),%d2
		moveq	#0,%d3
		btst	#3,0x38(%a0)
		bnes	loc_52FD4
		negw	%d0
		addw	%d0,%d1
		negw	%d2
		cmpw	%d2,%d1
		bgts	loc_52FE6
		bset	#3,0x38(%a0)
		negw	%d0
		negw	%d2
		moveq	#1,%d3

loc_52FD4:
		addw	%d0,%d1
		cmpw	%d2,%d1
		blts	loc_52FE6
		bclr	#3,0x38(%a0)
		negw	%d0
		addw	%d0,%d1
		moveq	#1,%d3

loc_52FE6:
		movew	%d1,0x18(%a0)
		rts
/*  End of function Swing_LeftAndRight */


/*  =============== S U B R O U T I N E ======================================= */


Swing_UpAndDown_Count:
		bsrw	Swing_UpAndDown
		tstw	%d3
		beqs	locret_53006
		moveb	0x39(%a0),%d2
		subqb	#1,%d2
		moveb	%d2,0x39(%a0)
		bmis	loc_53004
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_53004:
		moveq	#1,%d0

locret_53006:
		rts
/*  End of function Swing_UpAndDown_Count */


/*  =============== S U B R O U T I N E ======================================= */


Obj_Wait:
		subqw	#1,0x2E(%a0)
		bmis	loc_53010
		rts
/*  --------------------------------------------------------------------------- */

loc_53010:
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  End of function Obj_Wait */


/*  =============== S U B R O U T I N E ======================================= */


ObjHitFloor_DoRoutine:
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmis	loc_53024
		beqs	loc_53024
		rts
/*  --------------------------------------------------------------------------- */

loc_53024:
		addw	%d1,0x14(%a0)
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  End of function ObjHitFloor_DoRoutine */


/*  =============== S U B R O U T I N E ======================================= */


ObjHitFloor2_DoRoutine:
		movew	0x18(%a0),%d3
		extl	%d3
		lsll	#8,%d3
		addl	0x10(%a0),%d3
		swap	%d3
		jsr	(ObjCheckFloorDist2):l
		cmpiw	#-1,%d1
		blts	loc_53054
		cmpiw	#0xC,%d1
		bges	loc_53054
		addw	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_53054:
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  End of function ObjHitFloor2_DoRoutine */


/*  =============== S U B R O U T I N E ======================================= */


ObjHitWall_DoRoutine:
		jsr	(ObjCheckRightWallDist):l
		tstw	%d1
		bmis	loc_53066
		rts
/*  --------------------------------------------------------------------------- */

loc_53066:
		addw	%d1,0x10(%a0)
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  End of function ObjHitWall_DoRoutine */

/*  --------------------------------------------------------------------------- */

ObjHitWall2_DoRoutine:
		jsr	(ObjCheckLeftWallDist):l
		tstw	%d1
		bmis	loc_5307C
		rts
/*  --------------------------------------------------------------------------- */

loc_5307C:
		addw	%d1,0x10(%a0)
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  --------------------------------------------------------------------------- */

Draw_And_Touch_Sprite:
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Child_Draw_Sprite:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_530A4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_530A4:
		braw	Go_Delete_Sprite
/*  --------------------------------------------------------------------------- */

Child_DrawTouch_Sprite:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_530C0
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_530C0:
		braw	Go_Delete_Sprite
/*  --------------------------------------------------------------------------- */

Child_Remember_Draw_Sprite:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_530D6
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_530D6:
		bsrw	Remove_From_TrackingSlot
		braw	Go_Delete_Sprite
/*  --------------------------------------------------------------------------- */

Child_Draw_Sprite2:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_530F0
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_530F0:
		braw	Go_Delete_Sprite_2
/*  --------------------------------------------------------------------------- */

Child_DrawTouch_Sprite2:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_53114
		btst	#7,0x2A(%a1)
		bnes	loc_5310E
		jsr	(Add_SpriteToCollisionResponseList):l

loc_5310E:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_53114:
		braw	Go_Delete_Sprite_2
/*  --------------------------------------------------------------------------- */

Child_Draw_Sprite_FlickerMove:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_5312A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5312A:
		bset	#7,0x2A(%a0)
		movel	#Obj_FlickerMove,(%a0)
		clrb	0x28(%a0)
		bsrw	Set_IndexedVelocity
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Child_Draw_Sprite2_FlickerMove:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_5312A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Child_DrawTouch_Sprite_FlickerMove:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_5312A
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Child_DrawTouch_Sprite2_FlickerMove:
		moveaw	0x46(%a0),%a1
		btst	#4,0x38(%a1)
		bnes	loc_5312A
		btst	#7,0x2A(%a1)
		beqs	loc_5318E
		bset	#7,0x2A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5318E:
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_IncLevEndXGradual:
		movew	(Camera_max_X_pos):w,%d0
		movel	0x30(%a0),%d1
		addil	#0x4000,%d1
		movel	%d1,0x30(%a0)
		swap	%d1
		addw	%d1,%d0
		cmpw	(Target_camera_max_X_pos):w,%d0
		bccs	loc_531BC
		movew	%d0,(Camera_max_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_531BC:
		movew	(Target_camera_max_X_pos):w,(Camera_max_X_pos):w

loc_531C2:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_DecLevStartXGradual:
		movew	(Camera_min_X_pos):w,%d0
		movel	0x30(%a0),%d1
		addil	#0x4000,%d1
		movel	%d1,0x30(%a0)
		swap	%d1
		subw	%d1,%d0
		cmpw	(Target_camera_min_X_pos):w,%d0
		bles	loc_531EA
		movew	%d0,(Camera_min_X_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_531EA:
		movew	(Target_camera_min_X_pos):w,(Camera_min_X_pos):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_DecLevStartYGradual:
		movew	(Camera_min_Y_pos):w,%d0
		movel	0x30(%a0),%d1
		addil	#0x4000,%d1
		movel	%d1,0x30(%a0)
		swap	%d1
		subw	%d1,%d0
		cmpw	(Target_camera_min_Y_pos):w,%d0
		bles	loc_53218
		movew	%d0,(Camera_min_Y_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_53218:
		movew	(Target_camera_min_Y_pos):w,(Camera_min_Y_pos):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_IncLevEndYGradual:
		movew	(Camera_max_Y_pos):w,%d0
		movel	0x30(%a0),%d1
		addil	#0x8000,%d1
		movel	%d1,0x30(%a0)
		swap	%d1
		addw	%d1,%d0
		cmpw	(Target_camera_max_Y_pos):w,%d0
		bgts	loc_53246
		movew	%d0,(Camera_max_Y_pos):w
		rts
/*  --------------------------------------------------------------------------- */

loc_53246:
		movew	(Target_camera_max_Y_pos):w,(Camera_max_Y_pos):w
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
Child6_IncLevX:	.word 0
		.long Obj_IncLevEndXGradual
Child6_DecLevX:	.word 0
		.long Obj_DecLevStartXGradual
Child6_DecLevY:	.word 0
		.long Obj_DecLevStartYGradual
Child6_IncLevY:	.word 0
		.long Obj_IncLevEndYGradual

/*  =============== S U B R O U T I N E ======================================= */


Find_SonicTails:
		moveq	#0,%d0
		moveq	#0,%d1
		lea	(Player_1):w,%a1
		movew	0x10(%a0),%d2
		subw	0x10(%a1),%d2
		bpls	loc_53280
		negw	%d2
		addqw	#2,%d0

loc_53280:
		lea	(Player_2):w,%a2
		movew	0x10(%a0),%d3
		subw	0x10(%a2),%d3
		bpls	loc_53292
		negw	%d3
		addqw	#2,%d1

loc_53292:
		cmpw	%d3,%d2
		blss	loc_5329C
		moveal	%a2,%a1
		movew	%d1,%d0
		movew	%d3,%d2

loc_5329C:
		moveq	#0,%d1
		movew	0x14(%a0),%d3
		subw	0x14(%a1),%d3
		bpls	locret_532AC
		negw	%d3
		addqw	#2,%d1

locret_532AC:
		rts
/*  End of function Find_SonicTails */


/*  =============== S U B R O U T I N E ======================================= */


Change_FlipX:
		bclr	#0,4(%a0)
		tstw	%d0
		beqs	locret_532BE
		bset	#0,4(%a0)

locret_532BE:
		rts
/*  End of function Change_FlipX */


/*  =============== S U B R O U T I N E ======================================= */


Change_FlipXWithVelocity:
		bclr	#0,4(%a0)
		tstw	0x18(%a0)
		bmis	locret_532D2
		bset	#0,4(%a0)

locret_532D2:
		rts
/*  End of function Change_FlipXWithVelocity */


/*  =============== S U B R O U T I N E ======================================= */


Change_FlipXUseParent:
		bclr	#0,4(%a0)
		moveaw	0x46(%a0),%a1
		btst	#0,4(%a1)
		beqs	locret_532EC
		bset	#0,4(%a0)

locret_532EC:
		rts
/*  End of function Change_FlipXUseParent */


/*  =============== S U B R O U T I N E ======================================= */


Find_OtherObject:
		moveq	#0,%d0
		moveq	#0,%d1
		movew	0x10(%a0),%d2
		subw	0x10(%a1),%d2
		bpls	loc_53300
		negw	%d2
		addqw	#2,%d0

loc_53300:
		moveq	#0,%d1
		movew	0x14(%a0),%d3
		subw	0x14(%a1),%d3
		bpls	locret_53310
		negw	%d3
		addqw	#2,%d1

locret_53310:
		rts
/*  End of function Find_OtherObject */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_LightGravity:
		moveq	#0x20,%d1
		movew	0x18(%a0),%d0
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x10(%a0)
		movew	0x1A(%a0),%d0
		addw	%d1,0x1A(%a0)
		extl	%d0
		lsll	#8,%d0
		addl	%d0,0x14(%a0)
		rts
/*  End of function MoveSprite_LightGravity */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_CircularSimple:
		moveb	0x3C(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	%d2,%d0
		asrw	%d2,%d1
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d2
		movew	0x14(%a1),%d3
		addw	%d0,%d2
		addw	%d1,%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		rts
/*  End of function MoveSprite_CircularSimple */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_CircularSimpleOffset:
		moveb	0x3C(%a0),%d0
		jsr	(GetSineCosine):l
		asrw	%d2,%d0
		asrw	%d2,%d1
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d2
		movew	0x14(%a1),%d3
		moveb	0x42(%a0),%d4
		extw	%d4
		addw	%d4,%d2
		moveb	0x43(%a0),%d4
		extw	%d4
		addw	%d4,%d3
		addw	%d0,%d2
		addw	%d1,%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		rts
/*  End of function MoveSprite_CircularSimpleOffset */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_AtAngleLookup:
		moveq	#0,%d0
		moveb	0x3C(%a0),%d0
		movew	%d0,%d1
		andiw	#0x3F,%d0
		lsrw	#5,%d1
		andiw	#6,%d1
		moveaw	0x46(%a0),%a1
		lea	0x40(%a2),%a3
		movew	0x10(%a1),%d2
		movew	0x14(%a1),%d3
		movew	%d0,%d4
		notw	%d4
		movew	AtAngle_LookupIndex(%pc,%d1.w),%d1
		jsr	AtAngle_LookupIndex(%pc,%d1.w)
		addw	%d5,%d2
		addw	%d6,%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		rts
/*  End of function MoveSprite_AtAngleLookup */

/*  --------------------------------------------------------------------------- */
AtAngle_LookupIndex:.word AtAngle_00_3F-AtAngle_LookupIndex
		.word AtAngle_40_7F-AtAngle_LookupIndex
		.word AtAngle_80_BF-AtAngle_LookupIndex
		.word AtAngle_C0_FF-AtAngle_LookupIndex
/*  --------------------------------------------------------------------------- */

AtAngle_00_3F:
		moveq	#0,%d5
		moveb	(%a2,%d0.w),%d5
		moveq	#0,%d6
		moveb	(%a3,%d4.w),%d6
		rts
/*  --------------------------------------------------------------------------- */

AtAngle_40_7F:
		moveq	#0,%d5
		moveb	(%a3,%d4.w),%d5
		moveq	#0,%d6
		moveb	(%a2,%d0.w),%d6
		negw	%d6
		rts
/*  --------------------------------------------------------------------------- */

AtAngle_80_BF:
		moveq	#0,%d5
		moveb	(%a2,%d0.w),%d5
		negw	%d5
		moveq	#0,%d6
		moveb	(%a3,%d4.w),%d6
		negw	%d6
		rts
/*  --------------------------------------------------------------------------- */

AtAngle_C0_FF:
		moveq	#0,%d5
		moveb	(%a3,%d4.w),%d5
		negw	%d5
		moveq	#0,%d6
		moveb	(%a2,%d0.w),%d6
		rts

/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_CircularLookup:
		moveq	#0,%d0
		moveb	0x3C(%a0),%d0
		movew	%d0,%d1
		andiw	#0x3F,%d0
		lsrw	#5,%d1
		andiw	#6,%d1
		moveaw	0x46(%a0),%a1
		lea	0x40(%a2),%a3
		movew	0x10(%a1),%d2
		movew	0x14(%a1),%d3
		moveb	0x42(%a0),%d4
		extw	%d4
		btst	#0,4(%a0)
		beqs	loc_53448
		negw	%d4

loc_53448:
		addw	%d4,%d2
		moveb	0x43(%a0),%d4
		extw	%d4
		addw	%d4,%d3
		movew	%d0,%d4
		notw	%d4
		lea	AtAngle_LookupIndex(%pc),%a4
		movew	(%a4,%d1.w),%d1
		jsr	(%a4,%d1.w)
		btst	#0,4(%a0)
		beqs	loc_5346C
		negw	%d5

loc_5346C:
		addw	%d5,%d2
		addw	%d6,%d3
		movew	%d2,0x10(%a0)
		movew	%d3,0x14(%a0)
		rts
/*  End of function MoveSprite_CircularLookup */


/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_AngleYLookup:
		moveq	#0,%d0
		moveb	0x3C(%a0),%d0
		movew	%d0,%d1
		andiw	#0x3F,%d0
		lsrw	#5,%d1
		andiw	#6,%d1
		moveaw	0x46(%a0),%a1
		lea	0x40(%a2),%a3
		movew	0x14(%a1),%d3
		movew	%d0,%d4
		notw	%d4
		movew	AngleY_LookupIndex(%pc,%d1.w),%d1
		jsr	AngleY_LookupIndex(%pc,%d1.w)
		addw	%d1,%d3
		movew	%d3,0x14(%a0)
		rts
/*  End of function MoveSprite_AngleYLookup */

/*  --------------------------------------------------------------------------- */
AngleY_LookupIndex:.word	loc_534B4-AngleY_LookupIndex
		.word loc_534BC-AngleY_LookupIndex
		.word loc_534C6-AngleY_LookupIndex
		.word loc_534D0-AngleY_LookupIndex
/*  --------------------------------------------------------------------------- */

loc_534B4:
		moveq	#0,%d1
		moveb	(%a3,%d4.w),%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_534BC:
		moveq	#0,%d1
		moveb	(%a2,%d0.w),%d1
		negw	%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_534C6:
		moveq	#0,%d1
		moveb	(%a3,%d4.w),%d1
		negw	%d1
		rts
/*  --------------------------------------------------------------------------- */

loc_534D0:
		moveq	#0,%d1
		moveb	(%a2,%d0.w),%d1
		rts

/*  =============== S U B R O U T I N E ======================================= */


MoveSprite_AngleXLookupOffset:
		moveq	#0,%d0
		moveb	0x3C(%a0),%d0
		moveb	%d0,%d1
		rolb	#3,%d1
		andiw	#6,%d1
		movew	AngleX_LookupIndex(%pc,%d1.w),%d2
		jmp	AngleX_LookupIndex(%pc,%d2.w)
/*  End of function MoveSprite_AngleXLookupOffset */

/*  --------------------------------------------------------------------------- */
AngleX_LookupIndex:.word	loc_534F6-AngleX_LookupIndex
		.word loc_534FE-AngleX_LookupIndex
		.word loc_5350A-AngleX_LookupIndex
		.word loc_5351A-AngleX_LookupIndex
/*  --------------------------------------------------------------------------- */

loc_534F6:
		moveb	(%a1,%d0.w),%d1
		braw	loc_5352A
/*  --------------------------------------------------------------------------- */

loc_534FE:
		moveq	#0x7F,%d1
		subw	%d0,%d1
		moveb	(%a1,%d1.w),%d1
		braw	loc_5352A
/*  --------------------------------------------------------------------------- */

loc_5350A:
		movew	%d0,%d1
		andiw	#0x3F,%d1
		moveb	(%a1,%d1.w),%d1
		negw	%d1
		braw	loc_5352A
/*  --------------------------------------------------------------------------- */

loc_5351A:
		movew	#0xFF,%d1
		subw	%d0,%d1
		moveb	(%a1,%d1.w),%d1
		negw	%d1
		braw	loc_5352A
/*  --------------------------------------------------------------------------- */

loc_5352A:
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d2
		moveb	0x42(%a0),%d3
		extw	%d3
		addw	%d3,%d2
		addw	%d1,%d2
		movew	%d2,0x10(%a0)
		movew	0x14(%a1),%d2
		moveb	0x43(%a0),%d3
		extw	%d3
		addw	%d3,%d2
		movew	%d2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		moveq	#0,%d0
		moveb	0x3C(%a0),%d0
		moveb	%d0,%d1
		rolb	#3,%d1
		andiw	#6,%d1
		movew	off_53568(%pc,%d1.w),%d2
		jmp	off_53568(%pc,%d2.w)
/*  --------------------------------------------------------------------------- */
off_53568:	.word loc_53570-off_53568
		.word loc_53578-off_53568
		.word loc_53584-off_53568
		.word loc_53594-off_53568
/*  --------------------------------------------------------------------------- */

loc_53570:
		moveb	(%a1,%d0.w),%d1
		braw	loc_535A4
/*  --------------------------------------------------------------------------- */

loc_53578:
		moveq	#0x7F,%d1
		subw	%d0,%d1
		movew	(%a1,%d1.w),%d1
		braw	loc_535A4
/*  --------------------------------------------------------------------------- */

loc_53584:
		movew	%d0,%d1
		andiw	#0x3F,%d1
		movew	(%a1,%d1.w),%d1
		negw	%d1
		braw	loc_535A4
/*  --------------------------------------------------------------------------- */

loc_53594:
		movew	#0xFF,%d1
		subw	%d0,%d1
		movew	(%a1,%d1.w),%d1
		negw	%d1
		braw	loc_535A4
/*  --------------------------------------------------------------------------- */

loc_535A4:
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d2
		moveb	0x42(%a0),%d3
		extw	%d3
		addw	%d3,%d2
		movew	%d2,0x10(%a0)
		movew	0x14(%a1),%d2
		moveb	0x43(%a0),%d3
		extw	%d3
		addw	%d3,%d2
		addw	%d1,%d2
		movew	%d2,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		subqw	#1,0x2E(%a0)
		bmiw	Go_Delete_Sprite
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		subqw	#1,0x2E(%a0)
		bmiw	Go_Delete_Sprite
		jsr	(MoveSprite):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

MoveDraw_SpriteTimed:
		subqw	#1,0x2E(%a0)
		bmiw	Go_Delete_Sprite
		jsr	(MoveSprite2):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

MoveDraw_SpriteTimed2:
		subqw	#1,0x2E(%a0)
		bmiw	Go_Delete_Sprite
		jsr	(MoveSprite_LightGravity):l
		braw	Draw_And_Touch_Sprite

/*  =============== S U B R O U T I N E ======================================= */


TimedSprite_ScreenLock:
		subqw	#1,0x2E(%a0)
		bmis	loc_5361C
		rts
/*  --------------------------------------------------------------------------- */

loc_5361C:
		moveb	#1,(Boss_flag):w
		braw	Go_Delete_Sprite_2
/*  End of function TimedSprite_ScreenLock */


/*  =============== S U B R O U T I N E ======================================= */


BossFlash:
		lea	(Normal_palette_line_2+2):w,%a1
		moveq	#0,%d0
		tstw	(%a1)
		bnes	loc_53634
		movew	#0xEEE,%d0

loc_53634:
		movew	%d0,(%a1)
		rts
/*  End of function BossFlash */


/*  =============== S U B R O U T I N E ======================================= */


SetUp_ObjAttributesSlotted:
		moveq	#0,%d0
		movew	(%a1)+,%d1
		movew	%d1,%d2
		movew	(%a1)+,%d3
		movew	(%a1)+,%d4
		moveq	#0,%d5
		movew	(%a1)+,%d5
		lea	(Slotted_object_bits):w,%a2
		addaw	%d5,%a2
		moveb	(%a2),%d5
		beqs	loc_53678

loc_53650:
		lsrb	#1,%d5
		bccs	loc_53678
		addqw	#1,%d0
		addw	%d4,%d3
		dbf	%d1,loc_53650
		moveq	#0,%d0
		movel	%d0,(%a0)
		movel	%d0,0x10(%a0)
		movel	%d0,0x14(%a0)
		moveb	%d0,0x2C(%a0)
		moveb	%d0,4(%a0)
		movew	%d0,0x2A(%a0)
		addqw	#8,%sp
		rts
/*  --------------------------------------------------------------------------- */

loc_53678:
		bset	%d0,(%a2)
		moveb	%d0,0x3B(%a0)
		movew	%a2,0x3C(%a0)
		movew	%d3,0xA(%a0)
		movel	(%a1)+,0xC(%a0)
		movew	(%a1)+,8(%a0)
		moveb	(%a1)+,7(%a0)
		moveb	(%a1)+,6(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,0x28(%a0)
		bset	#2,0x2A(%a0)
		moveb	#-1,0x3A(%a0)
		bset	#2,4(%a0)
		addqb	#2,5(%a0)
		rts
/*  End of function SetUp_ObjAttributesSlotted */


/*  =============== S U B R O U T I N E ======================================= */


Perform_DPLC:
		moveq	#0,%d0
		moveb	0x22(%a0),%d0
		cmpb	0x3A(%a0),%d0
		beqs	locret_53702
		moveb	%d0,0x3A(%a0)
		moveal	(%a2)+,%a3
		movew	0xA(%a0),%d4
		andiw	#0x7FF,%d4
		lslw	#5,%d4
		moveal	(%a2)+,%a2
		addw	%d0,%d0
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d5
		moveq	#0,%d3

loc_536DE:
		movew	(%a2)+,%d3
		movel	%d3,%d1
		andiw	#-0x10,%d1
		addw	%d1,%d1
		addl	%a3,%d1
		movew	%d4,%d2
		andiw	#0xF,%d3
		addqw	#1,%d3
		lslw	#4,%d3
		addw	%d3,%d4
		addw	%d3,%d4
		jsr	(Add_To_DMA_Queue):l
		dbf	%d5,loc_536DE

locret_53702:
		rts
/*  End of function Perform_DPLC */

/*  --------------------------------------------------------------------------- */

Sprite_CheckDelete:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_5371C
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5371C:
		movew	0x48(%a0),%d0
		beqs	loc_53728
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_53728:
		bset	#7,0x2A(%a0)
		movel	#Delete_Current_Sprite,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Sprite_CheckDelete2:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_5374E
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5374E:
		movew	0x48(%a0),%d0
		beqs	loc_5375A
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_5375A:
		bset	#4,0x38(%a0)
		movel	#Delete_Current_Sprite,(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_5371C
		rts
/*  --------------------------------------------------------------------------- */

Sprite_CheckDeleteXY:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite
		movew	0x14(%a0),%d0
		subw	(Camera_Y_pos):w,%d0
		addiw	#0x80,%d0
		cmpiw	#0x200,%d0
		bhiw	Go_Delete_Sprite
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_FlickerMove:
		jsr	(MoveSprite):l
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite
		movew	0x14(%a0),%d0
		subw	(Camera_Y_pos):w,%d0
		addiw	#0x80,%d0
		cmpiw	#0x200,%d0
		bhiw	Go_Delete_Sprite
		btst	#0,(V_int_run_count+3):w
		beqw	locret_529CE
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Sprite_CheckDeleteTouch:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_5371C
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Sprite_CheckDeleteTouch2:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_5374E
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	loc_5371C
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

Sprite_CheckDeleteTouchXY:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite
		movew	0x14(%a0),%d0
		subw	(Camera_Y_pos):w,%d0
		addiw	#0x80,%d0
		cmpiw	#0x200,%d0
		bhiw	Go_Delete_Sprite
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Sprite_CheckDeleteSlotted:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	Go_Delete_SpriteSlotted
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Go_Delete_SpriteSlotted:
		movew	0x48(%a0),%d0
		beqs	Go_Delete_SpriteSlotted2
		moveaw	%d0,%a2
		bclr	#7,(%a2)

Go_Delete_SpriteSlotted2:
		movel	#Delete_Current_Sprite,(%a0)
		bset	#7,0x2A(%a0)

/*  =============== S U B R O U T I N E ======================================= */


Remove_From_TrackingSlot:
		moveb	0x3B(%a0),%d0
		moveaw	0x3C(%a0),%a1
		bclr	%d0,(%a1)
		rts
/*  End of function Remove_From_TrackingSlot */

/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	Go_Delete_SpriteSlotted
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Sprite_CheckDeleteTouchSlotted:
		tstb	0x2A(%a0)
		bmis	Go_Delete_SpriteSlotted3
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	Go_Delete_SpriteSlotted
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

Go_Delete_SpriteSlotted3:
		movel	#Delete_Current_Sprite,(%a0)
		bras	Remove_From_TrackingSlot
/*  --------------------------------------------------------------------------- */
		tstb	0x2A(%a0)
		bmis	Go_Delete_SpriteSlotted3
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_SpriteSlotted
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite_2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite_2
		jsr	(Add_SpriteToCollisionResponseList):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_SpriteSlotted2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_SpriteSlotted2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_539C4:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhiw	Go_Delete_Sprite_2
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


Go_Delete_Sprite:
		movel	#Delete_Current_Sprite,(%a0)
		bset	#7,0x2A(%a0)
		rts
/*  End of function Go_Delete_Sprite */


/*  =============== S U B R O U T I N E ======================================= */


Go_Delete_Sprite_2:
		movel	#Delete_Current_Sprite,(%a0)
		bset	#4,0x38(%a0)
		rts
/*  End of function Go_Delete_Sprite_2 */


/*  =============== S U B R O U T I N E ======================================= */


Set_IndexedVelocity:
		moveq	#0,%d1
		moveb	0x2C(%a0),%d1
		addw	%d1,%d1
		addw	%d1,%d0
		lea	Obj_VelocityIndex(%pc,%d0.w),%a1
		movew	(%a1)+,0x18(%a0)
		movew	(%a1)+,0x1A(%a0)
		btst	#0,4(%a0)
		beqs	locret_53A1C
		negw	0x18(%a0)

locret_53A1C:
		rts
/*  End of function Set_IndexedVelocity */

/*  --------------------------------------------------------------------------- */
Obj_VelocityIndex:.word	0xFF00, 0xFF00
		.word   0x100, 0xFF00
		.word  0xFE00, 0xFE00
		.word   0x200, 0xFE00
		.word  0xFD00, 0xFE00
		.word   0x300, 0xFE00
		.word  0xFE00, 0xFE00
		.word      0, 0xFE00
		.word  0xFC00, 0xFD00
		.word   0x400, 0xFD00
		.word   0x300, 0xFD00
		.word  0xFC00, 0xFD00
		.word   0x400, 0xFD00
		.word  0xFE00, 0xFE00
		.word   0x200, 0xFE00
		.word      0, 0xFF00
		.word  0xFFC0, 0xF900
		.word  0xFF80, 0xF900
		.word  0xFE80, 0xF900
		.word  0xFF00, 0xF900
		.word  0xFE00, 0xF900
		.word  0xFD80, 0xF900
		.word  0xFD00, 0xF900

/*  =============== S U B R O U T I N E ======================================= */


Find_SonicTails8Way:
		bsrw	Find_SonicTails
		cmpw	%d2,%d3
		beqs	loc_53AD0
		bhis	loc_53AAA
		swap	%d3
		clrw	%d3
		divuw	%d2,%d3
		tstw	%d0
		beqs	loc_53A9C
		cmpiw	#-0x8000,%d2
		bcss	loc_53AEC
		tstw	%d0
		beqs	loc_53AE8
		braw	loc_53AF0
/*  --------------------------------------------------------------------------- */

loc_53A9C:
		cmpiw	#-0x8000,%d2
		bcss	loc_53AFC
		tstw	%d1
		bnes	loc_53AF8
		braw	loc_53B00
/*  --------------------------------------------------------------------------- */

loc_53AAA:
		swap	%d2
		clrw	%d2
		divuw	%d3,%d2
		tstw	%d1
		bnes	loc_53AC2
		cmpiw	#-0x8000,%d2
		bcss	loc_53AE4
		tstw	%d0
		bnes	loc_53AE8
		braw	loc_53B00
/*  --------------------------------------------------------------------------- */

loc_53AC2:
		cmpiw	#-0x8000,%d2
		bcss	loc_53AF4
		tstw	%d0
		bnes	loc_53AF0
		braw	loc_53AF8
/*  --------------------------------------------------------------------------- */

loc_53AD0:
		tstw	%d0
		beqs	loc_53ADC
		tstw	%d1
		beqs	loc_53AE8
		braw	loc_53AF0
/*  --------------------------------------------------------------------------- */

loc_53ADC:
		tstw	%d1
		bnes	loc_53AF8
		braw	loc_53B00
/*  --------------------------------------------------------------------------- */

loc_53AE4:
		moveq	#0,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53AE8:
		moveq	#1,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53AEC:
		moveq	#2,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53AF0:
		moveq	#3,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53AF4:
		moveq	#4,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53AF8:
		moveq	#5,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53AFC:
		moveq	#6,%d4
		rts
/*  --------------------------------------------------------------------------- */

loc_53B00:
		moveq	#7,%d4
		rts
/*  End of function Find_SonicTails8Way */


/*  =============== S U B R O U T I N E ======================================= */


Set_VelocityXTrackSonic:
		lea	(Player_1):w,%a1
		bsrw	Find_OtherObject
		bclr	#0,4(%a0)
		tstw	%d0
		beqs	loc_53B1E
		negw	%d4
		bset	#0,4(%a0)

loc_53B1E:
		movew	%d4,0x18(%a0)
		rts
/*  End of function Set_VelocityXTrackSonic */


/*  =============== S U B R O U T I N E ======================================= */


Chase_Object:
		movew	%d0,%d2
		negw	%d2
		movew	%d1,%d3
		movew	0x10(%a0),%d4
		cmpw	0x10(%a1),%d4
		seq	%d5
		beqs	loc_53B4C
		bcss	loc_53B3A
		negw	%d1

loc_53B3A:
		movew	0x18(%a0),%d4
		addw	%d1,%d4
		cmpw	%d2,%d4
		blts	loc_53B4C
		cmpw	%d0,%d4
		bgts	loc_53B4C
		movew	%d4,0x18(%a0)

loc_53B4C:
		movew	0x14(%a0),%d4
		cmpw	0x14(%a1),%d4
		beqs	loc_53B6E
		bcss	loc_53B5A
		negw	%d3

loc_53B5A:
		movew	0x1A(%a0),%d4
		addw	%d3,%d4
		cmpw	%d2,%d4
		blts	locret_53B6C
		cmpw	%d0,%d4
		bgts	locret_53B6C
		movew	%d4,0x1A(%a0)

locret_53B6C:
		rts
/*  --------------------------------------------------------------------------- */

loc_53B6E:
		tstb	%d5
		beqs	locret_53B6C
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		rts
/*  End of function Chase_Object */


/*  =============== S U B R O U T I N E ======================================= */


Chase_ObjectXOnly:
		movew	%d0,%d2
		negw	%d2
		movew	0x10(%a1),%d3
		moveb	0x42(%a0),%d4
		extw	%d4
		addw	%d4,%d3
		cmpw	0x10(%a0),%d3
		bccs	loc_53B94
		negw	%d1

loc_53B94:
		movew	0x18(%a0),%d3
		addw	%d1,%d3
		cmpw	%d2,%d3
		blts	locret_53BA6
		cmpw	%d0,%d3
		bgts	locret_53BA6
		movew	%d3,0x18(%a0)

locret_53BA6:
		rts
/*  End of function Chase_ObjectXOnly */


/*  =============== S U B R O U T I N E ======================================= */


Chase_ObjectYOnly:
		movew	%d0,%d2
		negw	%d2
		movew	0x14(%a1),%d3
		moveb	0x43(%a0),%d4
		extw	%d4
		addw	%d4,%d3
		cmpw	0x14(%a0),%d3
		bccs	loc_53BC0
		negw	%d1

loc_53BC0:
		movew	0x1A(%a0),%d3
		addw	%d1,%d3
		cmpw	%d2,%d3
		blts	locret_53BD2
		cmpw	%d0,%d3
		bgts	locret_53BD2
		movew	%d3,0x1A(%a0)

locret_53BD2:
		rts
/*  End of function Chase_ObjectYOnly */

/*  --------------------------------------------------------------------------- */
		movew	%d0,%d2
		negw	%d2
		movew	%d1,%d3
		movew	0x10(%a1),%d6
		moveb	0x42(%a0),%d4
		extw	%d4
		addw	%d4,%d6
		cmpw	0x10(%a0),%d6
		seq	%d5
		beqs	loc_53C04
		bccs	loc_53BF2
		negw	%d1

loc_53BF2:
		movew	0x18(%a0),%d4
		addw	%d1,%d4
		cmpw	%d2,%d4
		blts	loc_53C04
		cmpw	%d0,%d4
		bgts	loc_53C04
		movew	%d4,0x18(%a0)

loc_53C04:
		movew	0x14(%a1),%d6
		moveb	0x43(%a0),%d4
		extw	%d4
		addw	%d4,%d6
		cmpw	0x14(%a0),%d6
		beqs	loc_53C2E
		bccs	loc_53C1A
		negw	%d3

loc_53C1A:
		movew	0x1A(%a0),%d4
		addw	%d3,%d4
		cmpw	%d2,%d4
		blts	locret_53C2C
		cmpw	%d0,%d4
		bgts	locret_53C2C
		movew	%d4,0x1A(%a0)

locret_53C2C:
		rts
/*  --------------------------------------------------------------------------- */

loc_53C2E:
		tstb	%d5
		beqs	locret_53C2C
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

Obj_FadeSelectedFromBlack:
		movel	#loc_53C4E,(%a0)
		moveb	#7,0x39(%a0)
		moveb	#3,0x2F(%a0)

loc_53C4E:
		subqb	#1,0x2E(%a0)
		bmis	loc_53C56
		rts
/*  --------------------------------------------------------------------------- */

loc_53C56:
		subqb	#1,0x39(%a0)
		bmiw	loc_531C2
		moveb	0x2F(%a0),0x2E(%a0)
		lea	(Normal_palette_line_2):w,%a1
		lea	(Target_palette_line_2):w,%a2
		moveq	#0xE,%d4
		moveq	#-0x20,%d5
		moveq	#0x1F,%d6

loc_53C72:
		bsrw	IncColor_Obj
		dbf	%d6,loc_53C72
		rts

/*  =============== S U B R O U T I N E ======================================= */


IncColor_Obj:
		moveb	(%a1),%d0
		andb	%d4,%d0
		moveb	(%a2)+,%d1
		andb	%d4,%d1
		cmpb	%d1,%d0
		bccs	loc_53C8A
		addqb	#2,%d0

loc_53C8A:
		moveb	%d0,(%a1)+
		moveb	(%a1),%d0
		moveb	%d0,%d1
		andb	%d5,%d0
		moveb	(%a2)+,%d2
		moveb	%d2,%d3
		andb	%d5,%d2
		cmpb	%d2,%d0
		bccs	loc_53CA0
		addib	#0x20,%d0

loc_53CA0:
		andb	%d4,%d1
		andb	%d4,%d3
		cmpb	%d3,%d1
		bccs	loc_53CAA
		addqb	#2,%d1

loc_53CAA:
		orb	%d0,%d1
		moveb	%d1,(%a1)+
		rts
/*  End of function IncColor_Obj */

/*  --------------------------------------------------------------------------- */

MoveFall_AnimateRaw:
		jsr	(MoveSprite):l
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

Move_AnimateRaw:
		jsr	(MoveSprite2):l
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

MoveSlowFall_AnimateRaw:
		jsr	MoveSprite_LightGravity(%pc)
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */
		jsr	Swing_UpAndDown(%pc)

/*  =============== S U B R O U T I N E ======================================= */


Move_AnimateRaw_Wait:
		jsr	(MoveSprite2):l

loc_53CD6:
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  End of function Move_AnimateRaw_Wait */

/*  --------------------------------------------------------------------------- */

Refresh_ChildPosWait:
		jsr	Refresh_ChildPosition(%pc)

Wait_Draw:
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

MoveWaitTouch:
		jsr	(MoveSprite2):l
		jsr	Obj_Wait(%pc)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_53CFA:
		jsr	Refresh_ChildPosition(%pc)

AnimateRaw_DrawTouch:
		jsr	Animate_RawMultiDelay(%pc)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

AnimateRaw_MoveChkDel:
		jsr	Animate_Raw(%pc)

MoveChkDel:
		jsr	(MoveSprite):l
		jmp	Sprite_CheckDeleteXY(%pc)
/*  --------------------------------------------------------------------------- */
		jsr	Animate_Raw(%pc)

MoveTouchChkDel:
		jsr	(MoveSprite):l
		jmp	Sprite_CheckDeleteTouchXY(%pc)
/*  --------------------------------------------------------------------------- */

Move_WaitNoFall:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

Swing_MoveWaitNoFall:
		jsr	Swing_UpAndDown(%pc)
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */
		jsr	Animate_Raw(%pc)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
		jsr	Animate_Raw(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		jsr	(MoveSprite2):l
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

EnemyDefeat_Score:
		bset	#7,0x2A(%a0)
		moveaw	0x44(%a0),%a1
		moveq	#0,%d0
		movew	(Chain_bonus_counter):w,%d0
		addqw	#2,(Chain_bonus_counter):w
		cmpiw	#6,%d0
		bcss	loc_53D88
		moveq	#6,%d0

loc_53D88:
		movew	%d0,0x3E(%a0)
		movew	word_53DE8(%pc,%d0.w),%d0
		cmpiw	#0x20,(Chain_bonus_counter):w
		bcss	loc_53DA2
		movew	#0x3E8,%d0
		movew	#0xA,0x3E(%a0)

loc_53DA2:
		moveaw	%a1,%a3
		jsr	(HUD_AddToScore):l
		movel	#Obj_Explosion,(%a0)
		moveb	#0,5(%a0)
		tstw	0x1A(%a1)
		bmis	loc_53DD0
		movew	0x14(%a1),%d0
		cmpw	0x14(%a0),%d0
		bccs	loc_53DDC
		negw	0x1A(%a1)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_53DD0:
		addiw	#0x100,0x1A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_53DDC:
		subiw	#0x100,0x1A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
word_53DE8:	.word 0xA
		.word 0x14
		.word 0x32
		.word 0x64

/*  =============== S U B R O U T I N E ======================================= */


Check_LRControllerShake:
		subqb	#1,0x3D(%a0)
		bpls	loc_53E02
		moveb	#5,0x3C(%a0)
		moveb	#0x3C,0x3D(%a0)

loc_53E02:
		moveaw	0x3E(%a0),%a2
		movew	(%a2),%d0
		andiw	#0xC,%d0
		beqs	locret_53E26
		movew	0x3A(%a0),%d1
		movew	%d0,0x3A(%a0)
		andiw	#0xC,%d1
		eorw	%d1,%d0
		beqs	locret_53E26
		subqb	#1,0x3C(%a0)
		bmis	locret_53E26
		moveq	#0,%d0

locret_53E26:
		rts
/*  End of function Check_LRControllerShake */


/*  =============== S U B R O U T I N E ======================================= */


Check_PlayerCollision:
		moveb	0x29(%a0),%d0
		beqs	locret_53E50
		clrb	0x29(%a0)
		movew	0x46(%a0),%d1
		beqs	loc_53E40
		moveaw	%d1,%a1
		bset	#0,0x38(%a1)

loc_53E40:
		andiw	#3,%d0
		addw	%d0,%d0
		moveaw	word_53E52-2(%pc,%d0.w),%a1
		movew	%a1,0x44(%a0)
		moveq	#1,%d1

locret_53E50:
		rts
/*  End of function Check_PlayerCollision */

/*  --------------------------------------------------------------------------- */
word_53E52:	.word Player_1
		.word Player_2
		.word Player_1

/*  =============== S U B R O U T I N E ======================================= */


Check_PlayerInRange:
		moveq	#0,%d0
		lea	(Player_2):w,%a2
		movew	0x10(%a2),%d1
		movew	0x14(%a2),%d2
		movew	0x10(%a0),%d3
		movew	0x14(%a0),%d4
		addw	(%a1)+,%d3
		movew	%d3,%d5
		addw	(%a1)+,%d5
		addw	(%a1)+,%d4
		movew	%d4,%d6
		addw	(%a1)+,%d6
		bsrw	sub_53E8C
		swap	%d0
		lea	(Player_1):w,%a2
		movew	0x10(%a2),%d1
		movew	0x14(%a2),%d2
/*  End of function Check_PlayerInRange */


/*  =============== S U B R O U T I N E ======================================= */


sub_53E8C:
		cmpw	%d3,%d1
		bcss	locret_53E9E
		cmpw	%d5,%d1
		bccs	locret_53E9E
		cmpw	%d4,%d2
		bcss	locret_53E9E
		cmpw	%d6,%d2
		bccs	locret_53E9E
		movew	%a2,%d0

locret_53E9E:
		rts
/*  End of function sub_53E8C */


/*  =============== S U B R O U T I N E ======================================= */


PalLoad_Line1:
		lea	(Normal_palette_line_2):w,%a2
		moveq	#7,%d0

loc_53EA6:
		movel	(%a1)+,(%a2)+
		dbf	%d0,loc_53EA6
		rts
/*  End of function PalLoad_Line1 */


/*  =============== S U B R O U T I N E ======================================= */


Displace_PlayerOffObject:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	locret_53EE8
		bclr	#3,0x2A(%a0)
		beqs	loc_53ED0
		lea	(Player_1):w,%a1
		bclr	#3,0x2A(%a1)
		bset	#1,0x2A(%a1)

loc_53ED0:
		bclr	#4,0x2A(%a0)
		beqs	locret_53EE8
		lea	(Player_2):w,%a1
		bclr	#4,0x2A(%a1)
		bset	#1,0x2A(%a1)

locret_53EE8:
		rts
/*  End of function Displace_PlayerOffObject */


/*  =============== S U B R O U T I N E ======================================= */


Run_PalRotationScript:
		lea	(Palette_rotation_data):w,%a1

loc_53EEE:
		movew	(%a1),%d0
		beqs	locret_53F32
		subqb	#1,2(%a1)
		bpls	loc_53F22
		moveal	4(%a1),%a2
		moveaw	(%a2),%a3
		lea	(%a2,%d0.w),%a4
		movew	(%a4),%d1
		bpls	loc_53F0A
		bsrw	sub_53F26

loc_53F0A:
		moveq	#0,%d2
		moveb	2(%a2),%d2

loc_53F10:
		movew	(%a4)+,(%a3)+
		dbf	%d2,loc_53F10
		movew	(%a4)+,%d0
		moveb	%d0,2(%a1)
		movel	%a4,%d0
		subl	%a2,%d0
		movew	%d0,(%a1)

loc_53F22:
		addqw	#8,%a1
		bras	loc_53EEE
/*  End of function Run_PalRotationScript */


/*  =============== S U B R O U T I N E ======================================= */


sub_53F26:
		moveb	3(%a2),%d2
		bnes	loc_53F34
		moveq	#4,%d0
		lea	(%a2,%d0.w),%a4

locret_53F32:
		rts
/*  --------------------------------------------------------------------------- */

loc_53F34:
		negw	%d1
		jmp	locret_53F32(%pc,%d1.w)
/*  End of function sub_53F26 */

/*  --------------------------------------------------------------------------- */
		braw	loc_53F42
/*  --------------------------------------------------------------------------- */
		braw	loc_53F64
/*  --------------------------------------------------------------------------- */

loc_53F42:
		addqb	#1,3(%a1)
		cmpb	3(%a1),%d2
		bhis	loc_53F5C
		movew	2(%a4),%d2
		addaw	%d2,%a2
		movel	%a2,4(%a1)
		moveaw	(%a2),%a3
		clrw	2(%a1)

loc_53F5C:
		moveq	#4,%d0
		lea	(%a2,%d0.w),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_53F64:
		addqb	#1,3(%a1)
		cmpb	3(%a1),%d2
		blss	loc_53F76
		moveq	#4,%d0
		lea	(%a2,%d0.w),%a4
		rts
/*  --------------------------------------------------------------------------- */

loc_53F76:
		moveal	(Palette_rotation_custom):w,%a2
		movel	%a1,-(%sp)
		jsr	(%a2)
		moveal	(%sp)+,%a1
		addqw	#4,%sp
		bras	loc_53F22

/*  =============== S U B R O U T I N E ======================================= */


Child_GetPriority:
		moveaw	0x46(%a0),%a1
		bclr	#7,0xA(%a0)
		btst	#7,0xA(%a1)
		beqs	loc_53F9C
		bset	#7,0xA(%a0)

loc_53F9C:
		movew	8(%a1),8(%a0)
		rts
/*  End of function Child_GetPriority */


/*  =============== S U B R O U T I N E ======================================= */


Child_GetPriorityOnce:
		moveaw	0x46(%a0),%a1
		btst	#7,0xA(%a1)
		beqs	locret_53FB8
		bset	#7,0xA(%a0)
		movel	(%sp),(%a0)

locret_53FB8:
		rts
/*  End of function Child_GetPriorityOnce */


/*  =============== S U B R O U T I N E ======================================= */


CopyWordData_7:
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+

CopyWordData_6:
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
/*  End of function CopyWordData_7 */


/*  =============== S U B R O U T I N E ======================================= */


CopyWordData_4:
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
/*  End of function CopyWordData_4 */


/*  =============== S U B R O U T I N E ======================================= */


CopyWordData_3:
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+

CopyWordData_2:
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		moveaw	(%a1)+,%a3
		movew	(%a2)+,(%a3)+
		rts
/*  End of function CopyWordData_3 */


/*  =============== S U B R O U T I N E ======================================= */


Obj_WaitOffscreen:
		movel	#Map_Offscreen,0xC(%a0)
		bset	#2,4(%a0)
		moveb	#0x20,7(%a0)
		moveb	#0x20,6(%a0)
		movel	(%sp)+,0x34(%a0)
		movel	#loc_53FFC,(%a0)

loc_53FFC:
		tstb	4(%a0)
		bmis	loc_5402C
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_5401A
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5401A:
		movew	0x48(%a0),%d0
		beqs	loc_54026
		moveaw	%d0,%a2
		bclr	#7,(%a2)

loc_54026:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5402C:
		movel	0x34(%a0),(%a0)
		rts
/*  End of function Obj_WaitOffscreen */

/*  --------------------------------------------------------------------------- */
Map_Offscreen:	.word 0
/*  --------------------------------------------------------------------------- */

Obj_Song_Fade_ToLevelMusic:
		movew	#0x78,0x2E(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movel	#loc_54048,(%a0)

loc_54048:
		subqw	#1,0x2E(%a0)
		bplw	locret_529CE
		bsrw	Obj_PlayLevelMusic
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_Song_Fade_Transition:
		movew	#0x78,0x2E(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		movel	#loc_5406E,(%a0)

loc_5406E:
		subqw	#1,0x2E(%a0)
		bplw	locret_529CE
		moveb	0x2C(%a0),%d0
		jsr	(Play_Sound):l
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


Obj_PlayLevelMusic:
		moveq	#0,%d0
		lea	(Apparent_zone_and_act):w,%a1
		moveb	(%a1)+,%d0
		addb	%d0,%d0
		addb	(%a1),%d0
		moveb	PlayLevelMusic_Playlist(%pc,%d0.w),%d0
		movew	%d0,(Level_music):w
		btst	#1,(Player_1+status_secondary):w
		beqs	loc_540A4
		moveq	#mus_Invincibility,%d0

loc_540A4:
		jmp	(Play_Sound):l
/*  End of function Obj_PlayLevelMusic */

/*  --------------------------------------------------------------------------- */
PlayLevelMusic_Playlist:
		.byte mus_AIZ1, mus_AIZ2
		.byte mus_HCZ1, mus_HCZ2
		.byte mus_MGZ1, mus_MGZ2
		.byte mus_CNZ1, mus_CNZ2
		.byte mus_FBZ1, mus_FBZ2
		.byte mus_ICZ1, mus_ICZ2
		.byte mus_LBZ1, mus_LBZ2

/*  =============== S U B R O U T I N E ======================================= */


Restore_PlayerControl:
		lea	(Player_1):w,%a1

Restore_PlayerControl2:
		clrb	0x2E(%a1)
		bclr	#1,0x2A(%a1)
		movew	#0x505,0x20(%a1)
		clrb	0x23(%a1)
		clrb	0x24(%a1)
		rts
/*  End of function Restore_PlayerControl */


/*  =============== S U B R O U T I N E ======================================= */


Obj_EndSignControl:
		movel	#Obj_EndSignControlWait,(%a0)
		st	(_unkFAA8):w
		bclr	#7,4(%a0)
		bset	#4,0x38(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#Obj_EndSignControlDoSign,0x34(%a0)
		moveq	#mus_FadeOut,%d0
		jsr	(Play_Sound):l
		rts
/*  End of function Obj_EndSignControl */

/*  --------------------------------------------------------------------------- */
PLC_EndSignStuff:.word 1
		.long ArtNem_SignpostStub
		.word 0xD3C0
		.long ArtNem_Monitors
		.word tiles_to_bytes(ArtTile_Monitors)
/*  --------------------------------------------------------------------------- */

Obj_EndSignControlWait:
		bclr	#7,4(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

Obj_EndSignControlDoSign:
		movel	#Obj_EndSignControlAwaitStart,(%a0)
		clrb	(Boss_flag):w
		jsr	Obj_PlayLevelMusic(%pc)
		lea	Child6_EndSign(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		lea	PLC_EndSignStuff(%pc),%a1
		jsr	(Load_PLC_Raw):l
		jmp	AfterBoss_Cleanup(%pc)
/*  --------------------------------------------------------------------------- */
Child6_EndSign:	.word 0
		.long Obj_EndSign
/*  --------------------------------------------------------------------------- */

Obj_EndSignControlAwaitStart:
		tstb	(_unkFAA8):w
		bnew	locret_529CE
		movel	#Obj_EndSignControlDoStart,(%a0)
		jsr	Restore_PlayerControl(%pc)
		lea	(Player_2):w,%a1
		jmp	Restore_PlayerControl2(%pc)
/*  --------------------------------------------------------------------------- */

Obj_EndSignControlDoStart:
		tstb	(End_of_level_flag):w
		beqw	locret_529CE
		jsr	Change_Act2Sizes(%pc)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
		jsr	Displace_PlayerOffObject(%pc)
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


Check_CameraInRange:
		movew	(Camera_Y_pos):w,%d0
		cmpw	(%a1)+,%d0
		bcss	loc_54198
		cmpw	(%a1)+,%d0
		bhis	loc_54198
		movew	(Camera_X_pos):w,%d1
		cmpw	(%a1)+,%d1
		bcss	loc_54198
		cmpw	(%a1)+,%d1
		bhis	loc_54198
		movel	(%sp),(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54198:
		jsr	(Delete_Sprite_If_Not_In_Range):l
		addqw	#4,%sp
		rts
/*  End of function Check_CameraInRange */

/*  --------------------------------------------------------------------------- */

loc_541A2:
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		movew	(Camera_target_max_Y_pos):w,%d0
		cmpw	(Camera_max_Y_pos):w,%d0
		bcss	locret_541C6
		movew	%d0,(Camera_min_Y_pos):w
		movew	0x3A(%a0),%d0
		cmpw	(Camera_X_pos):w,%d0
		bhis	locret_541C6
		moveal	0x34(%a0),%a1
		jsr	(%a1)

locret_541C6:
		rts
/*  --------------------------------------------------------------------------- */

loc_541C8:
		btst	#0,0x38(%a0)
		bnes	loc_541E6
		subqw	#1,0x2E(%a0)
		bpls	loc_541E6
		moveb	0x26(%a0),%d0
		jsr	(Play_Sound):l
		bset	#0,0x38(%a0)

loc_541E6:
		btst	#1,0x38(%a0)
		bnes	loc_54202
		movew	(Camera_target_max_Y_pos):w,%d0
		cmpw	(Camera_max_Y_pos):w,%d0
		bnes	loc_54202
		movew	%d0,(Camera_min_Y_pos):w
		bset	#1,0x38(%a0)

loc_54202:
		btst	#2,0x38(%a0)
		bnes	loc_54220
		movew	(Camera_X_pos):w,(Camera_min_X_pos):w
		movew	0x1C(%a0),%d0
		cmpw	(Camera_X_pos):w,%d0
		bhis	loc_54220
		bset	#2,0x38(%a0)

loc_54220:
		moveb	0x38(%a0),%d0
		andib	#7,%d0
		cmpib	#7,%d0
		bnew	locret_529CE
		clrb	0x38(%a0)
		clrw	0x1C(%a0)
		clrb	0x26(%a0)
		moveal	0x34(%a0),%a1
		jmp	(%a1)

/*  =============== S U B R O U T I N E ======================================= */


Change_Act2Sizes:
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		lslw	#4,%d0
		lea	(LevelSizes):l,%a1
		lea	8(%a1,%d0.w),%a1
		movew	(%a1)+,(Target_camera_min_X_pos):w
		movew	(%a1)+,(Target_camera_max_X_pos):w
		movew	(%a1)+,(Target_camera_min_Y_pos):w
		movew	(%a1)+,%d1
		movew	%d1,(Target_camera_max_Y_pos):w
		movew	%d1,(Camera_target_max_Y_pos):w
		cmpib	#0x10,%d0
		beqw	locret_529CE
/*  End of function Change_Act2Sizes */


/*  =============== S U B R O U T I N E ======================================= */


Make_LevelSizeObj:
		lea	Child1_Act2LevelSize(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  End of function Make_LevelSizeObj */

/*  --------------------------------------------------------------------------- */
Child1_Act2LevelSize:.word 2
		.long Obj_IncLevEndXGradual
		.word 0
		.long Obj_DecLevStartYGradual
		.word 0
		.long Obj_IncLevEndYGradual
		.word 0

/*  =============== S U B R O U T I N E ======================================= */


StartNewLevel:
		movew	%d0,(Current_zone_and_act):w
		movew	%d0,(Apparent_zone_and_act):w
		movew	#1,(Restart_level_flag):w
		clrb	(Last_star_post_hit):w
		clrb	(Special_bonus_entry_flag):w
		rts
/*  End of function StartNewLevel */


/*  =============== S U B R O U T I N E ======================================= */


sub_542A6:
		moveb	(V_int_run_count+3):w,%d1
		andib	#0xF,%d1
		bnew	locret_529CE
		jmp	(Play_Sound_2):l
/*  End of function sub_542A6 */

/*  --------------------------------------------------------------------------- */

loc_542B8:
		moveb	#7,0x39(%a0)
		movew	#3,0x2E(%a0)
		movel	#loc_542CA,(%a0)

loc_542CA:
		subqw	#1,0x2E(%a0)
		bplw	locret_529CE
		movew	#3,0x2E(%a0)
		lea	(Normal_palette):w,%a1
		moveq	#0x3F,%d0

loc_542DE:
		bsrw	sub_542F0
		dbf	%d0,loc_542DE
		subqb	#1,0x39(%a0)
		bmiw	Go_Delete_Sprite
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_542F0:
		moveq	#0xE,%d2
		moveb	(%a1),%d3
		andb	%d2,%d3
		cmpb	%d2,%d3
		bccs	loc_542FE
		addqb	#2,%d3
		moveb	%d3,(%a1)

loc_542FE:
		addqw	#1,%a1
		moveb	(%a1),%d3
		moveb	%d3,%d4
		andib	#-0x20,%d3
		andib	#0xE,%d4
		cmpib	#-0x20,%d3
		bccs	loc_54316
		addib	#0x20,%d3

loc_54316:
		cmpb	%d2,%d4
		bccs	loc_5431C
		addqb	#2,%d4

loc_5431C:
		orb	%d3,%d4
		moveb	%d4,(%a1)+
		rts
/*  End of function sub_542F0 */

/*  --------------------------------------------------------------------------- */

loc_54322:
		moveb	#7,0x39(%a0)
		movew	#3,0x2E(%a0)
		movel	#loc_54334,(%a0)

loc_54334:
		subqw	#1,0x2E(%a0)
		bplw	locret_529CE
		movew	#3,0x2E(%a0)
		lea	(Normal_palette):w,%a1
		lea	(Target_palette):w,%a2
		moveq	#0x3F,%d0

loc_5434C:
		bsrw	sub_5435E
		dbf	%d0,loc_5434C
		subqb	#1,0x39(%a0)
		bmiw	Go_Delete_Sprite
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_5435E:
		moveb	(%a2)+,%d2
		andib	#0xE,%d2
		moveb	(%a1),%d3
		cmpb	%d2,%d3
		blss	loc_5436E
		subqb	#2,%d3
		moveb	%d3,(%a1)

loc_5436E:
		addqw	#1,%a1
		moveb	(%a2)+,%d2
		moveb	%d2,%d3
		andib	#-0x20,%d2
		andib	#0xE,%d3
		moveb	(%a1),%d4
		moveb	%d4,%d5
		andib	#-0x20,%d4
		andib	#0xE,%d5
		cmpb	%d2,%d4
		blss	loc_54390
		subib	#0x20,%d4

loc_54390:
		cmpb	%d3,%d5
		blss	loc_54396
		subqb	#2,%d5

loc_54396:
		orb	%d4,%d5
		moveb	%d5,(%a1)+
		rts
/*  End of function sub_5435E */


/*  =============== S U B R O U T I N E ======================================= */


sub_5439C:
		movew	(Player_mode):w,%d0
		cmpiw	#2,%d0
		beqs	loc_543B2
		cmpiw	#7,(Emerald_count):w
		beqs	loc_543B6
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_543B2:
		moveq	#1,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_543B6:
		moveq	#2,%d0
		rts
/*  End of function sub_5439C */


/*  =============== S U B R O U T I N E ======================================= */


BossDefeated_StopTimer:
		clrb	(Update_HUD_timer):w
/*  End of function BossDefeated_StopTimer */


/*  =============== S U B R O U T I N E ======================================= */


BossDefeated:
		movew	#0x3F,0x2E(%a0)
		moveq	#0x64,%d0
		jsr	(HUD_AddToScore):l
		bclr	#7,4(%a0)
		rts
/*  End of function BossDefeated */


/*  =============== S U B R O U T I N E ======================================= */


Player_Load_PLC:
		movel	%a0,-(%sp)
		lea	(Player_1):w,%a0
		moveq	#0,%d0
		moveb	0x38(%a0),%d0
		lslw	#2,%d0
		moveal	off_543EC(%pc,%d0.w),%a1
		jsr	(%a1)
		moveal	(%sp)+,%a0
		rts
/*  End of function Player_Load_PLC */

/*  --------------------------------------------------------------------------- */
off_543EC:	.long Sonic_Load_PLC
		.long Tails_Load_PLC

/*  =============== S U B R O U T I N E ======================================= */


PLCLoad_AnimalsAndExplosion:
		lea	PLC_Explosion(%pc),%a1
		jsr	(Load_PLC_Raw):l
		moveq	#0,%d0
		moveb	(Current_zone):w,%d0
		addw	%d0,%d0
		movew	off_54414(%pc,%d0.w),%d0
		lea	off_54414(%pc,%d0.w),%a1
		jmp	(Load_PLC_Raw):l
/*  End of function PLCLoad_AnimalsAndExplosion */

/*  --------------------------------------------------------------------------- */
off_54414:	.word PLC_54422-off_54414
		.word PLC_54430-off_54414
		.word PLC_5443E-off_54414
		.word PLC_5444C-off_54414
		.word PLC_5445A-off_54414
		.word PLC_54468-off_54414
		.word PLC_54476-off_54414
PLC_54422:	.word 1
		.long ArtNem_BlueFlicky
		.word 0xB000
		.long ArtNem_Chicken
		.word 0xB240
PLC_54430:	.word 1
		.long ArtNem_Rabbit
		.word 0xB000
		.long ArtNem_Seal
		.word 0xB240
PLC_5443E:	.word 1
		.long ArtNem_BlueFlicky
		.word 0xB000
		.long ArtNem_Chicken
		.word 0xB240
PLC_5444C:	.word 1
		.long ArtNem_Rabbit
		.word 0xB000
		.long ArtNem_BlueFlicky
		.word 0xB240
PLC_5445A:	.word 1
		.long ArtNem_Squirrel
		.word 0xB000
		.long ArtNem_BlueFlicky
		.word 0xB240
PLC_54468:	.word 1
		.long ArtNem_Penguin
		.word 0xB000
		.long ArtNem_Seal
		.word 0xB240
PLC_54476:	.word 1
		.long ArtNem_Squirrel
		.word 0xB000
		.long ArtNem_Chicken
		.word 0xB240
/*  --------------------------------------------------------------------------- */

AddRings:
		lea	(Ring_count):w,%a2
		lea	(Update_HUD_ring_count):w,%a3
		lea	(Extra_life_flags):w,%a4
		lea	(Total_ring_count):w,%a5
		movew	#0x3E7,%d1
		addw	%d0,(%a5)
		cmpw	(%a5),%d1
		bccs	loc_544A0
		movew	%d1,(%a5)

loc_544A0:
		addw	%d0,(%a2)
		cmpw	(%a2),%d1
		bccs	loc_544A8
		movew	%d1,(%a2)

loc_544A8:
		orib	#1,(%a3)
		cmpiw	#0x64,(%a2)
		bcss	loc_544C4
		bset	#1,(%a4)
		beqs	loc_544CC
		cmpiw	#0xC8,(%a2)
		bcss	loc_544C4
		bset	#2,(%a4)
		beqs	loc_544CC

loc_544C4:
		moveq	#sfx_RingRight,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

loc_544CC:
		addqw	#1,(Monitors_broken):w
		addqb	#1,(Life_count):w
		addqb	#1,(Update_HUD_life_count):w
		moveq	#mus_ExtraLife,%d0
		jmp	(Play_Sound):l
/*  --------------------------------------------------------------------------- */

Obj_81:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_54504(%pc,%d0.w),%d1
		movew	0x10(%a0),-(%sp)
		jsr	off_54504(%pc,%d1.w)
		moveq	#0x2B,%d1
		moveq	#0x18,%d2
		moveq	#0x18,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		jmp	loc_539C4(%pc)
/*  --------------------------------------------------------------------------- */
off_54504:	.word loc_54514-off_54504
		.word loc_5456A-off_54504
		.word loc_545B4-off_54504
		.word loc_545BC-off_54504
		.word loc_545C0-off_54504
		.word loc_54640-off_54504
		.word loc_54652-off_54504
		.word loc_54660-off_54504
/*  --------------------------------------------------------------------------- */

loc_54514:
		lea	ObjDat3_54A7C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		btst	#1,4(%a0)
		bnes	loc_5452C
		lea	ChildObjDat_54AA6(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5452C:
		moveb	#8,5(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0xA0,%d0
		movew	%d0,0x10(%a0)
		movew	%d0,0x3E(%a0)
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x40,%d0
		movew	%d0,0x14(%a0)
		movew	#1,0x3A(%a0)
		jsr	(Swing_Setup1):l
		lea	ChildObjDat_54AAE(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_54AB6(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5456A:
		btst	#1,0x38(%a0)
		beqs	locret_545B2
		moveb	#4,5(%a0)

/*  =============== S U B R O U T I N E ======================================= */


sub_54578:
		cmpib	#2,(Current_zone):w
		beqs	loc_54584
		st	(Ctrl_2_locked):w

loc_54584:
		moveb	#1,0x22(%a0)
		movew	#0x40,0x2E(%a0)
		lea	ChildObjDat_54AC4(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_54AE4(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		moveb	#8,0x2C(%a1)

locret_545B2:
		rts
/*  End of function sub_54578 */

/*  --------------------------------------------------------------------------- */

loc_545B4:
		moveb	#6,%d0
		braw	sub_5484E
/*  --------------------------------------------------------------------------- */

loc_545BC:
		braw	Check_TailsEndPose
/*  --------------------------------------------------------------------------- */

loc_545C0:
		movew	(Camera_X_pos):w,%d0
		movew	0x3A(%a0),%d1
		bmis	loc_545D8
		addiw	#0x110,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_545E2
		braw	loc_545E4
/*  --------------------------------------------------------------------------- */

loc_545D8:
		addiw	#0x30,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_545E4

loc_545E2:
		negw	%d1

loc_545E4:
		movew	%d1,0x3A(%a0)
		addw	%d1,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0x40,%d0
		cmpib	#2,(Current_zone):w
		bnes	loc_54600
		subiw	#0x20,%d0

loc_54600:
		movel	#0x4000,%d1
		cmpw	0x14(%a0),%d0
		bhis	loc_5460E
		negl	%d1

loc_5460E:
		addl	%d1,0x14(%a0)
		btst	#1,0x38(%a0)
		beqs	loc_54636
		moveb	#0xA,5(%a0)
		cmpib	#2,(Current_zone):w
		bnes	loc_5462E
		moveb	#0xE,5(%a0)

loc_5462E:
		movew	%a1,0x44(%a0)
		bsrw	sub_54578

loc_54636:
		jsr	Swing_UpAndDown(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_54640:
		moveb	#0xC,%d0
		bsrw	sub_5484E
		jsr	Swing_UpAndDown(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_54652:
		bsrw	Check_TailsEndPose
		jsr	Swing_UpAndDown(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_54660:
		moveb	#0xC,%d0
		bsrw	sub_548DA
		jsr	Swing_UpAndDown(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_54672:
		movel	#loc_54680,(%a0)
		lea	word_54A88(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_54680:
		bsrw	sub_5499E
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_546A2
		movel	#loc_546A6,(%a0)
		addqw	#8,0x14(%a0)
		moveaw	0x46(%a0),%a1
		bset	#1,0x38(%a1)

loc_546A2:
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_546A6:
		bsrw	sub_5499E
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_546AE:
		movel	#loc_546C2,(%a0)
		bset	#1,4(%a0)
		lea	word_54A88(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_546C2:
		jsr	Refresh_ChildPosition(%pc)
		moveq	#6,%d2
		bsrw	loc_549A0
		lea	word_54716(%pc),%a1
		jsr	Check_PlayerInRange(%pc)
		tstl	%d0
		beqs	loc_54712
		tstw	%d0
		beqs	loc_546F4
		moveaw	%d0,%a1
		tstw	0x1A(%a1)
		bpls	loc_546F4
		cmpib	#2,0x20(%a1)
		beqs	loc_546FE
		cmpib	#1,0x38(%a1)
		beqs	loc_546FE

loc_546F4:
		swap	%d0
		moveaw	%d0,%a1
		tstw	0x1A(%a1)
		bpls	loc_54712

loc_546FE:
		movel	#loc_5471E,(%a0)
		subqb	#8,0x43(%a0)
		moveaw	0x46(%a0),%a1
		bset	#1,0x38(%a1)

loc_54712:
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */
word_54716:	.word  0xFFE6,   0x34, 0xFFE4,   0x38
/*  --------------------------------------------------------------------------- */

loc_5471E:
		jsr	Refresh_ChildPosition(%pc)
		moveq	#5,%d2
		bsrw	loc_549A0
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5472C:
		lea	ObjDat3_54A8E(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		cmpiw	#0x400,(Current_zone_and_act):w
		bnes	loc_54742
		movew	#0x44E,0xA(%a0)

loc_54742:
		movel	#Obj_FlickerMove,(%a0)
		bsrw	sub_549AE
		moveq	#4,%d0
		jsr	Set_IndexedVelocity(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_54758:
		lea	word_54AA0(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_54766,(%a0)

loc_54766:
		jsr	Refresh_ChildPosition(%pc)
		lea	byte_54B40(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_54776:
		lea	word_54A9A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_54794,(%a0)
		moveb	#8,0x1E(%a0)
		bsrw	sub_549C4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_54794:
		subqw	#1,0x2E(%a0)
		bpls	loc_547A6
		movel	#loc_547AA,(%a0)
		movew	#0x80,8(%a0)

loc_547A6:
		jmp	Sprite_CheckDelete(%pc)
/*  --------------------------------------------------------------------------- */

loc_547AA:
		jsr	MoveSprite_LightGravity(%pc)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_547DE
		addw	%d1,0x14(%a0)
		movew	0x3E(%a0),0x1A(%a0)
		jsr	Find_SonicTails(%pc)
		movew	#-0x200,%d1
		tstb	(_unkFAA8):w
		beqs	loc_547D6
		tstw	%d0
		beqs	loc_547D6
		negw	%d1

loc_547D6:
		movew	%d1,0x18(%a0)
		bsrw	sub_54A68

loc_547DE:
		moveq	#0,%d0
		btst	#3,(V_int_run_count+3):w
		bnes	loc_547EA
		moveq	#1,%d0

loc_547EA:
		moveb	%d0,0x22(%a0)
		jmp	Sprite_CheckDelete(%pc)
/*  --------------------------------------------------------------------------- */

loc_547F2:
		jsr	Refresh_ChildPosition(%pc)
		subqw	#1,0x2E(%a0)
		bpls	loc_54808
		movel	#loc_5480C,(%a0)
		movew	#0x80,8(%a0)

loc_54808:
		jmp	Sprite_CheckDelete(%pc)
/*  --------------------------------------------------------------------------- */

loc_5480C:
		lea	(Player_1):w,%a1
		movew	#0x300,%d0
		movew	#0x100,%d1
		moveq	#0x10,%d2
		movew	#0,%d3
		movew	#-0x30,%d4
		subb	0x2C(%a0),%d4
		bsrw	sub_54946
		jsr	(MoveSprite2):l
		bsrw	sub_54A68
		tstb	(_unkFAA8):w
		bnes	loc_54846
		movel	#loc_54848,(%a0)
		bset	#0,4(%a0)

loc_54846:
		bras	loc_547DE
/*  --------------------------------------------------------------------------- */

loc_54848:
		subqw	#2,0x10(%a0)
		bras	loc_547DE

/*  =============== S U B R O U T I N E ======================================= */


sub_5484E:
		subqw	#1,0x2E(%a0)
		bpls	locret_54886
		lea	(Player_1):w,%a1
		btst	#7,0x2A(%a1)
		bnes	locret_54886
		btst	#1,0x2A(%a1)
		bnes	locret_54886
		cmpib	#6,5(%a1)
		bccs	locret_54886
		moveb	%d0,5(%a0)
		bsrw	Set_PlayerEndingPose
		jsr	(Create_New_Sprite):l
		bnes	locret_54886
		movel	#Obj_LevelResults,(%a1)

locret_54886:
		rts
/*  End of function sub_5484E */


/*  =============== S U B R O U T I N E ======================================= */


Check_TailsEndPose:
		tstb	(_unkFAA8):w
		beqw	locret_545B2
		cmpib	#3,(Current_zone):w
		bnes	loc_548A0
		lea	(Player_1):w,%a1
		bsrw	Set_PlayerEndingPose

loc_548A0:
		btst	#7,0x38(%a0)
		bnew	locret_545B2
		lea	(Player_2):w,%a1
		btst	#7,0x2A(%a1)
		bnew	locret_545B2
		btst	#1,0x2A(%a1)
		bnew	locret_545B2
		cmpib	#6,5(%a1)
		bccw	locret_545B2
		bset	#7,0x38(%a0)
		clrb	(Ctrl_2_locked):w
		jmp	Set_PlayerEndingPose(%pc)
/*  End of function Check_TailsEndPose */


/*  =============== S U B R O U T I N E ======================================= */


sub_548DA:
		subqw	#1,0x2E(%a0)
		bpls	locret_5491A
		lea	(Player_1):w,%a1
		cmpib	#6,5(%a1)
		bccs	locret_5491A
		tstb	4(%a1)
		bpls	locret_5491A
		cmpib	#1,0x38(%a1)
		beqs	loc_54900
		tstb	(Flying_carrying_Sonic_flag):w
		beqs	locret_5491A

loc_54900:
		movew	#-0x100,0x18(%a0)
		moveb	%d0,5(%a0)
		jsr	(Create_New_Sprite):l
		bnes	loc_54918
		movel	#Obj_LevelResults,(%a1)

loc_54918:
		moveq	#1,%d0

locret_5491A:
		rts
/*  End of function sub_548DA */


/*  =============== S U B R O U T I N E ======================================= */


Set_PlayerEndingPose:
		moveb	#-0x7F,0x2E(%a1)
		moveb	#0x13,0x20(%a1)
		clrb	0x3D(%a1)
		clrw	0x18(%a1)
		clrw	0x1A(%a1)
		clrw	0x1C(%a1)
		bclr	#5,0x2A(%a0)
		bclr	#5,0x2A(%a1)
		rts
/*  End of function Set_PlayerEndingPose */


/*  =============== S U B R O U T I N E ======================================= */


sub_54946:
		movew	%d2,%d5
		movew	0x10(%a1),%d6
		addw	%d3,%d6
		cmpw	0x10(%a0),%d6
		bccs	loc_54956
		negw	%d2

loc_54956:
		movew	0x18(%a0),%d6
		addw	%d2,%d6
		cmpw	%d0,%d6
		bgts	loc_5496A
		negw	%d0
		cmpw	%d0,%d6
		blts	loc_5496A
		movew	%d6,0x18(%a0)

loc_5496A:
		movew	0x14(%a1),%d6
		addw	%d4,%d6
		cmpw	0x14(%a0),%d6
		bccs	loc_54978
		negw	%d5

loc_54978:
		movew	0x1A(%a0),%d6
		addw	%d5,%d6
		cmpw	%d1,%d6
		bgts	locret_5498C
		negw	%d1
		cmpw	%d1,%d6
		blts	loc_5496A
		movew	%d6,0x1A(%a0)

locret_5498C:
		rts
/*  End of function sub_54946 */

/*  --------------------------------------------------------------------------- */
		moveq	#0x2B,%d1
		moveq	#0x18,%d2
		moveq	#0x18,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull):l

/*  =============== S U B R O U T I N E ======================================= */


sub_5499E:
		moveq	#8,%d2

loc_549A0:
		moveq	#0x1B,%d1
		moveq	#9,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_5499E */


/*  =============== S U B R O U T I N E ======================================= */


sub_549AE:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		moveb	byte_549BE(%pc,%d0.w),0x22(%a0)
		rts
/*  End of function sub_549AE */

/*  --------------------------------------------------------------------------- */
byte_549BE:	.byte 2
		.byte 3
		.byte 0xA
		.byte 4
		.byte 0xB
		.byte 0

/*  =============== S U B R O U T I N E ======================================= */


sub_549C4:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,%d1
		andiw	#6,%d0
		lea	word_54A58(%pc),%a1
		movew	(%a1,%d0.w),%d2
		movew	%d2,0x1A(%a0)
		movew	%d2,0x3E(%a0)
		moveaw	0x46(%a0),%a1
		btst	#1,4(%a1)
		beqs	loc_549FA
		movel	#loc_547F2,(%a0)
		addqb	#8,0x43(%a0)
		clrw	0x1A(%a0)

loc_549FA:
		andiw	#2,%d0
		movew	%d0,%d2
		cmpiw	#0x400,(Current_zone_and_act):w
		bnes	loc_54A0A
		addqw	#4,%d2

loc_54A0A:
		movew	word_54A60(%pc,%d2.w),0xA(%a0)
		moveq	#0,%d2
		moveb	(Current_zone):w,%d2
		addw	%d2,%d2
		lea	(byte_2BDDA):l,%a1
		addaw	%d2,%a1
		lsrw	#1,%d0
		moveb	(%a1,%d0.w),%d0
		lslw	#3,%d0
		lea	(word_2BDF4):l,%a2
		movel	4(%a2,%d0.w),0xC(%a0)
		lslw	#2,%d1
		movew	%d1,0x2E(%a0)
		moveaw	0x46(%a0),%a1
		movew	0x10(%a0),%d0
		movew	#0x200,%d1
		cmpw	0x10(%a1),%d0
		bccs	loc_54A4E
		negw	%d1

loc_54A4E:
		movew	%d1,0x18(%a0)
		bsrw	sub_54A68
		rts
/*  End of function sub_549C4 */

/*  --------------------------------------------------------------------------- */
word_54A58:	.word  0xFC80, 0xFD00, 0xFD80, 0xFE00
word_54A60:	.word  0x8580, 0x8592, 0x842E, 0x8440

/*  =============== S U B R O U T I N E ======================================= */


sub_54A68:
		bclr	#0,4(%a0)
		tstw	0x18(%a0)
		bpls	locret_54A7A
		bset	#0,4(%a0)

locret_54A7A:
		rts
/*  End of function sub_54A68 */

/*  --------------------------------------------------------------------------- */
ObjDat3_54A7C:	.long Map_EggCapsule
		.word 0x8494
		.word 0x200
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
word_54A88:	.word 0x200
		.byte 0x10
		.byte 8
		.byte 5
		.byte 0
ObjDat3_54A8E:	.long Map_EggCapsule
		.word 0x8494
		.word 0x180
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0
word_54A9A:	.word 0x280
		.byte 8
		.byte 8
		.byte 2
		.byte 0
word_54AA0:	.word 0x200
		.byte 0x14
		.byte 4
		.byte 6
		.byte 0
ChildObjDat_54AA6:.word 0
		.long loc_54672
		.word 0xD8
ChildObjDat_54AAE:.word 0
		.long loc_546AE
		.word 0x28
ChildObjDat_54AB6:.word 1
		.long loc_54758
		.word 0xECDC
		.long loc_54758
		.word 0x14DC
ChildObjDat_54AC4:.word 4
		.long loc_5472C
		.word 0xF8
		.long loc_5472C
		.word 0xF0F8
		.long loc_5472C
		.word 0x10F8
		.long loc_5472C
		.word 0xE8F8
		.long loc_5472C
		.word 0x18F8
ChildObjDat_54AE4:.word 8
		.long loc_54776
		.word 0xFC
		.long loc_54776
		.word 0xF8FC
		.long loc_54776
		.word 0x8FC
		.long loc_54776
		.word 0x10FC
		.long loc_54776
		.word 0xF0FC
		.long loc_54776
		.word 0xE8FC
		.long loc_54776
		.word 0x18FC
		.long loc_54776
		.word 0xFCFC
		.long loc_54776
		.word 0x4FC
		.long loc_54776
		.word 0xCFC
		.long loc_54776
		.word 0xF4FC
		.long loc_54776
		.word 0xECFC
		.long loc_54776
		.word 0x14FC
		.long loc_54776
		.word 0x1CFC
		.long loc_54776
		.word 0xE4FC
byte_54B40:	.byte 0
		.byte 6
		.byte 7
		.byte 8
		.byte 9
		.byte 0xFC
/*  --------------------------------------------------------------------------- */

loc_54B46:
		moveal	0x3E(%a0),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_54B5A,(%a0)
		bset	#3,0x2B(%a0)

loc_54B5A:
		moveal	0x34(%a0),%a1
		jsr	(%a1)
		jmp	(Sprite_CheckDeleteTouchXY):l
/*  --------------------------------------------------------------------------- */

Obj_Tulipon:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_54B80(%pc,%d0.w),%d1
		jsr	off_54B80(%pc,%d1.w)
		jmp	(Sprite_CheckDeleteTouch):l
/*  --------------------------------------------------------------------------- */
off_54B80:	.word loc_54B86-off_54B80
		.word loc_54B9E-off_54B80
		.word loc_54BC2-off_54B80
/*  --------------------------------------------------------------------------- */

loc_54B86:
		lea	ObjDat3_54C0E(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_54BAA,0x34(%a0)

locret_54B9C:
		rts
/*  --------------------------------------------------------------------------- */

loc_54B9E:
		tstb	4(%a0)
		bplw	locret_54B9C
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_54BAA:
		moveb	#4,5(%a0)
		movel	#byte_54C3E,0x30(%a0)
		movel	#loc_54BF8,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54BC2:
		jsr	Animate_RawMultiDelay(%pc)
		beqs	locret_54B9C
		cmpib	#6,%d0
		beqs	loc_54BD4
		cmpib	#0xE,%d0
		bnes	locret_54B9C

loc_54BD4:
		moveq	#sfx_Projectile,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_54C26(%pc),%a2
		jsr	CreateChild2_Complex(%pc)
		bnes	locret_54BF6
		addqb	#1,0x39(%a0)
		btst	#0,0x39(%a0)
		beqs	locret_54BF6
		negw	0x18(%a1)

locret_54BF6:
		rts
/*  --------------------------------------------------------------------------- */

loc_54BF8:
		moveb	#2,5(%a0)
		movew	#0x78,0x2E(%a0)
		movel	#loc_54BAA,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
ObjDat3_54C0E:	.long Map_Tulipon
		.word 0x252A
		.word 0x200
		.byte 0xC
		.byte 0x18
		.byte 0
		.byte 0x23
ObjDat3_54C1A:	.long Map_Tulipon
		.word 0x252A
		.word 0x280
		.byte 8
		.byte 8
		.byte 4
		.byte 0x98
ChildObjDat_54C26:.word 0
		.long loc_54B46
		.long ObjDat3_54C1A
		.long 0
		.long MoveSprite
		.byte 0
		.byte 0xF0
		.word 0x100
		.word 0xFB00
byte_54C3E:	.byte    0,   7
		.byte    1,   9
		.byte    2,   4
		.byte    3,   4
		.byte    0,   9
		.byte    1,   9
		.byte    2,   4
		.byte    3,   4
		.byte    0,   0
		.byte  0xF4,   0
/*  --------------------------------------------------------------------------- */

Obj_RhinoBot:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_54C72(%pc,%d0.w),%d1
		jsr	off_54C72(%pc,%d1.w)
		lea	DPLCPtr_54F2E(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	Sprite_CheckDeleteTouchSlotted(%pc)
/*  --------------------------------------------------------------------------- */
off_54C72:	.word loc_54C7A-off_54C72
		.word loc_54CC0-off_54C72
		.word loc_54CE6-off_54C72
		.word loc_54CEA-off_54C72
/*  --------------------------------------------------------------------------- */

loc_54C7A:
		lea	ObjDat4_54EFA(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		moveb	#8,0x1F(%a0)
		moveb	#0x10,0x1E(%a0)
		movew	#-0x10,%d0
		movew	#-0x300,%d1
		btst	#0,4(%a0)
		beqs	loc_54CAE
		negw	%d0
		negw	%d1
		bset	#3,0x38(%a0)
		bset	#2,0x38(%a0)

loc_54CAE:
		movew	%d0,0x40(%a0)
		movew	%d1,0x3E(%a0)
		movel	#loc_54D3C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54CC0:
		lea	loc_54D8E(%pc),%a3
		bsrw	sub_54EA0
		lea	loc_54D70(%pc),%a3
		bsrw	sub_54EC6
		movew	0x40(%a0),%d0
		addw	%d0,0x18(%a0)
		jsr	(MoveSprite2):l
		bsrw	sub_54DF4
		braw	loc_54E18
/*  --------------------------------------------------------------------------- */

loc_54CE6:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_54CEA:
		lea	loc_54DE4(%pc),%a3
		bsrw	sub_54EC6
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_54CF8:
		cmpiw	#1,(Current_zone_and_act):w
		beqs	loc_54D22
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_54D1E(%pc,%d0.w),%d1
		jsr	off_54D1E(%pc,%d1.w)
		lea	DPLCPtr_54F2E(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	Child_Remember_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_54D1E:	.word loc_54D28-off_54D1E
		.word loc_54D38-off_54D1E
/*  --------------------------------------------------------------------------- */

loc_54D22:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_54D28:
		lea	ObjDat4_54F0C(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		movel	#Go_Delete_SpriteSlotted3,0x34(%a0)

loc_54D38:
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_54D3C:
		bchg	#2,0x38(%a0)
		movel	#loc_54D54,0x34(%a0)
		negw	0x40(%a0)
		negw	0x3E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54D54:
		bchg	#3,0x38(%a0)
		bchg	#0,4(%a0)
		bclr	#1,0x38(%a0)
		movel	#loc_54D3C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54D70:
		bclr	#2,0x38(%a0)
		btst	#3,0x38(%a0)
		bnes	loc_54D84
		bset	#2,0x38(%a0)

loc_54D84:
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		bras	loc_54D54
/*  --------------------------------------------------------------------------- */

loc_54D8E:
		moveb	#4,5(%a0)
		moveb	#0,0x22(%a0)
		movew	#0x20,0x2E(%a0)
		movel	#loc_54DCA,0x34(%a0)
		bset	#1,0x38(%a0)
		moveq	#sfx_Blast,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_54F26(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	locret_54DC8
		movel	#byte_54F46,0x30(%a1)

locret_54DC8:
		rts
/*  --------------------------------------------------------------------------- */

loc_54DCA:
		moveb	#6,5(%a0)
		movew	#0x400,%d0
		btst	#3,0x38(%a0)
		bnes	loc_54DDE
		negw	%d0

loc_54DDE:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54DE4:
		moveb	#2,5(%a0)
		moveb	#0,0x22(%a0)
		braw	loc_54D70

/*  =============== S U B R O U T I N E ======================================= */


sub_54DF4:
		movew	0x18(%a0),%d0
		beqs	loc_54E12
		btst	#2,0x38(%a0)
		beqs	loc_54E0A
		cmpw	0x3E(%a0),%d0
		bges	loc_54E12
		rts
/*  --------------------------------------------------------------------------- */

loc_54E0A:
		cmpw	0x3E(%a0),%d0
		bles	loc_54E12
		rts
/*  --------------------------------------------------------------------------- */

loc_54E12:
		moveal	0x34(%a0),%a1
		jmp	(%a1)
/*  End of function sub_54DF4 */

/*  --------------------------------------------------------------------------- */

loc_54E18:
		moveq	#0,%d1
		btst	#3,0x38(%a0)
		beqs	loc_54E50
		btst	#2,0x38(%a0)
		beqs	loc_54E38
		cmpiw	#0x80,0x18(%a0)
		bgts	loc_54E7A
		moveq	#1,%d1
		braw	loc_54E7A
/*  --------------------------------------------------------------------------- */

loc_54E38:
		moveq	#1,%d1
		cmpiw	#0x280,0x18(%a0)
		bgts	loc_54E7A
		moveq	#2,%d1
		bset	#1,0x38(%a0)
		beqs	loc_54E80
		braw	loc_54E7A
/*  --------------------------------------------------------------------------- */

loc_54E50:
		btst	#2,0x38(%a0)
		bnes	loc_54E66
		cmpiw	#-0x80,0x18(%a0)
		bles	loc_54E7A
		moveq	#1,%d1
		braw	loc_54E7A
/*  --------------------------------------------------------------------------- */

loc_54E66:
		moveq	#1,%d1
		cmpiw	#-0x280,0x18(%a0)
		bles	loc_54E7A
		moveq	#2,%d1
		bset	#1,0x38(%a0)
		beqs	loc_54E80

loc_54E7A:
		moveb	%d1,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54E80:
		moveb	%d1,0x22(%a0)
		moveq	#sfx_Blast,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_54F1E(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	locret_54E9E
		movel	#byte_54F36,0x30(%a1)

locret_54E9E:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_54EA0:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x20,%d3
		bhis	locret_54EBE
		cmpiw	#0x60,%d2
		bhis	locret_54EBE
		btst	#3,0x38(%a0)
		bnes	loc_54EBA
		subqw	#2,%d0

loc_54EBA:
		tstw	%d0
		bnes	loc_54EC0

locret_54EBE:
		rts
/*  --------------------------------------------------------------------------- */

loc_54EC0:
		jsr	(%a3)
		addqw	#4,%sp
		rts
/*  End of function sub_54EA0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_54EC6:
		moveq	#4,%d0
		btst	#3,0x38(%a0)
		bnes	loc_54ED2
		negw	%d0

loc_54ED2:
		movew	0x10(%a0),%d3
		addw	%d0,%d3
		movel	%a3,-(%sp)
		jsr	(ObjCheckFloorDist2):l
		moveal	(%sp)+,%a3
		cmpiw	#-1,%d1
		blts	loc_54EF4
		cmpiw	#0xC,%d1
		bges	loc_54EF4
		addw	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54EF4:
		jsr	(%a3)
		addqw	#4,%sp
		rts
/*  End of function sub_54EC6 */

/*  --------------------------------------------------------------------------- */
ObjDat4_54EFA:	.word 1
		.word 0x2500
		.word 0x15
		.word 0
		.long Map_RhinoBot
		.word 0x280
		.byte 0x14
		.byte 0x10
		.byte 0
		.byte 0xB
ObjDat4_54F0C:	.word 1
		.word 0x44A
		.word 6
		.word 2
		.long Map_RhinoBot
		.word 0x200
		.byte 0xC
		.byte 8
		.byte 4
		.byte 0
ChildObjDat_54F1E:.word 0
		.long loc_54CF8
		.word 0xC08
ChildObjDat_54F26:.word 0
		.long loc_54CF8
		.word 0x1008
DPLCPtr_54F2E:	.long ArtUnc_AIZRhino
		.long DPLC_RhinoBot
byte_54F36:	.byte    2,   4
		.byte    4,   5
		.byte    6,   7
		.byte    4,   5
		.byte    6,   7
		.byte    4,   5
		.byte    6,   7
		.byte  0xF4,   0
byte_54F46:	.byte    2,   4
		.byte    4,   5
		.byte    6,   7
		.byte    4,   5
		.byte    6,   7
		.byte  0xF4,   0
/*  --------------------------------------------------------------------------- */

Obj_MonkeyDude:
		jsr	Obj_WaitOffscreen(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_54F68(%pc,%d0.w),%d1
		jsr	off_54F68(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_54F68:	.word loc_54F6E-off_54F68
		.word loc_54FB8-off_54F68
		.word loc_54FD6-off_54F68
/*  --------------------------------------------------------------------------- */

loc_54F6E:
		lea	ObjDat3_55456(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#2,%d0
		moveb	%d0,0x2C(%a0)
		lsrw	#1,%d0
		moveb	%d0,0x39(%a0)
		movel	#byte_554B0,0x30(%a0)
		movew	#0x3B,0x2E(%a0)
		movel	#loc_54FBE,0x34(%a0)
		btst	#0,4(%a0)
		bnew	loc_54FB0
		lea	ChildObjDat_5547C(%pc),%a2
		jmp	CreateChild4_LinkListRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_54FB0:
		lea	ChildObjDat_55482(%pc),%a2
		jmp	CreateChild4_LinkListRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_54FB8:
		jmp	(loc_53CD6):l
/*  --------------------------------------------------------------------------- */

loc_54FBE:
		moveb	#4,5(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		movel	#byte_554B4,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_54FD6:
		jsr	Animate_RawMultiDelay(%pc)
		tstw	%d2
		beqs	locret_54FFE
		btst	#2,0x38(%a0)
		bnes	loc_55000
		cmpib	#0,0x22(%a0)
		bnes	locret_54FFE
		addqw	#8,0x14(%a0)
		subqb	#1,0x39(%a0)
		cmpib	#1,0x39(%a0)
		beqs	loc_55014

locret_54FFE:
		rts
/*  --------------------------------------------------------------------------- */

loc_55000:
		cmpib	#2,0x22(%a0)
		bnes	locret_54FFE
		subqb	#1,0x39(%a0)
		beqs	loc_55014
		subqw	#8,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55014:
		moveb	#2,5(%a0)
		moveb	0x2C(%a0),0x39(%a0)
		bchg	#2,0x38(%a0)
		movew	#0x3B,0x2E(%a0)
		movel	#byte_554B0,0x30(%a0)
		moveb	#0,0x22(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55044:
		bset	#3,0x38(%a0)

loc_5504A:
		lea	word_55462(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		clrb	5(%a0)
		moveb	0x2C(%a0),%d0
		addb	%d0,%d0
		moveb	%d0,0x3B(%a0)
		moveb	%d0,0x3A(%a0)
		tstb	0x2C(%a0)
		bnes	loc_5508E
		movel	#loc_550C8,(%a0)
		moveq	#0xE,%d0
		btst	#3,0x38(%a0)
		bnes	loc_5507C
		negw	%d0

loc_5507C:
		addw	%d0,0x10(%a0)
		subqw	#2,0x14(%a0)
		movew	0x14(%a0),0x3E(%a0)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_5508E:
		cmpib	#8,0x2C(%a0)
		beqs	loc_550A0
		movel	#loc_55218,(%a0)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_550A0:
		movel	#loc_55248,(%a0)
		moveb	#6,0x22(%a0)
		moveaw	0x46(%a0),%a1
		moveaw	0x46(%a1),%a1
		movew	%a1,0x3E(%a0)
		moveaw	0x46(%a1),%a1
		moveaw	0x46(%a1),%a1
		movew	%a1,0x44(%a0)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_550C8:
		bsrw	sub_552FC
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_550DE(%pc,%d0.w),%d1
		jsr	off_550DE(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_550DE:	.word loc_550EA-off_550DE
		.word loc_55126-off_550DE
		.word loc_5517E-off_550DE
		.word loc_551B0-off_550DE
		.word loc_551E6-off_550DE
		.word loc_5512C-off_550DE
/*  --------------------------------------------------------------------------- */

loc_550EA:
		moveb	0x3C(%a0),%d0
		btst	#3,0x38(%a0)
		beqs	loc_55104
		addqb	#4,%d0
		cmpib	#-0x80,%d0
		bccs	loc_55112
		moveb	%d0,0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55104:
		subqb	#4,%d0
		cmpib	#-0x80,%d0
		blss	loc_55112
		moveb	%d0,0x3C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55112:
		moveb	#2,5(%a0)

loc_55118:
		bsrw	sub_55434
		movel	#loc_5516C,0x34(%a0)

locret_55124:
		rts
/*  --------------------------------------------------------------------------- */

loc_55126:
		bsrw	sub_55320
		beqs	loc_55170

loc_5512C:
		btst	#3,0x38(%a0)
		beqs	loc_5514A
		moveb	0x41(%a0),%d1
		bsrw	sub_5533C
		subib	#0x20,%d0
		cmpib	#0x60,%d0
		bccs	loc_5515C
		braw	loc_55168
/*  --------------------------------------------------------------------------- */

loc_5514A:
		moveb	0x41(%a0),%d1
		bsrw	sub_5533C
		subib	#-0x80,%d0
		cmpib	#0x60,%d0
		bcss	loc_55168

loc_5515C:
		negw	0x40(%a0)
		moveb	0x41(%a0),%d1
		bsrw	sub_5533C

loc_55168:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5516C:
		braw	sub_55434
/*  --------------------------------------------------------------------------- */

loc_55170:
		moveb	#4,5(%a0)
		bset	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5517E:
		btst	#3,0x38(%a0)
		beqs	loc_55194
		moveq	#4,%d1
		bsrw	sub_5533C
		cmpib	#-0x40,%d0
		bccs	loc_551A2
		rts
/*  --------------------------------------------------------------------------- */

loc_55194:
		moveq	#-4,%d1
		bsrw	sub_5533C
		cmpib	#0x40,%d0
		blss	loc_551A2
		rts
/*  --------------------------------------------------------------------------- */

loc_551A2:
		moveb	#6,5(%a0)
		bset	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_551B0:
		btst	#3,0x38(%a0)
		beqs	loc_551C6
		moveq	#-8,%d1
		bsrw	sub_5533C
		moveq	#0x60,%d1
		cmpb	%d1,%d0
		blss	loc_551D4
		rts
/*  --------------------------------------------------------------------------- */

loc_551C6:
		moveq	#8,%d1
		bsrw	sub_5533C
		moveq	#-0x60,%d1
		cmpb	%d1,%d0
		bccs	loc_551D4
		rts
/*  --------------------------------------------------------------------------- */

loc_551D4:
		moveb	#8,5(%a0)
		moveb	%d1,0x3C(%a0)
		bclr	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_551E6:
		btst	#3,0x38(%a0)
		bnes	loc_551FC
		moveq	#-2,%d1
		bsrw	sub_5533C
		moveq	#-0x80,%d1
		cmpb	%d1,%d0
		blss	loc_5520A
		rts
/*  --------------------------------------------------------------------------- */

loc_551FC:
		moveq	#2,%d1
		bsrw	sub_5533C
		moveq	#-0x80,%d1
		cmpb	%d1,%d0
		bccs	loc_5520A
		rts
/*  --------------------------------------------------------------------------- */

loc_5520A:
		moveb	#0xA,5(%a0)
		moveb	%d1,0x3C(%a0)
		braw	loc_55118
/*  --------------------------------------------------------------------------- */

loc_55218:
		bsrw	sub_55314
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5522E(%pc,%d0.w),%d1
		jsr	off_5522E(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5522E:	.word loc_55234-off_5522E
		.word loc_5523E-off_5522E
		.word loc_5523A-off_5522E
/*  --------------------------------------------------------------------------- */

loc_55234:
		moveq	#2,%d1
		bsrw	sub_55366

loc_5523A:
		braw	loc_55348
/*  --------------------------------------------------------------------------- */

loc_5523E:
		moveq	#4,%d1
		bsrw	sub_5538E
		braw	loc_55348
/*  --------------------------------------------------------------------------- */

loc_55248:
		bsrw	sub_55314
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5525E(%pc,%d0.w),%d1
		jsr	off_5525E(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5525E:	.word loc_55264-off_5525E
		.word loc_5526E-off_5525E
		.word loc_5526A-off_5525E
/*  --------------------------------------------------------------------------- */

loc_55264:
		moveq	#2,%d1
		bsrw	sub_55366

loc_5526A:
		braw	loc_55348
/*  --------------------------------------------------------------------------- */

loc_5526E:
		bsrw	sub_553B0
		moveq	#4,%d1
		bsrw	sub_5538E
		braw	loc_55348
/*  --------------------------------------------------------------------------- */

loc_5527C:
		lea	word_55468(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_552B2,(%a0)
		movel	#byte_554B9,0x30(%a0)
		movel	#loc_552C6,0x34(%a0)
		moveb	#8,0x1E(%a0)
		movew	#-0x200,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */

loc_552B2:
		jsr	(MoveSprite_LightGravity):l
		jsr	Animate_RawMultiDelay(%pc)
		jsr	ObjHitFloor_DoRoutine(%pc)
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */

loc_552C6:
		movel	#loc_552CE,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_552CE:
		jmp	(loc_19CC4):l
/*  --------------------------------------------------------------------------- */
		moveaw	0x46(%a0),%a1
		moveb	4(%a1),%d0
		btst	#3,0x38(%a0)
		beqs	loc_552E8
		bchg	#0,%d0

loc_552E8:
		movew	#0x200,8(%a0)
		btst	#0,%d0
		beqs	locret_552FA
		movew	#0x300,8(%a0)

locret_552FA:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_552FC:
		moveaw	0x46(%a0),%a1
		movew	0x14(%a1),%d0
		subqw	#2,%d0
		tstb	0x22(%a1)
		beqs	loc_5530E
		subqw	#2,%d0

loc_5530E:
		movew	%d0,0x14(%a0)
		rts
/*  End of function sub_552FC */


/*  =============== S U B R O U T I N E ======================================= */


sub_55314:
		moveaw	0x46(%a0),%a1
		movew	8(%a1),8(%a0)
		rts
/*  End of function sub_55314 */


/*  =============== S U B R O U T I N E ======================================= */


sub_55320:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x80,%d2
		bccs	loc_55338
		btst	#3,0x38(%a0)
		beqs	loc_55334
		subqw	#2,%d0

loc_55334:
		tstw	%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_55338:
		moveq	#1,%d4
		rts
/*  End of function sub_55320 */


/*  =============== S U B R O U T I N E ======================================= */


sub_5533C:
		moveb	0x3C(%a0),%d0
		addb	%d1,%d0
		moveb	%d0,0x3C(%a0)
		rts
/*  End of function sub_5533C */

/*  --------------------------------------------------------------------------- */

loc_55348:
		subqb	#1,0x3B(%a0)
		bnes	loc_5535E
		moveb	0x3A(%a0),0x3B(%a0)
		moveaw	0x46(%a0),%a1
		moveb	0x3C(%a1),0x3C(%a0)

loc_5535E:
		moveq	#5,%d2
		jsr	MoveSprite_CircularSimple(%pc)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_55366:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	locret_5538C
		moveb	%d1,5(%a0)
		bset	#1,0x38(%a0)
		moveb	0x3A(%a0),%d0
		lsrb	#1,%d0
		moveb	%d0,0x3A(%a0)
		moveb	#1,0x3B(%a0)

locret_5538C:
		rts
/*  End of function sub_55366 */


/*  =============== S U B R O U T I N E ======================================= */


sub_5538E:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	locret_553AE
		moveb	%d1,5(%a0)
		moveb	0x3A(%a0),%d0
		addb	%d0,%d0
		moveb	%d0,0x3A(%a0)
		moveb	#1,0x3B(%a0)

locret_553AE:
		rts
/*  End of function sub_5538E */


/*  =============== S U B R O U T I N E ======================================= */


sub_553B0:
		btst	#3,0x38(%a0)
		beqs	loc_553DC
		btst	#0,0x38(%a0)
		bnew	locret_55124
		moveaw	0x44(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	locret_553DA
		moveaw	0x3E(%a0),%a1
		cmpib	#-0x7C,0x3C(%a1)
		bcss	loc_55406

locret_553DA:
		rts
/*  --------------------------------------------------------------------------- */

loc_553DC:
		btst	#0,0x38(%a0)
		bnew	locret_55124
		moveaw	0x44(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	locret_553DA
		moveaw	0x3E(%a0),%a1
		cmpib	#0x7C,0x3C(%a1)
		bcsw	locret_55124
		movew	#0x2548,0xA(%a0)

loc_55406:
		bset	#0,0x38(%a0)
		moveb	#4,0x22(%a0)
		moveq	#sfx_MissileThrow,%d0
		jsr	(Play_Sound_2):l
		lea	(ChildObjDat_55498):l,%a2
		jsr	CreateChild2_Complex(%pc)
		bnes	locret_553DA
		btst	#3,0x38(%a0)
		beqs	locret_553DA
		negw	0x18(%a1)
		rts
/*  End of function sub_553B0 */


/*  =============== S U B R O U T I N E ======================================= */


sub_55434:
		jsr	(Random_Number):l
		movew	(RNG_seed):w,%d0
		moveq	#1,%d1
		btst	#0,%d0
		beqs	loc_55448
		negw	%d1

loc_55448:
		movew	%d1,0x40(%a0)
		andiw	#0x3C,%d0
		movew	%d0,0x2E(%a0)
		rts
/*  End of function sub_55434 */

/*  --------------------------------------------------------------------------- */
ObjDat3_55456:	.long Map_MonkeyDude
		.word 0x2548
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0xB
word_55462:	.word 0x300
		.byte 4
		.byte 4
		.byte 3
		.byte 0
word_55468:	.word 0xA548
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 6
		.byte 0xB
ObjDat3_55470:	.long Map_MonkeyDude
		.word 0x548
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 6
		.byte 0x98
ChildObjDat_5547C:.word 4
		.long loc_5504A
ChildObjDat_55482:.word 4
		.long loc_55044
		.word 0
		.long loc_5504A
		.word 8
		.word 0
		.long loc_5527C
		.word 0
ChildObjDat_55498:.word 0
		.long loc_54B46
		.long ObjDat3_55470
		.word 0
		.word 0
		.long MoveSprite_LightGravity
		.word 0
		.word 0xFE00
		.word 0xFC00
byte_554B0:	.byte    7,   0
		.byte    1, 0xFC
byte_554B4:	.byte    0,   7
		.byte    2,   7
		.byte  0xFC
byte_554B9:	.byte    8,  0xF
		.byte    8,  0xF
		.byte    9,  0xF
		.byte   0xA,  0xF
		.byte  0xF8,  0xA
		.byte    6, 0x7E
		.byte  0xFC
/*  --------------------------------------------------------------------------- */

Obj_CaterKillerJr:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_554DE(%pc,%d0.w),%d1
		jsr	off_554DE(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_554DE:	.word loc_554E8-off_554DE
		.word loc_55524-off_554DE
		.word loc_55524-off_554DE
		.word loc_55554-off_554DE
		.word loc_55576-off_554DE
/*  --------------------------------------------------------------------------- */

loc_554E8:
		lea	ObjDat3_5565E(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movew	#-0x100,0x18(%a0)
		lea	ChildObjDat_55694(%pc),%a2
		jsr	CreateChild3_NormalRepeated(%pc)

loc_554FE:
		moveb	#4,5(%a0)
		moveb	#3,0x39(%a0)
		movew	#0x80,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#8,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55524:
		jsr	Swing_UpAndDown_Count(%pc)
		bnes	loc_55534
		jsr	(MoveSprite2):l
		braw	loc_5563A
/*  --------------------------------------------------------------------------- */

loc_55534:
		moveb	#6,5(%a0)
		movew	#0x100,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#8,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55554:
		jsr	Swing_UpAndDown(%pc)
		tstw	%d3
		beqs	loc_5556C
		moveb	#8,5(%a0)
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_5556C:
		jsr	(MoveSprite2):l
		braw	loc_5563A
/*  --------------------------------------------------------------------------- */

loc_55576:
		jsr	Swing_UpAndDown(%pc)
		tstw	%d3
		bnes	loc_554FE
		jsr	(MoveSprite2):l
		braw	loc_5563A
/*  --------------------------------------------------------------------------- */

loc_55588:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5559E(%pc,%d0.w),%d1
		jsr	off_5559E(%pc,%d1.w)
		moveq	#0,%d0
		jmp	(Child_DrawTouch_Sprite_FlickerMove):l
/*  --------------------------------------------------------------------------- */
off_5559E:	.word loc_555A8-off_5559E
		.word loc_555D4-off_5559E
		.word loc_55524-off_5559E
		.word loc_55554-off_5559E
		.word loc_55576-off_5559E
/*  --------------------------------------------------------------------------- */

loc_555A8:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	off_555C2(%pc,%d0.w),%d1
		lea	off_555C2(%pc,%d1.w),%a1
		lsrw	#1,%d0
		moveb	byte_555CE(%pc,%d0.w),0x2F(%a0)
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */
off_555C2:	.word ObjDat3_5566A-off_555C2
		.word ObjDat3_5566A-off_555C2
		.word ObjDat3_5566A-off_555C2
		.word ObjDat3_55676-off_555C2
		.word ObjDat3_55682-off_555C2
		.word ObjDat3_55682-off_555C2
byte_555CE:	.byte 0xB
		.byte 0x17
		.byte 0x23
		.byte 0x2F
		.byte 0x37
		.byte 0x3F
/*  --------------------------------------------------------------------------- */

loc_555D4:
		subqw	#1,0x2E(%a0)
		bmis	loc_555DC
		rts
/*  --------------------------------------------------------------------------- */

loc_555DC:
		moveb	#4,5(%a0)
		moveq	#0x40,%d1
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addqw	#2,%d0
		lslw	#2,%d0
		subw	%d0,%d1
		movew	%d1,0x2E(%a0)
		movel	#loc_55650,0x34(%a0)
		movew	#-0x100,0x18(%a0)
		braw	loc_554FE
/*  --------------------------------------------------------------------------- */

loc_55606:
		lea	word_5568E(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_55628,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		bset	#4,0x2B(%a0)
		jmp	(Child_Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_55628:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		lea	byte_556A4(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		jmp	(Child_Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5563A:
		cmpil	#loc_55588,(%a0)
		bnes	locret_5564E
		cmpib	#6,0x2C(%a0)
		bccs	locret_5564E
		jsr	Obj_Wait(%pc)

locret_5564E:
		rts
/*  --------------------------------------------------------------------------- */

loc_55650:
		movew	#0x1A,0x2E(%a0)
		lea	ChildObjDat_5569C(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */
ObjDat3_5565E:	.long Map_CaterKillerJr
		.word 0xA55F
		.word 0x280
		.byte 8
		.byte 8
		.byte 0
		.byte 0x17
ObjDat3_5566A:	.long Map_CaterKillerJr
		.word 0xA55F
		.word 0x280
		.byte 8
		.byte 0xC
		.byte 1
		.byte 0x97
ObjDat3_55676:	.long Map_CaterKillerJr
		.word 0xA55F
		.word 0x280
		.byte 8
		.byte 8
		.byte 2
		.byte 0x97
ObjDat3_55682:	.long Map_MonkeyDude
		.word 0xA548
		.word 0x280
		.byte 4
		.byte 4
		.byte 3
		.byte 0x98
word_5568E:	.word 0x200
		.byte 0x10
		.byte 0x10
		.byte 3
		.byte 0
ChildObjDat_55694:.word 5
		.long loc_55588
		.word 0
ChildObjDat_5569C:.word 0
		.long loc_55606
		.word 0
byte_556A4:	.byte    3,   2
		.byte    3,   2
		.byte    4,   3
		.byte    5,   4
		.byte  0xF4,   0
/*  --------------------------------------------------------------------------- */

Obj_Jawz:
		jsr	(Obj_WaitOffscreen):l
		lea	ObjDat3_55716(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_556CA,(%a0)
		movew	#-0x200,%d4
		jmp	Set_VelocityXTrackSonic(%pc)
/*  --------------------------------------------------------------------------- */

loc_556CA:
		jsr	(MoveSprite2):l
		lea	byte_55722(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		moveq	#0,%d0
		moveb	0x29(%a0),%d0
		bnes	loc_556E4
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_556E4:
		addw	%d0,%d0
		moveaw	word_55710-2(%pc,%d0.w),%a1
		cmpib	#2,0x20(%a1)
		beqs	loc_55708
		cmpib	#9,0x20(%a1)
		beqs	loc_55708
		lea	(ChildObjDat_49BF4):l,%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_55708:
		movew	%a1,0x44(%a0)
		jmp	EnemyDefeat_Score(%pc)
/*  --------------------------------------------------------------------------- */
word_55710:	.word Player_1
		.word Player_2
		.word Player_1
ObjDat3_55716:	.long Map_Jawz
		.word 0xA539
		.word 0x280
		.byte 0x1C
		.byte 0xC
		.byte 0
		.byte 0xD7
byte_55722:	.byte 0
		.byte 0
		.byte 1
		.byte 0xFC
/*  --------------------------------------------------------------------------- */

Obj_Blastoid:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_55742(%pc,%d0.w),%d1
		jsr	off_55742(%pc,%d1.w)
		bsrw	sub_557A6
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_55742:	.word loc_55748-off_55742
		.word loc_55750-off_55742
		.word loc_55774-off_55742
/*  --------------------------------------------------------------------------- */

loc_55748:
		lea	ObjDat3_557C6(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_55750:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x80,%d2
		bcss	loc_5575C
		rts
/*  --------------------------------------------------------------------------- */

loc_5575C:
		moveb	#4,5(%a0)
		movel	#byte_557F6,0x30(%a0)
		movel	#loc_5579E,0x34(%a0)

locret_55772:
		rts
/*  --------------------------------------------------------------------------- */

loc_55774:
		jsr	Animate_RawMultiDelay(%pc)
		tstw	%d2
		beqs	locret_55772
		bmis	locret_55772
		cmpib	#1,0x22(%a0)
		bnes	locret_55772
		tstb	4(%a0)
		bplw	locret_55772
		moveq	#sfx_Projectile,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_557DE(%pc),%a2
		jmp	CreateChild5_ComplexAdjusted(%pc)
/*  --------------------------------------------------------------------------- */

loc_5579E:
		moveb	#2,5(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_557A6:
		jsr	Check_PlayerCollision(%pc)
		beqw	locret_55772
		moveb	0x2C(%a0),%d0
		andiw	#0xF,%d0
		lea	(Level_trigger_array):w,%a3
		st	(%a3,%d0.w)
		jmp	EnemyDefeat_Score(%pc)
/*  End of function sub_557A6 */

/*  --------------------------------------------------------------------------- */
		.word Player_1
		.word Player_2
ObjDat3_557C6:	.long Map_Blastoid
		.word 0xA539
		.word 0x280
		.byte 0x14
		.byte 0xC
		.byte 0
		.byte 0xD7
ObjDat3_557D2:	.long Map_Blastoid
		.word 0xA539
		.word 0x280
		.byte 4
		.byte 4
		.byte 2
		.byte 0x98
ChildObjDat_557DE:.word 0
		.long loc_54B46
		.long ObjDat3_557D2
		.long word_55805
		.long Move_AnimateRaw
		.byte 0xEC
		.byte 0xF9
		.word 0xFE00
		.word 0xFF00
byte_557F6:	.byte    0, 0x7F
		.byte    1,   4
		.byte    0,   9
		.byte    1,   4
		.byte    0,   9
		.byte    1,   4
		.byte    0, 0x3F
		.byte  0xF4
word_55805:	.word 2
		.word 0x3FC
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_Buggernaut:
		jsr	(Obj_WaitOffscreen):l

loc_55810:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_55822(%pc,%d0.w),%d1
		jsr	off_55822(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_55822:	.word loc_55828-off_55822
		.word loc_5585A-off_55822
		.word loc_55878-off_55822
/*  --------------------------------------------------------------------------- */

loc_55828:
		lea	ObjDat3_55986(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#byte_559A0,0x30(%a0)
		lea	ChildObjDat_55998(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		addqb	#1,0x39(%a0)

loc_55844:
		moveb	#2,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_55862,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5585A:
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_55862:
		moveb	#4,5(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_55844,0x34(%a0)

locret_55876:
		rts
/*  --------------------------------------------------------------------------- */

loc_55878:
		tstb	4(%a0)
		bpls	locret_55876
		jsr	Find_SonicTails(%pc)
		jsr	Change_FlipX(%pc)
		movew	#0x200,%d0
		moveq	#0x10,%d1
		jsr	Chase_Object(%pc)
		bsrw	sub_5596E
		jsr	(MoveSprite2):l
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

Obj_Buggernaught_Baby:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_558B4(%pc,%d0.w),%d1
		jsr	off_558B4(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouchXY(%pc)
/*  --------------------------------------------------------------------------- */
off_558B4:	.word loc_558BA-off_558B4
		.word loc_558CC-off_558B4
		.word loc_55932-off_558B4
/*  --------------------------------------------------------------------------- */

loc_558BA:
		lea	word_55992(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#byte_559A5,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_558CC:
		jsr	Animate_Raw(%pc)
		moveaw	0x46(%a0),%a1
		cmpil	#loc_55810,(%a1)
		beqs	loc_558E2
		bsrw	sub_5593C
		beqs	loc_5590A

loc_558E2:
		bclr	#0,4(%a0)
		btst	#0,4(%a1)
		beqs	loc_558F6
		bset	#0,4(%a0)

loc_558F6:
		movew	#0x200,%d0
		moveq	#0x20,%d1
		jsr	Chase_Object(%pc)
		bsrw	sub_5596E
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_5590A:
		moveb	#4,5(%a0)
		movew	0x10(%a0),%d0
		movew	#0x200,%d1
		bset	#0,4(%a0)
		cmpw	(Player_1+x_pos):w,%d0
		bccs	loc_5592C
		negw	%d1
		bclr	#0,4(%a0)

loc_5592C:
		movew	%d1,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55932:
		jsr	Animate_Raw(%pc)
		jmp	(MoveSprite2):l

/*  =============== S U B R O U T I N E ======================================= */


sub_5593C:
		lea	(Dynamic_object_RAM+object_size):w,%a2
		movew	#((Breathing_bubbles)-(Dynamic_object_RAM+object_size))/object_size-1,%d0

loc_55944:
		cmpil	#loc_55810,(%a2)
		beqs	loc_55958

loc_5594C:
		lea	0x4A(%a2),%a2
		dbf	%d0,loc_55944
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_55958:
		moveb	0x39(%a2),%d1
		addqb	#1,%d1
		cmpib	#4,%d1
		bhis	loc_5594C
		moveb	%d1,0x39(%a2)
		movew	%a2,0x46(%a0)
		rts
/*  End of function sub_5593C */


/*  =============== S U B R O U T I N E ======================================= */


sub_5596E:
		movew	0x14(%a0),%d0
		movew	(Water_level):w,%d1
		subiw	#8,%d1
		cmpw	%d1,%d0
		bcss	locret_55984
		movew	#-0x200,0x1A(%a0)

locret_55984:
		rts
/*  End of function sub_5596E */

/*  --------------------------------------------------------------------------- */
ObjDat3_55986:	.long Map_Buggernaut
		.word 0xA44C
		.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 0
		.byte 0x17
word_55992:	.word 0x280
		.byte 0xC
		.byte 0xC
		.byte 3
		.byte 0
ChildObjDat_55998:.word 0
		.long Obj_Buggernaught_Baby
		.word 0x2000
byte_559A0:	.byte    0,   0
		.byte    1,   2
		.byte  0xFC
byte_559A5:	.byte    0,   3
		.byte    4,   5
		.byte  0xFC
/*  --------------------------------------------------------------------------- */

Obj_TurboSpiker:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_559C2(%pc,%d0.w),%d1
		jsr	off_559C2(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_559C2:	.word loc_559D2-off_559C2
		.word loc_55A2E-off_559C2
		.word loc_55A94-off_559C2
		.word loc_55AB4-off_559C2
		.word loc_55AD2-off_559C2
		.word loc_55AE0-off_559C2
		.word loc_55B06-off_559C2
		.word loc_55B22-off_559C2
/*  --------------------------------------------------------------------------- */

loc_559D2:
		lea	ObjDat3_55C9A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		bclr	#1,4(%a0)
		beqs	loc_559F0
		moveb	#0xA,5(%a0)
		lea	ChildObjDat_55D04(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_559F0:
		moveb	#0x10,0x1F(%a0)
		moveb	#0xF,0x1E(%a0)
		movel	#byte_55D0C,0x30(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		movew	%d0,0x2E(%a0)
		addw	%d0,%d0
		movew	%d0,0x3C(%a0)
		movel	#loc_55A58,0x34(%a0)
		movew	#-0x80,%d4
		jsr	Set_VelocityXTrackSonic(%pc)
		lea	ChildObjDat_55CCC(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_55A2E:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x60,%d2
		bccs	loc_55A46
		btst	#0,4(%a0)
		beqs	loc_55A42
		subqw	#2,%d0

loc_55A42:
		tstw	%d0
		beqs	loc_55A74

loc_55A46:
		jsr	Animate_Raw(%pc)
		jsr	(MoveSprite2):l
		jsr	Obj_Wait(%pc)
		jmp	ObjHitFloor2_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_55A58:
		moveb	5(%a0),%d0
		cmpib	#4,%d0
		beqs	locret_55A72
		moveb	%d0,0x3A(%a0)
		moveb	#4,5(%a0)
		movew	#0xF,0x2E(%a0)

locret_55A72:
		rts
/*  --------------------------------------------------------------------------- */

loc_55A74:
		moveb	#6,5(%a0)
		movew	#0xF,0x2E(%a0)
		movew	#0x200,%d0
		bchg	#0,4(%a0)
		beqs	loc_55A8E
		negw	%d0

loc_55A8E:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55A94:
		subqw	#1,0x2E(%a0)
		bmis	loc_55A9C
		rts
/*  --------------------------------------------------------------------------- */

loc_55A9C:
		moveb	0x3A(%a0),5(%a0)
		negw	0x18(%a0)
		bchg	#0,4(%a0)
		movew	0x3C(%a0),0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55AB4:
		subqw	#1,0x2E(%a0)
		bmis	loc_55ABC
		rts
/*  --------------------------------------------------------------------------- */

loc_55ABC:
		moveb	#8,5(%a0)
		bset	#1,0x38(%a0)
		movel	#byte_55D11,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55AD2:
		jsr	Animate_Raw(%pc)
		jsr	(MoveSprite2):l
		jmp	ObjHitFloor2_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_55AE0:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x60,%d2
		bcss	loc_55AEC
		rts
/*  --------------------------------------------------------------------------- */

loc_55AEC:
		moveb	#0xC,5(%a0)
		bset	#0,0x38(%a0)
		movew	#3,0x2E(%a0)
		lea	ChildObjDat_55CE4(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_55B06:
		subqw	#1,0x2E(%a0)
		bmis	loc_55B0E
		rts
/*  --------------------------------------------------------------------------- */

loc_55B0E:
		moveb	#0xE,5(%a0)
		movew	#0x180,8(%a0)
		movew	#0xF,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55B22:
		subqw	#1,0x2E(%a0)
		bmis	loc_55B2A
		rts
/*  --------------------------------------------------------------------------- */

loc_55B2A:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55B32:
		lea	word_55CA6(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_55B44,(%a0)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_55B44:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_55B58
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_55B58:
		movel	#loc_55B8A,(%a0)
		movew	#0x100,%d0
		btst	#0,4(%a0)
		beqs	loc_55B6C
		negw	%d0

loc_55B6C:
		movew	%d0,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		moveq	#sfx_FloorLauncher,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_55CD4(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	Sprite_CheckDeleteTouchXY(%pc)
/*  --------------------------------------------------------------------------- */

loc_55B8A:
		jsr	(MoveSprite2):l
		jmp	Sprite_CheckDeleteTouchXY(%pc)
/*  --------------------------------------------------------------------------- */

loc_55B94:
		lea	word_55CAC(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_55BA6,(%a0)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_55BA6:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_55BCA
		bsrw	sub_55BCE
		bchg	#0,0x38(%a0)
		beqw	locret_55A72
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_55BCA:
		jmp	Go_Delete_Sprite(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_55BCE:
		moveb	(V_int_run_count+3):w,%d0
		andib	#3,%d0
		bnes	locret_55BFE
		lea	ChildObjDat_55CDC(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	locret_55BFE
		jsr	(Random_Number):l
		andiw	#7,%d0
		subqw	#3,%d0
		addw	%d0,0x10(%a1)
		swap	%d0
		andiw	#7,%d0
		subqw	#3,%d0
		addw	%d0,0x14(%a1)

locret_55BFE:
		rts
/*  End of function sub_55BCE */

/*  --------------------------------------------------------------------------- */

loc_55C00:
		lea	word_55CB2(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_55C24,(%a0)
		movel	#byte_55D16,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_55C24:
		jsr	Animate_Raw(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_55C2E:
		lea	word_55CB8(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_55C4C,(%a0)
		moveb	0x2C(%a0),0x2F(%a0)
		moveq	#sfx_Splash,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_55C4C:
		subqw	#1,0x2E(%a0)
		bmis	loc_55C54
		rts
/*  --------------------------------------------------------------------------- */

loc_55C54:
		movel	#loc_55C6C,(%a0)
		movel	#byte_55D1D,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55C6C:
		jsr	Animate_Raw(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_55C76:
		movel	#loc_55C84,(%a0)
		lea	ObjDat3_55CC0(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_55C84:
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		bnes	loc_55C94
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_55C94:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
ObjDat3_55C9A:	.long Map_TurboSpiker
		.word 0x2500
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0x1A
word_55CA6:	.word 0x280
		.byte 8
		.byte 0x10
		.byte 3
		.byte 0x9E
word_55CAC:	.word 0x200
		.byte 4
		.byte 8
		.byte 4
		.byte 0
word_55CB2:	.word 0x280
		.byte 4
		.byte 4
		.byte 5
		.byte 0
word_55CB8:	.word 0x8500
		.word 0x200
		.byte 8
		.byte 8
		.byte 8
		.byte 0
ObjDat3_55CC0:	.long Map_TurboSpikerHidden
		.word 0xC001
		.word 0x180
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0
ChildObjDat_55CCC:.word 0
		.long loc_55B32
		.word 0x400
ChildObjDat_55CD4:.word 0
		.long loc_55B94
		.word 0xFC14
ChildObjDat_55CDC:.word 0
		.long loc_55C00
		.word 4
ChildObjDat_55CE4:.word 4
		.long loc_55C2E
		.word 0x4F8
		.long loc_55C2E
		.word 0xFA00
		.long loc_55C2E
		.word 0x600
		.long loc_55C2E
		.word 0xF800
		.long loc_55C2E
		.word 0x800
ChildObjDat_55D04:.word 0
		.long loc_55C76
		.word 0
byte_55D0C:	.byte    5,   0
		.byte    1,   2
		.byte  0xFC
byte_55D11:	.byte    1,   0
		.byte    1,   2
		.byte  0xFC
byte_55D16:	.byte    0,   5
		.byte    5,   5
		.byte    6,   7
		.byte  0xF4
byte_55D1D:	.byte    1,   8
		.byte    9,  0xA
		.byte   0xB,  0xC
		.byte   0xD, 0xF4
		.byte    0
Map_TurboSpikerHidden:
		.include "General/Sprites/Turbo Spiker/Map - Turbo Spiker Hidden.S"
/*  --------------------------------------------------------------------------- */

Obj_MegaChomper:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_55D5E(%pc,%d0.w),%d1
		jsr	off_55D5E(%pc,%d1.w)
		btst	#7,0x2A(%a0)
		bnew	EnemyDefeat_Score
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_55D5E:	.word loc_55D66-off_55D5E
		.word loc_55D8A-off_55D5E
		.word loc_55E02-off_55D5E
		.word loc_55E40-off_55D5E
/*  --------------------------------------------------------------------------- */

loc_55D66:
		lea	ObjDat3_56058(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#byte_56064,0x30(%a0)
		clrw	0x42(%a0)
		bclr	#1,4(%a0)
		beqs	locret_55D88
		bset	#7,0xA(%a0)

locret_55D88:
		rts
/*  --------------------------------------------------------------------------- */

loc_55D8A:
		bsrw	sub_55F18
		jsr	Animate_Raw(%pc)
		jsr	Find_SonicTails(%pc)
		moveb	(V_int_run_count+3):w,%d4
		andib	#7,%d4
		bnes	loc_55DAC
		moveq	#1,%d4
		tstw	%d1
		bnes	loc_55DA8
		negw	%d4

loc_55DA8:
		addw	%d4,0x14(%a0)

loc_55DAC:
		movew	0x14(%a0),%d4
		movew	(Water_level):w,%d5
		addqw	#8,%d5
		cmpw	%d5,%d4
		bhis	loc_55DC2
		btst	#6,0x2A(%a1)
		beqs	loc_55DDA

loc_55DC2:
		movew	#0x200,%d0
		movew	#8,%d1
		jsr	(Chase_ObjectXOnly):l
		jsr	Change_FlipXWithVelocity(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_55DDA:
		moveb	#4,5(%a0)
		movew	#0x200,%d4
		bset	#0,4(%a0)
		tstw	%d0
		bnes	loc_55DF6
		negw	%d4
		bclr	#0,4(%a0)

loc_55DF6:
		movew	%d4,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55E02:
		bsrw	sub_55F18
		jsr	Animate_Raw(%pc)
		tstw	0x1A(%a0)
		bmis	loc_55E30
		movew	0x14(%a0),%d0
		cmpw	(Water_level):w,%d0
		bcss	loc_55E30
		movew	0x1A(%a0),%d0
		addiw	#-0x20,%d0
		movew	%d0,0x1A(%a0)
		beqs	loc_55E34
		bmis	loc_55E34
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_55E30:
		jmp	MoveSprite_LightGravity(%pc)
/*  --------------------------------------------------------------------------- */

loc_55E34:
		moveb	#2,5(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_55E40:
		moveb	#0,0x22(%a0)
		btst	#2,(V_int_run_count+3):w
		beqs	loc_55E54
		moveb	#2,0x22(%a0)

loc_55E54:
		moveaw	0x44(%a0),%a1
		cmpib	#4,5(%a1)
		beqw	loc_55EE6
		cmpib	#2,0x20(%a1)
		beqs	loc_55EE6
		cmpib	#9,0x20(%a1)
		beqs	loc_55EE6
		jsr	Check_LRControllerShake(%pc)
		bnes	loc_55EE6
		btst	#2,0x38(%a0)
		beqs	loc_55E8C
		movew	(Ctrl_1):w,%d0
		andiw	#-0x7374,%d0
		movew	%d0,(Ctrl_1_logical):w

loc_55E8C:
		movew	0x10(%a1),%d0
		moveb	0x42(%a0),%d1
		extw	%d1
		moveb	0x38(%a0),%d2
		andib	#1,%d2
		moveb	4(%a1),%d3
		andib	#1,%d3
		eorb	%d2,%d3
		beqs	loc_55EBA
		bchg	#0,4(%a0)
		bchg	#0,0x38(%a0)
		negb	0x42(%a0)

loc_55EBA:
		addw	%d1,%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a1),%d0
		moveb	0x43(%a0),%d1
		extw	%d1
		bpls	loc_55ED8
		cmpib	#8,0x20(%a1)
		bnes	loc_55ED8
		addiw	#0x10,%d1

loc_55ED8:
		addw	%d1,%d0
		movew	%d0,0x14(%a0)
		bsrw	sub_55FEA
		beqw	locret_55D88

loc_55EE6:
		bclr	#2,0x38(%a0)
		beqs	loc_55EF2
		clrb	(Ctrl_1_locked):w

loc_55EF2:
		movel	#MoveChkDel,(%a0)
		moveb	#2,0x22(%a0)
		movew	#0x200,%d0
		btst	#0,4(%a0)
		beqs	loc_55F0C
		negw	%d0

loc_55F0C:
		movew	%d0,0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_55F18:
		moveb	0x29(%a0),%d0
		beqw	locret_55D88
		clrb	0x29(%a0)
		andiw	#3,%d0
		movew	%d0,%d2
		lslw	#2,%d0
		lea	word_55FD6-4(%pc),%a2
		lea	(%a2,%d0.w),%a2
		moveaw	(%a2)+,%a1
		movew	%a1,0x44(%a0)
		btst	#1,0x2B(%a1)
		bnew	loc_55FE2
		movew	0x14(%a0),%d1
		subw	0x14(%a1),%d1
		cmpiw	#-0x10,%d1
		bltw	locret_55D88
		cmpiw	#0x10,%d1
		bgew	locret_55D88
		movew	%a1,0x44(%a0)
		cmpib	#2,0x20(%a1)
		beqs	loc_55FE2
		cmpiw	#1,%d2
		bnes	loc_55F7C
		clrw	(Ctrl_1_logical):w
		st	(Ctrl_1_locked):w
		bset	#2,0x38(%a0)

loc_55F7C:
		moveaw	(%a2)+,%a3
		movew	%a3,0x3E(%a0)
		movew	(%a3),0x46(%a0)
		moveb	#6,5(%a0)
		movew	#0,8(%a0)
		movew	#0x3C,0x2E(%a0)
		movew	0x10(%a0),%d0
		subw	0x10(%a1),%d0
		moveb	%d0,0x42(%a0)
		bclr	#0,4(%a0)
		tstw	%d0
		bpls	loc_55FB4
		bset	#0,4(%a0)

loc_55FB4:
		movew	0x14(%a0),%d0
		subw	0x14(%a1),%d0
		moveb	%d0,0x43(%a0)
		bclr	#0,0x38(%a0)
		btst	#0,4(%a1)
		beqs	locret_55FD4
		bset	#0,0x38(%a0)

locret_55FD4:
		rts
/*  --------------------------------------------------------------------------- */
word_55FD6:	.word  Player_1, Ctrl_1
		.word  Player_2, Ctrl_2
		.word  Player_1, Ctrl_1
/*  --------------------------------------------------------------------------- */

loc_55FE2:
		bset	#7,0x2A(%a0)
		rts
/*  End of function sub_55F18 */


/*  =============== S U B R O U T I N E ======================================= */


sub_55FEA:
		subqw	#1,0x2E(%a0)
		bpls	loc_56032
		movew	#0x3B,0x2E(%a0)
		orib	#1,(Update_HUD_ring_count):w
		bset	#7,0x38(%a0)
		movew	(Ring_count):w,%d0
		subqw	#1,%d0
		bmis	loc_56044
		beqs	loc_5601C
		cmpiw	#0xA,(Ring_count):w
		beqs	loc_5601C
		cmpiw	#0x64,(Ring_count):w
		bnes	loc_56022

loc_5601C:
		orib	#-0x80,(Update_HUD_ring_count):w

loc_56022:
		movew	%d0,(Ring_count):w
		moveq	#sfx_RingRight,%d0
		jsr	(Play_Sound_2):l

loc_5602E:
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_56032:
		bclr	#7,0x38(%a0)
		beqs	loc_5602E
		andib	#-2,(Update_HUD_ring_count):w
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

loc_56044:
		moveal	%a0,%a2
		moveaw	0x44(%a0),%a1
		moveal	%a1,%a0
		jsr	(Kill_Character):l
		moveal	%a2,%a0
		moveq	#1,%d0
		rts
/*  End of function sub_55FEA */

/*  --------------------------------------------------------------------------- */
ObjDat3_56058:	.long Map_MegaChomper
		.word 0x254D
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0xD7
byte_56064:	.byte 2
		.byte 0
		.byte 1
		.byte 0xFC
/*  --------------------------------------------------------------------------- */

Obj_Poindexter:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56080(%pc,%d0.w),%d1
		jsr	off_56080(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_56080:	.word loc_56084-off_56080
		.word loc_560D2-off_56080
/*  --------------------------------------------------------------------------- */

loc_56084:
		lea	ObjDat3_5610C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#byte_56118,0x30(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		addw	%d0,%d0
		movew	%d0,0x2E(%a0)
		addw	%d0,%d0
		movew	%d0,0x3A(%a0)
		movel	#loc_560FA,0x34(%a0)
		movew	#-0x40,%d4
		jsr	Set_VelocityXTrackSonic(%pc)
		movew	#0x20,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#1,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_560D2:
		jsr	Swing_UpAndDown(%pc)
		jsr	(MoveSprite2):l
		jsr	Animate_RawMultiDelay(%pc)
		jsr	Obj_Wait(%pc)
		moveb	#0xA,0x28(%a0)
		cmpib	#2,0x22(%a0)
		bnes	locret_560F8
		moveb	#-0x7A,0x28(%a0)

locret_560F8:
		rts
/*  --------------------------------------------------------------------------- */

loc_560FA:
		negw	0x18(%a0)
		bchg	#0,4(%a0)
		movew	0x3A(%a0),0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */
ObjDat3_5610C:	.long Map_Poindexter
		.word 0xA559
		.word 0x280
		.byte 0x14
		.byte 0x14
		.byte 0
		.byte 0
byte_56118:	.byte    0, 0x7F
		.byte    1,   4
		.byte    2, 0x3F
		.byte    1,   4
		.byte  0xFC,   0
/*  --------------------------------------------------------------------------- */

Obj_BubblesBadnik:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56156(%pc,%d0.w),%d1
		jsr	off_56156(%pc,%d1.w)
		moveb	#0x12,0x28(%a0)
		cmpib	#4,0x22(%a0)
		bnes	loc_5614A
		moveb	#-0x7A,0x28(%a0)

loc_5614A:
		lea	PLCPtr_56222(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	Sprite_CheckDeleteTouchSlotted(%pc)
/*  --------------------------------------------------------------------------- */
off_56156:	.word loc_5615C-off_56156
		.word loc_56198-off_56156
		.word loc_561D2-off_56156
/*  --------------------------------------------------------------------------- */

loc_5615C:
		lea	ObjDat4_56210(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		movew	#-0x80,0x18(%a0)
		btst	#0,4(%a0)
		beqs	loc_56176
		negw	0x18(%a0)

loc_56176:
		movel	#byte_56239,0x30(%a0)
		movew	#0x100,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#2,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56198:
		jsr	Animate_RawMultiDelay(%pc)
		movew	0x1A(%a0),%d4
		jsr	Swing_UpAndDown(%pc)
		tstw	0x1A(%a0)
		bnes	loc_561CC
		tstw	%d4
		bmis	loc_561CC
		moveb	#4,5(%a0)
		movel	#byte_5622A,0x30(%a0)
		movel	#loc_56200,0x34(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)

loc_561CC:
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_561D2:
		jsr	Animate_RawMultiDelay(%pc)
		beqs	loc_561E8
		cmpib	#4,0x23(%a0)
		bnes	loc_561E8
		moveq	#sfx_ChainTick,%d0
		jsr	(Play_Sound_2):l

loc_561E8:
		jsr	Swing_UpAndDown(%pc)
		tstw	%d3
		beqs	loc_561FA
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_561FA:
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_56200:
		moveb	#2,5(%a0)
		movel	#byte_56239,0x30(%a0)
		rts
/*  --------------------------------------------------------------------------- */
ObjDat4_56210:	.word 1
		.word 0xA500
		.word 0x18
		.word 0
		.long Map_BubblesBadnik
		.word 0x280
		.byte 0x14
		.byte 0x18
		.byte 0
		.byte 0
PLCPtr_56222:	.long ArtUnc_BubblesBadnik
		.long DPLC_BubblesBadnik
byte_5622A:	.byte    0,  0xF
		.byte    0, 0x77
		.byte    1,   3
		.byte    2,   3
		.byte    2,   3
		.byte    1,   3
		.byte    0, 0x77
		.byte  0xF4
byte_56239:	.byte    0, 0x7F
		.byte    3,   3
		.byte    4, 0x6B
		.byte    4, 0x6B
		.byte    3,   3
		.byte    0, 0x7F
		.byte  0xFC
/*  --------------------------------------------------------------------------- */

Obj_MGZMiniBoss:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56262(%pc,%d0.w),%d1
		jsr	off_56262(%pc,%d1.w)
		bsrw	sub_5682E
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_56262:	.word loc_5626C-off_56262
		.word loc_5628E-off_56262
		.word loc_562BE-off_56262
		.word loc_562E6-off_56262
		.word loc_5631A-off_56262
/*  --------------------------------------------------------------------------- */

loc_5626C:
		lea	ObjDat3_568B4(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#-2,0x29(%a0)
		moveb	#0x28,0x1E(%a0)
		jsr	(Swing_Setup1):l
		lea	ChildObjDat_568EA(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5628E:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x60,%d2
		bccw	locret_562BC
		moveb	#4,5(%a0)
		movel	#byte_56931,0x30(%a0)
		movel	#loc_562CE,0x34(%a0)

locret_562BC:
		rts
/*  --------------------------------------------------------------------------- */

loc_562BE:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	Animate_RawGetFaster(%pc)
/*  --------------------------------------------------------------------------- */

loc_562CE:
		moveb	#6,5(%a0)
		movel	#byte_56937,0x30(%a0)
		movel	#loc_56300,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_562E6:
		jsr	Animate_Raw(%pc)
		subqw	#1,0x14(%a0)
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bpls	locret_562FE
		moveal	0x34(%a0),%a1
		jsr	(%a1)

locret_562FE:
		rts
/*  --------------------------------------------------------------------------- */

loc_56300:
		moveb	#8,5(%a0)
		st	(Screen_shake_flag):w
		movew	#0xBF,0x2E(%a0)
		movel	#loc_56346,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5631A:
		jsr	Animate_Raw(%pc)
		moveq	#-2,%d0
		moveb	(V_int_run_count+3):w,%d1
		btst	#0,%d1
		beqs	loc_5632C
		moveq	#1,%d0

loc_5632C:
		addw	%d0,0x14(%a0)
		andib	#7,%d1
		bnes	loc_56342
		moveq	#sfx_Rumble2,%d0
		jsr	(Play_Sound_2):l
		bsrw	sub_567FE

loc_56342:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_56346:
		clrw	(Screen_shake_flag):w
		st	(Level_trigger_array+8):w
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */

Obj_9F_1:
		lea	word_56388(%pc),%a1
		jsr	(Check_CameraInRange):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56374(%pc,%d0.w),%d1
		jsr	off_56374(%pc,%d1.w)
		bsrw	sub_5682E
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_56374:	.word loc_56390-off_56374
		.word loc_563F0-off_56374
		.word loc_562BE-off_56374
		.word loc_562E6-off_56374
		.word loc_5631A-off_56374
		.word loc_56466-off_56374
		.word loc_564D4-off_56374
		.word loc_56530-off_56374
		.word loc_56552-off_56374
		.word loc_56578-off_56374
word_56388:	.word   0xD20,  0xEC0, 0x2B80, 0x3080
/*  --------------------------------------------------------------------------- */

loc_56390:
		lea	ObjDat3_568B4(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#6,0x29(%a0)
		moveb	#0x28,0x1E(%a0)
		movew	#0x2E00,(Camera_max_X_pos):w
		movew	#0xE10,(Camera_target_max_Y_pos):w
		movew	#0x2E00,0x3A(%a0)
		movel	#loc_56402,0x34(%a0)
		jsr	(Swing_Setup1):l
		bset	#1,0x38(%a0)
		lea	PLC_56946(%pc),%a1
		jsr	(Load_PLC_Raw):l
		jsr	(Create_New_Sprite):l
		bnes	loc_563E8
		movel	#Obj_Song_Fade_Transition,(%a1)
		moveb	#mus_Miniboss,0x2C(%a1)

loc_563E8:
		lea	ChildObjDat_568EA(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_563F0:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	(loc_541A2):l
/*  --------------------------------------------------------------------------- */

loc_56402:
		moveb	#4,5(%a0)
		movel	#byte_56931,0x30(%a0)
		movel	#loc_5641A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5641A:
		moveb	#6,5(%a0)
		movel	#byte_56937,0x30(%a0)
		movel	#loc_56432,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56432:
		moveb	#8,5(%a0)
		st	(Screen_shake_flag):w
		movew	#0x7F,0x2E(%a0)
		movel	#loc_5644C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5644C:
		moveb	#0xA,5(%a0)
		clrw	(Screen_shake_flag):w
		movew	#0x3F,0x2E(%a0)
		movel	#loc_5646A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56466:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5646A:
		moveb	#0xC,5(%a0)
		bset	#1,4(%a0)
		st	(Screen_shake_flag):w
		movew	#0x7F,0x2E(%a0)
		movel	#loc_56500,0x34(%a0)
		movew	(Camera_X_pos):w,0x10(%a0)
		jsr	(Random_Number):l
		andiw	#0xE,%d0
		movew	word_564C4(%pc,%d0.w),%d1
		addw	%d1,0x10(%a0)
		subiw	#0x40,0x14(%a0)
		tstb	(_unkFA80+1):w
		beqs	locret_564C2
		movew	%d0,%d3
		lea	ChildObjDat_56920(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		cmpiw	#8,%d3
		bccs	locret_564C2
		bset	#0,4(%a1)

locret_564C2:
		rts
/*  --------------------------------------------------------------------------- */
word_564C4:	.word 0x30
		.word 0x48
		.word 0x60
		.word 0x78
		.word 0xC8
		.word 0xE0
		.word 0xF8
		.word 0x110
/*  --------------------------------------------------------------------------- */

loc_564D4:
		jsr	Animate_Raw(%pc)
		moveq	#2,%d0
		moveb	(V_int_run_count+3):w,%d1
		btst	#0,%d1
		beqs	loc_564E6
		moveq	#-1,%d0

loc_564E6:
		addw	%d0,0x14(%a0)
		andib	#7,%d1
		bnes	loc_564FC
		moveq	#sfx_Rumble2,%d0
		jsr	(Play_Sound_2):l
		bsrw	sub_567FE

loc_564FC:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_56500:
		moveb	#0xE,5(%a0)
		clrw	(Screen_shake_flag):w
		tstb	(_unkFA80+1):w
		bnes	loc_56520
		movew	#0x2F,0x2E(%a0)
		movel	#loc_5653C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56520:
		movew	#0x17,0x2E(%a0)
		movel	#loc_5655E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56530:
		addqw	#4,0x14(%a0)
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5653C:
		moveb	#0x10,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_5655E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56552:
		jsr	Animate_Raw(%pc)
		subqw	#1,0x14(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5655E:
		moveb	#0x12,5(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_5658C,0x34(%a0)
		jmp	(Swing_Setup1):l
/*  --------------------------------------------------------------------------- */

loc_56578:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5658C:
		bclr	#1,4(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_565A2,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_565A2:
		moveb	#6,5(%a0)
		movel	#loc_56432,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_565B2:
		jsr	(Obj_EndSignControl):l
		lea	ChildObjDat_56900(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_565C2:
		movel	#loc_565D0,(%a0)
		moveb	#-0x62,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_565D0:
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_565E6
		jsr	Refresh_ChildPositionAdjusted(%pc)
		jmp	(Add_SpriteToCollisionResponseList):l
/*  --------------------------------------------------------------------------- */

loc_565E6:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_565EC:
		lea	ObjDat3_568C0(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		bset	#3,0x2B(%a0)
		jsr	(Random_Number):l
		andib	#3,%d0
		moveb	%d0,0x22(%a0)
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_56620
		tstb	%d0
		bnes	loc_56620
		lea	ObjDat3_568CC(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)

loc_56620:
		movel	#MoveDraw_SpriteTimed2,(%a0)
		movew	#0x5F,0x2E(%a0)
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_56630:
		lea	ObjDat3_568DE(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_56672,(%a0)
		movew	(Camera_X_pos):w,%d0
		addiw	#0x30,%d0
		btst	#0,4(%a0)
		beqs	loc_56652
		addiw	#0xE0,%d0

loc_56652:
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		addiw	#0xF0,%d0
		movew	%d0,0x14(%a0)
		movew	%d0,0x3A(%a0)
		clrb	5(%a0)
		movew	#0xF,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56672:
		btst	#4,0x38(%a0)
		bnew	loc_5670E
		movew	0x10(%a0),-(%sp)
		bsrw	sub_56742
		moveq	#0,%d1
		moveb	7(%a0),%d1
		addiw	#0xB,%d1
		moveq	#0,%d2
		moveb	6(%a0),%d2
		movew	%d2,%d3
		addqw	#1,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		swap	%d6
		andiw	#3,%d6
		beqs	loc_566F2
		moveb	%d6,%d0
		andib	#1,%d0
		beqs	loc_566CE
		bclr	#5,0x2A(%a0)
		lea	(Player_1):w,%a1
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addiw	#0x28,%d0
		bmis	loc_566CE
		jsr	(sub_228EC):l

loc_566CE:
		andib	#2,%d6
		beqs	loc_566F2
		bclr	#6,0x2A(%a0)
		lea	(Player_2):w,%a1
		movew	0x14(%a1),%d0
		subw	0x14(%a0),%d0
		addiw	#0x28,%d0
		bmis	loc_566F2
		jsr	(sub_228EC):l

loc_566F2:
		subqb	#1,0x24(%a0)
		bpls	loc_56708
		moveb	#7,0x24(%a0)
		addqb	#1,0x22(%a0)
		andib	#3,0x22(%a0)

loc_56708:
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5670E:
		jsr	Displace_PlayerOffObject(%pc)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_56718:
		lea	word_568D8(%pc),%a1
		jsr	(SetUp_ObjAttributes3):l
		movel	#Obj_FlickerMove,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		moveb	RawAni_5673C(%pc,%d0.w),0x22(%a0)
		moveq	#4,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */
RawAni_5673C:	.byte    4,   3,   5,   6,   6,   0

/*  =============== S U B R O U T I N E ======================================= */


sub_56742:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56750(%pc,%d0.w),%d1
		jmp	off_56750(%pc,%d1.w)
/*  End of function sub_56742 */

/*  --------------------------------------------------------------------------- */
off_56750:	.word loc_5675A-off_56750
		.word loc_56774-off_56750
		.word loc_567B4-off_56750
		.word loc_567D4-off_56750
		.word loc_567E4-off_56750
/*  --------------------------------------------------------------------------- */

loc_5675A:
		subqw	#4,0x14(%a0)
		subqw	#1,0x2E(%a0)
		bplw	locret_562BC
		moveb	#2,5(%a0)
		movew	#0x3F,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56774:
		subqw	#1,0x2E(%a0)
		bplw	locret_562BC
		moveb	#4,5(%a0)
		movew	#0x100,%d0
		btst	#0,4(%a0)
		beqs	loc_56790
		negw	%d0

loc_56790:
		addw	%d0,0x18(%a0)
		movew	#0xDF,0x2E(%a0)
		movew	#0x100,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#0x10,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_567B4:
		jsr	Swing_UpAndDown(%pc)
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bplw	locret_562BC
		moveb	#6,5(%a0)
		movew	#0x3F,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_567D4:
		subqw	#1,0x2E(%a0)
		bplw	locret_562BC
		moveb	#8,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_567E4:
		movew	0x14(%a0),%d0
		addqw	#2,%d0
		movew	%d0,0x14(%a0)
		cmpw	0x3A(%a0),%d0
		bcsw	locret_562BC
		bset	#4,0x38(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_567FE:
		lea	ChildObjDat_568F8(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		bnes	locret_5682C
		jsr	(Random_Number):l
		andiw	#0x1FF,%d0
		movew	(Camera_X_pos):w,%d1
		subiw	#0x40,%d1
		addw	%d0,%d1
		movew	%d1,0x10(%a1)
		movew	(Camera_Y_pos):w,%d0
		subiw	#0x20,%d0
		movew	%d0,0x14(%a1)

locret_5682C:
		rts
/*  End of function sub_567FE */


/*  =============== S U B R O U T I N E ======================================= */


sub_5682E:
		tstb	0x28(%a0)
		bnes	locret_5687E
		tstb	0x29(%a0)
		beqs	loc_56880
		tstb	0x20(%a0)
		bnes	loc_56854
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		bset	#6,0x2A(%a0)

loc_56854:
		moveq	#0,%d0
		btst	#0,0x20(%a0)
		bnes	loc_56860
		addqw	#6,%d0

loc_56860:
		lea	word_568A2(%pc),%a1
		lea	word_568A8(%pc,%d0.w),%a2
		jsr	CopyWordData_3(%pc)
		subqb	#1,0x20(%a0)
		bnes	locret_5687E
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_5687E:
		rts
/*  --------------------------------------------------------------------------- */

loc_56880:
		movel	#Wait_Draw,(%a0)
		clrw	(Screen_shake_flag):w
		movel	#loc_565B2,0x34(%a0)
		lea	(Child6_CreateBossExplosion):l,%a2
		jsr	(CreateChild1_Normal):l
		jmp	BossDefeated_StopTimer(%pc)
/*  End of function sub_5682E */

/*  --------------------------------------------------------------------------- */
word_568A2:	.word Normal_palette_line_2+0x18, Normal_palette_line_2+0x1A, Normal_palette_line_2+0x1C
word_568A8:	.word   0xCAA,  0x866,  0x644
		.word   0xEEE,  0xEEE,  0xEEE
ObjDat3_568B4:	.long Map_MGZMiniBoss
		.word 0x254F
		.word 0x280
		.byte 0x28
		.byte 0xC
		.byte 0
		.byte 0x10
ObjDat3_568C0:	.long Map_MGZEndBossDebris
		.word 0x4570
		.word 0x200
		.byte 0x20
		.byte 0x20
		.byte 0
		.byte 0
ObjDat3_568CC:	.long Map_MGZMinibossSpires
		.word 0x4500
		.word 0x200
		.byte 4
		.byte 0x10
		.byte 0
		.byte 0x84
word_568D8:	.word 0x280
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0
ObjDat3_568DE:	.long Map_MGZMovingSpikePlatform
		.word 0x4001
		.word 0x280
		.byte 0x18
		.byte 0x30
		.byte 0
		.byte 0
ChildObjDat_568EA:.word 1
		.long loc_565C2
		.word 0xE4EA
		.long loc_565C2
		.word 0x1CEA
ChildObjDat_568F8:.word 0
		.long loc_565EC
		.word 0
ChildObjDat_56900:.word 4
		.long loc_56718
		.word 0
		.long loc_56718
		.word 0xE400
		.long loc_56718
		.word 0x1C00
		.long loc_56718
		.word 0xE4EA
		.long loc_56718
		.word 0x1CEA
ChildObjDat_56920:.word 0
		.long loc_56630
		.word 0
		.byte    0,   5
		.byte    1,   5
		.byte    2,   5
		.byte    3,   5
		.byte  0xFC
byte_56931:	.byte    5,   4
		.byte    0,   1
		.byte    2, 0xFC
byte_56937:	.byte    0,   0
		.byte    1,   2
		.byte  0xFC
Map_MGZMinibossSpires:.word word_5693E-Map_MGZMinibossSpires
word_5693E:	.word 1
		.byte  0xF0,   3,   0,   0, 0xFF, 0xFC
PLC_56946:	.word 1
		.long ArtNem_BossExplosion
		.word 0xA000
		.long ArtNem_MGZSpire
		.word 0xA000
/*  --------------------------------------------------------------------------- */

Obj_Spiker:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0xA,%d0
		bsrw	sub_56B8C
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56972(%pc,%d0.w),%d1
		jsr	off_56972(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_56972:	.word loc_5697E-off_56972
		.word loc_5698E-off_56972
		.word loc_569A8-off_56972
		.word loc_569C2-off_56972
		.word loc_569E2-off_56972
		.word loc_569F6-off_56972
/*  --------------------------------------------------------------------------- */

loc_5697E:
		lea	ObjDat3_56BB8(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		lea	ChildObjDat_56BDC(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5698E:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bcss	loc_5699A
		rts
/*  --------------------------------------------------------------------------- */

loc_5699A:
		moveb	#4,5(%a0)
		movew	#7,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_569A8:
		subqw	#1,0x14(%a0)
		subqw	#1,0x2E(%a0)
		bmis	loc_569B4
		rts
/*  --------------------------------------------------------------------------- */

loc_569B4:
		moveb	#6,5(%a0)
		bset	#2,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_569C2:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bccs	loc_569CE
		rts
/*  --------------------------------------------------------------------------- */

loc_569CE:
		moveb	#8,5(%a0)
		bclr	#2,0x38(%a0)
		movew	#7,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_569E2:
		addqw	#1,0x14(%a0)
		subqw	#1,0x2E(%a0)
		bmis	loc_569EE
		rts
/*  --------------------------------------------------------------------------- */

loc_569EE:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_569F6:
		lea	byte_56C08(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		tstw	%d2
		beqs	locret_56A2A
		cmpib	#4,0x23(%a0)
		bnes	locret_56A2A
		moveaw	0x44(%a0),%a1
		movew	#-0x600,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#2,5(%a1)

locret_56A2A:
		rts
/*  --------------------------------------------------------------------------- */

loc_56A2C:
		moveb	0x3A(%a0),5(%a0)
		moveb	#0xA,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56A3A:
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56A50(%pc,%d0.w),%d1
		jsr	off_56A50(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_56A50:	.word loc_56A58-off_56A50
		.word loc_56A6E-off_56A50
		.word loc_56A84-off_56A50
		.word loc_56AC0-off_56A50
/*  --------------------------------------------------------------------------- */

loc_56A58:
		lea	word_56BC4(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		tstb	0x2C(%a0)
		bnes	locret_56A6C
		bset	#0,4(%a0)

locret_56A6C:
		rts
/*  --------------------------------------------------------------------------- */

loc_56A6E:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		bnes	loc_56A7C
		rts
/*  --------------------------------------------------------------------------- */

loc_56A7C:
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56A84:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	loc_56AB8
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bccs	locret_56AA6
		tstb	0x2C(%a0)
		beqs	loc_56AA2
		subqw	#2,%d0

loc_56AA2:
		tstw	%d0
		beqs	loc_56AA8

locret_56AA6:
		rts
/*  --------------------------------------------------------------------------- */

loc_56AA8:
		moveb	#6,5(%a0)
		movel	#loc_56AE6,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56AB8:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56AC0:
		lea	byte_56C11(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		tstw	%d2
		beqs	locret_56AE4
		cmpib	#4,0x22(%a0)
		bnes	locret_56AE4
		moveq	#sfx_Projectile,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_56BF0(%pc),%a2
		jsr	CreateChild5_ComplexAdjusted(%pc)

locret_56AE4:
		rts
/*  --------------------------------------------------------------------------- */

loc_56AE6:
		moveb	#4,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56AEE:
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56B04(%pc,%d0.w),%d1
		jsr	off_56B04(%pc,%d1.w)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_56B04:	.word loc_56B0A-off_56B04
		.word loc_56B12-off_56B04
		.word loc_56B52-off_56B04
/*  --------------------------------------------------------------------------- */

loc_56B0A:
		lea	word_56BCA(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)

loc_56B12:
		jsr	Check_PlayerCollision(%pc)
		bnes	loc_56B1A
		rts
/*  --------------------------------------------------------------------------- */

loc_56B1A:
		bsrw	sub_56B64
		moveb	#4,5(%a0)
		clrb	0x28(%a0)
		movew	#0x10,0x2E(%a0)
		movel	#loc_56B56,0x34(%a0)
		moveaw	0x46(%a0),%a1
		bset	#3,0x38(%a1)
		moveb	#1,0x22(%a1)
		clrb	0x28(%a1)
		movew	0x44(%a0),0x44(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_56B52:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_56B56:
		moveb	#2,5(%a0)
		moveb	#-0x36,0x28(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_56B64:
		clrw	0x1A(%a1)
		bset	#1,0x2A(%a1)
		addqw	#6,0x14(%a1)
		moveb	#2,5(%a1)
		clrb	0x40(%a1)
		bclr	#4,0x2A(%a1)
		moveq	#sfx_Spring,%d0
		jsr	(Play_Sound_2):l
		rts
/*  End of function sub_56B64 */


/*  =============== S U B R O U T I N E ======================================= */


sub_56B8C:
		btst	#3,0x38(%a0)
		bnes	loc_56B96
		rts
/*  --------------------------------------------------------------------------- */

loc_56B96:
		bclr	#3,0x38(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		moveb	5(%a0),0x3A(%a0)
		moveb	%d0,5(%a0)
		movel	#loc_56A2C,0x34(%a0)
		rts
/*  End of function sub_56B8C */

/*  --------------------------------------------------------------------------- */
ObjDat3_56BB8:	.long Map_Spiker
		.word 0x2530
		.word 0x280
		.byte 0x20
		.byte 0x10
		.byte 0
		.byte 0xA
word_56BC4:	.word 0x280
		.byte 0x20
		.byte 4
		.byte 3
		.byte 0
word_56BCA:	.word 0x200
		.byte 0x20
		.byte 4
		.byte 7
		.byte 0xCA
ObjDat3_56BD0:	.long Map_Spiker
		.word 0x530
		.word 0x280
		.byte 4
		.byte 4
		.byte 5
		.byte 0x98
ChildObjDat_56BDC:.word 2
		.long loc_56A3A
		.word 0xF00C
		.long loc_56A3A
		.word 0x100C
		.long loc_56AEE
		.word 0xF4
ChildObjDat_56BF0:.word 0
		.long loc_54B46
		.long ObjDat3_56BD0
		.long byte_56C1A
		.long MoveSlowFall_AnimateRaw
		.byte 4
		.byte 0
		.word 0x200
		.word 0xFE00
byte_56C08:	.byte    1,   0
		.byte    2,   1
		.byte    1,   0
		.byte    0,   5
		.byte  0xF4
byte_56C11:	.byte    3,   1
		.byte    3,  0xF
		.byte    4,   7
		.byte    3, 0x3F
		.byte  0xF4
byte_56C1A:	.byte    1,   5
		.byte    6, 0xFC
/*  --------------------------------------------------------------------------- */

Obj_Mantis:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56C36(%pc,%d0.w),%d1
		jsr	off_56C36(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_56C36:	.word loc_56C40-off_56C36
		.word loc_56C56-off_56C36
		.word loc_56C82-off_56C36
		.word loc_56CBC-off_56C36
		.word loc_56CE0-off_56C36
/*  --------------------------------------------------------------------------- */

loc_56C40:
		lea	ObjDat3_56D48(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#0x29,0x1E(%a0)
		lea	ChildObjDat_56D5A(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_56C56:
		jsr	Find_SonicTails(%pc)
		bclr	#0,4(%a0)
		tstw	%d0
		beqs	loc_56C6A
		bset	#0,4(%a0)

loc_56C6A:
		cmpiw	#0x40,%d2
		bcss	loc_56C72
		rts
/*  --------------------------------------------------------------------------- */

loc_56C72:
		moveb	#4,5(%a0)
		movel	#loc_56CA6,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56C82:
		lea	byte_56D62(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		tstw	%d2
		beqs	locret_56C9E
		bmis	locret_56C9E
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		movew	word_56CA0(%pc,%d0.w),%d0
		addw	%d0,0x14(%a0)

locret_56C9E:
		rts
/*  --------------------------------------------------------------------------- */
word_56CA0:	.word 0
		.word 0xFFFB
		.word 0xFFED
/*  --------------------------------------------------------------------------- */

loc_56CA6:
		moveb	#6,5(%a0)
		movew	#-0x600,0x1A(%a0)
		movel	#loc_56CCC,0x34(%a0)

locret_56CBA:
		rts
/*  --------------------------------------------------------------------------- */

loc_56CBC:
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmis	locret_56CBA
		jmp	ObjHitFloor_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_56CCC:
		moveb	#8,5(%a0)
		clrw	0x1A(%a0)
		movel	#loc_56D06,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56CE0:
		lea	byte_56D69(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		tstw	%d2
		beqs	locret_56CFC
		bmis	locret_56CFC
		moveq	#0,%d0
		moveb	0x23(%a0),%d0
		movew	word_56CFE(%pc,%d0.w),%d0
		addw	%d0,0x14(%a0)

locret_56CFC:
		rts
/*  --------------------------------------------------------------------------- */
word_56CFE:	.word 0
		.word 0x12
		.word 6
		.word 0xFFFF
/*  --------------------------------------------------------------------------- */

loc_56D06:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56D0E:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56D24(%pc,%d0.w),%d1
		jsr	off_56D24(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_56D24:	.word loc_56D28-off_56D24
		.word loc_56D30-off_56D24
/*  --------------------------------------------------------------------------- */

loc_56D28:
		lea	word_56D54(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_56D30:
		moveaw	0x46(%a0),%a1
		moveb	#5,0x22(%a0)
		tstw	0x1A(%a1)
		bmis	locret_56D46
		moveb	#4,0x22(%a0)

locret_56D46:
		rts
/*  --------------------------------------------------------------------------- */
ObjDat3_56D48:	.long Map_Mantis
		.word 0x254F
		.word 0x280
		.byte 0x14
		.byte 0x1C
		.byte 0
		.byte 0x1A
word_56D54:	.word 0x200
		.byte 4
		.byte 4
		.byte 5
		.byte 0
ChildObjDat_56D5A:.word 0
		.long loc_56D0E
		.word 0xF7F5
byte_56D62:	.byte    0,   0
		.byte    1,   2
		.byte    2,   0
		.byte  0xF4
byte_56D69:	.byte    2,   0
		.byte    1,   2
		.byte    3,   2
		.byte    0, 0x1F
		.byte  0xF4
/*  --------------------------------------------------------------------------- */

Obj_Clamer:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56D92(%pc,%d0.w),%d1
		jsr	off_56D92(%pc,%d1.w)
		lea	PLCPtr_56F1C(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	Sprite_CheckDeleteTouchSlotted(%pc)
/*  --------------------------------------------------------------------------- */
off_56D92:	.word loc_56D9A-off_56D92
		.word loc_56DAA-off_56D92
		.word loc_56E0C-off_56D92
		.word loc_56E22-off_56D92
/*  --------------------------------------------------------------------------- */

loc_56D9A:
		lea	ObjDat4_56ED8(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		lea	ChildObjDat_56EFC(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_56DAA:
		btst	#0,0x38(%a0)
		bnes	loc_56DD2
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x60,%d2
		bccs	loc_56DCA
		btst	#0,4(%a0)
		beqs	loc_56DC6
		subqw	#2,%d0

loc_56DC6:
		tstw	%d0
		beqs	loc_56DF4

loc_56DCA:
		lea	byte_56F24(%pc),%a1
		jmp	Animate_RawNoSSTMultiDelay(%pc)
/*  --------------------------------------------------------------------------- */

loc_56DD2:
		moveb	#4,5(%a0)
		clrb	0x28(%a0)
		bclr	#0,0x38(%a0)
		movel	#loc_56E14,0x34(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56DF4:
		moveb	#6,5(%a0)
		movel	#loc_56E14,0x34(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)

locret_56E0A:
		rts
/*  --------------------------------------------------------------------------- */

loc_56E0C:
		lea	byte_56F2D(%pc),%a1
		jmp	Animate_RawNoSST(%pc)
/*  --------------------------------------------------------------------------- */

loc_56E14:
		moveb	#2,5(%a0)
		moveb	#0xA,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56E22:
		lea	byte_56F39(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		tstw	%d2
		beqw	locret_56E0A
		cmpib	#8,0x22(%a0)
		bnew	locret_56E0A
		tstb	4(%a0)
		bplw	locret_56E0A
		lea	ChildObjDat_56F04(%pc),%a2
		jmp	CreateChild5_ComplexAdjusted(%pc)
/*  --------------------------------------------------------------------------- */

loc_56E4A:
		lea	word_56EEA(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveaw	0x46(%a0),%a1
		moveb	4(%a1),4(%a0)
		clrw	0xA(%a0)
		movel	#loc_56E68,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_56E68:
		bsrw	Check_PlayerCollision
		beqs	loc_56E78
		movel	#loc_56E7C,(%a0)
		bsrw	sub_56E8C

loc_56E78:
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_56E7C:
		subqw	#1,0x2E(%a0)
		bmis	loc_56E84
		rts
/*  --------------------------------------------------------------------------- */

loc_56E84:
		movel	#loc_56E68,(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_56E8C:
		movew	#0x800,%d0
		bclr	#0,0x2A(%a1)
		btst	#0,4(%a0)
		beqs	loc_56EA6
		negw	%d0
		bset	#0,0x2A(%a1)

loc_56EA6:
		movew	%d0,0x18(%a1)
		movew	%d0,0x1C(%a1)
		movew	#-0x800,0x1A(%a1)
		bset	#1,0x2A(%a1)
		addqw	#6,0x14(%a1)
		moveb	#0x10,0x20(%a1)
		moveb	#2,5(%a1)
		clrb	0x40(%a1)
		moveq	#sfx_Spring,%d0
		jsr	(Play_Sound_2):l
		rts
/*  End of function sub_56E8C */

/*  --------------------------------------------------------------------------- */
ObjDat4_56ED8:	.word 1
		.word 0xA500
		.word 0x12
		.word 0
		.long Map_Clamer
		.word 0x280
		.byte 0x14
		.byte 0x10
		.byte 0
		.byte 0xA
word_56EEA:	.word 0x280
		.byte 8
		.byte 4
		.byte 0xB
		.byte 0xD7
ObjDat3_56EF0:	.long Map_Clamer
		.word 0xA570
		.word 0x200
		.byte 8
		.byte 8
		.byte 9
		.byte 0x98
ChildObjDat_56EFC:.word 0
		.long loc_56E4A
		.word 0xF8
ChildObjDat_56F04:.word 0
		.long loc_54B46
		.long ObjDat3_56EF0
		.long 0
		.long MoveSprite2
		.byte 0xF0
		.byte 2
		.word 0xFE00
		.word 0
PLCPtr_56F1C:	.long ArtUnc_Clamer
		.long DPLC_Clamer
byte_56F24:	.byte    1,   1
		.byte    0, 0x5F
		.byte    1,   1
		.byte    2,   1
		.byte  0xFC
byte_56F2D:	.byte    0,   0
		.byte    1,   2
		.byte    3,   4
		.byte    3,   2
		.byte    1,  0xA
		.byte    0, 0xF4
byte_56F39:	.byte    0,   2
		.byte    5,   2
		.byte    6,   2
		.byte    7, 0x2F
		.byte    8,   5
		.byte    7, 0x1F
		.byte    6,   2
		.byte    5,   2
		.byte    0, 0x1F
		.byte  0xF4
/*  --------------------------------------------------------------------------- */

Obj_CNZBlastoid:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_56F64(%pc,%d0.w),%d1
		jsr	off_56F64(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_56F64:	.word loc_56F6E-off_56F64
		.word loc_56F76-off_56F64
		.word loc_56FA2-off_56F64
		.word loc_56FC2-off_56F64
		.word loc_56FC2-off_56F64
/*  --------------------------------------------------------------------------- */

loc_56F6E:
		lea	ObjDat3_570EE(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_56F76:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x80,%d2
		bcss	loc_56F82
		rts
/*  --------------------------------------------------------------------------- */

loc_56F82:
		moveb	#4,5(%a0)
		movel	#byte_57116,0x30(%a0)
		movel	#loc_56FA6,0x34(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)

locret_56FA0:
		rts
/*  --------------------------------------------------------------------------- */

loc_56FA2:
		jmp	Animate_RawGetFaster(%pc)
/*  --------------------------------------------------------------------------- */

loc_56FA6:
		moveb	#6,5(%a0)
		movew	#4,0x2E(%a0)
		movel	#loc_56FC6,0x34(%a0)
		lea	ChildObjDat_57106(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_56FC2:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_56FC6:
		moveb	#8,5(%a0)
		moveq	#0x68,%d0
		bchg	#1,4(%a0)
		bnes	loc_56FD8
		negw	%d0

loc_56FD8:
		addw	%d0,0x14(%a0)
		movew	#0x20,0x2E(%a0)
		movel	#loc_57002,0x34(%a0)
		moveq	#sfx_Lightning,%d0
		jsr	(Play_Sound_2):l
		tstb	4(%a0)
		bplw	locret_56FA0
		lea	ChildObjDat_5710E(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_57002:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5700A:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5701C(%pc,%d0.w),%d1
		jsr	off_5701C(%pc,%d1.w)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5701C:	.word loc_57020-off_5701C
		.word loc_5704C-off_5701C
/*  --------------------------------------------------------------------------- */

loc_57020:
		lea	word_570FA(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		bset	#5,0x2B(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		moveaw	0x46(%a0),%a1
		moveq	#0x34,%d0
		btst	#1,4(%a1)
		bnes	loc_57046
		negw	%d0

loc_57046:
		addw	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5704C:
		lea	byte_5711B(%pc),%a1
		jmp	Animate_RawNoSST(%pc)
/*  --------------------------------------------------------------------------- */

loc_57054:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_57066(%pc,%d0.w),%d1
		jsr	off_57066(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouchXY(%pc)
/*  --------------------------------------------------------------------------- */
off_57066:	.word loc_5706C-off_57066
		.word loc_570A2-off_57066
		.word loc_570E8-off_57066
/*  --------------------------------------------------------------------------- */

loc_5706C:
		lea	word_57100(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		bset	#5,0x2B(%a0)
		moveaw	0x46(%a0),%a1
		movew	#0x600,%d0
		btst	#1,4(%a1)
		bnes	loc_5708C
		negw	%d0

loc_5708C:
		movew	%d0,0x1A(%a0)
		movew	#0x600,%d0
		tstb	0x2C(%a0)
		bnes	loc_5709C
		negw	%d0

loc_5709C:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_570A2:
		lea	byte_57126(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		moveq	#0x40,%d0
		movew	0x18(%a0),%d1
		bmis	loc_570B4
		negw	%d0

loc_570B4:
		addw	%d0,%d1
		cmpiw	#-0x100,%d1
		blts	loc_570C2
		cmpiw	#0x100,%d1
		bles	loc_570DC

loc_570C2:
		movew	%d1,0x18(%a0)
		moveq	#0x40,%d0
		movew	0x1A(%a0),%d1
		bmis	loc_570D0
		negw	%d0

loc_570D0:
		addw	%d0,%d1
		movew	%d1,0x1A(%a0)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_570DC:
		moveb	#4,5(%a0)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_570E8:
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */
ObjDat3_570EE:	.long Map_CNZBlastoid
		.word 0xA524
		.word 0x280
		.byte 0xC
		.byte 0xC
		.byte 0
		.byte 0xB
word_570FA:	.word 0x200
		.byte 0xC
		.byte 0x40
		.byte 2
		.byte 0xAB
word_57100:	.word 0x280
		.byte 8
		.byte 8
		.byte 6
		.byte 0x98
ChildObjDat_57106:.word 0
		.long loc_5700A
		.word 0
ChildObjDat_5710E:.word 1
		.long loc_57054
		.word 0
byte_57116:	.byte    9, 0x10
		.byte    0,   1
		.byte  0xFC
byte_5711B:	.byte    0,   2
		.byte    8,   3
		.byte    8,   4
		.byte    8,   5
		.byte    8,   2
		.byte  0xF4
byte_57126:	.byte    3,   6
		.byte    7, 0xFC
/*  --------------------------------------------------------------------------- */

Obj_Batbot:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_57142(%pc,%d0.w),%d1
		jsr	off_57142(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_57142:	.word loc_57148-off_57142
		.word loc_57158-off_57142
		.word loc_57180-off_57142
/*  --------------------------------------------------------------------------- */

loc_57148:
		lea	ObjDat3_57208(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		lea	ChildObjDat_57220(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_57158:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bcss	loc_57164
		rts
/*  --------------------------------------------------------------------------- */

loc_57164:
		moveb	#4,5(%a0)
		bset	#3,0x38(%a0)
		movew	#0x200,%d0
		tstw	%d0
		bnes	loc_5717A
		negw	%d0

loc_5717A:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57180:
		lea	byte_5722E(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		lea	(Player_1):w,%a1
		movew	#0x200,%d0
		moveq	#8,%d1
		jsr	Chase_Object(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_5719C:
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_571B2(%pc,%d0.w),%d1
		jsr	off_571B2(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_571B2:	.word loc_571B8-off_571B2
		.word loc_571C0-off_571B2
		.word loc_571DA-off_571B2
/*  --------------------------------------------------------------------------- */

loc_571B8:
		lea	word_57214(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_571C0:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_571CE
		rts
/*  --------------------------------------------------------------------------- */

loc_571CE:
		moveb	#4,5(%a0)
		addqb	#1,0x22(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_571DA:
		lea	byte_57234(%pc),%a1
		jmp	Animate_RawNoSSTMultiDelay(%pc)
/*  --------------------------------------------------------------------------- */

loc_571E2:
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_571F8(%pc,%d0.w),%d1
		jsr	off_571F8(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_571F8:	.word loc_571FE-off_571F8
		.word loc_571C0-off_571F8
		.word locret_57206-off_571F8
/*  --------------------------------------------------------------------------- */

loc_571FE:
		lea	word_5721A(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

locret_57206:
		rts
/*  --------------------------------------------------------------------------- */
ObjDat3_57208:	.long Map_Batbot
		.word 0xA552
		.word 0x280
		.byte 0x20
		.byte 8
		.byte 2
		.byte 0xD
word_57214:	.word 0x200
		.byte 8
		.byte 8
		.byte 3
		.byte 0
word_5721A:	.word 0x200
		.byte 4
		.byte 4
		.byte 5
		.byte 0
ChildObjDat_57220:.word 1
		.long loc_5719C
		.word 0x10
		.long loc_571E2
		.word 3
byte_5722E:	.byte    2,   0
		.byte    1,   2
		.byte    1, 0xFC
byte_57234:	.byte    3, 0x1D
		.byte    4,   2
		.byte    3,   1
		.byte    4,   2
		.byte    3,  0xE
		.byte    4,   2
		.byte  0xFC,   0
/*  --------------------------------------------------------------------------- */

Obj_Blaster:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5725A(%pc,%d0.w),%d1
		jsr	off_5725A(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_5725A:	.word loc_5726A-off_5725A
		.word loc_572B2-off_5725A
		.word loc_5731C-off_5725A
		.word loc_5731C-off_5725A
		.word loc_57362-off_5725A
		.word loc_57384-off_5725A
		.word loc_573AC-off_5725A
		.word loc_573BC-off_5725A
/*  --------------------------------------------------------------------------- */

loc_5726A:
		lea	ObjDat3_57438(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#0x10,0x1E(%a0)
		bset	#1,4(%a0)
		bclr	#1,4(%a0)
		beqs	loc_5728A
		st	0x3C(%a0)

loc_5728A:
		moveb	#0xE,0x1E(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		addw	%d0,%d0
		movew	%d0,0x2E(%a0)
		addw	%d0,%d0
		movew	%d0,0x3A(%a0)
		movel	#loc_57306,0x34(%a0)
		movew	#-0x80,%d4
		jmp	Set_VelocityXTrackSonic(%pc)
/*  --------------------------------------------------------------------------- */

loc_572B2:
		bsrw	sub_57414
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x60,%d2
		bccs	loc_572CE
		btst	#0,4(%a0)
		beqs	loc_572CA
		subqw	#2,%d0

loc_572CA:
		tstw	%d0
		beqs	loc_572E4

loc_572CE:
		lea	byte_5749A(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		jsr	(MoveSprite2):l
		jsr	ObjHitFloor2_DoRoutine(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_572E4:
		moveb	#6,5(%a0)
		moveb	#0,0x22(%a0)
		movew	0x2E(%a0),0x3A(%a0)
		movew	#0x10,0x2E(%a0)
		movel	#loc_57344,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57306:
		moveb	#4,5(%a0)
		movew	#0x20,0x2E(%a0)
		movel	#loc_57324,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5731C:
		bsrw	sub_57414
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_57324:
		negw	0x18(%a0)
		bchg	#0,4(%a0)

loc_5732E:
		moveb	#2,5(%a0)
		movew	0x3A(%a0),0x2E(%a0)
		movel	#loc_57306,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57344:
		moveb	#8,5(%a0)
		movel	#loc_5732E,0x34(%a0)
		lea	ChildObjDat_57462(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_5746A(%pc),%a2
		jmp	CreateChild5_ComplexAdjusted(%pc)
/*  --------------------------------------------------------------------------- */

loc_57362:
		bsrw	sub_57414
		lea	byte_574A4(%pc),%a1
		jsr	Animate_RawNoSSTMultiDelay(%pc)
		tstw	%d2
		beqs	locret_57382
		cmpib	#6,0x23(%a0)
		bnes	locret_57382
		lea	ChildObjDat_57482(%pc),%a2
		jsr	CreateChild5_ComplexAdjusted(%pc)

locret_57382:
		rts
/*  --------------------------------------------------------------------------- */

loc_57384:
		addiw	#-0x20,0x1A(%a0)
		jsr	(MoveSprite2):l
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bmis	loc_5739C
		rts
/*  --------------------------------------------------------------------------- */

loc_5739C:
		addw	%d1,0x14(%a0)
		moveb	#0xC,5(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_573AC:
		tstb	(_unkFAA2):w
		beqs	loc_573B4
		rts
/*  --------------------------------------------------------------------------- */

loc_573B4:
		moveb	#0xE,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_573BC:
		addiw	#0x20,0x1A(%a0)
		jsr	(MoveSprite2):l
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmis	loc_573D4
		rts
/*  --------------------------------------------------------------------------- */

loc_573D4:
		addw	%d1,0x14(%a0)
		moveb	0x3D(%a0),5(%a0)
		movew	0x3E(%a0),0x18(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_573EA:
		lea	word_57444(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_57402,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57402:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		lea	byte_5749F(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_57414:
		tstb	0x3C(%a0)
		beqs	locret_57436
		tstb	(_unkFAA2):w
		beqs	locret_57436
		moveb	5(%a0),0x3D(%a0)
		moveb	#0xA,5(%a0)
		movew	0x18(%a0),0x3E(%a0)
		clrw	0x18(%a0)

locret_57436:
		rts
/*  End of function sub_57414 */

/*  --------------------------------------------------------------------------- */
ObjDat3_57438:	.long Map_Blaster
		.word 0xA500
		.word 0x280
		.byte 0x18
		.byte 0x10
		.byte 0
		.byte 0xA
word_57444:	.word 0x200
		.byte 8
		.byte 8
		.byte 4
		.byte 0
ObjDat3_5744A:	.long Map_Blaster
		.word 0xA500
		.word 0x280
		.byte 4
		.byte 4
		.byte 5
		.byte 0x18
ObjDat3_57456:	.long Map_Blaster
		.word 0xA500
		.word 0x200
		.byte 4
		.byte 4
		.byte 7
		.byte 0
ChildObjDat_57462:.word 0
		.long loc_573EA
		.word 0xE5EA
ChildObjDat_5746A:.word 0
		.long loc_54B46
		.long ObjDat3_5744A
		.long byte_574AD
		.long MoveFall_AnimateRaw
		.byte 0xE0
		.byte 0xE0
		.word 0xFE00
		.word 0xFC00
ChildObjDat_57482:.word 0
		.long loc_54B46
		.long ObjDat3_57456
		.long byte_574B1
		.long MoveFall_AnimateRaw
		.byte 0xF4
		.byte 0xFC
		.word 0x100
		.word 0xFE00
byte_5749A:	.byte    0, 0x17
		.byte    1,   2
		.byte  0xFC
byte_5749F:	.byte    0,   4
		.byte    4,   5
		.byte  0xF4
byte_574A4:	.byte    0,   1
		.byte    0,   1
		.byte    2,   5
		.byte    0, 0x1F
		.byte  0xF4
byte_574AD:	.byte    1,   5
		.byte    6, 0xFC
byte_574B1:	.byte    2,   7
		.byte    8,   9
		.byte   0xA, 0xFC
		.byte    0
/*  --------------------------------------------------------------------------- */

Obj_TechnoSqueek:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_574D0(%pc,%d0.w),%d1
		jsr	off_574D0(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_574D0:	.word loc_574DA-off_574D0
		.word loc_57574-off_574D0
		.word loc_575C6-off_574D0
		.word loc_575F4-off_574D0
		.word loc_57638-off_574D0
/*  --------------------------------------------------------------------------- */

loc_574DA:
		movew	#0x800,0x2E(%a0)
		movel	#loc_575BE,0x34(%a0)
		cmpib	#4,0x2C(%a0)
		beqs	loc_57536
		lea	ObjDat_576F2(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#byte_57718,0x30(%a0)
		bset	#0,4(%a0)
		cmpib	#2,0x2C(%a0)
		bnes	loc_57514
		bset	#1,4(%a0)

loc_57514:
		lea	ChildObjDat_57710(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		movew	#0x400,%d0
		movew	%d0,0x3A(%a0)
		movew	%d0,0x18(%a0)
		movew	#0x20,0x3C(%a0)
		bclr	#3,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57536:
		lea	ObjDat3_576FE(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#6,5(%a0)
		movel	#byte_5773E,0x30(%a0)
		bset	#1,4(%a0)
		lea	ChildObjDat_57710(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		movew	#0x400,%d0
		movew	%d0,0x3E(%a0)
		movew	%d0,0x1A(%a0)
		movew	#0x20,0x40(%a0)
		bclr	#0,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57574:
		jsr	Animate_RawMultiDelayFlipX(%pc)
		tstw	%d2
		beqs	loc_5758A
		cmpib	#6,0x23(%a0)
		bnes	loc_5758A
		bset	#1,0x38(%a0)

loc_5758A:
		jsr	Swing_LeftAndRight(%pc)
		tstw	0x18(%a0)
		beqs	loc_5759E
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5759E:
		moveb	#4,5(%a0)
		movel	#byte_5772E,0x30(%a0)
		movel	#loc_575CA,0x34(%a0)

loc_575B4:
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_575BE:
		bclr	#5,0x38(%a0)

locret_575C4:
		rts
/*  --------------------------------------------------------------------------- */

loc_575C6:
		jmp	Animate_RawAdjustFlipX(%pc)
/*  --------------------------------------------------------------------------- */

loc_575CA:
		moveb	#2,5(%a0)
		movel	#byte_57723,0x30(%a0)

loc_575D8:
		bclr	#1,0x38(%a0)
		bset	#5,0x38(%a0)
		movew	#0x10,0x2E(%a0)
		movel	#loc_575BE,0x34(%a0)
		bras	loc_575B4
/*  --------------------------------------------------------------------------- */

loc_575F4:
		jsr	Animate_RawMultiDelayFlipY(%pc)
		tstw	%d2
		beqs	loc_5760A
		cmpib	#6,0x23(%a0)
		bnes	loc_5760A
		bset	#1,0x38(%a0)

loc_5760A:
		jsr	Swing_UpAndDown(%pc)
		tstw	0x1A(%a0)
		beqs	loc_5761E
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5761E:
		moveb	#8,5(%a0)
		movel	#byte_57754,0x30(%a0)
		movel	#loc_5763C,0x34(%a0)
		braw	loc_575B4
/*  --------------------------------------------------------------------------- */

loc_57638:
		jmp	Animate_RawAdjustFlipY(%pc)
/*  --------------------------------------------------------------------------- */

loc_5763C:
		moveb	#6,5(%a0)
		movel	#byte_57749,0x30(%a0)
		bras	loc_575D8
/*  --------------------------------------------------------------------------- */

loc_5764C:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5765E(%pc,%d0.w),%d1
		jsr	off_5765E(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5765E:	.word loc_57664-off_5765E
		.word loc_57680-off_5765E
		.word loc_576B8-off_5765E
/*  --------------------------------------------------------------------------- */

loc_57664:
		lea	word_5770A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveaw	0x46(%a0),%a1
		cmpib	#4,0x2C(%a1)
		bnes	locret_5767E
		moveb	#4,5(%a0)

locret_5767E:
		rts
/*  --------------------------------------------------------------------------- */

loc_57680:
		lea	byte_57739(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		btst	#1,0x38(%a1)
		beqs	loc_5769C
		moveq	#2,%d0

loc_5769C:
		addw	%d0,%d0
		movew	word_576B2(%pc,%d0.w),0x42(%a0)
		btst	#5,0x38(%a1)
		bnew	locret_575C4
		jmp	Refresh_ChildPositionAdjusted(%pc)
/*  --------------------------------------------------------------------------- */
word_576B2:	.word 0x1404
		.word 0xC04
		.word 4
/*  --------------------------------------------------------------------------- */

loc_576B8:
		lea	byte_5775F(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		moveaw	0x46(%a0),%a1
		moveq	#0,%d0
		moveb	0x22(%a1),%d0
		subqw	#5,%d0
		btst	#1,0x38(%a1)
		beqs	loc_576D6
		moveq	#2,%d0

loc_576D6:
		addw	%d0,%d0
		movew	word_576EC(%pc,%d0.w),0x42(%a0)
		btst	#5,0x38(%a1)
		bnew	locret_575C4
		jmp	Refresh_ChildPositionAdjusted(%pc)
/*  --------------------------------------------------------------------------- */
word_576EC:	.word 0xFC14
		.word 0xFC0C
		.word 0xFC00
ObjDat_576F2:	.long Map_TechnoSqueek
		.word 0xA528
		.word 0x280
		.byte 0xC
		.byte 8
		.byte 0
		.byte 0xB
ObjDat3_576FE:	.long Map_TechnoSqueek
		.word 0xA528
		.word 0x280
		.byte 8
		.byte 0xC
		.byte 5
		.byte 0xB
word_5770A:	.word 0x280
		.byte 8
		.byte 4
		.byte 2
		.byte 0
ChildObjDat_57710:.word 0
		.long loc_5764C
		.word 0x1404
byte_57718:	.byte    0,   0
		.byte    0, 0x17
		.byte    1,   1
		.byte  0x41,   1
		.byte    0, 0x1F
		.byte  0xF4
byte_57723:	.byte    0,   0
		.byte    0, 0x37
		.byte    1,   1
		.byte  0x41,   1
		.byte    0, 0x1F
		.byte  0xF4
byte_5772E:	.byte    3,   0
		.byte    0,   1
		.byte  0x41,   0
		.byte    0,   1
		.byte  0x41,   0
		.byte  0xF4
byte_57739:	.byte    3,   2
		.byte    3,   4
		.byte  0xFC
byte_5773E:	.byte    5,   0
		.byte    5, 0x17
		.byte    6,   1
		.byte  0x26,   1
		.byte    0, 0x1F
		.byte  0xF4
byte_57749:	.byte    5,   0
		.byte    5, 0x37
		.byte    6,   1
		.byte  0x26,   1
		.byte    5, 0x1F
		.byte  0xF4
byte_57754:	.byte    3,   5
		.byte    5,   6
		.byte  0x26,   5
		.byte    5,   6
		.byte  0x26,   5
		.byte  0xF4
byte_5775F:	.byte    3,   7
		.byte    8,   9
		.byte  0xFC
/*  --------------------------------------------------------------------------- */

Obj_ICZPathFollowPlatform:
		jsr	(Obj_WaitOffscreen):l

loc_5776A:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5779C(%pc,%d0.w),%d1
		movew	0x10(%a0),-(%sp)
		jsr	off_5779C(%pc,%d1.w)
		moveq	#0x2B,%d1
		moveq	#0x14,%d2
		moveq	#0x14,%d3
		movew	(%sp)+,%d4
		btst	#7,0x2A(%a0)
		bnes	loc_57796
		jsr	(SolidObjectFull):l
		bsrw	sub_57BDA

loc_57796:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
off_5779C:	.word loc_577B0-off_5779C
		.word loc_577E8-off_5779C
		.word loc_57808-off_5779C
		.word loc_57824-off_5779C
		.word loc_57868-off_5779C
		.word loc_57942-off_5779C
		.word locret_5799C-off_5779C
		.word loc_5799E-off_5779C
		.word loc_579B8-off_5779C
		.word loc_579D4-off_5779C
/*  --------------------------------------------------------------------------- */

loc_577B0:
		lea	ObjDat3_57BEC(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movew	%a0,(_unkFAA4):w
		moveb	#0x20,0x1F(%a0)
		moveb	#0x12,0x1E(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrw	#1,%d0
		moveb	byte_577E4(%pc,%d0.w),5(%a0)
		tstw	%d0
		bnew	locret_57866
		lea	ChildObjDat_57C40(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */
byte_577E4:	.byte 2
		.byte 6
		.byte 0xC
		.byte 0xE
/*  --------------------------------------------------------------------------- */

loc_577E8:
		btst	#3,0x2A(%a0)
		bnes	loc_577F2
		rts
/*  --------------------------------------------------------------------------- */

loc_577F2:
		moveb	#4,5(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_5781C,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57808:
		moveq	#1,%d0
		btst	#0,(V_int_run_count+3):w
		beqs	loc_57814
		negw	%d0

loc_57814:
		addw	%d0,0x10(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5781C:
		moveb	#0xA,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57824:
		btst	#5,0x2A(%a0)
		beqs	loc_57836
		moveb	(Ctrl_1_held):w,%d0
		andib	#0xC,%d0
		bnes	loc_5783C

loc_57836:
		clrb	0x39(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5783C:
		addqb	#1,0x39(%a0)
		cmpib	#0x10,0x39(%a0)
		bcsw	locret_57866
		moveb	#8,5(%a0)
		lea	(Player_1):w,%a1
		jsr	Find_SonicTails(%pc)
		movew	#0x80,%d1
		tstw	%d0
		beqs	loc_57862
		negw	%d1

loc_57862:
		movew	%d1,0x18(%a0)

locret_57866:
		rts
/*  --------------------------------------------------------------------------- */

loc_57868:
		cmpiw	#-0x100,(Camera_min_Y_pos):w
		bnes	loc_57878
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,0x14(%a0)

loc_57878:
		jsr	(MoveSprite2):l
		jsr	(ObjCheckFloorDist):l
		cmpiw	#8,%d1
		bges	loc_578D0
		moveb	%d3,0x26(%a0)
		addw	%d1,0x14(%a0)
		moveb	%d3,%d0
		bpls	loc_57898
		negb	%d0

loc_57898:
		andib	#-8,%d0
		beqs	loc_578AE
		movew	0x18(%a0),%d0
		addw	%d3,%d3
		extw	%d3
		asrw	#1,%d3
		addw	%d3,%d0
		bsrw	sub_57B70

loc_578AE:
		tstw	0x18(%a0)
		bmis	loc_578C2
		moveq	#0x1C,%d3
		jsr	(ObjCheckRightWallDist):l
		tstw	%d1
		bmis	loc_578DC
		rts
/*  --------------------------------------------------------------------------- */

loc_578C2:
		moveq	#-0x1C,%d3
		jsr	(ObjCheckLeftWallDist):l
		tstw	%d1
		bmis	loc_5791A
		rts
/*  --------------------------------------------------------------------------- */

loc_578D0:
		moveb	#0xA,5(%a0)
		bsrw	sub_57B9C
		rts
/*  --------------------------------------------------------------------------- */

loc_578DC:
		moveb	#0xC,5(%a0)
		tstb	0x2C(%a0)
		beqw	locret_57866
		lea	ChildObjDat_57C34(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		jsr	(Create_New_Sprite3):l
		bnes	loc_57912
		movel	#Obj_Spring,(%a1)
		movew	#0x5D5A,0x10(%a1)
		movew	#0x27A,0x14(%a1)
		moveb	#0,0x2C(%a1)

loc_57912:
		jsr	Displace_PlayerOffObject(%pc)
		jmp	loc_5371C(%pc)
/*  --------------------------------------------------------------------------- */

loc_5791A:
		moveb	#0xC,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */
		.word 0
		.word 8
		.word 0x10
		.word 0x18
		.word 0x20
		.word 0x28
		.word 0x30
		.word 0x38
		.word 0xFFC8
		.word 0xFFD0
		.word 0xFFD8
		.word 0xFFE0
		.word 0xFFE8
		.word 0xFFF0
		.word 0xFFF8
		.word 0
/*  --------------------------------------------------------------------------- */

loc_57942:
		bsrw	sub_57B82
		jsr	(MoveSprite2):l
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmis	loc_57984
		tstw	0x18(%a0)
		beqs	locret_57982
		bmis	loc_5796E
		moveq	#0x20,%d3
		jsr	(ObjCheckRightWallDist):l
		tstw	%d1
		bmis	loc_5797A
		braw	locret_57982
/*  --------------------------------------------------------------------------- */

loc_5796E:
		moveq	#-0x20,%d3
		jsr	(ObjCheckLeftWallDist):l
		tstw	%d1
		bpls	locret_57982

loc_5797A:
		addw	%d1,0x10(%a0)
		clrw	0x18(%a0)

locret_57982:
		rts
/*  --------------------------------------------------------------------------- */

loc_57984:
		moveb	#8,5(%a0)
		movew	0x1A(%a0),%d0
		btst	#6,%d3
		beqs	loc_57996
		negw	%d0

loc_57996:
		movew	%d0,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

locret_5799C:
		rts
/*  --------------------------------------------------------------------------- */

loc_5799E:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		bnes	loc_579AA
		rts
/*  --------------------------------------------------------------------------- */

loc_579AA:
		moveb	#0x10,5(%a0)
		movew	0x14(%a0),0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_579B8:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	loc_579C8
		addqw	#1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_579C8:
		moveb	#0x12,5(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_579D4:
		addiw	#-0x20,0x1A(%a0)
		jsr	(MoveSprite2):l
		movew	0x14(%a0),%d0
		cmpw	0x3A(%a0),%d0
		blss	loc_579EC
		rts
/*  --------------------------------------------------------------------------- */

loc_579EC:
		moveb	#0xE,5(%a0)
		movew	0x3A(%a0),0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_579FA:
		lea	ObjDat3_57C1C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#AnimateRaw_MoveChkDel,(%a0)
		movel	#byte_57C48,0x30(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_57A26(%pc,%d0.w),0x42(%a0)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#8,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */
word_57A26:	.word 0xECF7
		.word 0x14F4
		.word 0x1400
		.word 0xC0C
		.word 0xF809
		.word 0xFCFA
/*  --------------------------------------------------------------------------- */

loc_57A32:
		lea	ObjDat3_57C28(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_57A7E,(%a0)
		movel	#byte_57C4E,0x30(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		movew	#0x5F,0x2E(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_57A6C(%pc,%d0.w),0x42(%a0)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */
word_57A6C:	.word 0xECD0
		.word 0x8CC
		.word 0xF4EC
		.word 0x10E0
		.word 0xAFC
		.word 0xEC0C
		.word 0x818
		.word 0xF028
		.word 0xC34
/*  --------------------------------------------------------------------------- */

loc_57A7E:
		jsr	Animate_Raw(%pc)
		jsr	(MoveSprite):l
		jsr	Obj_Wait(%pc)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_ICZBreakableWall:
		lea	ObjDat3_57C10(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_57AA6,(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_57AA6:
		moveq	#0x2B,%d1
		moveq	#0x40,%d2
		moveq	#0x70,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		moveaw	(_unkFAA4):w,%a1
		cmpil	#loc_5776A,(%a1)
		bnes	loc_57AF2
		movew	0x10(%a1),%d0
		movew	0x14(%a1),%d1
		andw	(Screen_Y_wrap_value):w,%d1
		movew	0x10(%a0),%d2
		movew	0x14(%a0),%d3
		lea	word_57B12(%pc),%a2
		addw	(%a2)+,%d2
		cmpw	%d2,%d0
		bcss	loc_57AF2
		addw	(%a2)+,%d2
		cmpw	%d2,%d0
		bccs	loc_57AF2
		addw	(%a2)+,%d3
		cmpw	%d3,%d1
		bcss	loc_57AF2
		addw	(%a2)+,%d3
		cmpw	%d3,%d1
		bcss	loc_57AF8

loc_57AF2:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_57AF8:
		lea	ChildObjDat_57C3A(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		jsr	Go_Delete_Sprite(%pc)
		moveq	#sfx_Collapse,%d0
		jsr	(Play_Sound_2):l
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */
word_57B12:	.word  0xFFD0,   0x60, 0xFFC0,   0x80
/*  --------------------------------------------------------------------------- */

loc_57B1A:
		lea	ObjDat3_57C04(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_57B2E,(%a0)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_57B2E:
		moveaw	0x46(%a0),%a1
		btst	#3,0x2A(%a1)
		beqs	loc_57B40
		movel	#MoveChkDel,(%a0)

loc_57B40:
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

Obj_BB_1:
		jsr	(Obj_WaitOffscreen):l
		lea	ObjDat3_57BF8(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_57B5A,(%a0)

loc_57B5A:
		moveq	#0x1B,%d1
		moveq	#0x10,%d2
		moveq	#0x11,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_57B70:
		cmpiw	#-0xC00,%d0
		blts	locret_57B80
		cmpiw	#0xC00,%d0
		bgts	locret_57B80
		movew	%d0,0x18(%a0)

locret_57B80:
		rts
/*  End of function sub_57B70 */


/*  =============== S U B R O U T I N E ======================================= */


sub_57B82:
		movew	0x1A(%a0),%d0
		addiw	#0x38,%d0
		cmpiw	#-0xC00,%d0
		blts	locret_57B9A
		cmpiw	#0xC00,%d0
		bgts	locret_57B9A
		movew	%d0,0x1A(%a0)

locret_57B9A:
		rts
/*  End of function sub_57B82 */


/*  =============== S U B R O U T I N E ======================================= */


sub_57B9C:
		moveb	0x26(%a0),%d3
		lsrb	#3,%d3
		andiw	#0xE,%d3
		movew	0x18(%a0),%d1
		bpls	loc_57BAE
		negw	%d1

loc_57BAE:
		movew	off_57BB6(%pc,%d3.w),%d0
		jmp	off_57BB6(%pc,%d0.w)
/*  End of function sub_57B9C */

/*  --------------------------------------------------------------------------- */
off_57BB6:	.word loc_57BC6-off_57BB6
		.word loc_57BCC-off_57BB6
		.word loc_57BD4-off_57BB6
		.word loc_57BCC-off_57BB6
		.word loc_57BC6-off_57BB6
		.word loc_57BCC-off_57BB6
		.word loc_57BD4-off_57BB6
		.word loc_57BCC-off_57BB6
/*  --------------------------------------------------------------------------- */

loc_57BC6:
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57BCC:
		lsrw	#1,%d1
		movew	%d1,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57BD4:
		movew	%d1,0x1A(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_57BDA:
		clrb	(Fast_V_scroll_flag):w
		btst	#3,0x2A(%a0)
		beqs	locret_57BEA
		st	(Fast_V_scroll_flag):w

locret_57BEA:
		rts
/*  End of function sub_57BDA */

/*  --------------------------------------------------------------------------- */
ObjDat3_57BEC:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x280
		.byte 0x20
		.byte 0x14
		.byte 0
		.byte 0
ObjDat3_57BF8:	.long Map_ICZPlatforms
		.word 0x4377
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0x1E
		.byte 0
ObjDat3_57C04:	.long Map_ICZWallAndColumn
		.word 0x4001
		.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 8
		.byte 0
ObjDat3_57C10:	.long Map_ICZWallAndColumn
		.word 0x4001
		.word 0x280
		.byte 0x20
		.byte 0x40
		.byte 6
		.byte 0
ObjDat3_57C1C:	.long Map_ICZPlatforms
		.word 0xC3B6
		.word 0x80
		.byte 8
		.byte 8
		.byte 0x23
		.byte 0
ObjDat3_57C28:	.long Map_ICZPlatforms
		.word 0xC347
		.word 0x80
		.byte 0xC
		.byte 0xC
		.byte 0x1C
		.byte 0
ChildObjDat_57C34:.word 5
		.long loc_579FA
ChildObjDat_57C3A:.word 8
		.long loc_57A32
ChildObjDat_57C40:.word 0
		.long loc_57B1A
		.word 0xF010
byte_57C48:	.byte    2, 0x23
		.byte  0x13, 0x24
		.byte  0x14, 0xFC
byte_57C4E:	.byte    2, 0x1C
		.byte  0x1D, 0x25
		.byte  0x26, 0xFC
/*  --------------------------------------------------------------------------- */

Obj_ICZCrushingColumn:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_57C78(%pc,%d0.w),%d1
		movew	0x10(%a0),-(%sp)
		jsr	off_57C78(%pc,%d1.w)
		moveq	#0x2B,%d1
		moveq	#0x70,%d2
		moveq	#0x70,%d3
		movew	(%sp)+,%d4
		jsr	(SolidObjectFull):l
		jmp	Sprite_CheckDelete(%pc)
/*  --------------------------------------------------------------------------- */
off_57C78:	.word loc_57C90-off_57C78
		.word loc_57CCC-off_57C78
		.word loc_57CDE-off_57C78
		.word loc_57CE6-off_57C78
		.word loc_57D0C-off_57C78
		.word loc_57D14-off_57C78
		.word loc_57D5A-off_57C78
		.word loc_57D7E-off_57C78
		.word loc_57D8E-off_57C78
		.word loc_57DA4-off_57C78
		.word loc_57DC0-off_57C78
		.word loc_57DDC-off_57C78
/*  --------------------------------------------------------------------------- */

loc_57C90:
		lea	ObjDat3_57E1E(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		moveb	#0x70,0x1E(%a0)
		movew	0x14(%a0),0x3E(%a0)
		movew	#0x1F,0x2E(%a0)
		cmpib	#3,0x2C(%a0)
		bccs	loc_57CC0
		moveb	#0xC,0x22(%a0)
		lea	ChildObjDat_57E30(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_57CC0:
		moveb	0x2C(%a0),%d0
		addb	%d0,%d0
		moveb	%d0,5(%a0)

locret_57CCA:
		rts
/*  --------------------------------------------------------------------------- */

loc_57CCC:
		moveb	0x2A(%a0),%d0
		andib	#0x18,%d0
		beqs	locret_57CCA

loc_57CD6:
		moveb	#0xA,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57CDE:
		subqw	#1,0x2E(%a0)
		bmis	loc_57CD6
		rts
/*  --------------------------------------------------------------------------- */

loc_57CE6:
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		cmpiw	#0x28,%d2
		bcsw	locret_57CCA
		btst	#0,4(%a0)
		beqs	loc_57D00
		subqw	#2,%d0

loc_57D00:
		tstw	%d0
		beqs	locret_57CCA

loc_57D04:
		moveb	#0xE,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57D0C:
		subqw	#1,0x2E(%a0)
		bmis	loc_57D04
		rts
/*  --------------------------------------------------------------------------- */

loc_57D14:
		movew	0x1A(%a0),%d0
		addiw	#-0x20,%d0
		cmpiw	#-0x400,%d0
		bles	loc_57D26
		movew	%d0,0x1A(%a0)

loc_57D26:
		jsr	(MoveSprite2):l
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bplw	locret_57CCA

loc_57D38:
		addw	%d1,0x14(%a0)
		moveb	#0x10,5(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_57D92,0x34(%a0)
		moveq	#sfx_MetalLand,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_57D5A:
		movew	0x1A(%a0),%d0
		addiw	#0x20,%d0
		cmpiw	#0x400,%d0
		bgts	loc_57D6C
		movew	%d0,0x1A(%a0)

loc_57D6C:
		jsr	(MoveSprite2):l
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmis	loc_57D38
		rts
/*  --------------------------------------------------------------------------- */

loc_57D7E:
		addqw	#8,0x14(%a0)
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bmis	loc_57D38
		rts
/*  --------------------------------------------------------------------------- */

loc_57D8E:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_57D92:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		moveb	byte_57DA0-1(%pc,%d0.w),5(%a0)
		rts
/*  --------------------------------------------------------------------------- */
byte_57DA0:	.byte 0x14
		.byte 0x14
		.byte 0x16
		.byte 0x12
/*  --------------------------------------------------------------------------- */

loc_57DA4:
		movew	0x14(%a0),%d0
		subqw	#1,%d0
		cmpw	0x3E(%a0),%d0
		blss	loc_57DB6
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57DB6:
		movew	#0x5F,0x2E(%a0)
		braw	loc_57CC0
/*  --------------------------------------------------------------------------- */

loc_57DC0:
		movew	0x14(%a0),%d0
		addqw	#1,%d0
		cmpw	0x3E(%a0),%d0
		bccs	loc_57DD2
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57DD2:
		movew	#0x5F,0x2E(%a0)
		braw	loc_57CC0
/*  --------------------------------------------------------------------------- */

loc_57DDC:
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		btst	#0,4(%a0)
		beqs	loc_57DEE
		subqw	#2,%d0

loc_57DEE:
		tstw	%d0
		bnew	locret_57CCA
		moveb	#0x12,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57DFC:
		movel	#loc_57E0A,(%a0)
		lea	word_57E2A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)

loc_57E0A:
		moveaw	0x46(%a0),%a1
		movew	0x14(%a1),%d0
		addiw	#0xB0,%d0
		movew	%d0,0x14(%a0)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
ObjDat3_57E1E:	.long Map_ICZWallAndColumn
		.word 0x4001
		.word 0x280
		.byte 0x20
		.byte 0x70
		.byte 2
		.byte 0
word_57E2A:	.word 0x280
		.byte 0x20
		.byte 0x40
		.byte 0xD
		.byte 0
ChildObjDat_57E30:.word 0
		.long loc_57DFC
		.word 0
/*  --------------------------------------------------------------------------- */

Obj_ICZFreezer:
		jsr	Obj_WaitOffscreen(%pc)
		movel	#loc_57E4E,(%a0)
		lea	ObjDat3_5826C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_57E4E:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bccs	loc_57E72
		movel	#loc_57E76,(%a0)
		clrw	0x2E(%a0)
		clrw	0x30(%a0)
		clrb	0x39(%a0)
		moveq	#sfx_FrostPuff,%d0
		jsr	(Play_Sound_2):l

loc_57E72:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_57E76:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bccs	loc_57EBE
		subqw	#1,0x30(%a0)
		bpls	loc_57EA2
		moveq	#0,%d0
		moveb	0x39(%a0),%d0
		bchg	#1,%d0
		moveb	%d0,0x39(%a0)
		movew	word_57ED6(%pc,%d0.w),0x30(%a0)
		movew	off_57EDA(%pc,%d0.w),%d0
		jsr	off_57EDA(%pc,%d0.w)

loc_57EA2:
		btst	#1,0x38(%a0)
		beqs	loc_57EBA
		subqw	#1,0x2E(%a0)
		bpls	loc_57EBA
		movew	#1,0x2E(%a0)
		bsrw	sub_57F00

loc_57EBA:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_57EBE:
		movel	#loc_57E4E,(%a0)
		bclr	#1,0x38(%a0)
		moveq	#mus_StopSFX,%d0
		jsr	(Play_Sound_2):l
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
word_57ED6:	.word 0x40
		.word 0x40
off_57EDA:	.word loc_57EDE-off_57EDA
		.word loc_57EE6-off_57EDA
/*  --------------------------------------------------------------------------- */

loc_57EDE:
		bclr	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57EE6:
		bset	#1,0x38(%a0)
		lea	ChildObjDat_582A8(%pc),%a2
		btst	#1,4(%a0)
		beqs	loc_57EFC
		lea	ChildObjDat_582B0(%pc),%a2

loc_57EFC:
		jmp	CreateChild1_Normal(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_57F00:
		lea	ChildObjDat_58298(%pc),%a2
		btst	#1,4(%a0)
		beqs	loc_57F10
		lea	ChildObjDat_582A0(%pc),%a2

loc_57F10:
		jmp	CreateChild1_Normal(%pc)
/*  End of function sub_57F00 */

/*  --------------------------------------------------------------------------- */

loc_57F14:
		lea	word_58278(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_57F24,(%a0)

locret_57F22:
		rts
/*  --------------------------------------------------------------------------- */

loc_57F24:
		bsrw	sub_580EC
		jsr	Refresh_ChildPosition(%pc)
		subqb	#1,0x3A(%a0)
		bplw	locret_57F22
		moveb	#2,0x3A(%a0)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_57F40:
		movel	#loc_57F54,(%a0)
		movew	#0x1F,0x2E(%a0)
		lea	ObjDat3_5826C(%pc),%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_57F54:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_57F84
		subqw	#1,0x2E(%a0)
		bmis	loc_57F68
		rts
/*  --------------------------------------------------------------------------- */

loc_57F68:
		movel	#loc_57F70,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57F70:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_57F84
		lea	word_58206(%pc),%a1
		braw	sub_5819C
/*  --------------------------------------------------------------------------- */

loc_57F84:
		movel	#loc_57F9A,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_57F9A:
		jsr	Obj_Wait(%pc)
		lea	word_58206(%pc),%a1
		braw	sub_5819C
/*  --------------------------------------------------------------------------- */

loc_57FA6:
		lea	ObjDat3_58280(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_58004,(%a0)
		moveb	#0x10,0x1E(%a0)
		moveaw	0x44(%a0),%a1
		movew	0x10(%a1),%d0
		movew	%d0,0x10(%a0)
		movew	0x14(%a1),0x14(%a0)
		btst	#0,4(%a1)
		beqs	loc_57FDA
		bset	#0,4(%a0)

loc_57FDA:
		moveaw	0x46(%a0),%a2
		movew	#0x200,%d1
		cmpw	0x10(%a2),%d0
		bccs	loc_57FEA
		negw	%d1

loc_57FEA:
		movew	%d1,0x18(%a0)
		movew	#-0x400,0x1A(%a0)
		movew	#0x7F,0x2E(%a0)
		movel	#loc_58066,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_58004:
		movew	(Camera_X_pos):w,%d0
		tstw	0x18(%a0)
		bmis	loc_5801C
		addiw	#0x128,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_58026
		braw	loc_5802A
/*  --------------------------------------------------------------------------- */

loc_5801C:
		addiw	#0x20,%d0
		cmpw	0x10(%a0),%d0
		bcss	loc_5802A

loc_58026:
		clrw	0x18(%a0)

loc_5802A:
		jsr	(MoveSprite):l
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_58044
		addw	%d1,0x14(%a0)
		movel	#loc_58044,(%a0)

loc_58044:
		moveaw	0x44(%a0),%a1
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		subqw	#1,0x2E(%a0)
		bmis	loc_58066
		bsrw	sub_5820E
		bnes	loc_58090
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_58066:
		moveaw	0x44(%a0),%a1
		moveal	%a0,%a2
		moveal	%a1,%a0
		jsr	(HurtCharacter):l
		cmpib	#0x18,0x20(%a0)
		beqs	loc_5808E
		movew	#0x200,%d0
		btst	#0,4(%a0)
		bnes	loc_5808A
		negw	%d0

loc_5808A:
		movew	%d0,0x18(%a0)

loc_5808E:
		moveal	%a2,%a0

loc_58090:
		moveaw	0x44(%a0),%a1
		bset	#1,0x2A(%a1)
		clrb	0x2E(%a1)
		moveb	#0x78,0x34(%a1)
		lea	ChildObjDat_582C0(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_580B2:
		lea	ObjDat3_5828C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#AnimateRaw_MoveChkDel,(%a0)
		movel	#byte_58314,0x30(%a0)
		cmpib	#8,0x2C(%a0)
		bccs	loc_580D8
		movel	#byte_5830A,0x30(%a0)

loc_580D8:
		jsr	(Random_Number):l
		andib	#3,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0xC,%d0
		jmp	Set_IndexedVelocity(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_580EC:
		subqw	#1,0x2E(%a0)
		bpls	locret_58144
		movew	#2,0x2E(%a0)
		moveq	#0,%d0
		moveb	0x39(%a0),%d0
		addqb	#4,%d0
		cmpib	#0x48,%d0
		bccs	loc_58146
		moveb	%d0,0x39(%a0)
		lea	byte_58150(%pc,%d0.w),%a1
		moveb	(%a1)+,0x43(%a0)
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,%d2
		jsr	(Random_Number):l
		andb	%d2,%d0
		movew	%d2,%d3
		lsrb	#1,%d3
		subb	%d3,%d0
		moveb	%d0,0x42(%a0)
		swap	%d0
		andb	%d2,%d0
		subb	%d3,%d0
		moveaw	0x46(%a0),%a1
		btst	#1,4(%a1)
		beqs	loc_58140
		negb	0x43(%a0)

loc_58140:
		addb	%d0,0x43(%a0)

locret_58144:
		rts
/*  --------------------------------------------------------------------------- */

loc_58146:
		jsr	(Delete_Current_Sprite):l
		addqw	#4,%sp
		rts
/*  End of function sub_580EC */

/*  --------------------------------------------------------------------------- */
byte_58150:	.byte  0x10, 0x16,   3,   0
		.byte  0x10, 0x16,   3,   0
		.byte  0x14, 0x16,   3,   0
		.byte  0x18, 0x16,   3,   0
		.byte  0x1C, 0x16,   7,   0
		.byte  0x22, 0x17,   7,   0
		.byte  0x26, 0x17,   7,   0
		.byte  0x2E, 0x17,   7,   0
		.byte  0x32, 0x17,   7,   0
		.byte  0x3C, 0x18,   7,   0
		.byte  0x40, 0x18,  0xF,   0
		.byte  0x4D, 0x19,  0xF,   0
		.byte  0x52, 0x19,  0xF,   0
		.byte  0x4B, 0x19,  0xF,   0
		.byte  0x44, 0x19,  0xF,   0
		.byte  0x42, 0x19,  0xF,   0
		.byte  0x3E, 0x18,  0xF,   0
		.byte  0x3B, 0x17,  0xF,   0
		.byte  0x38, 0x16,  0xF,   0

/*  =============== S U B R O U T I N E ======================================= */


sub_5819C:
		jsr	Check_PlayerInRange(%pc)
		tstl	%d0
		beqs	locret_58204
		tstw	%d0
		beqs	loc_581AE
		moveaw	%d0,%a4
		bsrw	sub_581B6

loc_581AE:
		swap	%d0
		tstw	%d0
		beqs	locret_58204
		moveaw	%d0,%a4
/*  End of function sub_5819C */


/*  =============== S U B R O U T I N E ======================================= */


sub_581B6:
		tstb	0x2E(%a4)
		bnes	locret_58204
		btst	#1,0x2B(%a4)
		bnes	locret_58204
		tstb	0x34(%a4)
		bnes	locret_58204
		cmpib	#4,5(%a4)
		bccs	locret_58204
		moveb	#-0x7F,0x2E(%a4)
		moveb	#0x1A,0x20(%a4)
		bset	#1,0x2A(%a4)
		clrb	0x3D(%a4)
		clrw	0x18(%a4)
		clrw	0x1A(%a4)
		clrw	0x1C(%a4)
		movel	%d0,%d4
		lea	ChildObjDat_582B8(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		movel	%d4,%d0
		movew	%a4,0x44(%a1)

locret_58204:
		rts
/*  End of function sub_581B6 */

/*  --------------------------------------------------------------------------- */
word_58206:	.word  0xFFF0,   0x20, 0xFFD8,   0x50

/*  =============== S U B R O U T I N E ======================================= */


sub_5820E:
		lea	(Player_1):w,%a3
		cmpaw	0x44(%a0),%a3
		bnes	loc_5821C
		lea	(Player_2):w,%a3

loc_5821C:
		tstw	0x1A(%a3)
		bmis	loc_58260
		cmpib	#2,0x20(%a3)
		beqs	loc_58232
		cmpib	#9,0x20(%a3)
		bnes	loc_58260

loc_58232:
		lea	word_58264(%pc),%a1
		jsr	Check_PlayerInRange(%pc)
		tstl	%d0
		beqs	locret_5825E
		tstw	%d0
		beqs	loc_5824A
		moveaw	%d0,%a4
		tstb	0x2E(%a4)
		beqs	loc_58258

loc_5824A:
		swap	%d0
		tstw	%d0
		beqs	locret_5825E
		moveaw	%d0,%a4
		tstb	0x2E(%a4)
		bnes	loc_58260

loc_58258:
		negw	0x1A(%a3)
		moveq	#1,%d0

locret_5825E:
		rts
/*  --------------------------------------------------------------------------- */

loc_58260:
		moveq	#0,%d0
		rts
/*  End of function sub_5820E */

/*  --------------------------------------------------------------------------- */
word_58264:	.word 0xFFE4,  0x38,0xFFE8,  0x30
ObjDat3_5826C:	.long Map_ICZPlatforms
		.word 0x23B6
		.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 6
		.byte 0x9A
word_58278:	.word 0x43B6
		.word 0x80
		.byte 0xC
		.byte 0xC
		.byte 0x16
		.byte 0
ObjDat3_58280:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x80
		.byte 0x14
		.byte 0x10
		.byte 2
		.byte 0
ObjDat3_5828C:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x80
		.byte 4
		.byte 4
		.byte 0xC
		.byte 0
ChildObjDat_58298:.word 0
		.long loc_57F14
		.word 0xC
ChildObjDat_582A0:.word 0
		.long loc_57F14
		.word 0xF4
ChildObjDat_582A8:.word 0
		.long loc_57F40
		.word 0x30
ChildObjDat_582B0:.word 0
		.long loc_57F40
		.word 0xD0
ChildObjDat_582B8:.word 0
		.long loc_57FA6
		.word 0
ChildObjDat_582C0:.word 0xB
		.long loc_580B2
		.word 0xF4F8
		.long loc_580B2
		.word 0xFCF8
		.long loc_580B2
		.word 0x4F8
		.long loc_580B2
		.word 0xCF8
		.long loc_580B2
		.word 0xF400
		.long loc_580B2
		.word 0xFC00
		.long loc_580B2
		.word 0x400
		.long loc_580B2
		.word 0xC00
		.long loc_580B2
		.word 0xF408
		.long loc_580B2
		.word 0xFC08
		.long loc_580B2
		.word 0x408
		.long loc_580B2
		.word 0xC08
byte_5830A:	.byte    0, 0x27
		.byte  0x23, 0x27
		.byte  0x13, 0x27
		.byte  0x24, 0x27
		.byte  0x14, 0xFC
byte_58314:	.byte    0, 0x27
		.byte   0xC, 0x27
		.byte   0xD, 0x27
		.byte   0xE, 0xFC
byte_5831C:	.byte    0, 0x27
		.byte   0xF, 0x27
		.byte  0x10, 0x27
		.byte  0x11, 0xFC
/*  --------------------------------------------------------------------------- */

Obj_ICZSegmentColumn:
		lea	ObjDat3_5849A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#Sprite_CheckDelete2,(%a0)
		lea	ChildObjDat_584AC(%pc),%a2
		tstb	0x2C(%a0)
		beqs	loc_58340
		lea	ChildObjDat_584B4(%pc),%a2

loc_58340:
		jmp	CreateChild8_TreeListRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_58344:
		lea	word_584A6(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_5836E,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		cmpib	#6,%d0
		bnes	loc_58364
		moveb	#3,0x22(%a0)

loc_58364:
		lslw	#4,%d0
		subw	%d0,0x14(%a0)
		braw	loc_58486
/*  --------------------------------------------------------------------------- */

loc_5836E:
		moveaw	0x46(%a0),%a1
		btst	#0,0x38(%a1)
		bnes	loc_583B0
		movew	(Player_1+x_vel):w,-(%sp)
		movew	(Player_2+x_vel):w,-(%sp)
		bsrw	sub_58428
		movel	(%sp)+,%d0
		moveq	#5,%d1
		cmpib	#3,0x22(%a0)
		beqs	loc_583AC
		tstb	0x2C(%a0)
		bnes	loc_583AC
		lea	(Player_1):w,%a1
		bsrw	sub_58438
		lea	(Player_2):w,%a1
		swap	%d0
		addqb	#1,%d1
		bsrw	sub_58438

loc_583AC:
		braw	loc_58486
/*  --------------------------------------------------------------------------- */

loc_583B0:
		movel	#loc_583D6,(%a0)
		bset	#0,0x38(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lslw	#2,%d0
		addiw	#0xF,%d0
		movew	%d0,0x2E(%a0)
		movel	#loc_583E2,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_583D6:
		bsrw	sub_58428
		jsr	Obj_Wait(%pc)
		braw	loc_58486
/*  --------------------------------------------------------------------------- */

loc_583E2:
		movel	#loc_583FC,(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_5840C,0x34(%a0)
		subqb	#2,0x2C(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_583FC:
		bsrw	sub_58428
		addqw	#4,0x14(%a0)
		jsr	Obj_Wait(%pc)
		braw	loc_58486
/*  --------------------------------------------------------------------------- */

loc_5840C:
		movel	#loc_5836E,(%a0)
		bclr	#0,0x38(%a0)
		movew	#0x10,(Screen_shake_flag):w
		moveq	#sfx_MetalLand,%d0
		jsr	(Play_Sound_2):l
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_58428:
		moveq	#0x2B,%d1
		moveq	#0x10,%d2
		moveq	#0x10,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_58428 */


/*  =============== S U B R O U T I N E ======================================= */


sub_58438:
		btst	%d1,0x2A(%a0)
		beqs	locret_58484
		movew	%d0,%d3
		tstw	%d3
		bpls	loc_58446
		negw	%d3

loc_58446:
		cmpib	#2,0x20(%a1)
		bnes	locret_58484
		cmpiw	#0x600,%d3
		bcss	locret_58484
		movew	%d0,0x18(%a1)
		movew	%d0,0x1C(%a1)
		bclr	%d1,0x2A(%a0)
		bclr	%d1,0x2A(%a1)
		bset	#0,0x38(%a0)
		lea	ChildObjDat_582C0(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jsr	Displace_PlayerOffObject(%pc)
		jsr	Go_Delete_Sprite(%pc)
		moveq	#sfx_Collapse,%d0
		jsr	(Play_Sound_2):l
		addqw	#4,%sp

locret_58484:
		rts
/*  End of function sub_58438 */

/*  --------------------------------------------------------------------------- */

loc_58486:
		moveaw	0x44(%a0),%a1
		btst	#4,0x38(%a1)
		bnew	Go_Delete_Sprite_2
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
ObjDat3_5849A:	.long Map_ICZWallAndColumn
		.word 0x4001
		.word 0x280
		.byte 0x20
		.byte 0x10
		.byte 0xB
		.byte 0
word_584A6:	.word 0x280
		.byte 0x20
		.byte 0x10
		.byte 0xA
		.byte 0
ChildObjDat_584AC:.word 2
		.long loc_58344
		.word 0
ChildObjDat_584B4:.word 3
		.long loc_58344
		.word 0
/*  --------------------------------------------------------------------------- */

Obj_ICZSwingingPlatform:
		lea	ObjDat3_588F0(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_584D8,(%a0)
		lea	ChildObjDat_5891C(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		movew	%a1,0x46(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_584D8:
		btst	#3,0x38(%a0)
		beqs	loc_584F4
		movel	#loc_584F8,(%a0)
		btst	#0,4(%a0)
		beqs	loc_584F4
		movel	#loc_58582,(%a0)

loc_584F4:
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_584F8:
		movew	0x3E(%a0),%d0
		subiw	#0x10,%d0
		movew	%d0,0x3E(%a0)
		movew	0x3C(%a0),%d1
		addw	%d0,%d1
		scc	%d2
		tstw	%d0
		bpls	loc_58514
		tstb	%d2
		bnes	loc_5853A

loc_58514:
		movew	%d1,0x3C(%a0)
		tstb	0x2C(%a0)
		beqs	loc_5852A
		cmpiw	#0x4800,%d1
		bcss	loc_5852A
		cmpiw	#0x200,%d0
		bccs	loc_58554

loc_5852A:
		cmpiw	#0x6E00,%d1
		bccs	loc_58536
		moveq	#1,%d2
		jsr	MoveSprite_CircularSimple(%pc)

loc_58536:
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5853A:
		movel	#loc_584D8,(%a0)
		bclr	#3,0x38(%a0)
		clrw	0x3C(%a0)
		moveq	#1,%d2
		jsr	MoveSprite_CircularSimple(%pc)
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_58554:
		movel	#loc_585C4,(%a0)
		bset	#2,0x38(%a0)
		moveb	#0x10,0x1E(%a0)
		movew	#0x400,%d0
		btst	#0,4(%a0)
		beqs	loc_58574
		negw	%d0

loc_58574:
		movew	%d0,0x18(%a0)
		movew	#-0x600,0x1A(%a0)
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_58582:
		movew	0x3E(%a0),%d0
		addiw	#0x10,%d0
		movew	%d0,0x3E(%a0)
		movew	0x3C(%a0),%d1
		addw	%d0,%d1
		scs	%d2
		tstw	%d0
		bmis	loc_5859E
		tstb	%d2
		bnes	loc_5853A

loc_5859E:
		movew	%d1,0x3C(%a0)
		tstb	0x2C(%a0)
		beqs	loc_585B4
		cmpiw	#-0x4800,%d1
		bhis	loc_585B4
		cmpiw	#0x200,%d0
		bccs	loc_58554

loc_585B4:
		cmpiw	#-0x6E00,%d1
		blss	loc_585C0
		moveq	#1,%d2
		jsr	MoveSprite_CircularSimple(%pc)

loc_585C0:
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_585C4:
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmis	loc_585F8
		jsr	(ObjCheckFloorDist):l
		tstw	%d1
		bpls	loc_585F8
		addw	%d1,0x14(%a0)
		movew	0x1A(%a0),%d0
		cmpiw	#0x100,%d0
		bcss	loc_585FC
		asrw	#2,%d0
		negw	%d0
		movew	%d0,0x1A(%a0)
		lea	ChildObjDat_58936(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_585F8:
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_585FC:
		movel	#loc_5861A,(%a0)
		movew	#0x10,%d0
		tstw	0x18(%a0)
		bmis	loc_5860E
		negw	%d0

loc_5860E:
		movew	%d0,0x40(%a0)
		clrw	0x1A(%a0)
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5861A:
		movew	0x18(%a0),%d0
		movew	%d0,%d1
		addw	0x40(%a0),%d0
		eorw	%d0,%d1
		bmis	loc_5864E
		movew	%d0,0x18(%a0)
		movew	0x10(%a0),%d1
		jsr	(MoveSprite2):l
		movew	0x10(%a0),%d0
		eorw	%d0,%d1
		btst	#3,%d1
		beqs	loc_5864A
		lea	ChildObjDat_58944(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_5864A:
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5864E:
		movel	#loc_58658,(%a0)
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_58658:
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5865C:
		lea	word_58910(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_5866A,(%a0)

loc_5866A:
		bsrw	sub_58838
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_58672:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_58684
		movel	#loc_5866A,(%a0)

loc_58684:
		bsrw	sub_5880C
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5868C:
		lea	word_58916(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_5869A,(%a0)

loc_5869A:
		bsrw	sub_58822
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_586A2:
		lea	word_588FC(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_586EA,(%a0)
		subiw	#0x80,0x14(%a0)
		moveaw	0x46(%a0),%a1
		btst	#0,4(%a1)
		beqs	loc_586C8
		bset	#0,4(%a0)

loc_586C8:
		bset	#6,4(%a0)
		movew	#7,0x16(%a0)
		lea	0x1C(%a0),%a1
		moveq	#6,%d6

loc_586DA:
		movew	#8,(%a1)
		addqw	#6,%a1
		dbf	%d6,loc_586DA
		moveb	#8,0x22(%a0)

loc_586EA:
		bsrw	sub_588CC
		bsrw	sub_5875A
		jmp	Child_Draw_Sprite2(%pc)
/*  --------------------------------------------------------------------------- */

loc_586F6:
		lea	ObjDat3_58904(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_58756,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_5873E(%pc,%d0.w),%d1
		negw	%d1
		movew	%d1,0x1A(%a0)
		moveaw	0x46(%a0),%a1
		btst	#0,4(%a1)
		bnes	loc_58722
		negw	%d1

loc_58722:
		movew	%d1,0x18(%a0)
		lsrw	#1,%d0
		moveb	byte_5874E(%pc,%d0.w),%d0
		moveaw	0x46(%a0),%a1
		movew	(%a1,%d0.w),0x10(%a0)
		movew	2(%a1,%d0.w),0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_5873E:	.word 0x80
		.word 0x100
		.word 0x180
		.word 0x200
		.word 0x280
		.word 0x300
		.word 0x380
		.word 0x400
byte_5874E:	.byte 0x42
		.byte 0x18
		.byte 0x1E
		.byte 0x24
		.byte 0x2A
		.byte 0x30
		.byte 0x36
		.byte 0x3C
/*  --------------------------------------------------------------------------- */

loc_58756:
		jmp	MoveChkDel(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_5875A:
		moveaw	0x46(%a0),%a1
		lea	0x18(%a0),%a2
		movew	0x10(%a0),%d0
		movew	0x10(%a1),%d1
		subw	%d0,%d1
		swap	%d0
		swap	%d1
		movew	0x14(%a0),%d0
		movew	0x14(%a1),%d1
		subw	%d0,%d1
		moveq	#0,%d5
		moveq	#6,%d6

loc_5877E:
		movel	%d1,%d2
		movew	off_58798(%pc,%d5.w),%d4
		jsr	off_58798(%pc,%d4.w)
		movel	%d0,(%a2)
		swap	%d2
		addl	%d2,(%a2)+
		addqw	#2,%a2
		addqw	#2,%d5
		dbf	%d6,loc_5877E
		rts
/*  End of function sub_5875A */

/*  --------------------------------------------------------------------------- */
off_58798:	.word loc_587A8-off_58798
		.word loc_587B0-off_58798
		.word loc_587B8-off_58798
		.word loc_587CC-off_58798
		.word loc_587D4-off_58798
		.word loc_587E8-off_58798
		.word loc_587FC-off_58798
		.word locret_5880A-off_58798
/*  --------------------------------------------------------------------------- */

loc_587A8:
		asrw	#3,%d2
		swap	%d2
		asrw	#3,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_587B0:
		asrw	#2,%d2
		swap	%d2
		asrw	#2,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_587B8:
		asrw	#2,%d2
		movew	%d2,%d3
		asrw	#1,%d2
		addw	%d3,%d2
		swap	%d2
		asrw	#2,%d2
		movew	%d2,%d3
		asrw	#1,%d2
		addw	%d3,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_587CC:
		asrw	#1,%d2
		swap	%d2
		asrw	#1,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_587D4:
		asrw	#1,%d2
		movew	%d2,%d3
		asrw	#2,%d2
		addw	%d3,%d2
		swap	%d2
		asrw	#1,%d2
		movew	%d2,%d3
		asrw	#2,%d2
		addw	%d3,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_587E8:
		asrw	#1,%d2
		movew	%d2,%d3
		asrw	#1,%d2
		addw	%d3,%d2
		swap	%d2
		asrw	#1,%d2
		movew	%d2,%d3
		asrw	#1,%d2
		addw	%d3,%d2
		rts
/*  --------------------------------------------------------------------------- */

loc_587FC:
		movew	%d2,%d3
		asrw	#3,%d3
		subw	%d3,%d2
		swap	%d2
		movew	%d2,%d3
		asrw	#3,%d3
		subw	%d3,%d2

locret_5880A:
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_5880C:
		movew	0x10(%a0),-(%sp)
		jsr	Refresh_ChildPosition(%pc)
		moveq	#0x2B,%d1
		moveq	#8,%d2
		moveq	#8,%d3
		movew	(%sp)+,%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_5880C */


/*  =============== S U B R O U T I N E ======================================= */


sub_58822:
		movew	0x10(%a0),-(%sp)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0xF,%d1
		moveq	#8,%d2
		moveq	#8,%d3
		movew	(%sp)+,%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_58822 */


/*  =============== S U B R O U T I N E ======================================= */


sub_58838:
		moveb	0x2A(%a0),0x39(%a0)
		bsrs	sub_5880C
		moveb	0x39(%a0),%d0
		moveb	0x2A(%a0),%d1
		andib	#0x18,%d1
		beqs	locret_58866
		moveaw	0x46(%a0),%a2
		lea	(Player_1):w,%a1
		moveq	#3,%d2
		bsrw	sub_58868
		lea	(Player_2):w,%a1
		moveq	#4,%d2
		bsrw	sub_58868

locret_58866:
		rts
/*  End of function sub_58838 */


/*  =============== S U B R O U T I N E ======================================= */


sub_58868:
		btst	%d2,%d1
		beqs	locret_58866
		movew	0x18(%a1),%d3
		smi	%d4
		cmpiw	#-0x200,%d3
		bles	loc_5887E
		cmpiw	#0x200,%d3
		blts	locret_58866

loc_5887E:
		btst	%d2,%d0
		beqs	loc_58884
		asrw	#1,%d3

loc_58884:
		btst	#0,4(%a2)
		beqs	loc_5888E
		notb	%d4

loc_5888E:
		tstb	%d4
		bnes	locret_58866
		movel	#loc_58672,(%a0)
		bset	#3,0x38(%a2)
		asrw	#1,%d3
		bmis	loc_588B0
		cmpiw	#0x400,%d3
		bles	loc_588BA
		movew	#0x400,%d3
		braw	loc_588BA
/*  --------------------------------------------------------------------------- */

loc_588B0:
		cmpiw	#-0x400,%d3
		bges	loc_588BA
		movew	#-0x400,%d3

loc_588BA:
		movew	%d3,0x3E(%a2)
		aslw	#1,%d3
		movew	%d3,0x18(%a1)
		movew	%d3,0x1C(%a1)
		addqw	#4,%sp

locret_588CA:
		rts
/*  End of function sub_58868 */


/*  =============== S U B R O U T I N E ======================================= */


sub_588CC:
		moveaw	0x46(%a0),%a1
		btst	#2,0x38(%a1)
		beqs	locret_588CA
		movew	0x10(%a0),0x2A(%a0)
		movew	0x14(%a0),0x2C(%a0)
		lea	ChildObjDat_58930(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		jmp	Go_Delete_Sprite_2(%pc)
/*  End of function sub_588CC */

/*  --------------------------------------------------------------------------- */
ObjDat3_588F0:	.long Map_ICZPlatforms
		.word 0x23B6
		.word 0x80
		.byte 0x20
		.byte 0x10
		.byte 7
		.byte 0
word_588FC:	.word 0x43B6
		.word 0x280
		.byte 0x80
		.byte 0x80
		.byte 8
		.byte 0
ObjDat3_58904:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x280
		.byte 8
		.byte 8
		.byte 8
		.byte 0
word_58910:	.word 0x300
		.byte 0x20
		.byte 0x10
		.byte 0x27
		.byte 0
word_58916:	.word 0x300
		.byte 0x30
		.byte 8
		.byte 0x27
		.byte 0
ChildObjDat_5891C:.word 2
		.long loc_5865C
		.word 8
		.long loc_5868C
		.word 0x1CF8
		.long loc_586A2
		.word 0
ChildObjDat_58930:.word 7
		.long loc_586F6
ChildObjDat_58936:.word 1
		.long Obj_ICZSnowdust
		.word 0x1C10
		.long Obj_ICZSnowdust
		.word 0x1410
ChildObjDat_58944:.word 0
		.long Obj_ICZSnowdust
		.word 0x1C10
/*  --------------------------------------------------------------------------- */

Obj_ICZStalagtite:
		jsr	Obj_WaitOffscreen(%pc)
		lea	ObjDat3_58A32(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_58966,(%a0)
		moveb	#0x10,0x1E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_58966:
		bsrw	sub_58A22
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x70,%d2
		bccs	loc_58988
		movel	#loc_5898C,(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_589A4,0x34(%a0)

loc_58988:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5898C:
		moveq	#2,%d0
		btst	#0,(V_int_run_count+3):w
		beqs	loc_58998
		negw	%d0

loc_58998:
		addw	%d0,0x10(%a0)
		jsr	Obj_Wait(%pc)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_589A4:
		movel	#loc_589B2,(%a0)
		moveb	#-0x7E,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_589B2:
		jsr	(MoveSprite):l
		jsr	(ObjCheckCeilingDist):l
		tstw	%d1
		bpls	loc_589DC
		movel	#loc_589E0,(%a0)
		clrb	0x28(%a0)
		lea	ChildObjDat_58A4A(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		moveq	#sfx_FloorThump,%d0
		jsr	(Play_Sound_2):l

loc_589DC:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_589E0:
		bsrw	sub_58A22
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_589E8:
		lea	ObjDat3_58A3E(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#AnimateRaw_MoveChkDel,(%a0)
		movel	#byte_5831C,0x30(%a0)
		cmpib	#6,0x2C(%a0)
		bccs	loc_58A0E
		movel	#byte_58314,0x30(%a0)

loc_58A0E:
		jsr	(Random_Number):l
		andib	#3,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d0
		jmp	Set_IndexedVelocity(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_58A22:
		moveq	#0x1B,%d1
		moveq	#0x20,%d2
		moveq	#0x20,%d3
		movew	0x10(%a0),%d4
		jmp	(SolidObjectFull):l
/*  End of function sub_58A22 */

/*  --------------------------------------------------------------------------- */
ObjDat3_58A32:	.long Map_ICZWallAndColumn
		.word 0x4001
		.word 0x280
		.byte 0x10
		.byte 0x20
		.byte 7
		.byte 0
ObjDat3_58A3E:	.long Map_ICZPlatforms
		.word 0xC3B6
		.word 0x280
		.byte 4
		.byte 4
		.byte 0xF
		.byte 0
ChildObjDat_58A4A:.word 0xB
		.long loc_589E8
		.word 0x27
		.byte   0xF, 0x27
		.byte  0x10, 0x27
		.byte  0x11, 0xFC
/*  --------------------------------------------------------------------------- */

Obj_ICZIceSpikes:
		jsr	Obj_WaitOffscreen(%pc)
		lea	ObjDat3_58B08(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		tstb	0x2C(%a0)
		bnes	loc_58A84
		movel	#loc_58A92,(%a0)
		lea	ChildObjDat_58B14(%pc),%a2
		btst	#1,4(%a0)
		beqs	loc_58A80
		lea	ChildObjDat_58B1C(%pc),%a2

loc_58A80:
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_58A84:
		movel	#loc_58AA6,(%a0)
		moveb	#-0x6E,0x28(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_58A92:
		moveq	#0x17,%d1
		moveq	#8,%d2
		moveq	#8,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_58AA6:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x40,%d2
		bccs	loc_58AC4
		movel	#loc_58AC8,(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_58AE0,0x34(%a0)

loc_58AC4:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_58AC8:
		moveq	#2,%d0
		btst	#0,(V_int_run_count+3):w
		beqs	loc_58AD4
		negw	%d0

loc_58AD4:
		addw	%d0,0x10(%a0)
		jsr	Obj_Wait(%pc)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_58AE0:
		movel	#MoveTouchChkDel,(%a0)

locret_58AE6:
		rts
/*  --------------------------------------------------------------------------- */

loc_58AE8:
		moveb	#-0x68,0x28(%a0)
		jsr	(Add_SpriteToCollisionResponseList):l
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		beqw	locret_58AE6
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
ObjDat3_58B08:	.long Map_ICZWallAndColumn
		.word 0x4001
		.word 0x280
		.byte 0xC
		.byte 0x10
		.byte 5
		.byte 0
ChildObjDat_58B14:.word 0
		.long loc_58AE8
		.word 0xC
ChildObjDat_58B1C:.word 0
		.long loc_58AE8
		.word 0xF4
/*  --------------------------------------------------------------------------- */

Obj_ICZIceCube:
		jsr	Obj_WaitOffscreen(%pc)
		movel	#loc_58B3C,(%a0)
		lea	ObjDat3_58C0C(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		jmp	(Sprite_OnScreen_Test):l
/*  --------------------------------------------------------------------------- */

loc_58B3C:
		moveb	(Player_1+anim):w,0x3A(%a0)
		moveb	(Player_2+anim):w,0x3B(%a0)
		moveq	#0x23,%d1
		moveq	#0x10,%d2
		moveq	#0x10,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectFull):l
		bsrw	sub_58B62
		jmp	(Sprite_OnScreen_Test):l

/*  =============== S U B R O U T I N E ======================================= */


sub_58B62:
		moveb	0x2A(%a0),%d0
		btst	#3,%d0
		beqs	loc_58B78
		lea	(Player_1):w,%a1
		cmpib	#2,0x3A(%a0)
		beqs	loc_58B8A

loc_58B78:
		btst	#4,%d0
		beqs	locret_58BD0
		lea	(Player_1):w,%a2
		cmpib	#2,0x3B(%a0)
		bnes	locret_58BD0

loc_58B8A:
		bset	#2,0x2A(%a1)
		moveb	#0xE,0x1E(%a1)
		moveb	#7,0x1F(%a1)
		moveb	#2,0x20(%a1)
		movew	#-0x300,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		moveb	#2,5(%a1)
		lea	ChildObjDat_58C20(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		jsr	(Go_Delete_Sprite):l

locret_58BD0:
		rts
/*  End of function sub_58B62 */

/*  --------------------------------------------------------------------------- */

loc_58BD2:
		lea	word_58C18(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#AnimateRaw_MoveChkDel,(%a0)
		movel	#byte_5830A,0x30(%a0)
		cmpib	#0xC,0x2C(%a0)
		bcss	loc_58BF8
		movel	#byte_58314,0x30(%a0)

loc_58BF8:
		jsr	(Random_Number):l
		andib	#3,%d0
		moveb	%d0,0x23(%a0)
		moveq	#0,%d0
		jmp	Set_IndexedVelocity(%pc)
/*  --------------------------------------------------------------------------- */
ObjDat3_58C0C:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x80
		.byte 0x18
		.byte 0x10
		.byte 3
		.byte 0x2E
word_58C18:	.word 0xC3B6
		.word 0x280
		.byte 0x20
		.byte 0x20
		.byte 0x12
		.byte 0
ChildObjDat_58C20:.word 0xB
		.long loc_58BD2
		.word 0xF8
		.long loc_58BD2
		.word 8
		.long loc_58BD2
		.word 0xF0F8
		.long loc_58BD2
		.word 0x10F8
		.long loc_58BD2
		.word 0xF008
		.long loc_58BD2
		.word 0x1008
		.long loc_58BD2
		.word 0
		.long loc_58BD2
		.word 0
		.long loc_58BD2
		.word 0
		.long loc_58BD2
		.word 0
		.long loc_58BD2
		.word 0
		.long loc_58BD2
		.word 0
/*  --------------------------------------------------------------------------- */

Obj_ICZHarmfulIce:
		jsr	Obj_WaitOffscreen(%pc)
		lea	ObjDat3_58CCA(%pc),%a1
		movel	#Sprite_CheckDeleteTouch,(%a0)
		tstb	0x2C(%a0)
		beqs	loc_58C88
		lea	ObjDat3_58CD6(%pc),%a1
		movel	#loc_58C8C,(%a0)

loc_58C88:
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_58C8C:
		moveq	#0,%d0
		moveb	0x29(%a0),%d0
		bnes	loc_58C98
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_58C98:
		addw	%d0,%d0
		moveaw	word_58CC4-2(%pc,%d0.w),%a1
		moveal	%a0,%a2
		moveal	%a1,%a0
		jsr	(HurtCharacter):l
		moveal	%a2,%a0
		lea	ChildObjDat_58CE2(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		jsr	Go_Delete_Sprite(%pc)
		moveq	#sfx_IceSpikes,%d0
		jsr	(Play_Sound_2):l
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */
word_58CC4:	.word Player_1
		.word Player_2
		.word Player_1
ObjDat3_58CCA:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x280
		.byte 0x10
		.byte 0x18
		.byte 5
		.byte 0x82
ObjDat3_58CD6:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 4
		.byte 0xD7
ChildObjDat_58CE2:.word 0xB
		.long loc_589E8
/*  --------------------------------------------------------------------------- */

Obj_ICZ_SnowPile:
		jsr	Obj_WaitOffscreen(%pc)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		bclr	#7,%d0
		lea	off_58F8C(%pc),%a1
		lea	(%a1,%d0.w),%a2
		movel	(%a2)+,(%a0)
		moveal	(%a2)+,%a1
		jmp	SetUp_ObjAttributes(%pc)
/*  --------------------------------------------------------------------------- */

loc_58D06:
		lea	word_58D28(%pc),%a1
		jsr	Check_PlayerInRange(%pc)
		tstl	%d0
		beqs	loc_58D24
		tstw	%d0
		beqs	loc_58D1A
		bsrw	sub_58D30

loc_58D1A:
		swap	%d0
		tstw	%d0
		beqs	loc_58D24
		bsrw	sub_58D30

loc_58D24:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
word_58D28:	.word  0xFFD8,   0x50, 0xFFE8,   0x20

/*  =============== S U B R O U T I N E ======================================= */


sub_58D30:
		moveaw	%d0,%a3
		movew	%d0,0x44(%a0)
		cmpib	#9,0x20(%a3)
		beqs	loc_58D5E
		btst	#1,0x2A(%a3)
		bnes	locret_58D5C
		movew	0x18(%a3),%d2
		movew	%d2,%d3
		bpls	loc_58D50
		negw	%d2

loc_58D50:
		cmpiw	#0x600,%d2
		bccs	loc_58D5E
		asrw	#1,%d3
		movew	%d3,0x1C(%a3)

locret_58D5C:
		rts
/*  --------------------------------------------------------------------------- */

loc_58D5E:
		movew	%a3,0x44(%a0)
		lea	ChildObjDat_58FE4(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jsr	(Go_Delete_Sprite):l
		addqw	#4,%sp

locret_58D72:
		rts
/*  End of function sub_58D30 */

/*  --------------------------------------------------------------------------- */

loc_58D74:
		lea	word_58DA6(%pc),%a1
		jsr	Check_PlayerInRange(%pc)
		tstw	%d0
		bnes	loc_58D84
		jmp	Sprite_CheckDelete(%pc)
/*  --------------------------------------------------------------------------- */

loc_58D84:
		movew	%d0,0x44(%a0)
		beqs	loc_58DA0
		moveaw	%d0,%a1
		movew	#0x800,0x18(%a1)
		movew	#0x800,0x1C(%a1)
		lea	ChildObjDat_5900A(%pc),%a2
		jsr	CreateChild1_Normal(%pc)

loc_58DA0:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */
word_58DA6:	.word  0xFFF8,   0x10, 0xFFF0,   0x20
/*  --------------------------------------------------------------------------- */

loc_58DAE:
		lea	word_58DF0(%pc),%a1
		jsr	Check_PlayerInRange(%pc)
		tstw	%d0
		bnes	loc_58DBE
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_58DBE:
		movew	%d0,0x44(%a0)
		beqs	loc_58DEA
		moveaw	%d0,%a1
		movew	#0x800,0x18(%a1)
		movew	#0x800,0x1C(%a1)
		lea	ChildObjDat_59018(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		btst	#7,0x2C(%a0)
		beqs	loc_58DEA
		movew	#0x600,%d0
		jsr	StartNewLevel(%pc)

loc_58DEA:
		jmp	(Go_Delete_Sprite):l
/*  --------------------------------------------------------------------------- */
word_58DF0:	.word  0xFFF8,   0x10, 0xFFF0,   0x20
/*  --------------------------------------------------------------------------- */

loc_58DF8:
		movew	%a0,(_unkFAAE):w
		btst	#5,0x38(%a0)
		bnes	loc_58E40
		movew	(Camera_X_pos_copy):w,0x10(%a0)
		movew	(Camera_Y_pos_copy):w,0x14(%a0)
		subqw	#8,0x14(%a0)
		subqw	#1,0x2E(%a0)
		bpls	locret_58E3E
		movew	#8,0x2E(%a0)
		moveb	(_unkFAAD):w,%d0
		addqb	#1,%d0
		cmpib	#0x3C,%d0
		bhis	locret_58E3E
		moveb	%d0,(_unkFAAD):w
		jsr	(Create_New_Sprite):l
		bnes	locret_58E3E
		movel	#loc_58E46,(%a1)

locret_58E3E:
		rts
/*  --------------------------------------------------------------------------- */

loc_58E40:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_58E46:
		lea	ObjDat3_58FD0(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_58EB8,(%a0)
		jsr	(Random_Number):l
		andiw	#0x1FF,%d0
		cmpiw	#0x140,%d0
		bcss	loc_58E6A
		andiw	#0x3F,%d0
		lslw	#2,%d0

loc_58E6A:
		addw	(Camera_X_pos):w,%d0
		cmpiw	#0x380,%d0
		bcss	loc_58EEE
		movew	%d0,0x10(%a0)
		movew	(Camera_Y_pos):w,%d0
		subqw	#4,%d0
		movew	%d0,0x14(%a0)
		swap	%d0
		movew	%d0,%d1
		andiw	#3,%d0
		moveb	RawAni_58EAC(%pc,%d0.w),0x22(%a0)
		addw	%d0,%d0
		movew	word_58EB0(%pc,%d0.w),8(%a0)
		andiw	#0x3C,%d1
		subiw	#0x20,%d1
		movew	%d1,0x18(%a0)
		movew	#0x100,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */
RawAni_58EAC:	.byte   0xB, 0x10,  0xB,  0xB
word_58EB0:	.word 0x80
		.word 0x380
		.word 0x80
		.word 0x80
/*  --------------------------------------------------------------------------- */

loc_58EB8:
		jsr	(MoveSprite2):l
		tstb	4(%a0)
		bmis	loc_58ECA
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_58ECA:
		movel	#loc_58ED2,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_58ED2:
		jsr	(MoveSprite2):l
		tstb	4(%a0)
		bpls	loc_58EEE
		bchg	#0,0x38(%a0)
		bnew	locret_58D72
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_58EEE:
		moveb	(_unkFAAD):w,%d0
		subqb	#1,%d0
		bmis	loc_58EFA
		moveb	%d0,(_unkFAAD):w

loc_58EFA:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_58F00:
		lea	word_58FDC(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_58F1E,(%a0)
		movel	#loc_58F28,0x34(%a0)
		bsrw	sub_58F38
		jsr	Refresh_ChildPositionAdjusted(%pc)

loc_58F1E:
		jsr	Obj_Wait(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_58F28:
		movel	#loc_58F30,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_58F30:
		jsr	MoveSprite_LightGravity(%pc)
		jmp	Sprite_CheckDeleteXY(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_58F38:
		moveaw	0x46(%a0),%a1
		movew	0x44(%a1),%d0
		beqs	locret_58F72
		moveaw	%d0,%a2
		lea	word_58F74(%pc),%a3
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,0x2E(%a0)
		addw	%d0,%d0
		movel	(%a3,%d0.w),0x18(%a0)
		btst	#0,4(%a2)
		beqs	locret_58F72
		bset	#0,4(%a0)
		bset	#0,4(%a1)
		negw	0x18(%a0)

locret_58F72:
		rts
/*  End of function sub_58F38 */

/*  --------------------------------------------------------------------------- */
word_58F74:	.word  0xFD00, 0xFE00
		.word  0xFC00, 0xFD00
		.word  0xFC00, 0xFD80
		.word  0xFD80, 0xFE00
		.word  0xFE00, 0xFE80
		.word  0xFE00, 0xFF00
off_58F8C:	.long loc_58D06
		.long ObjDat3_58FAC
		.long loc_58D74
		.long ObjDat3_58FB8
		.long loc_58DAE
		.long ObjDat3_58FC4
		.long loc_58DF8
		.long ObjDat3_58FD0
ObjDat3_58FAC:	.long Map_ICZPlatforms
		.word 0x4377
		.word 0x80
		.byte 0x18
		.byte 8
		.byte 0x20
		.byte 0
ObjDat3_58FB8:	.long Map_ICZPlatforms
		.word 0xC377
		.word 0x80
		.byte 8
		.byte 0x10
		.byte 0x21
		.byte 0
ObjDat3_58FC4:	.long Map_ICZPlatforms
		.word 0xC377
		.word 0x80
		.byte 0x10
		.byte 0x10
		.byte 0x22
		.byte 0
ObjDat3_58FD0:	.long Map_ICZPlatforms
		.word 0x43B6
		.word 0x80
		.byte 4
		.byte 4
		.byte 0xB
		.byte 0
word_58FDC:	.word 0x43B6
		.word 0x80
		.byte 8
		.byte 8
		.byte 9
		.byte 0
ChildObjDat_58FE4:.word 5
		.long loc_58F00
		.word 0xF8F8
		.long loc_58F00
		.word 0x8F8
		.long loc_58F00
		.word 0xE800
		.long loc_58F00
		.word 0xF800
		.long loc_58F00
		.word 0x800
		.long loc_58F00
		.word 0x1800
ChildObjDat_5900A:.word 1
		.long loc_58F00
		.word 0xF8
		.long loc_58F00
		.word 8
ChildObjDat_59018:.word 3
		.long loc_58F00
		.word 0xF8F8
		.long loc_58F00
		.word 8
		.long loc_58F00
		.word 0x8F8
		.long loc_58F00
		.word 0x808
/*  --------------------------------------------------------------------------- */

Obj_ICZ_TensionPlatform:
		lea	ObjDat3_59254(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_5904E,(%a0)
		movew	0x14(%a0),0x30(%a0)
		lea	ChildObjDat_59268(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5904E:
		bsrw	sub_590E8
		bsrw	sub_591B4
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5905A:
		lea	word_59260(%pc),%a1
		jsr	SetUp_ObjAttributes2(%pc)
		movel	#loc_5908A,(%a0)
		tstb	0x2C(%a0)
		beqs	loc_59074
		bset	#0,4(%a0)

loc_59074:
		bset	#6,4(%a0)
		movew	#2,0x16(%a0)
		bsrw	sub_59092
		moveb	#8,0x22(%a0)

loc_5908A:
		bsrw	sub_590C8
		jmp	Child_Draw_Sprite(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_59092:
		lea	0x18(%a0),%a1
		movew	0x10(%a0),%d0
		movew	0x14(%a0),%d1
		moveq	#0,%d2
		moveq	#1,%d3

loc_590A2:
		movew	%d0,%d4
		movew	word_590C4(%pc,%d2.w),%d5
		btst	#0,4(%a0)
		beqs	loc_590B2
		negw	%d5

loc_590B2:
		addw	%d5,%d4
		movew	%d4,(%a1)+
		movew	%d1,(%a1)+
		movew	#8,(%a1)+
		addqw	#2,%d2
		dbf	%d3,loc_590A2
		rts
/*  End of function sub_59092 */

/*  --------------------------------------------------------------------------- */
word_590C4:	.word 0xC
		.word 0x18

/*  =============== S U B R O U T I N E ======================================= */


sub_590C8:
		moveaw	0x46(%a0),%a1
		lea	0x1A(%a0),%a2
		movew	0x14(%a0),%d0
		movew	0x14(%a1),%d1
		movew	%d1,%d2
		subw	%d0,%d1
		asrw	#1,%d1
		addw	%d0,%d1
		movew	%d1,(%a2)
		addqw	#6,%a2
		movew	%d2,(%a2)
		rts
/*  End of function sub_590C8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_590E8:
		btst	#2,0x38(%a0)
		beqs	locret_5916E
		movew	#0x80,%d0
		movew	0x14(%a0),%d1
		movew	0x1A(%a0),%d2
		moveb	0x39(%a0),%d3
		subw	0x32(%a0),%d1
		scs	0x39(%a0)
		bcss	loc_59110
		negw	%d0
		braw	loc_59112
/*  --------------------------------------------------------------------------- */

loc_59110:
		negw	%d1

loc_59112:
		cmpb	0x39(%a0),%d3
		beqs	loc_59142
		addw	%d0,%d2
		addw	%d0,%d2
		cmpiw	#-0x80,%d2
		bges	loc_59130
		cmpiw	#-0x400,%d2
		bgts	loc_59142
		bsrw	sub_59170
		braw	loc_59142
/*  --------------------------------------------------------------------------- */

loc_59130:
		cmpiw	#0x80,%d2
		bgts	loc_59142
		cmpiw	#1,%d1
		bhis	loc_59142
		bclr	#2,0x38(%a0)

loc_59142:
		addw	%d0,%d2
		movew	#-0x900,%d3
		cmpw	%d3,%d2
		bges	loc_59150
		braw	loc_59156
/*  --------------------------------------------------------------------------- */

loc_59150:
		negw	%d3
		cmpw	%d3,%d2
		bles	loc_59158

loc_59156:
		movew	%d3,%d2

loc_59158:
		movew	%d2,0x1A(%a0)
		jsr	(MoveSprite2):l
		cmpiw	#0x50,%d1
		bcss	locret_5916E
		movew	#-0x100,0x1A(%a0)

locret_5916E:
		rts
/*  End of function sub_590E8 */


/*  =============== S U B R O U T I N E ======================================= */


sub_59170:
		moveb	0x3A(%a0),%d3
		andib	#0x18,%d3
		beqs	locret_591B2
		btst	#3,%d3
		beqs	loc_59188
		lea	(Player_1):w,%a1
		bsrw	sub_59192

loc_59188:
		btst	#4,%d3
		beqs	locret_591B2
		lea	(Player_2):w,%a1
/*  End of function sub_59170 */


/*  =============== S U B R O U T I N E ======================================= */


sub_59192:
		movew	%d2,0x1A(%a1)
		bset	#1,0x2A(%a1)
		bclr	#3,0x2A(%a1)
		clrb	0x40(%a1)
		moveb	#0x10,0x20(%a1)
		moveb	#2,5(%a1)

locret_591B2:
		rts
/*  End of function sub_59192 */


/*  =============== S U B R O U T I N E ======================================= */


sub_591B4:
		moveb	0x2A(%a0),0x3A(%a0)
		movew	(Player_1+y_vel):w,-(%sp)
		movew	(Player_2+y_vel):w,-(%sp)
		moveq	#0x23,%d1
		moveq	#0x14,%d2
		moveq	#0xB,%d3
		movew	0x10(%a0),%d4
		jsr	(SolidObjectTop):l
		movel	(%sp)+,%d0
		moveb	0x2A(%a0),%d1
		moveb	0x3A(%a0),%d2
		moveb	%d1,0x3A(%a0)
		eorb	%d1,%d2
		andib	#0x18,%d2
		beqs	locret_59214
		bsrw	sub_59236
		bset	#2,0x38(%a0)
		clrb	0x39(%a0)
		moveq	#3,%d4
		btst	%d4,%d2
		beqs	loc_59204
		lea	(Player_1):w,%a1
		bsrw	sub_59216

loc_59204:
		moveq	#4,%d4
		btst	%d4,%d2
		beqs	locret_59214
		swap	%d0
		lea	(Player_2):w,%a1
		bsrw	sub_59216

locret_59214:
		rts
/*  End of function sub_591B4 */


/*  =============== S U B R O U T I N E ======================================= */


sub_59216:
		movew	0x1A(%a0),%d5
		btst	%d4,%d1
		bnes	loc_59228
		tstw	%d0
		bpls	loc_59228
		addw	%d5,0x1A(%a1)
		negw	%d0

loc_59228:
		addw	%d0,%d5
		movew	%d5,%d6
		asrw	#2,%d6
		subw	%d6,%d5
		movew	%d5,0x1A(%a0)
		rts
/*  End of function sub_59216 */


/*  =============== S U B R O U T I N E ======================================= */


sub_59236:
		moveq	#0,%d5
		btst	#3,%d1
		beqs	loc_59240
		addqw	#8,%d5

loc_59240:
		btst	#4,%d1
		beqs	loc_59248
		addqw	#8,%d5

loc_59248:
		movew	0x30(%a0),%d3
		addw	%d5,%d3
		movew	%d3,0x32(%a0)
		rts
/*  End of function sub_59236 */

/*  --------------------------------------------------------------------------- */
ObjDat3_59254:	.long Map_ICZPlatforms
		.word 0x4377
		.word 0x280
		.byte 0x18
		.byte 0xC
		.byte 0x1F
		.byte 0
word_59260:	.word 0x43B6
		.word 0x280
		.byte 0x40
		.byte 0x40
		.byte 8
		.byte 0
ChildObjDat_59268:.word 1
		.long loc_5905A
		.word 0xC800
		.long loc_5905A
		.word 0x3800
/*  --------------------------------------------------------------------------- */

Obj_Penguinator:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59296(%pc,%d0.w),%d1
		jsr	off_59296(%pc,%d1.w)
		lea	DPLCPtr_5959A(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	Sprite_CheckDeleteTouchSlotted(%pc)
/*  --------------------------------------------------------------------------- */
off_59296:	.word loc_592A6-off_59296
		.word loc_59302-off_59296
		.word loc_5939C-off_59296
		.word loc_593B6-off_59296
		.word loc_59404-off_59296
		.word loc_59452-off_59296
		.word loc_5948C-off_59296
		.word loc_594D4-off_59296
/*  --------------------------------------------------------------------------- */

loc_592A6:
		lea	ObjDat4_59574(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		bclr	#1,4(%a0)
		beqs	loc_592BC
		bset	#7,0xA(%a0)

loc_592BC:
		moveb	#2,5(%a0)
		moveb	#0xF,0x1E(%a0)
		moveb	#4,0x1F(%a0)
		bclr	#5,0x38(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		clrw	0x2E(%a0)
		movel	#byte_595A2,0x30(%a0)
		movel	#loc_5938C,0x34(%a0)
		moveq	#2,%d0
		btst	#0,4(%a0)
		bnes	loc_592FC
		negw	%d0

loc_592FC:
		movew	%d0,0x40(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59302:
		jsr	Animate_RawGetFaster(%pc)
		beqs	loc_59310
		cmpib	#2,0x2E(%a0)
		blss	loc_59328

loc_59310:
		movew	0x40(%a0),%d0
		movew	0x18(%a0),%d1
		addw	%d0,%d1
		movew	%d1,0x18(%a0)
		jsr	(MoveSprite2):l
		jmp	ObjHitFloor2_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_59328:
		jsr	(ObjCheckFloorDist):l
		tstb	%d3
		beqs	loc_59344
		btst	#0,4(%a0)
		beqs	loc_5933E
		bchg	#6,%d3

loc_5933E:
		btst	#6,%d3
		beqs	loc_59378

loc_59344:
		moveb	#4,5(%a0)
		movew	#-0x200,%d0
		movew	#0x40,%d1
		btst	#0,4(%a0)
		beqs	loc_5935E
		negw	%d0
		negw	%d1

loc_5935E:
		movew	%d0,0x18(%a0)
		movew	%d1,0x40(%a0)
		movel	#byte_595A9,0x30(%a0)
		movel	#loc_593A0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59378:
		moveb	#0xE,5(%a0)
		movew	#0x40,0x2E(%a0)
		movel	#loc_59344,0x34(%a0)

loc_5938C:
		negw	0x18(%a0)
		negw	0x40(%a0)
		bchg	#0,4(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5939C:
		jmp	Move_AnimateRaw(%pc)
/*  --------------------------------------------------------------------------- */

loc_593A0:
		moveb	#6,5(%a0)
		moveb	#0xB,0x1E(%a0)
		movel	#loc_593BE,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_593B6:
		jsr	MoveSprite_LightGravity(%pc)
		jmp	ObjHitFloor_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_593BE:
		tstb	%d3
		moveb	%d3,%d4
		bpls	loc_593C6
		negb	%d4

loc_593C6:
		andib	#-8,%d4
		beqs	loc_593EA
		tstw	0x18(%a0)
		bmis	loc_593D6
		bchg	#6,%d3

loc_593D6:
		btst	#6,%d3
		bnes	loc_593EA
		negw	0x18(%a0)
		negw	0x40(%a0)
		bchg	#0,4(%a0)

loc_593EA:
		moveb	#8,5(%a0)
		movew	#0x20,0x2E(%a0)
		movel	#loc_5942C,0x34(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59404:
		bsrw	sub_59520
		cmpiw	#-2,%d1
		bltw	loc_5938C
		cmpiw	#0xC,%d1
		bges	loc_593A0
		addw	%d1,0x14(%a0)
		bsrw	sub_59534
		bsrw	sub_5955A
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5942C:
		moveb	#0xA,5(%a0)
		moveq	#8,%d0
		subb	0x22(%a0),%d0
		moveb	%d0,0x23(%a0)
		clrb	0x24(%a0)
		movel	#byte_595AE,0x30(%a0)
		movel	#loc_59474,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59452:
		bsrw	sub_59520
		cmpiw	#-2,%d1
		bltw	loc_5938C
		cmpiw	#0xC,%d1
		bgew	loc_593A0
		addw	%d1,0x14(%a0)
		jsr	(MoveSprite2):l
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_59474:
		moveb	#0xC,5(%a0)
		moveb	#0,0x22(%a0)
		moveb	#0xF,0x1E(%a0)
		subqw	#4,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5948C:
		movew	0x18(%a0),%d0
		addw	0x40(%a0),%d0
		movew	%d0,0x18(%a0)
		beqs	loc_594B4
		bsrw	sub_59520
		cmpiw	#-2,%d1
		blts	loc_594B4
		cmpiw	#0xC,%d1
		bges	loc_594B4
		addw	%d1,0x14(%a0)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_594B4:
		moveb	#0xE,5(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	%d0,0x2E(%a0)
		movel	#loc_592BC,0x34(%a0)
		bchg	#0,4(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_594D4:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

Obj_ICZSnowdust:
		lea	ObjDat3_59586(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		beqs	loc_59504
		movel	#Obj_Wait,(%a0)
		lslw	#2,%d0
		subqw	#1,%d0
		movew	%d0,0x2E(%a0)
		movel	#loc_59504,0x34(%a0)

locret_59502:
		rts
/*  --------------------------------------------------------------------------- */

loc_59504:
		movel	#loc_59512,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)

loc_59512:
		lea	byte_595B7(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_59520:
		movew	0x18(%a0),%d3
		extl	%d3
		lsll	#8,%d3
		addl	0x10(%a0),%d3
		swap	%d3
		jmp	(ObjCheckFloorDist2):l
/*  End of function sub_59520 */


/*  =============== S U B R O U T I N E ======================================= */


sub_59534:
		moveq	#4,%d0
		tstb	%d3
		beqs	loc_59544
		lsrb	#3,%d3
		andiw	#0xF,%d3
		moveb	RawAni_5954A(%pc,%d3.w),%d0

loc_59544:
		moveb	%d0,0x22(%a0)
		rts
/*  End of function sub_59534 */

/*  --------------------------------------------------------------------------- */
RawAni_5954A:	.byte   4,  5,  6,  6,  7,  7,  8,  8,  8,  8,  7,  7,  6,  6,  5,  4

/*  =============== S U B R O U T I N E ======================================= */


sub_5955A:
		movew	0x2E(%a0),%d0
		andiw	#3,%d0
		bnes	locret_59502
		moveq	#sfx_SlideSkidQuiet,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_59592(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  End of function sub_5955A */

/*  --------------------------------------------------------------------------- */
ObjDat4_59574:	.word 3
		.word 0x2500
		.word 0x12
		.word 0
		.long Map_Penguinator
		.word 0x280
		.byte 0x14
		.byte 0x10
		.byte 0
		.byte 0x1A
ObjDat3_59586:	.long Map_ICZSnowdust
		.word 0x2558
		.word 0
		.byte 4
		.byte 0x18
		.byte 0
		.byte 0
ChildObjDat_59592:.word 0
		.long Obj_ICZSnowdust
		.word 0xC
DPLCPtr_5959A:	.long ArtUnc_Penguinator
		.long DPLC_Penguinator
byte_595A2:	.byte    7, 0x10
		.byte    0,   1
		.byte    0,   2
		.byte  0xFC
byte_595A9:	.byte    3,   3
		.byte    3,   4
		.byte  0xF4
byte_595AE:	.byte    3,   8
		.byte    8,   7
		.byte    6,   5
		.byte    4,   3
		.byte  0xF4
byte_595B7:	.byte    0,   0,   0,   1,   2,   3,   4,   5,   4,   3,   2,   1,   0, 0xF4,   0
/*  --------------------------------------------------------------------------- */

Obj_StarPointer:
		jsr	(Obj_WaitOffscreen):l
		lea	ObjDat3_59726(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movel	#loc_5960C,(%a0)
		bclr	#1,4(%a0)
		beqs	loc_595E8
		bset	#7,0xA(%a0)

loc_595E8:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		andiw	#6,%d0
		movew	word_59604(%pc,%d0.w),%d4
		jsr	(Set_VelocityXTrackSonic):l
		lea	ChildObjDat_59738(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */
word_59604:	.word  0xFFC0, 0xFFA0, 0xFF80, 0xFF00
/*  --------------------------------------------------------------------------- */

loc_5960C:
		jsr	(MoveSprite2):l
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x80,%d2
		bccs	loc_5962A
		btst	#0,4(%a0)
		beqs	loc_59626
		subqw	#2,%d0

loc_59626:
		tstw	%d0
		beqs	loc_5962E

loc_5962A:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5962E:
		movel	#loc_5963E,(%a0)
		bset	#1,0x38(%a0)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5963E:
		jsr	(MoveSprite2):l
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_59648:
		lea	word_59732(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		bset	#3,0x2B(%a0)
		moveb	#8,0x1F(%a0)
		movel	#loc_5967E,(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		lsrb	#1,%d0
		moveb	byte_5967A(%pc,%d0.w),0x3C(%a0)
		movel	#loc_596FC,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */
byte_5967A:	.byte 0
		.byte 0x40
		.byte 0x80
		.byte 0xC0
/*  --------------------------------------------------------------------------- */

loc_5967E:
		btst	#0,(V_int_run_count+3):w
		bnes	loc_596D6
		moveaw	0x46(%a0),%a1
		btst	#0,4(%a1)
		beqs	loc_5969A
		addqb	#1,0x3C(%a0)
		braw	loc_5969E
/*  --------------------------------------------------------------------------- */

loc_5969A:
		subqb	#1,0x3C(%a0)

loc_5969E:
		bnes	loc_596D6
		btst	#1,0x38(%a1)
		beqs	loc_596D6
		movel	#loc_596E4,(%a0)
		movew	0x18(%a1),%d0
		aslw	#1,%d0
		movel	#ObjHitWall_DoRoutine,0x30(%a0)
		movew	#8,0x44(%a0)
		movew	%d0,0x18(%a0)
		bpls	loc_596D6
		movel	#ObjHitWall2_DoRoutine,0x30(%a0)
		movew	#-8,0x44(%a0)

loc_596D6:
		bsrw	sub_59718
		moveq	#4,%d2
		jsr	MoveSprite_CircularSimple(%pc)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_596E4:
		jsr	(MoveSprite2):l
		moveal	0x30(%a0),%a1
		movew	0x44(%a0),%d3
		jsr	(%a1)
		bsrw	sub_59718
		jmp	Sprite_CheckDeleteTouchXY(%pc)
/*  --------------------------------------------------------------------------- */

loc_596FC:
		movel	#loc_5970C,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5970C:
		lea	byte_59740(%pc),%a1
		jsr	Animate_RawNoSST(%pc)
		jmp	Sprite_CheckDeleteTouchXY(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_59718:
		tstb	0x28(%a0)
		bnes	locret_59724
		moveal	0x34(%a0),%a1
		jsr	(%a1)

locret_59724:
		rts
/*  End of function sub_59718 */

/*  --------------------------------------------------------------------------- */
ObjDat3_59726:	.long Map_StarPointer
		.word 0x2548
		.word 0x280
		.byte 8
		.byte 8
		.byte 0
		.byte 0xB
word_59732:	.word 0x280
		.byte 8
		.byte 8
		.byte 1
		.byte 0x8B
ChildObjDat_59738:.word 3
		.long loc_59648
		.word 0
byte_59740:	.byte    3,   1,   2,   3, 0xF4,   0
/*  --------------------------------------------------------------------------- */

Obj_SnaleBlaster:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5975E(%pc,%d0.w),%d1
		jsr	off_5975E(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_5975E:	.word loc_5976C-off_5975E
		.word loc_5978A-off_5975E
		.word loc_597BE-off_5975E
		.word loc_597EA-off_5975E
		.word loc_59842-off_5975E
		.word loc_5986C-off_5975E
		.word loc_5988C-off_5975E
/*  --------------------------------------------------------------------------- */

loc_5976C:
		lea	ObjDat3_599F8(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		movew	#0x20,0x2E(%a0)
		movel	#loc_597A6,0x34(%a0)
		lea	word_59A1C(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_5978A:
		moveb	#0x1A,0x28(%a0)
		clrb	0x29(%a0)
		btst	#1,0x38(%a0)
		bnes	loc_597A2
		moveb	#0x7F,0x29(%a0)

loc_597A2:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_597A6:
		moveb	#4,5(%a0)
		movel	#byte_59A48,0x30(%a0)
		movel	#loc_597C8,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_597BE:
		moveb	#0x1A,0x28(%a0)
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_597C8:
		movew	#-2,0x40(%a0)
		movel	#byte_59A52,0x30(%a0)

loc_597D6:
		moveb	#6,5(%a0)
		moveb	#2,0x39(%a0)
		bclr	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_597EA:
		moveb	#0x1A,0x28(%a0)
		moveb	#0x7F,0x29(%a0)
		bsrw	sub_599CE
		jsr	Animate_RawMultiDelay(%pc)
		tstw	%d2
		beqs	locret_59820
		moveq	#3,%d0
		tstw	0x40(%a0)
		bmis	loc_5980C
		moveq	#4,%d0

loc_5980C:
		cmpb	0x22(%a0),%d0
		bnes	locret_59820
		movew	0x40(%a0),%d0
		addw	%d0,0x14(%a0)
		subqb	#1,0x39(%a0)
		bmis	loc_59822

locret_59820:
		rts
/*  --------------------------------------------------------------------------- */

loc_59822:
		moveb	#2,5(%a0)
		movew	#0x90,0x2E(%a0)
		bset	#1,0x38(%a0)
		movel	#loc_597D6,0x34(%a0)
		negw	0x40(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59842:
		moveb	#0x7F,0x29(%a0)
		subqb	#1,0x22(%a0)
		beqs	loc_59850
		rts
/*  --------------------------------------------------------------------------- */

loc_59850:
		moveb	#0xA,5(%a0)
		moveb	#0x7F,0x29(%a0)
		movew	#0x3B,0x2E(%a0)
		movel	#loc_59876,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5986C:
		moveb	#0x7F,0x29(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_59876:
		moveb	#0xC,5(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_59890,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5988C:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_59890:
		moveb	#0x1A,0x28(%a0)
		moveb	#0x7F,0x29(%a0)
		movew	#2,0x2E(%a0)
		addqb	#1,0x22(%a0)
		cmpib	#3,0x22(%a0)
		bcss	locret_598B4
		moveb	#6,5(%a0)

locret_598B4:
		rts
/*  --------------------------------------------------------------------------- */

loc_598B6:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_598CC(%pc,%d0.w),%d1
		jsr	off_598CC(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_598CC:	.word loc_598D2-off_598CC
		.word loc_598DA-off_598CC
		.word Animate_RawMultiDelay-off_598CC
/*  --------------------------------------------------------------------------- */

loc_598D2:
		lea	word_59A04(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_598DA:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_598E8
		rts
/*  --------------------------------------------------------------------------- */

loc_598E8:
		moveb	#4,5(%a0)
		movel	#byte_59A57,0x30(%a0)
		movel	#loc_59900,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59900:
		moveb	#2,5(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_59912:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59928(%pc,%d0.w),%d1
		jsr	off_59928(%pc,%d1.w)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_59928:	.word loc_59930-off_59928
		.word loc_59938-off_59928
		.word loc_5996C-off_59928
		.word loc_599B8-off_59928
/*  --------------------------------------------------------------------------- */

loc_59930:
		lea	word_59A0A(%pc),%a1
		jmp	SetUp_ObjAttributes3(%pc)
/*  --------------------------------------------------------------------------- */

loc_59938:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		bnes	loc_59946
		rts
/*  --------------------------------------------------------------------------- */

loc_59946:
		moveb	#4,5(%a0)
		movel	#byte_59A62,0x30(%a0)
		tstb	0x2C(%a0)
		beqs	loc_59962
		movel	#byte_59A6B,0x30(%a0)

loc_59962:
		movel	#loc_599B0,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5996C:
		jsr	Animate_RawMultiDelay(%pc)
		tstw	%d2
		beqs	locret_599AE
		bmis	locret_599AE
		cmpib	#4,0x23(%a0)
		bnes	locret_599AE
		tstb	4(%a0)
		bpls	locret_599AE
		moveq	#sfx_Projectile,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_59A30(%pc),%a2
		jsr	CreateChild2_Complex(%pc)
		moveaw	0x46(%a0),%a2
		btst	#0,4(%a2)
		beqs	loc_599A4
		negw	0x18(%a1)

loc_599A4:
		tstb	0x2C(%a0)
		beqs	locret_599AE
		negw	0x1A(%a1)

locret_599AE:
		rts
/*  --------------------------------------------------------------------------- */

loc_599B0:
		moveb	#6,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_599B8:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_599C6
		rts
/*  --------------------------------------------------------------------------- */

loc_599C6:
		moveb	#2,5(%a0)
		rts

/*  =============== S U B R O U T I N E ======================================= */


sub_599CE:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x30,%d2
		bccs	locret_599E6
		cmpiw	#0x30,%d3
		bccs	locret_599E6
		cmpib	#2,0x20(%a1)
		beqs	loc_599E8

locret_599E6:
		rts
/*  --------------------------------------------------------------------------- */

loc_599E8:
		moveb	#8,5(%a0)
		moveb	#3,0x22(%a0)
		addqw	#4,%sp
		rts
/*  End of function sub_599CE */

/*  --------------------------------------------------------------------------- */
ObjDat3_599F8:	.long Map_SnaleBlaster
		.word 0x2524
		.word 0x200
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0xB
word_59A04:	.word 0x180
		.byte 4
		.byte 0xC
		.byte 5
		.byte 0
word_59A0A:	.word 0x200
		.byte 4
		.byte 4
		.byte 7
		.byte 0
ObjDat3_59A10:	.long Map_SnaleBlaster
		.word 0x8524
		.word 0x200
		.byte 4
		.byte 4
		.byte 9
		.byte 0x98
word_59A1C:	.word 2
		.long loc_59912
		.word 0xF800
		.long loc_59912
		.word 0xF807
		.long loc_598B6
		.word 0xF804
ChildObjDat_59A30:.word 0
		.long loc_54B46
		.long ObjDat3_59A10
		.long 0
		.long MoveSprite2
		.byte 0
		.byte 0
		.word 0xFE00
		.word 0xFF00
byte_59A48:	.byte 5
		.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 4
		.byte 4
		.byte 4
		.byte 0xF4
byte_59A52:	.byte 4
		.byte 0xF
		.byte 3
		.byte 0xF
		.byte 0xFC
byte_59A57:	.byte 5
		.byte 2
		.byte 6
		.byte 2
		.byte 0xA
		.byte 0x5F
		.byte 6
		.byte 2
		.byte 5
		.byte 2
		.byte 0xF4
byte_59A62:	.byte 7
		.byte 2
		.byte 7
		.byte 0x1F
		.byte 8
		.byte 3
		.byte 7
		.byte 0
		.byte 0xF4
byte_59A6B:	.byte 7
		.byte 2
		.byte 7
		.byte 0x2F
		.byte 8
		.byte 3
		.byte 7
		.byte 0
		.byte 0xF4
/*  --------------------------------------------------------------------------- */

Obj_Ribot:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59A8C(%pc,%d0.w),%d1
		jsr	off_59A8C(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_59A8C:	.word loc_59A90-off_59A8C
		.word loc_59AD8-off_59A8C
/*  --------------------------------------------------------------------------- */

loc_59A90:
		lea	ObjDat3_59D4A(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		bset	#2,0x38(%a0)
		moveb	0x2C(%a0),%d0
		subqb	#2,%d0
		beqs	loc_59AB8
		bpls	loc_59AC8
		movel	#byte_59DA6,0x30(%a0)
		lea	ChildObjDat_59D62(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_59AB8:
		movel	#byte_59DA6,0x30(%a0)
		lea	ChildObjDat_59D70(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_59AC8:
		movel	#byte_59DAC,0x30(%a0)
		lea	ChildObjDat_59D7E(%pc),%a2
		jmp	CreateChild1_Normal(%pc)
/*  --------------------------------------------------------------------------- */

loc_59AD8:
		bclr	#2,0x38(%a0)
		beqs	loc_59AF6
		andib	#-4,0x38(%a0)
		moveq	#0,%d0
		bchg	#3,0x38(%a0)
		beqs	loc_59AF2
		moveq	#1,%d0

loc_59AF2:
		bset	%d0,0x38(%a0)

loc_59AF6:
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_59AFA:
		moveq	#0,%d2
		moveaw	0x46(%a0),%a1
		moveb	0x2C(%a1),%d2
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59B16(%pc,%d0.w),%d1
		jsr	off_59B16(%pc,%d1.w)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_59B16:	.word loc_59B20-off_59B16
		.word loc_59B44-off_59B16
		.word loc_59BB0-off_59B16
		.word loc_59C16-off_59B16
		.word loc_59C42-off_59B16
/*  --------------------------------------------------------------------------- */

loc_59B20:
		lea	word_59D56(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		moveb	#8,0x1E(%a0)
		moveb	#-0x10,0x43(%a0)
		movew	0x10(%a0),0x3E(%a0)
		movew	0x14(%a0),0x40(%a0)
		braw	loc_59D1A
/*  --------------------------------------------------------------------------- */

loc_59B44:
		movew	off_59B4C(%pc,%d2.w),%d3
		jmp	off_59B4C(%pc,%d3.w)
/*  --------------------------------------------------------------------------- */
off_59B4C:	.word loc_59B52-off_59B4C
		.word loc_59B74-off_59B4C
		.word loc_59BA6-off_59B4C
/*  --------------------------------------------------------------------------- */

loc_59B52:
		moveq	#0,%d0
		tstb	0x2C(%a0)
		bnes	loc_59B5C
		moveq	#1,%d0

loc_59B5C:
		btst	%d0,0x38(%a1)
		bnes	loc_59B64
		rts
/*  --------------------------------------------------------------------------- */

loc_59B64:
		moveb	#4,5(%a0)
		movel	#loc_59BDE,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59B74:
		moveq	#0,%d0
		movew	#0x400,%d1
		tstb	0x2C(%a0)
		bnes	loc_59B84
		moveq	#1,%d0
		negw	%d1

loc_59B84:
		btst	%d0,0x38(%a1)
		bnes	loc_59B8C
		rts
/*  --------------------------------------------------------------------------- */

loc_59B8C:
		moveb	#4,5(%a0)
		movew	%d1,0x18(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_59BF2,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59BA6:
		addqb	#2,0x3C(%a0)
		moveq	#2,%d2
		jmp	MoveSprite_CircularSimpleOffset(%pc)
/*  --------------------------------------------------------------------------- */

loc_59BB0:
		movew	off_59BB8(%pc,%d2.w),%d3
		jmp	off_59BB8(%pc,%d3.w)
/*  --------------------------------------------------------------------------- */
off_59BB8:	.word loc_59BBE-off_59BB8
		.word loc_59C0C-off_59BB8
		.word loc_59BBE-off_59BB8
/*  --------------------------------------------------------------------------- */

loc_59BBE:
		movew	0x14(%a0),%d0
		subw	0x40(%a0),%d0
		cmpiw	#0x80,%d0
		bccs	loc_59BF2
		jsr	(MoveSprite):l
		tstw	0x1A(%a0)
		bmiw	locret_59C0A
		jmp	ObjHitFloor_DoRoutine(%pc)
/*  --------------------------------------------------------------------------- */

loc_59BDE:
		movew	0x1A(%a0),%d0
		cmpiw	#0x100,%d0
		bcss	loc_59BF2
		asrw	#2,%d0
		negw	%d0
		movew	%d0,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59BF2:
		moveb	#6,5(%a0)
		movew	#0x10,0x2E(%a0)
		movel	#loc_59C28,0x34(%a0)
		clrw	0x1A(%a0)

locret_59C0A:
		rts
/*  --------------------------------------------------------------------------- */

loc_59C0C:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_59C16:
		movew	off_59C1E(%pc,%d2.w),%d3
		jmp	off_59C1E(%pc,%d3.w)
/*  --------------------------------------------------------------------------- */
off_59C1E:	.word loc_59C24-off_59C1E
		.word loc_59C24-off_59C1E
		.word loc_59C24-off_59C1E
/*  --------------------------------------------------------------------------- */

loc_59C24:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_59C28:
		moveb	#8,5(%a0)
		negw	0x18(%a0)
		movew	#0xF,0x2E(%a0)
		movel	#loc_59C62,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59C42:
		movew	off_59C4A(%pc,%d2.w),%d3
		jmp	off_59C4A(%pc,%d3.w)
/*  --------------------------------------------------------------------------- */
off_59C4A:	.word loc_59C50-off_59C4A
		.word loc_59C80-off_59C4A
		.word loc_59C50-off_59C4A
/*  --------------------------------------------------------------------------- */

loc_59C50:
		movew	0x14(%a0),%d0
		subqw	#2,%d0
		cmpw	0x40(%a0),%d0
		blss	loc_59C62
		movew	%d0,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59C62:
		moveb	#2,5(%a0)
		movew	0x3E(%a0),0x10(%a0)
		movew	0x40(%a0),0x14(%a0)
		moveaw	0x46(%a0),%a1
		bset	#2,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_59C80:
		jsr	(MoveSprite2):l
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_59C8A:
		lea	word_59D5C(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_59CA8,(%a0)
		movew	0x10(%a0),0x3E(%a0)
		movew	0x14(%a0),0x40(%a0)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_59CA8:
		moveaw	0x46(%a0),%a1
		movew	0x10(%a1),%d2
		movew	0x14(%a1),%d3
		subw	0x3E(%a0),%d2
		subw	0x40(%a0),%d3
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	off_59CCE(%pc,%d0.w),%d1
		jsr	off_59CCE(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_59CCE:	.word loc_59CD4-off_59CCE
		.word loc_59CEE-off_59CCE
		.word loc_59D04-off_59CCE
/*  --------------------------------------------------------------------------- */

loc_59CD4:
		asrw	#2,%d2
		negw	%d2
		addw	0x10(%a1),%d2
		movew	%d2,0x10(%a0)
		asrw	#2,%d3
		negw	%d3
		addw	0x14(%a1),%d3
		movew	%d3,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59CEE:
		asrw	#1,%d2
		addw	0x3E(%a0),%d2
		movew	%d2,0x10(%a0)
		asrw	#1,%d3
		addw	0x40(%a0),%d3
		movew	%d3,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59D04:
		asrw	#2,%d2
		addw	0x3E(%a0),%d2
		movew	%d2,0x10(%a0)
		asrw	#2,%d3
		addw	0x40(%a0),%d3
		movew	%d3,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59D1A:
		moveaw	0x46(%a0),%a1
		moveb	0x2C(%a1),%d0
		subqb	#2,%d0
		beqs	loc_59D30
		bpls	loc_59D42
		lea	ChildObjDat_59D86(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_59D30:
		lea	ChildObjDat_59D8E(%pc),%a2
		tstb	0x2C(%a0)
		beqs	loc_59D3E
		lea	ChildObjDat_59D96(%pc),%a2

loc_59D3E:
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_59D42:
		lea	ChildObjDat_59D9E(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */
ObjDat3_59D4A:	.long Map_Ribot
		.word 0x2547
		.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 0
		.byte 0xB
word_59D56:	.word 0x200
		.byte 8
		.byte 8
		.byte 7
		.byte 0x97
word_59D5C:	.word 0x200
		.byte 4
		.byte 4
		.byte 6
		.byte 0
ChildObjDat_59D62:.word 1
		.long loc_59AFA
		.word 0xF40C
		.long loc_59AFA
		.word 0xC0C
ChildObjDat_59D70:.word 1
		.long loc_59AFA
		.word 0xE800
		.long loc_59AFA
		.word 0x1800
ChildObjDat_59D7E:.word 0
		.long loc_59AFA
		.word 0xF0
ChildObjDat_59D86:.word 2
		.long loc_59C8A
		.word 0xF4
ChildObjDat_59D8E:.word 2
		.long loc_59C8A
		.word 0xC00
ChildObjDat_59D96:.word 2
		.long loc_59C8A
		.word 0xF400
ChildObjDat_59D9E:.word 2
		.long loc_59C8A
		.word 0
byte_59DA6:	.byte 7
		.byte 0
		.byte 1
		.byte 2
		.byte 1
		.byte 0xFC
byte_59DAC:	.byte 7
		.byte 3
		.byte 4
		.byte 5
		.byte 4
		.byte 0xFC
/*  --------------------------------------------------------------------------- */

Obj_Orbinaut:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59DCA(%pc,%d0.w),%d1
		jsr	off_59DCA(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_59DCA:	.word loc_59DCE-off_59DCA
		.word loc_59DE0-off_59DCA
/*  --------------------------------------------------------------------------- */

loc_59DCE:
		lea	ObjDat3_59E6E(%pc),%a1
		jsr	SetUp_ObjAttributes(%pc)
		lea	ChildObjDat_59E80(%pc),%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_59DE0:
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		bclr	#0,4(%a0)
		movew	#-0x80,%d1
		tstw	%d0
		beqs	loc_59DFE
		bset	#0,4(%a0)
		negw	%d1

loc_59DFE:
		movew	%d1,0x18(%a0)
		bsrw	sub_59E50
		beqw	locret_59E6C
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_59E10:
		lea	word_59E7A(%pc),%a1
		jsr	SetUp_ObjAttributes3(%pc)
		movel	#loc_59E2C,(%a0)
		moveb	0x2C(%a0),%d0
		lslb	#5,%d0
		moveb	%d0,0x3C(%a0)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */

loc_59E2C:
		moveaw	0x46(%a0),%a1
		bsrw	sub_59E50
		beqs	loc_59E46
		moveq	#8,%d0
		btst	#0,4(%a1)
		beqs	loc_59E42
		moveq	#-8,%d0

loc_59E42:
		addb	%d0,0x3C(%a0)

loc_59E46:
		moveq	#4,%d2
		jsr	MoveSprite_CircularSimple(%pc)
		jmp	Child_DrawTouch_Sprite(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_59E50:
		lea	(Player_1):w,%a2
		btst	#1,0x2A(%a2)
		bnes	loc_59E68
		tstw	0x18(%a2)
		bnes	locret_59E6C
		tstw	0x1A(%a2)
		bnes	locret_59E6C

loc_59E68:
		moveq	#0,%d0
		rts
/*  --------------------------------------------------------------------------- */

locret_59E6C:
		rts
/*  End of function sub_59E50 */

/*  --------------------------------------------------------------------------- */
ObjDat3_59E6E:	.long Map_Orbinaut
		.word 0x256E
		.word 0x280
		.byte 8
		.byte 8
		.byte 0
		.byte 0xB
word_59E7A:	.word 0x280
		.byte 8
		.byte 8
		.byte 1
		.byte 0x8B
ChildObjDat_59E80:.word 3
		.long loc_59E10
		.word 0x10
		.long loc_59E10
		.word 0x1000
		.long loc_59E10
		.word 0xF0
		.long loc_59E10
		.byte 0xF0
		.byte 0
		.byte 0
		.byte 5
		.byte 1
		.byte 5
		.byte 2
		.byte 5
		.byte 3
		.byte 5
		.byte 0xFC
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_Corkey:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59EBC(%pc,%d0.w),%d1
		jsr	off_59EBC(%pc,%d1.w)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */
off_59EBC:	.word loc_59EC2-off_59EBC
		.word loc_59F18-off_59EBC
		.word loc_59F48-off_59EBC
/*  --------------------------------------------------------------------------- */

loc_59EC2:
		lea	ObjDat3_5A068(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveq	#-1,%d0
		btst	#0,4(%a0)
		beqs	loc_59ED8
		negw	%d0

loc_59ED8:
		movew	%d0,0x40(%a0)
		moveb	0x2C(%a0),%d0
		moveb	%d0,0x2F(%a0)
		movel	#loc_59F38,0x34(%a0)
		addb	%d0,%d0
		moveb	%d0,0x2C(%a0)
		lea	ChildObjDat_5A082(%pc),%a2
		jsr	(CreateChild1_Normal):l

loc_59EFC:
		jsr	(Random_Number):l
		andiw	#0x3F,%d0
		movew	%d0,%d1
		andiw	#0x30,%d1
		bnes	loc_59F12
		oriw	#0x30,%d0

loc_59F12:
		movew	%d0,0x3A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59F18:
		subqw	#1,0x3A(%a0)
		bmis	loc_59F2A
		movew	0x40(%a0),%d0
		addw	%d0,0x10(%a0)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_59F2A:
		moveb	#4,5(%a0)
		bset	#1,0x38(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59F38:
		negw	0x40(%a0)
		clrb	0x2E(%a0)
		moveb	0x2C(%a0),0x2F(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_59F48:
		btst	#1,0x38(%a0)
		beqs	loc_59F52
		rts
/*  --------------------------------------------------------------------------- */

loc_59F52:
		moveb	#2,5(%a0)
		bras	loc_59EFC
/*  --------------------------------------------------------------------------- */

loc_59F5A:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_59F6C(%pc,%d0.w),%d1
		jsr	off_59F6C(%pc,%d1.w)
		jmp	Child_Draw_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_59F6C:	.word loc_59F74-off_59F6C
		.word loc_59F7E-off_59F6C
		.word loc_59FA6-off_59F6C
		.word loc_5A020-off_59F6C
/*  --------------------------------------------------------------------------- */

loc_59F74:
		lea	word_5A074(%pc),%a1
		jmp	(SetUp_ObjAttributes3):l
/*  --------------------------------------------------------------------------- */

loc_59F7E:
		jsr	Refresh_ChildPositionAdjusted(%pc)
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	locret_59FA4
		moveb	#4,5(%a0)
		movel	#loc_5A004,0x34(%a0)
		movel	#byte_5A0A2,0x30(%a0)

locret_59FA4:
		rts
/*  --------------------------------------------------------------------------- */

loc_59FA6:
		jsr	Animate_RawGetFaster(%pc)
		tstw	%d2
		bpls	locret_59FC6
		cmpib	#4,0x2F(%a0)
		beqs	loc_59FC8
		cmpib	#5,0x2F(%a0)
		beqs	loc_59FDC
		cmpib	#6,0x2F(%a0)
		beqs	loc_59FF0

locret_59FC6:
		rts
/*  --------------------------------------------------------------------------- */

loc_59FC8:
		lea	ChildObjDat_5A08A(%pc),%a2
		jsr	(CreateChild1_Normal):l
		movel	#byte_5A0A7,0x30(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_59FDC:
		lea	ChildObjDat_5A092(%pc),%a2
		jsr	(CreateChild1_Normal):l
		movel	#byte_5A0B0,0x30(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_59FF0:
		lea	ChildObjDat_5A09A(%pc),%a2
		jsr	(CreateChild1_Normal):l
		movel	#byte_5A0B9,0x30(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A004:
		moveb	#6,5(%a0)
		moveb	#2,0x22(%a0)
		movew	#7,0x2E(%a0)
		movel	#loc_5A024,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A020:
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A024:
		moveb	#2,5(%a0)
		moveb	#1,0x22(%a0)
		moveaw	0x46(%a0),%a1
		bclr	#1,0x38(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A03C:
		lea	word_5A07A(%pc),%a1
		jsr	(SetUp_ObjAttributes2):l
		movel	#loc_5A05C,(%a0)
		movel	#Go_Delete_Sprite,0x34(%a0)
		moveq	#sfx_Lazer,%d0
		jsr	(Play_Sound_2):l

loc_5A05C:
		addqw	#1,0x3A(%a0)
		jsr	Animate_RawMultiDelay(%pc)
		jmp	Child_DrawTouch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
ObjDat3_5A068:	.long Map_Corkey
		.word 0x2558
		.word 0x280
		.byte 0x10
		.byte 0xC
		.byte 0
		.byte 0xB
word_5A074:	.word 0x280
		.byte 8
		.byte 4
		.byte 1
		.byte 0
word_5A07A:	.word 0x558
		.word 0x280
		.byte 4
		.byte 0x50
		.byte 0
		.byte 0xA0
ChildObjDat_5A082:.word 0
		.long loc_59F5A
		.word 0xC
ChildObjDat_5A08A:.word 0
		.long loc_5A03C
		.word 0xFC54
ChildObjDat_5A092:.word 0
		.long loc_5A03C
		.word 0x454
ChildObjDat_5A09A:.word 0
		.long loc_5A03C
		.word 0x54
byte_5A0A2:	.byte 7
		.byte 0x10
		.byte 1
		.byte 3
		.byte 0xFC
byte_5A0A7:	.byte 6
		.byte 0
		.byte 6
		.byte 0
		.byte 7
		.byte 4
		.byte 5
		.byte 0
		.byte 0xF4
byte_5A0B0:	.byte 5
		.byte 0
		.byte 5
		.byte 0
		.byte 7
		.byte 4
		.byte 6
		.byte 0
		.byte 0xF4
byte_5A0B9:	.byte 4
		.byte 0
		.byte 5
		.byte 0
		.byte 7
		.byte 0
		.byte 4
		.byte 0
		.byte 5
		.byte 0
		.byte 7
		.byte 0
		.byte 4
		.byte 0
		.byte 5
		.byte 0
		.byte 7
		.byte 0
		.byte 4
		.byte 0
		.byte 5
		.byte 0
		.byte 7
		.byte 0
		.byte 4
		.byte 0
		.byte 5
		.byte 0
		.byte 7
		.byte 0
		.byte 6
		.byte 3
		.byte 0xF4
/*  --------------------------------------------------------------------------- */

Obj_Flybot767:
		jsr	(Obj_WaitOffscreen):l
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5A0FC(%pc,%d0.w),%d1
		jsr	off_5A0FC(%pc,%d1.w)
		lea	DPLCPtr_5A28C(%pc),%a2
		jsr	Perform_DPLC(%pc)
		jmp	(Sprite_CheckDeleteTouchSlotted):l
/*  --------------------------------------------------------------------------- */
off_5A0FC:	.word loc_5A108-off_5A0FC
		.word loc_5A126-off_5A0FC
		.word loc_5A188-off_5A0FC
		.word loc_5A1D0-off_5A0FC
		.word loc_5A204-off_5A0FC
		.word loc_5A248-off_5A0FC
/*  --------------------------------------------------------------------------- */

loc_5A108:
		lea	ObjDat4_5A27A(%pc),%a1
		jsr	SetUp_ObjAttributesSlotted(%pc)
		movel	#byte_5A294,0x30(%a0)
		moveb	#0,0x42(%a0)
		moveb	#-0x40,0x43(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A126:
		lea	(Player_1):w,%a1
		movew	#0x200,%d0
		moveq	#0x10,%d1
		jsr	Chase_ObjectXOnly(%pc)
		movew	#0x100,%d0
		moveq	#0x10,%d1
		jsr	Chase_ObjectYOnly(%pc)
		jsr	(MoveSprite2):l
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		tstw	%d1
		beqs	loc_5A156
		cmpiw	#0x60,%d2
		bcss	loc_5A15E

loc_5A156:
		jsr	Change_FlipXWithVelocity(%pc)
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A15E:
		moveb	#4,5(%a0)
		clrw	0x1A(%a0)
		movew	0x14(%a0),0x44(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		movel	#byte_5A2A0,0x30(%a0)
		movel	#loc_5A192,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A188:
		jsr	(MoveSprite2):l
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A192:
		moveb	#6,5(%a0)
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		movew	#0x200,%d1
		bset	#0,4(%a0)
		tstw	%d0
		bnes	loc_5A1B6
		negw	%d1
		bclr	#0,4(%a0)

loc_5A1B6:
		movew	%d1,0x18(%a0)
		movel	#byte_5A2A9,0x30(%a0)
		movew	#0x200,0x1A(%a0)
		movew	#0x20,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A1D0:
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bpls	loc_5A1E4
		jsr	Find_SonicTails(%pc)
		tstw	%d1
		beqs	loc_5A1E8

loc_5A1E4:
		jmp	Animate_Raw(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A1E8:
		moveb	#8,5(%a0)
		movel	#byte_5A2B5,0x30(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		negw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A204:
		jsr	(MoveSprite2):l
		movew	0x14(%a0),%d0
		cmpw	0x44(%a0),%d0
		bcss	loc_5A21A
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_5A21A:
		moveb	#0xA,5(%a0)
		movel	#byte_5A294,0x30(%a0)
		clrb	0x23(%a0)
		clrb	0x24(%a0)
		clrw	0x18(%a0)
		clrw	0x1A(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_5A272,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A248:
		lea	(Player_1):w,%a1
		movew	#0x200,%d0
		moveq	#0x10,%d1
		jsr	Chase_ObjectXOnly(%pc)
		movew	#0x100,%d0
		moveq	#0x10,%d1
		jsr	Chase_ObjectYOnly(%pc)
		jsr	(MoveSprite2):l
		jsr	Change_FlipXWithVelocity(%pc)
		jsr	Animate_Raw(%pc)
		jmp	Obj_Wait(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A272:
		moveb	#2,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */
ObjDat4_5A27A:	.word 2
		.word 0xA500
		.word 0xC
		.word 0
		.long Map_Flybot767
		.word 0x280
		.byte 0x10
		.byte 0x10
		.byte 0
		.byte 0x1A
DPLCPtr_5A28C:	.long ArtUnc_Flybot
		.long DPLC_Flybot
byte_5A294:	.byte 4
		.byte 0
		.byte 1
		.byte 2
		.byte 3
		.byte 4
		.byte 5
		.byte 6
		.byte 7
		.byte 8
		.byte 9
		.byte 0xFC
byte_5A2A0:	.byte 2
		.byte 0xA
		.byte 0xA
		.byte 0xB
		.byte 0xC
		.byte 0xD
		.byte 0xE
		.byte 0xF
		.byte 0xF4
byte_5A2A9:	.byte 3
		.byte 0x10
		.byte 0x10
		.byte 0x11
		.byte 0x12
		.byte 0x13
		.byte 0xF8
		.byte 8
		.byte 3
		.byte 0x13
		.byte 0x13
		.byte 0xFC
byte_5A2B5:	.byte 3
		.byte 0xA
		.byte 0xA
		.byte 0x14
		.byte 0xF8
		.byte 6
		.byte 3
		.byte 0x14
		.byte 0x14
		.byte 0xFC
		.byte 0
/*  --------------------------------------------------------------------------- */

Obj_C3_1:
		lea	word_5A2F0(%pc),%a1
		jsr	Check_CameraInRange(%pc)
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5A2E0(%pc,%d0.w),%d1
		jsr	off_5A2E0(%pc,%d1.w)
		jsr	(sub_5A7B4):l
		jmp	Draw_And_Touch_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5A2E0:	.word loc_5A2F8-off_5A2E0
		.word loc_5A348-off_5A2E0
		.word loc_5A380-off_5A2E0
		.word loc_5A3AC-off_5A2E0
		.word loc_5A3D6-off_5A2E0
		.word loc_5A406-off_5A2E0
		.word loc_5A436-off_5A2E0
		.word loc_5A47E-off_5A2E0
word_5A2F0:	.word   0x500,  0x5E0, 0x3820, 0x3AC0
/*  --------------------------------------------------------------------------- */

loc_5A2F8:
		lea	ObjDat3_5A7E8(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		moveb	#-1,0x29(%a0)
		st	(_unkFAAB):w
		jsr	(Swing_Setup1):l
		movew	#0x3820,(Camera_min_X_pos):w
		movew	#0x3AE8,(Camera_max_X_pos):w
		moveq	#0x60,%d0
		jsr	(Load_PLC):l
		lea	(ArtKosM_LBZMinibossBox):l,%a1
		movew	#-0x7540,%d2
		jsr	(Queue_Kos_Module):l
		lea	(Child1_MakeRoboHead3):l,%a2
		jsr	CreateChild1_Normal(%pc)
		lea	ChildObjDat_5A800(%pc),%a2
		jmp	CreateChild3_NormalRepeated(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A348:
		lea	(Player_1):w,%a1
		jsr	Find_OtherObject(%pc)
		tstw	%d1
		beqs	loc_5A372
		cmpiw	#0x70,%d2
		bccs	loc_5A368
		cmpiw	#0x60,%d3
		bccs	loc_5A368
		btst	#1,0x2A(%a1)
		beqs	loc_5A372

loc_5A368:
		jsr	Swing_UpAndDown(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_5A372:
		moveb	#4,5(%a0)
		movew	#-0x400,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A380:
		cmpiw	#0x300,0x14(%a0)
		bcss	loc_5A38E
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_5A38E:
		moveb	#6,5(%a0)
		bset	#0,4(%a0)
		movew	#0x3EC0,0x10(%a0)
		movew	#0x1A0,0x14(%a0)
		jmp	(Swing_Setup1):l
/*  --------------------------------------------------------------------------- */

loc_5A3AC:
		lea	(Player_1):w,%a1
		cmpiw	#0x3B40,(Camera_X_pos):w
		bcss	locret_5A3C8
		cmpiw	#0x1C0,0x14(%a1)
		bcss	locret_5A3C8
		btst	#1,0x2A(%a1)
		beqs	loc_5A3CA

locret_5A3C8:
		rts
/*  --------------------------------------------------------------------------- */

loc_5A3CA:
		moveb	#8,5(%a0)
		st	(Events_fg_4):w
		rts
/*  --------------------------------------------------------------------------- */

loc_5A3D6:
		tstw	(Events_fg_4):w
		beqs	loc_5A3DE
		rts
/*  --------------------------------------------------------------------------- */

loc_5A3DE:
		moveb	#0xA,5(%a0)
		lea	(ArtKosM_LBZMinibossBox):l,%a1
		movew	#-0x7540,%d2
		jsr	(Queue_Kos_Module):l
		movew	#0x3EA0,(Target_camera_max_X_pos):w
		lea	(Child6_IncLevX):l,%a2
		jmp	(CreateChild6_Simple):l
/*  --------------------------------------------------------------------------- */

loc_5A406:
		movew	(Camera_X_pos):w,%d0
		cmpiw	#0x3E50,%d0
		bccs	loc_5A414
		movew	%d0,(Camera_min_X_pos):w

loc_5A414:
		jsr	Find_SonicTails(%pc)
		cmpiw	#0x60,%d2
		bcss	loc_5A428
		jsr	Swing_UpAndDown(%pc)
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_5A428:
		moveb	#0xC,5(%a0)
		movew	#-0x400,0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A436:
		cmpiw	#0x12C,0x14(%a0)
		blss	loc_5A444
		jmp	(MoveSprite2):l
/*  --------------------------------------------------------------------------- */

loc_5A444:
		moveb	#0xE,5(%a0)
		movew	#0x12C,0x14(%a0)
		bset	#1,0x38(%a0)
		movew	#0x200,0x18(%a0)
		movew	#0x200,0x1A(%a0)
		lea	(ArtKosM_LBZMiniboss):l,%a1
		movew	#-0x6540,%d2
		jsr	(Queue_Kos_Module):l
		lea	(Child1_MakeRoboShipFlame):l,%a2
		jmp	(CreateChild1_Normal):l
/*  --------------------------------------------------------------------------- */

loc_5A47E:
		jsr	(MoveSprite2):l
		cmpiw	#0x1B8,0x14(%a0)
		bccs	loc_5A48E
		rts
/*  --------------------------------------------------------------------------- */

loc_5A48E:
		movel	#loc_5A49A,(%a0)
		clrw	0x1A(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A49A:
		jsr	(MoveSprite2):l
		jsr	(sub_5A7B4):l
		jmp	Sprite_CheckDeleteTouch2(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A4AA:
		movel	#loc_5A4BA,(%a0)
		lea	ChildObjDat_5A808(%pc),%a2
		jmp	(CreateChild3_NormalRepeated):l
/*  --------------------------------------------------------------------------- */

loc_5A4BA:
		moveaw	0x46(%a0),%a1
		btst	#1,0x38(%a1)
		beqs	loc_5A4E0
		movel	#Obj_Wait,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_5A4E4,0x34(%a0)
		movew	#0x160,0x14(%a0)

loc_5A4E0:
		jmp	Refresh_ChildPosition(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A4E4:
		jsr	(Create_New_Sprite):l
		bnes	loc_5A4F8
		movel	#Obj_Song_Fade_Transition,(%a1)
		moveb	#mus_Miniboss,0x2C(%a1)

loc_5A4F8:
		bset	#3,0x38(%a0)
		moveq	#sfx_BossActivate,%d0
		jsr	(Play_Sound_2):l
		lea	ChildObjDat_5A810(%pc),%a2
		jsr	CreateChild1_Normal(%pc)
		jmp	Go_Delete_Sprite_2(%pc)
/*  --------------------------------------------------------------------------- */

Obj_C4_1:
		tstb	(_unkFAAB):w
		bnes	loc_5A572
		movel	#loc_5A57A,(%a0)
		movew	#0x3EA0,(Camera_max_X_pos):w
		movew	#0x3C00,(Camera_min_X_pos):w
		lea	(ArtKosM_LBZMiniboss):l,%a1
		movew	#-0x6540,%d2
		jsr	(Queue_Kos_Module):l
		lea	(ArtKosM_LBZMinibossBox):l,%a1
		movew	#-0x7540,%d2
		jsr	(Queue_Kos_Module):l
		lea	PLC_BossExplosion(%pc),%a1
		jsr	(Load_PLC_Raw):l
		jsr	(Create_New_Sprite):l
		bnes	loc_5A568
		movel	#Obj_Song_Fade_Transition,(%a1)
		moveb	#mus_Miniboss,0x2C(%a1)

loc_5A568:
		lea	ChildObjDat_5A808(%pc),%a2
		jmp	(CreateChild3_NormalRepeated):l
/*  --------------------------------------------------------------------------- */

loc_5A572:
		movel	#Delete_Sprite_If_Not_In_Range,(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A57A:
		lea	(Player_1):w,%a1
		jsr	(Find_OtherObject):l
		cmpiw	#0x70,%d2
		bccs	loc_5A5A4
		movel	#Obj_Wait,(%a0)
		movew	#0x3DA0,(Camera_min_X_pos):w
		movew	#0x1F,0x2E(%a0)
		movel	#loc_5A4F8,0x34(%a0)

loc_5A5A4:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_5A5B8
		rts
/*  --------------------------------------------------------------------------- */

loc_5A5B8:
		jmp	loc_5371C(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A5BC:
		moveq	#0,%d0
		moveb	5(%a0),%d0
		movew	off_5A5E0(%pc,%d0.w),%d1
		jsr	off_5A5E0(%pc,%d1.w)
		moveaw	0x46(%a0),%a1
		btst	#7,0x2A(%a1)
		bnes	loc_5A5DC
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5A5DC:
		jmp	Go_Delete_Sprite(%pc)
/*  --------------------------------------------------------------------------- */
off_5A5E0:	.word loc_5A5EC-off_5A5E0
		.word loc_5A5FA-off_5A5E0
		.word loc_5A618-off_5A5E0
		.word loc_5A626-off_5A5E0
		.word loc_5A672-off_5A5E0
		.word loc_5A688-off_5A5E0
/*  --------------------------------------------------------------------------- */

loc_5A5EC:
		lea	ObjDat3_5A7F4(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		braw	loc_5A6E4
/*  --------------------------------------------------------------------------- */

loc_5A5FA:
		moveaw	0x46(%a0),%a1
		btst	#3,0x38(%a1)
		bnes	loc_5A60A
		jmp	Refresh_ChildPosition(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A60A:
		moveb	#4,5(%a0)
		movew	#0x55,(Events_fg_4):w
		rts
/*  --------------------------------------------------------------------------- */

loc_5A618:
		subqw	#1,0x2E(%a0)
		bpls	locret_5A624
		moveb	#6,5(%a0)

locret_5A624:
		rts
/*  --------------------------------------------------------------------------- */

loc_5A626:
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_5A62C:
		moveb	#8,5(%a0)
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		subiw	#0xC,%d0
		movew	word_5A66A(%pc,%d0.w),0x1A(%a0)
		addw	%d0,%d0
		movel	off_5A65A(%pc,%d0.w),0x30(%a0)
		movel	#loc_5A68E,0x34(%a0)
		movew	#0x5F,0x2E(%a0)
		rts
/*  --------------------------------------------------------------------------- */
off_5A65A:	.long byte_5A822
		.long byte_5A822
		.long byte_5A827
		.long byte_5A827
word_5A66A:	.word  0xFFC0,   0x40, 0xFFC0,   0x40
/*  --------------------------------------------------------------------------- */

loc_5A672:
		jsr	(MoveSprite2):l
		subqw	#1,0x2E(%a0)
		bmis	loc_5A680
		rts
/*  --------------------------------------------------------------------------- */

loc_5A680:
		moveb	#0xA,5(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A688:
		jmp	(Animate_Raw):l
/*  --------------------------------------------------------------------------- */

loc_5A68E:
		movel	#loc_5A69C,(%a0)
		movew	#0x380,8(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A69C:
		movew	0x10(%a0),%d0
		andiw	#-0x80,%d0
		subw	(Camera_X_pos_coarse_back):w,%d0
		cmpiw	#0x280,%d0
		bhis	loc_5A6B4
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5A6B4:
		cmpib	#0xC,0x2C(%a0)
		bnes	loc_5A6D0
		lea	PLC_MonitorsSpikesSprings(%pc),%a1
		jsr	(Load_PLC_Raw):l
		lea	PLC_5A6D6(%pc),%a1
		jsr	(Load_PLC_Raw):l

loc_5A6D0:
		jmp	(Delete_Current_Sprite):l
/*  --------------------------------------------------------------------------- */
PLC_5A6D6:	.word 0
		.long ArtNem_Bubbles
		.word 0x8B80
		.long ArtNem_LBZMisc
		.word 0x7860
/*  --------------------------------------------------------------------------- */

loc_5A6E4:
		moveq	#0,%d0
		moveb	0x2C(%a0),%d0
		movew	word_5A728(%pc,%d0.w),0x2E(%a0)
		addw	%d0,%d0
		movel	off_5A73C(%pc,%d0.w),0x30(%a0)
		movel	off_5A764(%pc,%d0.w),0x34(%a0)
		lea	byte_5A78C(%pc),%a1
		addaw	%d0,%a1
		moveb	(%a1)+,0x22(%a0)
		moveb	(%a1)+,%d1
		orb	%d1,4(%a0)
		moveb	(%a1)+,%d1
		moveb	%d1,0x42(%a0)
		extw	%d1
		addw	%d1,0x10(%a0)
		moveb	(%a1)+,%d1
		moveb	%d1,0x43(%a0)
		extw	%d1
		addw	%d1,0x14(%a0)
		rts
/*  --------------------------------------------------------------------------- */
word_5A728:	.word 0
		.word 0
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x10
		.word 0x40
		.word 0x50
		.word 0x70
		.word 0x60
off_5A73C:	.long byte_5A818
		.long byte_5A818
		.long byte_5A81D
		.long byte_5A81D
		.long byte_5A81D
		.long byte_5A81D
		.long byte_5A82C
		.long byte_5A82C
		.long byte_5A830
		.long byte_5A830
off_5A764:	.long Go_Delete_Sprite
		.long Go_Delete_Sprite
		.long Go_Delete_Sprite
		.long Go_Delete_Sprite
		.long Go_Delete_Sprite
		.long Go_Delete_Sprite
		.long loc_5A62C
		.long loc_5A62C
		.long loc_5A62C
		.long loc_5A62C
byte_5A78C:	.byte    6,   0, 0xF0,   0
		.byte    6,   2, 0x10,   0
		.byte    9,   0,   0, 0x14
		.byte    9,   1,   0,  0xC
		.byte    9,   0,   0, 0xF4
		.byte    9,   1,   0, 0xEC
		.byte    0,   0, 0xF4, 0xF0
		.byte    0,   3,  0xC, 0x10
		.byte    3,   0, 0x14, 0xF4
		.byte    3,   3, 0xEC,  0xC

/*  =============== S U B R O U T I N E ======================================= */


sub_5A7B4:
		tstb	0x28(%a0)
		bnes	locret_5A7E6
		tstb	0x20(%a0)
		bnes	loc_5A7D4
		moveb	#0x20,0x20(%a0)
		moveq	#sfx_BossHit,%d0
		jsr	(Play_Sound_2):l
		bset	#6,0x2A(%a0)

loc_5A7D4:
		subqb	#1,0x20(%a0)
		bnes	locret_5A7E6
		bclr	#6,0x2A(%a0)
		moveb	0x25(%a0),0x28(%a0)

locret_5A7E6:
		rts
/*  End of function sub_5A7B4 */

/*  --------------------------------------------------------------------------- */
ObjDat3_5A7E8:	.long Map_RobotnikShip
		.word 0x52E
		.word 0x100
		.byte 0x20
		.byte 0x20
		.byte 0xA
		.byte 0xF
ObjDat3_5A7F4:	.long Map_LBZMinibossBox
		.word 0x4456
		.word 0x100
		.byte 0x14
		.byte 0x14
		.byte 0
		.byte 0
ChildObjDat_5A800:.word 0
		.long loc_5A4AA
		.word 0x34
ChildObjDat_5A808:.word 9
		.long loc_5A5BC
		.word 0
ChildObjDat_5A810:.word 0
		.long Obj_LBZMiniboss
		.word 0
byte_5A818:	.byte 0
		.byte 6
		.byte 7
		.byte 8
		.byte 0xF4
byte_5A81D:	.byte 0
		.byte 9
		.byte 0xA
		.byte 0xB
		.byte 0xF4
byte_5A822:	.byte 5
		.byte 0
		.byte 1
		.byte 2
		.byte 0xF4
byte_5A827:	.byte 5
		.byte 3
		.byte 4
		.byte 5
		.byte 0xF4
byte_5A82C:	.byte 0
		.byte 0
		.byte 0
		.byte 0xF4
byte_5A830:	.byte 0
		.byte 3
		.byte 3
		.byte 0xF4
/*  --------------------------------------------------------------------------- */

Obj_C6_1:
		movew	%a0,(Events_bg+0x00):w
		lea	ObjDat3_5AAEE(%pc),%a1
		jsr	(SetUp_ObjAttributes):l
		movel	#loc_5A84E,(%a0)
		bset	#0,4(%a0)

loc_5A84E:
		moveq	#0,%d0
		moveb	0x29(%a0),%d0
		beqw	loc_5A8E2
		clrb	0x29(%a0)
		cmpib	#2,%d0
		beqw	loc_5A8E2
		lea	(Player_1):w,%a1
		tstb	0x2E(%a1)
		bnew	loc_5A8E2
		movel	#loc_5A912,(%a0)
		moveb	#-0x7D,0x2E(%a1)
		bclr	#0,4(%a1)
		bclr	#0,0x2A(%a1)
		moveb	#5,0x20(%a1)
		bset	#7,0xA(%a1)
		movew	#-0x100,0x1A(%a0)
		movew	#0x3F,0x2E(%a0)
		movel	#loc_5A8E6,0x34(%a0)
		moveq	#sfx_Rising,%d0
		jsr	(Play_Sound_2):l
		st	(Anim_Counters+0xF):w
		movew	#0x6000,(Target_camera_max_X_pos):w
		lea	Child6_IncLevX(%pc),%a2
		jsr	CreateChild6_Simple(%pc)
		lea	(Child1_MakeRoboShipFlame):l,%a2
		jsr	CreateChild1_Normal(%pc)
		st	(Ctrl_2_locked):w
		jsr	(Create_New_Sprite):l
		bnes	loc_5A8DE
		movel	#loc_5AAAE,(%a1)

loc_5A8DE:
		jsr	sub_5AACA(%pc)

loc_5A8E2:
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A8E6:
		movel	#loc_5A90C,(%a0)
		movew	0x14(%a0),0x3A(%a0)
		movew	#0x100,0x18(%a0)
		movew	#0x1DF,0x2E(%a0)
		movel	#loc_5A92A,0x34(%a0)
		jmp	(Swing_Setup1):l
/*  --------------------------------------------------------------------------- */

loc_5A90C:
		jsr	(Swing_UpAndDown):l

loc_5A912:
		jsr	(MoveSprite2):l
		bsrw	sub_5AA92
		jsr	(Obj_Wait):l
		jsr	sub_5AACA(%pc)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A92A:
		movew	#0x3F,0x2E(%a0)
		clrw	0x18(%a0)
		movel	#loc_5A93E,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A93E:
		movel	#loc_5A94C,(%a0)
		movew	#0x100,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5A94C:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		bsrw	sub_5AA92
		moveaw	(_unkFAA4):w,%a1
		movew	0x10(%a1),%d0
		subw	0x10(%a0),%d0
		cmpiw	#0x50,%d0
		bccs	loc_5A988
		bset	#1,0x38(%a1)
		movel	#loc_5A90C,(%a0)
		movew	#0x1F,0x2E(%a0)
		movel	#loc_5A990,0x34(%a0)

loc_5A988:
		jsr	sub_5AACA(%pc)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A990:
		movel	#loc_5A9AC,(%a0)
		movew	#-0x200,0x18(%a0)
		movew	#-0x200,0x1A(%a0)
		moveq	#sfx_Thump,%d0
		jsr	(Play_Sound_2):l
		rts
/*  --------------------------------------------------------------------------- */

loc_5A9AC:
		jsr	(MoveSprite_LightGravity):l
		bsrw	sub_5AA92
		tstw	0x1A(%a0)
		bmis	loc_5A9E4
		movew	0x14(%a0),%d0
		cmpw	0x3A(%a0),%d0
		bcss	loc_5A9E4
		movel	#loc_5A90C,(%a0)
		clrw	0x18(%a0)
		movew	#0x5F,0x2E(%a0)
		movel	#loc_5A9EC,0x34(%a0)
		jsr	(Swing_Setup1):l

loc_5A9E4:
		jsr	sub_5AACA(%pc)
		jmp	Sprite_CheckDeleteTouch(%pc)
/*  --------------------------------------------------------------------------- */

loc_5A9EC:
		movel	#loc_5A90C,(%a0)
		st	(Screen_shake_flag):w
		st	(Events_fg_5):w
		movew	#0xFF,0x2E(%a0)
		movel	#loc_5AA0A,0x34(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5AA0A:
		movel	#loc_5AA18,(%a0)
		movew	#0x100,0x18(%a0)
		rts
/*  --------------------------------------------------------------------------- */

loc_5AA18:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		bsrw	sub_5AA92
		cmpiw	#0x4440,0x10(%a0)
		bcss	loc_5AA78
		movel	#loc_5AA82,(%a0)
		clrw	(Screen_shake_flag):w
		lea	(Player_1):w,%a1
		clrb	0x2E(%a1)
		bset	#1,0x2A(%a1)
		movew	#-0x100,0x18(%a1)
		movew	#-0x600,0x1A(%a1)
		moveb	#2,0x20(%a1)
		clrb	0x40(%a1)
		jsr	(Create_New_Sprite):l
		bnes	loc_5AA78
		movel	#Obj_LBZ_FinalBoss1,(%a1)
		movew	#0x44A0,0x10(%a1)
		movew	#0x780,0x14(%a1)

loc_5AA78:
		jsr	sub_5AACA(%pc)
		jmp	(Draw_Sprite):l
/*  --------------------------------------------------------------------------- */

loc_5AA82:
		jsr	(Swing_UpAndDown):l
		jsr	(MoveSprite2):l
		jmp	Sprite_CheckDeleteTouch2(%pc)

/*  =============== S U B R O U T I N E ======================================= */


sub_5AA92:
		lea	(Player_1):w,%a1
		movew	0x10(%a0),%d0
		subqw	#4,%d0
		movew	%d0,0x10(%a1)
		movew	0x14(%a0),%d0
		subiw	#0x12,%d0
		movew	%d0,0x14(%a1)
		rts
/*  End of function sub_5AA92 */

/*  --------------------------------------------------------------------------- */

loc_5AAAE:
		lea	(Player_2):w,%a1
		tstl	(%a1)
		beqs	loc_5AAC4
		tstb	4(%a1)
		bpls	loc_5AABE
		rts
/*  --------------------------------------------------------------------------- */

loc_5AABE:
		clrl	(%a1)
		clrl	(Tails_tails):w

loc_5AAC4:
		jmp	(Delete_Current_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_5AACA:
		lea	(Player_1):w,%a1
		moveq	#0,%d0
		moveb	0x38(%a1),%d0
		moveb	RawAni_5AAE8(%pc,%d0.w),0x22(%a1)
		addw	%d0,%d0
		moveaw	word_5AAEA(%pc,%d0.w),%a2
		clrb	(%a2)
		jmp	(Player_Load_PLC):l
/*  End of function sub_5AACA */

/*  --------------------------------------------------------------------------- */
RawAni_5AAE8:	.byte  0xBA, 0xAD
word_5AAEA:	.word 0xF766
		.word 0xF7DE
ObjDat3_5AAEE:	.long Map_RobotnikShip
		.word 0x852E
		.word 0x80
		.byte 0x20
		.byte 0x20
		.byte 0xA
		.byte 0xCA
		.word 0
		.long Obj_C6_1
		.word 0
		.byte 0
		.byte 5
		.byte 1
		.byte 5
		.byte 2
		.byte 5
		.byte 3
		.byte 5
		.byte 0xFC
		.byte 0
/* 		1st PLC		palette                          2nd 8x8 data                                       2nd 16x16 data                                     2nd 128x128 data */
/* 			2nd PLC           1st 8x8 data                                    1st 16x16 data                                      1st 128x128 data */
LevelLoadBlock:	levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Primary_Kos,   AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ2_8x8_Primary_KosM, AIZ2_8x8_Secondary_KosM, AIZ2_16x16_Primary_Kos,   AIZ2_16x16_Secondary_Kos, AIZ2_128x128_Kos,        AIZ2_128x128_Kos
		levartptrs 0xE,  0xF,  0xC,  HCZ_8x8_Primary_KosM,  HCZ1_8x8_Secondary_KosM, HCZ_16x16_Primary_Kos,    HCZ1_16x16_Secondary_Kos, HCZ_128x128_Primary_Kos, HCZ1_128x128_Secondary_Kos
		levartptrs 0x10, 0x11, 0xD,  HCZ_8x8_Primary_KosM,  HCZ2_8x8_Secondary_KosM, HCZ_16x16_Primary_Kos,    HCZ2_16x16_Secondary_Kos, HCZ_128x128_Primary_Kos, HCZ2_128x128_Secondary_Kos
		levartptrs 0x12, 0x12, 0xE,  MGZ_8x8_Primary_KosM,  MGZ1_8x8_Secondary_KosM, MGZ_16x16_Primary_Kos,    MGZ1_16x16_Secondary_Kos, MGZ_128x128_Primary_Kos, MGZ1_128x128_Secondary_Kos
		levartptrs 0x14, 0x14, 0xF,  MGZ_8x8_Primary_KosM,  MGZ2_8x8_Secondary_KosM, MGZ_16x16_Primary_Kos,    MGZ2_16x16_Secondary_Kos, MGZ_128x128_Primary_Kos, MGZ2_128x128_Secondary_Kos
		levartptrs 0x16, 0x17, 0x10, CNZ_8x8_KosM,          CNZ_8x8_KosM,            CNZ_16x16_Kos,            CNZ_16x16_Kos,            CNZ_128x128_Kos,         CNZ_128x128_Kos
		levartptrs 0x18, 0x19, 0x11, CNZ_8x8_KosM,          CNZ_8x8_KosM,            CNZ_16x16_Kos,            CNZ_16x16_Kos,            CNZ_128x128_Kos,         CNZ_128x128_Kos
		levartptrs 0x1A, 0x1A, 0x12, ArtKosM_FBZ,           ArtKosM_FBZ,             FBZ_16x16_Kos,            FBZ_16x16_Kos,            FBZ_128x128_Kos,         FBZ_128x128_Kos
		levartptrs 0x1C, 0x1C, 0x13, ArtKosM_FBZ,           ArtKosM_FBZ,             FBZ_16x16_Kos,            FBZ_16x16_Kos,            FBZ_128x128_Kos,         FBZ_128x128_Kos
		levartptrs 0x1E, 0x1E, 0x14, ICZ_8x8_Primary_KosM,  ICZ1_8x8_Secondary_KosM, ICZ_16x16_Primary_Kos,    ICZ1_16x16_Secondary_Kos, ICZ_128x128_Primary_Kos, ICZ1_128x128_Secondary_Kos
		levartptrs 0x20, 0x20, 0x15, ICZ_8x8_Primary_KosM,  ICZ2_8x8_Secondary_KosM, ICZ_16x16_Primary_Kos,    ICZ2_16x16_Secondary_Kos, ICZ_128x128_Primary_Kos, ICZ2_128x128_Secondary_Kos
		levartptrs 0x22, 0x22, 0x16, LBZ_8x8_Primary_KosM,  LBZ1_8x8_Secondary_KosM, LBZ_16x16_Primary_Kos,    LBZ1_16x16_Secondary_Kos, LBZ1_128x128_Kos,        LBZ1_128x128_Kos
		levartptrs 0x24, 0x25, 0x17, LBZ_8x8_Primary_KosM,  LBZ2_8x8_Secondary_KosM, LBZ_16x16_Primary_Kos,    LBZ2_16x16_Secondary_Kos, LBZ2_128x128_Kos,        LBZ2_128x128_Kos
		levartptrs 0x26, 0x26, 0x18, ArtKosM_MHZ,           ArtKosM_MHZ,             MHZ_16x16_Kos,            MHZ_16x16_Kos,            MHZ_128x128_Kos,         MHZ_128x128_Kos
		levartptrs 0x28, 0x28, 0x19, ArtKosM_MHZ,           ArtKosM_MHZ,             MHZ_16x16_Kos,            MHZ_16x16_Kos,            MHZ_128x128_Kos,         MHZ_128x128_Kos
		levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0x2E, 0x2E, 0x1C, ArtKosM_LRZ,           ArtKosM_LRZ,             LRZ_16x16_Kos,            LRZ_16x16_Kos,            LRZ_128x128_Kos,         LRZ_128x128_Kos
		levartptrs 0x30, 0x30, 0x1D, ArtKosM_LRZ,           ArtKosM_LRZ,             LRZ_16x16_Kos,            LRZ_16x16_Kos,            LRZ_128x128_Kos,         LRZ_128x128_Kos
		levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xB,  0xB,  0x2A, AIZ1_8x8_Primary_KosM, AIZ1_8x8_MainLevel_KosM, AIZ1_16x16_Primary_Kos,   AIZ1_16x16_MainLevel_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0x42, 0x42, 0x26, ALZ_8x8_KosM,          ALZ_8x8_KosM,            ALZ_16x16_Kos,            ALZ_16x16_Kos,            ALZ_128x128_Kos,         ALZ_128x128_Kos
		levartptrs 0x42, 0x42, 0x27, ALZ_8x8_KosM,          ALZ_8x8_KosM,            ALZ_16x16_Kos,            ALZ_16x16_Kos,            ALZ_128x128_Kos,         ALZ_128x128_Kos
		levartptrs 0x43, 0x43, 0x28, BPZ_8x8_KosM,          BPZ_8x8_KosM,            BPZ_16x16_Kos,            BPZ_16x16_Kos,            BPZ_128x128_Kos,         BPZ_128x128_Kos
		levartptrs 0x43, 0x43, 0x29, BPZ_8x8_KosM,          BPZ_8x8_KosM,            BPZ_16x16_Kos,            BPZ_16x16_Kos,            BPZ_128x128_Kos,         BPZ_128x128_Kos
		levartptrs 0x44, 0x44, 0x34, DPZ_8x8_KosM,          DPZ_8x8_KosM,            DPZ_16x16_Kos,            DPZ_16x16_Kos,            DPZ_128x128_Kos,         DPZ_128x128_Kos
		levartptrs 0x44, 0x44, 0x34, DPZ_8x8_KosM,          DPZ_8x8_KosM,            DPZ_16x16_Kos,            DPZ_16x16_Kos,            DPZ_128x128_Kos,         DPZ_128x128_Kos
		levartptrs 0x45, 0x45, 0x35, CGZ_8x8_KosM,          CGZ_8x8_KosM,            CGZ_16x16_Kos,            CGZ_16x16_Kos,            CGZ_128x128_Kos,         CGZ_128x128_Kos
		levartptrs 0x45, 0x45, 0x35, CGZ_8x8_KosM,          CGZ_8x8_KosM,            CGZ_16x16_Kos,            CGZ_16x16_Kos,            CGZ_128x128_Kos,         CGZ_128x128_Kos
		levartptrs 0x46, 0x46, 0x36, EMZ_8x8_KosM,          EMZ_8x8_KosM,            EMZ_16x16_Kos,            EMZ_16x16_Kos,            EMZ_128x128_Kos,         EMZ_128x128_Kos
		levartptrs 0x46, 0x46, 0x36, EMZ_8x8_KosM,          EMZ_8x8_KosM,            EMZ_16x16_Kos,            EMZ_16x16_Kos,            EMZ_128x128_Kos,         EMZ_128x128_Kos
		levartptrs 0x47, 0x47, 0x33, Gumball_8x8_KosM,      Gumball_8x8_KosM,        Gumball_16x16_Kos,        Gumball_16x16_Kos,        Gumball_128x128_Kos,     Gumball_128x128_Kos
		levartptrs 0x47, 0x47, 0x33, Gumball_8x8_KosM,      Gumball_8x8_KosM,        Gumball_16x16_Kos,        Gumball_16x16_Kos,        Gumball_128x128_Kos,     Gumball_128x128_Kos
		levartptrs 0x47, 0x47, 0x37, ArtKosM_Pachinko,      ArtKosM_Pachinko,        Pachinko_16x16_Kos,       Pachinko_16x16_Kos,       Pachinko_128x128_Kos,    Pachinko_128x128_Kos
		levartptrs 0x47, 0x47, 0x37, ArtKosM_Pachinko,      ArtKosM_Pachinko,        Pachinko_16x16_Kos,       Pachinko_16x16_Kos,       Pachinko_128x128_Kos,    Pachinko_128x128_Kos
		levartptrs 0x47, 0x47, 0x38, ArtKosM_Slots,         ArtKosM_Slots,           Slots_16x16_Kos,          Slots_16x16_Kos,          Slots_128x128_Kos,       Slots_128x128_Kos
		levartptrs 0x47, 0x47, 0x38, ArtKosM_Slots,         ArtKosM_Slots,           Slots_16x16_Kos,          Slots_16x16_Kos,          Slots_128x128_Kos,       Slots_128x128_Kos
		levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xB,  0xB,  0xA,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
		levartptrs 0xC,  0xC,  0xB,  AIZ1_8x8_Primary_KosM, AIZ1_8x8_Secondary_KosM, AIZ1_16x16_Secondary_Kos, AIZ1_16x16_Secondary_Kos, AIZ1_128x128_Kos,        AIZ1_128x128_Kos
Offs_PLC:	.word PLC_00-Offs_PLC
		.word PLC_01-Offs_PLC
		.word PLC_02-Offs_PLC
		.word PLC_03-Offs_PLC
		.word PLC_04-Offs_PLC
		.word PLC_05-Offs_PLC
		.word PLC_06-Offs_PLC
		.word PLC_07-Offs_PLC
		.word PLC_08-Offs_PLC
		.word PLC_09-Offs_PLC
		.word PLC_0A-Offs_PLC
		.word PLC_0B-Offs_PLC
		.word PLC_0C_0D-Offs_PLC
		.word PLC_0C_0D-Offs_PLC
		.word PLC_0E-Offs_PLC
		.word PLC_0F-Offs_PLC
		.word PLC_10-Offs_PLC
		.word PLC_11-Offs_PLC
		.word PLC_12_13-Offs_PLC
		.word PLC_12_13-Offs_PLC
		.word PLC_14_15-Offs_PLC
		.word PLC_14_15-Offs_PLC
		.word PLC_16_17_18_19-Offs_PLC
		.word PLC_16_17_18_19-Offs_PLC
		.word PLC_16_17_18_19-Offs_PLC
		.word PLC_16_17_18_19-Offs_PLC
		.word PLC_1A_1B_1C_1D-Offs_PLC
		.word PLC_1A_1B_1C_1D-Offs_PLC
		.word PLC_1A_1B_1C_1D-Offs_PLC
		.word PLC_1A_1B_1C_1D-Offs_PLC
		.word PLC_1E_1F-Offs_PLC
		.word PLC_1E_1F-Offs_PLC
		.word PLC_20_21-Offs_PLC
		.word PLC_20_21-Offs_PLC
		.word PLC_22_23-Offs_PLC
		.word PLC_22_23-Offs_PLC
		.word PLC_24-Offs_PLC
		.word PLC_25-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_26_Through_2D-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_2E_Through_41-Offs_PLC
		.word PLC_42-Offs_PLC
		.word PLC_43-Offs_PLC
		.word PLC_44-Offs_PLC
		.word PLC_45-Offs_PLC
		.word PLC_46-Offs_PLC
		.word PLC_47-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_48_Through_5A-Offs_PLC
		.word PLC_5B-Offs_PLC
		.word PLC_5C_5D-Offs_PLC
		.word PLC_5C_5D-Offs_PLC
		.word PLC_5E-Offs_PLC
		.word PLC_5F-Offs_PLC
		.word PLC_60-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_61_Through_6A-Offs_PLC
		.word PLC_6B-Offs_PLC
		.word PLC_6C-Offs_PLC
		.word PLC_6D-Offs_PLC
		.word PLC_6E-Offs_PLC
		.word PLC_6F-Offs_PLC
		.word PLC_70-Offs_PLC
		.word PLC_71-Offs_PLC
		.word PLC_72_73_74_75_76_77-Offs_PLC
		.word PLC_72_73_74_75_76_77-Offs_PLC
		.word PLC_72_73_74_75_76_77-Offs_PLC
		.word PLC_72_73_74_75_76_77-Offs_PLC
		.word PLC_72_73_74_75_76_77-Offs_PLC
		.word PLC_72_73_74_75_76_77-Offs_PLC
		.word PLC_78_79_7A_7B-Offs_PLC
		.word PLC_78_79_7A_7B-Offs_PLC
		.word PLC_78_79_7A_7B-Offs_PLC
		.word PLC_78_79_7A_7B-Offs_PLC

PLC_00: plrlistheader
		plreq 0x7D4, ArtNem_SonicLifeIcon
		plreq ArtTile_Ring, ArtNem_RingHUDText
		plreq 0x5E4, ArtNem_EnemyPtsStarPost
		plreq ArtTile_Monitors, ArtNem_Monitors
PLC_00_End

PLC_01: plrlistheader
		plreq 0x7D4, ArtNem_SonicLifeIcon
		plreq ArtTile_Monitors, ArtNem_Monitors
		plreq ArtTile_Ring, ArtNem_RingHUDText
		plreq 0x5E4, ArtNem_EnemyPtsStarPost
PLC_01_End

PLC_02: plrlistheader
		plreq 0x5A0, ArtNem_Explosion
		plreq 0x580, ArtNem_Squirrel
		plreq 0x592, ArtNem_BlueFlicky
PLC_02_End

PLC_03: plrlistheader
		plreq ArtTile_Shield, ArtNem_GameOver
PLC_03_End

PLC_04: plrlistheader
		plreq 0x500, ArtNem_S2Signpost
PLC_04_End

PLC_05: plrlistheader
		plreq 0x494, ArtNem_SpikesSprings
PLC_05_End

PLC_06: plrlistheader
		plreq 0x391, ArtNem_2PArt_2
		plreq 0x3AD, ArtNem_2PArt_1
		plreq 0x3C6, ArtNem_2PArt_3
PLC_06_End

PLC_07: plrlistheader
		plreq 0x7D4, ArtNem_TailsLifeIcon
		plreq ArtTile_Monitors, ArtNem_Monitors
		plreq ArtTile_Ring, ArtNem_RingHUDText
		plreq 0x5E4, ArtNem_EnemyPtsStarPost
PLC_07_End

PLC_08: plrlistheader
		plreq ArtTile_Monitors, ArtNem_Monitors
PLC_08_End

PLC_09: plrlistheader
		plreq 0x4E0, ArtNem_SphereTest
PLC_09_End

PLC_0A: plrlistheader
		plreq 0x3D1, ArtNem_AIZIntroSprites
PLC_0A_End

PLC_0B: plrlistheader
		plreq 0x41B, ArtNem_AIZSwingVine
		plreq 0x324, ArtNem_AIZSlideRope
		plreq 0x333, ArtNem_AIZMisc1
		plreq 0x3CF, ArtNem_AIZFallingLog
		plreq 0x45C, ArtNem_Bubbles
		plreq 0x3F7, ArtNem_AIZCorkFloor
PLC_0B_End

PLC_0C_0D: plrlistheader
		plreq 0x2E9, ArtNem_AIZMisc2
		plreq 0x41B, ArtNem_AIZSwingVine
		plreq 0x438, ArtNem_AIZBackgroundTree
		plreq 0x45C, ArtNem_Bubbles
		plreq 0x456, ArtNem_GrayButton
		plreq 0x440, ArtNem_AIZCorkFloor2
PLC_0C_0D_End

PLC_0E: plrlistheader
		plreq 0x45C, ArtNem_Bubbles
		plreq 0x3CA, ArtNem_HCZMisc
		plreq 0x426, ArtNem_HCZButton
		plreq 0x37A, ArtNem_HCZWaterRush
		plreq 0x42E, ArtNem_HCZWaveSplash
		plreq 0x43E, ArtNem_HCZSpikeBall
PLC_0E_End

PLC_0F: plrlistheader
		plreq 0x44C, ArtNem_HCZDragonfly
PLC_0F_End

PLC_10: plrlistheader
		plreq 0x45C, ArtNem_Bubbles
		plreq 0x3CA, ArtNem_HCZMisc
		plreq 0x426, ArtNem_HCZButton
		plreq 0x42E, ArtNem_HCZWaveSplash
		plreq 0x43E, ArtNem_HCZSpikeBall
		plreq 0x35C, ArtNem_HCZ2Slide
PLC_10_End

PLC_11: plrlistheader
		plreq 0x350, ArtNem_HCZ2KnuxWall
		plreq  0x28, ArtNem_HCZ2BlockPlat
		plreq 0x44C, ArtNem_HCZDragonfly
PLC_11_End

PLC_12_13: plrlistheader
		plreq 0x35F, ArtNem_MGZMisc1
		plreq 0x3FF, ArtNem_MGZMisc2
		plreq 0x451, ArtNem_MGZSigns
		plreq 0x478, ArtNem_DiagonalSpring
PLC_12_13_End

PLC_14_15: plrlistheader
		plreq 0x35F, ArtNem_MGZMisc1
		plreq 0x3FF, ArtNem_MGZMisc2
		plreq 0x451, ArtNem_MGZSigns
		plreq 0x478, ArtNem_DiagonalSpring
PLC_14_15_End

PLC_16_17_18_19: plrlistheader
		plreq 0x351, ArtNem_CNZMisc
		plreq 0x45C, ArtNem_Bubbles
		plreq 0x430, ArtNem_CNZPlatform
PLC_16_17_18_19_End

PLC_1A_1B_1C_1D: plrlistheader
		plreq 0x43A, ArtNem_DiagonalSpring
PLC_1A_1B_1C_1D_End

PLC_1E_1F: plrlistheader
		plreq 0x6B8, ArtNem_SnowboardDust
		plreq 0x43A, ArtNem_DiagonalSpring
		plreq 0x456, ArtNem_GrayButton
		plreq 0x3B6, ArtNem_ICZMisc1
		plreq 0x347, ArtNem_ICZIntroSprites
PLC_1E_1F_End

PLC_20_21: plrlistheader
		plreq 0x43A, ArtNem_DiagonalSpring
		plreq 0x456, ArtNem_GrayButton
		plreq 0x3B6, ArtNem_ICZMisc1
		plreq 0x377, ArtNem_ICZMisc2
		plreq 0x45C, ArtNem_Bubbles
PLC_20_21_End

PLC_22_23: plrlistheader
		plreq 0x3C3, ArtNem_LBZMisc
		plreq 0x455, ArtNem_LBZTubeTrans
PLC_22_23_End

PLC_24: plrlistheader
		plreq 0x3C3, ArtNem_LBZMisc
		plreq 0x45C, ArtNem_Bubbles
PLC_24_End

PLC_25: plrlistheader
		plreq 0x2EA, ArtNem_LBZ2Misc
PLC_25_End

PLC_26_Through_2D: plrlistheader
		plreq 0x43A, ArtNem_DiagonalSpring
		plreq 0x494, ArtNem_SpikesSprings
PLC_26_Through_2D_End

PLC_2E_Through_41: plrlistheader
		plreq 0x43A, ArtNem_DiagonalSpring
		plreq 0x494, ArtNem_SpikesSprings
PLC_2E_Through_41_End

PLC_42: plrlistheader
		plreq ArtTile_DashDust, ArtNem_2PDashdust
		plreq 0x6BC, ArtNem_2PStartPost
		plreq 0x700, ArtNem_2PLapNum
		plreq 0x600, ArtNem_2PTime
		plreq 0x75E, ArtNem_2PPosIcon
		plreq 0x391, ArtNem_2PArt_2
		plreq 0x3AD, ArtNem_2PArt_1
		plreq 0x3C6, ArtNem_2PArt_3
PLC_42_End

PLC_43: plrlistheader
		plreq 0x300, ArtNem_BPZMisc
		plreq ArtTile_DashDust, ArtNem_2PDashdust
		plreq 0x6BC, ArtNem_2PStartPost
		plreq 0x700, ArtNem_2PLapNum
		plreq 0x600, ArtNem_2PTime
		plreq 0x75E, ArtNem_2PPosIcon
		plreq 0x391, ArtNem_2PArt_2
		plreq 0x3AD, ArtNem_2PArt_1
		plreq 0x3C6, ArtNem_2PArt_3
PLC_43_End

PLC_44: plrlistheader
		plreq 0x280, ArtNem_DPZMisc
		plreq ArtTile_DashDust, ArtNem_2PDashdust
		plreq 0x6BC, ArtNem_2PStartPost
		plreq 0x700, ArtNem_2PLapNum
		plreq 0x600, ArtNem_2PTime
		plreq 0x75E, ArtNem_2PPosIcon
		plreq 0x391, ArtNem_2PArt_2
		plreq 0x3AD, ArtNem_2PArt_1
		plreq 0x3C6, ArtNem_2PArt_3
PLC_44_End

PLC_45: plrlistheader
		plreq 0x300, ArtNem_CGZMisc
		plreq ArtTile_DashDust, ArtNem_2PDashdust
		plreq 0x6BC, ArtNem_2PStartPost
		plreq 0x700, ArtNem_2PLapNum
		plreq 0x600, ArtNem_2PTime
		plreq 0x75E, ArtNem_2PPosIcon
		plreq 0x391, ArtNem_2PArt_2
		plreq 0x3AD, ArtNem_2PArt_1
		plreq 0x3C6, ArtNem_2PArt_3
PLC_45_End

PLC_46: plrlistheader
		plreq 0x300, ArtNem_EMZMisc
		plreq ArtTile_DashDust, ArtNem_2PDashdust
		plreq 0x6BC, ArtNem_2PStartPost
		plreq 0x700, ArtNem_2PLapNum
		plreq 0x600, ArtNem_2PTime
		plreq 0x75E, ArtNem_2PPosIcon
		plreq 0x391, ArtNem_2PArt_2
		plreq 0x3AD, ArtNem_2PArt_1
		plreq 0x3C6, ArtNem_2PArt_3
PLC_46_End

PLC_47: plrlistheader
		plreq 0x15B, ArtNem_BonusStage
		plreq 0x494, ArtNem_SpikesSprings
PLC_47_End

PLC_48_Through_5A: plrlistheader
		plreq 0x41A, ArtNem_AIZMiniboss
		plreq 0x474, ArtNem_AIZMinibossSmall
		plreq 0x482, ArtNem_AIZBossFire
		plreq 0x4D2, ArtNem_BossExplosion
PLC_48_Through_5A_End

PLC_5B: plrlistheader
		plreq 0x304, ArtNem_HCZMiniboss
		plreq 0x500, ArtNem_BossExplosion
PLC_5B_End

PLC_5C_5D: plrlistheader
		plreq 0x52E, ArtNem_CNZMiniboss
		plreq 0x500, ArtNem_BossExplosion
PLC_5C_5D_End

PLC_5E: plrlistheader
		plreq 0x52E, ArtNem_FBZMiniboss
		plreq 0x44E, ArtNem_EggCapsule
		plreq 0x500, ArtNem_BossExplosion
		plreq 0x42E, ArtNem_Squirrel
		plreq 0x440, ArtNem_BlueFlicky
PLC_5E_End

PLC_5F: plrlistheader
		plreq 0x4A9, ArtNem_ICZMiniboss
		plreq 0x500, ArtNem_BossExplosion
PLC_5F_End

PLC_60: plrlistheader
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x4D6, ArtNem_LBZKnuxBomb
PLC_60_End

PLC_61_Through_6A: plrlistheader
		plreq 0x52E, ArtNem_FBZ2Subboss
		plreq 0x466, ArtNem_FBZRobotnikStand
		plreq 0x4A9, ArtNem_FBZRobotnikRun
		plreq 0x500, ArtNem_BossExplosion
PLC_61_Through_6A_End

PLC_6B: plrlistheader
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x4D2, ArtNem_BossExplosion
PLC_6B_End

PLC_6C: plrlistheader
		plreq 0x320, ArtNem_HCZEndBoss
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x500, ArtNem_BossExplosion
		plreq 0x494, ArtNem_EggCapsule
PLC_6C_End

PLC_6D: plrlistheader
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x500, ArtNem_BossExplosion
		plreq 0x494, ArtNem_EggCapsule
PLC_6D_End

PLC_6E: plrlistheader
		plreq 0x430, ArtNem_CNZEndBoss
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x500, ArtNem_BossExplosion
		plreq 0x494, ArtNem_EggCapsule
PLC_6E_End

PLC_6F: plrlistheader
		plreq 0x3E0, ArtNem_FBZEndBoss
		plreq 0x410, ArtNem_FBZRobotnikHead
		plreq 0x454, ArtNem_FBZEndBossFlame
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x500, ArtNem_BossExplosion
		plreq 0x494, ArtNem_EggCapsule
PLC_6F_End

PLC_70: plrlistheader
		plreq 0x2A6, ArtNem_ICZEndBoss
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x500, ArtNem_BossExplosion
		plreq 0x494, ArtNem_EggCapsule
PLC_70_End

PLC_71: plrlistheader
		plreq 0x3AA, ArtNem_LBZFinalBoss1
		plreq 0x500, ArtNem_BossExplosion
PLC_71_End

PLC_72_73_74_75_76_77: plrlistheader
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x4A9, ArtNem_FBZRobotnikRun
		plreq 0x500, ArtNem_BossExplosion
PLC_72_73_74_75_76_77_End

PLC_78_79_7A_7B: plrlistheader
		plreq 0x52E, ArtNem_RobotnikShip
		plreq 0x500, ArtNem_BossExplosion
PLC_78_79_7A_7B_End

/*  =============== S U B R O U T I N E ======================================= */


DebugMode:
		moveq	#0,%d0
		moveb	(Debug_placement_routine):w,%d0
		movew	off_5B52E(%pc,%d0.w),%d1
		jmp	off_5B52E(%pc,%d1.w)
/*  End of function DebugMode */

/*  --------------------------------------------------------------------------- */
off_5B52E:	.word loc_5B532-off_5B52E
		.word loc_5B5BA-off_5B52E
/*  --------------------------------------------------------------------------- */

loc_5B532:
		addqb	#2,(Debug_placement_routine):w
		movel	0xC(%a0),(Debug_P1_mappings):w
		movew	0xA(%a0),(Debug_P2_mappings):w
		movew	(Screen_Y_wrap_value):w,%d0
		andw	%d0,(Player_1+y_pos):w
		andw	%d0,(Camera_Y_pos):w
		clrb	(Scroll_lock):w
		clrw	(WindTunnel_flag):w
		bclr	#6,0x2A(%a0)
		beqs	loc_5B578
		moveal	%a0,%a1
		jsr	(Player_ResetAirTimer):l
		movew	#0x600,(Max_%speed):w
		movew	#0xC,(Acceleration):w
		movew	#0x80,(Deceleration):w

loc_5B578:
		moveb	#0,0x22(%a0)
		moveb	#0,0x20(%a0)
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		andiw	#0x7E,%d0
		lea	(DebugOffs):l,%a2
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d6
		cmpb	(Debug_object):w,%d6
		bhis	loc_5B5AA
		moveb	#0,(Debug_object):w

loc_5B5AA:
		bsrw	sub_5B764
		moveb	#0xC,(Debug_camera_delay):w
		moveb	#1,(Debug_camera_%speed):w

loc_5B5BA:
		moveq	#0,%d0
		movew	(Current_zone_and_act):w,%d0
		rorb	#1,%d0
		lsrw	#6,%d0
		andiw	#0x7E,%d0
		lea	(DebugOffs):l,%a2
		addaw	(%a2,%d0.w),%a2
		movew	(%a2)+,%d6
		bsrw	sub_5B5DE
		jmp	(Draw_Sprite):l

/*  =============== S U B R O U T I N E ======================================= */


sub_5B5DE:
		moveq	#0,%d4
		movew	#1,%d1
		moveb	(Ctrl_1_pressed):w,%d4
		andiw	#0xF,%d4
		bnes	loc_5B620
		moveb	(Ctrl_1_held):w,%d0
		andiw	#0xF,%d0
		bnes	loc_5B608
		moveb	#0xC,(Debug_camera_delay):w
		moveb	#0xF,(Debug_camera_%speed):w
		braw	loc_5B684
/*  --------------------------------------------------------------------------- */

loc_5B608:
		subqb	#1,(Debug_camera_delay):w
		bnes	loc_5B624
		moveb	#1,(Debug_camera_delay):w
		addqb	#1,(Debug_camera_%speed):w
		bnes	loc_5B620
		moveb	#-1,(Debug_camera_%speed):w

loc_5B620:
		moveb	(Ctrl_1_held):w,%d4

loc_5B624:
		moveq	#0,%d1
		moveb	(Debug_camera_%speed):w,%d1
		addqw	#1,%d1
		swap	%d1
		asrl	#4,%d1
		movel	0x14(%a0),%d2
		movel	0x10(%a0),%d3
		btst	#0,%d4
		beqs	loc_5B64E
		subl	%d1,%d2
		moveq	#0,%d0
		movew	(Camera_min_Y_pos):w,%d0
		swap	%d0
		cmpl	%d0,%d2
		bges	loc_5B64E
		movel	%d0,%d2

loc_5B64E:
		btst	#1,%d4
		beqs	loc_5B668
		addl	%d1,%d2
		moveq	#0,%d0
		movew	(Camera_target_max_Y_pos):w,%d0
		addiw	#0xDF,%d0
		swap	%d0
		cmpl	%d0,%d2
		blts	loc_5B668
		movel	%d0,%d2

loc_5B668:
		btst	#2,%d4
		beqs	loc_5B674
		subl	%d1,%d3
		bccs	loc_5B674
		moveq	#0,%d3

loc_5B674:
		btst	#3,%d4
		beqs	loc_5B67C
		addl	%d1,%d3

loc_5B67C:
		movel	%d2,0x14(%a0)
		movel	%d3,0x10(%a0)

loc_5B684:
		btst	#6,(Ctrl_1_held):w
		beqs	loc_5B6BC
		btst	#5,(Ctrl_1_pressed):w
		beqs	loc_5B6A0
		subqb	#1,(Debug_object):w
		bccs	loc_5B6B8
		addb	%d6,(Debug_object):w
		bras	loc_5B6B8
/*  --------------------------------------------------------------------------- */

loc_5B6A0:
		btst	#6,(Ctrl_1_pressed):w
		beqs	loc_5B6BC
		addqb	#1,(Debug_object):w
		cmpb	(Debug_object):w,%d6
		bhis	loc_5B6B8
		moveb	#0,(Debug_object):w

loc_5B6B8:
		braw	sub_5B764
/*  --------------------------------------------------------------------------- */

loc_5B6BC:
		btst	#5,(Ctrl_1_pressed):w
		beqs	loc_5B708
		jsr	(Create_New_Sprite):l
		bnes	loc_5B708
		movew	0x10(%a0),0x10(%a1)
		movew	0x14(%a0),0x14(%a1)
		moveb	4(%a0),4(%a1)
		moveb	4(%a0),0x2A(%a1)
		andib	#0x7F,0x2A(%a1)
		moveq	#0,%d0
		moveb	(Debug_object):w,%d0
		addw	%d0,%d0
		movew	%d0,%d1
		lslw	#2,%d0
		addw	%d1,%d0
		moveb	4(%a2,%d0.w),0x2C(%a1)
		movel	(%a2,%d0.w),(%a1)
		moveb	#0,(%a1)
		rts
/*  --------------------------------------------------------------------------- */

loc_5B708:
		btst	#4,(Ctrl_1_pressed):w
		beqs	locret_5B734
		moveq	#0,%d0
		movew	%d0,(Debug_placement_mode):w
		lea	(Player_1):w,%a1
		movel	(Debug_P1_mappings):w,0xC(%a1)
		movew	(Debug_P2_mappings):w,0xA(%a1)
		bsrs	sub_5B736
		moveb	#0x13,0x1E(%a1)
		moveb	#9,0x1F(%a1)

locret_5B734:
		rts
/*  End of function sub_5B5DE */


/*  =============== S U B R O U T I N E ======================================= */


sub_5B736:
		moveb	%d0,0x20(%a1)
		movew	%d0,0x12(%a1)
		movew	%d0,0x16(%a1)
		moveb	%d0,0x2E(%a1)
		moveb	%d0,0x3D(%a1)
		movew	%d0,0x18(%a1)
		movew	%d0,0x1A(%a1)
		movew	%d0,0x1C(%a1)
		moveb	#2,0x2A(%a1)
		moveb	#2,5(%a1)
		rts
/*  End of function sub_5B736 */


/*  =============== S U B R O U T I N E ======================================= */


sub_5B764:
		moveq	#0,%d0
		moveb	(Debug_object):w,%d0
		addw	%d0,%d0
		movew	%d0,%d1
		lslw	#2,%d0
		addw	%d1,%d0
		movel	4(%a2,%d0.w),0xC(%a0)
		movew	8(%a2,%d0.w),0xA(%a0)
		moveb	(%a2,%d0.w),0x22(%a0)
		rts
/*  End of function sub_5B764 */

/*  --------------------------------------------------------------------------- */
DebugOffs:	.include "Levels/Misc/Debug list pointers.S"

Debug_AIZ1: dbglistheader
		.include "Levels/AIZ/Debug/Act 1 S3.S"
Debug_AIZ1_End

Debug_AIZ2: dbglistheader
		.include "Levels/AIZ/Debug/Act 2 S3.S"
Debug_AIZ2_End

Debug_HCZ: dbglistheader
		.include "Levels/HCZ/Debug/S3.S"
Debug_HCZ_End

Debug_MGZ: dbglistheader
		.include "Levels/MGZ/Debug/S3.S"
Debug_MGZ_End

Debug_CNZ: dbglistheader
		.include "Levels/CNZ/Debug/S3.S"
Debug_CNZ_End

Debug_FBZ1:
Debug_FBZ2: dbglistheader
		.include "Levels/FBZ/Debug/S3.S"
Debug_FBZ2_End

Debug_ICZ1: dbglistheader
		.include "Levels/ICZ/Debug/Act 1 S3.S"
Debug_ICZ1_End

Debug_ICZ2: dbglistheader
		.include "Levels/ICZ/Debug/Act 2 S3.S"
Debug_ICZ2_End

Debug_LBZ1: dbglistheader
		.include "Levels/LBZ/Debug/Act 1 S3.S"
Debug_LBZ1_End

Debug_LBZ2: dbglistheader
		.include "Levels/LBZ/Debug/Act 2 S3.S"
Debug_LBZ2_End

Debug_MHZ: dbglistheader
		.include "Levels/MHZ/Debug/S3.S"
Debug_MHZ_End

Debug_SOZ1:
Debug_SOZ2: dbglistheader
		.include "Levels/SOZ/Debug/S3.S"
Debug_SOZ2_End

Debug_LRZ1:
Debug_LRZ2: .word 5
		.include "Levels/LRZ/Debug/S3.S"
Debug_LRZ_End

Debug_SSZ: dbglistheader
		.include "Levels/SSZ/Debug/S3.S"
Debug_SSZ_End

Debug_DEZ1:
Debug_DEZ2: dbglistheader
		.include "Levels/DEZ/Debug/S3.S"
Debug_DEZ2_End

Debug_DDZ1:
Debug_DDZ2: dbglistheader
		.include "Levels/DDZ/Debug/S3.S"
Debug_DDZ2_End

Debug_Ending: dbglistheader
		.include "Levels/SSZ/Debug/Ending S3.S"
Debug_Ending_End

Debug_ALZ: dbglistheader
		.include "Levels/ALZ/Debug/Main.S"
Debug_ALZ_End

Debug_BPZ: dbglistheader
		.include "Levels/BPZ/Debug/Main.S"
Debug_BPZ_End

Debug_DPZ: dbglistheader
		.include "Levels/DPZ/Debug/Main.S"
Debug_DPZ_End

Debug_CGZ: dbglistheader
		.include "Levels/CGZ/Debug/Main.S"
Debug_CGZ_End

Debug_EMZ: dbglistheader
		.include "Levels/EMZ/Debug/Main.S"
Debug_EMZ_End

Debug_Pachinko_Special:
Debug_HPZ:
Debug_Gumball_Special: dbglistheader
		.include "Levels/Gumball/Debug/S3.S"
Debug_Gumball_Special_End

Sprite_Listing:	.include "Levels/Misc/Object pointers - S3 Set.S"
		.balign 0x2000
Character_Speeds:
		.word  0x600,  0x10,  0x20,    0
		.word  0x4C0,  0x1C,  0x70,    0
		.word  0x580,  0x10, 0x200,    0
Start_Locations:.incbin "Levels/AIZ/Start Location/Sonic/1.bin"
		.incbin "Levels/AIZ/Start Location/Sonic/2.bin"
		.incbin "Levels/HCZ/Start Location/Sonic/1.bin"
		.incbin "Levels/HCZ/Start Location/Sonic/2.bin"
		.incbin "Levels/MGZ/Start Location/Sonic/1.bin"
		.incbin "Levels/MGZ/Start Location/Sonic/2.bin"
		.incbin "Levels/CNZ/Start Location/Sonic/1.bin"
		.incbin "Levels/CNZ/Start Location/Sonic/2.bin"
		.word    0x60,  0x6EC
		.word    0x60,  0x5EC
		.incbin "Levels/ICZ/Start Location/Sonic/1.bin"
		.incbin "Levels/ICZ/Start Location/Sonic/2.bin"
		.incbin "Levels/LBZ/Start Location/Sonic/1.bin"
		.incbin "Levels/LBZ/Start Location/Sonic/2.bin"
		.word    0x80,  0x6AA
		.word    0x80,  0x3AA
		.word   0x230,  0x1AC
		.word   0x230,  0x1AC
		.word   0x100,   0x20
		.word   0x100,   0x20
		.word    0x60,  0x6AC
		.word    0x60,  0x56C
		.word    0x60,  0x6AC
		.word    0x60,  0x5AC
		.word    0x60,  0x2AC
		.word    0x60,  0x58C
		.word    0x60,  0x1EC
		.word    0x60,  0x12C
		.incbin "Levels/ALZ/Start Location/Sonic/1.bin"
		.incbin "Levels/ALZ/Start Location/Sonic/2.bin"
		.incbin "Levels/BPZ/Start Location/Sonic/1.bin"
		.incbin "Levels/BPZ/Start Location/Sonic/2.bin"
		.incbin "Levels/DPZ/Start Location/Sonic/1.bin"
		.incbin "Levels/DPZ/Start Location/Sonic/2.bin"
		.incbin "Levels/CGZ/Start Location/Sonic/1.bin"
		.incbin "Levels/CGZ/Start Location/Sonic/2.bin"
		.incbin "Levels/EMZ/Start Location/Sonic/1.bin"
		.incbin "Levels/EMZ/Start Location/Sonic/2.bin"
		.incbin "Levels/Gumball/Start Location/Sonic/1.bin"
		.incbin "Levels/Gumball/Start Location/Sonic/2.bin"
		.word    0x60,   0x70
		.word    0x60,   0x70
		.word    0x60,   0x70
		.word    0x60,   0x70
		.word    0x60,   0x70
		.word    0x60,   0x70
		.word    0x60,   0x70
		.word    0x60,   0x70
SpriteLocPtrs:	.long AIZ1_Sprites
		.long AIZ2_Sprites
		.long HCZ1_Sprites
		.long HCZ2_Sprites
		.long MGZ1_Sprites
		.long MGZ2_Sprites
		.long CNZ1_Sprites
		.long CNZ2_Sprites
		.long FBZ1_Sprites
		.long FBZ2_Sprites
		.long ICZ1_Sprites
		.long ICZ2_Sprites
		.long LBZ1_Sprites
		.long LBZ2_Sprites
		.long MHZ1_Sprites
		.long MHZ2_Sprites
		.long SOZ1_Sprites
		.long SOZ2_Sprites
		.long LRZ1_Sprites
		.long LRZ2_Sprites
		.long SSZ1_Sprites
		.long SSZ2_Sprites
		.long DEZ1_Sprites
		.long DEZ2_Sprites
		.long DDZ1_Sprites
		.long DDZ2_Sprites
		.long Ending1_Sprites
		.long Ending2_Sprites
		.long ALZ1_Sprites
		.long ALZ2_Sprites
		.long BPZ1_Sprites
		.long BPZ2_Sprites
		.long DPZ1_Sprites
		.long DPZ2_Sprites
		.long CGZ1_Sprites
		.long CGZ2_Sprites
		.long EMZ1_Sprites
		.long EMZ2_Sprites
		.long Gumball1_Sprites
		.long Gumball2_Sprites
		.long Pachinko1_Sprites
		.long Pachinko2_Sprites
		.long Slots1_Sprites
		.long Slots2_Sprites
		.long LRZ3_Sprites
		.long HPZ_Sprites
		.long DEZ3_Sprites
		.long HPZMini_Sprites
RingLocPtrs:	.long AIZ1_Rings
		.long AIZ2_Rings
		.long HCZ1_Rings
		.long HCZ2_Rings
		.long MGZ1_Rings
		.long MGZ2_Rings
		.long CNZ1_Rings
		.long CNZ2_Rings
		.long FBZ1_Rings
		.long FBZ2_Rings
		.long ICZ1_Rings
		.long ICZ2_Rings
		.long LBZ1_Rings
		.long LBZ2_Rings
		.long MHZ1_Rings
		.long MHZ2_Rings
		.long SOZ1_Rings
		.long SOZ2_Rings
		.long LRZ1_Rings
		.long LRZ2_Rings
		.long SSZ1_Rings
		.long SSZ2_Rings
		.long DEZ1_Rings
		.long DEZ2_Rings
		.long DDZ1_Rings
		.long DDZ2_Rings
		.long Ending1_Rings
		.long Ending2_Rings
		.long ALZ1_Rings
		.long ALZ2_Rings
		.long BPZ1_Rings
		.long BPZ2_Rings
		.long DPZ1_Rings
		.long DPZ2_Rings
		.long CGZ1_Rings
		.long CGZ2_Rings
		.long EMZ1_Rings
		.long EMZ2_Rings
		.long Gumball1_Rings
		.long Gumball2_Rings
		.long Pachinko1_Rings
		.long Pachinko2_Rings
		.long Slots1_Rings
		.long Slots2_Rings
		.long LRZ3_Rings
		.long HPZ_Rings
		.long DEZ3_Rings
		.long HPZMini_Rings
AutoTunnel_Data:.long AutoTunnel_00
		.long AutoTunnel_01_02
		.long AutoTunnel_01_02
		.long AutoTunnel_03
		.long AutoTunnel_04
		.long AutoTunnel_05
		.long AutoTunnel_06
		.long AutoTunnel_07
		.long AutoTunnel_08
		.long AutoTunnel_09
		.long AutoTunnel_0A
		.long AutoTunnel_0B
		.long AutoTunnel_0C
		.long AutoTunnel_0D
		.long AutoTunnel_0E
		.long AutoTunnel_0F
		.long AutoTunnel_10
		.long AutoTunnel_11
		.long AutoTunnel_12
		.long AutoTunnel_13
		.long AutoTunnel_14
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
		.long SpriteTerminat9
SStageLayoutPtrs:
		.long SStage1_Layout
		.long SStage2_Layout
		.long SStage3_Layout
		.long SStage4_Layout
		.long SStage5_Layout
		.long SStage6_Layout
		.long SStage7_Layout
		.long SStage8_Layout
SpriteTerminat1:.word  0xFFFF,     0,     0
AIZ1_Sprites:	.incbin "Levels/AIZ/Object Pos/1-S3.bin"
		.balign 2
AIZ2_Sprites:	.incbin "Levels/AIZ/Object Pos/2-S3.bin"
		.balign 2
AIZ1_Rings:	.incbin "Levels/AIZ/Ring Pos/1-S3.bin"
		.balign 2
AIZ2_Rings:	.incbin "Levels/AIZ/Ring Pos/2-S3.bin"
		.balign 2
SpriteTerminat2:.word  0xFFFF,     0,     0
HCZ1_Sprites:	.incbin "Levels/HCZ/Object Pos/1-S3.bin"
		.balign 2
HCZ2_Sprites:	.incbin "Levels/HCZ/Object Pos/2-S3.bin"
		.balign 2
HCZ1_Rings:	.incbin "Levels/HCZ/Ring Pos/1-S3.bin"
		.balign 2
HCZ2_Rings:	.incbin "Levels/HCZ/Ring Pos/2-S3.bin"
		.balign 2
SpriteTerminat3:.word  0xFFFF,     0,     0
MGZ1_Sprites:	.incbin "Levels/MGZ/Object Pos/1-S3.bin"
		.balign 2
MGZ1_Rings:	.incbin "Levels/MGZ/Ring Pos/1-S3.bin"
		.balign 2
SpriteTerminat4:.word  0xFFFF,     0,     0
MGZ2_Sprites:	.incbin "Levels/MGZ/Object Pos/2-S3.bin"
		.balign 2
MGZ2_Rings:	.incbin "Levels/MGZ/Ring Pos/2-S3.bin"
		.balign 2
SpriteTerminat5:.word  0xFFFF,     0,     0
CNZ1_Sprites:	.incbin "Levels/CNZ/Object Pos/1-S3.bin"
		.balign 2
CNZ2_Sprites:	.incbin "Levels/CNZ/Object Pos/2-S3.bin"
		.balign 2
CNZ1_Rings:	.incbin "Levels/CNZ/Ring Pos/1-S3.bin"
		.balign 2
CNZ2_Rings:	.incbin "Levels/CNZ/Ring Pos/2-S3.bin"
		.balign 2
SpriteTerminat6:.word  0xFFFF,     0,     0
FBZ1_Sprites:	.incbin "Levels/FBZ/Object Pos/1-S3.bin"
		.balign 2
FBZ2_Sprites:	.incbin "Levels/FBZ/Object Pos/2-S3.bin"
		.balign 2
FBZ1_Rings:	.incbin "Levels/FBZ/Ring Pos/1-S3.bin"
		.balign 2
FBZ2_Rings:	.incbin "Levels/FBZ/Ring Pos/2-S3.bin"
		.balign 2
SpriteTerminat7:.word  0xFFFF,     0,     0
ICZ1_Sprites:	.incbin "Levels/ICZ/Object Pos/1-S3.bin"
		.balign 2
ICZ2_Sprites:	.incbin "Levels/ICZ/Object Pos/2-S3.bin"
		.balign 2
ICZ1_Rings:	.incbin "Levels/ICZ/Ring Pos/1-S3.bin"
		.balign 2
ICZ2_Rings:	.incbin "Levels/ICZ/Ring Pos/2-S3.bin"
		.balign 2
SpriteTerminat8:.word  0xFFFF,     0,     0
LBZ1_Sprites:	.incbin "Levels/LBZ/Object Pos/1-S3.bin"
		.balign 2
LBZ2_Sprites:	.incbin "Levels/LBZ/Object Pos/2-S3.bin"
		.balign 2
LBZ1_Rings:	.incbin "Levels/LBZ/Ring Pos/1-S3.bin"
		.balign 2
LBZ2_Rings:	.incbin "Levels/LBZ/Ring Pos/2-S3.bin"
		.balign 2
AutoTunnel_00:	.word 0xC
		.word   0xF60,  0x578
		.word   0xF60,  0x548
		.word   0xF60,  0x378
AutoTunnel_01_02:.word 0x38
		.word   0xD40,  0x770
		.word   0xD48,  0x770
		.word   0xD50,  0x770
		.word   0xD58,  0x770
		.word   0xD60,  0x770
		.word   0xDB0,  0x770
		.word   0xDD0,  0x77C
		.word   0xDE0,  0x79C
		.word   0xDD6,  0x7BC
		.word   0xDB6,  0x7CE
		.word   0xD96,  0x7CE
		.word   0xD86,  0x7C8
		.word   0xD70,  0x7A8
		.word   0xD70,  0x688
AutoTunnel_03:	.word 0x28
		.word   0xD30,  0x770
		.word   0xDB0,  0x770
		.word   0xDD0,  0x77C
		.word   0xDE0,  0x79C
		.word   0xDD6,  0x7BC
		.word   0xDB6,  0x7CE
		.word   0xD96,  0x7CE
		.word   0xD86,  0x7C8
		.word   0xD70,  0x7A8
		.word   0xD70,  0x748
AutoTunnel_04:	.word 0x38
		.word  0x2CC0,  0x9F0
		.word  0x2CC8,  0x9F0
		.word  0x2CD0,  0x9F0
		.word  0x2CD8,  0x9F0
		.word  0x2CE0,  0x9F0
		.word  0x2D30,  0x9F0
		.word  0x2D50,  0x9FC
		.word  0x2D60,  0xA1C
		.word  0x2D56,  0xA3C
		.word  0x2D36,  0xA4E
		.word  0x2D16,  0xA4E
		.word  0x2D06,  0xA48
		.word  0x2CF0,  0xA28
		.word  0x2CF0,  0x908
AutoTunnel_05:	.word 0x28
		.word  0x2CB0,  0x9F0
		.word  0x2D30,  0x9F0
		.word  0x2D50,  0x9FC
		.word  0x2D60,  0xA1C
		.word  0x2D56,  0xA3C
		.word  0x2D36,  0xA4E
		.word  0x2D16,  0xA4E
		.word  0x2D06,  0xA48
		.word  0x2CF0,  0xA28
		.word  0x2CF0,  0x9C8
AutoTunnel_06:	.word 0x38
		.word  0x3640,  0xA70
		.word  0x3648,  0xA70
		.word  0x3650,  0xA70
		.word  0x3658,  0xA70
		.word  0x3660,  0xA70
		.word  0x36B0,  0xA70
		.word  0x36D0,  0xA7C
		.word  0x36E0,  0xA9C
		.word  0x36D6,  0xABC
		.word  0x36B6,  0xACE
		.word  0x3696,  0xACE
		.word  0x3686,  0xAC8
		.word  0x3670,  0xAA8
		.word  0x3670,  0x988
AutoTunnel_07:	.word 0x28
		.word  0x3630,  0xA70
		.word  0x36B0,  0xA70
		.word  0x36D0,  0xA7C
		.word  0x36E0,  0xA9C
		.word  0x36D6,  0xABC
		.word  0x36B6,  0xACE
		.word  0x3696,  0xACE
		.word  0x3686,  0xAC8
		.word  0x3670,  0xAA8
		.word  0x3670,  0xA48
AutoTunnel_08:	.word 0x38
		.word  0x37C0,  0x7F0
		.word  0x37C8,  0x7F0
		.word  0x37D0,  0x7F0
		.word  0x37D8,  0x7F0
		.word  0x37E0,  0x7F0
		.word  0x3830,  0x7F0
		.word  0x3850,  0x7FC
		.word  0x3860,  0x81C
		.word  0x3856,  0x83C
		.word  0x3836,  0x84E
		.word  0x3816,  0x84E
		.word  0x3806,  0x848
		.word  0x37F0,  0x828
		.word  0x37F0,  0x708
AutoTunnel_09:	.word 0x28
		.word  0x37B0,  0x7F0
		.word  0x3830,  0x7F0
		.word  0x3850,  0x7FC
		.word  0x3860,  0x81C
		.word  0x3856,  0x83C
		.word  0x3836,  0x84E
		.word  0x3816,  0x84E
		.word  0x3806,  0x848
		.word  0x37F0,  0x828
		.word  0x37F0,  0x7C8
AutoTunnel_0A:	.word 0x38
		.word  0x29C0,  0x470
		.word  0x29C8,  0x470
		.word  0x29D0,  0x470
		.word  0x29D8,  0x470
		.word  0x29E0,  0x470
		.word  0x2A30,  0x470
		.word  0x2A50,  0x47C
		.word  0x2A60,  0x49C
		.word  0x2A56,  0x4BC
		.word  0x2A36,  0x4CE
		.word  0x2A16,  0x4CE
		.word  0x2A06,  0x4C8
		.word  0x29F0,  0x4A8
		.word  0x29F0,  0x388
AutoTunnel_0B:	.word 0x28
		.word  0x29B0,  0x470
		.word  0x2A30,  0x470
		.word  0x2A50,  0x47C
		.word  0x2A60,  0x49C
		.word  0x2A56,  0x4BC
		.word  0x2A36,  0x4CE
		.word  0x2A16,  0x4CE
		.word  0x2A06,  0x4C8
		.word  0x29F0,  0x4A8
		.word  0x29F0,  0x448
AutoTunnel_0C:	.word 0x104
		.word  0x26C0,  0x530
		.word  0x26C0,  0x6E0
		.word  0x26B2,  0x700
		.word  0x2692,  0x710
		.word  0x25F2,  0x710
		.word  0x25D2,  0x704
		.word  0x25C0,  0x6E4
		.word  0x25C0,  0x4B4
		.word  0x25B0,  0x484
		.word  0x2590,  0x464
		.word  0x2560,  0x450
		.word  0x24D0,  0x450
		.word  0x2490,  0x43B
		.word  0x2450,  0x41F
		.word  0x2400,  0x410
		.word  0x2300,  0x410
		.word  0x22D0,  0x415
		.word  0x22A0,  0x42B
		.word  0x2280,  0x448
		.word  0x2240,  0x468
		.word  0x2200,  0x470
		.word  0x21C0,  0x468
		.word  0x2180,  0x448
		.word  0x2160,  0x42B
		.word  0x2130,  0x415
		.word  0x2100,  0x410
		.word  0x20D0,  0x415
		.word  0x20A0,  0x42B
		.word  0x2080,  0x448
		.word  0x2040,  0x468
		.word  0x2000,  0x470
		.word  0x1FC0,  0x468
		.word  0x1F80,  0x448
		.word  0x1F60,  0x42B
		.word  0x1F30,  0x415
		.word  0x1F00,  0x410
		.word  0x1ED0,  0x415
		.word  0x1EA0,  0x42B
		.word  0x1E80,  0x448
		.word  0x1E40,  0x468
		.word  0x1E00,  0x470
		.word  0x1C70,  0x470
		.word  0x1C40,  0x440
		.word  0x1C40,  0x320
		.word  0x1C50,  0x300
		.word  0x1C70,  0x2F0
		.word  0x1F80,  0x2F0
		.word  0x1FD0,  0x2E4
		.word  0x2000,  0x2C8
		.word  0x2020,  0x2AB
		.word  0x2040,  0x29A
		.word  0x2080,  0x290
		.word  0x20C0,  0x2A7
		.word  0x2170,  0x357
		.word  0x21B0,  0x370
		.word  0x2400,  0x370
		.word  0x2440,  0x380
		.word  0x2480,  0x390
		.word  0x24B0,  0x384
		.word  0x24C0,  0x364
		.word  0x24C0,   0xC4
		.word  0x2490,   0x90
		.word  0x2450,   0x9C
		.word  0x2440,   0xCC
		.word  0x2440,   0xFC
AutoTunnel_0D:	.word 0x64
		.word  0x33C0,  0x130
		.word  0x33C0,  0x1E0
		.word  0x33D0,  0x200
		.word  0x3400,  0x210
		.word  0x3450,  0x220
		.word  0x34A0,  0x270
		.word  0x34C0,  0x2A0
		.word  0x34C0,  0x460
		.word  0x34CE,  0x480
		.word  0x34F0,  0x490
		.word  0x3710,  0x490
		.word  0x372E,  0x480
		.word  0x3740,  0x460
		.word  0x3740,  0x330
		.word  0x3720,  0x310
		.word  0x35F0,  0x310
		.word  0x35CE,  0x300
		.word  0x35C0,  0x2E0
		.word  0x35C0,   0x40
		.word  0x35CC,   0x20
		.word  0x3600,   0x10
		.word  0x3690,   0x10
		.word  0x36B4,   0x20
		.word  0x36C0,   0x40
		.word  0x36C0,   0x80
AutoTunnel_0E:	.word 0x38
		.word  0x14C0,  0xAB0
		.word  0x14C0,  0xB60
		.word  0x14D0,  0xB80
		.word  0x14F0,  0xB90
		.word  0x1610,  0xB90
		.word  0x1630,  0xB80
		.word  0x1640,  0xB60
		.word  0x1640,  0x8C0
		.word  0x1650,  0x8A0
		.word  0x1670,  0x890
		.word  0x1890,  0x890
		.word  0x18B0,  0x89C
		.word  0x18C0,  0x8BC
		.word  0x18C0,  0x8FC
AutoTunnel_0F:	.word 0x38
		.word  0x3840,  0x730
		.word  0x3840,  0x860
		.word  0x3832,  0x880
		.word  0x3802,  0x890
		.word  0x37D2,  0x884
		.word  0x37C0,  0x864
		.word  0x37C0,  0x3D4
		.word  0x37D0,  0x3B4
		.word  0x37F0,  0x39C
		.word  0x3820,  0x390
		.word  0x3990,  0x390
		.word  0x39B0,  0x39C
		.word  0x39C0,  0x3BC
		.word  0x39C0,  0x3FC
AutoTunnel_10:	.word 0x7C
		.word   0xF60,  0x5C8
		.word   0xF60,  0x950
		.word   0xF64,  0x980
		.word   0xF68,  0x990
		.word   0xF73,  0x9B0
		.word   0xF82,  0x9D0
		.word   0xF8C,  0x9E0
		.word   0xF98,  0x9F0
		.word   0xFA5,  0xA00
		.word   0xFB5,  0xA10
		.word   0xFC5,  0xA1C
		.word   0xFD5,  0xA28
		.word   0xFF5,  0xA38
		.word  0x1005,  0xA40
		.word  0x1025,  0xA4A
		.word  0x1035,  0xA4C
		.word  0x1055,  0xA50
		.word  0x1265,  0xA50
		.word  0x12A5,  0xA48
		.word  0x12C5,  0xA3C
		.word  0x12E5,  0xA2C
		.word  0x12F5,  0xA20
		.word  0x1305,  0xA14
		.word  0x1315,  0xA08
		.word  0x1320,  0x9F8
		.word  0x132F,  0x9E8
		.word  0x1343,  0x9C8
		.word  0x1350,  0x9A8
		.word  0x135A,  0x988
		.word  0x1360,  0x958
		.word  0x1360,  0x878
AutoTunnel_11:	.word 0x7C
		.word  0x3760,  0x1C8
		.word  0x3760,  0x510
		.word  0x375A,  0x540
		.word  0x3750,  0x560
		.word  0x3743,  0x580
		.word  0x372F,  0x5A0
		.word  0x3720,  0x5B0
		.word  0x3715,  0x5C0
		.word  0x3705,  0x5CC
		.word  0x36F5,  0x5D8
		.word  0x36E5,  0x5E4
		.word  0x36C5,  0x5F4
		.word  0x36A5,  0x600
		.word  0x3665,  0x608
		.word  0x3655,  0x608
		.word  0x3635,  0x604
		.word  0x3625,  0x602
		.word  0x3605,  0x5F8
		.word  0x35F5,  0x5F0
		.word  0x35D5,  0x5E0
		.word  0x35C5,  0x5D4
		.word  0x35B5,  0x5C8
		.word  0x35A5,  0x5B8
		.word  0x3598,  0x5A8
		.word  0x358C,  0x598
		.word  0x3582,  0x588
		.word  0x3573,  0x568
		.word  0x3568,  0x548
		.word  0x3564,  0x538
		.word  0x3560,  0x508
		.word  0x3560,  0x478
AutoTunnel_12:	.word 0x7C
		.word  0x3460,  0x5C8
		.word  0x3460,  0x690
		.word  0x345A,  0x6C0
		.word  0x3450,  0x6E0
		.word  0x3443,  0x700
		.word  0x342F,  0x720
		.word  0x3420,  0x730
		.word  0x3415,  0x740
		.word  0x3405,  0x74C
		.word  0x33F5,  0x758
		.word  0x33E5,  0x764
		.word  0x33C5,  0x774
		.word  0x33A5,  0x780
		.word  0x3365,  0x788
		.word  0x3355,  0x788
		.word  0x3335,  0x784
		.word  0x3325,  0x782
		.word  0x3305,  0x778
		.word  0x32F5,  0x770
		.word  0x32D5,  0x760
		.word  0x32C5,  0x754
		.word  0x32B5,  0x748
		.word  0x32A5,  0x738
		.word  0x3298,  0x728
		.word  0x328C,  0x718
		.word  0x3282,  0x708
		.word  0x3273,  0x6E8
		.word  0x3268,  0x6C8
		.word  0x3264,  0x6B8
		.word  0x3260,  0x688
		.word  0x3260,  0x5F8
AutoTunnel_13:	.word 0x28
		.word  0x1C70,  0x730
		.word  0x1C70,  0x6C0
		.word  0x1C62,  0x6A0
		.word  0x1C42,  0x692
		.word  0x1C32,  0x692
		.word  0x1C12,  0x69B
		.word  0x1C00,  0x6BB
		.word  0x1C08,  0x6DB
		.word  0x1C28,  0x6F0
		.word  0x1CA8,  0x6F0
AutoTunnel_14:	.word 0x28
		.word  0x3670,  0x830
		.word  0x3670,  0x7C0
		.word  0x3662,  0x7A0
		.word  0x3642,  0x792
		.word  0x3632,  0x792
		.word  0x3612,  0x79B
		.word  0x3600,  0x7BB
		.word  0x3608,  0x7DB
		.word  0x3628,  0x7F0
		.word  0x36A8,  0x7F0
SpriteTerminat9:.word  0xFFFF,     0,     0
MHZ1_Sprites:	.incbin "Levels/MHZ/Object Pos/1-S3.bin"
		.balign 2
MHZ2_Sprites:	.incbin "Levels/MHZ/Object Pos/2-S3.bin"
		.balign 2
MHZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
MHZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatA:.word  0xFFFF,     0,     0
SOZ1_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
SOZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
SOZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
SOZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatB:.word  0xFFFF,     0,     0
LRZ1_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
LRZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
LRZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
LRZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatC:.word  0xFFFF,     0,     0
SSZ1_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
SSZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
SSZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
SSZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatD:.word  0xFFFF,     0,     0
DEZ1_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
DEZ2_Sprites:	.word   0x550,     0,  0x289,   0x80,   0x80,     0, 0xFFFF,     0,     0
DEZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
DEZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatE:.word  0xFFFF,     0,     0
DDZ1_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
DDZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
DDZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
DDZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatF:.word  0xFFFF,     0,     0
Ending1_Sprites:.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Ending2_Sprites:.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Ending1_Rings:	.word    0x80, 0x7100, 0xFFFF
Ending2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatG:.word  0xFFFF,     0,     0
ALZ1_Sprites:	.incbin "Levels/ALZ/Object Pos/1.bin"
		.balign 2
ALZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
ALZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
ALZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatH:.word  0xFFFF,     0,     0
BPZ1_Sprites:	.incbin "Levels/BPZ/Object Pos/1.bin"
		.balign 2
BPZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
BPZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
BPZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatI:.word  0xFFFF,     0,     0
DPZ1_Sprites:	.incbin "Levels/DPZ/Object Pos/1.bin"
		.balign 2
DPZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
DPZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
DPZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatJ:.word  0xFFFF,     0,     0
CGZ1_Sprites:	.incbin "Levels/CGZ/Object Pos/1.bin"
		.balign 2
CGZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
CGZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
CGZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatK:.word  0xFFFF,     0,     0
EMZ1_Sprites:	.incbin "Levels/EMZ/Object Pos/1.bin"
		.balign 2
EMZ2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
EMZ1_Rings:	.word    0x80, 0x7100, 0xFFFF
EMZ2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatL:.word  0xFFFF,     0,     0
Gumball1_Sprites:
		.incbin "Levels/Gumball/Object Pos/1-S3.bin"
		.balign 2
Gumball2_Sprites:
		.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Gumball1_Rings:	.word   0x200,  0x200, 0xFFFF
Gumball2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatM:.word  0xFFFF,     0,     0
Pachinko1_Sprites:.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Pachinko2_Sprites:.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Pachinko1_Rings:.word    0x80, 0x7100, 0xFFFF
Pachinko2_Rings:.word    0x80, 0x7100, 0xFFFF
SpriteTerminatN:.word  0xFFFF,     0,     0
Slots1_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Slots2_Sprites:	.word    0x80,   0x80,     0, 0xFFFF,     0,     0
Slots1_Rings:	.word    0x80, 0x7100, 0xFFFF
Slots2_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatO:.word  0xFFFF,     0,     0
LRZ3_Sprites:	.word  0xFFFF,     0,     0
HPZ_Sprites:	.word  0xFFFF,     0,     0
LRZ3_Rings:	.word    0x80, 0x7100, 0xFFFF
HPZ_Rings:	.word    0x80, 0x7100, 0xFFFF
SpriteTerminatP:.word  0xFFFF,     0,     0
DEZ3_Sprites:	.word  0xFFFF,     0,     0
HPZMini_Sprites:.word  0xFFFF,     0,     0
DEZ3_Rings:	.word    0x80, 0x7100, 0xFFFF
HPZMini_Rings:	.word    0x80, 0x7100, 0xFFFF
SStage1_Layout:	.incbin "General/Special Stage/Layout/S3 1.bin"
		.balign 2
SStage2_Layout:	.incbin "General/Special Stage/Layout/S3 2.bin"
		.balign 2
SStage3_Layout:	.incbin "General/Special Stage/Layout/S3 3.bin"
		.balign 2
SStage4_Layout:	.incbin "General/Special Stage/Layout/S3 4.bin"
		.balign 2
SStage5_Layout:	.incbin "General/Special Stage/Layout/S3 5.bin"
		.balign 2
SStage6_Layout:	.incbin "General/Special Stage/Layout/S3 6.bin"
		.balign 2
SStage7_Layout:	.incbin "General/Special Stage/Layout/S3 7.bin"
		.balign 2
SStage8_Layout:	.incbin "General/Special Stage/Layout/S3 8.bin"
		.balign 0x1000
HCZ_WaterlineScroll_Data:
		.incbin "Levels/HCZ/Misc/HCZ Waterline Scroll Data.bin"
		.balign 2
LBZ_WaterlineScroll_Data:
		.incbin "Levels/LBZ/Misc/LBZ Waterline Scroll Data.bin"
		.balign 2
AngleArray:	.incbin "Levels/Misc/Angles S3.bin"
		.balign 2
HeightMaps:	.incbin "Levels/Misc/Height Maps S3.bin"
		.balign 2
HeightMapsRot:	.incbin "Levels/Misc/Height Maps Rotated S3.bin"
		.balign 2
SolidIndexes:	.long Solid_AIZ1
		.long Solid_AIZ2
		.long Solid_HCZ1
		.long Solid_HCZ2
		.long Solid_MGZ1
		.long Solid_MGZ2
		.long Solid_CNZ
		.long Solid_CNZ
		.long Solid_FBZ
		.long Solid_FBZ
		.long Solid_ICZ1
		.long Solid_ICZ2
		.long Solid_LBZ1
		.long Solid_LBZ2
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_ALZ
		.long Solid_BPZ
		.long Solid_BPZ
		.long Solid_DPZ
		.long Solid_DPZ
		.long Solid_CGZ
		.long Solid_CGZ
		.long Solid_EMZ
		.long Solid_EMZ
		.long Solid_Gumball_Special
		.long Solid_Gumball_Special
		.long Solid_Pachinko_Special
		.long Solid_Pachinko_Special
		.long Solid_Slots_Special
		.long Solid_Slots_Special
		.long Solid_Slots_Special
		.long Solid_Slots_Special
		.long Solid_Slots_Special
		.long Solid_Slots_Special
Solid_AIZ1:	.incbin "Levels/AIZ/Collision/1.bin"
		.balign 2
Solid_AIZ2:	.incbin "Levels/AIZ/Collision/2.bin"
		.balign 2
Solid_HCZ1:	.incbin "Levels/HCZ/Collision/1.bin"
		.balign 2
Solid_HCZ2:	.incbin "Levels/HCZ/Collision/2.bin"
		.balign 2
Solid_MGZ1:	.incbin "Levels/MGZ/Collision/1.bin"
		.balign 2
Solid_MGZ2:	.incbin "Levels/MGZ/Collision/2.bin"
		.balign 2
Solid_CNZ:	.incbin "Levels/CNZ/Collision/1.bin"
		.balign 2
Solid_FBZ:
Solid_ICZ1:	.incbin "Levels/ICZ/Collision/1.bin"
		.balign 2
Solid_ICZ2:	.incbin "Levels/ICZ/Collision/2.bin"
		.balign 2
Solid_LBZ1:	.incbin "Levels/LBZ/Collision/1.bin"
		.balign 2
Solid_LBZ2:	.incbin "Levels/LBZ/Collision/2.bin"
		.balign 2
Solid_ALZ:	.incbin "Levels/ALZ/Collision/1.bin"
		.balign 2
Solid_BPZ:	.incbin "Levels/BPZ/Collision/1.bin"
		.balign 2
Solid_DPZ:	.incbin "Levels/DPZ/Collision/1.bin"
		.balign 2
Solid_CGZ:	.incbin "Levels/CGZ/Collision/1.bin"
		.balign 2
Solid_EMZ:	.incbin "Levels/EMZ/Collision/1.bin"
		.balign 2
Solid_Gumball_Special:
		.incbin "Levels/Gumball/Collision/1.bin"
		.balign 2
Solid_Pachinko_Special:
Solid_Slots_Special:
LevelPtrs:	.long Layout_AIZ1
		.long Layout_AIZ2
		.long Layout_HCZ1
		.long Layout_HCZ2
		.long Layout_MGZ1
		.long Layout_MGZ2
		.long Layout_CNZ1
		.long Layout_CNZ2
		.long Layout_FBZ1
		.long Layout_FBZ2
		.long Layout_ICZ1
		.long Layout_ICZ2
		.long Layout_LBZ1
		.long Layout_LBZ2
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_ALZ
		.long Layout_BPZ
		.long Layout_BPZ
		.long Layout_DPZ
		.long Layout_DPZ
		.long Layout_CGZ
		.long Layout_CGZ
		.long Layout_EMZ
		.long Layout_EMZ
		.long Layout_Gumball_Special
		.long Layout_Gumball_Special
		.long Layout_Pachinko_Special
		.long Layout_Pachinko_Special
		.long Layout_Slot_Special
		.long Layout_Slot_Special
		.long Layout_Slot_Special
		.long Layout_Slot_Special
		.long Layout_Slot_Special
		.long Layout_Slot_Special
Layout_AIZ1:	.incbin "Levels/AIZ/Layout/1.bin"
		.balign 2
Layout_AIZ2:	.incbin "Levels/AIZ/Layout/2.bin"
		.balign 2
Layout_HCZ1:	.incbin "Levels/HCZ/Layout/1.bin"
		.balign 2
Layout_HCZ2:	.incbin "Levels/HCZ/Layout/2.bin"
		.balign 2
Layout_MGZ1:	.incbin "Levels/MGZ/Layout/1.bin"
		.balign 2
Layout_MGZ2:	.incbin "Levels/MGZ/Layout/2.bin"
		.balign 2
Layout_CNZ1:	.incbin "Levels/CNZ/Layout/1.bin"
		.balign 2
Layout_CNZ2:	.incbin "Levels/CNZ/Layout/2.bin"
		.balign 2
Layout_FBZ1:
Layout_FBZ2:
Layout_ICZ1:	.incbin "Levels/ICZ/Layout/1.bin"
		.balign 2
Layout_ICZ2:	.incbin "Levels/ICZ/Layout/2.bin"
		.balign 2
Layout_LBZ1:	.incbin "Levels/LBZ/Layout/1.bin"
		.balign 2
Layout_LBZ2:	.incbin "Levels/LBZ/Layout/2.bin"
		.balign 2
Layout_ALZ:	.incbin "Levels/ALZ/Layout/1.bin"
		.balign 2
Layout_BPZ:	.incbin "Levels/BPZ/Layout/1.bin"
		.balign 2
Layout_DPZ:	.incbin "Levels/DPZ/Layout/1.bin"
		.balign 2
Layout_CGZ:	.incbin "Levels/CGZ/Layout/1.bin"
		.balign 2
Layout_EMZ:	.incbin "Levels/EMZ/Layout/1.bin"
		.balign 2
Layout_Gumball_Special:
		.incbin "Levels/Gumball/Layout/1.bin"
		.balign 2
Layout_Pachinko_Special:
		.incbin "Levels/Pachinko/Layout/1-S3.bin"
		.balign 2
Layout_Slot_Special:
		.incbin "Levels/Slots/Layout/1-S3.bin"
		.balign 2
PalPoint:	.include "Levels/Misc/Palette pointers S3.S"

Pal_Unknown1:	.incbin "Levels/Misc/Palettes/Unknown 1.bin"
		.balign 2
Pal_Unknown2:	.incbin "Levels/Misc/Palettes/Unknown 2 S3.bin"
		.balign 2
Pal_Unknown3:	.incbin "Levels/Misc/Palettes/Unknown 3 S3.bin"
		.balign 2
Pal_SonicTails:	.incbin "General/Sprites/Sonic/Palettes/SonicAndTails.bin"
		.balign 2
Pal_S2Menu:	.incbin "General/Sprites/S2Menu/Palettes/Main.bin"
		.balign 2
Pal_Knuckles:	.incbin "General/Sprites/Knuckles/Palettes/Main.bin"
		.balign 2
Pal_AIZIntro:	.incbin "Levels/AIZ/Palettes/Intro.bin"
		.balign 2
Pal_AIZ:	.incbin "Levels/AIZ/Palettes/Main.bin"
		.balign 2
Pal_AIZFire:	.incbin "Levels/AIZ/Palettes/Fire.bin"
		.balign 2
Pal_AIZBoss:	.incbin "Levels/AIZ/Palettes/Boss.bin"
		.balign 2
Pal_AIZ_Water:	.incbin "Levels/AIZ/Palettes/Water.bin"
		.balign 2
Pal_AIZ2_Water:	.incbin "Levels/AIZ/Palettes/Act 2 Water.bin"
		.balign 2
Pal_HCZ1:	.incbin "Levels/HCZ/Palettes/1.bin"
		.balign 2
Pal_HCZ2:	.incbin "Levels/HCZ/Palettes/2.bin"
		.balign 2
Pal_HCZ1_Water:	.incbin "Levels/HCZ/Palettes/Act 1 Water.bin"
		.balign 2
Pal_HCZ2_Water:	.incbin "Levels/HCZ/Palettes/Act 2 Water.bin"
		.balign 2
Pal_MGZ:	.incbin "Levels/MGZ/Palettes/Main.bin"
		.balign 2
Pal_CNZ:	.incbin "Levels/CNZ/Palettes/Main.bin"
		.balign 2
Pal_CNZ_Water:	.incbin "Levels/CNZ/Palettes/Water.bin"
		.balign 2
Pal_FBZ:
Pal_ICZ1:	.incbin "Levels/ICZ/Palettes/1.bin"
		.balign 2
Pal_ICZ2:	.incbin "Levels/ICZ/Palettes/2.bin"
		.balign 2
Pal_ICZ2_Water:	.incbin "Levels/ICZ/Palettes/Act 2 Water.bin"
		.balign 2
Pal_LBZ1:	.incbin "Levels/LBZ/Palettes/1.bin"
		.balign 2
Pal_LBZ2:	.incbin "Levels/LBZ/Palettes/2.bin"
		.balign 2
Pal_LBZ_Water:	.incbin "Levels/LBZ/Palettes/Act 2 Water.bin"
		.balign 2
Pal_LBZ_Water2:	.incbin "Levels/LBZ/Palettes/Act 2 Water 2.bin"
		.balign 2
Pal_ALZ:	.incbin "Levels/ALZ/Palettes/Main.bin"
		.balign 2
Pal_BPZ:	.incbin "Levels/BPZ/Palettes/Main.bin"
		.balign 2
Pal_DPZ:	.incbin "Levels/DPZ/Palettes/Main.bin"
		.balign 2
Pal_CGZ:	.incbin "Levels/CGZ/Palettes/Main.bin"
		.balign 2
Pal_EMZ:	.incbin "Levels/EMZ/Palettes/Main.bin"
		.balign 2
Pal_Gumball_Special:
		.incbin "Levels/Gumball/Palettes/Main.bin"
		.balign 2
Pal_Pachinko_Special:
		.incbin "Levels/Pachinko/Palettes/S3.bin"
		.balign 2
Pal_Slot_Special:
		.incbin "Levels/Slots/Palettes/S3.bin"
		.balign 2
ArtUnc_CNZCannon:
		.incbin "General/Sprites/CNZ Cannon/CNZ Cannon.bin"
		.balign 2
ArtUnc_AirCountDown:
		.incbin "General/Sprites/Bubbles/Air Countdown.bin"
		.balign 2
ArtUnc_SONICMILES:
		.incbin "General/Sprites/S2Menu/SONICMILES.bin"
		.balign 2
ArtUnc_SStageSonic:
		.incbin "General/Sprites/Sonic/Art/SStage Sonic.bin"
		.balign 2
Map_SStageSonic:.include "General/Sprites/Sonic/Map - SStage Sonic.S"
ArtUnc_SStageTails:
		.incbin "General/Sprites/Tails/Art/SStage Tails.bin"
		.balign 2
Map_SStageTails:.include "General/Sprites/Tails/Map - SStage Tails.S"
ArtUnc_SStageTailstails:
		.incbin "General/Sprites/Tails/Art/SStage Tails tails.bin"
		.balign 2
Map_SStageTailstails:
		.include "General/Sprites/Tails/Map - SStage Tails tails.S"
ArtNem_SphereTest:
		.incbin "General/Special Stage/Nemesis Art/Eosian Spheres.bin"
		.balign 2
ArtNem_SStageShadow:
		.incbin "General/Special Stage/Nemesis Art/Shadow.bin"
		.balign 2
ArtNem_GetBlueSpheres:
		.incbin "General/Special Stage/Nemesis Art/Get Blue Spheres.bin"
		.balign 2
ArtNem_GBSArrow:
		.incbin "General/Special Stage/Nemesis Art/Get Blue Spheres Arrow.bin"
		.balign 2
ArtNem_SStageDigits:
		.incbin "General/Special Stage/Nemesis Art/Digits.bin"
		.balign 2
ArtNem_SStageIcons:
		.incbin "General/Special Stage/Nemesis Art/Icons.bin"
		.balign 2
ArtNem_SStageSphere:
		.incbin "General/Special Stage/Nemesis Art/Sphere.bin"
		.balign 2
ArtNem_SStageRing:
		.incbin "General/Special Stage/Nemesis Art/Ring.bin"
		.balign 2
ArtKosM_SStageChaosEmerald:
		.incbin "General/Special Stage/KosinskiM Art/Special Stage Chaos Emerald.bin"
		.balign 2
MapEni_SStageBG:.incbin "General/Special Stage/Enigma Map/BG.bin"
		.balign 2
ArtNem_SStageBG:.incbin "General/Special Stage/Nemesis Art/BG.bin"
		.balign 2
MapUnc_SStageLayout:
		.incbin "General/Special Stage/Layout/S3 Plane Map.bin"
		.balign 2
ArtNem_SStageLayout:
		.incbin "General/Special Stage/Nemesis Art/Layout.bin"
		.balign 2
SStage_PerspectiveMapPtrs:
		.long SStage_PerspectiveMaps
		.long SStage_PerspectiveMaps+0x5A0
		.long SStage_PerspectiveMaps+0xB40
		.long SStage_PerspectiveMaps+0x10E0
		.long SStage_PerspectiveMaps+0x1680
		.long SStage_PerspectiveMaps+0x1C20
		.long SStage_PerspectiveMaps+0x21C0
		.long SStage_PerspectiveMaps+0x2760
		.long SStage_PerspectiveMaps
		.long SStage_PerspectiveMaps+0x5A0
		.long SStage_PerspectiveMaps+0xB40
		.long SStage_PerspectiveMaps+0x10E0
		.long SStage_PerspectiveMaps+0x1680
		.long SStage_PerspectiveMaps+0x1C20
		.long SStage_PerspectiveMaps+0x21C0
		.long SStage_PerspectiveMaps+0x2760
		.long SStage_PerspectiveMaps+0x2D00
		.long SStage_PerspectiveMaps+0x32A0
		.long SStage_PerspectiveMaps+0x3840
		.long SStage_PerspectiveMaps+0x3DE0
		.long SStage_PerspectiveMaps+0x4380
		.long SStage_PerspectiveMaps+0x4920
		.long SStage_PerspectiveMaps+0x4EC0
SStage_PerspectiveMaps:
		.incbin "General/Special Stage/Layout/S3 Perspective Maps.bin"
		.balign 2
Map_Sonic2P:	.include "General/Sprites/Sonic/Map - Sonic 2P.S"
PLC_Sonic2P:	.include "General/Sprites/Sonic/DPLC - Sonic 2P.S"
Map_Tails2P:	.include "General/Sprites/Tails/Map - Tails 2P.S"
Map_Tails2P_Tail:
		.include "General/Sprites/Tails/Map - Tails tail 2P.S"
PLC_Tails2P:	.include "General/Sprites/Tails/DPLC - Tails 2P.S"
DPLC_Tails2P_Tail:
		.include "General/Sprites/Tails/DPLC - Tails tails 2P.S"
Map_Knuckles2P:	.include "General/Sprites/Knuckles/Map - Knuckles 2P.S"
PLC_Knuckles2P:	.include "General/Sprites/Knuckles/DPLC - Knuckles 2P.S"
ArtUnc_SurfboardIntro:
		.incbin "General/Sprites/Sonic/Art/Sonic Surfboarding.bin"
		.balign0 0x20
ArtUnc_AniAIZ1_0:
		.incbin "Levels/AIZ/Animated Tiles/Act1 0.bin"
		.balign 2
ArtUnc_AniAIZ1_1:
		.incbin "Levels/AIZ/Animated Tiles/Act1 1.bin"
		.balign 2
ArtUnc_AniAIZ2_1:
		.incbin "Levels/AIZ/Animated Tiles/Act2 1.bin"
		.balign 2
ArtUnc_AniAIZ2_0:
		.incbin "Levels/AIZ/Animated Tiles/Act2 0.bin"
		.balign 2
ArtUnc_AniAIZ2_3:
		.incbin "Levels/AIZ/Animated Tiles/Act2 3.bin"
		.balign 2
ArtUnc_AniAIZ2_2:
		.incbin "Levels/AIZ/Animated Tiles/Act2 2.bin"
		.balign 2
ArtUnc_AniAIZ2_FirstTree:
		.incbin "Levels/AIZ/Animated Tiles/Act2 First Tree.bin"
		.balign 2
ArtUnc_AniHCZ1_0:
		.incbin "Levels/HCZ/Animated Tiles/Act1 0.bin"
		.balign 2
ArtUnc_AniHCZ1_WaterlineBelow:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Water Below 1.bin"
		.balign 2
ArtUnc_FixHCZ1_UpperBG1:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Upper BG 1.bin"
		.balign 2
ArtUnc_AniHCZ1_WaterlineAbove:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Water Above 1.bin"
		.balign 2
ArtUnc_FixHCZ1_LowerBG1:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Lower BG 1.bin"
		.balign 2
ArtUnc_AniHCZ1_WaterlineBelow2:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Water Below 2.bin"
		.balign 2
ArtUnc_FixHCZ1_UpperBG2:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Upper BG 2.bin"
		.balign 2
ArtUnc_AniHCZ1_WaterlineAbove2:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Water Above 2.bin"
		.balign 2
ArtUnc_FixHCZ1_LowerBG2:
		.incbin "Levels/HCZ/Animated Tiles/Act1 Lower BG 2.bin"
		.balign 2
ArtUnc_AniHCZ__1:
		.incbin "Levels/HCZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniHCZ2_0:
		.incbin "Levels/HCZ/Animated Tiles/Act2 0.bin"
		.balign 2
ArtUnc_AniHCZ2_SmallBGLine:
		.incbin "Levels/HCZ/Animated Tiles/Act2 1.bin"
		.balign 2
ArtUnc_AniHCZ2_2:
		.incbin "Levels/HCZ/Animated Tiles/Act2 2.bin"
		.balign 2
ArtUnc_AniHCZ2_3:
		.incbin "Levels/HCZ/Animated Tiles/Act2 3.bin"
		.balign 2
ArtUnc_AniHCZ2_4:
		.incbin "Levels/HCZ/Animated Tiles/Act2 4.bin"
		.balign 2
ArtUnc_AniMGZ__0:
		.incbin "Levels/MGZ/Animated Tiles/MGZ Animated 0.bin"
		.balign 2
ArtUnc_AniMGZ__1:
		.incbin "Levels/MGZ/Animated Tiles/MGZ Animated 1.bin"
		.balign 2
ArtUnc_AniCNZ__0:
		.incbin "Levels/CNZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniCNZ__1:
		.incbin "Levels/CNZ/Animated Tiles/1.bin"
		.balign 2
ArtUnc_AniCNZ__2:
		.incbin "Levels/CNZ/Animated Tiles/2.bin"
		.balign 2
ArtUnc_AniCNZ__3:
		.incbin "Levels/CNZ/Animated Tiles/3.bin"
		.balign 2
ArtUnc_AniCNZ__4:
		.incbin "Levels/CNZ/Animated Tiles/4.bin"
		.balign 2
ArtUnc_AniCNZ__6:
		.incbin "Levels/CNZ/Animated Tiles/6.bin"
		.balign 2
ArtUnc_AniCNZ__5:
		.incbin "Levels/CNZ/Animated Tiles/5.bin"
		.balign 2
ArtUnc_AniICZ__1:
		.incbin "Levels/ICZ/Animated Tiles/1.bin"
		.balign 2
ArtUnc_AniICZ__2:
		.incbin "Levels/ICZ/Animated Tiles/2.bin"
		.balign 2
ArtUnc_AniICZ__3:
		.incbin "Levels/ICZ/Animated Tiles/3.bin"
		.balign 2
ArtUnc_AniICZ__4:
		.incbin "Levels/ICZ/Animated Tiles/4.bin"
		.balign 2
ArtUnc_AniICZ__5:
		.incbin "Levels/ICZ/Animated Tiles/5.bin"
		.balign 2
ArtUnc_AniICZ__0:
		.incbin "Levels/ICZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniLBZ1_0:
		.incbin "Levels/LBZ/Animated Tiles/Act1 0.bin"
		.balign 2
ArtUnc_AniLBZ1_1:
		.incbin "Levels/LBZ/Animated Tiles/Act1 1.bin"
		.balign 2
ArtUnc_AniLBZ1_2:
		.incbin "Levels/LBZ/Animated Tiles/Act1 2.bin"
		.balign 2
ArtUnc_AniLBZ2_2:
		.incbin "Levels/LBZ/Animated Tiles/Act2 2.bin"
		.balign 2
ArtUnc_AniLBZ2_WaterlineBelow:
		.incbin "Levels/LBZ/Animated Tiles/Act2 Water Below.bin"
		.balign 2
ArtUnc_AniLBZ2_LowerBG:
		.incbin "Levels/LBZ/Animated Tiles/Act2 Lower BG.bin"
		.balign 2
ArtUnc_AniLBZ2_WaterlineAbove:
		.incbin "Levels/LBZ/Animated Tiles/Act2 Water Above.bin"
		.balign 2
ArtUnc_AniLBZ2_UpperBG:
		.incbin "Levels/LBZ/Animated Tiles/Act2 Upper BG.bin"
		.balign 2
ArtUnc_AniLBZ__0:
		.incbin "Levels/LBZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniLBZ2_0:
		.incbin "Levels/LBZ/Animated Tiles/Act2 0.bin"
		.balign 2
ArtUnc_AniLBZ2_1:
		.incbin "Levels/LBZ/Animated Tiles/Act2 1.bin"
		.balign 2
ArtUnc_AniLRZ__BG:
ArtUnc_AniLRZ__BG2:
ArtUnc_AniALZ:	.incbin "Levels/ALZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniBPZ__0:
		.incbin "Levels/BPZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniBPZ__1:
		.incbin "Levels/BPZ/Animated Tiles/1.bin"
		.balign 2
ArtUnc_AniBPZ__2:
		.incbin "Levels/BPZ/Animated Tiles/2.bin"
		.balign 2
ArtUnc_AniBPZ__3:
		.incbin "Levels/BPZ/Animated Tiles/3.bin"
		.balign 2
ArtUnc_AniDPZ:	.incbin "Levels/DPZ/Animated Tiles/0.bin"
		.balign 2
ArtUnc_AniDPZ__BG:
		.incbin "Levels/DPZ/Animated Tiles/BG 0.bin"
		.balign 2
ArtUnc_AniGumball:
		.incbin "Levels/Gumball/Animated Tiles/0.bin"
		.balign 2
ArtUnc_SplashDrown:
		.incbin "General/Sprites/Dash Dust/Splash Drown.bin"
		.balign 2
ArtNem_S22POptions:
		.incbin "General/Sprites/S2Menu/2P Options.bin"
		.balign 2
ArtNem_1P2PWins:.incbin "General/Sprites/S2Menu/1P 2P Wins.bin"
		.balign 2
MapEni_S22POptions:
		.incbin "General/Sprites/S2Menu/Enigma Map/2P Options.bin"
		.balign 2
ArtNem_S2MenuBox:
		.incbin "General/Sprites/S2Menu/Menu Box.bin"
		.balign 2
ArtNem_S2LevelSelectPics:
		.incbin "General/Sprites/S2Menu/Level Select Icons.bin"
		.balign 2
ArtNem_Title_SonicSprites:
		.incbin "General/Title/Nemesis Art/S3 Sonic Sprites.bin"
		.balign 2
DemoDat_AIZ:	.incbin "Levels/AIZ/Demodata/1.bin"
		.balign 2
DemoDat_HCZ:	.incbin "Levels/HCZ/Demodata/1.bin"
		.balign 2
DemoDat_MGZ:	.incbin "Levels/MGZ/Demodata/1.bin"
		.balign 2

		org 0xC71A0
Snd_Minib:	.incbin "Sound/Music/Sonic 3/Sonic 3 Miniboss.bin"
Snd_FinalBoss:	.incbin "Sound/Music/Sonic 3/Final Boss.bin"
		.balign 0x1000
Snd_AIZ1:	.incbin "Sound/Music/AIZ1.bin"
Snd_AIZ2:	.incbin "Sound/Music/AIZ2.bin"
Snd_HCZ1:	.incbin "Sound/Music/HCZ1.bin"
Snd_HCZ2:	.incbin "Sound/Music/HCZ2.bin"
Snd_MGZ1:	.incbin "Sound/Music/MGZ1.bin"
Snd_MGZ2:	.incbin "Sound/Music/MGZ2.bin"
Snd_CNZ2:	.incbin "Sound/Music/CNZ2.bin"
Snd_CNZ1:	.incbin "Sound/Music/CNZ1.bin"
Snd_FBZ1:	.incbin "Sound/Music/Sonic 3/FBZ1.bin"
Snd_FBZ2:	.incbin "Sound/Music/Sonic 3/FBZ2.bin"
Snd_DDZ:	.incbin "Sound/Music/Sonic 3/DDZ.bin"
		.balign 0x1000
Snd_ICZ2:	.incbin "Sound/Music/ICZ2.bin"
Snd_ICZ1:	.incbin "Sound/Music/ICZ1.bin"
Snd_LBZ2:	.incbin "Sound/Music/LBZ2.bin"
Snd_LBZ1:	.incbin "Sound/Music/LBZ1.bin"
Snd_MHZ1:	.incbin "Sound/Music/Sonic 3/MHZ1.bin"
Snd_MHZ2:	.incbin "Sound/Music/Sonic 3/MHZ2.bin"
Snd_SOZ1:	.incbin "Sound/Music/Sonic 3/SOZ1.bin"
Snd_SOZ2:	.incbin "Sound/Music/Sonic 3/SOZ2.bin"
Snd_LRZ1:	.incbin "Sound/Music/Sonic 3/LRZ1.bin"
Snd_LRZ2:	.incbin "Sound/Music/Sonic 3/LRZ2.bin"
Snd_SSZ:	.incbin "Sound/Music/Sonic 3/SSZ.bin"
Snd_DEZ1:	.incbin "Sound/Music/Sonic 3/DEZ1.bin"
Snd_DEZ2:	.incbin "Sound/Music/Sonic 3/DEZ2.bin"
Snd_Minib_SK:	.incbin "Sound/Music/Sonic 3/Miniboss.bin"
Snd_Boss:	.incbin "Sound/Music/Sonic 3/Zone Boss.bin"
Snd_PachBonus:	.incbin "Sound/Music/Sonic 3/Pachinko.bin"
Snd_SpecialS:	.incbin "Sound/Music/Sonic 3/Special Stage.bin"
Snd_Results:	.incbin "Sound/Music/Sonic 3/Level Outro.bin"
Snd_Menu:	.incbin "Sound/Music/Sonic 3/Menu.bin"
		.balign 0x1000
Snd_SlotBonus:	.incbin "Sound/Music/Sonic 3/Slots.bin"
Snd_GumBonus:	.incbin "Sound/Music/Gum Ball Machine.bin"
Snd_Knux:	.incbin "Sound/Music/Sonic 3/Sonic 3 Knuckles.bin"
Snd_ALZ:	.incbin "Sound/Music/Azure Lake.bin"
Snd_BPZ:	.incbin "Sound/Music/Balloon Park.bin"
Snd_DPZ:	.incbin "Sound/Music/Desert Palace.bin"
Snd_CGZ:	.incbin "Sound/Music/Chrome Gadget.bin"
Snd_EMZ:	.incbin "Sound/Music/Endless Mine.bin"
Snd_Title:	.incbin "Sound/Music/Sonic 3/Sonic 3 Title.bin"
Snd_S3Credits:	.incbin "Sound/Music/Sonic 3 Credits.bin"
Snd_GameOver:	.incbin "Sound/Music/Sonic 3/Game Over.bin"
Snd_Continue:	.incbin "Sound/Music/Sonic 3/Sonic 3 Continue.bin"
Snd_1UP:	.incbin "Sound/Music/Sonic 3/Sonic 3 1UP.bin"
Snd_Emerald:	.incbin "Sound/Music/Sonic 3/Chaos Emerald.bin"
Snd_Invic:	.incbin "Sound/Music/Sonic 3/Sonic 3 Invincible.bin"
Snd_2PMenu:	.incbin "Sound/Music/Competition Menu.bin"
Snd_Drown:	.incbin "Sound/Music/Countdown.bin"
Snd_PresSega:	.incbin "Sound/Music/Sonic 3/Sonic 3 Game Complete.bin"
		.balign 0x1000
DacBank1:	.word  0x8880, 0x8D80, 0x9280, 0x9780, 0x9C80, 0xA180, 0xA680, 0xAB80, 0xB080, 0xB580, 0xBA80, 0xBF80
		.word  0xC480, 0xC980, 0xCE80, 0xD380, 0xD880, 0xDD80, 0xE280, 0xE780, 0xEC80, 0xF180, 0xF680, 0xFB80
		.word    0x81,  0x581,  0xA81, 0xB981, 0xBE81, 0xC381, 0xC881, 0xCD81, 0xD281,  0xF81, 0x1481, 0x1981
		.word  0x1E81, 0x2381, 0x2881, 0x2D81, 0x3281, 0x3781, 0x3C81, 0x4181, 0x4681, 0x4B81, 0x5081, 0x5581
		.word  0x5A81, 0x5F81, 0x6481, 0x6981, 0x6E81, 0x7381, 0x7881, 0x7D81, 0x7D81, 0x8281, 0x8781, 0x8C81
		.word  0x9181, 0x9681, 0x9B81, 0xA081, 0xA581, 0xAA81, 0xAF81, 0xB481
DAC_81_Setup:	.byte 4
		.word 0x7E07
		.word 0xA684
DAC_82_Setup:	.byte 0xE
		.word 0x6D04
		.word 0x248C
DAC_83_Setup:	.byte 0x14
		.word 0x6D04
		.word 0x248C
DAC_84_Setup:	.byte 0x1A
		.word 0x6D04
		.word 0x248C
DAC_85_Setup:	.byte 0x20
		.word 0x6D04
		.word 0x248C
DAC_86_Setup:	.byte 4
		.word 0xCF02
		.word 0xD781
DAC_87_Setup:	.byte 4
		.word 0x1C07
		.word 0x7CB8
DAC_88_Setup:	.byte 6
		.word 0x2712
		.word 0xEA0
DAC_89_Setup:	.byte 0xA
		.word 0xFD09
		.word 0x87C4
DAC_8A_Setup:	.byte 0x14
		.word 0x6001
		.word 0x35B2
DAC_8B_Setup:	.byte 0x1B
		.word 0x6001
		.word 0x35B2
DAC_8C_Setup:	.byte 8
		.word 0x6000
		.word 0x95B3
DAC_8D_Setup:	.byte 0xB
		.word 0x8704
		.word 0xF5B3
DAC_8E_Setup:	.byte 0x11
		.word 0x8704
		.word 0xF5B3
DAC_8F_Setup:	.byte 8
		.word 0xEF04
		.word 0x98BF
DAC_90_Setup:	.byte 3
		.word 0x2206
		.word 0xEC99
DAC_91_Setup:	.byte 7
		.word 0x2206
		.word 0xEC99
DAC_92_Setup:	.byte 0xA
		.word 0x2206
		.word 0xEC99
DAC_93_Setup:	.byte 0xE
		.word 0x2206
		.word 0xEC99
DAC_94_Setup:	.byte 6
		.word 0x5B09
		.word 0x9190
DAC_95_Setup:	.byte 0xA
		.word 0x5B09
		.word 0x9190
DAC_96_Setup:	.byte 0xD
		.word 0x5B09
		.word 0x9190
DAC_97_Setup:	.byte 0x12
		.word 0x5B09
		.word 0x9190
DAC_98_Setup:	.byte 0xB
		.word 0x680C
		.word 0x84CE
DAC_99_Setup:	.byte 0x13
		.word 0x680C
		.word 0x84CE
DAC_9A_Setup:	.byte 0x16
		.word 0x680C
		.word 0x84CE
DAC_9B_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_A2_Setup:	.byte 0xA
		.word 0
		.word 0
DAC_A3_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_A4_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_A5_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_A6_Setup:	.byte 9
		.word 0
		.word 0
DAC_A7_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_A8_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_A9_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_AA_Setup:	.byte 0xA
		.word 0
		.word 0
DAC_AB_Setup:	.byte 0xD
		.word 0
		.word 0
DAC_AC_Setup:	.byte 6
		.word 0
		.word 0
DAC_AD_Setup:	.byte 0x10
		.word 0
		.word 0
DAC_AE_Setup:	.byte 0x18
		.word 0
		.word 0x4981
DAC_AF_Setup:	.byte 9
		.word 0
		.word 0
DAC_B0_Setup:	.byte 0x12
		.word 0
		.word 0x5381
DAC_B1_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_B2_Setup:	.byte 0x16
		.word 0
		.word 0
DAC_B3_Setup:	.byte 0x20
		.word 0
		.word 0x6281
DAC_B4_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_B5_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_B6_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_B7_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_B8_B9_Setup:.byte 0xC
		.word 0
		.word 0
DAC_BA_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_BB_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_BC_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_BD_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_BE_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_BF_Setup:	.byte 0x1C
		.word 0
		.word 0
DAC_C0_Setup:	.byte 0xB
		.word 0
		.word 0
DAC_C1_Setup:	.byte 0xF
		.word 0
		.word 0x6C81
DAC_C2_Setup:	.byte 0x11
		.word 0
		.word 0xA881
DAC_C3_Setup:	.byte 0x12
		.word 0
		.word 0xAD81
DAC_C4_Setup:	.byte 0xB
		.word 0
		.word 0xB281
DAC_9C_Setup:	.byte 0xA
		.word 0
		.word 0
DAC_9D_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_9E_Setup:	.byte 0x18
		.word 0
		.word 0
DAC_9F_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_A0_Setup:	.byte 0xC
		.word 0
		.word 0
DAC_A1_Setup:	.byte 0xA
		.word 0
		.word 0
DAC_86_Data:	.incbin "Sound/DAC/86.bin"
DAC_81_Data:	.incbin "Sound/DAC/81.bin"
DAC_82_83_84_85_Data:
		.incbin "Sound/DAC/82-85.bin"
DAC_94_95_96_97_Data:
		.incbin "Sound/DAC/94-97.bin"
DAC_90_91_92_93_Data:
		.incbin "Sound/DAC/90-93.bin"
DAC_88_Data:	.incbin "Sound/DAC/88.bin"
DAC_8A_8B_Data:	.incbin "Sound/DAC/8A-8B.bin"
DAC_8C_Data:	.incbin "Sound/DAC/8C.bin"
DAC_8D_8E_Data:	.incbin "Sound/DAC/8D-8E.bin"
DAC_87_Data:	.incbin "Sound/DAC/87.bin"
DAC_8F_Data:	.incbin "Sound/DAC/8F.bin"
DAC_89_Data:	.incbin "Sound/DAC/89.bin"
DAC_98_99_9A_Data:
		.incbin "Sound/DAC/98-9A.bin"
		.balign 0x1000
Z80_SoundDriver:.incbin "Sound/Sonic 3 Z80 Sound Driver.bin"
		.balign 0x1000
DacBank2:	.word  0x8880, 0x8D80, 0x9280, 0x9780, 0x9C80, 0xA180, 0xA680, 0xAB80, 0xB080, 0xB580, 0xBA80, 0xBF80
		.word  0xC480, 0xC980, 0xCE80, 0xD380, 0xD880, 0xDD80, 0xE280, 0xE780, 0xEC80, 0xF180, 0xF680, 0xFB80
		.word    0x81,  0x581,  0xA81, 0xB981, 0xBE81, 0xC381, 0xC881, 0xCD81, 0xD281,  0xF81, 0x1481, 0x1981
		.word  0x1E81, 0x2381, 0x2881, 0x2D81, 0x3281, 0x3781, 0x3C81, 0x4181, 0x4681, 0x4B81, 0x5081, 0x5581
		.word  0x5A81, 0x5F81, 0x6481, 0x6981, 0x6E81, 0x7381, 0x7881, 0x7D81, 0x7D81, 0x8281, 0x8781, 0x8C81
		.word  0x9181, 0x9681, 0x9B81, 0xA081, 0xA581, 0xAA81, 0xAF81, 0xB481
DAC_81_Setup2:	.byte 4
		.word 0
		.word 0
DAC_82_Setup2:	.byte 0xE
		.word 0
		.word 0
DAC_83_Setup2:	.byte 0x14
		.word 0
		.word 0x9080
DAC_84_Setup2:	.byte 0x1A
		.word 0
		.word 0x9580
DAC_85_Setup2:	.byte 0x20
		.word 0
		.word 0x9A80
DAC_86_Setup2:	.byte 4
		.word 0
		.word 0
DAC_87_Setup2:	.byte 4
		.word 0
		.word 0
DAC_88_Setup2:	.byte 6
		.word 0
		.word 0
DAC_89_Setup2:	.byte 0xA
		.word 0
		.word 0
DAC_8A_Setup2:	.byte 0x14
		.word 0
		.word 0
DAC_8B_Setup2:	.byte 0x1B
		.word 0
		.word 0xB880
DAC_8C_Setup2:	.byte 8
		.word 0
		.word 0
DAC_8D_Setup2:	.byte 0xB
		.word 0
		.word 0
DAC_8E_Setup2:	.byte 0x11
		.word 0
		.word 0xC780
DAC_8F_Setup2:	.byte 8
		.word 0
		.word 0
DAC_90_Setup2:	.byte 3
		.word 0
		.word 0
DAC_91_Setup2:	.byte 7
		.word 0
		.word 0xD680
DAC_92_Setup2:	.byte 0xA
		.word 0
		.word 0xDB80
DAC_93_Setup2:	.byte 0xE
		.word 0
		.word 0xE080
DAC_94_Setup2:	.byte 6
		.word 0
		.word 0
DAC_95_Setup2:	.byte 0xA
		.word 0
		.word 0xEA80
DAC_96_Setup2:	.byte 0xD
		.word 0
		.word 0xEF80
DAC_97_Setup2:	.byte 0x12
		.word 0
		.word 0xF480
DAC_98_Setup2:	.byte 0xB
		.word 0
		.word 0
DAC_99_Setup2:	.byte 0x13
		.word 0
		.word 0xFE80
DAC_9A_Setup2:	.byte 0x16
		.word 0
		.word 0x381
DAC_9B_Setup2:	.byte 0xC
		.word 0x2006
		.word 0xD781
DAC_A2_Setup2:	.byte 0xA
		.word 0x580D
		.word 0xF9BB
DAC_A3_Setup2:	.byte 0x18
		.word 0x9E02
		.word 0x51C9
DAC_A4_Setup2:	.byte 0x18
		.word 0x8A02
		.word 0xEFCB
DAC_A5_Setup2:	.byte 0xC
		.word 0x600C
		.word 0x79CE
DAC_A6_Setup2:	.byte 9
		.word 0xD606
		.word 0xD9DA
DAC_A7_Setup2:	.byte 0x18
		.word 0xF206
		.word 0xAFE1
DAC_A8_Setup2:	.byte 0x18
		.word 0x7A03
		.word 0xA1E8
DAC_A9_Setup2:	.byte 0xC
		.word 0x4F0A
		.word 0x1BEC
DAC_AA_Setup2:	.byte 0xA
		.word 0x8E06
		.word 0x6AF6
DAC_AB_Setup2:	.byte 0xD
		.word 0
		.word 0
DAC_AC_Setup2:	.byte 6
		.word 0
		.word 0
DAC_AD_Setup2:	.byte 0x10
		.word 0
		.word 0
DAC_AE_Setup2:	.byte 0x18
		.word 0
		.word 0x4981
DAC_AF_Setup2:	.byte 9
		.word 0
		.word 0
DAC_B0_Setup2:	.byte 0x12
		.word 0
		.word 0x5381
DAC_B1_Setup2:	.byte 0x18
		.word 0
		.word 0
DAC_B2_Setup2:	.byte 0x16
		.word 0
		.word 0
DAC_B3_Setup2:	.byte 0x20
		.word 0
		.word 0x6281
DAC_B4_Setup2:	.byte 0xC
		.word 0
		.word 0
DAC_B5_Setup2:	.byte 0xC
		.word 0
		.word 0
DAC_B6_Setup2:	.byte 0xC
		.word 0
		.word 0
DAC_B7_Setup2:	.byte 0x18
		.word 0
		.word 0
DAC_B8_B9_Setup2:.byte 0xC
		.word 0
		.word 0
DAC_BA_Setup2:	.byte 0x18
		.word 0
		.word 0
DAC_BB_Setup2:	.byte 0x18
		.word 0
		.word 0
DAC_BC_Setup2:	.byte 0x18
		.word 0
		.word 0
DAC_BD_Setup2:	.byte 0xC
		.word 0
		.word 0
DAC_BE_Setup2:	.byte 0xC
		.word 0
		.word 0
DAC_BF_Setup2:	.byte 0x1C
		.word 0
		.word 0
DAC_C0_Setup2:	.byte 0xB
		.word 0
		.word 0
DAC_C1_Setup2:	.byte 0xF
		.word 0
		.word 0x6C81
DAC_C2_Setup2:	.byte 0x11
		.word 0
		.word 0xA881
DAC_C3_Setup2:	.byte 0x12
		.word 0
		.word 0xAD81
DAC_C4_Setup2:	.byte 0xB
		.word 0
		.word 0xB281
DAC_9C_Setup2:	.byte 0xA
		.word 0x3203
		.word 0xF787
DAC_9D_Setup2:	.byte 0x18
		.word 0x4902
		.word 0x298B
DAC_9E_Setup2:	.byte 0x18
		.word 0x8002
		.word 0x728D
DAC_9F_Setup2:	.byte 0xC
		.word 0xA512
		.word 0xF28F
DAC_A0_Setup2:	.byte 0xC
		.word 0xBA0D
		.word 0x97A2
DAC_A1_Setup2:	.byte 0xA
		.word 0xA80B
		.word 0x51B0
DAC_9B_Data:	.incbin "Sound/DAC/9B.bin"
DAC_9C_Data:	.incbin "Sound/DAC/9C.bin"
DAC_9D_Data:	.incbin "Sound/DAC/9D.bin"
DAC_9E_Data:	.incbin "Sound/DAC/9E.bin"
DAC_9F_Data:	.incbin "Sound/DAC/9F.bin"
DAC_A0_Data:	.incbin "Sound/DAC/A0.bin"
DAC_A1_Data:	.incbin "Sound/DAC/A1.bin"
DAC_A2_Data:	.incbin "Sound/DAC/A2.bin"
DAC_A3_Data:	.incbin "Sound/DAC/A3.bin"
DAC_A4_Data:	.incbin "Sound/DAC/A4.bin"
DAC_A5_Data:	.incbin "Sound/DAC/A5.bin"
DAC_A6_Data:	.incbin "Sound/DAC/A6.bin"
DAC_A7_Data:	.incbin "Sound/DAC/A7.bin"
DAC_A8_Data:	.incbin "Sound/DAC/A8.bin"
DAC_A9_Data:	.incbin "Sound/DAC/A9.bin"
DAC_AA_Data:	.incbin "Sound/DAC/AA.bin"
		.balign 0x1000
DacBank3:	.word  0x8880, 0x8D80, 0x9280, 0x9780, 0x9C80, 0xA180, 0xA680, 0xAB80, 0xB080, 0xB580, 0xBA80, 0xBF80
		.word  0xC480, 0xC980, 0xCE80, 0xD380, 0xD880, 0xDD80, 0xE280, 0xE780, 0xEC80, 0xF180, 0xF680, 0xFB80
		.word    0x81,  0x581,  0xA81, 0xB981, 0xBE81, 0xC381, 0xC881, 0xCD81, 0xD281,  0xF81, 0x1481, 0x1981
		.word  0x1E81, 0x2381, 0x2881, 0x2D81, 0x3281, 0x3781, 0x3C81, 0x4181, 0x4681, 0x4B81, 0x5081, 0x5581
		.word  0x5A81, 0x5F81, 0x6481, 0x6981, 0x6E81, 0x7381, 0x7881, 0x7D81, 0x7D81, 0x8281, 0x8781, 0x8C81
		.word  0x9181, 0x9681, 0x9B81, 0xA081, 0xA581, 0xAA81, 0xAF81, 0xB481
DAC_81_Setup3:	.byte 4
		.word 0
		.word 0
DAC_82_Setup3:	.byte 0xE
		.word 0
		.word 0
DAC_83_Setup3:	.byte 0x14
		.word 0
		.word 0x9080
DAC_84_Setup3:	.byte 0x1A
		.word 0
		.word 0x9580
DAC_85_Setup3:	.byte 0x20
		.word 0
		.word 0x9A80
DAC_86_Setup3:	.byte 4
		.word 0
		.word 0
DAC_87_Setup3:	.byte 4
		.word 0
		.word 0
DAC_88_Setup3:	.byte 6
		.word 0
		.word 0
DAC_89_Setup3:	.byte 0xA
		.word 0
		.word 0
DAC_8A_Setup3:	.byte 0x14
		.word 0
		.word 0
DAC_8B_Setup3:	.byte 0x1B
		.word 0
		.word 0xB880
DAC_8C_Setup3:	.byte 8
		.word 0
		.word 0
DAC_8D_Setup3:	.byte 0xB
		.word 0
		.word 0
DAC_8E_Setup3:	.byte 0x11
		.word 0
		.word 0xC780
DAC_8F_Setup3:	.byte 8
		.word 0
		.word 0
DAC_90_Setup3:	.byte 3
		.word 0
		.word 0
DAC_91_Setup3:	.byte 7
		.word 0
		.word 0xD680
DAC_92_Setup3:	.byte 0xA
		.word 0
		.word 0xDB80
DAC_93_Setup3:	.byte 0xE
		.word 0
		.word 0xE080
DAC_94_Setup3:	.byte 6
		.word 0
		.word 0
DAC_95_Setup3:	.byte 0xA
		.word 0
		.word 0xEA80
DAC_96_Setup3:	.byte 0xD
		.word 0
		.word 0xEF80
DAC_97_Setup3:	.byte 0x12
		.word 0
		.word 0xF480
DAC_98_Setup3:	.byte 0xB
		.word 0
		.word 0
DAC_99_Setup3:	.byte 0x13
		.word 0
		.word 0xFE80
DAC_9A_Setup3:	.byte 0x16
		.word 0
		.word 0x381
DAC_9B_Setup3:	.byte 0xC
		.word 0
		.word 0
DAC_A2_Setup3:	.byte 0xA
		.word 0
		.word 0
DAC_A3_Setup3:	.byte 0x18
		.word 0
		.word 0
DAC_A4_Setup3:	.byte 0x18
		.word 0
		.word 0
DAC_A5_Setup3:	.byte 0xC
		.word 0
		.word 0
DAC_A6_Setup3:	.byte 9
		.word 0
		.word 0
DAC_A7_Setup3:	.byte 0x18
		.word 0
		.word 0
DAC_A8_Setup3:	.byte 0x18
		.word 0
		.word 0
DAC_A9_Setup3:	.byte 0xC
		.word 0
		.word 0
DAC_AA_Setup3:	.byte 0xA
		.word 0
		.word 0
DAC_AB_Setup3:	.byte 0xD
		.word 0x409
		.word 0xD781
DAC_AC_Setup3:	.byte 6
		.word 0x8105
		.word 0xDB8A
DAC_AD_Setup3:	.byte 0x10
		.word 0xBC01
		.word 0x5C90
DAC_AE_Setup3:	.byte 0x18
		.word 0xBC01
		.word 0x5C90
DAC_AF_Setup3:	.byte 9
		.word 0x6C03
		.word 0x1892
DAC_B0_Setup3:	.byte 0x12
		.word 0x6C03
		.word 0x1892
DAC_B1_Setup3:	.byte 0x18
		.word 0x850B
		.word 0xE0A8
DAC_B2_Setup3:	.byte 0x16
		.word 0x4808
		.word 0x65B4
DAC_B3_Setup3:	.byte 0x20
		.word 0x4808
		.word 0x65B4
DAC_B4_Setup3:	.byte 0xC
		.word 0xFD05
		.word 0xADBC
DAC_B5_Setup3:	.byte 0xC
		.word 0x4006
		.word 0xAAC2
DAC_B6_Setup3:	.byte 0xC
		.word 0x5505
		.word 0xEAC8
DAC_B7_Setup3:	.byte 0x18
		.word 0xB104
		.word 0x3FCE
DAC_B8_B9_Setup3:.byte 0xC
		.word 0x3A06
		.word 0xF0D2
DAC_BA_Setup3:	.byte 0x18
		.word 0xB304
		.word 0x2AD9
DAC_BB_Setup3:	.byte 0x18
		.word 0xB601
		.word 0xDDDD
DAC_BC_Setup3:	.byte 0x18
		.word 0xB708
		.word 0x93DF
DAC_BD_Setup3:	.byte 0xC
		.word 0xBE05
		.word 0x4AE8
DAC_BE_Setup3:	.byte 0xC
		.word 0x1007
		.word 0x8EE
DAC_BF_Setup3:	.byte 0x1C
		.word 0xDC01
		.word 0x18F5
DAC_C0_Setup3:	.byte 0xB
		.word 0x3608
		.word 0xF4F6
DAC_C1_Setup3:	.byte 0xF
		.word 0xFD05
		.word 0xADBC
DAC_C2_Setup3:	.byte 0x11
		.word 0xFD05
		.word 0xADBC
DAC_C3_Setup3:	.byte 0x12
		.word 0xFD05
		.word 0xADBC
DAC_C4_Setup3:	.byte 0xB
		.word 0xFD05
		.word 0xADBC
DAC_9C_Setup3:	.byte 0xA
		.word 0
		.word 0
DAC_9D_Setup3:	.byte 0x18
		.word 0
		.word 0
DAC_9E_Setup3:	.byte 0x18
		.word 0
		.word 0
DAC_9F_Setup3:	.byte 0xC
		.word 0
		.word 0
DAC_A0_Setup3:	.byte 0xC
		.word 0
		.word 0
DAC_A1_Setup3:	.byte 0xA
		.word 0
		.word 0
DAC_AB_Data:	.incbin "Sound/DAC/AB.bin"
DAC_AC_Data:	.incbin "Sound/DAC/AC.bin"
DAC_AD_AE_Data:	.incbin "Sound/DAC/AD-AE.bin"
DAC_AF_Data:	.incbin "Sound/DAC/AF.bin"
DAC_B0_Data:	.incbin "Sound/DAC/B0.bin"
DAC_B1_Data:	.incbin "Sound/DAC/B1.bin"
DAC_B2_B3_Data:	.incbin "Sound/DAC/Sonic 3 B2-B3.bin"
DAC_B4_C1_C2_C3_C4_Data:
		.incbin "Sound/DAC/B4C1-C4.bin"
DAC_B5_Data:	.incbin "Sound/DAC/B5.bin"
DAC_B6_Data:	.incbin "Sound/DAC/B6.bin"
DAC_B7_Data:	.incbin "Sound/DAC/B7.bin"
DAC_B8_B9_Data:	.incbin "Sound/DAC/B8-B9.bin"
DAC_BA_Data:	.incbin "Sound/DAC/BA.bin"
DAC_BB_Data:	.incbin "Sound/DAC/BB.bin"
DAC_BC_Data:	.incbin "Sound/DAC/BC.bin"
DAC_BD_Data:	.incbin "Sound/DAC/BD.bin"
DAC_BE_Data:	.incbin "Sound/DAC/BE.bin"
DAC_BF_Data:	.incbin "Sound/DAC/BF.bin"
DAC_C0_Data:	.incbin "Sound/DAC/C0.bin"
		.balign 0x1000
SEGA_PCM:	.incbin "Sound/Sega PCM.bin"
		.balign 2
Sound_33:	.incbin "Sound/SFX/33.bin"
Sound_34:	.incbin "Sound/SFX/34.bin"
Sound_35:	.incbin "Sound/SFX/35.bin"
Sound_36:	.incbin "Sound/SFX/36.bin"
Sound_37:	.incbin "Sound/SFX/37.bin"
Sound_38:	.incbin "Sound/SFX/38.bin"
Sound_39:	.incbin "Sound/SFX/39.bin"
Sound_3A:	.incbin "Sound/SFX/3A.bin"
Sound_3B:	.incbin "Sound/SFX/3B.bin"
Sound_3C:	.incbin "Sound/SFX/3C.bin"
Sound_3D:	.incbin "Sound/SFX/3D.bin"
Sound_3E:	.incbin "Sound/SFX/3E.bin"
Sound_3F:	.incbin "Sound/SFX/3F.bin"
Sound_40:	.incbin "Sound/SFX/40.bin"
Sound_41:	.incbin "Sound/SFX/41.bin"
Sound_42:	.incbin "Sound/SFX/42.bin"
Sound_43:	.incbin "Sound/SFX/43.bin"
Sound_44:	.incbin "Sound/SFX/44.bin"
Sound_45:	.incbin "Sound/SFX/45.bin"
Sound_46:	.incbin "Sound/SFX/46.bin"
Sound_47:	.incbin "Sound/SFX/47.bin"
Sound_48:	.incbin "Sound/SFX/48.bin"
Sound_49:	.incbin "Sound/SFX/49.bin"
Sound_4A:	.incbin "Sound/SFX/4A.bin"
Sound_4B:	.incbin "Sound/SFX/4B.bin"
Sound_4C:	.incbin "Sound/SFX/4C.bin"
Sound_4D:	.incbin "Sound/SFX/4D.bin"
Sound_4E:	.incbin "Sound/SFX/4E.bin"
Sound_4F:	.incbin "Sound/SFX/4F.bin"
Sound_50:	.incbin "Sound/SFX/50.bin"
Sound_51:	.incbin "Sound/SFX/51.bin"
Sound_52:	.incbin "Sound/SFX/52.bin"
Sound_53:	.incbin "Sound/SFX/53.bin"
Sound_54:	.incbin "Sound/SFX/54.bin"
Sound_55:	.incbin "Sound/SFX/55.bin"
Sound_56:	.incbin "Sound/SFX/56.bin"
Sound_57:	.incbin "Sound/SFX/57.bin"
Sound_58:	.incbin "Sound/SFX/58.bin"
Sound_59:	.incbin "Sound/SFX/59.bin"
Sound_5A:	.incbin "Sound/SFX/5A.bin"
Sound_5B:	.incbin "Sound/SFX/5B.bin"
Sound_5C:	.incbin "Sound/SFX/5C.bin"
Sound_5D:	.incbin "Sound/SFX/5D.bin"
Sound_5E:	.incbin "Sound/SFX/5E.bin"
Sound_5F:	.incbin "Sound/SFX/5F.bin"
Sound_60:	.incbin "Sound/SFX/60.bin"
Sound_61:	.incbin "Sound/SFX/61.bin"
Sound_62:	.incbin "Sound/SFX/62.bin"
Sound_63:	.incbin "Sound/SFX/63.bin"
Sound_64:	.incbin "Sound/SFX/64.bin"
Sound_65:	.incbin "Sound/SFX/65.bin"
Sound_66:	.incbin "Sound/SFX/66.bin"
Sound_67:	.incbin "Sound/SFX/67.bin"
Sound_68:	.incbin "Sound/SFX/68.bin"
Sound_69:	.incbin "Sound/SFX/69.bin"
Sound_6A:	.incbin "Sound/SFX/6A.bin"
Sound_6B:	.incbin "Sound/SFX/6B.bin"
Sound_6C:	.incbin "Sound/SFX/6C.bin"
Sound_6D:	.incbin "Sound/SFX/6D.bin"
Sound_6E:	.incbin "Sound/SFX/6E.bin"
Sound_6F:	.incbin "Sound/SFX/6F.bin"
Sound_70:	.incbin "Sound/SFX/70.bin"
Sound_71:	.incbin "Sound/SFX/71.bin"
Sound_72:	.incbin "Sound/SFX/72.bin"
Sound_73:	.incbin "Sound/SFX/73.bin"
Sound_74:	.incbin "Sound/SFX/74.bin"
Sound_75:	.incbin "Sound/SFX/75.bin"
Sound_76:	.incbin "Sound/SFX/76.bin"
Sound_77:	.incbin "Sound/SFX/77.bin"
Sound_78:	.incbin "Sound/SFX/78.bin"
Sound_79:	.incbin "Sound/SFX/79.bin"
Sound_7A:	.incbin "Sound/SFX/7A.bin"
Sound_7B:	.incbin "Sound/SFX/7B.bin"
Sound_7C:	.incbin "Sound/SFX/7C.bin"
Sound_7D:	.incbin "Sound/SFX/7D.bin"
Sound_7E:	.incbin "Sound/SFX/7E.bin"
Sound_7F:	.incbin "Sound/SFX/7F.bin"
Sound_80:	.incbin "Sound/SFX/80.bin"
Sound_81:	.incbin "Sound/SFX/81.bin"
Sound_82:	.incbin "Sound/SFX/82.bin"
Sound_83:	.incbin "Sound/SFX/83.bin"
Sound_84:	.incbin "Sound/SFX/84.bin"
Sound_85:	.incbin "Sound/SFX/85.bin"
Sound_86:	.incbin "Sound/SFX/86.bin"
Sound_87:	.incbin "Sound/SFX/87.bin"
Sound_88:	.incbin "Sound/SFX/88.bin"
Sound_89:	.incbin "Sound/SFX/89.bin"
Sound_8A:	.incbin "Sound/SFX/8A.bin"
Sound_8B:	.incbin "Sound/SFX/8B.bin"
Sound_8C:	.incbin "Sound/SFX/8C.bin"
Sound_8D:	.incbin "Sound/SFX/8D.bin"
Sound_8E:	.incbin "Sound/SFX/8E.bin"
Sound_8F:	.incbin "Sound/SFX/8F.bin"
Sound_90:	.incbin "Sound/SFX/90.bin"
Sound_91:	.incbin "Sound/SFX/91.bin"
Sound_92:	.incbin "Sound/SFX/92.bin"
Sound_93:	.incbin "Sound/SFX/93.bin"
Sound_94:	.incbin "Sound/SFX/94.bin"
Sound_95:	.incbin "Sound/SFX/95.bin"
Sound_96:	.incbin "Sound/SFX/96.bin"
Sound_97:	.incbin "Sound/SFX/97.bin"
Sound_98:	.incbin "Sound/SFX/98.bin"
Sound_99:	.incbin "Sound/SFX/99.bin"
Sound_9A:	.incbin "Sound/SFX/9A.bin"
Sound_9B:	.incbin "Sound/SFX/Sonic 3 9B.bin"
Sound_9C:	.incbin "Sound/SFX/9C.bin"
Sound_9D:	.incbin "Sound/SFX/9D.bin"
Sound_9E:	.incbin "Sound/SFX/9E.bin"
Sound_9F:	.incbin "Sound/SFX/9F.bin"
Sound_A0:	.incbin "Sound/SFX/A0.bin"
Sound_A1:	.incbin "Sound/SFX/A1.bin"
Sound_A2:	.incbin "Sound/SFX/A2.bin"
Sound_A3:	.incbin "Sound/SFX/A3.bin"
Sound_A4:	.incbin "Sound/SFX/A4.bin"
Sound_A5:	.incbin "Sound/SFX/A5.bin"
Sound_A6:	.incbin "Sound/SFX/A6.bin"
Sound_A7:	.incbin "Sound/SFX/A7.bin"
Sound_A8:	.incbin "Sound/SFX/A8.bin"
Sound_A9:	.incbin "Sound/SFX/A9.bin"
Sound_AA:	.incbin "Sound/SFX/AA.bin"
Sound_AB:	.incbin "Sound/SFX/AB.bin"
Sound_AC:	.incbin "Sound/SFX/AC.bin"
Sound_AD:	.incbin "Sound/SFX/Sonic 3 AD.bin"
Sound_AE:	.incbin "Sound/SFX/AE.bin"
Sound_AF:	.incbin "Sound/SFX/AF.bin"
Sound_B0:	.incbin "Sound/SFX/B0.bin"
Sound_B1:	.incbin "Sound/SFX/B1.bin"
Sound_B2:	.incbin "Sound/SFX/B2.bin"
Sound_B3:	.incbin "Sound/SFX/B3.bin"
Sound_B4:	.incbin "Sound/SFX/B4.bin"
Sound_B5:	.incbin "Sound/SFX/B5.bin"
Sound_B6:	.incbin "Sound/SFX/B6.bin"
Sound_B7:	.incbin "Sound/SFX/B7.bin"
Sound_B8:	.incbin "Sound/SFX/B8.bin"
Sound_B9:	.incbin "Sound/SFX/B9.bin"
Sound_BA:	.incbin "Sound/SFX/BA.bin"
Sound_BB:	.incbin "Sound/SFX/BB.bin"
Sound_BC:	.incbin "Sound/SFX/BC.bin"
Sound_BD:	.incbin "Sound/SFX/BD.bin"
Sound_BE:	.incbin "Sound/SFX/BE.bin"
Sound_BF:	.incbin "Sound/SFX/BF.bin"
Sound_C0:	.incbin "Sound/SFX/C0.bin"
Sound_C1:	.incbin "Sound/SFX/C1.bin"
Sound_C2:	.incbin "Sound/SFX/C2.bin"
Sound_C3:	.incbin "Sound/SFX/C3.bin"
Sound_C4:	.incbin "Sound/SFX/C4.bin"
Sound_C5:	.incbin "Sound/SFX/C5.bin"
Sound_C6:	.incbin "Sound/SFX/C6.bin"
Sound_C7:	.incbin "Sound/SFX/C7.bin"
Sound_C8:	.incbin "Sound/SFX/C8.bin"
Sound_C9:	.incbin "Sound/SFX/C9.bin"
Sound_CA:	.incbin "Sound/SFX/CA.bin"
Sound_CB:	.incbin "Sound/SFX/CB.bin"
Sound_CC:	.incbin "Sound/SFX/CC.bin"
Sound_CD:	.incbin "Sound/SFX/CD.bin"
Sound_CE:	.incbin "Sound/SFX/CE.bin"
Sound_CF:	.incbin "Sound/SFX/CF.bin"
Sound_D0:	.incbin "Sound/SFX/D0.bin"
Sound_D1:	.incbin "Sound/SFX/D1.bin"
Sound_D2:	.incbin "Sound/SFX/D2.bin"
Sound_D3:	.incbin "Sound/SFX/D3.bin"
Sound_D4:	.incbin "Sound/SFX/D4.bin"
Sound_D5:	.incbin "Sound/SFX/D5.bin"
Sound_D6:	.incbin "Sound/SFX/D6.bin"
Sound_D7:	.incbin "Sound/SFX/D7.bin"
Sound_D8:	.incbin "Sound/SFX/D8.bin"
Sound_D9:	.incbin "Sound/SFX/D9.bin"
Sound_DA:	.incbin "Sound/SFX/DA.bin"
Sound_DB:	.incbin "Sound/SFX/DB.bin"
		.balign 0x8000
ArtUnc_Sonic:	.incbin "General/Sprites/Sonic/Art/Sonic.bin"
		.balign 2
ArtUnc_Tails:	.incbin "General/Sprites/Tails/Art/Tails.bin"
		.balign 2
ArtUnc_Tails_Tail:
		.incbin "General/Sprites/Tails/Art/Tails tails.bin"
		.balign 2
ArtUnc_Sonic2P:	.incbin "General/Sprites/Sonic/Art/Sonic 2P.bin"
		.balign 2
ArtUnc_Tails2P:	.incbin "General/Sprites/Tails/Art/Tails 2P.bin"
		.balign 2
ArtUnc_Tails2P_Tail:
		.incbin "General/Sprites/Tails/Art/Tails tails 2P.bin"
		.balign 2
ArtUnc_Knuckles2P:
		.incbin "General/Sprites/Knuckles/Art/Knuckles 2P.bin"
		.balign 2
Map_Sonic:	.include "General/Sprites/Sonic/Map - Sonic S3.S"
PLC_Sonic:	.include "General/Sprites/Sonic/Sonic pattern load cues S3.S"
Map_Tails:	.include "General/Sprites/Tails/Map - Tails S3.S"
PLC_Tails:	.include "General/Sprites/Tails/Tails pattern load cues S3.S"
Map_Tails_Tail:	.include "General/Sprites/Tails/Map - Tails tails.S"
PLC_Tails_Tail:	.include "General/Sprites/Tails/Tails tails pattern load cues.S"
ICZSnowboard_Slope1:
		.incbin "Levels/ICZ/Misc/ICZ Snowboard Slope 1.bin"
		.balign 2
ICZSnowboard_Slope2:
		.incbin "Levels/ICZ/Misc/ICZ Snowboard Slope 2.bin"
		.balign 2
ArtUnc_SonicSnowboard:
		.incbin "General/Sprites/Sonic/Art/Sonic Snowboarding.bin"
		.balign 2
ArtUnc_Snowboard:
		.incbin "General/Sprites/Snowboard/Snowboard.bin"
		.balign 2
Map_SonicSnowboard:
		.include "General/Sprites/Sonic/Map - Sonic Snowboarding.S"
DPLC_SonicSnowboard:
		.include "General/Sprites/Sonic/DPLC - Sonic Snowboarding.S"
Map_Snowboard:	.include "General/Sprites/Snowboard/Map - Snowboard.S"
DPLC_Snowboard:	.include "General/Sprites/Snowboard/DPLC - Snowboard.S"
ArtNem_AIZIntroSprites:
		.incbin "Levels/AIZ/Nemesis Art/Intro Waves.bin"
		.balign 2
ArtNem_SurfboardSplash:
		.incbin "Levels/AIZ/Nemesis Art/Surfboard Splash.bin"
		.balign 2
ArtNem_Surfboard:
		.incbin "Levels/AIZ/Nemesis Art/Surfboard.bin"
		.balign 2
ArtUnc_Invincibility:
		.incbin "General/Sprites/Shields/Invincibility.bin"
		.balign 2
ArtUnc_DashDust:.incbin "General/Sprites/Dash Dust/Dash Dust.bin"
		.balign 2
ArtUnc_SuperSonic_Stars:
		.incbin "General/Sprites/Shields/Super Sonic Stars.bin"
		.balign 2
ArtUnc_InstaShield:
		.incbin "General/Sprites/Shields/Insta-Shield.bin"
		.balign 2
ArtUnc_FireShield:
		.incbin "General/Sprites/Shields/Fire Shield.bin"
		.balign 2
ArtUnc_LightningShield:
		.incbin "General/Sprites/Shields/Lightning Shield.bin"
		.balign 2
ArtUnc_Obj_Lightning_Shield_Sparks:
		.incbin "General/Sprites/Shields/Sparks.bin"
		.balign 2
ArtUnc_BubbleShield:
		.incbin "General/Sprites/Shields/Bubble Shield.bin"
		.balign 2
ArtNem_2PDashdust:
		.incbin "General/2P Zone/Nemesis Art/Spindash Dust.bin"
		.balign 2
MapEni_S3TitleSonic1:
		.incbin "General/Title/Enigma Map/S3 Sonic 1.bin"
		.balign 2
MapEni_S3TitleSonic2:
		.incbin "General/Title/Enigma Map/S3 Sonic 2.bin"
		.balign 2
MapEni_S3TitleSonic3:
		.incbin "General/Title/Enigma Map/S3 Sonic 3.bin"
		.balign 2
MapEni_S3TitleSonic4:
		.incbin "General/Title/Enigma Map/S3 Sonic 4.bin"
		.balign 2
MapEni_S3TitleSonic5:
		.incbin "General/Title/Enigma Map/S3 Sonic 5.bin"
		.balign 2
MapEni_S3TitleSonic6:
		.incbin "General/Title/Enigma Map/S3 Sonic 6.bin"
		.balign 2
MapEni_S3TitleSonic7:
		.incbin "General/Title/Enigma Map/S3 Sonic 7.bin"
		.balign 2
MapEni_S3TitleSonic8:
		.incbin "General/Title/Enigma Map/S3 Sonic 8.bin"
		.balign 2
MapEni_S3TitleSonic9:
		.incbin "General/Title/Enigma Map/S3 Sonic 9.bin"
		.balign 2
MapEni_S3TitleSonicA:
		.incbin "General/Title/Enigma Map/S3 Sonic A.bin"
		.balign 2
MapEni_S3TitleSonicB:
		.incbin "General/Title/Enigma Map/S3 Sonic B.bin"
		.balign 2
MapEni_S3TitleSonicC:
		.incbin "General/Title/Enigma Map/S3 Sonic C.bin"
		.balign 2
MapEni_S3TitleSonicD:
		.incbin "General/Title/Enigma Map/S3 Sonic D.bin"
		.balign 2
MapEni_S3TitleBg:
		.incbin "General/Title/Enigma Map/S3 BG.bin"
		.balign 2
Map_S3TitleBanner:
		.include "General/Title/Map - S3 Banner.S"
ArtNem_Title_S3Banner:
		.incbin "General/Title/Nemesis Art/S3 Banner.bin"
		.balign 2
ArtKos_S3TitleSonic1:
		.incbin "General/Title/Kosinski Art/S3 Sonic 1.bin"
		.balign 2
ArtKos_S3TitleSonic8:
		.incbin "General/Title/Kosinski Art/S3 Sonic 8.bin"
		.balign 2
ArtKos_S3TitleSonic9:
		.incbin "General/Title/Kosinski Art/S3 Sonic 9.bin"
		.balign 2
ArtKos_S3TitleSonicA:
		.incbin "General/Title/Kosinski Art/S3 Sonic A.bin"
		.balign 2
ArtKos_S3TitleSonicB:
		.incbin "General/Title/Kosinski Art/S3 Sonic B.bin"
		.balign 2
ArtKos_S3TitleSonicC:
		.incbin "General/Title/Kosinski Art/S3 Sonic C.bin"
		.balign 2
ArtKos_S3TitleSonicD:
		.incbin "General/Title/Kosinski Art/S3 Sonic D.bin"
		.balign 0x100
ArtNem_GrayButton:
		.incbin "General/Sprites/Buttons/Gray Button.bin"
		.balign 2
ArtNem_VerticalSpring:
		.incbin "General/Sprites/Level Misc/Vertical Spring.bin"
		.balign 2
ArtNem_HorizontalSpring:
		.incbin "General/Sprites/Level Misc/Horizontal Spring.bin"
		.balign 2
ArtNem_DiagonalSpring:
		.incbin "General/Sprites/Level Misc/Diagonal Spring.bin"
		.balign 2
ArtNem_HUDText:	.incbin "General/Sprites/HUD Icon/HUD Text.bin"
		.balign 2
ArtNem_SonicLifeIcon:
		.incbin "General/Sprites/HUD Icon/Sonic life icon.bin"
		.balign 2
ArtNem_TailsLifeIcon:
		.incbin "General/Sprites/HUD Icon/Tails Life Icon.bin"
		.balign 2
ArtNem_KnucklesLifeIcon:
		.incbin "General/Sprites/HUD Icon/Knuckles life icon.bin"
		.balign 2
ArtNem_Ring:	.incbin "General/Sprites/Ring/Ring.bin"
		.balign 2
ArtNem_Monitors:.incbin "General/Sprites/Monitors/Monitors.bin"
		.balign 2
ArtNem_VerticalSpikes:
		.incbin "General/Sprites/Level Misc/Vertical Spikes.bin"
		.balign 2
ArtNem_HorizontalSpikes:
		.incbin "General/Sprites/Level Misc/Horizontal Spikes.bin"
		.balign 2
ArtNem_EnemyPoints:
		.incbin "General/Sprites/Enemy Misc/Enemy Points.bin"
		.balign 2
ArtNem_StarPost:.incbin "General/Sprites/Starpost/Starpost.bin"
		.balign 2
ArtNem_S2Signpost:
		.incbin "General/Sprites/S2Menu/Signpost.bin"
		.balign 2
ArtNem_Bubbles:	.incbin "General/Sprites/Bubbles/Bubbles.bin"
		.balign 2
ArtNem_GameOver:.incbin "General/Sprites/Game Over/GameOver.bin"
		.balign 2
ArtNem_Explosion:
		.incbin "General/Sprites/Enemy Misc/Explosion.bin"
		.balign 2
ArtNem_ContinueTails:
		.incbin "General/Sprites/S2Menu/Tails Continue Sprites.bin"
		.balign 2
ArtNem_MiniSonic:
		.incbin "General/Sprites/S2Menu/Sonic Continue Icon.bin"
		.balign 2
ArtNem_MiniTails:
		.incbin "General/Sprites/S2Menu/Tails Continue Icon.bin"
		.balign 2
ArtNem_SpikesSprings:
		.incbin "General/Sprites/Level Misc/SpikesSprings.bin"
		.balign 2
ArtNem_RingHUDText:
		.incbin "General/Sprites/Ring/RingHUDText.bin"
		.balign 2
ArtNem_EnemyPtsStarPost:
		.incbin "General/Sprites/Enemy Misc/EnemyPtsStarpost.bin"
		.balign 2
ArtNem_Seal:	.incbin "General/Sprites/Animals/Seal.bin"
		.balign 2
ArtNem_Pig:	.incbin "General/Sprites/Animals/Pig.bin"
		.balign 2
ArtNem_BlueFlicky:
		.incbin "General/Sprites/Animals/Blue Flicky.bin"
		.balign 2
ArtNem_Chicken:	.incbin "General/Sprites/Animals/Chicken.bin"
		.balign 2
ArtNem_Penguin:	.incbin "General/Sprites/Animals/Penguin.bin"
		.balign 2
ArtNem_Squirrel:.incbin "General/Sprites/Animals/Squirrel.bin"
		.balign 2
ArtNem_Rabbit:	.incbin "General/Sprites/Animals/Rabbit.bin"
		.balign 2
Map_RobotnikShip:
		.include "General/Sprites/Robotnik/Map - Robotnik Ship.S"
Map_FBZRobotnikRun:
		.include "Levels/FBZ/Misc Object Data/Map - Robotnik Run.S"
Map_FBZRobotnikHead:
		.include "Levels/FBZ/Misc Object Data/Map - Robotnik Head.S"
Map_LBZMiniboss:
		.include "Levels/LBZ/Misc Object Data/Map - Miniboss.S"
Map_LBZMinibossBox:
		.include "Levels/LBZ/Misc Object Data/Map - Miniboss Box.S"
Map_SnaleBlaster:
		.include "General/Sprites/Snail Blaster/Map - Snail Blaster.S"
Map_Orbinaut:	.include "General/Sprites/Orbinaut/Map - Orbinaut.S"
Map_Ribot:	.include "General/Sprites/Ribot/Map - Ribot.S"
Map_Corkey:	.include "General/Sprites/Corkey/Map - Corkey.S"
Map_Flybot767:	.include "General/Sprites/Flybot/Map - Flybot.S"
DPLC_Flybot:	.include "General/Sprites/Flybot/DPLC - Flybot.S"
Map_LBZEndBoss:
		.include "Levels/LBZ/Misc Object Data/Map - End Boss.S"
Map_CNZEndBoss:
		.include "Levels/CNZ/Misc Object Data/Map - End Boss.S"
CNZEndBossMagnet_AngleX:
		.byte    0,   1,   2,   3,   4,   5,   6,   8,   9,  0xA,  0xB,  0xC,  0xD,  0xE,  0xF, 0x10
		.byte  0x11, 0x12, 0x13, 0x14, 0x15, 0x16, 0x17, 0x18, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1E
		.byte  0x1F, 0x20, 0x21, 0x21, 0x22, 0x23, 0x23, 0x24, 0x25, 0x25, 0x26, 0x26, 0x27, 0x27, 0x28, 0x28
		.byte  0x29, 0x29, 0x29, 0x2A, 0x2A, 0x2A, 0x2B, 0x2B, 0x2B, 0x2B, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C, 0x2C
LBZFinalBoss2_CircleLookup:
		.byte    0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  0xA,  0xB,  0xC,  0xD,  0xD,  0xE
		.byte   0xF, 0x10, 0x11, 0x12, 0x13, 0x14, 0x15, 0x15, 0x16, 0x17, 0x18, 0x19, 0x19, 0x1A, 0x1B, 0x1C
		.byte  0x1C, 0x1D, 0x1E, 0x1E, 0x1F, 0x20, 0x20, 0x21, 0x21, 0x22, 0x22, 0x23, 0x23, 0x24, 0x24, 0x25
		.byte  0x25, 0x25, 0x26, 0x26, 0x26, 0x27, 0x27, 0x27, 0x27, 0x27, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28
Map_FBZMiniboss:.include "Levels/FBZ/Misc Object Data/Map - Miniboss.S"
Map_FBZEggCapsule:
		.include "Levels/FBZ/Misc Object Data/Map - Egg Capsule S3.S"
Map_Blastoid:	.include "General/Sprites/Blastoid/Map - Blastoid.S"
Map_Toxomister:	.include "General/Sprites/Toxomister/Map - Toxomister S3.S"
Map_Poindexter:	.include "General/Sprites/Pointdexter/Map - Pointdexter.S"
Map_Buggernaut:	.include "General/Sprites/Buggernaut/Map - Buggernaut.S"
Map_MegaChomper:.include "General/Sprites/Mega Chomper/Map - Mega Chomper.S"
Map_Dragonfly:	.include "General/Sprites/Dragonfly/Map - Dragonfly.S"
DPLC_Cluckoid:	.include "General/Sprites/Cluckoid/DPLC - Cluckoid.S"
Map_CluckoidArrow:
		.include "General/Sprites/Cluckoid/Map - Cluckoid Arrow.S"
Map_Cluckoid:	.include "General/Sprites/Cluckoid/Map - Cluckoid.S"
Map_Butterdroid:.include "General/Sprites/Butterdroid/Map - Butterdroid.S"
DPLC_Butterdroid:
		.include "General/Sprites/Butterdroid/DPLC - Butterdroid.S"
Map_TurboSpiker:.include "General/Sprites/Turbo Spiker/Map - Turbo Spiker.S"
Map_FirewormSegments:
		.include "General/Sprites/Fireworm/Map - Fireworm Segments.S"
DPLC_Fireworm:	.include "General/Sprites/Fireworm/DPLC - Fireworm.S"
Map_Fireworm:	.include "General/Sprites/Fireworm/Map - Fireworm.S"
Map_Jawz:	.include "General/Sprites/Jawz/Map - Jawz.S"
Map_Mushmeanie:	.include "General/Sprites/Mushmeanie/Map - Mushmeanie.S"
Map_Madmole:	.include "General/Sprites/Madmole/Map - Madmole S3.S"
Map_Iwamodoki:	.include "General/Sprites/Iwamodoki/Map - Iwamodoki S3.S"
DPLC_RhinoBot:	.include "General/Sprites/Rhino/DPLC - RhinoBot.S"
Map_RhinoBot:	.include "General/Sprites/Rhino/Map - RhinoBot.S"
		.word 0xA
		.word 0x1C
		.word 0x24
		.word 0x2C
		.word 0x34
Map_BossExplosion:
		.include "General/Sprites/Boss Explosion/Map - Boss Explosion.S"
Map_AIZMinibossFlame:
		.include "Levels/AIZ/Misc Object Data/Map - Miniboss Flame.S"
Map_FBZEndBossFlame:
		.include "Levels/FBZ/Misc Object Data/Map - End Boss Flame.S"
Map_Tulipon:	.include "General/Sprites/Tulipon/Map - Tulipon.S"
Map_MonkeyDude:	.include "General/Sprites/Monkey Dude/Map - Monkey Dude.S"
Map_SOZMiniboss:.include "Levels/SOZ/Misc Object Data/Map - Miniboss.S"
Map_MGZMiniBoss:.include "Levels/MGZ/Misc Object Data/Map - Miniboss.S"
Map_CaterKillerJr:
		.include "General/Sprites/Caterkiller Jr/Map - Caterkiller Jr.S"
DPLC_Clamer:	.include "General/Sprites/Clamer/DPLC - Clamer.S"
Map_Clamer:	.include "General/Sprites/Clamer/Map - Clamer.S"
Map_CNZBlastoid:.include "Levels/CNZ/Misc Object Data/Map - Blastoid.S"
Map_Batbot:	.include "General/Sprites/Batbot/Map - Batbot.S"
DPLC_BubblesBadnik:
		.include "General/Sprites/Bubbles Badnik/DPLC - Bubbles Badnik.S"
Map_BubblesBadnik:
		.include "General/Sprites/Bubbles Badnik/Map - Bubbles Badnik.S"
Map_Spiker:	.include "General/Sprites/Spiker/Map - Spiker.S"
Map_Mantis:	.include "General/Sprites/Mantis/Map - Mantis.S"
Map_Blaster:	.include "General/Sprites/Blaster/Map - Blaster.S"
DPLC_Penguinator:
		.include "General/Sprites/Penguinator/DPLC - Penguinator.S"
Map_Penguinator:.include "General/Sprites/Penguinator/Map - Penguinator.S"
Map_ICZSnowdust:.include "Levels/ICZ/Misc Object Data/Map - Snowdust.S"
Map_TechnoSqueek:
		.include "General/Sprites/Technosqueek/Map - Technosqueek.S"
Map_StarPointer:.include "General/Sprites/Star Pointer/Map - Star Pointer.S"
Map_AIZEndBoss:	.include "Levels/AIZ/Misc Object Data/Map - End Boss.S"
Map_AIZMiniboss:.include "Levels/AIZ/Misc Object Data/Map - Miniboss.S"
Map_AIZMinibossSmall:
		.include "Levels/AIZ/Misc Object Data/Map - Miniboss Small.S"
Map_MGZEndBoss:	.include "Levels/MGZ/Misc Object Data/Map - End Boss.S"
HCZMiniboss_RocketTwistLookup:
		.byte  0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x17, 0x17, 0x17, 0x17, 0x17, 0x17, 0x16
		.byte  0x16, 0x16, 0x16, 0x15, 0x15, 0x15, 0x15, 0x14, 0x14, 0x14, 0x13, 0x13, 0x13, 0x12, 0x12, 0x11
		.byte  0x11, 0x11, 0x10, 0x10,  0xF,  0xF,  0xE,  0xE,  0xD,  0xD,  0xC,  0xC,  0xB,  0xB,  0xA,  0xA
		.byte    9,   9,   8,   8,   7,   6,   6,   5,   5,   4,   4,   3,   2,   2,   1,   1
		.byte    0, 0xFF, 0xFF, 0xFE, 0xFE, 0xFD, 0xFC, 0xFC, 0xFB, 0xFB, 0xFA, 0xFA, 0xF9, 0xF8, 0xF8, 0xF7
		.byte  0xF7, 0xF6, 0xF6, 0xF5, 0xF5, 0xF4, 0xF4, 0xF3, 0xF3, 0xF2, 0xF2, 0xF1, 0xF1, 0xF0, 0xF0, 0xEF
		.byte  0xEF, 0xEF, 0xEE, 0xEE, 0xED, 0xED, 0xED, 0xEC, 0xEC, 0xEC, 0xEB, 0xEB, 0xEB, 0xEB, 0xEA, 0xEA
		.byte  0xEA, 0xEA, 0xE9, 0xE9, 0xE9, 0xE9, 0xE9, 0xE9, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8
FBZEndBoss_CircleLookup1:
		.byte    0,   2,   4,   5,   7,   9,  0xB,  0xC,  0xE, 0x10, 0x11, 0x13, 0x15, 0x17, 0x18, 0x1A
		.byte  0x1C, 0x1D, 0x1F, 0x20, 0x22, 0x23, 0x25, 0x27, 0x28, 0x29, 0x2B, 0x2C, 0x2E, 0x2F, 0x30, 0x32
		.byte  0x33, 0x34, 0x35, 0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F, 0x3F, 0x40, 0x41, 0x42
		.byte  0x43, 0x43, 0x44, 0x44, 0x45, 0x45, 0x46, 0x46, 0x47, 0x47, 0x47, 0x47, 0x48, 0x48, 0x48, 0x48
FBZEndBoss_CircleLookup2:
		.byte    0,   1,   2,   2,   3,   4,   5,   5,   6,   7,   8,   9,   9,  0xA,  0xB,  0xC
		.byte   0xC,  0xD,  0xE,  0xE,  0xF, 0x10, 0x10, 0x11, 0x12, 0x12, 0x13, 0x14, 0x14, 0x15, 0x15, 0x16
		.byte  0x17, 0x17, 0x18, 0x18, 0x19, 0x19, 0x1A, 0x1A, 0x1B, 0x1B, 0x1B, 0x1C, 0x1C, 0x1D, 0x1D, 0x1D
		.byte  0x1E, 0x1E, 0x1E, 0x1E, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20
LBZ2FinalBoss2_CircleLookup2:
		.byte    0,   0,   1,   1,   2,   2,   3,   3,   4,   4,   5,   5,   6,   6,   7,   7
		.byte    8,   8,   9,   9,   9,  0xA,  0xA,  0xB,  0xB,  0xC,  0xC,  0xC,  0xD,  0xD,  0xD,  0xE
		.byte   0xE,  0xE,  0xF,  0xF,  0xF, 0x10, 0x10, 0x10, 0x11, 0x11, 0x11, 0x11, 0x12, 0x12, 0x12, 0x12
		.byte  0x12, 0x13, 0x13, 0x13, 0x13, 0x13, 0x13, 0x14, 0x14, 0x14, 0x14, 0x14, 0x14, 0x14, 0x14, 0x14
Map_HCZMiniboss:.include "Levels/HCZ/Misc Object Data/Map - Miniboss.S"
Map_HCZMinibossSplash:
		.include "Levels/HCZ/Misc Object Data/Map - Miniboss Splash.S"
DPLC_HCZMinibossSplash:
		.include "Levels/HCZ/Misc Object Data/DPLC - Miniboss Splash.S"
Map_ICZEndBoss:	.include "Levels/ICZ/Misc Object Data/Map - End Boss.S"
PalSPtr_CNZMinibossNormal:	palscriptptr .header, .data
		.word 0
.header	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1

.data	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	6, 0x020
	palscriptloop	.headr2

.headr2	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	4, 0x020
	palscriptloop	.headr3

.headr3	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	2, 0x020
	palscriptloop	.headr4

.headr4	palscripthdr	Normal_palette_line_2+0x14, 1, 0xB-1
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	1, 0x020
	palscriptrun

PalSPtr_CNZMinibossSparks:	palscriptptr .header, .data
		.word 0
.header	palscripthdr	Normal_palette_line_2+0x14, 1, 0x31-1

.data	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	1, 0x020
	palscriptloop	.headr2

.headr2	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	2, 0x020
	palscriptloop	.headr3

.headr3	palscripthdr	Normal_palette_line_2+0x14, 1, 4-1
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	4, 0x020
	palscriptloop	.headr4

.headr4	palscripthdr	Normal_palette_line_2+0x14, 1, 2-1
	palscriptdata	96, 0x020
	palscriptloop	PalSPtr_CNZMinibossNormal.headr3

PalSPtr_CNZMinibossOpen:	palscriptptr .header, .data
		.word 0
.header	palscripthdr	Normal_palette_line_2+0x14, 1, 0

.data	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	2, 0x020
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	8, 0x020
	palscriptdata	1, 0xEEE
	palscriptdata	1, 0xA22
	palscriptdata	3, 0x020
	palscriptrept

Map_CNZMiniboss:.include "Levels/CNZ/Misc Object Data/Map - Miniboss.S"
word_16322C:	palscriptptr .header, .data
		.word 0

.header	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
.data	palscriptdata	8, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr2

.headr2	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	6, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr3

.headr3	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	4, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr4

.headr4	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	2, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr5

.headr5	palscripthdr	Normal_palette_line_2+0x14, 1, 0
	palscriptdata	1, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptrept

word_163298:	palscriptptr .header, .data
		.word 0

.header	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
.data	palscriptdata	2, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr2

.headr2	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	4, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr3

.headr3	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	6, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr4

.headr4	palscripthdr	Normal_palette_line_2+0x14, 1, 3-1
	palscriptdata	8, 0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptloop	.headr5

.headr5	palscripthdr	Normal_palette_line_2+0x14, 1, 5-1
	palscriptdata	10,0x222
	palscriptdata	1, 0xC22
	palscriptdata	1, 0xEE0
	palscriptrun
ICZMiniboss_OrbAngleLookup:
		.byte    0,   1,   2,   4,   5,   6,   7,   8,   9,  0xB,  0xC,  0xD,  0xE,  0xF, 0x10, 0x11
		.byte  0x12, 0x13, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1E, 0x1F, 0x20, 0x21
		.byte  0x22, 0x23, 0x24, 0x24, 0x25, 0x26, 0x27, 0x27, 0x28, 0x29, 0x29, 0x2A, 0x2A, 0x2B, 0x2B, 0x2C
		.byte  0x2C, 0x2D, 0x2D, 0x2E, 0x2E, 0x2E, 0x2F, 0x2F, 0x2F, 0x2F, 0x2F, 0x30, 0x30, 0x30, 0x30, 0x30
Map_ICZMiniboss:.include "Levels/ICZ/Misc Object Data/Map - Miniboss.S"
Map_FBZEndBoss:	.include "Levels/FBZ/Misc Object Data/Map - End Boss.S"
Map_HCZEndBoss:	.include "Levels/HCZ/Misc Object Data/Map - End Boss.S"
Map_MGZEndBossDebris:
		.include "Levels/MGZ/Misc Object Data/Map - End Boss Debris.S"
Map_FBZ2Subboss:.include "Levels/FBZ/Misc Object Data/Map - Act 2 Subboss S3.S"
Map_FBZRobotnikStand:
		.include "Levels/FBZ/Misc Object Data/Map - Robotnik Stand.S"
Map_ICZWallAndColumn:
		.include "Levels/ICZ/Misc Object Data/Map - Wall and Column.S"
Map_ICZPlatforms:
		.include "Levels/ICZ/Misc Object Data/Map - Platforms.S"
DPLC_EndSigns:	.include "General/Sprites/Signpost/DPLC - End Signs.S"
Map_EndSigns:	.include "General/Sprites/Signpost/Map - End Signs.S"
Map_SignpostStub:
		.include "General/Sprites/Signpost/Map - Signpost Stub.S"
Map_EggCapsule:	.include "General/Sprites/Robotnik/Map - Egg Capsule S3.S"
Map_LBZKnuxBomb:.include "Levels/LBZ/Misc Object Data/Map - Knuckles Bomb.S"
Map_CutsceneKnux:
		.include "General/Sprites/Knuckles/Cutscene/Map - Cutscene Knuckles.S"
DPLC_CutsceneKnux:
		.include "General/Sprites/Knuckles/Cutscene/DPLC - Cutscene Knuckles.S"
Map_AIZIntroPlane:
		.include "Levels/AIZ/Misc Object Data/Map - Intro Plane.S"
Map_AIZIntroEmeralds:
		.include "Levels/AIZ/Misc Object Data/Map - Intro Emeralds.S"
Map_LBZFinalBoss1:
		.include "Levels/LBZ/Misc Object Data/Map - Final Boss 1.S"
Map_LBZDeathEggSmall:
		.include "Levels/LBZ/Misc Object Data/Map - Death Egg Small.S"
Pal_MGZFadeCNZ:	.incbin "Levels/Misc/Palettes/MGZ Fade to CNZ.bin"
		.balign 2
Map_LBZFinalBoss2:
		.include "Levels/LBZ/Misc Object Data/Map - Final Boss 2.S"
ArtNem_AIZMiniboss:
		.incbin "Levels/AIZ/Nemesis Art/Miniboss.bin"
		.balign 2
ArtKosM_AIZEndBoss:
		.incbin "Levels/AIZ/KosinskiM Art/End Boss.bin"
		.balign 2
ArtNem_AIZMinibossSmall:
		.incbin "Levels/AIZ/Nemesis Art/Miniboss Small.bin"
		.balign 2
ArtUnc_AIZRhino:.incbin "General/Sprites/Rhino/Rhino.bin"
		.balign 2
ArtKosM_AIZ_Tulipon:
		.incbin "General/Sprites/Tulipon/Tulipon.bin"
		.balign 2
ArtKosM_AIZ_MonkeyDude:
		.incbin "General/Sprites/Monkey Dude/Monkey Dude.bin"
		.balign 2
ArtKosM_AIZ_CaterkillerJr:
		.incbin "General/Sprites/Caterkiller Jr/Caterkiller Jr.bin"
		.balign 2
ArtNem_HCZMiniboss:
		.incbin "Levels/HCZ/Nemesis Art/Miniboss.bin"
		.balign 2
ArtNem_HCZEndBoss:
		.incbin "Levels/HCZ/Nemesis Art/End Boss.bin"
		.balign 2
ArtNem_HCZDragonfly:
		.incbin "Levels/HCZ/Nemesis Art/Dragonfly.bin"
		.balign 2
ArtKosM_Jawz:	.incbin "General/Sprites/Jawz/Jawz.bin"
		.balign 2
ArtKosM_MegaChopper:
		.incbin "General/Sprites/Mega Chopper/Mega Chopper.bin"
		.balign 2
ArtKosM_Blastoid:
		.incbin "General/Sprites/Blastoid/Blastoid.bin"
		.balign 2
ArtKosM_TurboSpiker:
		.incbin "General/Sprites/Turbo Spiker/Turbo Spiker.bin"
		.balign 2
ArtKosM_Pointdexter:
		.incbin "General/Sprites/Pointdexter/Pointdexter.bin"
		.balign 2
ArtKosM_MGZMiniboss:
		.incbin "Levels/MGZ/KosinskiM Art/Miniboss.bin"
		.balign 2
ArtNem_MGZSpire:.incbin "Levels/MGZ/Nemesis Art/Spire.bin"
		.balign 2
ArtKosM_MGZEndBoss:
		.incbin "Levels/MGZ/KosinskiM Art/End Boss.bin"
		.balign 2
ArtScaled_MGZEndBoss:
		.incbin "Levels/MGZ/Misc/MGZ End Boss Scaled.bin"
		.balign 2
ArtKosM_MGZEndBossDebris:
		.incbin "Levels/MGZ/KosinskiM Art/End Boss Debris.bin"
		.balign 2
ArtUnc_BubblesBadnik:
		.incbin "General/Sprites/Bubbles Badnik/Bubbles Badnik.bin"
		.balign 2
ArtKosM_Spiker:	.incbin "General/Sprites/Spiker/Spiker.bin"
		.balign 2
ArtKosM_Mantis:	.incbin "General/Sprites/Mantis/Mantis.bin"
		.balign 2
ArtNem_CNZMiniboss:
		.incbin "Levels/CNZ/Nemesis Art/Miniboss.bin"
		.balign 2
ArtNem_CNZEndBoss:
		.incbin "Levels/CNZ/Nemesis Art/End Boss.bin"
		.balign 2
ArtUnc_Clamer:	.incbin "General/Sprites/Clamer/Clamer.bin"
		.balign 2
ArtKosM_ClamerShot:
		.incbin "General/Sprites/Clamer/Clamer Shot.bin"
		.balign 2
ArtKosM_Sparkle:.incbin "General/Sprites/Sparkle/Sparkle.bin"
		.balign 2
ArtKosM_Batbot:	.incbin "General/Sprites/Batbot/Batbot.bin"
		.balign 2
ArtKosM_CNZBalloon:
		.incbin "Levels/CNZ/KosinskiM Art/Balloon.bin"
		.balign 2
ArtNem_FBZMiniboss:
		.incbin "Levels/FBZ/Nemesis Art/S3 Miniboss.bin"
		.balign 2
ArtNem_FBZ2Subboss:
		.incbin "Levels/FBZ/Nemesis Art/Act 2 Subboss.bin"
		.balign 2
ArtNem_FBZEndBoss:
		.incbin "Levels/FBZ/Nemesis Art/End Boss.bin"
		.balign 2
ArtKosM_Blaster:.incbin "General/Sprites/Blaster/Blaster.bin"
		.balign 2
ArtKosM_Technosqueek:
		.incbin "General/Sprites/Technosqueek/Technosqueek.bin"
		.balign 2
ArtNem_ICZMisc1:.incbin "Levels/ICZ/Nemesis Art/Misc Art 1.bin"
		.balign 2
ArtNem_ICZIntroSprites:
		.incbin "Levels/ICZ/Nemesis Art/Intro Sprites.bin"
		.balign 2
ArtNem_ICZMisc2:.incbin "Levels/ICZ/Nemesis Art/Misc Art 2.bin"
		.balign 2
ArtNem_ICZEndBoss:
		.incbin "Levels/ICZ/Nemesis Art/End Boss.bin"
		.balign 2
ArtNem_ICZMiniboss:
		.incbin "Levels/ICZ/Nemesis Art/Miniboss.bin"
		.balign 2
ArtUnc_Penguinator:
		.incbin "General/Sprites/Penguinator/Penguinator.bin"
		.balign 2
ArtKosM_ICZSnowdust:
		.incbin "Levels/ICZ/KosinskiM Art/Snowdust.bin"
		.balign 2
ArtKosM_StarPointer:
		.incbin "General/Sprites/Star Pointer/Star Pointer.bin"
		.balign 2
ArtKosM_LBZMiniboss:
		.incbin "Levels/LBZ/KosinskiM Art/Miniboss.bin"
		.balign 2
ArtKosM_LBZMinibossBox:
		.incbin "Levels/LBZ/KosinskiM Art/Miniboss Box.bin"
		.balign 2
ArtNem_LBZFinalBoss1:
		.incbin "Levels/LBZ/Nemesis Art/Final Boss 1.bin"
		.balign 2
ArtKosM_LBZEndBoss:
		.incbin "Levels/LBZ/KosinskiM Art/End Boss.bin"
		.balign 2
ArtKosM_LBZFinalBoss2:
		.incbin "Levels/LBZ/KosinskiM Art/Final Boss 2.bin"
		.balign 2
ArtKosM_SnailBlaster:
		.incbin "General/Sprites/Snail Blaster/Snail Blaster.bin"
		.balign 2
ArtKosM_Ribot:	.incbin "General/Sprites/Ribot/Ribot.bin"
		.balign 2
ArtKosM_Orbinaut:
		.incbin "General/Sprites/Orbinaut/Orbinaut.bin"
		.balign 2
ArtKosM_Corkey:	.incbin "General/Sprites/Corkey/Corkey.bin"
		.balign 2
ArtUnc_Flybot:	.incbin "General/Sprites/Flybot/Flybot.bin"
		.balign 2
ArtNem_LBZKnuxBomb:
		.incbin "Levels/LBZ/Nemesis Art/Knuckles Bomb.bin"
		.balign 2
ArtKosM_LBZ2DeathEggSmall:
		.incbin "Levels/LBZ/KosinskiM Art/Act 2 Death Egg Small.bin"
		.balign 2
ArtScaled_FleeingRobotnik:
		.incbin "General/Sprites/Robotnik/Robotnik Fly Scaled.bin"
		.balign 2
ArtKosM_LBZ2DeathEgg2_8x8:
		.incbin "Levels/LBZ/Tiles/Act 2 Death Egg 2.bin"
		.balign 2
ArtNem_BossExplosion:
		.incbin "General/Sprites/Boss Explosion/Boss Explosion.bin"
		.balign 2
ArtNem_AIZBossFire:
		.incbin "Levels/AIZ/Nemesis Art/Miniboss Fire.bin"
		.balign 2
ArtNem_FBZEndBossFlame:
		.incbin "Levels/FBZ/Nemesis Art/End Boss Flame.bin"
		.balign 2
ArtNem_RobotnikShip:
		.incbin "General/Sprites/Robotnik/Ship.bin"
		.balign 2
ArtNem_FBZRobotnikHead:
		.incbin "General/Sprites/Robotnik/FBZ Robotnik Head.bin"
		.balign 2
ArtNem_FBZRobotnikStand:
		.incbin "General/Sprites/Robotnik/FBZ Robotnik Stand.bin"
		.balign 2
ArtNem_FBZRobotnikRun:
		.incbin "General/Sprites/Robotnik/FBZ Robotnik Run.bin"
		.balign 2
ArtUnc_EndSigns:.incbin "General/Sprites/Signpost/End Signs.bin"
		.balign 2
ArtNem_SignpostStub:
		.incbin "General/Sprites/Signpost/Stub.bin"
		.balign 2
ArtNem_EggCapsule:
		.incbin "General/Sprites/Robotnik/Egg Capsule.bin"
		.balign 2
ArtKosM_AIZIntroPlane:
		.incbin "Levels/AIZ/KosinskiM Art/Intro Plane.bin"
		.balign 2
ArtUnc_CutsceneKnux:
		.incbin "General/Sprites/Knuckles/Cutscene/Cutscene Main.bin"
		.balign 2
ArtKosM_AIZIntroEmeralds:
		.incbin "Levels/AIZ/KosinskiM Art/Intro Emeralds.bin"
		.balign 2
ArtUnc_SSEntryRing:
		.incbin "General/Sprites/SS Entry/Entry Ring.bin"
		.balign 2
ArtUnc_SSEntryFlash:
		.incbin "General/Sprites/SS Entry/Entry Flash.bin"
		.balign 2
ArtKosM_BadnikExplosion:
		.incbin "General/Sprites/SS Entry/Badnik Explosion.bin"
		.balign 2
ArtNem_BonusStage:
		.incbin "General/Sprites/Bonus/Bonus Stage.bin"
		.balign 2
ArtKosM_SonicEndPose:
		.incbin "General/Ending/KosinskiM Art/Sonic 3 Sonic Ending Pose.bin"
		.balign 2
ArtKosM_TailsEndPose:
		.incbin "General/Ending/KosinskiM Art/Tails Ending Pose.bin"
		.balign 2
ArtKosM_SuperSonicEndPose:
		.incbin "General/Ending/KosinskiM Art/Sonic 3 Super Sonic Ending Pose.bin"
		.balign 2
ArtNem_ContinueText:
		.incbin "General/Ending/Nemesis Art/S3 Large Text.bin"
		.balign 2
ArtNem_S38x16Font:
		.incbin "General/Ending/Nemesis Art/S3 8x16 Font.bin"
		.balign 2
ArtNem_AIZCorkFloor:
		.incbin "Levels/AIZ/Nemesis Art/Cork Floor 1.bin"
		.balign 2
ArtNem_AIZCorkFloor2:
		.incbin "Levels/AIZ/Nemesis Art/Cork Floor 2.bin"
		.balign 2
ArtNem_AIZSwingVine:
		.incbin "Levels/AIZ/Nemesis Art/Swing Vine.bin"
		.balign 2
ArtNem_AIZSlideRope:
		.incbin "Levels/AIZ/Nemesis Art/Zip Vine.bin"
		.balign 2
ArtNem_AIZBackgroundTree:
	.incbin "Levels/AIZ/Nemesis Art/BG Tree.bin"
		.balign 2
ArtNem_AIZMisc1:.incbin "Levels/AIZ/Nemesis Art/Misc Art 1.bin"
		.balign 2
ArtNem_AIZFallingLog:
		.incbin "Levels/AIZ/Nemesis Art/Falling Log.bin"
		.balign 2
ArtNem_AIZMisc2:.incbin "Levels/AIZ/Nemesis Art/Misc Art 2.bin"
		.balign 2
ArtNem_HCZSpikeBall:
		.incbin "Levels/HCZ/Nemesis Art/Spike Ball.bin"
		.balign 2
ArtNem_HCZWaveSplash:
		.incbin "Levels/HCZ/Nemesis Art/Wave Splash.bin"
		.balign 2
ArtNem_HCZButton:
		.incbin "Levels/HCZ/Nemesis Art/Button.bin"
		.balign 2
ArtNem_HCZMisc:	.incbin "Levels/HCZ/Nemesis Art/Misc Art.bin"
		.balign 2
ArtNem_HCZWaterRush:
		.incbin "Levels/HCZ/Nemesis Art/Water Rush.bin"
		.balign 2
ArtKosM_HCZLargeFan:
		.incbin "Levels/HCZ/KosinskiM Art/Large Fan.bin"
		.balign 2
ArtKosM_HCZGeyserHorz:
		.incbin "Levels/HCZ/KosinskiM Art/Geyser Horizontal.bin"
		.balign 2
ArtKosM_HCZGeyserVert:
		.incbin "Levels/HCZ/KosinskiM Art/Geyser Vertical.bin"
		.balign 2
ArtNem_HCZ2Slide:
		.incbin "Levels/HCZ/Nemesis Art/Act 2 Slide.bin"
		.balign 2
ArtNem_HCZ2BlockPlat:
		.incbin "Levels/HCZ/Nemesis Art/Act 2  Block Platform.bin"
		.balign 2
ArtUnc_HCZWaterSplash2:
		.incbin "Levels/HCZ/Animated Tiles/Water Splash 2.bin"
		.balign 2
ArtUnc_HCZWaterSplash:
		.incbin "Levels/HCZ/Animated Tiles/Water Splash.bin"
		.balign 2
ArtNem_HCZ2KnuxWall:
		.incbin "Levels/HCZ/Nemesis Art/Act 2  Knuckles Wall.bin"
		.balign 2
ArtNem_MGZMisc1:.incbin "Levels/MGZ/Nemesis Art/Misc Art 1.bin"
		.balign 2
ArtNem_MGZMisc2:.incbin "Levels/MGZ/Nemesis Art/Misc Art 2.bin"
		.balign 2
ArtNem_MGZSigns:.incbin "Levels/MGZ/Nemesis Art/Direction Signs.bin"
		.balign 2
ArtNem_CNZMisc:	.incbin "Levels/CNZ/Nemesis Art/Misc Art.bin"
		.balign 2
ArtNem_CNZPlatform:
		.incbin "Levels/CNZ/Nemesis Art/Platform.bin"
		.balign 2
ArtNem_LBZMisc:	.incbin "Levels/LBZ/Nemesis Art/Misc Art.bin"
		.balign 2
ArtNem_LBZTubeTrans:
		.incbin "Levels/LBZ/Nemesis Art/Tube Transport.bin"
		.balign 2
ArtNem_LBZ2Misc:.incbin "Levels/LBZ/Nemesis Art/Act 2 Misc Art.bin"
		.balign 2
ArtNem_2PArt_1:	.incbin "General/2P Zone/Nemesis Art/Misc Art 1.bin"
		.balign 2
ArtNem_2PArt_2:	.incbin "General/2P Zone/Nemesis Art/Misc Art 2.bin"
		.balign 2
ArtNem_2PArt_3:	.incbin "General/2P Zone/Nemesis Art/Misc Art 3.bin"
		.balign 2
ArtNem_2PStartPost:
		.incbin "General/2P Zone/Nemesis Art/Start Post.bin"
		.balign 2
ArtNem_2PTime:	.incbin "General/2P Zone/Nemesis Art/Time Display.bin"
		.balign 2
ArtNem_2PLapNum:.incbin "General/2P Zone/Nemesis Art/Lap Numbers.bin"
		.balign 2
ArtNem_2PPosIcon:
		.incbin "General/2P Zone/Nemesis Art/Position Icons.bin"
		.balign 2
ArtNem_BPZMisc:	.incbin "Levels/BPZ/Nemesis Art/Misc Art.bin"
		.balign 2
ArtNem_DPZMisc:	.incbin "Levels/DPZ/Nemesis Art/Misc Art.bin"
		.balign 2
ArtNem_CGZMisc:	.incbin "Levels/CGZ/Nemesis Art/Platform.bin"
		.balign 2
ArtNem_EMZMisc:	.incbin "Levels/EMZ/Nemesis Art/Misc Art.bin"
		.balign 2
ArtKosM_AIZ2Bombership2_8x8:
		.incbin "Levels/AIZ/Tiles/Act 2 Bombership 2.bin"
		.balign 2
ArtKosM_ResultsSONIC:
		.incbin "General/Sprites/Results/Results SONIC S3.bin"
		.balign 2
ArtKosM_ResultsMILES:
		.incbin "General/Sprites/Results/Results MILES.bin"
		.balign 2
ArtKosM_ResultsTAILS:
		.incbin "General/Sprites/Results/Results TAILS.bin"
		.balign 2
ArtKosM_ResultsKNUCKLES:
		.incbin "General/Sprites/Results/Results KNUCKLES.bin"
		.balign 2
ArtKosM_ResultsGeneral:
		.incbin "General/Sprites/Results/Results General.bin"
		.balign 2
ArtKosM_TitleCardNum1:
		.incbin "General/Sprites/Title Card/Title Card Number 1.bin"
		.balign 2
ArtKosM_TitleCardNum2:
		.incbin "General/Sprites/Title Card/Title Card Number 2.bin"
		.balign 2
ArtKosM_SSResults:
		.word 0x1220
ArtKos_SSResultsGeneral:
		.incbin "General/Special Stage/Kosinski Art/S3 SSResults General.bin"
		.balign 2
ArtKos_SSResultsTKIcons:
		.incbin "General/Special Stage/Kosinski Art/S3 SSResults Tails Knuckles Icons.bin"
		.balign 2
ArtKosM_TitleCardRedAct:
		.incbin "General/Sprites/Title Card/Title Card Red ACT.bin"
		.balign 2
ArtKosM_AIZTitleCard:
		.incbin "Levels/AIZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_HCZTitleCard:
		.incbin "Levels/HCZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_MGZTitleCard:
		.incbin "Levels/MGZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_CNZTitleCard:
		.incbin "Levels/CNZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_FBZTitleCard:
		.incbin "Levels/FBZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_ICZTitleCard:
		.incbin "Levels/ICZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_LBZTitleCard:
		.incbin "Levels/LBZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_ALZTitleCard:
		.incbin "Levels/ALZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_BPZTitleCard:
		.incbin "Levels/BPZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_CGZTitleCard:
		.incbin "Levels/CGZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_DPZTitleCard:
		.incbin "Levels/DPZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_EMZTitleCard:
		.incbin "Levels/EMZ/KosinskiM Art/Title Card.bin"
		.balign 2
ArtKosM_BonusTitleCard:
		.incbin "General/Sprites/Title Card/Bonus Title Card.bin"
		.balign 2
Pal_SaveMenuBG:	.incbin "General/Save Menu/Palettes/BG.bin"
		.balign 2
Pal_CompetitionMenuBG:
		.incbin "General/Competition Menu/Palettes/BG.bin"
		.balign 2
MapEni_S3MenuBG:.incbin "General/Title/Enigma Map/S3 Menu BG.bin"
		.balign 2
ArtKos_S3MenuBG:.incbin "General/Save Menu/Kosinski Art/Menu BG.bin"
		.balign 2
MapEni_CompetitionLevBorder:
		.incbin "General/Competition Menu/Enigma Map/Level Border.bin"
		.balign 2
MapUnc_CompetitionTimeBorder:
		.incbin "General/Competition Menu/Uncompressed Map/Time Border.bin"
		.balign 2
MapUnc_CompetitionBESTTIME:
		.incbin "General/Competition Menu/Uncompressed Map/Time Text.bin"
		.balign 2
MapEni_CompetitionLevImage:
		.incbin "General/Competition Menu/Enigma Map/Level Images.bin"
		.balign 2
MapEni_CompetitionLevName:
		.incbin "General/Competition Menu/Enigma Map/Level Names.bin"
		.balign 2
ArtKos_CompetitionMode:
		.incbin "General/Competition Menu/Kosinski Art/Mode Select.bin"
		.balign 2
ArtKos_CompetitionLevel:
		.incbin "General/Competition Menu/Kosinski Art/Level Select.bin"
		.balign 2
ArtKos_CompetitionResults:
		.incbin "General/Competition Menu/Kosinski Art/Results.bin"
		.balign 2
Map_CompetitionPlayerSprite:
		.include "General/Competition Menu/Map - Competition Player Sprites.S"
ArtKos_CompetitionPlayer:
		.incbin "General/Competition Menu/Kosinski Art/Player Sprites.bin"
		.balign 2
MapEni_SaveScreen_Layout:
		.incbin "General/Save Menu/Enigma Map/Save Screen Layout.bin"
		.balign 2
MapUnc_SaveScreenNEW:
		.incbin "General/Save Menu/Uncompressed Map/NEW.bin"
		.balign 2
MapPtrs_SaveScreenStatic:
		.long MapUnc_SaveScreenStatic1
		.long MapUnc_SaveScreenStatic2
		.long MapUnc_SaveScreenStatic3
		.long MapUnc_SaveScreenStatic4
MapUnc_SaveScreenStatic1:
		.incbin "General/Save Menu/Uncompressed Map/Static 1.bin"
		.balign 2
MapUnc_SaveScreenStatic2:
		.incbin "General/Save Menu/Uncompressed Map/Static 2.bin"
		.balign 2
MapUnc_SaveScreenStatic3:
		.incbin "General/Save Menu/Uncompressed Map/Static 3.bin"
		.balign 2
MapUnc_SaveScreenStatic4:
		.incbin "General/Save Menu/Uncompressed Map/Static 4.bin"
		.balign 2
ArtKos_SaveScreenMisc:
		.incbin "General/Save Menu/Kosinski Art/Misc.bin"
		.balign 2
AIZ1_16x16_Primary_Kos:
		.incbin "Levels/AIZ/Blocks/Act 1 Primary.bin"
		.balign 2
AIZ1_16x16_Secondary_Kos:
		.incbin "Levels/AIZ/Blocks/Act 1 Secondary.bin"
		.balign 2
AIZ1_16x16_MainLevel_Kos:
		.incbin "Levels/AIZ/Blocks/Act 1 Main Level.bin"
		.balign 2
AIZ1_8x8_Primary_KosM:
		.incbin "Levels/AIZ/Tiles/Act 1 Primary.bin"
		.balign 2
AIZ1_8x8_Secondary_KosM:
		.incbin "Levels/AIZ/Tiles/Act 1 Secondary.bin"
		.balign 2
AIZ1_8x8_MainLevel_KosM:
		.incbin "Levels/AIZ/Tiles/Act 1 Main Level.bin"
		.balign 2
AIZ1_128x128_Kos:
		.incbin "Levels/AIZ/Chunks/Act 1.bin"
		.balign 2
AIZ1_8x8_Flames_KosM:
		.incbin "Levels/AIZ/Tiles/Act 1 Fire Overlay.bin"
		.balign 2
AIZ2_16x16_Primary_Kos:
		.incbin "Levels/AIZ/Blocks/Act 2 Primary.bin"
		.balign 2
AIZ2_16x16_Secondary_Kos:
		.incbin "Levels/AIZ/Blocks/Act 2 Secondary.bin"
		.balign 2
AIZ2_16x16_BomberShip_Kos:
		.incbin "Levels/AIZ/Blocks/Act 2 BomberShip.bin"
		.balign 2
AIZ2_8x8_Primary_KosM:
		.incbin "Levels/AIZ/Tiles/Act 2 Primary.bin"
		.balign 2
AIZ2_8x8_Secondary_KosM:
		.incbin "Levels/AIZ/Tiles/Act 2 Secondary.bin"
		.balign 2
AIZ2_8x8_BomberShip_KosM:
		.incbin "Levels/AIZ/Tiles/Act 2 Bombership.bin"
		.balign 2
AIZ2_128x128_Kos:
		.incbin "Levels/AIZ/Chunks/Act 2.bin"
		.balign 2
HCZ_16x16_Primary_Kos:
		.incbin "Levels/HCZ/Blocks/Primary.bin"
		.balign 2
HCZ_8x8_Primary_KosM:
		.incbin "Levels/HCZ/Tiles/Primary.bin"
		.balign 2
HCZ_128x128_Primary_Kos:
		.incbin "Levels/HCZ/Chunks/Primary.bin"
		.balign 2
HCZ1_16x16_Secondary_Kos:
		.incbin "Levels/HCZ/Blocks/Act 1 Secondary.bin"
		.balign 2
HCZ1_8x8_Secondary_KosM:
		.incbin "Levels/HCZ/Tiles/Act 1 Secondary.bin"
		.balign 2
HCZ1_128x128_Secondary_Kos:
		.incbin "Levels/HCZ/Chunks/Act 1 Secondary.bin"
		.balign 2
HCZ2_16x16_Secondary_Kos:
		.incbin "Levels/HCZ/Blocks/Act 2 Secondary.bin"
		.balign 2
HCZ2_8x8_Secondary_KosM:
		.incbin "Levels/HCZ/Tiles/Act 2 Secondary.bin"
		.balign 2
HCZ2_128x128_Secondary_Kos:
		.incbin "Levels/HCZ/Chunks/Act 2 Secondary.bin"
		.balign 2
MGZ_16x16_Primary_Kos:
		.incbin "Levels/MGZ/Blocks/Primary.bin"
		.balign 2
MGZ_8x8_Primary_KosM:
		.incbin "Levels/MGZ/Tiles/Primary.bin"
		.balign 2
MGZ_128x128_Primary_Kos:
		.incbin "Levels/MGZ/Chunks/Primary.bin"
		.balign 2
MGZ1_16x16_Secondary_Kos:
		.incbin "Levels/MGZ/Blocks/Act 1 Secondary.bin"
		.balign 2
MGZ1_8x8_Secondary_KosM:
		.incbin "Levels/MGZ/Tiles/Act 1 Secondary.bin"
		.balign 2
MGZ1_128x128_Secondary_Kos:
		.incbin "Levels/MGZ/Chunks/Act 1 Secondary.bin"
		.balign 2
MGZ2_16x16_Secondary_Kos:
		.incbin "Levels/MGZ/Blocks/Act 2 Secondary.bin"
		.balign 2
MGZ2_8x8_Secondary_KosM:
		.incbin "Levels/MGZ/Tiles/Act 2 Secondary.bin"
		.balign 2
MGZ2_128x128_Secondary_Kos:
		.incbin "Levels/MGZ/Chunks/Act 2 Secondary.bin"
		.balign 2
MGZ2_QuakeChunks:
		.incbin "Levels/MGZ/Misc/Act 2 Quake Chunks.bin"
		.balign 2
CNZ_16x16_Kos:	.incbin "Levels/CNZ/Blocks/Primary.bin"
		.balign 2
CNZ_8x8_KosM:	.incbin "Levels/CNZ/Tiles/Primary.bin"
		.balign 2
CNZ_128x128_Kos:.incbin "Levels/CNZ/Chunks/Primary.bin"
		.balign 2
FBZ_16x16_Kos:
ArtKosM_FBZ:
FBZ_128x128_Kos:
ICZ_16x16_Primary_Kos:
		.incbin "Levels/ICZ/Blocks/Primary.bin"
		.balign 2
ICZ_8x8_Primary_KosM:
		.incbin "Levels/ICZ/Tiles/Primary.bin"
		.balign 2
ICZ_128x128_Primary_Kos:
		.incbin "Levels/ICZ/Chunks/Primary.bin"
		.balign 2
ICZ1_16x16_Secondary_Kos:
		.incbin "Levels/ICZ/Blocks/Act 1 Secondary.bin"
		.balign 2
ICZ1_8x8_Secondary_KosM:
		.incbin "Levels/ICZ/Tiles/Act 1 Secondary.bin"
		.balign 2
ICZ1_128x128_Secondary_Kos:
		.incbin "Levels/ICZ/Chunks/Act 1 Secondary.bin"
		.balign 2
ICZ2_16x16_Secondary_Kos:
		.incbin "Levels/ICZ/Blocks/Act 2 Secondary.bin"
		.balign 2
ICZ2_8x8_Secondary_KosM:
		.incbin "Levels/ICZ/Tiles/Act 2 Secondary.bin"
		.balign 2
ICZ2_128x128_Secondary_Kos:
		.incbin "Levels/ICZ/Chunks/Act 2 Secondary.bin"
		.balign 2
LBZ_16x16_Primary_Kos:
		.incbin "Levels/LBZ/Blocks/Primary.bin"
		.balign 2
LBZ1_16x16_Secondary_Kos:
		.incbin "Levels/LBZ/Blocks/Act 1 Secondary.bin"
		.balign 2
LBZ_8x8_Primary_KosM:
		.incbin "Levels/LBZ/Tiles/Primary.bin"
		.balign 2
LBZ1_8x8_Secondary_KosM:
		.incbin "Levels/LBZ/Tiles/Act 1 Secondary.bin"
		.balign 2
LBZ1_Unknown_Kos:
		.incbin "Levels/LBZ/Chunks/Unknown Unused.bin"
		.balign 2
LBZ1_128x128_Kos:
		.incbin "Levels/LBZ/Chunks/Act 1.bin"
		.balign 2
LBZ2_16x16_Secondary_Kos:
		.incbin "Levels/LBZ/Blocks/Act 2 Secondary.bin"
		.balign 2
LBZ2_16x16_DeathEgg_Kos:
		.incbin "Levels/LBZ/Blocks/Act 2 Death Egg.bin"
		.balign 2
LBZ2_8x8_Secondary_KosM:
		.incbin "Levels/LBZ/Tiles/Act 2 Secondary.bin"
		.balign 2
LBZ2_8x8_DeathEgg_KosM:
		.incbin "Levels/LBZ/Tiles/Act 2 Death Egg.bin"
		.balign 2
LBZ2_128x128_Kos:
		.incbin "Levels/LBZ/Chunks/Act 2.bin"
		.balign 2
LBZ2_128x128_DeathEgg_Kos:
		.incbin "Levels/LBZ/Chunks/Act 2 Death Egg.bin"
		.balign 2
MHZ_16x16_Kos:
ArtKosM_MHZ:
MHZ_128x128_Kos:
LRZ_16x16_Kos:
ArtKosM_LRZ:
LRZ_128x128_Kos:
ALZ_16x16_Kos:	.incbin "Levels/ALZ/Blocks/Primary.bin"
		.balign 2
ALZ_8x8_KosM:	.incbin "Levels/ALZ/Tiles/Primary.bin"
		.balign 2
ALZ_128x128_Kos:.incbin "Levels/ALZ/Chunks/Primary.bin"
		.balign 2
BPZ_16x16_Kos:	.incbin "Levels/BPZ/Blocks/Primary.bin"
		.balign 2
BPZ_8x8_KosM:	.incbin "Levels/BPZ/Tiles/Primary.bin"
		.balign 2
BPZ_128x128_Kos:.incbin "Levels/BPZ/Chunks/Primary.bin"
		.balign 2
DPZ_16x16_Kos:	.incbin "Levels/DPZ/Blocks/Primary.bin"
		.balign 2
DPZ_8x8_KosM:	.incbin "Levels/DPZ/Tiles/Primary.bin"
		.balign 2
DPZ_128x128_Kos:.incbin "Levels/DPZ/Chunks/Primary.bin"
		.balign 2
CGZ_16x16_Kos:	.incbin "Levels/CGZ/Blocks/Primary.bin"
		.balign 2
CGZ_8x8_KosM:	.incbin "Levels/CGZ/Tiles/Primary.bin"
		.balign 2
CGZ_128x128_Kos:.incbin "Levels/CGZ/Chunks/Primary.bin"
		.balign 2
EMZ_16x16_Kos:	.incbin "Levels/EMZ/Blocks/Primary.bin"
		.balign 2
EMZ_8x8_KosM:	.incbin "Levels/EMZ/Tiles/Primary.bin"
		.balign 2
EMZ_128x128_Kos:.incbin "Levels/EMZ/Chunks/Primary.bin"
		.balign 2
Gumball_16x16_Kos:
		.incbin "Levels/Gumball/Blocks/Primary.bin"
		.balign 2
Gumball_8x8_KosM:
		.incbin "Levels/Gumball/Tiles/Gumball.bin"
		.balign 2
Gumball_128x128_Kos:
		.incbin "Levels/Gumball/Chunks/Primary.bin"
Pachinko_16x16_Kos:
ArtKosM_Pachinko:
Pachinko_128x128_Kos:
Slots_16x16_Kos:
ArtKosM_Slots:
Slots_128x128_Kos:
		org 0x200000
EndOfROM:
		END
